(this["webpackJsonp@builder.io/app"]=this["webpackJsonp@builder.io/app"]||[]).push([[0],{2033:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",function(){return isDisposable}),__webpack_require__.d(__webpack_exports__,"f",function(){return dispose}),__webpack_require__.d(__webpack_exports__,"e",function(){return combinedDisposable}),__webpack_require__.d(__webpack_exports__,"h",function(){return toDisposable}),__webpack_require__.d(__webpack_exports__,"b",function(){return DisposableStore}),__webpack_require__.d(__webpack_exports__,"a",function(){return Disposable}),__webpack_require__.d(__webpack_exports__,"d",function(){return MutableDisposable}),__webpack_require__.d(__webpack_exports__,"c",function(){return ImmortalReference});var TRACK_DISPOSABLES=!1,__is_disposable_tracked__="__is_disposable_tracked__";function markTracked(x){if(TRACK_DISPOSABLES&&x&&x!==Disposable.None)try{x[__is_disposable_tracked__]=!0}catch{}}function trackDisposable(x){if(!TRACK_DISPOSABLES)return x;var stack=new Error("Potentially leaked disposable").stack;return setTimeout(function(){x[__is_disposable_tracked__]||console.log(stack)},3e3),x}function isDisposable(thing){return typeof thing.dispose=="function"&&thing.dispose.length===0}function dispose(disposables){return Array.isArray(disposables)?(disposables.forEach(function(d){d&&(markTracked(d),d.dispose())}),[]):disposables?(markTracked(disposables),disposables.dispose(),disposables):void 0}function combinedDisposable(){for(var disposables=[],_i=0;_i<arguments.length;_i++)disposables[_i]=arguments[_i];return disposables.forEach(markTracked),trackDisposable({dispose:function(){return dispose(disposables)}})}function toDisposable(fn){var self2=trackDisposable({dispose:function(){markTracked(self2),fn()}});return self2}var DisposableStore=function(){function DisposableStore2(){this._toDispose=new Set,this._isDisposed=!1}return DisposableStore2.prototype.dispose=function(){this._isDisposed||(markTracked(this),this._isDisposed=!0,this.clear())},DisposableStore2.prototype.clear=function(){this._toDispose.forEach(function(item){return item.dispose()}),this._toDispose.clear()},DisposableStore2.prototype.add=function(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return markTracked(t),this._isDisposed?console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t},DisposableStore2}(),Disposable=function(){function Disposable2(){this._store=new DisposableStore,trackDisposable(this)}return Disposable2.prototype.dispose=function(){markTracked(this),this._store.dispose()},Disposable2.prototype._register=function(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)},Disposable2.None=Object.freeze({dispose:function(){}}),Disposable2}(),MutableDisposable=function(){function MutableDisposable2(){this._isDisposed=!1,trackDisposable(this)}return Object.defineProperty(MutableDisposable2.prototype,"value",{get:function(){return this._isDisposed?void 0:this._value},set:function(value){this._isDisposed||value===this._value||(this._value&&this._value.dispose(),value&&markTracked(value),this._value=value)},enumerable:!0,configurable:!0}),MutableDisposable2.prototype.clear=function(){this.value=void 0},MutableDisposable2.prototype.dispose=function(){this._isDisposed=!0,markTracked(this),this._value&&this._value.dispose(),this._value=void 0},MutableDisposable2}(),ImmortalReference=function(){function ImmortalReference2(object){this.object=object}return ImmortalReference2.prototype.dispose=function(){},ImmortalReference2}()},2056:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Range});var _position_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2233),Range=function(){function Range2(startLineNumber,startColumn,endLineNumber,endColumn){startLineNumber>endLineNumber||startLineNumber===endLineNumber&&startColumn>endColumn?(this.startLineNumber=endLineNumber,this.startColumn=endColumn,this.endLineNumber=startLineNumber,this.endColumn=startColumn):(this.startLineNumber=startLineNumber,this.startColumn=startColumn,this.endLineNumber=endLineNumber,this.endColumn=endColumn)}return Range2.prototype.isEmpty=function(){return Range2.isEmpty(this)},Range2.isEmpty=function(range){return range.startLineNumber===range.endLineNumber&&range.startColumn===range.endColumn},Range2.prototype.containsPosition=function(position){return Range2.containsPosition(this,position)},Range2.containsPosition=function(range,position){return!(position.lineNumber<range.startLineNumber||position.lineNumber>range.endLineNumber||position.lineNumber===range.startLineNumber&&position.column<range.startColumn||position.lineNumber===range.endLineNumber&&position.column>range.endColumn)},Range2.prototype.containsRange=function(range){return Range2.containsRange(this,range)},Range2.containsRange=function(range,otherRange){return!(otherRange.startLineNumber<range.startLineNumber||otherRange.endLineNumber<range.startLineNumber||otherRange.startLineNumber>range.endLineNumber||otherRange.endLineNumber>range.endLineNumber||otherRange.startLineNumber===range.startLineNumber&&otherRange.startColumn<range.startColumn||otherRange.endLineNumber===range.endLineNumber&&otherRange.endColumn>range.endColumn)},Range2.prototype.strictContainsRange=function(range){return Range2.strictContainsRange(this,range)},Range2.strictContainsRange=function(range,otherRange){return!(otherRange.startLineNumber<range.startLineNumber||otherRange.endLineNumber<range.startLineNumber||otherRange.startLineNumber>range.endLineNumber||otherRange.endLineNumber>range.endLineNumber||otherRange.startLineNumber===range.startLineNumber&&otherRange.startColumn<=range.startColumn||otherRange.endLineNumber===range.endLineNumber&&otherRange.endColumn>=range.endColumn)},Range2.prototype.plusRange=function(range){return Range2.plusRange(this,range)},Range2.plusRange=function(a,b){var startLineNumber,startColumn,endLineNumber,endColumn;return b.startLineNumber<a.startLineNumber?(startLineNumber=b.startLineNumber,startColumn=b.startColumn):b.startLineNumber===a.startLineNumber?(startLineNumber=b.startLineNumber,startColumn=Math.min(b.startColumn,a.startColumn)):(startLineNumber=a.startLineNumber,startColumn=a.startColumn),b.endLineNumber>a.endLineNumber?(endLineNumber=b.endLineNumber,endColumn=b.endColumn):b.endLineNumber===a.endLineNumber?(endLineNumber=b.endLineNumber,endColumn=Math.max(b.endColumn,a.endColumn)):(endLineNumber=a.endLineNumber,endColumn=a.endColumn),new Range2(startLineNumber,startColumn,endLineNumber,endColumn)},Range2.prototype.intersectRanges=function(range){return Range2.intersectRanges(this,range)},Range2.intersectRanges=function(a,b){var resultStartLineNumber=a.startLineNumber,resultStartColumn=a.startColumn,resultEndLineNumber=a.endLineNumber,resultEndColumn=a.endColumn,otherStartLineNumber=b.startLineNumber,otherStartColumn=b.startColumn,otherEndLineNumber=b.endLineNumber,otherEndColumn=b.endColumn;return resultStartLineNumber<otherStartLineNumber?(resultStartLineNumber=otherStartLineNumber,resultStartColumn=otherStartColumn):resultStartLineNumber===otherStartLineNumber&&(resultStartColumn=Math.max(resultStartColumn,otherStartColumn)),resultEndLineNumber>otherEndLineNumber?(resultEndLineNumber=otherEndLineNumber,resultEndColumn=otherEndColumn):resultEndLineNumber===otherEndLineNumber&&(resultEndColumn=Math.min(resultEndColumn,otherEndColumn)),resultStartLineNumber>resultEndLineNumber||resultStartLineNumber===resultEndLineNumber&&resultStartColumn>resultEndColumn?null:new Range2(resultStartLineNumber,resultStartColumn,resultEndLineNumber,resultEndColumn)},Range2.prototype.equalsRange=function(other){return Range2.equalsRange(this,other)},Range2.equalsRange=function(a,b){return!!a&&!!b&&a.startLineNumber===b.startLineNumber&&a.startColumn===b.startColumn&&a.endLineNumber===b.endLineNumber&&a.endColumn===b.endColumn},Range2.prototype.getEndPosition=function(){return new _position_js__WEBPACK_IMPORTED_MODULE_0__.a(this.endLineNumber,this.endColumn)},Range2.prototype.getStartPosition=function(){return new _position_js__WEBPACK_IMPORTED_MODULE_0__.a(this.startLineNumber,this.startColumn)},Range2.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},Range2.prototype.setEndPosition=function(endLineNumber,endColumn){return new Range2(this.startLineNumber,this.startColumn,endLineNumber,endColumn)},Range2.prototype.setStartPosition=function(startLineNumber,startColumn){return new Range2(startLineNumber,startColumn,this.endLineNumber,this.endColumn)},Range2.prototype.collapseToStart=function(){return Range2.collapseToStart(this)},Range2.collapseToStart=function(range){return new Range2(range.startLineNumber,range.startColumn,range.startLineNumber,range.startColumn)},Range2.fromPositions=function(start,end){return end===void 0&&(end=start),new Range2(start.lineNumber,start.column,end.lineNumber,end.column)},Range2.lift=function(range){return range?new Range2(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn):null},Range2.isIRange=function(obj){return obj&&typeof obj.startLineNumber=="number"&&typeof obj.startColumn=="number"&&typeof obj.endLineNumber=="number"&&typeof obj.endColumn=="number"},Range2.areIntersectingOrTouching=function(a,b){return!(a.endLineNumber<b.startLineNumber||a.endLineNumber===b.startLineNumber&&a.endColumn<b.startColumn||b.endLineNumber<a.startLineNumber||b.endLineNumber===a.startLineNumber&&b.endColumn<a.startColumn)},Range2.areIntersecting=function(a,b){return!(a.endLineNumber<b.startLineNumber||a.endLineNumber===b.startLineNumber&&a.endColumn<=b.startColumn||b.endLineNumber<a.startLineNumber||b.endLineNumber===a.startLineNumber&&b.endColumn<=a.startColumn)},Range2.compareRangesUsingStarts=function(a,b){if(a&&b){var aStartLineNumber=a.startLineNumber|0,bStartLineNumber=b.startLineNumber|0;if(aStartLineNumber===bStartLineNumber){var aStartColumn=a.startColumn|0,bStartColumn=b.startColumn|0;if(aStartColumn===bStartColumn){var aEndLineNumber=a.endLineNumber|0,bEndLineNumber=b.endLineNumber|0;if(aEndLineNumber===bEndLineNumber){var aEndColumn=a.endColumn|0,bEndColumn=b.endColumn|0;return aEndColumn-bEndColumn}return aEndLineNumber-bEndLineNumber}return aStartColumn-bStartColumn}return aStartLineNumber-bStartLineNumber}var aExists=a?1:0,bExists=b?1:0;return aExists-bExists},Range2.compareRangesUsingEnds=function(a,b){return a.endLineNumber===b.endLineNumber?a.endColumn===b.endColumn?a.startLineNumber===b.startLineNumber?a.startColumn-b.startColumn:a.startLineNumber-b.startLineNumber:a.endColumn-b.endColumn:a.endLineNumber-b.endLineNumber},Range2.spansMultipleLines=function(range){return range.endLineNumber>range.startLineNumber},Range2}()},2069:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return localize});function _format(message,args){var result;return args.length===0?result=message:result=message.replace(/\{(\d+)\}/g,function(match,rest){var index=rest[0];return typeof args[index]<"u"?args[index]:match}),result}function localize(data,message){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];return _format(message,args)}},2099:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Command}),__webpack_require__.d(__webpack_exports__,"c",function(){return EditorCommand}),__webpack_require__.d(__webpack_exports__,"b",function(){return EditorAction}),__webpack_require__.d(__webpack_exports__,"j",function(){return registerLanguageCommand}),__webpack_require__.d(__webpack_exports__,"e",function(){return registerDefaultLanguageCommand}),__webpack_require__.d(__webpack_exports__,"g",function(){return registerEditorCommand}),__webpack_require__.d(__webpack_exports__,"f",function(){return registerEditorAction}),__webpack_require__.d(__webpack_exports__,"i",function(){return registerInstantiatedEditorAction}),__webpack_require__.d(__webpack_exports__,"h",function(){return registerEditorContribution}),__webpack_require__.d(__webpack_exports__,"d",function(){return EditorExtensionsRegistry});var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2176),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2640),_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2732),_common_core_position_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2233),_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2817),_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3233),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3164),_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2733),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2238),_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3234),_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2818),_platform_telemetry_common_telemetry_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3365),_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2631),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),Command=function(){function Command2(opts){this.id=opts.id,this.precondition=opts.precondition,this._kbOpts=opts.kbOpts,this._menuOpts=opts.menuOpts,this._description=opts.description}return Command2.prototype.register=function(){var _this=this;if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){var kbWhen=this._kbOpts.kbExpr;this.precondition&&(kbWhen?kbWhen=_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.a.and(kbWhen,this.precondition):kbWhen=this.precondition),_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_9__.a.registerCommandAndKeybindingRule({id:this.id,handler:function(accessor,args){return _this.runCommand(accessor,args)},weight:this._kbOpts.weight,when:kbWhen,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_7__.a.registerCommand({id:this.id,handler:function(accessor,args){return _this.runCommand(accessor,args)},description:this._description})},Command2.prototype._registerMenuItem=function(item){_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_6__.c.appendMenuItem(item.menuId,{group:item.group,command:{id:this.id,title:item.title},when:item.when,order:item.order})},Command2}(),EditorCommand=function(_super){__extends(EditorCommand2,_super);function EditorCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return EditorCommand2.bindToContribution=function(controllerGetter){return function(_super2){__extends(EditorControllerCommandImpl,_super2);function EditorControllerCommandImpl(opts){var _this=_super2.call(this,opts)||this;return _this._callback=opts.handler,_this}return EditorControllerCommandImpl.prototype.runEditorCommand=function(accessor,editor,args){var controller=controllerGetter(editor);controller&&this._callback(controllerGetter(editor),args)},EditorControllerCommandImpl}(EditorCommand2)},EditorCommand2.prototype.runCommand=function(accessor,args){var _this=this,codeEditorService=accessor.get(_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_2__.a),editor=codeEditorService.getFocusedCodeEditor()||codeEditorService.getActiveCodeEditor();if(editor)return editor.invokeWithinContext(function(editorAccessor){var kbService=editorAccessor.get(_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.c);if(kbService.contextMatchesRules(Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__.n)(_this.precondition)))return _this.runEditorCommand(editorAccessor,editor,args)})},EditorCommand2}(Command),EditorAction=function(_super){__extends(EditorAction2,_super);function EditorAction2(opts){var _this=_super.call(this,EditorAction2.convertOptions(opts))||this;return _this.label=opts.label,_this.alias=opts.alias,_this}return EditorAction2.convertOptions=function(opts){var menuOpts;Array.isArray(opts.menuOpts)?menuOpts=opts.menuOpts:opts.menuOpts?menuOpts=[opts.menuOpts]:menuOpts=[];function withDefaults(item){return item.menuId||(item.menuId=7),item.title||(item.title=opts.label),item.when=_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.a.and(opts.precondition,item.when),item}return Array.isArray(opts.contextMenuOpts)?menuOpts.push.apply(menuOpts,opts.contextMenuOpts.map(withDefaults)):opts.contextMenuOpts&&menuOpts.push(withDefaults(opts.contextMenuOpts)),opts.menuOpts=menuOpts,opts},EditorAction2.prototype.runEditorCommand=function(accessor,editor,args){return this.reportTelemetry(accessor,editor),this.run(accessor,editor,args||{})},EditorAction2.prototype.reportTelemetry=function(accessor,editor){accessor.get(_platform_telemetry_common_telemetry_js__WEBPACK_IMPORTED_MODULE_11__.a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})},EditorAction2}(EditorCommand);function registerLanguageCommand(id,handler){_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_7__.a.registerCommand(id,function(accessor,args){return handler(accessor,args||{})})}function registerDefaultLanguageCommand(id,handler){registerLanguageCommand(id,function(accessor,args){var resource=args.resource,position=args.position;if(!(resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_1__.a))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.b)("resource");if(!_common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a.isIPosition(position))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.b)("position");var model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_4__.a).getModel(resource);if(model){var editorPosition=_common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a.lift(position);return handler(model,editorPosition,args)}return accessor.get(_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_5__.a).createModelReference(resource).then(function(reference){return new Promise(function(resolve,reject){try{var result=handler(reference.object.textEditorModel,_common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a.lift(position),args);resolve(result)}catch(err){reject(err)}}).finally(function(){reference.dispose()})})})}function registerEditorCommand(editorCommand){return EditorContributionRegistry.INSTANCE.registerEditorCommand(editorCommand),editorCommand}function registerEditorAction(ctor){EditorContributionRegistry.INSTANCE.registerEditorAction(new ctor)}function registerInstantiatedEditorAction(editorAction){EditorContributionRegistry.INSTANCE.registerEditorAction(editorAction)}function registerEditorContribution(id,ctor){EditorContributionRegistry.INSTANCE.registerEditorContribution(id,ctor)}var EditorExtensionsRegistry;(function(EditorExtensionsRegistry2){function getEditorCommand(commandId){return EditorContributionRegistry.INSTANCE.getEditorCommand(commandId)}EditorExtensionsRegistry2.getEditorCommand=getEditorCommand;function getEditorActions(){return EditorContributionRegistry.INSTANCE.getEditorActions()}EditorExtensionsRegistry2.getEditorActions=getEditorActions;function getEditorContributions(){return EditorContributionRegistry.INSTANCE.getEditorContributions()}EditorExtensionsRegistry2.getEditorContributions=getEditorContributions;function getSomeEditorContributions(ids){return EditorContributionRegistry.INSTANCE.getEditorContributions().filter(function(c){return ids.indexOf(c.id)>=0})}EditorExtensionsRegistry2.getSomeEditorContributions=getSomeEditorContributions;function getDiffEditorContributions(){return EditorContributionRegistry.INSTANCE.getDiffEditorContributions()}EditorExtensionsRegistry2.getDiffEditorContributions=getDiffEditorContributions})(EditorExtensionsRegistry||(EditorExtensionsRegistry={}));var Extensions={EditorCommonContributions:"editor.contributions"},EditorContributionRegistry=function(){function EditorContributionRegistry2(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return EditorContributionRegistry2.prototype.registerEditorContribution=function(id,ctor){this.editorContributions.push({id,ctor})},EditorContributionRegistry2.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},EditorContributionRegistry2.prototype.getDiffEditorContributions=function(){return this.diffEditorContributions.slice(0)},EditorContributionRegistry2.prototype.registerEditorAction=function(action){action.register(),this.editorActions.push(action)},EditorContributionRegistry2.prototype.getEditorActions=function(){return this.editorActions.slice(0)},EditorContributionRegistry2.prototype.registerEditorCommand=function(editorCommand){editorCommand.register(),this.editorCommands[editorCommand.id]=editorCommand},EditorContributionRegistry2.prototype.getEditorCommand=function(commandId){return this.editorCommands[commandId]||null},EditorContributionRegistry2.INSTANCE=new EditorContributionRegistry2,EditorContributionRegistry2}();_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.a.add(Extensions.EditorCommonContributions,EditorContributionRegistry.INSTANCE)},2106:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Event}),__webpack_require__.d(__webpack_exports__,"a",function(){return Emitter}),__webpack_require__.d(__webpack_exports__,"e",function(){return PauseableEmitter}),__webpack_require__.d(__webpack_exports__,"d",function(){return EventMultiplexer}),__webpack_require__.d(__webpack_exports__,"c",function(){return EventBufferer}),__webpack_require__.d(__webpack_exports__,"f",function(){return Relay});var _errors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2176),_functional_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3363),_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2033),_linkedList_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3232),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),Event;(function(Event2){Event2.None=function(){return _lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a.None};function once(event){return function(listener,thisArgs,disposables){thisArgs===void 0&&(thisArgs=null);var didFire=!1,result;return result=event(function(e){if(!didFire)return result?result.dispose():didFire=!0,listener.call(thisArgs,e)},null,disposables),didFire&&result.dispose(),result}}Event2.once=once;function map(event,map2){return snapshot(function(listener,thisArgs,disposables){return thisArgs===void 0&&(thisArgs=null),event(function(i){return listener.call(thisArgs,map2(i))},null,disposables)})}Event2.map=map;function forEach(event,each){return snapshot(function(listener,thisArgs,disposables){return thisArgs===void 0&&(thisArgs=null),event(function(i){each(i),listener.call(thisArgs,i)},null,disposables)})}Event2.forEach=forEach;function filter(event,filter2){return snapshot(function(listener,thisArgs,disposables){return thisArgs===void 0&&(thisArgs=null),event(function(e){return filter2(e)&&listener.call(thisArgs,e)},null,disposables)})}Event2.filter=filter;function signal(event){return event}Event2.signal=signal;function any(){for(var events=[],_i=0;_i<arguments.length;_i++)events[_i]=arguments[_i];return function(listener,thisArgs,disposables){return thisArgs===void 0&&(thisArgs=null),_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.e.apply(void 0,events.map(function(event){return event(function(e){return listener.call(thisArgs,e)},null,disposables)}))}}Event2.any=any;function reduce(event,merge,initial){var output=initial;return map(event,function(e){return output=merge(output,e),output})}Event2.reduce=reduce;function snapshot(event){var listener,emitter=new Emitter({onFirstListenerAdd:function(){listener=event(emitter.fire,emitter)},onLastListenerRemove:function(){listener.dispose()}});return emitter.event}Event2.snapshot=snapshot;function debounce(event,merge,delay,leading,leakWarningThreshold){delay===void 0&&(delay=100),leading===void 0&&(leading=!1);var subscription,output=void 0,handle=void 0,numDebouncedCalls=0,emitter=new Emitter({leakWarningThreshold,onFirstListenerAdd:function(){subscription=event(function(cur){numDebouncedCalls++,output=merge(output,cur),leading&&!handle&&emitter.fire(output),clearTimeout(handle),handle=setTimeout(function(){var _output=output;output=void 0,handle=void 0,(!leading||numDebouncedCalls>1)&&emitter.fire(_output),numDebouncedCalls=0},delay)})},onLastListenerRemove:function(){subscription.dispose()}});return emitter.event}Event2.debounce=debounce;function stopwatch(event){var start=new Date().getTime();return map(once(event),function(_){return new Date().getTime()-start})}Event2.stopwatch=stopwatch;function latch(event){var firstCall=!0,cache;return filter(event,function(value){var shouldEmit=firstCall||value!==cache;return firstCall=!1,cache=value,shouldEmit})}Event2.latch=latch;function buffer(event,nextTick,_buffer){nextTick===void 0&&(nextTick=!1),_buffer===void 0&&(_buffer=[]);var buffer2=_buffer.slice(),listener=event(function(e){buffer2?buffer2.push(e):emitter.fire(e)}),flush=function(){buffer2&&buffer2.forEach(function(e){return emitter.fire(e)}),buffer2=null},emitter=new Emitter({onFirstListenerAdd:function(){listener||(listener=event(function(e){return emitter.fire(e)}))},onFirstListenerDidAdd:function(){buffer2&&(nextTick?setTimeout(flush):flush())},onLastListenerRemove:function(){listener&&listener.dispose(),listener=null}});return emitter.event}Event2.buffer=buffer;var ChainableEvent=function(){function ChainableEvent2(event){this.event=event}return ChainableEvent2.prototype.map=function(fn){return new ChainableEvent2(map(this.event,fn))},ChainableEvent2.prototype.forEach=function(fn){return new ChainableEvent2(forEach(this.event,fn))},ChainableEvent2.prototype.filter=function(fn){return new ChainableEvent2(filter(this.event,fn))},ChainableEvent2.prototype.reduce=function(merge,initial){return new ChainableEvent2(reduce(this.event,merge,initial))},ChainableEvent2.prototype.latch=function(){return new ChainableEvent2(latch(this.event))},ChainableEvent2.prototype.debounce=function(merge,delay,leading,leakWarningThreshold){return delay===void 0&&(delay=100),leading===void 0&&(leading=!1),new ChainableEvent2(debounce(this.event,merge,delay,leading,leakWarningThreshold))},ChainableEvent2.prototype.on=function(listener,thisArgs,disposables){return this.event(listener,thisArgs,disposables)},ChainableEvent2.prototype.once=function(listener,thisArgs,disposables){return once(this.event)(listener,thisArgs,disposables)},ChainableEvent2}();function chain(event){return new ChainableEvent(event)}Event2.chain=chain;function fromNodeEventEmitter(emitter,eventName,map2){map2===void 0&&(map2=function(id){return id});var fn=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return result.fire(map2.apply(void 0,args))},onFirstListenerAdd=function(){return emitter.on(eventName,fn)},onLastListenerRemove=function(){return emitter.removeListener(eventName,fn)},result=new Emitter({onFirstListenerAdd,onLastListenerRemove});return result.event}Event2.fromNodeEventEmitter=fromNodeEventEmitter;function fromDOMEventEmitter(emitter,eventName,map2){map2===void 0&&(map2=function(id){return id});var fn=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return result.fire(map2.apply(void 0,args))},onFirstListenerAdd=function(){return emitter.addEventListener(eventName,fn)},onLastListenerRemove=function(){return emitter.removeEventListener(eventName,fn)},result=new Emitter({onFirstListenerAdd,onLastListenerRemove});return result.event}Event2.fromDOMEventEmitter=fromDOMEventEmitter;function fromPromise(promise){var emitter=new Emitter,shouldEmit=!1;return promise.then(void 0,function(){return null}).then(function(){shouldEmit?emitter.fire(void 0):setTimeout(function(){return emitter.fire(void 0)},0)}),shouldEmit=!0,emitter.event}Event2.fromPromise=fromPromise;function toPromise(event){return new Promise(function(c){return once(event)(c)})}Event2.toPromise=toPromise})(Event||(Event={}));var _globalLeakWarningThreshold=-1,LeakageMonitor=function(){function LeakageMonitor2(customThreshold,name){name===void 0&&(name=Math.random().toString(18).slice(2,5)),this.customThreshold=customThreshold,this.name=name,this._warnCountdown=0}return LeakageMonitor2.prototype.dispose=function(){this._stacks&&this._stacks.clear()},LeakageMonitor2.prototype.check=function(listenerCount){var _this=this,threshold=_globalLeakWarningThreshold;if(typeof this.customThreshold=="number"&&(threshold=this.customThreshold),!(threshold<=0||listenerCount<threshold)){this._stacks||(this._stacks=new Map);var stack=new Error().stack.split(`
`).slice(3).join(`
`),count=this._stacks.get(stack)||0;if(this._stacks.set(stack,count+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=threshold*.5;var topStack_1,topCount_1=0;this._stacks.forEach(function(count2,stack2){(!topStack_1||topCount_1<count2)&&(topStack_1=stack2,topCount_1=count2)}),console.warn("["+this.name+"] potential listener LEAK detected, having "+listenerCount+" listeners already. MOST frequent listener ("+topCount_1+"):"),console.warn(topStack_1)}return function(){var count2=_this._stacks.get(stack)||0;_this._stacks.set(stack,count2-1)}}},LeakageMonitor2}(),Emitter=function(){function Emitter2(options){this._disposed=!1,this._options=options,this._leakageMon=_globalLeakWarningThreshold>0?new LeakageMonitor(this._options&&this._options.leakWarningThreshold):void 0}return Object.defineProperty(Emitter2.prototype,"event",{get:function(){var _this=this;return this._event||(this._event=function(listener,thisArgs,disposables){_this._listeners||(_this._listeners=new _linkedList_js__WEBPACK_IMPORTED_MODULE_3__.a);var firstListener=_this._listeners.isEmpty();firstListener&&_this._options&&_this._options.onFirstListenerAdd&&_this._options.onFirstListenerAdd(_this);var remove=_this._listeners.push(thisArgs?[listener,thisArgs]:listener);firstListener&&_this._options&&_this._options.onFirstListenerDidAdd&&_this._options.onFirstListenerDidAdd(_this),_this._options&&_this._options.onListenerDidAdd&&_this._options.onListenerDidAdd(_this,listener,thisArgs);var removeMonitor;_this._leakageMon&&(removeMonitor=_this._leakageMon.check(_this._listeners.size));var result;return result={dispose:function(){if(removeMonitor&&removeMonitor(),result.dispose=Emitter2._noop,!_this._disposed&&(remove(),_this._options&&_this._options.onLastListenerRemove)){var hasListeners=_this._listeners&&!_this._listeners.isEmpty();hasListeners||_this._options.onLastListenerRemove(_this)}}},disposables instanceof _lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.b?disposables.add(result):Array.isArray(disposables)&&disposables.push(result),result}),this._event},enumerable:!0,configurable:!0}),Emitter2.prototype.fire=function(event){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new _linkedList_js__WEBPACK_IMPORTED_MODULE_3__.a);for(var iter=this._listeners.iterator(),e=iter.next();!e.done;e=iter.next())this._deliveryQueue.push([e.value,event]);for(;this._deliveryQueue.size>0;){var _a=this._deliveryQueue.shift(),listener=_a[0],event_1=_a[1];try{typeof listener=="function"?listener.call(void 0,event_1):listener[0].call(listener[1],event_1)}catch(e2){Object(_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e2)}}}},Emitter2.prototype.dispose=function(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0},Emitter2._noop=function(){},Emitter2}(),PauseableEmitter=function(_super){__extends(PauseableEmitter2,_super);function PauseableEmitter2(options){var _this=_super.call(this,options)||this;return _this._isPaused=0,_this._eventQueue=new _linkedList_js__WEBPACK_IMPORTED_MODULE_3__.a,_this._mergeFn=options&&options.merge,_this}return PauseableEmitter2.prototype.pause=function(){this._isPaused++},PauseableEmitter2.prototype.resume=function(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){var events=this._eventQueue.toArray();this._eventQueue.clear(),_super.prototype.fire.call(this,this._mergeFn(events))}else for(;!this._isPaused&&this._eventQueue.size!==0;)_super.prototype.fire.call(this,this._eventQueue.shift())},PauseableEmitter2.prototype.fire=function(event){this._listeners&&(this._isPaused!==0?this._eventQueue.push(event):_super.prototype.fire.call(this,event))},PauseableEmitter2}(Emitter),EventMultiplexer=function(){function EventMultiplexer2(){var _this=this;this.hasListeners=!1,this.events=[],this.emitter=new Emitter({onFirstListenerAdd:function(){return _this.onFirstListenerAdd()},onLastListenerRemove:function(){return _this.onLastListenerRemove()}})}return Object.defineProperty(EventMultiplexer2.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),EventMultiplexer2.prototype.add=function(event){var _this=this,e={event,listener:null};this.events.push(e),this.hasListeners&&this.hook(e);var dispose=function(){_this.hasListeners&&_this.unhook(e);var idx=_this.events.indexOf(e);_this.events.splice(idx,1)};return Object(_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.h)(Object(_functional_js__WEBPACK_IMPORTED_MODULE_1__.a)(dispose))},EventMultiplexer2.prototype.onFirstListenerAdd=function(){var _this=this;this.hasListeners=!0,this.events.forEach(function(e){return _this.hook(e)})},EventMultiplexer2.prototype.onLastListenerRemove=function(){var _this=this;this.hasListeners=!1,this.events.forEach(function(e){return _this.unhook(e)})},EventMultiplexer2.prototype.hook=function(e){var _this=this;e.listener=e.event(function(r){return _this.emitter.fire(r)})},EventMultiplexer2.prototype.unhook=function(e){e.listener&&e.listener.dispose(),e.listener=null},EventMultiplexer2.prototype.dispose=function(){this.emitter.dispose()},EventMultiplexer2}(),EventBufferer=function(){function EventBufferer2(){this.buffers=[]}return EventBufferer2.prototype.wrapEvent=function(event){var _this=this;return function(listener,thisArgs,disposables){return event(function(i){var buffer=_this.buffers[_this.buffers.length-1];buffer?buffer.push(function(){return listener.call(thisArgs,i)}):listener.call(thisArgs,i)},void 0,disposables)}},EventBufferer2.prototype.bufferEvents=function(fn){var buffer=[];this.buffers.push(buffer);var r=fn();return this.buffers.pop(),buffer.forEach(function(flush){return flush()}),r},EventBufferer2}(),Relay=function(){function Relay2(){var _this=this;this.listening=!1,this.inputEvent=Event.None,this.inputEventListener=_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a.None,this.emitter=new Emitter({onFirstListenerDidAdd:function(){_this.listening=!0,_this.inputEventListener=_this.inputEvent(_this.emitter.fire,_this.emitter)},onLastListenerRemove:function(){_this.listening=!1,_this.inputEventListener.dispose()}}),this.event=this.emitter.event}return Object.defineProperty(Relay2.prototype,"input",{set:function(event){this.inputEvent=event,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=event(this.emitter.fire,this.emitter))},enumerable:!0,configurable:!0}),Relay2.prototype.dispose=function(){this.inputEventListener.dispose(),this.emitter.dispose()},Relay2}()},2120:function(module,exports,__webpack_require__){self.MonacoEnvironment=function(paths){function stripTrailingSlash(str){return str.replace(/\/$/,"")}return{getWorkerUrl:function(moduleId,label){var pathPrefix=__webpack_require__.p,result=(pathPrefix?stripTrailingSlash(pathPrefix)+"/":"")+paths[label];if(/^(http:)|(https:)|(file:)/.test(result)){var currentUrl=String(window.location),currentOrigin=currentUrl.substr(0,currentUrl.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(result.substring(0,currentOrigin.length)!==currentOrigin){var js="/*"+label+'*/importScripts("'+result+'");';return"data:text/javascript;charset=utf-8,"+encodeURIComponent(js)}}return result}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"}),__webpack_require__(2280),__webpack_require__(2281),__webpack_require__(2372),__webpack_require__(2282),__webpack_require__(2283),__webpack_require__(2366),__webpack_require__(2255),__webpack_require__(2369),__webpack_require__(2373),__webpack_require__(2250),__webpack_require__(2284),__webpack_require__(2374),__webpack_require__(2261),__webpack_require__(2363),__webpack_require__(2285),__webpack_require__(2367),__webpack_require__(2263),__webpack_require__(2286),__webpack_require__(2264),__webpack_require__(2256),__webpack_require__(2364),__webpack_require__(2287),__webpack_require__(2375),__webpack_require__(2288),__webpack_require__(2365),__webpack_require__(2376),__webpack_require__(2289),__webpack_require__(2368),__webpack_require__(2290),__webpack_require__(2370),__webpack_require__(2291),__webpack_require__(2377),__webpack_require__(2378),__webpack_require__(2248),__webpack_require__(2362),__webpack_require__(2292),__webpack_require__(2254),__webpack_require__(2293),__webpack_require__(2294),__webpack_require__(2257),__webpack_require__(2295),module.exports=__webpack_require__(6307),__webpack_require__(2296),__webpack_require__(2297),__webpack_require__(2298),__webpack_require__(2299),__webpack_require__(2300),__webpack_require__(2301),__webpack_require__(2302),__webpack_require__(2303),__webpack_require__(2304),__webpack_require__(2305),__webpack_require__(2306),__webpack_require__(2307),__webpack_require__(2308),__webpack_require__(2309),__webpack_require__(2310),__webpack_require__(2311),__webpack_require__(2312),__webpack_require__(2313),__webpack_require__(2314),__webpack_require__(2315),__webpack_require__(2316),__webpack_require__(2317),__webpack_require__(2318),__webpack_require__(2319),__webpack_require__(2320),__webpack_require__(2321),__webpack_require__(2322),__webpack_require__(2323),__webpack_require__(2324),__webpack_require__(2325),__webpack_require__(2326),__webpack_require__(2327),__webpack_require__(2328),__webpack_require__(2329),__webpack_require__(2330),__webpack_require__(2331),__webpack_require__(2332),__webpack_require__(2333),__webpack_require__(2334),__webpack_require__(2335),__webpack_require__(2336),__webpack_require__(2337),__webpack_require__(2338),__webpack_require__(2339),__webpack_require__(2340),__webpack_require__(2341),__webpack_require__(2342),__webpack_require__(2343),__webpack_require__(2344),__webpack_require__(2345),__webpack_require__(2346),__webpack_require__(2347),__webpack_require__(2348),__webpack_require__(2349),__webpack_require__(2350),__webpack_require__(2351),__webpack_require__(2352),__webpack_require__(2353),__webpack_require__(2354),__webpack_require__(2355),__webpack_require__(2379),__webpack_require__(2356),__webpack_require__(2357),__webpack_require__(2358)},2123:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"y",function(){return isFalsyOrWhitespace}),__webpack_require__.d(__webpack_exports__,"G",function(){return pad}),__webpack_require__.d(__webpack_exports__,"r",function(){return format}),__webpack_require__.d(__webpack_exports__,"o",function(){return escape}),__webpack_require__.d(__webpack_exports__,"p",function(){return escapeRegExpCharacters}),__webpack_require__.d(__webpack_exports__,"R",function(){return trim}),__webpack_require__.d(__webpack_exports__,"L",function(){return rtrim}),__webpack_require__.d(__webpack_exports__,"k",function(){return convertSimple2RegExpPattern}),__webpack_require__.d(__webpack_exports__,"O",function(){return startsWith}),__webpack_require__.d(__webpack_exports__,"m",function(){return endsWith}),__webpack_require__.d(__webpack_exports__,"l",function(){return createRegExp}),__webpack_require__.d(__webpack_exports__,"J",function(){return regExpLeadsToEndlessLoop}),__webpack_require__.d(__webpack_exports__,"I",function(){return regExpFlags}),__webpack_require__.d(__webpack_exports__,"q",function(){return firstNonWhitespaceIndex}),__webpack_require__.d(__webpack_exports__,"u",function(){return getLeadingWhitespace}),__webpack_require__.d(__webpack_exports__,"E",function(){return lastNonWhitespaceIndex}),__webpack_require__.d(__webpack_exports__,"e",function(){return compare}),__webpack_require__.d(__webpack_exports__,"f",function(){return compareIgnoreCase}),__webpack_require__.d(__webpack_exports__,"C",function(){return isLowerAsciiLetter}),__webpack_require__.d(__webpack_exports__,"D",function(){return isUpperAsciiLetter}),__webpack_require__.d(__webpack_exports__,"n",function(){return equalsIgnoreCase}),__webpack_require__.d(__webpack_exports__,"P",function(){return startsWithIgnoreCase}),__webpack_require__.d(__webpack_exports__,"c",function(){return commonPrefixLength}),__webpack_require__.d(__webpack_exports__,"d",function(){return commonSuffixLength}),__webpack_require__.d(__webpack_exports__,"A",function(){return isHighSurrogate}),__webpack_require__.d(__webpack_exports__,"B",function(){return isLowSurrogate}),__webpack_require__.d(__webpack_exports__,"v",function(){return getNextCodePoint}),__webpack_require__.d(__webpack_exports__,"F",function(){return nextCharLength}),__webpack_require__.d(__webpack_exports__,"H",function(){return prevCharLength}),__webpack_require__.d(__webpack_exports__,"s",function(){return getCharContainingOffset}),__webpack_require__.d(__webpack_exports__,"i",function(){return containsRTL}),__webpack_require__.d(__webpack_exports__,"g",function(){return containsEmoji}),__webpack_require__.d(__webpack_exports__,"w",function(){return isBasicASCII}),__webpack_require__.d(__webpack_exports__,"h",function(){return containsFullWidthCharacter}),__webpack_require__.d(__webpack_exports__,"z",function(){return isFullWidthCharacter}),__webpack_require__.d(__webpack_exports__,"x",function(){return isEmojiImprecise}),__webpack_require__.d(__webpack_exports__,"a",function(){return UTF8_BOM_CHARACTER}),__webpack_require__.d(__webpack_exports__,"Q",function(){return startsWithUTF8BOM}),__webpack_require__.d(__webpack_exports__,"M",function(){return safeBtoa}),__webpack_require__.d(__webpack_exports__,"K",function(){return repeat}),__webpack_require__.d(__webpack_exports__,"j",function(){return containsUppercaseCharacter}),__webpack_require__.d(__webpack_exports__,"N",function(){return singleLetterHash}),__webpack_require__.d(__webpack_exports__,"t",function(){return getGraphemeBreakType}),__webpack_require__.d(__webpack_exports__,"b",function(){return breakBetweenGraphemeBreakType});function isFalsyOrWhitespace(str){return!str||typeof str!="string"?!0:str.trim().length===0}function pad(n,l,char){char===void 0&&(char="0");for(var str=""+n,r=[str],i=str.length;i<l;i++)r.push(char);return r.reverse().join("")}var _formatRegexp=/{(\d+)}/g;function format(value){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return args.length===0?value:value.replace(_formatRegexp,function(match,group){var idx=parseInt(group,10);return isNaN(idx)||idx<0||idx>=args.length?match:args[idx]})}function escape(html){return html.replace(/[<>&]/g,function(match){switch(match){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return match}})}function escapeRegExpCharacters(value){return value.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function trim(haystack,needle){needle===void 0&&(needle=" ");var trimmed=ltrim(haystack,needle);return rtrim(trimmed,needle)}function ltrim(haystack,needle){if(!haystack||!needle)return haystack;var needleLen=needle.length;if(needleLen===0||haystack.length===0)return haystack;for(var offset=0;haystack.indexOf(needle,offset)===offset;)offset=offset+needleLen;return haystack.substring(offset)}function rtrim(haystack,needle){if(!haystack||!needle)return haystack;var needleLen=needle.length,haystackLen=haystack.length;if(needleLen===0||haystackLen===0)return haystack;for(var offset=haystackLen,idx=-1;idx=haystack.lastIndexOf(needle,offset-1),!(idx===-1||idx+needleLen!==offset);){if(idx===0)return"";offset=idx}return haystack.substring(0,offset)}function convertSimple2RegExpPattern(pattern){return pattern.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function startsWith(haystack,needle){if(haystack.length<needle.length)return!1;if(haystack===needle)return!0;for(var i=0;i<needle.length;i++)if(haystack[i]!==needle[i])return!1;return!0}function endsWith(haystack,needle){var diff=haystack.length-needle.length;return diff>0?haystack.indexOf(needle,diff)===diff:diff===0?haystack===needle:!1}function createRegExp(searchString,isRegex,options){if(options===void 0&&(options={}),!searchString)throw new Error("Cannot create regex from empty string");isRegex||(searchString=escapeRegExpCharacters(searchString)),options.wholeWord&&(/\B/.test(searchString.charAt(0))||(searchString="\\b"+searchString),/\B/.test(searchString.charAt(searchString.length-1))||(searchString=searchString+"\\b"));var modifiers="";return options.global&&(modifiers+="g"),options.matchCase||(modifiers+="i"),options.multiline&&(modifiers+="m"),options.unicode&&(modifiers+="u"),new RegExp(searchString,modifiers)}function regExpLeadsToEndlessLoop(regexp){if(regexp.source==="^"||regexp.source==="^$"||regexp.source==="$"||regexp.source==="^\\s*$")return!1;var match=regexp.exec("");return!!(match&&regexp.lastIndex===0)}function regExpFlags(regexp){return(regexp.global?"g":"")+(regexp.ignoreCase?"i":"")+(regexp.multiline?"m":"")+(regexp.unicode?"u":"")}function firstNonWhitespaceIndex(str){for(var i=0,len=str.length;i<len;i++){var chCode=str.charCodeAt(i);if(chCode!==32&&chCode!==9)return i}return-1}function getLeadingWhitespace(str,start,end){start===void 0&&(start=0),end===void 0&&(end=str.length);for(var i=start;i<end;i++){var chCode=str.charCodeAt(i);if(chCode!==32&&chCode!==9)return str.substring(start,i)}return str.substring(start,end)}function lastNonWhitespaceIndex(str,startIndex){startIndex===void 0&&(startIndex=str.length-1);for(var i=startIndex;i>=0;i--){var chCode=str.charCodeAt(i);if(chCode!==32&&chCode!==9)return i}return-1}function compare(a,b){return a<b?-1:a>b?1:0}function compareIgnoreCase(a,b){for(var len=Math.min(a.length,b.length),i=0;i<len;i++){var codeA=a.charCodeAt(i),codeB=b.charCodeAt(i);if(codeA!==codeB){isUpperAsciiLetter(codeA)&&(codeA+=32),isUpperAsciiLetter(codeB)&&(codeB+=32);var diff=codeA-codeB;if(diff!==0)return isLowerAsciiLetter(codeA)&&isLowerAsciiLetter(codeB)?diff:compare(a.toLowerCase(),b.toLowerCase())}}return a.length<b.length?-1:a.length>b.length?1:0}function isLowerAsciiLetter(code){return code>=97&&code<=122}function isUpperAsciiLetter(code){return code>=65&&code<=90}function isAsciiLetter(code){return isLowerAsciiLetter(code)||isUpperAsciiLetter(code)}function equalsIgnoreCase(a,b){return a.length===b.length&&doEqualsIgnoreCase(a,b)}function doEqualsIgnoreCase(a,b,stopAt){stopAt===void 0&&(stopAt=a.length);for(var i=0;i<stopAt;i++){var codeA=a.charCodeAt(i),codeB=b.charCodeAt(i);if(codeA!==codeB){if(isAsciiLetter(codeA)&&isAsciiLetter(codeB)){var diff=Math.abs(codeA-codeB);if(diff!==0&&diff!==32)return!1}else if(String.fromCharCode(codeA).toLowerCase()!==String.fromCharCode(codeB).toLowerCase())return!1}}return!0}function startsWithIgnoreCase(str,candidate){var candidateLength=candidate.length;return candidate.length>str.length?!1:doEqualsIgnoreCase(str,candidate,candidateLength)}function commonPrefixLength(a,b){var i,len=Math.min(a.length,b.length);for(i=0;i<len;i++)if(a.charCodeAt(i)!==b.charCodeAt(i))return i;return len}function commonSuffixLength(a,b){var i,len=Math.min(a.length,b.length),aLastIndex=a.length-1,bLastIndex=b.length-1;for(i=0;i<len;i++)if(a.charCodeAt(aLastIndex-i)!==b.charCodeAt(bLastIndex-i))return i;return len}function isHighSurrogate(charCode){return 55296<=charCode&&charCode<=56319}function isLowSurrogate(charCode){return 56320<=charCode&&charCode<=57343}function getNextCodePoint(str,len,offset){var charCode=str.charCodeAt(offset);if(isHighSurrogate(charCode)&&offset+1<len){var nextCharCode=str.charCodeAt(offset+1);if(isLowSurrogate(nextCharCode))return(charCode-55296<<10)+(nextCharCode-56320)+65536}return charCode}function getPrevCodePoint(str,offset){var charCode=str.charCodeAt(offset-1);if(isLowSurrogate(charCode)&&offset>1){var prevCharCode=str.charCodeAt(offset-2);if(isHighSurrogate(prevCharCode))return(prevCharCode-55296<<10)+(charCode-56320)+65536}return charCode}function nextCharLength(str,offset){var graphemeBreakTree=GraphemeBreakTree.getInstance(),initialOffset=offset,len=str.length,initialCodePoint=getNextCodePoint(str,len,offset);offset+=initialCodePoint>=65536?2:1;for(var graphemeBreakType=graphemeBreakTree.getGraphemeBreakType(initialCodePoint);offset<len;){var nextCodePoint=getNextCodePoint(str,len,offset),nextGraphemeBreakType=graphemeBreakTree.getGraphemeBreakType(nextCodePoint);if(breakBetweenGraphemeBreakType(graphemeBreakType,nextGraphemeBreakType))break;offset+=nextCodePoint>=65536?2:1,graphemeBreakType=nextGraphemeBreakType}return offset-initialOffset}function prevCharLength(str,offset){var graphemeBreakTree=GraphemeBreakTree.getInstance(),initialOffset=offset,initialCodePoint=getPrevCodePoint(str,offset);offset-=initialCodePoint>=65536?2:1;for(var graphemeBreakType=graphemeBreakTree.getGraphemeBreakType(initialCodePoint);offset>0;){var prevCodePoint=getPrevCodePoint(str,offset),prevGraphemeBreakType=graphemeBreakTree.getGraphemeBreakType(prevCodePoint);if(breakBetweenGraphemeBreakType(prevGraphemeBreakType,graphemeBreakType))break;offset-=prevCodePoint>=65536?2:1,graphemeBreakType=prevGraphemeBreakType}return initialOffset-offset}function _getCharContainingOffset(str,offset){var graphemeBreakTree=GraphemeBreakTree.getInstance(),len=str.length,initialOffset=offset,initialCodePoint=getNextCodePoint(str,len,offset),initialGraphemeBreakType=graphemeBreakTree.getGraphemeBreakType(initialCodePoint);offset+=initialCodePoint>=65536?2:1;for(var graphemeBreakType=initialGraphemeBreakType;offset<len;){var nextCodePoint=getNextCodePoint(str,len,offset),nextGraphemeBreakType=graphemeBreakTree.getGraphemeBreakType(nextCodePoint);if(breakBetweenGraphemeBreakType(graphemeBreakType,nextGraphemeBreakType))break;offset+=nextCodePoint>=65536?2:1,graphemeBreakType=nextGraphemeBreakType}var endOffset=offset;for(offset=initialOffset,graphemeBreakType=initialGraphemeBreakType;offset>0;){var prevCodePoint=getPrevCodePoint(str,offset),prevGraphemeBreakType=graphemeBreakTree.getGraphemeBreakType(prevCodePoint);if(breakBetweenGraphemeBreakType(prevGraphemeBreakType,graphemeBreakType))break;offset-=prevCodePoint>=65536?2:1,graphemeBreakType=prevGraphemeBreakType}return[offset,endOffset]}function getCharContainingOffset(str,offset){return offset>0&&isLowSurrogate(str.charCodeAt(offset))?_getCharContainingOffset(str,offset-1):_getCharContainingOffset(str,offset)}var CONTAINS_RTL=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function containsRTL(str){return CONTAINS_RTL.test(str)}var CONTAINS_EMOJI=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDE73\uDE78-\uDE82\uDE90-\uDE95])/;function containsEmoji(str){return CONTAINS_EMOJI.test(str)}var IS_BASIC_ASCII=/^[\t\n\r\x20-\x7E]*$/;function isBasicASCII(str){return IS_BASIC_ASCII.test(str)}function containsFullWidthCharacter(str){for(var i=0,len=str.length;i<len;i++)if(isFullWidthCharacter(str.charCodeAt(i)))return!0;return!1}function isFullWidthCharacter(charCode){return charCode=+charCode,charCode>=11904&&charCode<=55215||charCode>=63744&&charCode<=64255||charCode>=65281&&charCode<=65374}function isEmojiImprecise(x){return x>=127462&&x<=127487||x>=9728&&x<=10175||x>=127744&&x<=128591||x>=128640&&x<=128764||x>=128992&&x<=129003||x>=129280&&x<=129535||x>=129648&&x<=129651||x>=129656&&x<=129666||x>=129680&&x<=129685}var UTF8_BOM_CHARACTER=String.fromCharCode(65279);function startsWithUTF8BOM(str){return!!(str&&str.length>0&&str.charCodeAt(0)===65279)}function safeBtoa(str){return btoa(encodeURIComponent(str))}function repeat(s,count){for(var result="",i=0;i<count;i++)result+=s;return result}function containsUppercaseCharacter(target,ignoreEscapedChars){return ignoreEscapedChars===void 0&&(ignoreEscapedChars=!1),target?(ignoreEscapedChars&&(target=target.replace(/\\./g,"")),target.toLowerCase()!==target):!1}function singleLetterHash(n){var LETTERS_CNT=26;return n=n%(2*LETTERS_CNT),n<LETTERS_CNT?String.fromCharCode(97+n):String.fromCharCode(65+n-LETTERS_CNT)}function getGraphemeBreakType(codePoint){var graphemeBreakTree=GraphemeBreakTree.getInstance();return graphemeBreakTree.getGraphemeBreakType(codePoint)}function breakBetweenGraphemeBreakType(breakTypeA,breakTypeB){return breakTypeA===0?breakTypeB!==5&&breakTypeB!==7:breakTypeA===2&&breakTypeB===3?!1:breakTypeA===4||breakTypeA===2||breakTypeA===3||breakTypeB===4||breakTypeB===2||breakTypeB===3?!0:!(breakTypeA===8&&(breakTypeB===8||breakTypeB===9||breakTypeB===11||breakTypeB===12)||(breakTypeA===11||breakTypeA===9)&&(breakTypeB===9||breakTypeB===10)||(breakTypeA===12||breakTypeA===10)&&breakTypeB===10||breakTypeB===5||breakTypeB===13||breakTypeB===7||breakTypeA===1||breakTypeA===13&&breakTypeB===14||breakTypeA===6&&breakTypeB===6)}var GraphemeBreakTree=function(){function GraphemeBreakTree2(){this._data=getGraphemeBreakRawData()}return GraphemeBreakTree2.getInstance=function(){return GraphemeBreakTree2._INSTANCE||(GraphemeBreakTree2._INSTANCE=new GraphemeBreakTree2),GraphemeBreakTree2._INSTANCE},GraphemeBreakTree2.prototype.getGraphemeBreakType=function(codePoint){if(codePoint<32)return codePoint===10?3:codePoint===13?2:4;if(codePoint<127)return 0;for(var data=this._data,nodeCount=data.length/3,nodeIndex=1;nodeIndex<=nodeCount;)if(codePoint<data[3*nodeIndex])nodeIndex=2*nodeIndex;else if(codePoint>data[3*nodeIndex+1])nodeIndex=2*nodeIndex+1;else return data[3*nodeIndex+2];return 0},GraphemeBreakTree2._INSTANCE=null,GraphemeBreakTree2}();function getGraphemeBreakRawData(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}},2124:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"t",function(){return clearNode}),__webpack_require__.d(__webpack_exports__,"O",function(){return removeNode}),__webpack_require__.d(__webpack_exports__,"K",function(){return isInDOM}),__webpack_require__.d(__webpack_exports__,"G",function(){return hasClass}),__webpack_require__.d(__webpack_exports__,"f",function(){return addClass}),__webpack_require__.d(__webpack_exports__,"g",function(){return addClasses}),__webpack_require__.d(__webpack_exports__,"M",function(){return removeClass}),__webpack_require__.d(__webpack_exports__,"N",function(){return removeClasses}),__webpack_require__.d(__webpack_exports__,"V",function(){return toggleClass}),__webpack_require__.d(__webpack_exports__,"j",function(){return addDisposableListener}),__webpack_require__.d(__webpack_exports__,"o",function(){return addStandardDisposableListener}),__webpack_require__.d(__webpack_exports__,"n",function(){return addStandardDisposableGenericMouseDownListner}),__webpack_require__.d(__webpack_exports__,"h",function(){return addDisposableGenericMouseDownListner}),__webpack_require__.d(__webpack_exports__,"i",function(){return addDisposableGenericMouseUpListner}),__webpack_require__.d(__webpack_exports__,"k",function(){return addDisposableNonBubblingMouseOutListener}),__webpack_require__.d(__webpack_exports__,"l",function(){return addDisposableNonBubblingPointerOutListener}),__webpack_require__.d(__webpack_exports__,"R",function(){return runAtThisOrScheduleAtNextAnimationFrame}),__webpack_require__.d(__webpack_exports__,"T",function(){return scheduleAtNextAnimationFrame}),__webpack_require__.d(__webpack_exports__,"m",function(){return addDisposableThrottledListener}),__webpack_require__.d(__webpack_exports__,"y",function(){return getComputedStyle2}),__webpack_require__.d(__webpack_exports__,"b",function(){return Dimension}),__webpack_require__.d(__webpack_exports__,"D",function(){return getTopLeftOffset}),__webpack_require__.d(__webpack_exports__,"B",function(){return getDomNodePagePosition}),__webpack_require__.d(__webpack_exports__,"e",function(){return StandardWindow}),__webpack_require__.d(__webpack_exports__,"F",function(){return getTotalWidth}),__webpack_require__.d(__webpack_exports__,"A",function(){return getContentWidth}),__webpack_require__.d(__webpack_exports__,"z",function(){return getContentHeight}),__webpack_require__.d(__webpack_exports__,"E",function(){return getTotalHeight}),__webpack_require__.d(__webpack_exports__,"I",function(){return isAncestor}),__webpack_require__.d(__webpack_exports__,"x",function(){return findParentWithClass}),__webpack_require__.d(__webpack_exports__,"w",function(){return createStyleSheet}),__webpack_require__.d(__webpack_exports__,"v",function(){return createCSSRule}),__webpack_require__.d(__webpack_exports__,"L",function(){return removeCSSRulesContainingSelector}),__webpack_require__.d(__webpack_exports__,"J",function(){return isHTMLElement}),__webpack_require__.d(__webpack_exports__,"d",function(){return EventType}),__webpack_require__.d(__webpack_exports__,"c",function(){return EventHelper}),__webpack_require__.d(__webpack_exports__,"S",function(){return saveParentsScrollTop}),__webpack_require__.d(__webpack_exports__,"Q",function(){return restoreParentsScrollTop}),__webpack_require__.d(__webpack_exports__,"W",function(){return trackFocus}),__webpack_require__.d(__webpack_exports__,"q",function(){return append}),__webpack_require__.d(__webpack_exports__,"a",function(){return $}),__webpack_require__.d(__webpack_exports__,"U",function(){return show}),__webpack_require__.d(__webpack_exports__,"H",function(){return hide}),__webpack_require__.d(__webpack_exports__,"P",function(){return removeTabIndexAndUpdateFocus}),__webpack_require__.d(__webpack_exports__,"C",function(){return getElementsByTagName}),__webpack_require__.d(__webpack_exports__,"u",function(){return computeScreenAwareSize}),__webpack_require__.d(__webpack_exports__,"X",function(){return windowOpenNoOpener}),__webpack_require__.d(__webpack_exports__,"p",function(){return animate}),__webpack_require__.d(__webpack_exports__,"s",function(){return asDomUri}),__webpack_require__.d(__webpack_exports__,"r",function(){return asCSSUrl});var _browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2642),_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2849),_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3111),_mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2813),_common_async_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2237),_common_errors_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2176),_common_event_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2106),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2033),_common_platform_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2236),_common_arrays_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2389),_common_network_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2814),_canIUse_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3279),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function clearNode(node){for(;node.firstChild;)node.removeChild(node.firstChild)}function removeNode(node){node.parentNode&&node.parentNode.removeChild(node)}function isInDOM(node){for(;node;){if(node===document.body)return!0;node=node.parentNode||node.host}return!1}var _manualClassList=new(function(){function class_1(){this._lastStart=-1,this._lastEnd=-1}return class_1.prototype._findClassName=function(node,className){var classes=node.className;if(!classes){this._lastStart=-1;return}className=className.trim();var classesLen=classes.length,classLen=className.length;if(classLen===0){this._lastStart=-1;return}if(classesLen<classLen){this._lastStart=-1;return}if(classes===className){this._lastStart=0,this._lastEnd=classesLen;return}for(var idx=-1,idxEnd;(idx=classes.indexOf(className,idx+1))>=0;){if(idxEnd=idx+classLen,(idx===0||classes.charCodeAt(idx-1)===32)&&classes.charCodeAt(idxEnd)===32){this._lastStart=idx,this._lastEnd=idxEnd+1;return}if(idx>0&&classes.charCodeAt(idx-1)===32&&idxEnd===classesLen){this._lastStart=idx-1,this._lastEnd=idxEnd;return}if(idx===0&&idxEnd===classesLen){this._lastStart=0,this._lastEnd=idxEnd;return}}this._lastStart=-1},class_1.prototype.hasClass=function(node,className){return this._findClassName(node,className),this._lastStart!==-1},class_1.prototype.addClasses=function(node){for(var _this=this,classNames=[],_i=1;_i<arguments.length;_i++)classNames[_i-1]=arguments[_i];classNames.forEach(function(nameValue){return nameValue.split(" ").forEach(function(name){return _this.addClass(node,name)})})},class_1.prototype.addClass=function(node,className){node.className?(this._findClassName(node,className),this._lastStart===-1&&(node.className=node.className+" "+className)):node.className=className},class_1.prototype.removeClass=function(node,className){this._findClassName(node,className),this._lastStart!==-1&&(node.className=node.className.substring(0,this._lastStart)+node.className.substring(this._lastEnd))},class_1.prototype.removeClasses=function(node){for(var _this=this,classNames=[],_i=1;_i<arguments.length;_i++)classNames[_i-1]=arguments[_i];classNames.forEach(function(nameValue){return nameValue.split(" ").forEach(function(name){return _this.removeClass(node,name)})})},class_1.prototype.toggleClass=function(node,className,shouldHaveIt){this._findClassName(node,className),this._lastStart!==-1&&(shouldHaveIt===void 0||!shouldHaveIt)&&this.removeClass(node,className),this._lastStart===-1&&(shouldHaveIt===void 0||shouldHaveIt)&&this.addClass(node,className)},class_1}()),_nativeClassList=new(function(){function class_2(){}return class_2.prototype.hasClass=function(node,className){return!!className&&node.classList&&node.classList.contains(className)},class_2.prototype.addClasses=function(node){for(var _this=this,classNames=[],_i=1;_i<arguments.length;_i++)classNames[_i-1]=arguments[_i];classNames.forEach(function(nameValue){return nameValue.split(" ").forEach(function(name){return _this.addClass(node,name)})})},class_2.prototype.addClass=function(node,className){className&&node.classList&&node.classList.add(className)},class_2.prototype.removeClass=function(node,className){className&&node.classList&&node.classList.remove(className)},class_2.prototype.removeClasses=function(node){for(var _this=this,classNames=[],_i=1;_i<arguments.length;_i++)classNames[_i-1]=arguments[_i];classNames.forEach(function(nameValue){return nameValue.split(" ").forEach(function(name){return _this.removeClass(node,name)})})},class_2.prototype.toggleClass=function(node,className,shouldHaveIt){node.classList&&node.classList.toggle(className,shouldHaveIt)},class_2}()),_classList=_browser_js__WEBPACK_IMPORTED_MODULE_0__.i?_manualClassList:_nativeClassList,hasClass=_classList.hasClass.bind(_classList),addClass=_classList.addClass.bind(_classList),addClasses=_classList.addClasses.bind(_classList),removeClass=_classList.removeClass.bind(_classList),removeClasses=_classList.removeClasses.bind(_classList),toggleClass=_classList.toggleClass.bind(_classList),DomListener=function(){function DomListener2(node,type,handler,options){this._node=node,this._type=type,this._handler=handler,this._options=options||!1,this._node.addEventListener(this._type,this._handler,this._options)}return DomListener2.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)},DomListener2}();function addDisposableListener(node,type,handler,useCaptureOrOptions){return new DomListener(node,type,handler,useCaptureOrOptions)}function _wrapAsStandardMouseEvent(handler){return function(e){return handler(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.b(e))}}function _wrapAsStandardKeyboardEvent(handler){return function(e){return handler(new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__.a(e))}}var addStandardDisposableListener=function(node,type,handler,useCapture){var wrapHandler=handler;return type==="click"||type==="mousedown"?wrapHandler=_wrapAsStandardMouseEvent(handler):(type==="keydown"||type==="keypress"||type==="keyup")&&(wrapHandler=_wrapAsStandardKeyboardEvent(handler)),addDisposableListener(node,type,wrapHandler,useCapture)},addStandardDisposableGenericMouseDownListner=function(node,handler,useCapture){var wrapHandler=_wrapAsStandardMouseEvent(handler);return addDisposableGenericMouseDownListner(node,wrapHandler,useCapture)};function addDisposableGenericMouseDownListner(node,handler,useCapture){return addDisposableListener(node,_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.c&&_canIUse_js__WEBPACK_IMPORTED_MODULE_11__.a.pointerEvents?EventType.POINTER_DOWN:EventType.MOUSE_DOWN,handler,useCapture)}function addDisposableGenericMouseUpListner(node,handler,useCapture){return addDisposableListener(node,_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.c&&_canIUse_js__WEBPACK_IMPORTED_MODULE_11__.a.pointerEvents?EventType.POINTER_UP:EventType.MOUSE_UP,handler,useCapture)}function addDisposableNonBubblingMouseOutListener(node,handler){return addDisposableListener(node,"mouseout",function(e){for(var toElement=e.relatedTarget||e.target;toElement&&toElement!==node;)toElement=toElement.parentNode;toElement!==node&&handler(e)})}function addDisposableNonBubblingPointerOutListener(node,handler){return addDisposableListener(node,"pointerout",function(e){for(var toElement=e.relatedTarget||e.target;toElement&&toElement!==node;)toElement=toElement.parentNode;toElement!==node&&handler(e)})}var _animationFrame=null;function doRequestAnimationFrame(callback){if(!_animationFrame){var emulatedRequestAnimationFrame=function(callback2){return setTimeout(function(){return callback2(new Date().getTime())},0)};_animationFrame=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||emulatedRequestAnimationFrame}return _animationFrame.call(self,callback)}var runAtThisOrScheduleAtNextAnimationFrame,scheduleAtNextAnimationFrame,AnimationFrameQueueItem=function(){function AnimationFrameQueueItem2(runner,priority){priority===void 0&&(priority=0),this._runner=runner,this.priority=priority,this._canceled=!1}return AnimationFrameQueueItem2.prototype.dispose=function(){this._canceled=!0},AnimationFrameQueueItem2.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){Object(_common_errors_js__WEBPACK_IMPORTED_MODULE_5__.e)(e)}},AnimationFrameQueueItem2.sort=function(a,b){return b.priority-a.priority},AnimationFrameQueueItem2}();(function(){var NEXT_QUEUE=[],CURRENT_QUEUE=null,animFrameRequested=!1,inAnimationFrameRunner=!1,animationFrameRunner=function(){for(animFrameRequested=!1,CURRENT_QUEUE=NEXT_QUEUE,NEXT_QUEUE=[],inAnimationFrameRunner=!0;CURRENT_QUEUE.length>0;){CURRENT_QUEUE.sort(AnimationFrameQueueItem.sort);var top_1=CURRENT_QUEUE.shift();top_1.execute()}inAnimationFrameRunner=!1};scheduleAtNextAnimationFrame=function(runner,priority){priority===void 0&&(priority=0);var item=new AnimationFrameQueueItem(runner,priority);return NEXT_QUEUE.push(item),animFrameRequested||(animFrameRequested=!0,doRequestAnimationFrame(animationFrameRunner)),item},runAtThisOrScheduleAtNextAnimationFrame=function(runner,priority){if(inAnimationFrameRunner){var item=new AnimationFrameQueueItem(runner,priority);return CURRENT_QUEUE.push(item),item}else return scheduleAtNextAnimationFrame(runner,priority)}})();var MINIMUM_TIME_MS=16,DEFAULT_EVENT_MERGER=function(lastEvent,currentEvent){return currentEvent},TimeoutThrottledDomListener=function(_super){__extends(TimeoutThrottledDomListener2,_super);function TimeoutThrottledDomListener2(node,type,handler,eventMerger,minimumTimeMs){eventMerger===void 0&&(eventMerger=DEFAULT_EVENT_MERGER),minimumTimeMs===void 0&&(minimumTimeMs=MINIMUM_TIME_MS);var _this=_super.call(this)||this,lastEvent=null,lastHandlerTime=0,timeout=_this._register(new _common_async_js__WEBPACK_IMPORTED_MODULE_4__.e),invokeHandler=function(){lastHandlerTime=new Date().getTime(),handler(lastEvent),lastEvent=null};return _this._register(addDisposableListener(node,type,function(e){lastEvent=eventMerger(lastEvent,e);var elapsedTime=new Date().getTime()-lastHandlerTime;elapsedTime>=minimumTimeMs?(timeout.cancel(),invokeHandler()):timeout.setIfNotSet(invokeHandler,minimumTimeMs-elapsedTime)})),_this}return TimeoutThrottledDomListener2}(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.a);function addDisposableThrottledListener(node,type,handler,eventMerger,minimumTimeMs){return new TimeoutThrottledDomListener(node,type,handler,eventMerger,minimumTimeMs)}function getComputedStyle2(el){return document.defaultView.getComputedStyle(el,null)}var SizeUtils=function(){function SizeUtils2(){}return SizeUtils2.convertToPixels=function(element,value){return parseFloat(value)||0},SizeUtils2.getDimension=function(element,cssPropertyName,jsPropertyName){var computedStyle=getComputedStyle2(element),value="0";return computedStyle&&(computedStyle.getPropertyValue?value=computedStyle.getPropertyValue(cssPropertyName):value=computedStyle.getAttribute(jsPropertyName)),SizeUtils2.convertToPixels(element,value)},SizeUtils2.getBorderLeftWidth=function(element){return SizeUtils2.getDimension(element,"border-left-width","borderLeftWidth")},SizeUtils2.getBorderRightWidth=function(element){return SizeUtils2.getDimension(element,"border-right-width","borderRightWidth")},SizeUtils2.getBorderTopWidth=function(element){return SizeUtils2.getDimension(element,"border-top-width","borderTopWidth")},SizeUtils2.getBorderBottomWidth=function(element){return SizeUtils2.getDimension(element,"border-bottom-width","borderBottomWidth")},SizeUtils2.getPaddingLeft=function(element){return SizeUtils2.getDimension(element,"padding-left","paddingLeft")},SizeUtils2.getPaddingRight=function(element){return SizeUtils2.getDimension(element,"padding-right","paddingRight")},SizeUtils2.getPaddingTop=function(element){return SizeUtils2.getDimension(element,"padding-top","paddingTop")},SizeUtils2.getPaddingBottom=function(element){return SizeUtils2.getDimension(element,"padding-bottom","paddingBottom")},SizeUtils2.getMarginLeft=function(element){return SizeUtils2.getDimension(element,"margin-left","marginLeft")},SizeUtils2.getMarginTop=function(element){return SizeUtils2.getDimension(element,"margin-top","marginTop")},SizeUtils2.getMarginRight=function(element){return SizeUtils2.getDimension(element,"margin-right","marginRight")},SizeUtils2.getMarginBottom=function(element){return SizeUtils2.getDimension(element,"margin-bottom","marginBottom")},SizeUtils2}(),Dimension=function(){function Dimension2(width,height){this.width=width,this.height=height}return Dimension2}();function getTopLeftOffset(element){for(var offsetParent=element.offsetParent,top=element.offsetTop,left=element.offsetLeft;(element=element.parentNode)!==null&&element!==document.body&&element!==document.documentElement;){top-=element.scrollTop;var c=getComputedStyle2(element);c&&(left-=c.direction!=="rtl"?element.scrollLeft:-element.scrollLeft),element===offsetParent&&(left+=SizeUtils.getBorderLeftWidth(element),top+=SizeUtils.getBorderTopWidth(element),top+=element.offsetTop,left+=element.offsetLeft,offsetParent=element.offsetParent)}return{left,top}}function getDomNodePagePosition(domNode){var bb=domNode.getBoundingClientRect();return{left:bb.left+StandardWindow.scrollX,top:bb.top+StandardWindow.scrollY,width:bb.width,height:bb.height}}var StandardWindow=new(function(){function class_3(){}return Object.defineProperty(class_3.prototype,"scrollX",{get:function(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(class_3.prototype,"scrollY",{get:function(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),class_3}());function getTotalWidth(element){var margin=SizeUtils.getMarginLeft(element)+SizeUtils.getMarginRight(element);return element.offsetWidth+margin}function getContentWidth(element){var border=SizeUtils.getBorderLeftWidth(element)+SizeUtils.getBorderRightWidth(element),padding=SizeUtils.getPaddingLeft(element)+SizeUtils.getPaddingRight(element);return element.offsetWidth-border-padding}function getContentHeight(element){var border=SizeUtils.getBorderTopWidth(element)+SizeUtils.getBorderBottomWidth(element),padding=SizeUtils.getPaddingTop(element)+SizeUtils.getPaddingBottom(element);return element.offsetHeight-border-padding}function getTotalHeight(element){var margin=SizeUtils.getMarginTop(element)+SizeUtils.getMarginBottom(element);return element.offsetHeight+margin}function isAncestor(testChild,testAncestor){for(;testChild;){if(testChild===testAncestor)return!0;testChild=testChild.parentNode}return!1}function findParentWithClass(node,clazz,stopAtClazzOrNode){for(;node;){if(hasClass(node,clazz))return node;if(stopAtClazzOrNode){if(typeof stopAtClazzOrNode=="string"){if(hasClass(node,stopAtClazzOrNode))return null}else if(node===stopAtClazzOrNode)return null}node=node.parentNode}return null}function createStyleSheet(container){container===void 0&&(container=document.getElementsByTagName("head")[0]);var style=document.createElement("style");return style.type="text/css",style.media="screen",container.appendChild(style),style}var _sharedStyleSheet=null;function getSharedStyleSheet(){return _sharedStyleSheet||(_sharedStyleSheet=createStyleSheet()),_sharedStyleSheet}function getDynamicStyleSheetRules(style){return style&&style.sheet&&style.sheet.rules?style.sheet.rules:style&&style.sheet&&style.sheet.cssRules?style.sheet.cssRules:[]}function createCSSRule(selector,cssText,style){style===void 0&&(style=getSharedStyleSheet()),!(!style||!cssText)&&style.sheet.insertRule(selector+"{"+cssText+"}",0)}function removeCSSRulesContainingSelector(ruleName,style){if(style===void 0&&(style=getSharedStyleSheet()),!!style){for(var rules=getDynamicStyleSheetRules(style),toDelete=[],i=0;i<rules.length;i++){var rule=rules[i];rule.selectorText.indexOf(ruleName)!==-1&&toDelete.push(i)}for(var i=toDelete.length-1;i>=0;i--)style.sheet.deleteRule(toDelete[i])}}function isHTMLElement(o){return typeof HTMLElement=="object"?o instanceof HTMLElement:o&&typeof o=="object"&&o.nodeType===1&&typeof o.nodeName=="string"}var EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:_browser_js__WEBPACK_IMPORTED_MODULE_0__.m?"webkitAnimationStart":"animationstart",ANIMATION_END:_browser_js__WEBPACK_IMPORTED_MODULE_0__.m?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:_browser_js__WEBPACK_IMPORTED_MODULE_0__.m?"webkitAnimationIteration":"animationiteration"},EventHelper={stop:function(e,cancelBubble){e.preventDefault?e.preventDefault():e.returnValue=!1,cancelBubble&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};function saveParentsScrollTop(node){for(var r=[],i=0;node&&node.nodeType===node.ELEMENT_NODE;i++)r[i]=node.scrollTop,node=node.parentNode;return r}function restoreParentsScrollTop(node,state){for(var i=0;node&&node.nodeType===node.ELEMENT_NODE;i++)node.scrollTop!==state[i]&&(node.scrollTop=state[i]),node=node.parentNode}var FocusTracker=function(_super){__extends(FocusTracker2,_super);function FocusTracker2(element){var _this=_super.call(this)||this;_this._onDidFocus=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),_this.onDidFocus=_this._onDidFocus.event,_this._onDidBlur=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),_this.onDidBlur=_this._onDidBlur.event;var hasFocus=isAncestor(document.activeElement,element),loosingFocus=!1,onFocus=function(){loosingFocus=!1,hasFocus||(hasFocus=!0,_this._onDidFocus.fire())},onBlur=function(){hasFocus&&(loosingFocus=!0,window.setTimeout(function(){loosingFocus&&(loosingFocus=!1,hasFocus=!1,_this._onDidBlur.fire())},0))};return _this._refreshStateHandler=function(){var currentNodeHasFocus=isAncestor(document.activeElement,element);currentNodeHasFocus!==hasFocus&&(hasFocus?onBlur():onFocus())},_this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_1__.a)(element,EventType.FOCUS,!0)(onFocus)),_this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_1__.a)(element,EventType.BLUR,!0)(onBlur)),_this}return FocusTracker2}(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.a);function trackFocus(element){return new FocusTracker(element)}function append(parent){for(var children=[],_i=1;_i<arguments.length;_i++)children[_i-1]=arguments[_i];return children.forEach(function(child){return parent.appendChild(child)}),children[children.length-1]}var SELECTOR_REGEX=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/,Namespace;(function(Namespace2){Namespace2.HTML="http://www.w3.org/1999/xhtml",Namespace2.SVG="http://www.w3.org/2000/svg"})(Namespace||(Namespace={}));function _$(namespace,description,attrs){for(var children=[],_i=3;_i<arguments.length;_i++)children[_i-3]=arguments[_i];var match=SELECTOR_REGEX.exec(description);if(!match)throw new Error("Bad use of emmet");attrs=__assign({},attrs||{});var tagName=match[1]||"div",result;return namespace!==Namespace.HTML?result=document.createElementNS(namespace,tagName):result=document.createElement(tagName),match[3]&&(result.id=match[3]),match[4]&&(result.className=match[4].replace(/\./g," ").trim()),Object.keys(attrs).forEach(function(name){var value=attrs[name];typeof value>"u"||(/^on\w+$/.test(name)?result[name]=value:name==="selected"?value&&result.setAttribute(name,"true"):result.setAttribute(name,value))}),Object(_common_arrays_js__WEBPACK_IMPORTED_MODULE_9__.d)(children).forEach(function(child){child instanceof Node?result.appendChild(child):result.appendChild(document.createTextNode(child))}),result}function $(description,attrs){for(var children=[],_i=2;_i<arguments.length;_i++)children[_i-2]=arguments[_i];return _$.apply(void 0,__spreadArrays([Namespace.HTML,description,attrs],children))}$.SVG=function(description,attrs){for(var children=[],_i=2;_i<arguments.length;_i++)children[_i-2]=arguments[_i];return _$.apply(void 0,__spreadArrays([Namespace.SVG,description,attrs],children))};function show(){for(var elements=[],_i=0;_i<arguments.length;_i++)elements[_i]=arguments[_i];for(var _a=0,elements_1=elements;_a<elements_1.length;_a++){var element=elements_1[_a];element.style.display="",element.removeAttribute("aria-hidden")}}function hide(){for(var elements=[],_i=0;_i<arguments.length;_i++)elements[_i]=arguments[_i];for(var _a=0,elements_2=elements;_a<elements_2.length;_a++){var element=elements_2[_a];element.style.display="none",element.setAttribute("aria-hidden","true")}}function findParentWithAttribute(node,attribute){for(;node;){if(node instanceof HTMLElement&&node.hasAttribute(attribute))return node;node=node.parentNode}return null}function removeTabIndexAndUpdateFocus(node){if(!(!node||!node.hasAttribute("tabIndex"))){if(document.activeElement===node){var parentFocusable=findParentWithAttribute(node.parentElement,"tabIndex");parentFocusable&&parentFocusable.focus()}node.removeAttribute("tabindex")}}function getElementsByTagName(tag){return Array.prototype.slice.call(document.getElementsByTagName(tag),0)}function computeScreenAwareSize(cssPx){var screenPx=window.devicePixelRatio*cssPx;return Math.max(1,Math.floor(screenPx))/window.devicePixelRatio}function windowOpenNoOpener(url){if(_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.f||_browser_js__WEBPACK_IMPORTED_MODULE_0__.g)window.open(url);else{var newTab=window.open();newTab&&(newTab.opener=null,newTab.location.href=url)}}function animate(fn){var step=function(){fn(),stepDisposable=scheduleAtNextAnimationFrame(step)},stepDisposable=scheduleAtNextAnimationFrame(step);return Object(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.h)(function(){return stepDisposable.dispose()})}_common_network_js__WEBPACK_IMPORTED_MODULE_10__.a.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function asDomUri(uri){return uri&&(_common_network_js__WEBPACK_IMPORTED_MODULE_10__.b.vscodeRemote===uri.scheme?_common_network_js__WEBPACK_IMPORTED_MODULE_10__.a.rewrite(uri):uri)}function asCSSUrl(uri){return uri?"url('"+asDomUri(uri).toString(!0).replace(/'/g,"%27")+"')":"url('')"}},2176:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return onUnexpectedError}),__webpack_require__.d(__webpack_exports__,"f",function(){return onUnexpectedExternalError}),__webpack_require__.d(__webpack_exports__,"g",function(){return transformErrorForSerialization}),__webpack_require__.d(__webpack_exports__,"d",function(){return isPromiseCanceledError}),__webpack_require__.d(__webpack_exports__,"a",function(){return canceled}),__webpack_require__.d(__webpack_exports__,"b",function(){return illegalArgument}),__webpack_require__.d(__webpack_exports__,"c",function(){return illegalState});var ErrorHandler=function(){function ErrorHandler2(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}return ErrorHandler2.prototype.emit=function(e){this.listeners.forEach(function(listener){listener(e)})},ErrorHandler2.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},ErrorHandler2.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},ErrorHandler2}(),errorHandler=new ErrorHandler;function onUnexpectedError(e){isPromiseCanceledError(e)||errorHandler.onUnexpectedError(e)}function onUnexpectedExternalError(e){isPromiseCanceledError(e)||errorHandler.onUnexpectedExternalError(e)}function transformErrorForSerialization(error){if(error instanceof Error){var name_1=error.name,message=error.message,stack=error.stacktrace||error.stack;return{$isError:!0,name:name_1,message,stack}}return error}var canceledName="Canceled";function isPromiseCanceledError(error){return error instanceof Error&&error.name===canceledName&&error.message===canceledName}function canceled(){var error=new Error(canceledName);return error.name=error.message,error}function illegalArgument(name){return name?new Error("Illegal argument: "+name):new Error("Illegal argument")}function illegalState(name){return name?new Error("Illegal state: "+name):new Error("Illegal state")}},2181:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return registerLanguage});var _monaco=typeof monaco>"u"?self.monaco:monaco,languageDefinitions={},lazyLanguageLoaders={},LazyLanguageLoader=function(){function LazyLanguageLoader2(languageId){var _this=this;this._languageId=languageId,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(resolve,reject){_this._lazyLoadPromiseResolve=resolve,_this._lazyLoadPromiseReject=reject})}return LazyLanguageLoader2.getOrCreate=function(languageId){return lazyLanguageLoaders[languageId]||(lazyLanguageLoaders[languageId]=new LazyLanguageLoader2(languageId)),lazyLanguageLoaders[languageId]},LazyLanguageLoader2.prototype.whenLoaded=function(){return this._lazyLoadPromise},LazyLanguageLoader2.prototype.load=function(){var _this=this;return this._loadingTriggered||(this._loadingTriggered=!0,languageDefinitions[this._languageId].loader().then(function(mod){return _this._lazyLoadPromiseResolve(mod)},function(err){return _this._lazyLoadPromiseReject(err)})),this._lazyLoadPromise},LazyLanguageLoader2}();function loadLanguage(languageId){return LazyLanguageLoader.getOrCreate(languageId).load()}function registerLanguage(def){var languageId=def.id;languageDefinitions[languageId]=def,_monaco.languages.register(def);var lazyLanguageLoader=LazyLanguageLoader.getOrCreate(languageId);_monaco.languages.setMonarchTokensProvider(languageId,lazyLanguageLoader.whenLoaded().then(function(mod){return mod.language})),_monaco.languages.onLanguage(languageId,function(){lazyLanguageLoader.load().then(function(mod){_monaco.languages.setLanguageConfiguration(languageId,mod.conf)})})}},2232:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return _util}),__webpack_require__.d(__webpack_exports__,"a",function(){return IInstantiationService}),__webpack_require__.d(__webpack_exports__,"c",function(){return createDecorator}),__webpack_require__.d(__webpack_exports__,"d",function(){return optional});var _util;(function(_util2){_util2.serviceIds=new Map,_util2.DI_TARGET="$di$target",_util2.DI_DEPENDENCIES="$di$dependencies";function getServiceDependencies(ctor){return ctor[_util2.DI_DEPENDENCIES]||[]}_util2.getServiceDependencies=getServiceDependencies})(_util||(_util={}));var IInstantiationService=createDecorator("instantiationService");function storeServiceDependency(id,target,index,optional2){target[_util.DI_TARGET]===target?target[_util.DI_DEPENDENCIES].push({id,index,optional:optional2}):(target[_util.DI_DEPENDENCIES]=[{id,index,optional:optional2}],target[_util.DI_TARGET]=target)}function createDecorator(serviceId){if(_util.serviceIds.has(serviceId))return _util.serviceIds.get(serviceId);var id=function(target,key,index){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");storeServiceDependency(id,target,index,!1)};return id.toString=function(){return serviceId},_util.serviceIds.set(serviceId,id),id}function optional(serviceIdentifier){return function(target,key,index){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");storeServiceDependency(serviceIdentifier,target,index,!0)}}},2233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Position});var Position=function(){function Position2(lineNumber,column){this.lineNumber=lineNumber,this.column=column}return Position2.prototype.with=function(newLineNumber,newColumn){return newLineNumber===void 0&&(newLineNumber=this.lineNumber),newColumn===void 0&&(newColumn=this.column),newLineNumber===this.lineNumber&&newColumn===this.column?this:new Position2(newLineNumber,newColumn)},Position2.prototype.delta=function(deltaLineNumber,deltaColumn){return deltaLineNumber===void 0&&(deltaLineNumber=0),deltaColumn===void 0&&(deltaColumn=0),this.with(this.lineNumber+deltaLineNumber,this.column+deltaColumn)},Position2.prototype.equals=function(other){return Position2.equals(this,other)},Position2.equals=function(a,b){return!a&&!b?!0:!!a&&!!b&&a.lineNumber===b.lineNumber&&a.column===b.column},Position2.prototype.isBefore=function(other){return Position2.isBefore(this,other)},Position2.isBefore=function(a,b){return a.lineNumber<b.lineNumber?!0:b.lineNumber<a.lineNumber?!1:a.column<b.column},Position2.prototype.isBeforeOrEqual=function(other){return Position2.isBeforeOrEqual(this,other)},Position2.isBeforeOrEqual=function(a,b){return a.lineNumber<b.lineNumber?!0:b.lineNumber<a.lineNumber?!1:a.column<=b.column},Position2.compare=function(a,b){var aLineNumber=a.lineNumber|0,bLineNumber=b.lineNumber|0;if(aLineNumber===bLineNumber){var aColumn=a.column|0,bColumn=b.column|0;return aColumn-bColumn}return aLineNumber-bLineNumber},Position2.prototype.clone=function(){return new Position2(this.lineNumber,this.column)},Position2.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},Position2.lift=function(pos){return new Position2(pos.lineNumber,pos.column)},Position2.isIPosition=function(obj){return obj&&typeof obj.lineNumber=="number"&&typeof obj.column=="number"},Position2}()},2235:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return IThemeService}),__webpack_require__.d(__webpack_exports__,"f",function(){return themeColorFromId}),__webpack_require__.d(__webpack_exports__,"b",function(){return HIGH_CONTRAST}),__webpack_require__.d(__webpack_exports__,"d",function(){return getThemeTypeSelector}),__webpack_require__.d(__webpack_exports__,"a",function(){return Extensions}),__webpack_require__.d(__webpack_exports__,"e",function(){return registerThemingParticipant});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2033),_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2818),_base_common_event_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2106),IThemeService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("themeService");function themeColorFromId(id){return{id}}var DARK="dark",HIGH_CONTRAST="hc";function getThemeTypeSelector(type){switch(type){case DARK:return"vs-dark";case HIGH_CONTRAST:return"hc-black";default:return"vs"}}var Extensions={ThemingContribution:"base.contributions.theming"},ThemingRegistry=function(){function ThemingRegistry2(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a}return ThemingRegistry2.prototype.onThemeChange=function(participant){var _this=this;return this.themingParticipants.push(participant),this.onThemingParticipantAddedEmitter.fire(participant),Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.h)(function(){var idx=_this.themingParticipants.indexOf(participant);_this.themingParticipants.splice(idx,1)})},ThemingRegistry2.prototype.getThemingParticipants=function(){return this.themingParticipants},ThemingRegistry2}(),themingRegistry=new ThemingRegistry;_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.a.add(Extensions.ThemingContribution,themingRegistry);function registerThemingParticipant(participant){return themingRegistry.onThemeChange(participant)}},2236:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process,global){__webpack_require__.d(__webpack_exports__,"h",function(){return isWindows}),__webpack_require__.d(__webpack_exports__,"e",function(){return isMacintosh}),__webpack_require__.d(__webpack_exports__,"d",function(){return isLinux}),__webpack_require__.d(__webpack_exports__,"f",function(){return isNative}),__webpack_require__.d(__webpack_exports__,"g",function(){return isWeb}),__webpack_require__.d(__webpack_exports__,"c",function(){return isIOS}),__webpack_require__.d(__webpack_exports__,"b",function(){return globals}),__webpack_require__.d(__webpack_exports__,"i",function(){return setImmediate}),__webpack_require__.d(__webpack_exports__,"a",function(){return OS});var LANGUAGE_DEFAULT="en",_isWindows=!1,_isMacintosh=!1,_isLinux=!1,_isNative=!1,_isWeb=!1,_isIOS=!1,_locale=void 0,_language=LANGUAGE_DEFAULT,_translationsConfigFile=void 0,_userAgent=void 0,isElectronRenderer=typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.electron<"u"&&process.type==="renderer";if(typeof navigator=="object"&&!isElectronRenderer)_userAgent=navigator.userAgent,_isWindows=_userAgent.indexOf("Windows")>=0,_isMacintosh=_userAgent.indexOf("Macintosh")>=0,_isIOS=_userAgent.indexOf("Macintosh")>=0&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_isLinux=_userAgent.indexOf("Linux")>=0,_isWeb=!0,_locale=navigator.language,_language=_locale;else if(typeof process=="object"){_isWindows=process.platform==="win32",_isMacintosh=process.platform==="darwin",_isLinux=process.platform==="linux",_locale=LANGUAGE_DEFAULT,_language=LANGUAGE_DEFAULT;var rawNlsConfig=Object({NODE_ENV:"production",PUBLIC_URL:"https://cdn.builder.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).VSCODE_NLS_CONFIG;if(rawNlsConfig)try{var nlsConfig=JSON.parse(rawNlsConfig),resolved=nlsConfig.availableLanguages["*"];_locale=nlsConfig.locale,_language=resolved||LANGUAGE_DEFAULT,_translationsConfigFile=nlsConfig._translationsConfigFile}catch{}_isNative=!0}var _platform=0;_isMacintosh?_platform=1:_isWindows?_platform=3:_isLinux&&(_platform=2);var isWindows=_isWindows,isMacintosh=_isMacintosh,isLinux=_isLinux,isNative=_isNative,isWeb=_isWeb,isIOS=_isIOS,_globals=typeof self=="object"?self:typeof global=="object"?global:{},globals=_globals,setImmediate=function(){if(globals.setImmediate)return globals.setImmediate.bind(globals);if(typeof globals.postMessage=="function"&&!globals.importScripts){var pending_1=[];globals.addEventListener("message",function(e){if(e.data&&e.data.vscodeSetImmediateId)for(var i=0,len=pending_1.length;i<len;i++){var candidate=pending_1[i];if(candidate.id===e.data.vscodeSetImmediateId){pending_1.splice(i,1),candidate.callback();return}}});var lastId_1=0;return function(callback){var myId=++lastId_1;pending_1.push({id:myId,callback}),globals.postMessage({vscodeSetImmediateId:myId},"*")}}if(typeof process<"u"&&typeof process.nextTick=="function")return process.nextTick.bind(process);var _promise=Promise.resolve();return function(callback){return _promise.then(callback)}}(),OS=_isMacintosh?2:_isWindows?1:3}).call(this,__webpack_require__(95),__webpack_require__(64))},2237:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",function(){return isThenable}),__webpack_require__.d(__webpack_exports__,"f",function(){return createCancelablePromise}),__webpack_require__.d(__webpack_exports__,"j",function(){return raceCancellation}),__webpack_require__.d(__webpack_exports__,"a",function(){return Delayer}),__webpack_require__.d(__webpack_exports__,"l",function(){return timeout}),__webpack_require__.d(__webpack_exports__,"g",function(){return disposableTimeout}),__webpack_require__.d(__webpack_exports__,"h",function(){return first}),__webpack_require__.d(__webpack_exports__,"e",function(){return TimeoutTimer}),__webpack_require__.d(__webpack_exports__,"c",function(){return IntervalTimer}),__webpack_require__.d(__webpack_exports__,"d",function(){return RunOnceScheduler}),__webpack_require__.d(__webpack_exports__,"k",function(){return runWhenIdle}),__webpack_require__.d(__webpack_exports__,"b",function(){return IdleValue});var _cancellation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2649),_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2176),_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2033);function isThenable(obj){return obj&&typeof obj.then=="function"}function createCancelablePromise(callback){var source=new _cancellation_js__WEBPACK_IMPORTED_MODULE_0__.b,thenable=callback(source.token),promise=new Promise(function(resolve,reject){source.token.onCancellationRequested(function(){reject(_errors_js__WEBPACK_IMPORTED_MODULE_1__.a())}),Promise.resolve(thenable).then(function(value){source.dispose(),resolve(value)},function(err){source.dispose(),reject(err)})});return new(function(){function class_1(){}return class_1.prototype.cancel=function(){source.cancel()},class_1.prototype.then=function(resolve,reject){return promise.then(resolve,reject)},class_1.prototype.catch=function(reject){return this.then(void 0,reject)},class_1.prototype.finally=function(onfinally){return promise.finally(onfinally)},class_1}())}function raceCancellation(promise,token,defaultValue){return Promise.race([promise,new Promise(function(resolve){return token.onCancellationRequested(function(){return resolve(defaultValue)})})])}var Delayer=function(){function Delayer2(defaultDelay){this.defaultDelay=defaultDelay,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}return Delayer2.prototype.trigger=function(task,delay){var _this=this;return delay===void 0&&(delay=this.defaultDelay),this.task=task,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(function(c,e){_this.doResolve=c,_this.doReject=e}).then(function(){if(_this.completionPromise=null,_this.doResolve=null,_this.task){var task_1=_this.task;return _this.task=null,task_1()}})),this.timeout=setTimeout(function(){_this.timeout=null,_this.doResolve&&_this.doResolve(null)},delay),this.completionPromise},Delayer2.prototype.isTriggered=function(){return this.timeout!==null},Delayer2.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(_errors_js__WEBPACK_IMPORTED_MODULE_1__.a()),this.completionPromise=null)},Delayer2.prototype.cancelTimeout=function(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)},Delayer2.prototype.dispose=function(){this.cancelTimeout()},Delayer2}();function timeout(millis,token){return token?new Promise(function(resolve,reject){var handle=setTimeout(resolve,millis);token.onCancellationRequested(function(){clearTimeout(handle),reject(_errors_js__WEBPACK_IMPORTED_MODULE_1__.a())})}):createCancelablePromise(function(token2){return timeout(millis,token2)})}function disposableTimeout(handler,timeout2){timeout2===void 0&&(timeout2=0);var timer=setTimeout(handler,timeout2);return Object(_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.h)(function(){return clearTimeout(timer)})}function first(promiseFactories,shouldStop,defaultValue){shouldStop===void 0&&(shouldStop=function(t){return!!t}),defaultValue===void 0&&(defaultValue=null);var index=0,len=promiseFactories.length,loop=function(){if(index>=len)return Promise.resolve(defaultValue);var factory=promiseFactories[index++],promise=Promise.resolve(factory());return promise.then(function(result){return shouldStop(result)?Promise.resolve(result):loop()})};return loop()}var TimeoutTimer=function(){function TimeoutTimer2(runner,timeout2){this._token=-1,typeof runner=="function"&&typeof timeout2=="number"&&this.setIfNotSet(runner,timeout2)}return TimeoutTimer2.prototype.dispose=function(){this.cancel()},TimeoutTimer2.prototype.cancel=function(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)},TimeoutTimer2.prototype.cancelAndSet=function(runner,timeout2){var _this=this;this.cancel(),this._token=setTimeout(function(){_this._token=-1,runner()},timeout2)},TimeoutTimer2.prototype.setIfNotSet=function(runner,timeout2){var _this=this;this._token===-1&&(this._token=setTimeout(function(){_this._token=-1,runner()},timeout2))},TimeoutTimer2}(),IntervalTimer=function(){function IntervalTimer2(){this._token=-1}return IntervalTimer2.prototype.dispose=function(){this.cancel()},IntervalTimer2.prototype.cancel=function(){this._token!==-1&&(clearInterval(this._token),this._token=-1)},IntervalTimer2.prototype.cancelAndSet=function(runner,interval){this.cancel(),this._token=setInterval(function(){runner()},interval)},IntervalTimer2}(),RunOnceScheduler=function(){function RunOnceScheduler2(runner,timeout2){this.timeoutToken=-1,this.runner=runner,this.timeout=timeout2,this.timeoutHandler=this.onTimeout.bind(this)}return RunOnceScheduler2.prototype.dispose=function(){this.cancel(),this.runner=null},RunOnceScheduler2.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},RunOnceScheduler2.prototype.schedule=function(delay){delay===void 0&&(delay=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,delay)},RunOnceScheduler2.prototype.isScheduled=function(){return this.timeoutToken!==-1},RunOnceScheduler2.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},RunOnceScheduler2.prototype.doRun=function(){this.runner&&this.runner()},RunOnceScheduler2}(),runWhenIdle;(function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){var dummyIdle_1=Object.freeze({didTimeout:!0,timeRemaining:function(){return 15}});runWhenIdle=function(runner){var handle=setTimeout(function(){return runner(dummyIdle_1)}),disposed=!1;return{dispose:function(){disposed||(disposed=!0,clearTimeout(handle))}}}}else runWhenIdle=function(runner,timeout2){var handle=requestIdleCallback(runner,typeof timeout2=="number"?{timeout:timeout2}:void 0),disposed=!1;return{dispose:function(){disposed||(disposed=!0,cancelIdleCallback(handle))}}}})();var IdleValue=function(){function IdleValue2(executor){var _this=this;this._didRun=!1,this._executor=function(){try{_this._value=executor()}catch(err){_this._error=err}finally{_this._didRun=!0}},this._handle=runWhenIdle(function(){return _this._executor()})}return IdleValue2.prototype.dispose=function(){this._handle.dispose()},IdleValue2.prototype.getValue=function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value},IdleValue2}()},2238:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ContextKeyExpr}),__webpack_require__.d(__webpack_exports__,"b",function(){return ContextKeyOrExpr}),__webpack_require__.d(__webpack_exports__,"d",function(){return RawContextKey}),__webpack_require__.d(__webpack_exports__,"c",function(){return IContextKeyService}),__webpack_require__.d(__webpack_exports__,"e",function(){return SET_CONTEXT_COMMAND_ID});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2232),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ContextKeyExpr=function(){function ContextKeyExpr2(){}return ContextKeyExpr2.has=function(key){return ContextKeyDefinedExpr.create(key)},ContextKeyExpr2.equals=function(key,value){return ContextKeyEqualsExpr.create(key,value)},ContextKeyExpr2.regex=function(key,value){return ContextKeyRegexExpr.create(key,value)},ContextKeyExpr2.not=function(key){return ContextKeyNotExpr.create(key)},ContextKeyExpr2.and=function(){for(var expr=[],_i=0;_i<arguments.length;_i++)expr[_i]=arguments[_i];return ContextKeyAndExpr.create(expr)},ContextKeyExpr2.or=function(){for(var expr=[],_i=0;_i<arguments.length;_i++)expr[_i]=arguments[_i];return ContextKeyOrExpr.create(expr)},ContextKeyExpr2.deserialize=function(serialized,strict){if(strict===void 0&&(strict=!1),!!serialized)return this._deserializeOrExpression(serialized,strict)},ContextKeyExpr2._deserializeOrExpression=function(serialized,strict){var _this=this,pieces=serialized.split("||");return ContextKeyOrExpr.create(pieces.map(function(p){return _this._deserializeAndExpression(p,strict)}))},ContextKeyExpr2._deserializeAndExpression=function(serialized,strict){var _this=this,pieces=serialized.split("&&");return ContextKeyAndExpr.create(pieces.map(function(p){return _this._deserializeOne(p,strict)}))},ContextKeyExpr2._deserializeOne=function(serializedOne,strict){if(serializedOne=serializedOne.trim(),serializedOne.indexOf("!=")>=0){var pieces=serializedOne.split("!=");return ContextKeyNotEqualsExpr.create(pieces[0].trim(),this._deserializeValue(pieces[1],strict))}if(serializedOne.indexOf("==")>=0){var pieces=serializedOne.split("==");return ContextKeyEqualsExpr.create(pieces[0].trim(),this._deserializeValue(pieces[1],strict))}if(serializedOne.indexOf("=~")>=0){var pieces=serializedOne.split("=~");return ContextKeyRegexExpr.create(pieces[0].trim(),this._deserializeRegexValue(pieces[1],strict))}return/^\!\s*/.test(serializedOne)?ContextKeyNotExpr.create(serializedOne.substr(1).trim()):ContextKeyDefinedExpr.create(serializedOne)},ContextKeyExpr2._deserializeValue=function(serializedValue,strict){if(serializedValue=serializedValue.trim(),serializedValue==="true")return!0;if(serializedValue==="false")return!1;var m=/^'([^']*)'$/.exec(serializedValue);return m?m[1].trim():serializedValue},ContextKeyExpr2._deserializeRegexValue=function(serializedValue,strict){if(Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.y)(serializedValue)){if(strict)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}var start=serializedValue.indexOf("/"),end=serializedValue.lastIndexOf("/");if(start===end||start<0){if(strict)throw new Error("bad regexp-value '"+serializedValue+"', missing /-enclosure");return console.warn("bad regexp-value '"+serializedValue+"', missing /-enclosure"),null}var value=serializedValue.slice(start+1,end),caseIgnoreFlag=serializedValue[end+1]==="i"?"i":"";try{return new RegExp(value,caseIgnoreFlag)}catch(e){if(strict)throw new Error("bad regexp-value '"+serializedValue+"', parse error: "+e);return console.warn("bad regexp-value '"+serializedValue+"', parse error: "+e),null}},ContextKeyExpr2}();function cmp(a,b){var aType=a.getType(),bType=b.getType();if(aType!==bType)return aType-bType;switch(aType){case 1:return a.cmp(b);case 2:return a.cmp(b);case 3:return a.cmp(b);case 4:return a.cmp(b);case 6:return a.cmp(b);case 7:return a.cmp(b);case 5:return a.cmp(b);default:throw new Error("Unknown ContextKeyExpr!")}}var ContextKeyDefinedExpr=function(){function ContextKeyDefinedExpr2(key){this.key=key}return ContextKeyDefinedExpr2.create=function(key){return new ContextKeyDefinedExpr2(key)},ContextKeyDefinedExpr2.prototype.getType=function(){return 1},ContextKeyDefinedExpr2.prototype.cmp=function(other){return this.key<other.key?-1:this.key>other.key?1:0},ContextKeyDefinedExpr2.prototype.equals=function(other){return other instanceof ContextKeyDefinedExpr2?this.key===other.key:!1},ContextKeyDefinedExpr2.prototype.evaluate=function(context){return!!context.getValue(this.key)},ContextKeyDefinedExpr2.prototype.keys=function(){return[this.key]},ContextKeyDefinedExpr2.prototype.negate=function(){return ContextKeyNotExpr.create(this.key)},ContextKeyDefinedExpr2}(),ContextKeyEqualsExpr=function(){function ContextKeyEqualsExpr2(key,value){this.key=key,this.value=value}return ContextKeyEqualsExpr2.create=function(key,value){return typeof value=="boolean"?value?ContextKeyDefinedExpr.create(key):ContextKeyNotExpr.create(key):new ContextKeyEqualsExpr2(key,value)},ContextKeyEqualsExpr2.prototype.getType=function(){return 3},ContextKeyEqualsExpr2.prototype.cmp=function(other){return this.key<other.key?-1:this.key>other.key?1:this.value<other.value?-1:this.value>other.value?1:0},ContextKeyEqualsExpr2.prototype.equals=function(other){return other instanceof ContextKeyEqualsExpr2?this.key===other.key&&this.value===other.value:!1},ContextKeyEqualsExpr2.prototype.evaluate=function(context){return context.getValue(this.key)==this.value},ContextKeyEqualsExpr2.prototype.keys=function(){return[this.key]},ContextKeyEqualsExpr2.prototype.negate=function(){return ContextKeyNotEqualsExpr.create(this.key,this.value)},ContextKeyEqualsExpr2}(),ContextKeyNotEqualsExpr=function(){function ContextKeyNotEqualsExpr2(key,value){this.key=key,this.value=value}return ContextKeyNotEqualsExpr2.create=function(key,value){return typeof value=="boolean"?value?ContextKeyNotExpr.create(key):ContextKeyDefinedExpr.create(key):new ContextKeyNotEqualsExpr2(key,value)},ContextKeyNotEqualsExpr2.prototype.getType=function(){return 4},ContextKeyNotEqualsExpr2.prototype.cmp=function(other){return this.key<other.key?-1:this.key>other.key?1:this.value<other.value?-1:this.value>other.value?1:0},ContextKeyNotEqualsExpr2.prototype.equals=function(other){return other instanceof ContextKeyNotEqualsExpr2?this.key===other.key&&this.value===other.value:!1},ContextKeyNotEqualsExpr2.prototype.evaluate=function(context){return context.getValue(this.key)!=this.value},ContextKeyNotEqualsExpr2.prototype.keys=function(){return[this.key]},ContextKeyNotEqualsExpr2.prototype.negate=function(){return ContextKeyEqualsExpr.create(this.key,this.value)},ContextKeyNotEqualsExpr2}(),ContextKeyNotExpr=function(){function ContextKeyNotExpr2(key){this.key=key}return ContextKeyNotExpr2.create=function(key){return new ContextKeyNotExpr2(key)},ContextKeyNotExpr2.prototype.getType=function(){return 2},ContextKeyNotExpr2.prototype.cmp=function(other){return this.key<other.key?-1:this.key>other.key?1:0},ContextKeyNotExpr2.prototype.equals=function(other){return other instanceof ContextKeyNotExpr2?this.key===other.key:!1},ContextKeyNotExpr2.prototype.evaluate=function(context){return!context.getValue(this.key)},ContextKeyNotExpr2.prototype.keys=function(){return[this.key]},ContextKeyNotExpr2.prototype.negate=function(){return ContextKeyDefinedExpr.create(this.key)},ContextKeyNotExpr2}(),ContextKeyRegexExpr=function(){function ContextKeyRegexExpr2(key,regexp){this.key=key,this.regexp=regexp}return ContextKeyRegexExpr2.create=function(key,regexp){return new ContextKeyRegexExpr2(key,regexp)},ContextKeyRegexExpr2.prototype.getType=function(){return 6},ContextKeyRegexExpr2.prototype.cmp=function(other){if(this.key<other.key)return-1;if(this.key>other.key)return 1;var thisSource=this.regexp?this.regexp.source:"",otherSource=other.regexp?other.regexp.source:"";return thisSource<otherSource?-1:thisSource>otherSource?1:0},ContextKeyRegexExpr2.prototype.equals=function(other){if(other instanceof ContextKeyRegexExpr2){var thisSource=this.regexp?this.regexp.source:"",otherSource=other.regexp?other.regexp.source:"";return this.key===other.key&&thisSource===otherSource}return!1},ContextKeyRegexExpr2.prototype.evaluate=function(context){var value=context.getValue(this.key);return this.regexp?this.regexp.test(value):!1},ContextKeyRegexExpr2.prototype.keys=function(){return[this.key]},ContextKeyRegexExpr2.prototype.negate=function(){return ContextKeyNotRegexExpr.create(this)},ContextKeyRegexExpr2}(),ContextKeyNotRegexExpr=function(){function ContextKeyNotRegexExpr2(_actual){this._actual=_actual}return ContextKeyNotRegexExpr2.create=function(actual){return new ContextKeyNotRegexExpr2(actual)},ContextKeyNotRegexExpr2.prototype.getType=function(){return 7},ContextKeyNotRegexExpr2.prototype.cmp=function(other){return this._actual.cmp(other._actual)},ContextKeyNotRegexExpr2.prototype.equals=function(other){return other instanceof ContextKeyNotRegexExpr2?this._actual.equals(other._actual):!1},ContextKeyNotRegexExpr2.prototype.evaluate=function(context){return!this._actual.evaluate(context)},ContextKeyNotRegexExpr2.prototype.keys=function(){return this._actual.keys()},ContextKeyNotRegexExpr2.prototype.negate=function(){return this._actual},ContextKeyNotRegexExpr2}(),ContextKeyAndExpr=function(){function ContextKeyAndExpr2(expr){this.expr=expr}return ContextKeyAndExpr2.create=function(_expr){var expr=ContextKeyAndExpr2._normalizeArr(_expr);if(expr.length!==0)return expr.length===1?expr[0]:new ContextKeyAndExpr2(expr)},ContextKeyAndExpr2.prototype.getType=function(){return 5},ContextKeyAndExpr2.prototype.cmp=function(other){if(this.expr.length<other.expr.length)return-1;if(this.expr.length>other.expr.length)return 1;for(var i=0,len=this.expr.length;i<len;i++){var r=cmp(this.expr[i],other.expr[i]);if(r!==0)return r}return 0},ContextKeyAndExpr2.prototype.equals=function(other){if(other instanceof ContextKeyAndExpr2){if(this.expr.length!==other.expr.length)return!1;for(var i=0,len=this.expr.length;i<len;i++)if(!this.expr[i].equals(other.expr[i]))return!1;return!0}return!1},ContextKeyAndExpr2.prototype.evaluate=function(context){for(var i=0,len=this.expr.length;i<len;i++)if(!this.expr[i].evaluate(context))return!1;return!0},ContextKeyAndExpr2._normalizeArr=function(arr){var expr=[];if(arr){for(var i=0,len=arr.length;i<len;i++){var e=arr[i];if(e){if(e instanceof ContextKeyAndExpr2){expr=expr.concat(e.expr);continue}if(e instanceof ContextKeyOrExpr)throw new Error('It is not allowed to have an or expression here due to lack of parens! For example "a && (b||c)" is not supported, use "(a&&b) || (a&&c)" instead.');expr.push(e)}}expr.sort(cmp)}return expr},ContextKeyAndExpr2.prototype.keys=function(){for(var result=[],_i=0,_a=this.expr;_i<_a.length;_i++){var expr=_a[_i];result.push.apply(result,expr.keys())}return result},ContextKeyAndExpr2.prototype.negate=function(){for(var result=[],_i=0,_a=this.expr;_i<_a.length;_i++){var expr=_a[_i];result.push(expr.negate())}return ContextKeyOrExpr.create(result)},ContextKeyAndExpr2}(),ContextKeyOrExpr=function(){function ContextKeyOrExpr2(expr){this.expr=expr}return ContextKeyOrExpr2.create=function(_expr){var expr=ContextKeyOrExpr2._normalizeArr(_expr);if(expr.length!==0)return expr.length===1?expr[0]:new ContextKeyOrExpr2(expr)},ContextKeyOrExpr2.prototype.getType=function(){return 8},ContextKeyOrExpr2.prototype.equals=function(other){if(other instanceof ContextKeyOrExpr2){if(this.expr.length!==other.expr.length)return!1;for(var i=0,len=this.expr.length;i<len;i++)if(!this.expr[i].equals(other.expr[i]))return!1;return!0}return!1},ContextKeyOrExpr2.prototype.evaluate=function(context){for(var i=0,len=this.expr.length;i<len;i++)if(this.expr[i].evaluate(context))return!0;return!1},ContextKeyOrExpr2._normalizeArr=function(arr){var expr=[];if(arr){for(var i=0,len=arr.length;i<len;i++){var e=arr[i];if(e){if(e instanceof ContextKeyOrExpr2){expr=expr.concat(e.expr);continue}expr.push(e)}}expr.sort(cmp)}return expr},ContextKeyOrExpr2.prototype.keys=function(){for(var result=[],_i=0,_a=this.expr;_i<_a.length;_i++){var expr=_a[_i];result.push.apply(result,expr.keys())}return result},ContextKeyOrExpr2.prototype.negate=function(){for(var result=[],_i=0,_a=this.expr;_i<_a.length;_i++){var expr=_a[_i];result.push(expr.negate())}for(var terminals=function(node){return node instanceof ContextKeyOrExpr2?node.expr:[node]};result.length>1;){for(var LEFT=result.shift(),RIGHT=result.shift(),all=[],_b=0,_c=terminals(LEFT);_b<_c.length;_b++)for(var left=_c[_b],_d=0,_e=terminals(RIGHT);_d<_e.length;_d++){var right=_e[_d];all.push(ContextKeyExpr.and(left,right))}result.unshift(ContextKeyExpr.or.apply(ContextKeyExpr,all))}return result[0]},ContextKeyOrExpr2}(),RawContextKey=function(_super){__extends(RawContextKey2,_super);function RawContextKey2(key,defaultValue){var _this=_super.call(this,key)||this;return _this._defaultValue=defaultValue,_this}return RawContextKey2.prototype.bindTo=function(target){return target.createKey(this.key,this._defaultValue)},RawContextKey2.prototype.getValue=function(target){return target.getContextKeyValue(this.key)},RawContextKey2.prototype.toNegated=function(){return ContextKeyExpr.not(this.key)},RawContextKey2}(ContextKeyDefinedExpr),IContextKeyService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("contextKeyService"),SET_CONTEXT_COMMAND_ID="setContext"},2240:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"p",function(){return LanguageIdentifier}),__webpack_require__.d(__webpack_exports__,"z",function(){return TokenMetadata}),__webpack_require__.d(__webpack_exports__,"D",function(){return completionKindToCssClass}),__webpack_require__.d(__webpack_exports__,"C",function(){return completionKindFromString}),__webpack_require__.d(__webpack_exports__,"x",function(){return SignatureHelpTriggerKind}),__webpack_require__.d(__webpack_exports__,"h",function(){return DocumentHighlightKind}),__webpack_require__.d(__webpack_exports__,"E",function(){return isLocationLink}),__webpack_require__.d(__webpack_exports__,"y",function(){return SymbolKinds}),__webpack_require__.d(__webpack_exports__,"l",function(){return FoldingRangeKind}),__webpack_require__.d(__webpack_exports__,"F",function(){return isResourceTextEdit}),__webpack_require__.d(__webpack_exports__,"s",function(){return ReferenceProviderRegistry}),__webpack_require__.d(__webpack_exports__,"t",function(){return RenameProviderRegistry}),__webpack_require__.d(__webpack_exports__,"d",function(){return CompletionProviderRegistry}),__webpack_require__.d(__webpack_exports__,"w",function(){return SignatureHelpProviderRegistry}),__webpack_require__.d(__webpack_exports__,"n",function(){return HoverProviderRegistry}),__webpack_require__.d(__webpack_exports__,"k",function(){return DocumentSymbolProviderRegistry}),__webpack_require__.d(__webpack_exports__,"i",function(){return DocumentHighlightProviderRegistry}),__webpack_require__.d(__webpack_exports__,"f",function(){return DefinitionProviderRegistry}),__webpack_require__.d(__webpack_exports__,"e",function(){return DeclarationProviderRegistry}),__webpack_require__.d(__webpack_exports__,"o",function(){return ImplementationProviderRegistry}),__webpack_require__.d(__webpack_exports__,"B",function(){return TypeDefinitionProviderRegistry}),__webpack_require__.d(__webpack_exports__,"b",function(){return CodeLensProviderRegistry}),__webpack_require__.d(__webpack_exports__,"a",function(){return CodeActionProviderRegistry}),__webpack_require__.d(__webpack_exports__,"g",function(){return DocumentFormattingEditProviderRegistry}),__webpack_require__.d(__webpack_exports__,"j",function(){return DocumentRangeFormattingEditProviderRegistry}),__webpack_require__.d(__webpack_exports__,"r",function(){return OnTypeFormattingEditProviderRegistry}),__webpack_require__.d(__webpack_exports__,"q",function(){return LinkProviderRegistry}),__webpack_require__.d(__webpack_exports__,"c",function(){return ColorProviderRegistry}),__webpack_require__.d(__webpack_exports__,"u",function(){return SelectionRangeRegistry}),__webpack_require__.d(__webpack_exports__,"m",function(){return FoldingRangeProviderRegistry}),__webpack_require__.d(__webpack_exports__,"v",function(){return SemanticTokensProviderRegistry}),__webpack_require__.d(__webpack_exports__,"A",function(){return TokenizationRegistry});var types=__webpack_require__(2631),uri=__webpack_require__(2640),range=__webpack_require__(2056),common_event=__webpack_require__(2106),lifecycle=__webpack_require__(2033),glob=__webpack_require__(3864);function score(selector,candidateUri,candidateLanguage,candidateIsSynchronized){if(Array.isArray(selector)){for(var ret=0,_i=0,selector_1=selector;_i<selector_1.length;_i++){var filter=selector_1[_i],value=score(filter,candidateUri,candidateLanguage,candidateIsSynchronized);if(value===10)return value;value>ret&&(ret=value)}return ret}else{if(typeof selector=="string")return candidateIsSynchronized?selector==="*"?5:selector===candidateLanguage?10:0:0;if(selector){var language=selector.language,pattern=selector.pattern,scheme=selector.scheme,hasAccessToAllModels=selector.hasAccessToAllModels;if(!candidateIsSynchronized&&!hasAccessToAllModels)return 0;var ret=0;if(scheme)if(scheme===candidateUri.scheme)ret=10;else if(scheme==="*")ret=5;else return 0;if(language)if(language===candidateLanguage)ret=10;else if(language==="*")ret=Math.max(ret,5);else return 0;if(pattern)if(pattern===candidateUri.fsPath||Object(glob.a)(pattern,candidateUri.fsPath))ret=10;else return 0;return ret}else return 0}}var modelService=__webpack_require__(2817);function isExclusive(selector){return typeof selector=="string"?!1:Array.isArray(selector)?selector.every(isExclusive):!!selector.exclusive}var languageFeatureRegistry_LanguageFeatureRegistry=function(){function LanguageFeatureRegistry(){this._clock=0,this._entries=[],this._onDidChange=new common_event.a}return Object.defineProperty(LanguageFeatureRegistry.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),LanguageFeatureRegistry.prototype.register=function(selector,provider){var _this=this,entry={selector,provider,_score:-1,_time:this._clock++};return this._entries.push(entry),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(lifecycle.h)(function(){if(entry){var idx=_this._entries.indexOf(entry);idx>=0&&(_this._entries.splice(idx,1),_this._lastCandidate=void 0,_this._onDidChange.fire(_this._entries.length),entry=void 0)}})},LanguageFeatureRegistry.prototype.has=function(model){return this.all(model).length>0},LanguageFeatureRegistry.prototype.all=function(model){if(!model)return[];this._updateScores(model);for(var result=[],_i=0,_a=this._entries;_i<_a.length;_i++){var entry=_a[_i];entry._score>0&&result.push(entry.provider)}return result},LanguageFeatureRegistry.prototype.ordered=function(model){var result=[];return this._orderedForEach(model,function(entry){return result.push(entry.provider)}),result},LanguageFeatureRegistry.prototype.orderedGroups=function(model){var result=[],lastBucket,lastBucketScore;return this._orderedForEach(model,function(entry){lastBucket&&lastBucketScore===entry._score?lastBucket.push(entry.provider):(lastBucketScore=entry._score,lastBucket=[entry.provider],result.push(lastBucket))}),result},LanguageFeatureRegistry.prototype._orderedForEach=function(model,callback){if(model){this._updateScores(model);for(var _i=0,_a=this._entries;_i<_a.length;_i++){var entry=_a[_i];entry._score>0&&callback(entry)}}},LanguageFeatureRegistry.prototype._updateScores=function(model){var candidate={uri:model.uri.toString(),language:model.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===candidate.language&&this._lastCandidate.uri===candidate.uri)){this._lastCandidate=candidate;for(var _i=0,_a=this._entries;_i<_a.length;_i++){var entry=_a[_i];if(entry._score=score(entry.selector,model.uri,model.getLanguageIdentifier().language,Object(modelService.b)(model)),isExclusive(entry.selector)&&entry._score>0){for(var _b=0,_c=this._entries;_b<_c.length;_b++){var entry_1=_c[_b];entry_1._score=0}entry._score=1e3;break}}this._entries.sort(LanguageFeatureRegistry._compareByScoreAndTime)}},LanguageFeatureRegistry._compareByScoreAndTime=function(a,b){return a._score<b._score?1:a._score>b._score?-1:a._time<b._time?1:a._time>b._time?-1:0},LanguageFeatureRegistry}(),map=__webpack_require__(2803),tokenizationRegistry_TokenizationRegistryImpl=function(){function TokenizationRegistryImpl(){this._map=new Map,this._promises=new Map,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._colorMap=null}return TokenizationRegistryImpl.prototype.fire=function(languages){this._onDidChange.fire({changedLanguages:languages,changedColorMap:!1})},TokenizationRegistryImpl.prototype.register=function(language,support){var _this=this;return this._map.set(language,support),this.fire([language]),Object(lifecycle.h)(function(){_this._map.get(language)===support&&(_this._map.delete(language),_this.fire([language]))})},TokenizationRegistryImpl.prototype.registerPromise=function(language,supportPromise){var _this=this,registration=null,isDisposed=!1;return this._promises.set(language,supportPromise.then(function(support){_this._promises.delete(language),!(isDisposed||!support)&&(registration=_this.register(language,support))})),Object(lifecycle.h)(function(){isDisposed=!0,registration&&registration.dispose()})},TokenizationRegistryImpl.prototype.getPromise=function(language){var _this=this,support=this.get(language);if(support)return Promise.resolve(support);var promise=this._promises.get(language);return promise?promise.then(function(_){return _this.get(language)}):null},TokenizationRegistryImpl.prototype.get=function(language){return Object(types.o)(this._map.get(language))},TokenizationRegistryImpl.prototype.setColorMap=function(colorMap){this._colorMap=colorMap,this._onDidChange.fire({changedLanguages:Object(map.d)(this._map),changedColorMap:!0})},TokenizationRegistryImpl.prototype.getColorMap=function(){return this._colorMap},TokenizationRegistryImpl.prototype.getDefaultBackground=function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null},TokenizationRegistryImpl}(),LanguageIdentifier=function(){function LanguageIdentifier2(language,id){this.language=language,this.id=id}return LanguageIdentifier2}(),TokenMetadata=function(){function TokenMetadata2(){}return TokenMetadata2.getLanguageId=function(metadata){return(metadata&255)>>>0},TokenMetadata2.getTokenType=function(metadata){return(metadata&1792)>>>8},TokenMetadata2.getFontStyle=function(metadata){return(metadata&14336)>>>11},TokenMetadata2.getForeground=function(metadata){return(metadata&8372224)>>>14},TokenMetadata2.getBackground=function(metadata){return(metadata&4286578688)>>>23},TokenMetadata2.getClassNameFromMetadata=function(metadata){var foreground=this.getForeground(metadata),className="mtk"+foreground,fontStyle=this.getFontStyle(metadata);return fontStyle&1&&(className+=" mtki"),fontStyle&2&&(className+=" mtkb"),fontStyle&4&&(className+=" mtku"),className},TokenMetadata2.getInlineStyleFromMetadata=function(metadata,colorMap){var foreground=this.getForeground(metadata),fontStyle=this.getFontStyle(metadata),result="color: "+colorMap[foreground]+";";return fontStyle&1&&(result+="font-style: italic;"),fontStyle&2&&(result+="font-weight: bold;"),fontStyle&4&&(result+="text-decoration: underline;"),result},TokenMetadata2}(),completionKindToCssClass=function(){var data=Object.create(null);return data[0]="method",data[1]="function",data[2]="constructor",data[3]="field",data[4]="variable",data[5]="class",data[6]="struct",data[7]="interface",data[8]="module",data[9]="property",data[10]="event",data[11]="operator",data[12]="unit",data[13]="value",data[14]="constant",data[15]="enum",data[16]="enum-member",data[17]="keyword",data[25]="snippet",data[18]="text",data[19]="color",data[20]="file",data[21]="reference",data[22]="customcolor",data[23]="folder",data[24]="type-parameter",function(kind){return data[kind]||"property"}}(),completionKindFromString=function(){var data=Object.create(null);return data.method=0,data.function=1,data.constructor=2,data.field=3,data.variable=4,data.class=5,data.struct=6,data.interface=7,data.module=8,data.property=9,data.event=10,data.operator=11,data.unit=12,data.value=13,data.constant=14,data.enum=15,data["enum-member"]=16,data.enumMember=16,data.keyword=17,data.snippet=25,data.text=18,data.color=19,data.file=20,data.reference=21,data.customcolor=22,data.folder=23,data["type-parameter"]=24,data.typeParameter=24,function(value,strict){var res=data[value];return typeof res>"u"&&!strict&&(res=9),res}}(),SignatureHelpTriggerKind;(function(SignatureHelpTriggerKind2){SignatureHelpTriggerKind2[SignatureHelpTriggerKind2.Invoke=1]="Invoke",SignatureHelpTriggerKind2[SignatureHelpTriggerKind2.TriggerCharacter=2]="TriggerCharacter",SignatureHelpTriggerKind2[SignatureHelpTriggerKind2.ContentChange=3]="ContentChange"})(SignatureHelpTriggerKind||(SignatureHelpTriggerKind={}));var DocumentHighlightKind;(function(DocumentHighlightKind2){DocumentHighlightKind2[DocumentHighlightKind2.Text=0]="Text",DocumentHighlightKind2[DocumentHighlightKind2.Read=1]="Read",DocumentHighlightKind2[DocumentHighlightKind2.Write=2]="Write"})(DocumentHighlightKind||(DocumentHighlightKind={}));function isLocationLink(thing){return thing&&uri.a.isUri(thing.uri)&&range.a.isIRange(thing.range)&&(range.a.isIRange(thing.originSelectionRange)||range.a.isIRange(thing.targetSelectionRange))}var SymbolKinds;(function(SymbolKinds2){var byName=new Map;byName.set("file",0),byName.set("module",1),byName.set("namespace",2),byName.set("package",3),byName.set("class",4),byName.set("method",5),byName.set("property",6),byName.set("field",7),byName.set("constructor",8),byName.set("enum",9),byName.set("interface",10),byName.set("function",11),byName.set("variable",12),byName.set("constant",13),byName.set("string",14),byName.set("number",15),byName.set("boolean",16),byName.set("array",17),byName.set("object",18),byName.set("key",19),byName.set("null",20),byName.set("enum-member",21),byName.set("struct",22),byName.set("event",23),byName.set("operator",24),byName.set("type-parameter",25);var byKind=new Map;byKind.set(0,"file"),byKind.set(1,"module"),byKind.set(2,"namespace"),byKind.set(3,"package"),byKind.set(4,"class"),byKind.set(5,"method"),byKind.set(6,"property"),byKind.set(7,"field"),byKind.set(8,"constructor"),byKind.set(9,"enum"),byKind.set(10,"interface"),byKind.set(11,"function"),byKind.set(12,"variable"),byKind.set(13,"constant"),byKind.set(14,"string"),byKind.set(15,"number"),byKind.set(16,"boolean"),byKind.set(17,"array"),byKind.set(18,"object"),byKind.set(19,"key"),byKind.set(20,"null"),byKind.set(21,"enum-member"),byKind.set(22,"struct"),byKind.set(23,"event"),byKind.set(24,"operator"),byKind.set(25,"type-parameter");function fromString(value){return byName.get(value)}SymbolKinds2.fromString=fromString;function toString(kind){return byKind.get(kind)}SymbolKinds2.toString=toString;function toCssClassName(kind,inline){return"codicon "+(inline?"inline":"block")+" codicon-symbol-"+(byKind.get(kind)||"property")}SymbolKinds2.toCssClassName=toCssClassName})(SymbolKinds||(SymbolKinds={}));var FoldingRangeKind=function(){function FoldingRangeKind2(value){this.value=value}return FoldingRangeKind2.Comment=new FoldingRangeKind2("comment"),FoldingRangeKind2.Imports=new FoldingRangeKind2("imports"),FoldingRangeKind2.Region=new FoldingRangeKind2("region"),FoldingRangeKind2}();function isResourceTextEdit(thing){return Object(types.i)(thing)&&thing.resource&&Array.isArray(thing.edits)}var ReferenceProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,RenameProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,CompletionProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,SignatureHelpProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,HoverProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentSymbolProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentHighlightProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DefinitionProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DeclarationProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,ImplementationProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,TypeDefinitionProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,CodeLensProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,CodeActionProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentFormattingEditProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentRangeFormattingEditProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,OnTypeFormattingEditProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,LinkProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,ColorProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,SelectionRangeRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,FoldingRangeProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,SemanticTokensProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,TokenizationRegistry=new tokenizationRegistry_TokenizationRegistryImpl},2248:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SnippetController2",function(){return snippetController2_SnippetController2});var lifecycle=__webpack_require__(2033),strings=__webpack_require__(2123),editorExtensions=__webpack_require__(2099),core_range=__webpack_require__(2056),core_selection=__webpack_require__(2629),editorContextKeys=__webpack_require__(2632),suggest=__webpack_require__(3382),contextkey=__webpack_require__(2238),log=__webpack_require__(3510),arrays=__webpack_require__(2389),snippetSession=__webpack_require__(5802),editOperation=__webpack_require__(3115),textModel=__webpack_require__(2720),common_clipboardService=__webpack_require__(3501),workspace=__webpack_require__(3511),instantiation=__webpack_require__(2232),snippetParser=__webpack_require__(3512),nls=__webpack_require__(2069),path=__webpack_require__(3236),resources=__webpack_require__(2785),languageConfigurationRegistry=__webpack_require__(2810),uri=__webpack_require__(2640),WORKSPACE_EXTENSION="code-workspace";function isSingleFolderWorkspaceIdentifier(obj){return obj instanceof uri.a}function toWorkspaceIdentifier(workspace2){if(workspace2.configuration)return{configPath:workspace2.configuration,id:workspace2.id};if(workspace2.folders.length===1)return workspace2.folders[0].uri}var labels=__webpack_require__(3502),CompositeSnippetVariableResolver=function(){function CompositeSnippetVariableResolver2(_delegates){this._delegates=_delegates}return CompositeSnippetVariableResolver2.prototype.resolve=function(variable){for(var _i=0,_a=this._delegates;_i<_a.length;_i++){var delegate=_a[_i],value=delegate.resolve(variable);if(value!==void 0)return value}},CompositeSnippetVariableResolver2}(),snippetVariables_SelectionBasedVariableResolver=function(){function SelectionBasedVariableResolver(_model,_selection){this._model=_model,this._selection=_selection}return SelectionBasedVariableResolver.prototype.resolve=function(variable){var name=variable.name;if(name==="SELECTION"||name==="TM_SELECTED_TEXT"){var value=this._model.getValueInRange(this._selection)||void 0;if(value&&this._selection.startLineNumber!==this._selection.endLineNumber&&variable.snippet){var line=this._model.getLineContent(this._selection.startLineNumber),lineLeadingWhitespace=Object(strings.u)(line,0,this._selection.startColumn-1),varLeadingWhitespace_1=lineLeadingWhitespace;variable.snippet.walk(function(marker){return marker===variable?!1:(marker instanceof snippetParser.d&&(varLeadingWhitespace_1=Object(strings.u)(marker.value.split(/\r\n|\r|\n/).pop())),!0)});var whitespaceCommonLength_1=Object(strings.c)(varLeadingWhitespace_1,lineLeadingWhitespace);value=value.replace(/(\r\n|\r|\n)(.*)/g,function(m,newline,rest){return""+newline+varLeadingWhitespace_1.substr(whitespaceCommonLength_1)+rest})}return value}else{if(name==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(name==="TM_CURRENT_WORD"){var info=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return info&&info.word||void 0}else{if(name==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(name==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}},SelectionBasedVariableResolver}(),snippetVariables_ModelBasedVariableResolver=function(){function ModelBasedVariableResolver(_labelService,_model){this._labelService=_labelService,this._model=_model}return ModelBasedVariableResolver.prototype.resolve=function(variable){var name=variable.name;if(name==="TM_FILENAME")return path.basename(this._model.uri.fsPath);if(name==="TM_FILENAME_BASE"){var name_1=path.basename(this._model.uri.fsPath),idx=name_1.lastIndexOf(".");return idx<=0?name_1:name_1.slice(0,idx)}else{if(name==="TM_DIRECTORY"&&this._labelService)return path.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(Object(resources.d)(this._model.uri));if(name==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri)}},ModelBasedVariableResolver}(),snippetVariables_ClipboardBasedVariableResolver=function(){function ClipboardBasedVariableResolver(_readClipboardText,_selectionIdx,_selectionCount,_spread){this._readClipboardText=_readClipboardText,this._selectionIdx=_selectionIdx,this._selectionCount=_selectionCount,this._spread=_spread}return ClipboardBasedVariableResolver.prototype.resolve=function(variable){if(variable.name==="CLIPBOARD"){var clipboardText=this._readClipboardText();if(clipboardText){if(this._spread){var lines=clipboardText.split(/\r\n|\n|\r/).filter(function(s){return!Object(strings.y)(s)});if(lines.length===this._selectionCount)return lines[this._selectionIdx]}return clipboardText}}},ClipboardBasedVariableResolver}(),snippetVariables_CommentBasedVariableResolver=function(){function CommentBasedVariableResolver(_model){this._model=_model}return CommentBasedVariableResolver.prototype.resolve=function(variable){var name=variable.name,language=this._model.getLanguageIdentifier(),config=languageConfigurationRegistry.a.getComments(language.id);if(config){if(name==="LINE_COMMENT")return config.lineCommentToken||void 0;if(name==="BLOCK_COMMENT_START")return config.blockCommentStartToken||void 0;if(name==="BLOCK_COMMENT_END")return config.blockCommentEndToken||void 0}},CommentBasedVariableResolver}(),snippetVariables_TimeBasedVariableResolver=function(){function TimeBasedVariableResolver(){}return TimeBasedVariableResolver.prototype.resolve=function(variable){var name=variable.name;if(name==="CURRENT_YEAR")return String(new Date().getFullYear());if(name==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(name==="CURRENT_MONTH")return Object(strings.G)(new Date().getMonth().valueOf()+1,2);if(name==="CURRENT_DATE")return Object(strings.G)(new Date().getDate().valueOf(),2);if(name==="CURRENT_HOUR")return Object(strings.G)(new Date().getHours().valueOf(),2);if(name==="CURRENT_MINUTE")return Object(strings.G)(new Date().getMinutes().valueOf(),2);if(name==="CURRENT_SECOND")return Object(strings.G)(new Date().getSeconds().valueOf(),2);if(name==="CURRENT_DAY_NAME")return TimeBasedVariableResolver.dayNames[new Date().getDay()];if(name==="CURRENT_DAY_NAME_SHORT")return TimeBasedVariableResolver.dayNamesShort[new Date().getDay()];if(name==="CURRENT_MONTH_NAME")return TimeBasedVariableResolver.monthNames[new Date().getMonth()];if(name==="CURRENT_MONTH_NAME_SHORT")return TimeBasedVariableResolver.monthNamesShort[new Date().getMonth()];if(name==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))},TimeBasedVariableResolver.dayNames=[nls.a("Sunday","Sunday"),nls.a("Monday","Monday"),nls.a("Tuesday","Tuesday"),nls.a("Wednesday","Wednesday"),nls.a("Thursday","Thursday"),nls.a("Friday","Friday"),nls.a("Saturday","Saturday")],TimeBasedVariableResolver.dayNamesShort=[nls.a("SundayShort","Sun"),nls.a("MondayShort","Mon"),nls.a("TuesdayShort","Tue"),nls.a("WednesdayShort","Wed"),nls.a("ThursdayShort","Thu"),nls.a("FridayShort","Fri"),nls.a("SaturdayShort","Sat")],TimeBasedVariableResolver.monthNames=[nls.a("January","January"),nls.a("February","February"),nls.a("March","March"),nls.a("April","April"),nls.a("May","May"),nls.a("June","June"),nls.a("July","July"),nls.a("August","August"),nls.a("September","September"),nls.a("October","October"),nls.a("November","November"),nls.a("December","December")],TimeBasedVariableResolver.monthNamesShort=[nls.a("JanuaryShort","Jan"),nls.a("FebruaryShort","Feb"),nls.a("MarchShort","Mar"),nls.a("AprilShort","Apr"),nls.a("MayShort","May"),nls.a("JuneShort","Jun"),nls.a("JulyShort","Jul"),nls.a("AugustShort","Aug"),nls.a("SeptemberShort","Sep"),nls.a("OctoberShort","Oct"),nls.a("NovemberShort","Nov"),nls.a("DecemberShort","Dec")],TimeBasedVariableResolver}(),snippetVariables_WorkspaceBasedVariableResolver=function(){function WorkspaceBasedVariableResolver(_workspaceService){this._workspaceService=_workspaceService}return WorkspaceBasedVariableResolver.prototype.resolve=function(variable){if(this._workspaceService){var workspaceIdentifier=toWorkspaceIdentifier(this._workspaceService.getWorkspace());if(workspaceIdentifier){if(variable.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(workspaceIdentifier);if(variable.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(workspaceIdentifier)}}},WorkspaceBasedVariableResolver.prototype._resolveWorkspaceName=function(workspaceIdentifier){if(isSingleFolderWorkspaceIdentifier(workspaceIdentifier))return path.basename(workspaceIdentifier.path);var filename=path.basename(workspaceIdentifier.configPath.path);return Object(strings.m)(filename,WORKSPACE_EXTENSION)&&(filename=filename.substr(0,filename.length-WORKSPACE_EXTENSION.length-1)),filename},WorkspaceBasedVariableResolver.prototype._resoveWorkspacePath=function(workspaceIdentifier){if(isSingleFolderWorkspaceIdentifier(workspaceIdentifier))return Object(labels.c)(workspaceIdentifier.fsPath);var filename=path.basename(workspaceIdentifier.configPath.path),folderpath=workspaceIdentifier.configPath.fsPath;return Object(strings.m)(folderpath,filename)&&(folderpath=folderpath.substr(0,folderpath.length-filename.length-1)),folderpath?Object(labels.c)(folderpath):"/"},WorkspaceBasedVariableResolver}(),RandomBasedVariableResolver=function(){function RandomBasedVariableResolver2(){}return RandomBasedVariableResolver2.prototype.resolve=function(variable){var name=variable.name;if(name==="RANDOM")return Math.random().toString().slice(-6);if(name==="RANDOM_HEX")return Math.random().toString(16).slice(-6)},RandomBasedVariableResolver2}(),themeService=__webpack_require__(2235),colorRegistry=__webpack_require__(2623),label=__webpack_require__(3381);Object(themeService.e)(function(theme,collector){function getColorGraceful(name){var color=theme.getColor(name);return color?color.toString():"transparent"}collector.addRule(".monaco-editor .snippet-placeholder { background-color: "+getColorGraceful(colorRegistry.bc)+"; outline-color: "+getColorGraceful(colorRegistry.cc)+"; }"),collector.addRule(".monaco-editor .finish-snippet-placeholder { background-color: "+getColorGraceful(colorRegistry.Zb)+"; outline-color: "+getColorGraceful(colorRegistry.ac)+"; }")});var snippetSession_OneSnippet=function(){function OneSnippet(editor,snippet,offset){this._nestingLevel=1,this._editor=editor,this._snippet=snippet,this._offset=offset,this._placeholderGroups=Object(arrays.o)(snippet.placeholders,snippetParser.b.compareByIndex),this._placeholderGroupsIdx=-1}return OneSnippet.prototype.dispose=function(){if(this._placeholderDecorations){var toRemove_1=[];this._placeholderDecorations.forEach(function(handle){return toRemove_1.push(handle)}),this._editor.deltaDecorations(toRemove_1,[])}this._placeholderGroups.length=0},OneSnippet.prototype._initDecorations=function(){var _this=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var model=this._editor.getModel();this._editor.changeDecorations(function(accessor){for(var _i=0,_a=_this._snippet.placeholders;_i<_a.length;_i++){var placeholder=_a[_i],placeholderOffset=_this._snippet.offset(placeholder),placeholderLen=_this._snippet.fullLen(placeholder),range=core_range.a.fromPositions(model.getPositionAt(_this._offset+placeholderOffset),model.getPositionAt(_this._offset+placeholderOffset+placeholderLen)),options=placeholder.isFinalTabstop?OneSnippet._decor.inactiveFinal:OneSnippet._decor.inactive,handle=accessor.addDecoration(range,options);_this._placeholderDecorations.set(placeholder,handle)}})}},OneSnippet.prototype.move=function(fwd){var _this=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){for(var operations=[],_i=0,_a=this._placeholderGroups[this._placeholderGroupsIdx];_i<_a.length;_i++){var placeholder=_a[_i];if(placeholder.transform){var id=this._placeholderDecorations.get(placeholder),range=this._editor.getModel().getDecorationRange(id),currentValue=this._editor.getModel().getValueInRange(range);operations.push(editOperation.a.replaceMove(range,placeholder.transform.resolve(currentValue)))}}operations.length>0&&this._editor.executeEdits("snippet.placeholderTransform",operations)}var couldSkipThisPlaceholder=!1;fwd===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,couldSkipThisPlaceholder=!0):fwd===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,couldSkipThisPlaceholder=!0);var newSelections=this._editor.getModel().changeDecorations(function(accessor){for(var activePlaceholders=new Set,selections=[],_i2=0,_a2=_this._placeholderGroups[_this._placeholderGroupsIdx];_i2<_a2.length;_i2++){var placeholder2=_a2[_i2],id2=_this._placeholderDecorations.get(placeholder2),range2=_this._editor.getModel().getDecorationRange(id2);selections.push(new core_selection.a(range2.startLineNumber,range2.startColumn,range2.endLineNumber,range2.endColumn)),couldSkipThisPlaceholder=couldSkipThisPlaceholder&&_this._hasPlaceholderBeenCollapsed(placeholder2),accessor.changeDecorationOptions(id2,placeholder2.isFinalTabstop?OneSnippet._decor.activeFinal:OneSnippet._decor.active),activePlaceholders.add(placeholder2);for(var _b=0,_c=_this._snippet.enclosingPlaceholders(placeholder2);_b<_c.length;_b++){var enclosingPlaceholder=_c[_b],id_1=_this._placeholderDecorations.get(enclosingPlaceholder);accessor.changeDecorationOptions(id_1,enclosingPlaceholder.isFinalTabstop?OneSnippet._decor.activeFinal:OneSnippet._decor.active),activePlaceholders.add(enclosingPlaceholder)}}return _this._placeholderDecorations.forEach(function(id3,placeholder3){activePlaceholders.has(placeholder3)||accessor.changeDecorationOptions(id3,placeholder3.isFinalTabstop?OneSnippet._decor.inactiveFinal:OneSnippet._decor.inactive)}),selections});return couldSkipThisPlaceholder?this.move(fwd):newSelections},OneSnippet.prototype._hasPlaceholderBeenCollapsed=function(placeholder){for(var marker=placeholder;marker;){if(marker instanceof snippetParser.b){var id=this._placeholderDecorations.get(marker),range=this._editor.getModel().getDecorationRange(id);if(range.isEmpty()&&marker.toString().length>0)return!0}marker=marker.parent}return!1},Object.defineProperty(OneSnippet.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(OneSnippet.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(OneSnippet.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),OneSnippet.prototype.computePossibleSelections=function(){for(var result=new Map,_i=0,_a=this._placeholderGroups;_i<_a.length;_i++)for(var placeholdersWithEqualIndex=_a[_i],ranges=void 0,_b=0,placeholdersWithEqualIndex_1=placeholdersWithEqualIndex;_b<placeholdersWithEqualIndex_1.length;_b++){var placeholder=placeholdersWithEqualIndex_1[_b];if(placeholder.isFinalTabstop)break;ranges||(ranges=[],result.set(placeholder.index,ranges));var id=this._placeholderDecorations.get(placeholder),range=this._editor.getModel().getDecorationRange(id);if(!range){result.delete(placeholder.index);break}ranges.push(range)}return result},Object.defineProperty(OneSnippet.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),OneSnippet.prototype.merge=function(others){var _this=this,model=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(accessor){for(var _i=0,_a=_this._placeholderGroups[_this._placeholderGroupsIdx];_i<_a.length;_i++){var placeholder=_a[_i],nested=others.shift();console.assert(!nested._placeholderDecorations);for(var indexLastPlaceholder=nested._snippet.placeholderInfo.last.index,_b=0,_c=nested._snippet.placeholderInfo.all;_b<_c.length;_b++){var nestedPlaceholder=_c[_b];nestedPlaceholder.isFinalTabstop?nestedPlaceholder.index=placeholder.index+(indexLastPlaceholder+1)/_this._nestingLevel:nestedPlaceholder.index=placeholder.index+nestedPlaceholder.index/_this._nestingLevel}_this._snippet.replace(placeholder,nested._snippet.children);var id=_this._placeholderDecorations.get(placeholder);accessor.removeDecoration(id),_this._placeholderDecorations.delete(placeholder);for(var _d=0,_e=nested._snippet.placeholders;_d<_e.length;_d++){var placeholder_1=_e[_d],placeholderOffset=nested._snippet.offset(placeholder_1),placeholderLen=nested._snippet.fullLen(placeholder_1),range=core_range.a.fromPositions(model.getPositionAt(nested._offset+placeholderOffset),model.getPositionAt(nested._offset+placeholderOffset+placeholderLen)),handle=accessor.addDecoration(range,OneSnippet._decor.inactive);_this._placeholderDecorations.set(placeholder_1,handle)}}_this._placeholderGroups=Object(arrays.o)(_this._snippet.placeholders,snippetParser.b.compareByIndex)})},OneSnippet._decor={active:textModel.a.register({stickiness:0,className:"snippet-placeholder"}),inactive:textModel.a.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:textModel.a.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:textModel.a.register({stickiness:1,className:"finish-snippet-placeholder"})},OneSnippet}(),_defaultOptions={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0},snippetSession_SnippetSession=function(){function SnippetSession(editor,template,options){options===void 0&&(options=_defaultOptions),this._templateMerges=[],this._snippets=[],this._editor=editor,this._template=template,this._options=options}return SnippetSession.adjustWhitespace=function(model,position,snippet,adjustIndentation,adjustNewlines){var line=model.getLineContent(position.lineNumber),lineLeadingWhitespace=Object(strings.u)(line,0,position.column-1);snippet.walk(function(marker){if(marker instanceof snippetParser.d&&!(marker.parent instanceof snippetParser.a)){var lines=marker.value.split(/\r\n|\r|\n/);if(adjustIndentation)for(var i=1;i<lines.length;i++){var templateLeadingWhitespace=Object(strings.u)(lines[i]);lines[i]=model.normalizeIndentation(lineLeadingWhitespace+templateLeadingWhitespace)+lines[i].substr(templateLeadingWhitespace.length)}if(adjustNewlines){var newValue=lines.join(model.getEOL());newValue!==marker.value&&marker.parent.replace(marker,[new snippetParser.d(newValue)])}}return!0})},SnippetSession.adjustSelection=function(model,selection,overwriteBefore,overwriteAfter){if(overwriteBefore!==0||overwriteAfter!==0){var positionLineNumber=selection.positionLineNumber,positionColumn=selection.positionColumn,positionColumnBefore=positionColumn-overwriteBefore,positionColumnAfter=positionColumn+overwriteAfter,range=model.validateRange({startLineNumber:positionLineNumber,startColumn:positionColumnBefore,endLineNumber:positionLineNumber,endColumn:positionColumnAfter});selection=core_selection.a.createWithDirection(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn,selection.getDirection())}return selection},SnippetSession.createEditsAndSnippets=function(editor,template,overwriteBefore,overwriteAfter,enforceFinalTabstop,adjustWhitespace,clipboardText){var edits=[],snippets=[];if(!editor.hasModel())return{edits,snippets};for(var model=editor.getModel(),workspaceService=editor.invokeWithinContext(function(accessor){return accessor.get(workspace.a,instantiation.d)}),modelBasedVariableResolver=editor.invokeWithinContext(function(accessor){return new snippetVariables_ModelBasedVariableResolver(accessor.get(label.a,instantiation.d),model)}),clipboardService=editor.invokeWithinContext(function(accessor){return accessor.get(common_clipboardService.a,instantiation.d)}),readClipboardText=function(){return clipboardText||clipboardService&&clipboardService.readTextSync()},delta=0,firstBeforeText=model.getValueInRange(SnippetSession.adjustSelection(model,editor.getSelection(),overwriteBefore,0)),firstAfterText=model.getValueInRange(SnippetSession.adjustSelection(model,editor.getSelection(),0,overwriteAfter)),firstLineFirstNonWhitespace=model.getLineFirstNonWhitespaceColumn(editor.getSelection().positionLineNumber),indexedSelections=editor.getSelections().map(function(selection2,idx2){return{selection:selection2,idx:idx2}}).sort(function(a,b){return core_range.a.compareRangesUsingStarts(a.selection,b.selection)}),_i=0,indexedSelections_1=indexedSelections;_i<indexedSelections_1.length;_i++){var _a=indexedSelections_1[_i],selection=_a.selection,idx=_a.idx,extensionBefore=SnippetSession.adjustSelection(model,selection,overwriteBefore,0),extensionAfter=SnippetSession.adjustSelection(model,selection,0,overwriteAfter);firstBeforeText!==model.getValueInRange(extensionBefore)&&(extensionBefore=selection),firstAfterText!==model.getValueInRange(extensionAfter)&&(extensionAfter=selection);var snippetSelection=selection.setStartPosition(extensionBefore.startLineNumber,extensionBefore.startColumn).setEndPosition(extensionAfter.endLineNumber,extensionAfter.endColumn),snippet=new snippetParser.c().parse(template,!0,enforceFinalTabstop),start=snippetSelection.getStartPosition();SnippetSession.adjustWhitespace(model,start,snippet,adjustWhitespace||idx>0&&firstLineFirstNonWhitespace!==model.getLineFirstNonWhitespaceColumn(selection.positionLineNumber),!0),snippet.resolveVariables(new CompositeSnippetVariableResolver([modelBasedVariableResolver,new snippetVariables_ClipboardBasedVariableResolver(readClipboardText,idx,indexedSelections.length,editor.getOption(58)==="spread"),new snippetVariables_SelectionBasedVariableResolver(model,selection),new snippetVariables_CommentBasedVariableResolver(model),new snippetVariables_TimeBasedVariableResolver,new snippetVariables_WorkspaceBasedVariableResolver(workspaceService),new RandomBasedVariableResolver]));var offset=model.getOffsetAt(start)+delta;delta+=snippet.toString().length-model.getValueLengthInRange(snippetSelection),edits[idx]=editOperation.a.replace(snippetSelection,snippet.toString()),snippets[idx]=new snippetSession_OneSnippet(editor,snippet,offset)}return{edits,snippets}},SnippetSession.prototype.dispose=function(){Object(lifecycle.f)(this._snippets)},SnippetSession.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},SnippetSession.prototype.insert=function(){var _this=this;if(this._editor.hasModel()){var _a=SnippetSession.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText),edits=_a.edits,snippets=_a.snippets;this._snippets=snippets,this._editor.executeEdits("snippet",edits,function(undoEdits){return _this._snippets[0].hasPlaceholder?_this._move(!0):undoEdits.map(function(edit){return core_selection.a.fromPositions(edit.range.getEndPosition())})}),this._editor.revealRange(this._editor.getSelections()[0])}},SnippetSession.prototype.merge=function(template,options){var _this=this;if(options===void 0&&(options=_defaultOptions),!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,template]);var _a=SnippetSession.createEditsAndSnippets(this._editor,template,options.overwriteBefore,options.overwriteAfter,!0,options.adjustWhitespace,options.clipboardText),edits=_a.edits,snippets=_a.snippets;this._editor.executeEdits("snippet",edits,function(undoEdits){for(var _i=0,_a2=_this._snippets;_i<_a2.length;_i++){var snippet=_a2[_i];snippet.merge(snippets)}return console.assert(snippets.length===0),_this._snippets[0].hasPlaceholder?_this._move(void 0):undoEdits.map(function(edit){return core_selection.a.fromPositions(edit.range.getEndPosition())})})}},SnippetSession.prototype.next=function(){var newSelections=this._move(!0);this._editor.setSelections(newSelections),this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition())},SnippetSession.prototype.prev=function(){var newSelections=this._move(!1);this._editor.setSelections(newSelections),this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition())},SnippetSession.prototype._move=function(fwd){for(var selections=[],_i=0,_a=this._snippets;_i<_a.length;_i++){var snippet=_a[_i],oneSelection=snippet.move(fwd);selections.push.apply(selections,oneSelection)}return selections},Object.defineProperty(SnippetSession.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(SnippetSession.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(SnippetSession.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(SnippetSession.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),SnippetSession.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var selections=this._editor.getSelections();if(selections.length<this._snippets.length)return!1;for(var allPossibleSelections=new Map,_loop_1=function(snippet2){var possibleSelections=snippet2.computePossibleSelections();if(allPossibleSelections.size===0&&possibleSelections.forEach(function(ranges,index){ranges.sort(core_range.a.compareRangesUsingStarts);for(var _i2=0,selections_1=selections;_i2<selections_1.length;_i2++){var selection=selections_1[_i2];if(ranges[0].containsRange(selection)){allPossibleSelections.set(index,[]);break}}}),allPossibleSelections.size===0)return{value:!1};allPossibleSelections.forEach(function(array,index){array.push.apply(array,possibleSelections.get(index))})},_i=0,_a=this._snippets;_i<_a.length;_i++){var snippet=_a[_i],state_1=_loop_1(snippet);if(typeof state_1=="object")return state_1.value}return selections.sort(core_range.a.compareRangesUsingStarts),allPossibleSelections.forEach(function(ranges,index){if(ranges.length!==selections.length){allPossibleSelections.delete(index);return}ranges.sort(core_range.a.compareRangesUsingStarts);for(var i=0;i<ranges.length;i++)if(!ranges[i].containsRange(selections[i])){allPossibleSelections.delete(index);return}}),allPossibleSelections.size>0},SnippetSession}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},snippetController2_defaultOptions={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0},snippetController2_SnippetController2=function(){function SnippetController2(_editor,_logService,contextKeyService){this._editor=_editor,this._logService=_logService,this._snippetListener=new lifecycle.b,this._modelVersionId=-1,this._inSnippet=SnippetController2.InSnippetMode.bindTo(contextKeyService),this._hasNextTabstop=SnippetController2.HasNextTabstop.bindTo(contextKeyService),this._hasPrevTabstop=SnippetController2.HasPrevTabstop.bindTo(contextKeyService)}return SnippetController2.get=function(editor){return editor.getContribution(SnippetController2.ID)},SnippetController2.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Object(lifecycle.f)(this._session),this._snippetListener.dispose()},SnippetController2.prototype.insert=function(template,opts){try{this._doInsert(template,typeof opts>"u"?snippetController2_defaultOptions:__assign(__assign({},snippetController2_defaultOptions),opts))}catch(e){this.cancel(),this._logService.error(e),this._logService.error("snippet_error"),this._logService.error("insert_template=",template),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},SnippetController2.prototype._doInsert=function(template,opts){var _this=this;this._editor.hasModel()&&(this._snippetListener.clear(),opts.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(template,opts):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new snippetSession_SnippetSession(this._editor,template,opts),this._session.insert()),opts.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(function(e){return e.isFlush&&_this.cancel()})),this._snippetListener.add(this._editor.onDidChangeModel(function(){return _this.cancel()})),this._snippetListener.add(this._editor.onDidChangeCursorSelection(function(){return _this._updateState()})))},SnippetController2.prototype._updateState=function(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},SnippetController2.prototype._handleChoice=function(){var _this=this;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}var choice=this._session.choice;if(!choice){this._currentChoice=void 0;return}if(this._currentChoice!==choice){this._currentChoice=choice,this._editor.setSelections(this._editor.getSelections().map(function(s){return core_selection.a.fromPositions(s.getStartPosition())}));var first_1=choice.options[0];Object(suggest.f)(this._editor,choice.options.map(function(option,i){return{kind:13,label:option.value,insertText:option.value,sortText:Object(strings.K)("a",i+1),range:core_range.a.fromPositions(_this._editor.getPosition(),_this._editor.getPosition().delta(0,first_1.value.length))}}))}},SnippetController2.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},SnippetController2.prototype.cancel=function(resetSelection){resetSelection===void 0&&(resetSelection=!1),this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),Object(lifecycle.f)(this._session),this._session=void 0,this._modelVersionId=-1,resetSelection&&this._editor.setSelections([this._editor.getSelection()])},SnippetController2.prototype.prev=function(){this._session&&this._session.prev(),this._updateState()},SnippetController2.prototype.next=function(){this._session&&this._session.next(),this._updateState()},SnippetController2.prototype.isInSnippet=function(){return!!this._inSnippet.get()},SnippetController2.ID="snippetController2",SnippetController2.InSnippetMode=new contextkey.d("inSnippetMode",!1),SnippetController2.HasNextTabstop=new contextkey.d("hasNextTabstop",!1),SnippetController2.HasPrevTabstop=new contextkey.d("hasPrevTabstop",!1),SnippetController2=__decorate([__param(1,log.a),__param(2,contextkey.c)],SnippetController2),SnippetController2}();Object(editorExtensions.h)(snippetController2_SnippetController2.ID,snippetController2_SnippetController2);var CommandCtor=editorExtensions.c.bindToContribution(snippetController2_SnippetController2.get);Object(editorExtensions.g)(new CommandCtor({id:"jumpToNextSnippetPlaceholder",precondition:contextkey.a.and(snippetController2_SnippetController2.InSnippetMode,snippetController2_SnippetController2.HasNextTabstop),handler:function(ctrl){return ctrl.next()},kbOpts:{weight:100+30,kbExpr:editorContextKeys.a.editorTextFocus,primary:2}})),Object(editorExtensions.g)(new CommandCtor({id:"jumpToPrevSnippetPlaceholder",precondition:contextkey.a.and(snippetController2_SnippetController2.InSnippetMode,snippetController2_SnippetController2.HasPrevTabstop),handler:function(ctrl){return ctrl.prev()},kbOpts:{weight:100+30,kbExpr:editorContextKeys.a.editorTextFocus,primary:1026}})),Object(editorExtensions.g)(new CommandCtor({id:"leaveSnippet",precondition:snippetController2_SnippetController2.InSnippetMode,handler:function(ctrl){return ctrl.cancel(!0)},kbOpts:{weight:100+30,kbExpr:editorContextKeys.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(editorExtensions.g)(new CommandCtor({id:"acceptSnippet",precondition:snippetController2_SnippetController2.InSnippetMode,handler:function(ctrl){return ctrl.finish()}}))},2250:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CoreEditorCommand",function(){return CoreEditorCommand}),__webpack_require__.d(__webpack_exports__,"EditorScroll_",function(){return coreCommands_EditorScroll_}),__webpack_require__.d(__webpack_exports__,"RevealLine_",function(){return coreCommands_RevealLine_}),__webpack_require__.d(__webpack_exports__,"CoreNavigationCommands",function(){return coreCommands_CoreNavigationCommands}),__webpack_require__.d(__webpack_exports__,"CoreEditingCommands",function(){return coreCommands_CoreEditingCommands});var nls=__webpack_require__(2069),types=__webpack_require__(2631),editorExtensions=__webpack_require__(2099),codeEditorService=__webpack_require__(2732),cursorCommon=__webpack_require__(2787),position=__webpack_require__(2233),core_range=__webpack_require__(2056),cursorColumnSelection_ColumnSelection=function(){function ColumnSelection(){}return ColumnSelection.columnSelect=function(config,model,fromLineNumber,fromVisibleColumn,toLineNumber,toVisibleColumn){for(var lineCount=Math.abs(toLineNumber-fromLineNumber)+1,reversed=fromLineNumber>toLineNumber,isRTL=fromVisibleColumn>toVisibleColumn,isLTR=fromVisibleColumn<toVisibleColumn,result=[],i=0;i<lineCount;i++){var lineNumber=fromLineNumber+(reversed?-i:i),startColumn=cursorCommon.a.columnFromVisibleColumn2(config,model,lineNumber,fromVisibleColumn),endColumn=cursorCommon.a.columnFromVisibleColumn2(config,model,lineNumber,toVisibleColumn),visibleStartColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,new position.a(lineNumber,startColumn)),visibleEndColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,new position.a(lineNumber,endColumn));isLTR&&(visibleStartColumn>toVisibleColumn||visibleEndColumn<fromVisibleColumn)||isRTL&&(visibleEndColumn>fromVisibleColumn||visibleStartColumn<toVisibleColumn)||result.push(new cursorCommon.f(new core_range.a(lineNumber,startColumn,lineNumber,startColumn),0,new position.a(lineNumber,endColumn),0))}if(result.length===0)for(var i=0;i<lineCount;i++){var lineNumber=fromLineNumber+(reversed?-i:i),maxColumn=model.getLineMaxColumn(lineNumber);result.push(new cursorCommon.f(new core_range.a(lineNumber,maxColumn,lineNumber,maxColumn),0,new position.a(lineNumber,maxColumn),0))}return{viewStates:result,reversed,fromLineNumber,fromVisualColumn:fromVisibleColumn,toLineNumber,toVisualColumn:toVisibleColumn}},ColumnSelection.columnSelectLeft=function(config,model,prevColumnSelectData){var toViewVisualColumn=prevColumnSelectData.toViewVisualColumn;return toViewVisualColumn>1&&toViewVisualColumn--,ColumnSelection.columnSelect(config,model,prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.fromViewVisualColumn,prevColumnSelectData.toViewLineNumber,toViewVisualColumn)},ColumnSelection.columnSelectRight=function(config,model,prevColumnSelectData){for(var maxVisualViewColumn=0,minViewLineNumber=Math.min(prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.toViewLineNumber),maxViewLineNumber=Math.max(prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.toViewLineNumber),lineNumber=minViewLineNumber;lineNumber<=maxViewLineNumber;lineNumber++){var lineMaxViewColumn=model.getLineMaxColumn(lineNumber),lineMaxVisualViewColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,new position.a(lineNumber,lineMaxViewColumn));maxVisualViewColumn=Math.max(maxVisualViewColumn,lineMaxVisualViewColumn)}var toViewVisualColumn=prevColumnSelectData.toViewVisualColumn;return toViewVisualColumn<maxVisualViewColumn&&toViewVisualColumn++,this.columnSelect(config,model,prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.fromViewVisualColumn,prevColumnSelectData.toViewLineNumber,toViewVisualColumn)},ColumnSelection.columnSelectUp=function(config,model,prevColumnSelectData,isPaged){var linesCount=isPaged?config.pageSize:1,toViewLineNumber=Math.max(1,prevColumnSelectData.toViewLineNumber-linesCount);return this.columnSelect(config,model,prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.fromViewVisualColumn,toViewLineNumber,prevColumnSelectData.toViewVisualColumn)},ColumnSelection.columnSelectDown=function(config,model,prevColumnSelectData,isPaged){var linesCount=isPaged?config.pageSize:1,toViewLineNumber=Math.min(model.getLineCount(),prevColumnSelectData.toViewLineNumber+linesCount);return this.columnSelect(config,model,prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.fromViewVisualColumn,toViewLineNumber,prevColumnSelectData.toViewVisualColumn)},ColumnSelection}(),cursorDeleteOperations=__webpack_require__(3872),cursorMoveCommands=__webpack_require__(3873),cursorTypeOperations=__webpack_require__(3603),editorCommon=__webpack_require__(3196),editorContextKeys=__webpack_require__(2632),contextkey=__webpack_require__(2238),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),CORE_WEIGHT=0,CoreEditorCommand=function(_super){__extends(CoreEditorCommand2,_super);function CoreEditorCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return CoreEditorCommand2.prototype.runEditorCommand=function(accessor,editor,args){var cursors=editor._getCursors();cursors&&this.runCoreEditorCommand(cursors,args||{})},CoreEditorCommand2}(editorExtensions.c),coreCommands_EditorScroll_;(function(EditorScroll_){var isEditorScrollArgs=function(arg){if(!types.i(arg))return!1;var scrollArg=arg;return!(!types.j(scrollArg.to)||!types.k(scrollArg.by)&&!types.j(scrollArg.by)||!types.k(scrollArg.value)&&!types.h(scrollArg.value)||!types.k(scrollArg.revealCursor)&&!types.e(scrollArg.revealCursor))};EditorScroll_.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:isEditorScrollArgs,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},EditorScroll_.RawDirection={Up:"up",Down:"down"},EditorScroll_.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function parse(args){var direction;switch(args.to){case EditorScroll_.RawDirection.Up:direction=1;break;case EditorScroll_.RawDirection.Down:direction=2;break;default:return null}var unit;switch(args.by){case EditorScroll_.RawUnit.Line:unit=1;break;case EditorScroll_.RawUnit.WrappedLine:unit=2;break;case EditorScroll_.RawUnit.Page:unit=3;break;case EditorScroll_.RawUnit.HalfPage:unit=4;break;default:unit=2}var value=Math.floor(args.value||1),revealCursor=!!args.revealCursor;return{direction,unit,value,revealCursor,select:!!args.select}}EditorScroll_.parse=parse})(coreCommands_EditorScroll_||(coreCommands_EditorScroll_={}));var coreCommands_RevealLine_;(function(RevealLine_){var isRevealLineArgs=function(arg){if(!types.i(arg))return!1;var reveaLineArg=arg;return!(!types.h(reveaLineArg.lineNumber)||!types.k(reveaLineArg.at)&&!types.j(reveaLineArg.at))};RevealLine_.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed .\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:isRevealLineArgs,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},RevealLine_.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(coreCommands_RevealLine_||(coreCommands_RevealLine_={}));var coreCommands_CoreNavigationCommands;(function(CoreNavigationCommands){var BaseMoveToCommand=function(_super){__extends(BaseMoveToCommand2,_super);function BaseMoveToCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this}return BaseMoveToCommand2.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,[cursorMoveCommands.b.moveTo(cursors.context,cursors.getPrimaryCursor(),this._inSelectionMode,args.position,args.viewPosition)]),cursors.reveal(args.source,!0,0,0)},BaseMoveToCommand2}(CoreEditorCommand);CoreNavigationCommands.MoveTo=Object(editorExtensions.g)(new BaseMoveToCommand({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),CoreNavigationCommands.MoveToSelect=Object(editorExtensions.g)(new BaseMoveToCommand({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var ColumnSelectCommand=function(_super){__extends(ColumnSelectCommand2,_super);function ColumnSelectCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return ColumnSelectCommand2.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement();var result=this._getColumnSelectResult(cursors.context,cursors.getPrimaryCursor(),cursors.getColumnSelectData(),args);cursors.setStates(args.source,3,result.viewStates.map(function(viewState){return cursorCommon.d.fromViewState(viewState)})),cursors.setColumnSelectData({isReal:!0,fromViewLineNumber:result.fromLineNumber,fromViewVisualColumn:result.fromVisualColumn,toViewLineNumber:result.toLineNumber,toViewVisualColumn:result.toVisualColumn}),cursors.reveal(args.source,!0,result.reversed?1:2,0)},ColumnSelectCommand2}(CoreEditorCommand);CoreNavigationCommands.ColumnSelect=Object(editorExtensions.g)(new(function(_super){__extends(class_1,_super);function class_1(){return _super.call(this,{id:"columnSelect",precondition:void 0})||this}return class_1.prototype._getColumnSelectResult=function(context,primary,prevColumnSelectData,args){var validatedPosition=context.model.validatePosition(args.position),validatedViewPosition=context.validateViewPosition(new position.a(args.viewPosition.lineNumber,args.viewPosition.column),validatedPosition),fromViewLineNumber=args.doColumnSelect?prevColumnSelectData.fromViewLineNumber:validatedViewPosition.lineNumber,fromViewVisualColumn=args.doColumnSelect?prevColumnSelectData.fromViewVisualColumn:args.mouseColumn-1;return cursorColumnSelection_ColumnSelection.columnSelect(context.config,context.viewModel,fromViewLineNumber,fromViewVisualColumn,validatedViewPosition.lineNumber,args.mouseColumn-1)},class_1}(ColumnSelectCommand))),CoreNavigationCommands.CursorColumnSelectLeft=Object(editorExtensions.g)(new(function(_super){__extends(class_2,_super);function class_2(){return _super.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3599,linux:{primary:0}}})||this}return class_2.prototype._getColumnSelectResult=function(context,primary,prevColumnSelectData,args){return cursorColumnSelection_ColumnSelection.columnSelectLeft(context.config,context.viewModel,prevColumnSelectData)},class_2}(ColumnSelectCommand))),CoreNavigationCommands.CursorColumnSelectRight=Object(editorExtensions.g)(new(function(_super){__extends(class_3,_super);function class_3(){return _super.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3601,linux:{primary:0}}})||this}return class_3.prototype._getColumnSelectResult=function(context,primary,prevColumnSelectData,args){return cursorColumnSelection_ColumnSelection.columnSelectRight(context.config,context.viewModel,prevColumnSelectData)},class_3}(ColumnSelectCommand)));var ColumnSelectUpCommand=function(_super){__extends(ColumnSelectUpCommand2,_super);function ColumnSelectUpCommand2(opts){var _this=_super.call(this,opts)||this;return _this._isPaged=opts.isPaged,_this}return ColumnSelectUpCommand2.prototype._getColumnSelectResult=function(context,primary,prevColumnSelectData,args){return cursorColumnSelection_ColumnSelection.columnSelectUp(context.config,context.viewModel,prevColumnSelectData,this._isPaged)},ColumnSelectUpCommand2}(ColumnSelectCommand);CoreNavigationCommands.CursorColumnSelectUp=Object(editorExtensions.g)(new ColumnSelectUpCommand({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3600,linux:{primary:0}}})),CoreNavigationCommands.CursorColumnSelectPageUp=Object(editorExtensions.g)(new ColumnSelectUpCommand({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3595,linux:{primary:0}}}));var ColumnSelectDownCommand=function(_super){__extends(ColumnSelectDownCommand2,_super);function ColumnSelectDownCommand2(opts){var _this=_super.call(this,opts)||this;return _this._isPaged=opts.isPaged,_this}return ColumnSelectDownCommand2.prototype._getColumnSelectResult=function(context,primary,prevColumnSelectData,args){return cursorColumnSelection_ColumnSelection.columnSelectDown(context.config,context.viewModel,prevColumnSelectData,this._isPaged)},ColumnSelectDownCommand2}(ColumnSelectCommand);CoreNavigationCommands.CursorColumnSelectDown=Object(editorExtensions.g)(new ColumnSelectDownCommand({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3602,linux:{primary:0}}})),CoreNavigationCommands.CursorColumnSelectPageDown=Object(editorExtensions.g)(new ColumnSelectDownCommand({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3596,linux:{primary:0}}}));var CursorMoveImpl=function(_super){__extends(CursorMoveImpl2,_super);function CursorMoveImpl2(){return _super.call(this,{id:"cursorMove",precondition:void 0,description:cursorMoveCommands.a.description})||this}return CursorMoveImpl2.prototype.runCoreEditorCommand=function(cursors,args){var parsed=cursorMoveCommands.a.parse(args);parsed&&this._runCursorMove(cursors,args.source,parsed)},CursorMoveImpl2.prototype._runCursorMove=function(cursors,source,args){cursors.context.model.pushStackElement(),cursors.setStates(source,3,cursorMoveCommands.b.move(cursors.context,cursors.getAll(),args)),cursors.reveal(source,!0,0,0)},CursorMoveImpl2}(CoreEditorCommand);CoreNavigationCommands.CursorMoveImpl=CursorMoveImpl,CoreNavigationCommands.CursorMove=Object(editorExtensions.g)(new CursorMoveImpl);var CursorMoveBasedCommand=function(_super){__extends(CursorMoveBasedCommand2,_super);function CursorMoveBasedCommand2(opts){var _this=_super.call(this,opts)||this;return _this._staticArgs=opts.args,_this}return CursorMoveBasedCommand2.prototype.runCoreEditorCommand=function(cursors,dynamicArgs){var args=this._staticArgs;this._staticArgs.value===-1&&(args={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:cursors.context.config.pageSize}),CoreNavigationCommands.CursorMove._runCursorMove(cursors,dynamicArgs.source,args)},CursorMoveBasedCommand2}(CoreEditorCommand);CoreNavigationCommands.CursorLeft=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),CoreNavigationCommands.CursorLeftSelect=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1039}})),CoreNavigationCommands.CursorRight=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),CoreNavigationCommands.CursorRightSelect=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1041}})),CoreNavigationCommands.CursorUp=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),CoreNavigationCommands.CursorUpSelect=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),CoreNavigationCommands.CursorPageUp=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:11}})),CoreNavigationCommands.CursorPageUpSelect=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1035}})),CoreNavigationCommands.CursorDown=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),CoreNavigationCommands.CursorDownSelect=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),CoreNavigationCommands.CursorPageDown=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:12}})),CoreNavigationCommands.CursorPageDownSelect=Object(editorExtensions.g)(new CursorMoveBasedCommand({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1036}})),CoreNavigationCommands.CreateCursor=Object(editorExtensions.g)(new(function(_super){__extends(class_4,_super);function class_4(){return _super.call(this,{id:"createCursor",precondition:void 0})||this}return class_4.prototype.runCoreEditorCommand=function(cursors,args){var context=cursors.context,newState;args.wholeLine?newState=cursorMoveCommands.b.line(context,cursors.getPrimaryCursor(),!1,args.position,args.viewPosition):newState=cursorMoveCommands.b.moveTo(context,cursors.getPrimaryCursor(),!1,args.position,args.viewPosition);var states=cursors.getAll();if(states.length>1)for(var newModelPosition=newState.modelState?newState.modelState.position:null,newViewPosition=newState.viewState?newState.viewState.position:null,i=0,len=states.length;i<len;i++){var state=states[i];if(!(newModelPosition&&!state.modelState.selection.containsPosition(newModelPosition))&&!(newViewPosition&&!state.viewState.selection.containsPosition(newViewPosition))){states.splice(i,1),cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,states);return}}states.push(newState),cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,states)},class_4}(CoreEditorCommand))),CoreNavigationCommands.LastCursorMoveToSelect=Object(editorExtensions.g)(new(function(_super){__extends(class_5,_super);function class_5(){return _super.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})||this}return class_5.prototype.runCoreEditorCommand=function(cursors,args){var context=cursors.context,lastAddedCursorIndex=cursors.getLastAddedCursorIndex(),states=cursors.getAll(),newStates=states.slice(0);newStates[lastAddedCursorIndex]=cursorMoveCommands.b.moveTo(context,states[lastAddedCursorIndex],!0,args.position,args.viewPosition),cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,newStates)},class_5}(CoreEditorCommand)));var HomeCommand=function(_super){__extends(HomeCommand2,_super);function HomeCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this}return HomeCommand2.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,cursorMoveCommands.b.moveToBeginningOfLine(cursors.context,cursors.getAll(),this._inSelectionMode)),cursors.reveal(args.source,!0,0,0)},HomeCommand2}(CoreEditorCommand);CoreNavigationCommands.CursorHome=Object(editorExtensions.g)(new HomeCommand({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),CoreNavigationCommands.CursorHomeSelect=Object(editorExtensions.g)(new HomeCommand({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),CoreNavigationCommands.CursorLineStart=Object(editorExtensions.g)(new(function(_super){__extends(class_6,_super);function class_6(){return _super.call(this,{id:"cursorLineStart",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:287}}})||this}return class_6.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,this._exec(cursors.context,cursors.getAll())),cursors.reveal(args.source,!0,0,0)},class_6.prototype._exec=function(context,cursors){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],lineNumber=cursor.modelState.position.lineNumber;result[i]=cursorCommon.d.fromModelState(cursor.modelState.move(!1,lineNumber,1,0))}return result},class_6}(CoreEditorCommand)));var EndCommand=function(_super){__extends(EndCommand2,_super);function EndCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this}return EndCommand2.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,cursorMoveCommands.b.moveToEndOfLine(cursors.context,cursors.getAll(),this._inSelectionMode)),cursors.reveal(args.source,!0,0,0)},EndCommand2}(CoreEditorCommand);CoreNavigationCommands.CursorEnd=Object(editorExtensions.g)(new EndCommand({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),CoreNavigationCommands.CursorEndSelect=Object(editorExtensions.g)(new EndCommand({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),CoreNavigationCommands.CursorLineEnd=Object(editorExtensions.g)(new(function(_super){__extends(class_7,_super);function class_7(){return _super.call(this,{id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:291}}})||this}return class_7.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,this._exec(cursors.context,cursors.getAll())),cursors.reveal(args.source,!0,0,0)},class_7.prototype._exec=function(context,cursors){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],lineNumber=cursor.modelState.position.lineNumber,maxColumn=context.model.getLineMaxColumn(lineNumber);result[i]=cursorCommon.d.fromModelState(cursor.modelState.move(!1,lineNumber,maxColumn,0))}return result},class_7}(CoreEditorCommand)));var TopCommand=function(_super){__extends(TopCommand2,_super);function TopCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this}return TopCommand2.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,cursorMoveCommands.b.moveToBeginningOfBuffer(cursors.context,cursors.getAll(),this._inSelectionMode)),cursors.reveal(args.source,!0,0,0)},TopCommand2}(CoreEditorCommand);CoreNavigationCommands.CursorTop=Object(editorExtensions.g)(new TopCommand({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2062,mac:{primary:2064}}})),CoreNavigationCommands.CursorTopSelect=Object(editorExtensions.g)(new TopCommand({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3086,mac:{primary:3088}}}));var BottomCommand=function(_super){__extends(BottomCommand2,_super);function BottomCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this}return BottomCommand2.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,cursorMoveCommands.b.moveToEndOfBuffer(cursors.context,cursors.getAll(),this._inSelectionMode)),cursors.reveal(args.source,!0,0,0)},BottomCommand2}(CoreEditorCommand);CoreNavigationCommands.CursorBottom=Object(editorExtensions.g)(new BottomCommand({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2061,mac:{primary:2066}}})),CoreNavigationCommands.CursorBottomSelect=Object(editorExtensions.g)(new BottomCommand({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3085,mac:{primary:3090}}}));var EditorScrollImpl=function(_super){__extends(EditorScrollImpl2,_super);function EditorScrollImpl2(){return _super.call(this,{id:"editorScroll",precondition:void 0,description:coreCommands_EditorScroll_.description})||this}return EditorScrollImpl2.prototype.runCoreEditorCommand=function(cursors,args){var parsed=coreCommands_EditorScroll_.parse(args);parsed&&this._runEditorScroll(cursors,args.source,parsed)},EditorScrollImpl2.prototype._runEditorScroll=function(cursors,source,args){var desiredScrollTop=this._computeDesiredScrollTop(cursors.context,args);if(args.revealCursor){var desiredVisibleViewRange=cursors.context.getCompletelyVisibleViewRangeAtScrollTop(desiredScrollTop);cursors.setStates(source,3,[cursorMoveCommands.b.findPositionInViewportIfOutside(cursors.context,cursors.getPrimaryCursor(),desiredVisibleViewRange,args.select)])}cursors.scrollTo(desiredScrollTop)},EditorScrollImpl2.prototype._computeDesiredScrollTop=function(context,args){if(args.unit===1){var visibleModelRange=context.getCompletelyVisibleModelRange(),desiredTopModelLineNumber=void 0;args.direction===1?desiredTopModelLineNumber=Math.max(1,visibleModelRange.startLineNumber-args.value):desiredTopModelLineNumber=Math.min(context.model.getLineCount(),visibleModelRange.startLineNumber+args.value);var desiredTopViewPosition=context.convertModelPositionToViewPosition(new position.a(desiredTopModelLineNumber,1));return context.getVerticalOffsetForViewLine(desiredTopViewPosition.lineNumber)}var noOfLines;args.unit===3?noOfLines=context.config.pageSize*args.value:args.unit===4?noOfLines=Math.round(context.config.pageSize/2)*args.value:noOfLines=args.value;var deltaLines=(args.direction===1?-1:1)*noOfLines;return context.getCurrentScrollTop()+deltaLines*context.config.lineHeight},EditorScrollImpl2}(CoreEditorCommand);CoreNavigationCommands.EditorScrollImpl=EditorScrollImpl,CoreNavigationCommands.EditorScroll=Object(editorExtensions.g)(new EditorScrollImpl),CoreNavigationCommands.ScrollLineUp=Object(editorExtensions.g)(new(function(_super){__extends(class_8,_super);function class_8(){return _super.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2064,mac:{primary:267}}})||this}return class_8.prototype.runCoreEditorCommand=function(cursors,args){CoreNavigationCommands.EditorScroll._runEditorScroll(cursors,args.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},class_8}(CoreEditorCommand))),CoreNavigationCommands.ScrollPageUp=Object(editorExtensions.g)(new(function(_super){__extends(class_9,_super);function class_9(){return _super.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return class_9.prototype.runCoreEditorCommand=function(cursors,args){CoreNavigationCommands.EditorScroll._runEditorScroll(cursors,args.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},class_9}(CoreEditorCommand))),CoreNavigationCommands.ScrollLineDown=Object(editorExtensions.g)(new(function(_super){__extends(class_10,_super);function class_10(){return _super.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2066,mac:{primary:268}}})||this}return class_10.prototype.runCoreEditorCommand=function(cursors,args){CoreNavigationCommands.EditorScroll._runEditorScroll(cursors,args.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},class_10}(CoreEditorCommand))),CoreNavigationCommands.ScrollPageDown=Object(editorExtensions.g)(new(function(_super){__extends(class_11,_super);function class_11(){return _super.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return class_11.prototype.runCoreEditorCommand=function(cursors,args){CoreNavigationCommands.EditorScroll._runEditorScroll(cursors,args.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},class_11}(CoreEditorCommand)));var WordCommand=function(_super){__extends(WordCommand2,_super);function WordCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this}return WordCommand2.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,[cursorMoveCommands.b.word(cursors.context,cursors.getPrimaryCursor(),this._inSelectionMode,args.position)]),cursors.reveal(args.source,!0,0,0)},WordCommand2}(CoreEditorCommand);CoreNavigationCommands.WordSelect=Object(editorExtensions.g)(new WordCommand({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),CoreNavigationCommands.WordSelectDrag=Object(editorExtensions.g)(new WordCommand({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),CoreNavigationCommands.LastCursorWordSelect=Object(editorExtensions.g)(new(function(_super){__extends(class_12,_super);function class_12(){return _super.call(this,{id:"lastCursorWordSelect",precondition:void 0})||this}return class_12.prototype.runCoreEditorCommand=function(cursors,args){var context=cursors.context,lastAddedCursorIndex=cursors.getLastAddedCursorIndex(),states=cursors.getAll(),newStates=states.slice(0),lastAddedState=states[lastAddedCursorIndex];newStates[lastAddedCursorIndex]=cursorMoveCommands.b.word(context,lastAddedState,lastAddedState.modelState.hasSelection(),args.position),context.model.pushStackElement(),cursors.setStates(args.source,3,newStates)},class_12}(CoreEditorCommand)));var LineCommand=function(_super){__extends(LineCommand2,_super);function LineCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this}return LineCommand2.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,[cursorMoveCommands.b.line(cursors.context,cursors.getPrimaryCursor(),this._inSelectionMode,args.position,args.viewPosition)]),cursors.reveal(args.source,!1,0,0)},LineCommand2}(CoreEditorCommand);CoreNavigationCommands.LineSelect=Object(editorExtensions.g)(new LineCommand({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),CoreNavigationCommands.LineSelectDrag=Object(editorExtensions.g)(new LineCommand({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var LastCursorLineCommand=function(_super){__extends(LastCursorLineCommand2,_super);function LastCursorLineCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this}return LastCursorLineCommand2.prototype.runCoreEditorCommand=function(cursors,args){var lastAddedCursorIndex=cursors.getLastAddedCursorIndex(),states=cursors.getAll(),newStates=states.slice(0);newStates[lastAddedCursorIndex]=cursorMoveCommands.b.line(cursors.context,states[lastAddedCursorIndex],this._inSelectionMode,args.position,args.viewPosition),cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,newStates)},LastCursorLineCommand2}(CoreEditorCommand);CoreNavigationCommands.LastCursorLineSelect=Object(editorExtensions.g)(new LastCursorLineCommand({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),CoreNavigationCommands.LastCursorLineSelectDrag=Object(editorExtensions.g)(new LastCursorLineCommand({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),CoreNavigationCommands.ExpandLineSelection=Object(editorExtensions.g)(new(function(_super){__extends(class_13,_super);function class_13(){return _super.call(this,{id:"expandLineSelection",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2090}})||this}return class_13.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,cursorMoveCommands.b.expandLineSelection(cursors.context,cursors.getAll())),cursors.reveal(args.source,!0,0,0)},class_13}(CoreEditorCommand))),CoreNavigationCommands.CancelSelection=Object(editorExtensions.g)(new(function(_super){__extends(class_14,_super);function class_14(){return _super.call(this,{id:"cancelSelection",precondition:editorContextKeys.a.hasNonEmptySelection,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:9,secondary:[1033]}})||this}return class_14.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,[cursorMoveCommands.b.cancelSelection(cursors.context,cursors.getPrimaryCursor())]),cursors.reveal(args.source,!0,0,0)},class_14}(CoreEditorCommand))),CoreNavigationCommands.RemoveSecondaryCursors=Object(editorExtensions.g)(new(function(_super){__extends(class_15,_super);function class_15(){return _super.call(this,{id:"removeSecondaryCursors",precondition:editorContextKeys.a.hasMultipleSelections,kbOpts:{weight:CORE_WEIGHT+1,kbExpr:editorContextKeys.a.textInputFocus,primary:9,secondary:[1033]}})||this}return class_15.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,[cursors.getPrimaryCursor()]),cursors.reveal(args.source,!0,0,0)},class_15}(CoreEditorCommand))),CoreNavigationCommands.RevealLine=Object(editorExtensions.g)(new(function(_super){__extends(class_16,_super);function class_16(){return _super.call(this,{id:"revealLine",precondition:void 0,description:coreCommands_RevealLine_.description})||this}return class_16.prototype.runCoreEditorCommand=function(cursors,args){var revealLineArg=args,lineNumber=(revealLineArg.lineNumber||0)+1;lineNumber<1&&(lineNumber=1);var lineCount=cursors.context.model.getLineCount();lineNumber>lineCount&&(lineNumber=lineCount);var range=new core_range.a(lineNumber,1,lineNumber,cursors.context.model.getLineMaxColumn(lineNumber)),revealAt=0;if(revealLineArg.at)switch(revealLineArg.at){case coreCommands_RevealLine_.RawAtArgument.Top:revealAt=3;break;case coreCommands_RevealLine_.RawAtArgument.Center:revealAt=1;break;case coreCommands_RevealLine_.RawAtArgument.Bottom:revealAt=4;break;default:break}var viewRange=cursors.context.convertModelRangeToViewRange(range);cursors.revealRange(args.source,!1,viewRange,revealAt,0)},class_16}(CoreEditorCommand))),CoreNavigationCommands.SelectAll=Object(editorExtensions.g)(new(function(_super){__extends(class_17,_super);function class_17(){return _super.call(this,{id:"selectAll",precondition:void 0})||this}return class_17.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,[cursorMoveCommands.b.selectAll(cursors.context,cursors.getPrimaryCursor())])},class_17}(CoreEditorCommand))),CoreNavigationCommands.SetSelection=Object(editorExtensions.g)(new(function(_super){__extends(class_18,_super);function class_18(){return _super.call(this,{id:"setSelection",precondition:void 0})||this}return class_18.prototype.runCoreEditorCommand=function(cursors,args){cursors.context.model.pushStackElement(),cursors.setStates(args.source,3,[cursorCommon.d.fromModelSelection(args.selection)])},class_18}(CoreEditorCommand)))})(coreCommands_CoreNavigationCommands||(coreCommands_CoreNavigationCommands={}));var coreCommands_CoreEditingCommands;(function(CoreEditingCommands){var CoreEditingCommand=function(_super){__extends(CoreEditingCommand2,_super);function CoreEditingCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return CoreEditingCommand2.prototype.runEditorCommand=function(accessor,editor,args){var cursors=editor._getCursors();cursors&&this.runCoreEditingCommand(editor,cursors,args||{})},CoreEditingCommand2}(editorExtensions.c);CoreEditingCommands.CoreEditingCommand=CoreEditingCommand,CoreEditingCommands.LineBreakInsert=Object(editorExtensions.g)(new(function(_super){__extends(class_19,_super);function class_19(){return _super.call(this,{id:"lineBreakInsert",precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:301}}})||this}return class_19.prototype.runCoreEditingCommand=function(editor,cursors,args){editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.lineBreakInsert(cursors.context.config,cursors.context.model,cursors.getAll().map(function(s){return s.modelState.selection})))},class_19}(CoreEditingCommand))),CoreEditingCommands.Outdent=Object(editorExtensions.g)(new(function(_super){__extends(class_20,_super);function class_20(){return _super.call(this,{id:"outdent",precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:contextkey.a.and(editorContextKeys.a.editorTextFocus,editorContextKeys.a.tabDoesNotMoveFocus),primary:1026}})||this}return class_20.prototype.runCoreEditingCommand=function(editor,cursors,args){editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.outdent(cursors.context.config,cursors.context.model,cursors.getAll().map(function(s){return s.modelState.selection}))),editor.pushUndoStop()},class_20}(CoreEditingCommand))),CoreEditingCommands.Tab=Object(editorExtensions.g)(new(function(_super){__extends(class_21,_super);function class_21(){return _super.call(this,{id:"tab",precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:contextkey.a.and(editorContextKeys.a.editorTextFocus,editorContextKeys.a.tabDoesNotMoveFocus),primary:2}})||this}return class_21.prototype.runCoreEditingCommand=function(editor,cursors,args){editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.tab(cursors.context.config,cursors.context.model,cursors.getAll().map(function(s){return s.modelState.selection}))),editor.pushUndoStop()},class_21}(CoreEditingCommand))),CoreEditingCommands.DeleteLeft=Object(editorExtensions.g)(new(function(_super){__extends(class_22,_super);function class_22(){return _super.call(this,{id:"deleteLeft",precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return class_22.prototype.runCoreEditingCommand=function(editor,cursors,args){var _a=cursorDeleteOperations.a.deleteLeft(cursors.getPrevEditOperationType(),cursors.context.config,cursors.context.model,cursors.getAll().map(function(s){return s.modelState.selection})),shouldPushStackElementBefore=_a[0],commands=_a[1];shouldPushStackElementBefore&&editor.pushUndoStop(),editor.executeCommands(this.id,commands),cursors.setPrevEditOperationType(2)},class_22}(CoreEditingCommand))),CoreEditingCommands.DeleteRight=Object(editorExtensions.g)(new(function(_super){__extends(class_23,_super);function class_23(){return _super.call(this,{id:"deleteRight",precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return class_23.prototype.runCoreEditingCommand=function(editor,cursors,args){var _a=cursorDeleteOperations.a.deleteRight(cursors.getPrevEditOperationType(),cursors.context.config,cursors.context.model,cursors.getAll().map(function(s){return s.modelState.selection})),shouldPushStackElementBefore=_a[0],commands=_a[1];shouldPushStackElementBefore&&editor.pushUndoStop(),editor.executeCommands(this.id,commands),cursors.setPrevEditOperationType(3)},class_23}(CoreEditingCommand)))})(coreCommands_CoreEditingCommands||(coreCommands_CoreEditingCommands={}));function registerCommand(command){command.register()}var coreCommands_EditorOrNativeTextInputCommand=function(_super){__extends(EditorOrNativeTextInputCommand,_super);function EditorOrNativeTextInputCommand(opts){var _this=_super.call(this,opts)||this;return _this._editorHandler=opts.editorHandler,_this._inputHandler=opts.inputHandler,_this}return EditorOrNativeTextInputCommand.prototype.runCommand=function(accessor,args){var focusedEditor=accessor.get(codeEditorService.a).getFocusedCodeEditor();if(focusedEditor&&focusedEditor.hasTextFocus())return this._runEditorHandler(accessor,focusedEditor,args);var activeElement=document.activeElement;if(activeElement&&["input","textarea"].indexOf(activeElement.tagName.toLowerCase())>=0){document.execCommand(this._inputHandler);return}var activeEditor=accessor.get(codeEditorService.a).getActiveCodeEditor();if(activeEditor)return activeEditor.focus(),this._runEditorHandler(accessor,activeEditor,args)},EditorOrNativeTextInputCommand.prototype._runEditorHandler=function(accessor,editor,args){var HANDLER=this._editorHandler;typeof HANDLER=="string"?editor.trigger("keyboard",HANDLER,args):(args=args||{},args.source="keyboard",HANDLER.runEditorCommand(accessor,editor,args))},EditorOrNativeTextInputCommand}(editorExtensions.a),coreCommands_EditorHandlerCommand=function(_super){__extends(EditorHandlerCommand,_super);function EditorHandlerCommand(id,handlerId,description){var _this=_super.call(this,{id,precondition:void 0,description})||this;return _this._handlerId=handlerId,_this}return EditorHandlerCommand.prototype.runCommand=function(accessor,args){var editor=accessor.get(codeEditorService.a).getFocusedCodeEditor();editor&&editor.trigger("keyboard",this._handlerId,args)},EditorHandlerCommand}(editorExtensions.a);registerCommand(new coreCommands_EditorOrNativeTextInputCommand({editorHandler:coreCommands_CoreNavigationCommands.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:editorContextKeys.a.textInputFocus,kbOpts:{weight:CORE_WEIGHT,kbExpr:null,primary:2079},menuOpts:{menuId:23,group:"1_basic",title:nls.a({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}})),registerCommand(new coreCommands_EditorOrNativeTextInputCommand({editorHandler:editorCommon.b.Undo,inputHandler:"undo",id:editorCommon.b.Undo,precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2104},menuOpts:{menuId:15,group:"1_do",title:nls.a({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}})),registerCommand(new coreCommands_EditorHandlerCommand("default:"+editorCommon.b.Undo,editorCommon.b.Undo)),registerCommand(new coreCommands_EditorOrNativeTextInputCommand({editorHandler:editorCommon.b.Redo,inputHandler:"redo",id:editorCommon.b.Redo,precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:{menuId:15,group:"1_do",title:nls.a({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}})),registerCommand(new coreCommands_EditorHandlerCommand("default:"+editorCommon.b.Redo,editorCommon.b.Redo));function registerOverwritableCommand(handlerId,description){registerCommand(new coreCommands_EditorHandlerCommand("default:"+handlerId,handlerId)),registerCommand(new coreCommands_EditorHandlerCommand(handlerId,handlerId,description))}registerOverwritableCommand(editorCommon.b.Type,{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),registerOverwritableCommand(editorCommon.b.ReplacePreviousChar),registerOverwritableCommand(editorCommon.b.CompositionStart),registerOverwritableCommand(editorCommon.b.CompositionEnd),registerOverwritableCommand(editorCommon.b.Paste),registerOverwritableCommand(editorCommon.b.Cut)},2254:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToggleTabFocusModeAction",function(){return ToggleTabFocusModeAction});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2815),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2099),_common_config_commonEditorConfig_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3490),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ToggleTabFocusModeAction=function(_super){__extends(ToggleTabFocusModeAction2,_super);function ToggleTabFocusModeAction2(){return _super.call(this,{id:ToggleTabFocusModeAction2.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})||this}return ToggleTabFocusModeAction2.prototype.run=function(accessor,editor){var oldValue=_common_config_commonEditorConfig_js__WEBPACK_IMPORTED_MODULE_3__.b.getTabFocusMode(),newValue=!oldValue;_common_config_commonEditorConfig_js__WEBPACK_IMPORTED_MODULE_3__.b.setTabFocusMode(newValue),newValue?Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__.a)(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__.a)(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))},ToggleTabFocusModeAction2.ID="editor.action.toggleTabFocusMode",ToggleTabFocusModeAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.b);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.f)(ToggleTabFocusModeAction)},2255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ColorDetector",function(){return ColorDetector});var _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2237),_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2663),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2176),_base_common_hash_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3498),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2033),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2099),_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2732),_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2056),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2720),_common_modes_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2240),_color_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3869),_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2786),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},MAX_DECORATORS=500,ColorDetector=function(_super){__extends(ColorDetector2,_super);function ColorDetector2(_editor,_codeEditorService,_configurationService){var _this=_super.call(this)||this;return _this._editor=_editor,_this._codeEditorService=_codeEditorService,_this._configurationService=_configurationService,_this._localToDispose=_this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.b),_this._decorationsIds=[],_this._colorDatas=new Map,_this._colorDecoratorIds=[],_this._decorationsTypes=new Set,_this._register(_editor.onDidChangeModel(function(e){_this._isEnabled=_this.isEnabled(),_this.onModelChanged()})),_this._register(_editor.onDidChangeModelLanguage(function(e){return _this.onModelChanged()})),_this._register(_common_modes_js__WEBPACK_IMPORTED_MODULE_9__.c.onDidChange(function(e){return _this.onModelChanged()})),_this._register(_editor.onDidChangeConfiguration(function(e){var prevIsEnabled=_this._isEnabled;_this._isEnabled=_this.isEnabled(),prevIsEnabled!==_this._isEnabled&&(_this._isEnabled?_this.onModelChanged():_this.removeAllDecorations())})),_this._timeoutTimer=null,_this._computePromise=null,_this._isEnabled=_this.isEnabled(),_this.onModelChanged(),_this}return ColorDetector2.prototype.isEnabled=function(){var model=this._editor.getModel();if(!model)return!1;var languageId=model.getLanguageIdentifier(),deprecatedConfig=this._configurationService.getValue(languageId.language);if(deprecatedConfig){var colorDecorators=deprecatedConfig.colorDecorators;if(colorDecorators&&colorDecorators.enable!==void 0&&!colorDecorators.enable)return colorDecorators.enable}return this._editor.getOption(12)},ColorDetector2.get=function(editor){return editor.getContribution(this.ID)},ColorDetector2.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),_super.prototype.dispose.call(this)},ColorDetector2.prototype.onModelChanged=function(){var _this=this;if(this.stop(),!!this._isEnabled){var model=this._editor.getModel();!model||!_common_modes_js__WEBPACK_IMPORTED_MODULE_9__.c.has(model)||(this._localToDispose.add(this._editor.onDidChangeModelContent(function(e){_this._timeoutTimer||(_this._timeoutTimer=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__.e,_this._timeoutTimer.cancelAndSet(function(){_this._timeoutTimer=null,_this.beginCompute()},ColorDetector2.RECOMPUTE_TIME))})),this.beginCompute())}},ColorDetector2.prototype.beginCompute=function(){var _this=this;this._computePromise=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_0__.f)(function(token){var model=_this._editor.getModel();return model?Object(_color_js__WEBPACK_IMPORTED_MODULE_10__.b)(model,token):Promise.resolve([])}),this._computePromise.then(function(colorInfos){_this.updateDecorations(colorInfos),_this.updateColorDecorators(colorInfos),_this._computePromise=null},_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.e)},ColorDetector2.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()},ColorDetector2.prototype.updateDecorations=function(colorDatas){var _this=this,decorations=colorDatas.map(function(c){return{range:{startLineNumber:c.colorInfo.range.startLineNumber,startColumn:c.colorInfo.range.startColumn,endLineNumber:c.colorInfo.range.endLineNumber,endColumn:c.colorInfo.range.endColumn},options:_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_8__.a.EMPTY}});this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,decorations),this._colorDatas=new Map,this._decorationsIds.forEach(function(id,i){return _this._colorDatas.set(id,colorDatas[i])})},ColorDetector2.prototype.updateColorDecorators=function(colorData){for(var _this=this,decorations=[],newDecorationsTypes={},i=0;i<colorData.length&&decorations.length<MAX_DECORATORS;i++){var _a=colorData[i].colorInfo.color,red=_a.red,green=_a.green,blue=_a.blue,alpha=_a.alpha,rgba=new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(Math.round(red*255),Math.round(green*255),Math.round(blue*255),alpha),subKey=Object(_base_common_hash_js__WEBPACK_IMPORTED_MODULE_3__.a)(rgba).toString(16),color="rgba("+rgba.r+", "+rgba.g+", "+rgba.b+", "+rgba.a+")",key="colorBox-"+subKey;!this._decorationsTypes.has(key)&&!newDecorationsTypes[key]&&this._codeEditorService.registerDecorationType(key,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:color},dark:{before:{border:"solid 0.1em #eee"}}}),newDecorationsTypes[key]=!0,decorations.push({range:{startLineNumber:colorData[i].colorInfo.range.startLineNumber,startColumn:colorData[i].colorInfo.range.startColumn,endLineNumber:colorData[i].colorInfo.range.endLineNumber,endColumn:colorData[i].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(key,!0)})}this._decorationsTypes.forEach(function(subType){newDecorationsTypes[subType]||_this._codeEditorService.removeDecorationType(subType)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,decorations)},ColorDetector2.prototype.removeAllDecorations=function(){var _this=this;this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(function(subType){_this._codeEditorService.removeDecorationType(subType)})},ColorDetector2.prototype.getColorData=function(position){var _this=this,model=this._editor.getModel();if(!model)return null;var decorations=model.getDecorationsInRange(_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a.fromPositions(position,position)).filter(function(d){return _this._colorDatas.has(d.id)});return decorations.length===0?null:this._colorDatas.get(decorations[0].id)},ColorDetector2.ID="editor.contrib.colorDetector",ColorDetector2.RECOMPUTE_TIME=1e3,ColorDetector2=__decorate([__param(1,_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_6__.a),__param(2,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_11__.a)],ColorDetector2),ColorDetector2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.a);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__.h)(ColorDetector.ID,ColorDetector)},2256:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"GotoDefinitionAtPositionEditorContribution",function(){return GotoDefinitionAtPositionEditorContribution});var _goToDefinitionAtPosition_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5791),_goToDefinitionAtPosition_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_goToDefinitionAtPosition_css__WEBPACK_IMPORTED_MODULE_0__),_nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2069),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2237),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2176),_base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3241),_common_services_modeService_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3198),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2056),_common_modes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2240),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2099),_goToSymbol_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3881),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2033),_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3233),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2235),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2623),_browser_core_editorState_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3177),_goToCommands_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2264),_clickLinkGesture_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3882),_common_core_position_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2233),_base_common_types_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2631),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},GotoDefinitionAtPositionEditorContribution=function(){function GotoDefinitionAtPositionEditorContribution2(editor,textModelResolverService,modeService){var _this=this;this.textModelResolverService=textModelResolverService,this.modeService=modeService,this.toUnhook=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.b,this.toUnhookForKeyboard=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.b,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=editor;var linkGesture=new _clickLinkGesture_js__WEBPACK_IMPORTED_MODULE_16__.a(editor);this.toUnhook.add(linkGesture),this.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(function(_a){var mouseEvent=_a[0],keyboardEvent=_a[1];_this.startFindDefinitionFromMouse(mouseEvent,Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_18__.n)(keyboardEvent))})),this.toUnhook.add(linkGesture.onExecute(function(mouseEvent){_this.isEnabled(mouseEvent)&&_this.gotoDefinition(mouseEvent.target.position,mouseEvent.hasSideBySideModifier).then(function(){_this.removeLinkDecorations()},function(error){_this.removeLinkDecorations(),Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__.e)(error)})})),this.toUnhook.add(linkGesture.onCancel(function(){_this.removeLinkDecorations(),_this.currentWordAtPosition=null}))}return GotoDefinitionAtPositionEditorContribution2.get=function(editor){return editor.getContribution(GotoDefinitionAtPositionEditorContribution2.ID)},GotoDefinitionAtPositionEditorContribution2.prototype.startFindDefinitionFromCursor=function(position){var _this=this;return this.startFindDefinition(position).then(function(){_this.toUnhookForKeyboard.add(_this.editor.onDidChangeCursorPosition(function(){_this.currentWordAtPosition=null,_this.removeLinkDecorations(),_this.toUnhookForKeyboard.clear()})),_this.toUnhookForKeyboard.add(_this.editor.onKeyDown(function(e){e&&(_this.currentWordAtPosition=null,_this.removeLinkDecorations(),_this.toUnhookForKeyboard.clear())}))})},GotoDefinitionAtPositionEditorContribution2.prototype.startFindDefinitionFromMouse=function(mouseEvent,withKey){if(!(mouseEvent.target.type===9&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(mouseEvent,withKey)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}var position=mouseEvent.target.position;this.startFindDefinition(position)}},GotoDefinitionAtPositionEditorContribution2.prototype.startFindDefinition=function(position){var _this=this,_a;this.toUnhookForKeyboard.clear();var word=position?(_a=this.editor.getModel())===null||_a===void 0?void 0:_a.getWordAtPosition(position):null;if(!word)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===word.startColumn&&this.currentWordAtPosition.endColumn===word.endColumn&&this.currentWordAtPosition.word===word.word)return Promise.resolve(0);this.currentWordAtPosition=word;var state=new _browser_core_editorState_js__WEBPACK_IMPORTED_MODULE_14__.a(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.f)(function(token){return _this.findDefinition(position,token)}),this.previousPromise.then(function(results){if(!results||!results.length||!state.validate(_this.editor)){_this.removeLinkDecorations();return}if(results.length>1)_this.addDecoration(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn),new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_4__.a().appendText(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("multipleResults","Click to show {0} definitions.",results.length)));else{var result_1=results[0];if(!result_1.uri)return;_this.textModelResolverService.createModelReference(result_1.uri).then(function(ref){if(!ref.object||!ref.object.textEditorModel){ref.dispose();return}var textEditorModel=ref.object.textEditorModel,startLineNumber=result_1.range.startLineNumber;if(startLineNumber<1||startLineNumber>textEditorModel.getLineCount()){ref.dispose();return}var previewValue=_this.getPreviewValue(textEditorModel,startLineNumber,result_1),wordRange;result_1.originSelectionRange?wordRange=_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.lift(result_1.originSelectionRange):wordRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn);var modeId=_this.modeService.getModeIdByFilepathOrFirstLine(textEditorModel.uri);_this.addDecoration(wordRange,new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_4__.a().appendCodeblock(modeId||"",previewValue)),ref.dispose()})}}).then(void 0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__.e)},GotoDefinitionAtPositionEditorContribution2.prototype.getPreviewValue=function(textEditorModel,startLineNumber,result){var rangeToUse=result.targetSelectionRange?result.range:this.getPreviewRangeBasedOnBrackets(textEditorModel,startLineNumber),numberOfLinesInRange=rangeToUse.endLineNumber-rangeToUse.startLineNumber;numberOfLinesInRange>=GotoDefinitionAtPositionEditorContribution2.MAX_SOURCE_PREVIEW_LINES&&(rangeToUse=this.getPreviewRangeBasedOnIndentation(textEditorModel,startLineNumber));var previewValue=this.stripIndentationFromPreviewRange(textEditorModel,startLineNumber,rangeToUse);return previewValue},GotoDefinitionAtPositionEditorContribution2.prototype.stripIndentationFromPreviewRange=function(textEditorModel,startLineNumber,previewRange){for(var startIndent=textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber),minIndent=startIndent,endLineNumber=startLineNumber+1;endLineNumber<previewRange.endLineNumber;endLineNumber++){var endIndent=textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);minIndent=Math.min(minIndent,endIndent)}var previewValue=textEditorModel.getValueInRange(previewRange).replace(new RegExp("^\\s{"+(minIndent-1)+"}","gm"),"").trim();return previewValue},GotoDefinitionAtPositionEditorContribution2.prototype.getPreviewRangeBasedOnIndentation=function(textEditorModel,startLineNumber){for(var startIndent=textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber),maxLineNumber=Math.min(textEditorModel.getLineCount(),startLineNumber+GotoDefinitionAtPositionEditorContribution2.MAX_SOURCE_PREVIEW_LINES),endLineNumber=startLineNumber+1;endLineNumber<maxLineNumber;endLineNumber++){var endIndent=textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);if(startIndent===endIndent)break}return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,endLineNumber+1,1)},GotoDefinitionAtPositionEditorContribution2.prototype.getPreviewRangeBasedOnBrackets=function(textEditorModel,startLineNumber){for(var maxLineNumber=Math.min(textEditorModel.getLineCount(),startLineNumber+GotoDefinitionAtPositionEditorContribution2.MAX_SOURCE_PREVIEW_LINES),brackets=[],ignoreFirstEmpty=!0,currentBracket=textEditorModel.findNextBracket(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_17__.a(startLineNumber,1));currentBracket!==null;){if(brackets.length===0)brackets.push(currentBracket);else{var lastBracket=brackets[brackets.length-1];if(lastBracket.open[0]===currentBracket.open[0]&&lastBracket.isOpen&&!currentBracket.isOpen?brackets.pop():brackets.push(currentBracket),brackets.length===0)if(ignoreFirstEmpty)ignoreFirstEmpty=!1;else return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,currentBracket.range.endLineNumber+1,1)}var maxColumn=textEditorModel.getLineMaxColumn(startLineNumber),nextLineNumber=currentBracket.range.endLineNumber,nextColumn=currentBracket.range.endColumn;if(maxColumn===currentBracket.range.endColumn&&(nextLineNumber++,nextColumn=1),nextLineNumber>maxLineNumber)return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,maxLineNumber+1,1);currentBracket=textEditorModel.findNextBracket(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_17__.a(nextLineNumber,nextColumn))}return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,maxLineNumber+1,1)},GotoDefinitionAtPositionEditorContribution2.prototype.addDecoration=function(range,hoverMessage){var newDecorations={range,options:{inlineClassName:"goto-definition-link",hoverMessage}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[newDecorations])},GotoDefinitionAtPositionEditorContribution2.prototype.removeLinkDecorations=function(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))},GotoDefinitionAtPositionEditorContribution2.prototype.isEnabled=function(mouseEvent,withKey){return this.editor.hasModel()&&mouseEvent.isNoneOrSingleMouseDown&&mouseEvent.target.type===6&&(mouseEvent.hasTriggerModifier||(withKey?withKey.keyCodeIsTriggerKey:!1))&&_common_modes_js__WEBPACK_IMPORTED_MODULE_7__.f.has(this.editor.getModel())},GotoDefinitionAtPositionEditorContribution2.prototype.findDefinition=function(position,token){var model=this.editor.getModel();return model?Object(_goToSymbol_js__WEBPACK_IMPORTED_MODULE_9__.b)(model,position,token):Promise.resolve(null)},GotoDefinitionAtPositionEditorContribution2.prototype.gotoDefinition=function(position,openToSide){var _this=this;this.editor.setPosition(position);var action=new _goToCommands_js__WEBPACK_IMPORTED_MODULE_15__.DefinitionAction({openToSide,openInPeek:!1,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext(function(accessor){return action.run(accessor,_this.editor)})},GotoDefinitionAtPositionEditorContribution2.prototype.dispose=function(){this.toUnhook.dispose()},GotoDefinitionAtPositionEditorContribution2.ID="editor.contrib.gotodefinitionatposition",GotoDefinitionAtPositionEditorContribution2.MAX_SOURCE_PREVIEW_LINES=8,GotoDefinitionAtPositionEditorContribution2=__decorate([__param(1,_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__.a),__param(2,_common_services_modeService_js__WEBPACK_IMPORTED_MODULE_5__.a)],GotoDefinitionAtPositionEditorContribution2),GotoDefinitionAtPositionEditorContribution2}();Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_8__.h)(GotoDefinitionAtPositionEditorContribution.ID,GotoDefinitionAtPositionEditorContribution),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_12__.e)(function(theme,collector){var activeLinkForeground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.n);activeLinkForeground&&collector.addRule(".monaco-editor .goto-definition-link { color: "+activeLinkForeground+" !important; }")})},2257:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MoveWordCommand",function(){return MoveWordCommand}),__webpack_require__.d(__webpack_exports__,"WordLeftCommand",function(){return WordLeftCommand}),__webpack_require__.d(__webpack_exports__,"WordRightCommand",function(){return WordRightCommand}),__webpack_require__.d(__webpack_exports__,"CursorWordStartLeft",function(){return CursorWordStartLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordEndLeft",function(){return CursorWordEndLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordLeft",function(){return CursorWordLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordStartLeftSelect",function(){return CursorWordStartLeftSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordEndLeftSelect",function(){return CursorWordEndLeftSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordLeftSelect",function(){return CursorWordLeftSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordAccessibilityLeft",function(){return CursorWordAccessibilityLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordAccessibilityLeftSelect",function(){return CursorWordAccessibilityLeftSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordStartRight",function(){return CursorWordStartRight}),__webpack_require__.d(__webpack_exports__,"CursorWordEndRight",function(){return CursorWordEndRight}),__webpack_require__.d(__webpack_exports__,"CursorWordRight",function(){return CursorWordRight}),__webpack_require__.d(__webpack_exports__,"CursorWordStartRightSelect",function(){return CursorWordStartRightSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordEndRightSelect",function(){return CursorWordEndRightSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordRightSelect",function(){return CursorWordRightSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordAccessibilityRight",function(){return CursorWordAccessibilityRight}),__webpack_require__.d(__webpack_exports__,"CursorWordAccessibilityRightSelect",function(){return CursorWordAccessibilityRightSelect}),__webpack_require__.d(__webpack_exports__,"DeleteWordCommand",function(){return DeleteWordCommand}),__webpack_require__.d(__webpack_exports__,"DeleteWordLeftCommand",function(){return DeleteWordLeftCommand}),__webpack_require__.d(__webpack_exports__,"DeleteWordRightCommand",function(){return DeleteWordRightCommand}),__webpack_require__.d(__webpack_exports__,"DeleteWordStartLeft",function(){return DeleteWordStartLeft}),__webpack_require__.d(__webpack_exports__,"DeleteWordEndLeft",function(){return DeleteWordEndLeft}),__webpack_require__.d(__webpack_exports__,"DeleteWordLeft",function(){return DeleteWordLeft}),__webpack_require__.d(__webpack_exports__,"DeleteWordStartRight",function(){return DeleteWordStartRight}),__webpack_require__.d(__webpack_exports__,"DeleteWordEndRight",function(){return DeleteWordEndRight}),__webpack_require__.d(__webpack_exports__,"DeleteWordRight",function(){return DeleteWordRight});var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2099),_common_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3240),_common_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2787),_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3500),_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3282),_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2233),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2056),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2629),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2632),_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3167),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2238),_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2784),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),MoveWordCommand=function(_super){__extends(MoveWordCommand2,_super);function MoveWordCommand2(opts){var _this=_super.call(this,opts)||this;return _this._inSelectionMode=opts.inSelectionMode,_this._wordNavigationType=opts.wordNavigationType,_this}return MoveWordCommand2.prototype.runEditorCommand=function(accessor,editor,args){var _this=this;if(editor.hasModel()){var wordSeparators=Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(editor.getOption(92)),model=editor.getModel(),selections=editor.getSelections(),result=selections.map(function(sel){var inPosition=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(sel.positionLineNumber,sel.positionColumn),outPosition=_this._move(wordSeparators,model,inPosition,_this._wordNavigationType);return _this._moveTo(sel,outPosition,_this._inSelectionMode)});if(editor._getCursors().setStates("moveWordCommand",0,result.map(function(r){return _common_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.d.fromModelSelection(r)})),result.length===1){var pos=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(result[0].positionLineNumber,result[0].positionColumn);editor.revealPosition(pos,0)}}},MoveWordCommand2.prototype._moveTo=function(from,to,inSelectionMode){return inSelectionMode?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(from.selectionStartLineNumber,from.selectionStartColumn,to.lineNumber,to.column):new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(to.lineNumber,to.column,to.lineNumber,to.column)},MoveWordCommand2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.c),WordLeftCommand=function(_super){__extends(WordLeftCommand2,_super);function WordLeftCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return WordLeftCommand2.prototype._move=function(wordSeparators,model,position,wordNavigationType){return _common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.moveWordLeft(wordSeparators,model,position,wordNavigationType)},WordLeftCommand2}(MoveWordCommand),WordRightCommand=function(_super){__extends(WordRightCommand2,_super);function WordRightCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return WordRightCommand2.prototype._move=function(wordSeparators,model,position,wordNavigationType){return _common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.moveWordRight(wordSeparators,model,position,wordNavigationType)},WordRightCommand2}(MoveWordCommand),CursorWordStartLeft=function(_super){__extends(CursorWordStartLeft2,_super);function CursorWordStartLeft2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:2063,mac:{primary:527},weight:100}})||this}return CursorWordStartLeft2}(WordLeftCommand),CursorWordEndLeft=function(_super){__extends(CursorWordEndLeft2,_super);function CursorWordEndLeft2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})||this}return CursorWordEndLeft2}(WordLeftCommand),CursorWordLeft=function(_super){__extends(CursorWordLeft2,_super);function CursorWordLeft2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0})||this}return CursorWordLeft2}(WordLeftCommand),CursorWordStartLeftSelect=function(_super){__extends(CursorWordStartLeftSelect2,_super);function CursorWordStartLeftSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})||this}return CursorWordStartLeftSelect2}(WordLeftCommand),CursorWordEndLeftSelect=function(_super){__extends(CursorWordEndLeftSelect2,_super);function CursorWordEndLeftSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})||this}return CursorWordEndLeftSelect2}(WordLeftCommand),CursorWordLeftSelect=function(_super){__extends(CursorWordLeftSelect2,_super);function CursorWordLeftSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0})||this}return CursorWordLeftSelect2}(WordLeftCommand),CursorWordAccessibilityLeft=function(_super){__extends(CursorWordAccessibilityLeft2,_super);function CursorWordAccessibilityLeft2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__.a),primary:2063,mac:{primary:527},weight:100+1}})||this}return CursorWordAccessibilityLeft2.prototype._move=function(_,model,position,wordNavigationType){return _super.prototype._move.call(this,Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.e.wordSeparators.defaultValue),model,position,wordNavigationType)},CursorWordAccessibilityLeft2}(WordLeftCommand),CursorWordAccessibilityLeftSelect=function(_super){__extends(CursorWordAccessibilityLeftSelect2,_super);function CursorWordAccessibilityLeftSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__.a),primary:3087,mac:{primary:1551},weight:100+1}})||this}return CursorWordAccessibilityLeftSelect2.prototype._move=function(_,model,position,wordNavigationType){return _super.prototype._move.call(this,Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.e.wordSeparators.defaultValue),model,position,wordNavigationType)},CursorWordAccessibilityLeftSelect2}(WordLeftCommand),CursorWordStartRight=function(_super){__extends(CursorWordStartRight2,_super);function CursorWordStartRight2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})||this}return CursorWordStartRight2}(WordRightCommand),CursorWordEndRight=function(_super){__extends(CursorWordEndRight2,_super);function CursorWordEndRight2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:2065,mac:{primary:529},weight:100}})||this}return CursorWordEndRight2}(WordRightCommand),CursorWordRight=function(_super){__extends(CursorWordRight2,_super);function CursorWordRight2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})||this}return CursorWordRight2}(WordRightCommand),CursorWordStartRightSelect=function(_super){__extends(CursorWordStartRightSelect2,_super);function CursorWordStartRightSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})||this}return CursorWordStartRightSelect2}(WordRightCommand),CursorWordEndRightSelect=function(_super){__extends(CursorWordEndRightSelect2,_super);function CursorWordEndRightSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})||this}return CursorWordEndRightSelect2}(WordRightCommand),CursorWordRightSelect=function(_super){__extends(CursorWordRightSelect2,_super);function CursorWordRightSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})||this}return CursorWordRightSelect2}(WordRightCommand),CursorWordAccessibilityRight=function(_super){__extends(CursorWordAccessibilityRight2,_super);function CursorWordAccessibilityRight2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__.a),primary:2065,mac:{primary:529},weight:100+1}})||this}return CursorWordAccessibilityRight2.prototype._move=function(_,model,position,wordNavigationType){return _super.prototype._move.call(this,Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.e.wordSeparators.defaultValue),model,position,wordNavigationType)},CursorWordAccessibilityRight2}(WordRightCommand),CursorWordAccessibilityRightSelect=function(_super){__extends(CursorWordAccessibilityRightSelect2,_super);function CursorWordAccessibilityRightSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__.a),primary:3089,mac:{primary:1553},weight:100+1}})||this}return CursorWordAccessibilityRightSelect2.prototype._move=function(_,model,position,wordNavigationType){return _super.prototype._move.call(this,Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.e.wordSeparators.defaultValue),model,position,wordNavigationType)},CursorWordAccessibilityRightSelect2}(WordRightCommand),DeleteWordCommand=function(_super){__extends(DeleteWordCommand2,_super);function DeleteWordCommand2(opts){var _this=_super.call(this,opts)||this;return _this._whitespaceHeuristics=opts.whitespaceHeuristics,_this._wordNavigationType=opts.wordNavigationType,_this}return DeleteWordCommand2.prototype.runEditorCommand=function(accessor,editor,args){var _this=this;if(editor.hasModel()){var wordSeparators=Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(editor.getOption(92)),model=editor.getModel(),selections=editor.getSelections(),commands=selections.map(function(sel){var deleteRange=_this._delete(wordSeparators,model,sel,_this._whitespaceHeuristics,_this._wordNavigationType);return new _common_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteRange,"")});editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}},DeleteWordCommand2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.c),DeleteWordLeftCommand=function(_super){__extends(DeleteWordLeftCommand2,_super);function DeleteWordLeftCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return DeleteWordLeftCommand2.prototype._delete=function(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){var r=_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.deleteWordLeft(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType);return r||new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(1,1,1,1)},DeleteWordLeftCommand2}(DeleteWordCommand),DeleteWordRightCommand=function(_super){__extends(DeleteWordRightCommand2,_super);function DeleteWordRightCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return DeleteWordRightCommand2.prototype._delete=function(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){var r=_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.deleteWordRight(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType);if(r)return r;var lineCount=model.getLineCount(),maxColumn=model.getLineMaxColumn(lineCount);return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(lineCount,maxColumn,lineCount,maxColumn)},DeleteWordRightCommand2}(DeleteWordCommand),DeleteWordStartLeft=function(_super){__extends(DeleteWordStartLeft2,_super);function DeleteWordStartLeft2(){return _super.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})||this}return DeleteWordStartLeft2}(DeleteWordLeftCommand),DeleteWordEndLeft=function(_super){__extends(DeleteWordEndLeft2,_super);function DeleteWordEndLeft2(){return _super.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})||this}return DeleteWordEndLeft2}(DeleteWordLeftCommand),DeleteWordLeft=function(_super){__extends(DeleteWordLeft2,_super);function DeleteWordLeft2(){return _super.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:2049,mac:{primary:513},weight:100}})||this}return DeleteWordLeft2}(DeleteWordLeftCommand),DeleteWordStartRight=function(_super){__extends(DeleteWordStartRight2,_super);function DeleteWordStartRight2(){return _super.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})||this}return DeleteWordStartRight2}(DeleteWordRightCommand),DeleteWordEndRight=function(_super){__extends(DeleteWordEndRight2,_super);function DeleteWordEndRight2(){return _super.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})||this}return DeleteWordEndRight2}(DeleteWordRightCommand),DeleteWordRight=function(_super){__extends(DeleteWordRight2,_super);function DeleteWordRight2(){return _super.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:2068,mac:{primary:532},weight:100}})||this}return DeleteWordRight2}(DeleteWordRightCommand);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordStartLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordEndLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordStartLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordEndLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordStartRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordEndRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordStartRightSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordEndRightSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordRightSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordAccessibilityLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordAccessibilityLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordAccessibilityRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordAccessibilityRightSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new DeleteWordStartLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new DeleteWordEndLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new DeleteWordLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new DeleteWordStartRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new DeleteWordEndRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new DeleteWordRight)},2261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getSelectionSearchString",function(){return getSelectionSearchString}),__webpack_require__.d(__webpack_exports__,"CommonFindController",function(){return findController_CommonFindController}),__webpack_require__.d(__webpack_exports__,"FindController",function(){return findController_FindController}),__webpack_require__.d(__webpack_exports__,"StartFindAction",function(){return findController_StartFindAction}),__webpack_require__.d(__webpack_exports__,"StartFindWithSelectionAction",function(){return findController_StartFindWithSelectionAction}),__webpack_require__.d(__webpack_exports__,"MatchFindAction",function(){return MatchFindAction}),__webpack_require__.d(__webpack_exports__,"NextMatchFindAction",function(){return findController_NextMatchFindAction}),__webpack_require__.d(__webpack_exports__,"NextMatchFindAction2",function(){return findController_NextMatchFindAction2}),__webpack_require__.d(__webpack_exports__,"PreviousMatchFindAction",function(){return findController_PreviousMatchFindAction}),__webpack_require__.d(__webpack_exports__,"PreviousMatchFindAction2",function(){return findController_PreviousMatchFindAction2}),__webpack_require__.d(__webpack_exports__,"SelectionMatchFindAction",function(){return SelectionMatchFindAction}),__webpack_require__.d(__webpack_exports__,"NextSelectionMatchFindAction",function(){return findController_NextSelectionMatchFindAction}),__webpack_require__.d(__webpack_exports__,"PreviousSelectionMatchFindAction",function(){return findController_PreviousSelectionMatchFindAction}),__webpack_require__.d(__webpack_exports__,"StartFindReplaceAction",function(){return findController_StartFindReplaceAction});var nls=__webpack_require__(2069),common_async=__webpack_require__(2237),lifecycle=__webpack_require__(2033),strings=__webpack_require__(2123),editorExtensions=__webpack_require__(2099),editorContextKeys=__webpack_require__(2632),replaceCommand=__webpack_require__(3240),core_position=__webpack_require__(2233),core_range=__webpack_require__(2056),core_selection=__webpack_require__(2629),textModelSearch=__webpack_require__(3492),common_model=__webpack_require__(2819),textModel=__webpack_require__(2720),colorRegistry=__webpack_require__(2623),common_themeService=__webpack_require__(2235),findDecorations_FindDecorations=function(){function FindDecorations(editor){this._editor=editor,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return FindDecorations.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},FindDecorations.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},FindDecorations.prototype.getCount=function(){return this._decorations.length},FindDecorations.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},FindDecorations.prototype.getStartPosition=function(){return this._startPosition},FindDecorations.prototype.setStartPosition=function(newStartPosition){this._startPosition=newStartPosition,this.setCurrentFindMatch(null)},FindDecorations.prototype._getDecorationIndex=function(decorationId){var index=this._decorations.indexOf(decorationId);return index>=0?index+1:1},FindDecorations.prototype.getCurrentMatchesPosition=function(desiredRange){for(var candidates=this._editor.getModel().getDecorationsInRange(desiredRange),_i=0,candidates_1=candidates;_i<candidates_1.length;_i++){var candidate=candidates_1[_i],candidateOpts=candidate.options;if(candidateOpts===FindDecorations._FIND_MATCH_DECORATION||candidateOpts===FindDecorations._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(candidate.id)}return 1},FindDecorations.prototype.setCurrentFindMatch=function(nextMatch){var _this=this,newCurrentDecorationId=null,matchPosition=0;if(nextMatch)for(var i=0,len=this._decorations.length;i<len;i++){var range=this._editor.getModel().getDecorationRange(this._decorations[i]);if(nextMatch.equalsRange(range)){newCurrentDecorationId=this._decorations[i],matchPosition=i+1;break}}return(this._highlightedDecorationId!==null||newCurrentDecorationId!==null)&&this._editor.changeDecorations(function(changeAccessor){if(_this._highlightedDecorationId!==null&&(changeAccessor.changeDecorationOptions(_this._highlightedDecorationId,FindDecorations._FIND_MATCH_DECORATION),_this._highlightedDecorationId=null),newCurrentDecorationId!==null&&(_this._highlightedDecorationId=newCurrentDecorationId,changeAccessor.changeDecorationOptions(_this._highlightedDecorationId,FindDecorations._CURRENT_FIND_MATCH_DECORATION)),_this._rangeHighlightDecorationId!==null&&(changeAccessor.removeDecoration(_this._rangeHighlightDecorationId),_this._rangeHighlightDecorationId=null),newCurrentDecorationId!==null){var rng=_this._editor.getModel().getDecorationRange(newCurrentDecorationId);if(rng.startLineNumber!==rng.endLineNumber&&rng.endColumn===1){var lineBeforeEnd=rng.endLineNumber-1,lineBeforeEndMaxColumn=_this._editor.getModel().getLineMaxColumn(lineBeforeEnd);rng=new core_range.a(rng.startLineNumber,rng.startColumn,lineBeforeEnd,lineBeforeEndMaxColumn)}_this._rangeHighlightDecorationId=changeAccessor.addDecoration(rng,FindDecorations._RANGE_HIGHLIGHT_DECORATION)}}),matchPosition},FindDecorations.prototype.set=function(findMatches,findScope){var _this=this;this._editor.changeDecorations(function(accessor){var findMatchesOptions=FindDecorations._FIND_MATCH_DECORATION,newOverviewRulerApproximateDecorations=[];if(findMatches.length>1e3){findMatchesOptions=FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var lineCount=_this._editor.getModel().getLineCount(),height=_this._editor.getLayoutInfo().height,approxPixelsPerLine=height/lineCount,mergeLinesDelta=Math.max(2,Math.ceil(3/approxPixelsPerLine)),prevStartLineNumber=findMatches[0].range.startLineNumber,prevEndLineNumber=findMatches[0].range.endLineNumber,i=1,len=findMatches.length;i<len;i++){var range=findMatches[i].range;prevEndLineNumber+mergeLinesDelta>=range.startLineNumber?range.endLineNumber>prevEndLineNumber&&(prevEndLineNumber=range.endLineNumber):(newOverviewRulerApproximateDecorations.push({range:new core_range.a(prevStartLineNumber,1,prevEndLineNumber,1),options:FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),prevStartLineNumber=range.startLineNumber,prevEndLineNumber=range.endLineNumber)}newOverviewRulerApproximateDecorations.push({range:new core_range.a(prevStartLineNumber,1,prevEndLineNumber,1),options:FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}for(var newFindMatchesDecorations=new Array(findMatches.length),i=0,len=findMatches.length;i<len;i++)newFindMatchesDecorations[i]={range:findMatches[i].range,options:findMatchesOptions};_this._decorations=accessor.deltaDecorations(_this._decorations,newFindMatchesDecorations),_this._overviewRulerApproximateDecorations=accessor.deltaDecorations(_this._overviewRulerApproximateDecorations,newOverviewRulerApproximateDecorations),_this._rangeHighlightDecorationId&&(accessor.removeDecoration(_this._rangeHighlightDecorationId),_this._rangeHighlightDecorationId=null),_this._findScopeDecorationId&&(accessor.removeDecoration(_this._findScopeDecorationId),_this._findScopeDecorationId=null),findScope&&(_this._findScopeDecorationId=accessor.addDecoration(findScope,FindDecorations._FIND_SCOPE_DECORATION))})},FindDecorations.prototype.matchBeforePosition=function(position){if(this._decorations.length===0)return null;for(var i=this._decorations.length-1;i>=0;i--){var decorationId=this._decorations[i],r=this._editor.getModel().getDecorationRange(decorationId);if(!(!r||r.endLineNumber>position.lineNumber)){if(r.endLineNumber<position.lineNumber)return r;if(!(r.endColumn>position.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},FindDecorations.prototype.matchAfterPosition=function(position){if(this._decorations.length===0)return null;for(var i=0,len=this._decorations.length;i<len;i++){var decorationId=this._decorations[i],r=this._editor.getModel().getDecorationRange(decorationId);if(!(!r||r.startLineNumber<position.lineNumber)){if(r.startLineNumber>position.lineNumber)return r;if(!(r.startColumn<position.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])},FindDecorations.prototype._allDecorations=function(){var result=[];return result=result.concat(this._decorations),result=result.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&result.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&result.push(this._rangeHighlightDecorationId),result},FindDecorations._CURRENT_FIND_MATCH_DECORATION=textModel.a.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(common_themeService.f)(colorRegistry.Lb),position:common_model.d.Center},minimap:{color:Object(common_themeService.f)(colorRegistry.Hb),position:common_model.c.Inline}}),FindDecorations._FIND_MATCH_DECORATION=textModel.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(common_themeService.f)(colorRegistry.Lb),position:common_model.d.Center},minimap:{color:Object(common_themeService.f)(colorRegistry.Hb),position:common_model.c.Inline}}),FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION=textModel.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION=textModel.a.register({stickiness:1,overviewRuler:{color:Object(common_themeService.f)(colorRegistry.Lb),position:common_model.d.Center}}),FindDecorations._RANGE_HIGHLIGHT_DECORATION=textModel.a.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),FindDecorations._FIND_SCOPE_DECORATION=textModel.a.register({className:"findScope",isWholeLine:!0}),FindDecorations}(),replaceAllCommand_ReplaceAllCommand=function(){function ReplaceAllCommand(editorSelection,ranges,replaceStrings){this._editorSelection=editorSelection,this._ranges=ranges,this._replaceStrings=replaceStrings,this._trackedEditorSelectionId=null}return ReplaceAllCommand.prototype.getEditOperations=function(model,builder){if(this._ranges.length>0){for(var ops=[],i=0;i<this._ranges.length;i++)ops.push({range:this._ranges[i],text:this._replaceStrings[i]});ops.sort(function(o1,o2){return core_range.a.compareRangesUsingStarts(o1.range,o2.range)});for(var resultOps=[],previousOp=ops[0],i=1;i<ops.length;i++)previousOp.range.endLineNumber===ops[i].range.startLineNumber&&previousOp.range.endColumn===ops[i].range.startColumn?(previousOp.range=previousOp.range.plusRange(ops[i].range),previousOp.text=previousOp.text+ops[i].text):(resultOps.push(previousOp),previousOp=ops[i]);resultOps.push(previousOp);for(var _i=0,resultOps_1=resultOps;_i<resultOps_1.length;_i++){var op=resultOps_1[_i];builder.addEditOperation(op.range,op.text)}}this._trackedEditorSelectionId=builder.trackSelection(this._editorSelection)},ReplaceAllCommand.prototype.computeCursorState=function(model,helper){return helper.getTrackedSelection(this._trackedEditorSelectionId)},ReplaceAllCommand}();function buildReplaceStringWithCasePreserved(matches,pattern){if(matches&&matches[0]!==""){var containsHyphens=validateSpecificSpecialCharacter(matches,pattern,"-"),containsUnderscores=validateSpecificSpecialCharacter(matches,pattern,"_");return containsHyphens&&!containsUnderscores?buildReplaceStringForSpecificSpecialCharacter(matches,pattern,"-"):!containsHyphens&&containsUnderscores?buildReplaceStringForSpecificSpecialCharacter(matches,pattern,"_"):matches[0].toUpperCase()===matches[0]?pattern.toUpperCase():matches[0].toLowerCase()===matches[0]?pattern.toLowerCase():strings.j(matches[0][0])?pattern[0].toUpperCase()+pattern.substr(1):pattern}else return pattern}function validateSpecificSpecialCharacter(matches,pattern,specialCharacter){var doesContainSpecialCharacter=matches[0].indexOf(specialCharacter)!==-1&&pattern.indexOf(specialCharacter)!==-1;return doesContainSpecialCharacter&&matches[0].split(specialCharacter).length===pattern.split(specialCharacter).length}function buildReplaceStringForSpecificSpecialCharacter(matches,pattern,specialCharacter){var splitPatternAtSpecialCharacter=pattern.split(specialCharacter),splitMatchAtSpecialCharacter=matches[0].split(specialCharacter),replaceString="";return splitPatternAtSpecialCharacter.forEach(function(splitValue,index){replaceString+=buildReplaceStringWithCasePreserved([splitMatchAtSpecialCharacter[index]],splitValue)+specialCharacter}),replaceString.slice(0,-1)}var StaticValueReplacePattern=function(){function StaticValueReplacePattern2(staticValue){this.staticValue=staticValue,this.kind=0}return StaticValueReplacePattern2}(),DynamicPiecesReplacePattern=function(){function DynamicPiecesReplacePattern2(pieces){this.pieces=pieces,this.kind=1}return DynamicPiecesReplacePattern2}(),replacePattern_ReplacePattern=function(){function ReplacePattern(pieces){!pieces||pieces.length===0?this._state=new StaticValueReplacePattern(""):pieces.length===1&&pieces[0].staticValue!==null?this._state=new StaticValueReplacePattern(pieces[0].staticValue):this._state=new DynamicPiecesReplacePattern(pieces)}return ReplacePattern.fromStaticValue=function(value){return new ReplacePattern([ReplacePiece.staticValue(value)])},Object.defineProperty(ReplacePattern.prototype,"hasReplacementPatterns",{get:function(){return this._state.kind===1},enumerable:!0,configurable:!0}),ReplacePattern.prototype.buildReplaceString=function(matches,preserveCase){if(this._state.kind===0)return preserveCase?buildReplaceStringWithCasePreserved(matches,this._state.staticValue):this._state.staticValue;for(var result="",i=0,len=this._state.pieces.length;i<len;i++){var piece=this._state.pieces[i];if(piece.staticValue!==null){result+=piece.staticValue;continue}result+=ReplacePattern._substitute(piece.matchIndex,matches)}return result},ReplacePattern._substitute=function(matchIndex,matches){if(matches===null)return"";if(matchIndex===0)return matches[0];for(var remainder="";matchIndex>0;){if(matchIndex<matches.length){var match=matches[matchIndex]||"";return match+remainder}remainder=String(matchIndex%10)+remainder,matchIndex=Math.floor(matchIndex/10)}return"$"+remainder},ReplacePattern}(),ReplacePiece=function(){function ReplacePiece2(staticValue,matchIndex){this.staticValue=staticValue,this.matchIndex=matchIndex}return ReplacePiece2.staticValue=function(value){return new ReplacePiece2(value,-1)},ReplacePiece2.matchIndex=function(index){return new ReplacePiece2(null,index)},ReplacePiece2}(),ReplacePieceBuilder=function(){function ReplacePieceBuilder2(source){this._source=source,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return ReplacePieceBuilder2.prototype.emitUnchanged=function(toCharIndex){this._emitStatic(this._source.substring(this._lastCharIndex,toCharIndex)),this._lastCharIndex=toCharIndex},ReplacePieceBuilder2.prototype.emitStatic=function(value,toCharIndex){this._emitStatic(value),this._lastCharIndex=toCharIndex},ReplacePieceBuilder2.prototype._emitStatic=function(value){value.length!==0&&(this._currentStaticPiece+=value)},ReplacePieceBuilder2.prototype.emitMatchIndex=function(index,toCharIndex){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=ReplacePiece.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=ReplacePiece.matchIndex(index),this._lastCharIndex=toCharIndex},ReplacePieceBuilder2.prototype.finalize=function(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=ReplacePiece.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new replacePattern_ReplacePattern(this._result)},ReplacePieceBuilder2}();function parseReplaceString(replaceString){if(!replaceString||replaceString.length===0)return new replacePattern_ReplacePattern(null);for(var result=new ReplacePieceBuilder(replaceString),i=0,len=replaceString.length;i<len;i++){var chCode=replaceString.charCodeAt(i);if(chCode===92){if(i++,i>=len)break;var nextChCode=replaceString.charCodeAt(i);switch(nextChCode){case 92:result.emitUnchanged(i-1),result.emitStatic("\\",i+1);break;case 110:result.emitUnchanged(i-1),result.emitStatic(`
`,i+1);break;case 116:result.emitUnchanged(i-1),result.emitStatic("	",i+1);break}continue}if(chCode===36){if(i++,i>=len)break;var nextChCode=replaceString.charCodeAt(i);if(nextChCode===36){result.emitUnchanged(i-1),result.emitStatic("$",i+1);continue}if(nextChCode===48||nextChCode===38){result.emitUnchanged(i-1),result.emitMatchIndex(0,i+1);continue}if(49<=nextChCode&&nextChCode<=57){var matchIndex=nextChCode-48;if(i+1<len){var nextNextChCode=replaceString.charCodeAt(i+1);if(48<=nextNextChCode&&nextNextChCode<=57){i++,matchIndex=matchIndex*10+(nextNextChCode-48),result.emitUnchanged(i-2),result.emitMatchIndex(matchIndex,i+1);continue}}result.emitUnchanged(i-1),result.emitMatchIndex(matchIndex,i+1);continue}}}return result.finalize()}var contextkey=__webpack_require__(2238),CONTEXT_FIND_WIDGET_VISIBLE=new contextkey.d("findWidgetVisible",!1),CONTEXT_FIND_INPUT_FOCUSED=new contextkey.d("findInputFocussed",!1),CONTEXT_REPLACE_INPUT_FOCUSED=new contextkey.d("replaceInputFocussed",!1),ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},ToggleRegexKeybinding={primary:560,mac:{primary:2608}},ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},MATCHES_LIMIT=19999,RESEARCH_DELAY=240,findModel_FindModelBoundToEditorModel=function(){function FindModelBoundToEditorModel(editor,state){var _this=this;this._toDispose=new lifecycle.b,this._editor=editor,this._state=state,this._isDisposed=!1,this._startSearchingTimer=new common_async.e,this._decorations=new findDecorations_FindDecorations(editor),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new common_async.d(function(){return _this.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(function(e){(e.reason===3||e.reason===5||e.reason===6)&&_this._decorations.setStartPosition(_this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(function(e){_this._ignoreModelContentChanged||(e.isFlush&&_this._decorations.reset(),_this._decorations.setStartPosition(_this._editor.getPosition()),_this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(function(e){return _this._onStateChanged(e)})),this.research(!1,this._state.searchScope)}return FindModelBoundToEditorModel.prototype.dispose=function(){this._isDisposed=!0,Object(lifecycle.f)(this._startSearchingTimer),this._toDispose.dispose()},FindModelBoundToEditorModel.prototype._onStateChanged=function(e){var _this=this;if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){var model=this._editor.getModel();model.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){e.searchScope?_this.research(e.moveCursor,_this._state.searchScope):_this.research(e.moveCursor)},RESEARCH_DELAY)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}},FindModelBoundToEditorModel._getSearchRange=function(model,findScope){return findScope||model.getFullModelRange()},FindModelBoundToEditorModel.prototype.research=function(moveCursor,newFindScope){var findScope=null;typeof newFindScope<"u"?findScope=newFindScope:findScope=this._decorations.getFindScope(),findScope!==null&&findScope.startLineNumber!==findScope.endLineNumber&&(findScope.endColumn===1?findScope=new core_range.a(findScope.startLineNumber,1,findScope.endLineNumber-1,this._editor.getModel().getLineMaxColumn(findScope.endLineNumber-1)):findScope=new core_range.a(findScope.startLineNumber,1,findScope.endLineNumber,this._editor.getModel().getLineMaxColumn(findScope.endLineNumber)));var findMatches=this._findMatches(findScope,!1,MATCHES_LIMIT);this._decorations.set(findMatches,findScope),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),moveCursor&&this._moveToNextMatch(this._decorations.getStartPosition())},FindModelBoundToEditorModel.prototype._hasMatches=function(){return this._state.matchesCount>0},FindModelBoundToEditorModel.prototype._cannotFind=function(){if(!this._hasMatches()){var findScope=this._decorations.getFindScope();return findScope&&this._editor.revealRangeInCenterIfOutsideViewport(findScope,0),!0}return!1},FindModelBoundToEditorModel.prototype._setCurrentFindMatch=function(match){var matchesPosition=this._decorations.setCurrentFindMatch(match);this._state.changeMatchInfo(matchesPosition,this._decorations.getCount(),match),this._editor.setSelection(match),this._editor.revealRangeInCenterIfOutsideViewport(match,0)},FindModelBoundToEditorModel.prototype._prevSearchPosition=function(before){var isUsingLineStops=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),lineNumber=before.lineNumber,column=before.column,model=this._editor.getModel();return isUsingLineStops||column===1?(lineNumber===1?lineNumber=model.getLineCount():lineNumber--,column=model.getLineMaxColumn(lineNumber)):column--,new core_position.a(lineNumber,column)},FindModelBoundToEditorModel.prototype._moveToPrevMatch=function(before,isRecursed){if(isRecursed===void 0&&(isRecursed=!1),this._decorations.getCount()<MATCHES_LIMIT){var prevMatchRange=this._decorations.matchBeforePosition(before);prevMatchRange&&prevMatchRange.isEmpty()&&prevMatchRange.getStartPosition().equals(before)&&(before=this._prevSearchPosition(before),prevMatchRange=this._decorations.matchBeforePosition(before)),prevMatchRange&&this._setCurrentFindMatch(prevMatchRange);return}if(!this._cannotFind()){var findScope=this._decorations.getFindScope(),searchRange=FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),findScope);searchRange.getEndPosition().isBefore(before)&&(before=searchRange.getEndPosition()),before.isBefore(searchRange.getStartPosition())&&(before=searchRange.getEndPosition());var lineNumber=before.lineNumber,column=before.column,model=this._editor.getModel(),position=new core_position.a(lineNumber,column),prevMatch=model.findPreviousMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,!1);if(prevMatch&&prevMatch.range.isEmpty()&&prevMatch.range.getStartPosition().equals(position)&&(position=this._prevSearchPosition(position),prevMatch=model.findPreviousMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,!1)),!!prevMatch){if(!isRecursed&&!searchRange.containsRange(prevMatch.range))return this._moveToPrevMatch(prevMatch.range.getStartPosition(),!0);this._setCurrentFindMatch(prevMatch.range)}}},FindModelBoundToEditorModel.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},FindModelBoundToEditorModel.prototype._nextSearchPosition=function(after){var isUsingLineStops=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),lineNumber=after.lineNumber,column=after.column,model=this._editor.getModel();return isUsingLineStops||column===model.getLineMaxColumn(lineNumber)?(lineNumber===model.getLineCount()?lineNumber=1:lineNumber++,column=1):column++,new core_position.a(lineNumber,column)},FindModelBoundToEditorModel.prototype._moveToNextMatch=function(after){if(this._decorations.getCount()<MATCHES_LIMIT){var nextMatchRange=this._decorations.matchAfterPosition(after);nextMatchRange&&nextMatchRange.isEmpty()&&nextMatchRange.getStartPosition().equals(after)&&(after=this._nextSearchPosition(after),nextMatchRange=this._decorations.matchAfterPosition(after)),nextMatchRange&&this._setCurrentFindMatch(nextMatchRange);return}var nextMatch=this._getNextMatch(after,!1,!0);nextMatch&&this._setCurrentFindMatch(nextMatch.range)},FindModelBoundToEditorModel.prototype._getNextMatch=function(after,captureMatches,forceMove,isRecursed){if(isRecursed===void 0&&(isRecursed=!1),this._cannotFind())return null;var findScope=this._decorations.getFindScope(),searchRange=FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),findScope);searchRange.getEndPosition().isBefore(after)&&(after=searchRange.getStartPosition()),after.isBefore(searchRange.getStartPosition())&&(after=searchRange.getStartPosition());var lineNumber=after.lineNumber,column=after.column,model=this._editor.getModel(),position=new core_position.a(lineNumber,column),nextMatch=model.findNextMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,captureMatches);return forceMove&&nextMatch&&nextMatch.range.isEmpty()&&nextMatch.range.getStartPosition().equals(position)&&(position=this._nextSearchPosition(position),nextMatch=model.findNextMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,captureMatches)),nextMatch?!isRecursed&&!searchRange.containsRange(nextMatch.range)?this._getNextMatch(nextMatch.range.getEndPosition(),captureMatches,forceMove,!0):nextMatch:null},FindModelBoundToEditorModel.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},FindModelBoundToEditorModel.prototype._getReplacePattern=function(){return this._state.isRegex?parseReplaceString(this._state.replaceString):replacePattern_ReplacePattern.fromStaticValue(this._state.replaceString)},FindModelBoundToEditorModel.prototype.replace=function(){if(this._hasMatches()){var replacePattern=this._getReplacePattern(),selection=this._editor.getSelection(),nextMatch=this._getNextMatch(selection.getStartPosition(),!0,!1);if(nextMatch)if(selection.equalsRange(nextMatch.range)){var replaceString=replacePattern.buildReplaceString(nextMatch.matches,this._state.preserveCase),command=new replaceCommand.a(selection,replaceString);this._executeEditorCommand("replace",command),this._decorations.setStartPosition(new core_position.a(selection.startLineNumber,selection.startColumn+replaceString.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(nextMatch.range)}},FindModelBoundToEditorModel.prototype._findMatches=function(findScope,captureMatches,limitResultCount){var searchRange=FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),findScope);return this._editor.getModel().findMatches(this._state.searchString,searchRange,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,captureMatches,limitResultCount)},FindModelBoundToEditorModel.prototype.replaceAll=function(){if(this._hasMatches()){var findScope=this._decorations.getFindScope();findScope===null&&this._state.matchesCount>=MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(findScope),this.research(!1)}},FindModelBoundToEditorModel.prototype._largeReplaceAll=function(){var searchParams=new textModelSearch.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null),searchData=searchParams.parseSearchRequest();if(searchData){var searchRegex=searchData.regex;if(!searchRegex.multiline){var mod="mu";searchRegex.ignoreCase&&(mod+="i"),searchRegex.global&&(mod+="g"),searchRegex=new RegExp(searchRegex.source,mod)}var model=this._editor.getModel(),modelText=model.getValue(1),fullModelRange=model.getFullModelRange(),replacePattern=this._getReplacePattern(),resultText,preserveCase=this._state.preserveCase;replacePattern.hasReplacementPatterns||preserveCase?resultText=modelText.replace(searchRegex,function(){return replacePattern.buildReplaceString(arguments,preserveCase)}):resultText=modelText.replace(searchRegex,replacePattern.buildReplaceString(null,preserveCase));var command=new replaceCommand.b(fullModelRange,resultText,this._editor.getSelection());this._executeEditorCommand("replaceAll",command)}},FindModelBoundToEditorModel.prototype._regularReplaceAll=function(findScope){for(var replacePattern=this._getReplacePattern(),matches=this._findMatches(findScope,replacePattern.hasReplacementPatterns||this._state.preserveCase,1073741824),replaceStrings=[],i=0,len=matches.length;i<len;i++)replaceStrings[i]=replacePattern.buildReplaceString(matches[i].matches,this._state.preserveCase);var command=new replaceAllCommand_ReplaceAllCommand(this._editor.getSelection(),matches.map(function(m){return m.range}),replaceStrings);this._executeEditorCommand("replaceAll",command)},FindModelBoundToEditorModel.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var findScope=this._decorations.getFindScope(),matches=this._findMatches(findScope,!1,1073741824),selections=matches.map(function(m){return new core_selection.a(m.range.startLineNumber,m.range.startColumn,m.range.endLineNumber,m.range.endColumn)}),editorSelection=this._editor.getSelection(),i=0,len=selections.length;i<len;i++){var sel=selections[i];if(sel.equalsRange(editorSelection)){selections=[editorSelection].concat(selections.slice(0,i)).concat(selections.slice(i+1));break}}this._editor.setSelections(selections)}},FindModelBoundToEditorModel.prototype._executeEditorCommand=function(source,command){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(source,command),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},FindModelBoundToEditorModel}(),dom=__webpack_require__(2124),checkbox_checkbox=__webpack_require__(5755),ui_widget=__webpack_require__(2816),color=__webpack_require__(2663),common_event=__webpack_require__(2106),objects=__webpack_require__(2734),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),defaultOpts={inputActiveOptionBorder:color.a.fromHex("#007ACC00"),inputActiveOptionBackground:color.a.fromHex("#0E639C50")},checkbox_Checkbox=function(_super){__extends(Checkbox,_super);function Checkbox(opts){var _this=_super.call(this)||this;return _this._onChange=_this._register(new common_event.a),_this.onChange=_this._onChange.event,_this._onKeyDown=_this._register(new common_event.a),_this.onKeyDown=_this._onKeyDown.event,_this._opts=objects.c(opts),objects.g(_this._opts,defaultOpts,!1),_this._checked=_this._opts.isChecked,_this.domNode=document.createElement("div"),_this.domNode.title=_this._opts.title,_this.domNode.className="monaco-custom-checkbox codicon "+(_this._opts.actionClassName||"")+" "+(_this._checked?"checked":"unchecked"),_this.domNode.tabIndex=0,_this.domNode.setAttribute("role","checkbox"),_this.domNode.setAttribute("aria-checked",String(_this._checked)),_this.domNode.setAttribute("aria-label",_this._opts.title),_this.applyStyles(),_this.onclick(_this.domNode,function(ev){_this.checked=!_this._checked,_this._onChange.fire(!1),ev.preventDefault()}),_this.ignoreGesture(_this.domNode),_this.onkeydown(_this.domNode,function(keyboardEvent){if(keyboardEvent.keyCode===10||keyboardEvent.keyCode===3){_this.checked=!_this._checked,_this._onChange.fire(!0),keyboardEvent.preventDefault();return}_this._onKeyDown.fire(keyboardEvent)}),_this}return Object.defineProperty(Checkbox.prototype,"enabled",{get:function(){return this.domNode.getAttribute("aria-disabled")!=="true"},enumerable:!0,configurable:!0}),Checkbox.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(Checkbox.prototype,"checked",{get:function(){return this._checked},set:function(newIsChecked){this._checked=newIsChecked,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()},enumerable:!0,configurable:!0}),Checkbox.prototype.width=function(){return 2+2+2+16},Checkbox.prototype.style=function(styles){styles.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=styles.inputActiveOptionBorder),styles.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=styles.inputActiveOptionBackground),this.applyStyles()},Checkbox.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")},Checkbox.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},Checkbox.prototype.disable=function(){dom.P(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},Checkbox}(ui_widget.a),findInputCheckboxes_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),NLS_CASE_SENSITIVE_CHECKBOX_LABEL=nls.a("caseDescription","Match Case"),NLS_WHOLE_WORD_CHECKBOX_LABEL=nls.a("wordsDescription","Match Whole Word"),NLS_REGEX_CHECKBOX_LABEL=nls.a("regexDescription","Use Regular Expression"),CaseSensitiveCheckbox=function(_super){findInputCheckboxes_extends(CaseSensitiveCheckbox2,_super);function CaseSensitiveCheckbox2(opts){return _super.call(this,{actionClassName:"codicon-case-sensitive",title:NLS_CASE_SENSITIVE_CHECKBOX_LABEL+opts.appendTitle,isChecked:opts.isChecked,inputActiveOptionBorder:opts.inputActiveOptionBorder,inputActiveOptionBackground:opts.inputActiveOptionBackground})||this}return CaseSensitiveCheckbox2}(checkbox_Checkbox),WholeWordsCheckbox=function(_super){findInputCheckboxes_extends(WholeWordsCheckbox2,_super);function WholeWordsCheckbox2(opts){return _super.call(this,{actionClassName:"codicon-whole-word",title:NLS_WHOLE_WORD_CHECKBOX_LABEL+opts.appendTitle,isChecked:opts.isChecked,inputActiveOptionBorder:opts.inputActiveOptionBorder,inputActiveOptionBackground:opts.inputActiveOptionBackground})||this}return WholeWordsCheckbox2}(checkbox_Checkbox),RegexCheckbox=function(_super){findInputCheckboxes_extends(RegexCheckbox2,_super);function RegexCheckbox2(opts){return _super.call(this,{actionClassName:"codicon-regex",title:NLS_REGEX_CHECKBOX_LABEL+opts.appendTitle,isChecked:opts.isChecked,inputActiveOptionBorder:opts.inputActiveOptionBorder,inputActiveOptionBackground:opts.inputActiveOptionBackground})||this}return RegexCheckbox2}(checkbox_Checkbox),findOptionsWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),findOptionsWidget_FindOptionsWidget=function(_super){findOptionsWidget_extends(FindOptionsWidget,_super);function FindOptionsWidget(editor,state,keybindingService,themeService){var _this=_super.call(this)||this;_this._hideSoon=_this._register(new common_async.d(function(){return _this._hide()},2e3)),_this._isVisible=!1,_this._editor=editor,_this._state=state,_this._keybindingService=keybindingService,_this._domNode=document.createElement("div"),_this._domNode.className="findOptionsWidget",_this._domNode.style.display="none",_this._domNode.style.top="10px",_this._domNode.setAttribute("role","presentation"),_this._domNode.setAttribute("aria-hidden","true");var inputActiveOptionBorderColor=themeService.getTheme().getColor(colorRegistry.Y),inputActiveOptionBackgroundColor=themeService.getTheme().getColor(colorRegistry.X);return _this.caseSensitive=_this._register(new CaseSensitiveCheckbox({appendTitle:_this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),isChecked:_this._state.matchCase,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor})),_this._domNode.appendChild(_this.caseSensitive.domNode),_this._register(_this.caseSensitive.onChange(function(){_this._state.change({matchCase:_this.caseSensitive.checked},!1)})),_this.wholeWords=_this._register(new WholeWordsCheckbox({appendTitle:_this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),isChecked:_this._state.wholeWord,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor})),_this._domNode.appendChild(_this.wholeWords.domNode),_this._register(_this.wholeWords.onChange(function(){_this._state.change({wholeWord:_this.wholeWords.checked},!1)})),_this.regex=_this._register(new RegexCheckbox({appendTitle:_this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),isChecked:_this._state.isRegex,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor})),_this._domNode.appendChild(_this.regex.domNode),_this._register(_this.regex.onChange(function(){_this._state.change({isRegex:_this.regex.checked},!1)})),_this._editor.addOverlayWidget(_this),_this._register(_this._state.onFindReplaceStateChange(function(e){var somethingChanged=!1;e.isRegex&&(_this.regex.checked=_this._state.isRegex,somethingChanged=!0),e.wholeWord&&(_this.wholeWords.checked=_this._state.wholeWord,somethingChanged=!0),e.matchCase&&(_this.caseSensitive.checked=_this._state.matchCase,somethingChanged=!0),!_this._state.isRevealed&&somethingChanged&&_this._revealTemporarily()})),_this._register(dom.k(_this._domNode,function(e){return _this._onMouseOut()})),_this._register(dom.j(_this._domNode,"mouseover",function(e){return _this._onMouseOver()})),_this._applyTheme(themeService.getTheme()),_this._register(themeService.onThemeChange(_this._applyTheme.bind(_this))),_this}return FindOptionsWidget.prototype._keybindingLabelFor=function(actionId){var kb=this._keybindingService.lookupKeybinding(actionId);return kb?" ("+kb.getLabel()+")":""},FindOptionsWidget.prototype.dispose=function(){this._editor.removeOverlayWidget(this),_super.prototype.dispose.call(this)},FindOptionsWidget.prototype.getId=function(){return FindOptionsWidget.ID},FindOptionsWidget.prototype.getDomNode=function(){return this._domNode},FindOptionsWidget.prototype.getPosition=function(){return{preference:0}},FindOptionsWidget.prototype.highlightFindOptions=function(){this._revealTemporarily()},FindOptionsWidget.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},FindOptionsWidget.prototype._onMouseOut=function(){this._hideSoon.schedule()},FindOptionsWidget.prototype._onMouseOver=function(){this._hideSoon.cancel()},FindOptionsWidget.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},FindOptionsWidget.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},FindOptionsWidget.prototype._applyTheme=function(theme){var inputStyles={inputActiveOptionBorder:theme.getColor(colorRegistry.Y),inputActiveOptionBackground:theme.getColor(colorRegistry.X)};this.caseSensitive.style(inputStyles),this.wholeWords.style(inputStyles),this.regex.style(inputStyles)},FindOptionsWidget.ID="editor.contrib.findOptionsWidget",FindOptionsWidget}(ui_widget.a);Object(common_themeService.e)(function(theme,collector){var widgetBackground=theme.getColor(colorRegistry.Q);widgetBackground&&collector.addRule(".monaco-editor .findOptionsWidget { background-color: "+widgetBackground+"; }");var widgetForeground=theme.getColor(colorRegistry.S);widgetForeground&&collector.addRule(".monaco-editor .findOptionsWidget { color: "+widgetForeground+"; }");var widgetShadowColor=theme.getColor(colorRegistry.gc);widgetShadowColor&&collector.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+widgetShadowColor+"; }");var hcBorder=theme.getColor(colorRegistry.e);hcBorder&&collector.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+hcBorder+"; }")});var findState_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function effectiveOptionValue(override,value){return override===1?!0:override===2?!1:value}var findState_FindReplaceState=function(_super){findState_extends(FindReplaceState,_super);function FindReplaceState(){var _this=_super.call(this)||this;return _this._onFindReplaceStateChange=_this._register(new common_event.a),_this.onFindReplaceStateChange=_this._onFindReplaceStateChange.event,_this._searchString="",_this._replaceString="",_this._isRevealed=!1,_this._isReplaceRevealed=!1,_this._isRegex=!1,_this._isRegexOverride=0,_this._wholeWord=!1,_this._wholeWordOverride=0,_this._matchCase=!1,_this._matchCaseOverride=0,_this._preserveCase=!1,_this._preserveCaseOverride=0,_this._searchScope=null,_this._matchesPosition=0,_this._matchesCount=0,_this._currentMatch=null,_this}return Object.defineProperty(FindReplaceState.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"isRegex",{get:function(){return effectiveOptionValue(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"wholeWord",{get:function(){return effectiveOptionValue(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"matchCase",{get:function(){return effectiveOptionValue(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"preserveCase",{get:function(){return effectiveOptionValue(this._preserveCaseOverride,this._preserveCase)},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),FindReplaceState.prototype.changeMatchInfo=function(matchesPosition,matchesCount,currentMatch){var changeEvent={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},somethingChanged=!1;matchesCount===0&&(matchesPosition=0),matchesPosition>matchesCount&&(matchesPosition=matchesCount),this._matchesPosition!==matchesPosition&&(this._matchesPosition=matchesPosition,changeEvent.matchesPosition=!0,somethingChanged=!0),this._matchesCount!==matchesCount&&(this._matchesCount=matchesCount,changeEvent.matchesCount=!0,somethingChanged=!0),typeof currentMatch<"u"&&(core_range.a.equalsRange(this._currentMatch,currentMatch)||(this._currentMatch=currentMatch,changeEvent.currentMatch=!0,somethingChanged=!0)),somethingChanged&&this._onFindReplaceStateChange.fire(changeEvent)},FindReplaceState.prototype.change=function(newState,moveCursor,updateHistory){updateHistory===void 0&&(updateHistory=!0);var changeEvent={moveCursor,updateHistory,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},somethingChanged=!1,oldEffectiveIsRegex=this.isRegex,oldEffectiveWholeWords=this.wholeWord,oldEffectiveMatchCase=this.matchCase,oldEffectivePreserveCase=this.preserveCase;typeof newState.searchString<"u"&&this._searchString!==newState.searchString&&(this._searchString=newState.searchString,changeEvent.searchString=!0,somethingChanged=!0),typeof newState.replaceString<"u"&&this._replaceString!==newState.replaceString&&(this._replaceString=newState.replaceString,changeEvent.replaceString=!0,somethingChanged=!0),typeof newState.isRevealed<"u"&&this._isRevealed!==newState.isRevealed&&(this._isRevealed=newState.isRevealed,changeEvent.isRevealed=!0,somethingChanged=!0),typeof newState.isReplaceRevealed<"u"&&this._isReplaceRevealed!==newState.isReplaceRevealed&&(this._isReplaceRevealed=newState.isReplaceRevealed,changeEvent.isReplaceRevealed=!0,somethingChanged=!0),typeof newState.isRegex<"u"&&(this._isRegex=newState.isRegex),typeof newState.wholeWord<"u"&&(this._wholeWord=newState.wholeWord),typeof newState.matchCase<"u"&&(this._matchCase=newState.matchCase),typeof newState.preserveCase<"u"&&(this._preserveCase=newState.preserveCase),typeof newState.searchScope<"u"&&(core_range.a.equalsRange(this._searchScope,newState.searchScope)||(this._searchScope=newState.searchScope,changeEvent.searchScope=!0,somethingChanged=!0)),this._isRegexOverride=typeof newState.isRegexOverride<"u"?newState.isRegexOverride:0,this._wholeWordOverride=typeof newState.wholeWordOverride<"u"?newState.wholeWordOverride:0,this._matchCaseOverride=typeof newState.matchCaseOverride<"u"?newState.matchCaseOverride:0,this._preserveCaseOverride=typeof newState.preserveCaseOverride<"u"?newState.preserveCaseOverride:0,oldEffectiveIsRegex!==this.isRegex&&(somethingChanged=!0,changeEvent.isRegex=!0),oldEffectiveWholeWords!==this.wholeWord&&(somethingChanged=!0,changeEvent.wholeWord=!0),oldEffectiveMatchCase!==this.matchCase&&(somethingChanged=!0,changeEvent.matchCase=!0),oldEffectivePreserveCase!==this.preserveCase&&(somethingChanged=!0,changeEvent.preserveCase=!0),somethingChanged&&this._onFindReplaceStateChange.fire(changeEvent)},FindReplaceState}(lifecycle.a),findWidget=__webpack_require__(5756),aria=__webpack_require__(2815),sash=__webpack_require__(3375),errors=__webpack_require__(2176),platform=__webpack_require__(2236),findInput=__webpack_require__(3875),inputBox=__webpack_require__(3605),findInput_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),NLS_DEFAULT_LABEL=nls.a("defaultLabel","input"),findInput_FindInput=function(_super){findInput_extends(FindInput,_super);function FindInput(parent,contextViewProvider,_showOptionButtons,options){var _this=_super.call(this)||this;_this._showOptionButtons=_showOptionButtons,_this.fixFocusOnOptionClickEnabled=!0,_this._onDidOptionChange=_this._register(new common_event.a),_this.onDidOptionChange=_this._onDidOptionChange.event,_this._onKeyDown=_this._register(new common_event.a),_this.onKeyDown=_this._onKeyDown.event,_this._onMouseDown=_this._register(new common_event.a),_this.onMouseDown=_this._onMouseDown.event,_this._onInput=_this._register(new common_event.a),_this._onKeyUp=_this._register(new common_event.a),_this._onCaseSensitiveKeyDown=_this._register(new common_event.a),_this.onCaseSensitiveKeyDown=_this._onCaseSensitiveKeyDown.event,_this._onRegexKeyDown=_this._register(new common_event.a),_this.onRegexKeyDown=_this._onRegexKeyDown.event,_this._lastHighlightFindOptions=0,_this.contextViewProvider=contextViewProvider,_this.placeholder=options.placeholder||"",_this.validation=options.validation,_this.label=options.label||NLS_DEFAULT_LABEL,_this.inputActiveOptionBorder=options.inputActiveOptionBorder,_this.inputActiveOptionBackground=options.inputActiveOptionBackground,_this.inputBackground=options.inputBackground,_this.inputForeground=options.inputForeground,_this.inputBorder=options.inputBorder,_this.inputValidationInfoBorder=options.inputValidationInfoBorder,_this.inputValidationInfoBackground=options.inputValidationInfoBackground,_this.inputValidationInfoForeground=options.inputValidationInfoForeground,_this.inputValidationWarningBorder=options.inputValidationWarningBorder,_this.inputValidationWarningBackground=options.inputValidationWarningBackground,_this.inputValidationWarningForeground=options.inputValidationWarningForeground,_this.inputValidationErrorBorder=options.inputValidationErrorBorder,_this.inputValidationErrorBackground=options.inputValidationErrorBackground,_this.inputValidationErrorForeground=options.inputValidationErrorForeground;var appendCaseSensitiveLabel=options.appendCaseSensitiveLabel||"",appendWholeWordsLabel=options.appendWholeWordsLabel||"",appendRegexLabel=options.appendRegexLabel||"",history=options.history||[],flexibleHeight=!!options.flexibleHeight,flexibleWidth=!!options.flexibleWidth,flexibleMaxHeight=options.flexibleMaxHeight;_this.domNode=document.createElement("div"),dom.f(_this.domNode,"monaco-findInput"),_this.inputBox=_this._register(new inputBox.a(_this.domNode,_this.contextViewProvider,{placeholder:_this.placeholder||"",ariaLabel:_this.label||"",validationOptions:{validation:_this.validation},inputBackground:_this.inputBackground,inputForeground:_this.inputForeground,inputBorder:_this.inputBorder,inputValidationInfoBackground:_this.inputValidationInfoBackground,inputValidationInfoForeground:_this.inputValidationInfoForeground,inputValidationInfoBorder:_this.inputValidationInfoBorder,inputValidationWarningBackground:_this.inputValidationWarningBackground,inputValidationWarningForeground:_this.inputValidationWarningForeground,inputValidationWarningBorder:_this.inputValidationWarningBorder,inputValidationErrorBackground:_this.inputValidationErrorBackground,inputValidationErrorForeground:_this.inputValidationErrorForeground,inputValidationErrorBorder:_this.inputValidationErrorBorder,history,flexibleHeight,flexibleWidth,flexibleMaxHeight})),_this.regex=_this._register(new RegexCheckbox({appendTitle:appendRegexLabel,isChecked:!1,inputActiveOptionBorder:_this.inputActiveOptionBorder,inputActiveOptionBackground:_this.inputActiveOptionBackground})),_this._register(_this.regex.onChange(function(viaKeyboard){_this._onDidOptionChange.fire(viaKeyboard),!viaKeyboard&&_this.fixFocusOnOptionClickEnabled&&_this.inputBox.focus(),_this.validate()})),_this._register(_this.regex.onKeyDown(function(e){_this._onRegexKeyDown.fire(e)})),_this.wholeWords=_this._register(new WholeWordsCheckbox({appendTitle:appendWholeWordsLabel,isChecked:!1,inputActiveOptionBorder:_this.inputActiveOptionBorder,inputActiveOptionBackground:_this.inputActiveOptionBackground})),_this._register(_this.wholeWords.onChange(function(viaKeyboard){_this._onDidOptionChange.fire(viaKeyboard),!viaKeyboard&&_this.fixFocusOnOptionClickEnabled&&_this.inputBox.focus(),_this.validate()})),_this.caseSensitive=_this._register(new CaseSensitiveCheckbox({appendTitle:appendCaseSensitiveLabel,isChecked:!1,inputActiveOptionBorder:_this.inputActiveOptionBorder,inputActiveOptionBackground:_this.inputActiveOptionBackground})),_this._register(_this.caseSensitive.onChange(function(viaKeyboard){_this._onDidOptionChange.fire(viaKeyboard),!viaKeyboard&&_this.fixFocusOnOptionClickEnabled&&_this.inputBox.focus(),_this.validate()})),_this._register(_this.caseSensitive.onKeyDown(function(e){_this._onCaseSensitiveKeyDown.fire(e)})),_this._showOptionButtons&&(_this.inputBox.paddingRight=_this.caseSensitive.width()+_this.wholeWords.width()+_this.regex.width());var indexes=[_this.caseSensitive.domNode,_this.wholeWords.domNode,_this.regex.domNode];_this.onkeydown(_this.domNode,function(event){if(event.equals(15)||event.equals(17)||event.equals(9)){var index=indexes.indexOf(document.activeElement);if(index>=0){var newIndex=-1;event.equals(17)?newIndex=(index+1)%indexes.length:event.equals(15)&&(index===0?newIndex=indexes.length-1:newIndex=index-1),event.equals(9)?indexes[index].blur():newIndex>=0&&indexes[newIndex].focus(),dom.c.stop(event,!0)}}});var controls=document.createElement("div");return controls.className="controls",controls.style.display=_this._showOptionButtons?"block":"none",controls.appendChild(_this.caseSensitive.domNode),controls.appendChild(_this.wholeWords.domNode),controls.appendChild(_this.regex.domNode),_this.domNode.appendChild(controls),parent&&parent.appendChild(_this.domNode),_this.onkeydown(_this.inputBox.inputElement,function(e){return _this._onKeyDown.fire(e)}),_this.onkeyup(_this.inputBox.inputElement,function(e){return _this._onKeyUp.fire(e)}),_this.oninput(_this.inputBox.inputElement,function(e){return _this._onInput.fire()}),_this.onmousedown(_this.inputBox.inputElement,function(e){return _this._onMouseDown.fire(e)}),_this}return FindInput.prototype.enable=function(){dom.M(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},FindInput.prototype.disable=function(){dom.f(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},FindInput.prototype.setFocusInputOnOptionClick=function(value){this.fixFocusOnOptionClickEnabled=value},FindInput.prototype.setEnabled=function(enabled){enabled?this.enable():this.disable()},FindInput.prototype.getValue=function(){return this.inputBox.value},FindInput.prototype.setValue=function(value){this.inputBox.value!==value&&(this.inputBox.value=value)},FindInput.prototype.style=function(styles){this.inputActiveOptionBorder=styles.inputActiveOptionBorder,this.inputActiveOptionBackground=styles.inputActiveOptionBackground,this.inputBackground=styles.inputBackground,this.inputForeground=styles.inputForeground,this.inputBorder=styles.inputBorder,this.inputValidationInfoBackground=styles.inputValidationInfoBackground,this.inputValidationInfoForeground=styles.inputValidationInfoForeground,this.inputValidationInfoBorder=styles.inputValidationInfoBorder,this.inputValidationWarningBackground=styles.inputValidationWarningBackground,this.inputValidationWarningForeground=styles.inputValidationWarningForeground,this.inputValidationWarningBorder=styles.inputValidationWarningBorder,this.inputValidationErrorBackground=styles.inputValidationErrorBackground,this.inputValidationErrorForeground=styles.inputValidationErrorForeground,this.inputValidationErrorBorder=styles.inputValidationErrorBorder,this.applyStyles()},FindInput.prototype.applyStyles=function(){if(this.domNode){var checkBoxStyles={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(checkBoxStyles),this.wholeWords.style(checkBoxStyles),this.caseSensitive.style(checkBoxStyles);var inputBoxStyles={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(inputBoxStyles)}},FindInput.prototype.select=function(){this.inputBox.select()},FindInput.prototype.focus=function(){this.inputBox.focus()},FindInput.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},FindInput.prototype.setCaseSensitive=function(value){this.caseSensitive.checked=value},FindInput.prototype.getWholeWords=function(){return this.wholeWords.checked},FindInput.prototype.setWholeWords=function(value){this.wholeWords.checked=value},FindInput.prototype.getRegex=function(){return this.regex.checked},FindInput.prototype.setRegex=function(value){this.regex.checked=value,this.validate()},FindInput.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},FindInput.prototype.highlightFindOptions=function(){dom.M(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,dom.f(this.domNode,"highlight-"+this._lastHighlightFindOptions)},FindInput.prototype.validate=function(){this.inputBox.validate()},FindInput.prototype.clearMessage=function(){this.inputBox.hideMessage()},FindInput}(ui_widget.a),keybindingsRegistry=__webpack_require__(3234),replaceInput_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),replaceInput_NLS_DEFAULT_LABEL=nls.a("defaultLabel","input"),NLS_PRESERVE_CASE_LABEL=nls.a("label.preserveCaseCheckbox","Preserve Case"),PreserveCaseCheckbox=function(_super){replaceInput_extends(PreserveCaseCheckbox2,_super);function PreserveCaseCheckbox2(opts){return _super.call(this,{actionClassName:"codicon-preserve-case",title:NLS_PRESERVE_CASE_LABEL+opts.appendTitle,isChecked:opts.isChecked,inputActiveOptionBorder:opts.inputActiveOptionBorder,inputActiveOptionBackground:opts.inputActiveOptionBackground})||this}return PreserveCaseCheckbox2}(checkbox_Checkbox),replaceInput_ReplaceInput=function(_super){replaceInput_extends(ReplaceInput,_super);function ReplaceInput(parent,contextViewProvider,_showOptionButtons,options){var _this=_super.call(this)||this;_this._showOptionButtons=_showOptionButtons,_this.fixFocusOnOptionClickEnabled=!0,_this.cachedOptionsWidth=0,_this._onDidOptionChange=_this._register(new common_event.a),_this.onDidOptionChange=_this._onDidOptionChange.event,_this._onKeyDown=_this._register(new common_event.a),_this.onKeyDown=_this._onKeyDown.event,_this._onMouseDown=_this._register(new common_event.a),_this._onInput=_this._register(new common_event.a),_this._onKeyUp=_this._register(new common_event.a),_this._onPreserveCaseKeyDown=_this._register(new common_event.a),_this.onPreserveCaseKeyDown=_this._onPreserveCaseKeyDown.event,_this.contextViewProvider=contextViewProvider,_this.placeholder=options.placeholder||"",_this.validation=options.validation,_this.label=options.label||replaceInput_NLS_DEFAULT_LABEL,_this.inputActiveOptionBorder=options.inputActiveOptionBorder,_this.inputActiveOptionBackground=options.inputActiveOptionBackground,_this.inputBackground=options.inputBackground,_this.inputForeground=options.inputForeground,_this.inputBorder=options.inputBorder,_this.inputValidationInfoBorder=options.inputValidationInfoBorder,_this.inputValidationInfoBackground=options.inputValidationInfoBackground,_this.inputValidationInfoForeground=options.inputValidationInfoForeground,_this.inputValidationWarningBorder=options.inputValidationWarningBorder,_this.inputValidationWarningBackground=options.inputValidationWarningBackground,_this.inputValidationWarningForeground=options.inputValidationWarningForeground,_this.inputValidationErrorBorder=options.inputValidationErrorBorder,_this.inputValidationErrorBackground=options.inputValidationErrorBackground,_this.inputValidationErrorForeground=options.inputValidationErrorForeground;var history=options.history||[],flexibleHeight=!!options.flexibleHeight,flexibleWidth=!!options.flexibleWidth,flexibleMaxHeight=options.flexibleMaxHeight;_this.domNode=document.createElement("div"),dom.f(_this.domNode,"monaco-findInput"),_this.inputBox=_this._register(new inputBox.a(_this.domNode,_this.contextViewProvider,{ariaLabel:_this.label||"",placeholder:_this.placeholder||"",validationOptions:{validation:_this.validation},inputBackground:_this.inputBackground,inputForeground:_this.inputForeground,inputBorder:_this.inputBorder,inputValidationInfoBackground:_this.inputValidationInfoBackground,inputValidationInfoForeground:_this.inputValidationInfoForeground,inputValidationInfoBorder:_this.inputValidationInfoBorder,inputValidationWarningBackground:_this.inputValidationWarningBackground,inputValidationWarningForeground:_this.inputValidationWarningForeground,inputValidationWarningBorder:_this.inputValidationWarningBorder,inputValidationErrorBackground:_this.inputValidationErrorBackground,inputValidationErrorForeground:_this.inputValidationErrorForeground,inputValidationErrorBorder:_this.inputValidationErrorBorder,history,flexibleHeight,flexibleWidth,flexibleMaxHeight})),_this.preserveCase=_this._register(new PreserveCaseCheckbox({appendTitle:"",isChecked:!1,inputActiveOptionBorder:_this.inputActiveOptionBorder,inputActiveOptionBackground:_this.inputActiveOptionBackground})),_this._register(_this.preserveCase.onChange(function(viaKeyboard){_this._onDidOptionChange.fire(viaKeyboard),!viaKeyboard&&_this.fixFocusOnOptionClickEnabled&&_this.inputBox.focus(),_this.validate()})),_this._register(_this.preserveCase.onKeyDown(function(e){_this._onPreserveCaseKeyDown.fire(e)})),_this._showOptionButtons?_this.cachedOptionsWidth=_this.preserveCase.width():_this.cachedOptionsWidth=0;var indexes=[_this.preserveCase.domNode];_this.onkeydown(_this.domNode,function(event){if(event.equals(15)||event.equals(17)||event.equals(9)){var index=indexes.indexOf(document.activeElement);if(index>=0){var newIndex=-1;event.equals(17)?newIndex=(index+1)%indexes.length:event.equals(15)&&(index===0?newIndex=indexes.length-1:newIndex=index-1),event.equals(9)?indexes[index].blur():newIndex>=0&&indexes[newIndex].focus(),dom.c.stop(event,!0)}}});var controls=document.createElement("div");return controls.className="controls",controls.style.display=_this._showOptionButtons?"block":"none",controls.appendChild(_this.preserveCase.domNode),_this.domNode.appendChild(controls),parent&&parent.appendChild(_this.domNode),_this.onkeydown(_this.inputBox.inputElement,function(e){return _this._onKeyDown.fire(e)}),_this.onkeyup(_this.inputBox.inputElement,function(e){return _this._onKeyUp.fire(e)}),_this.oninput(_this.inputBox.inputElement,function(e){return _this._onInput.fire()}),_this.onmousedown(_this.inputBox.inputElement,function(e){return _this._onMouseDown.fire(e)}),_this}return ReplaceInput.prototype.enable=function(){dom.M(this.domNode,"disabled"),this.inputBox.enable(),this.preserveCase.enable()},ReplaceInput.prototype.disable=function(){dom.f(this.domNode,"disabled"),this.inputBox.disable(),this.preserveCase.disable()},ReplaceInput.prototype.setEnabled=function(enabled){enabled?this.enable():this.disable()},ReplaceInput.prototype.style=function(styles){this.inputActiveOptionBorder=styles.inputActiveOptionBorder,this.inputActiveOptionBackground=styles.inputActiveOptionBackground,this.inputBackground=styles.inputBackground,this.inputForeground=styles.inputForeground,this.inputBorder=styles.inputBorder,this.inputValidationInfoBackground=styles.inputValidationInfoBackground,this.inputValidationInfoForeground=styles.inputValidationInfoForeground,this.inputValidationInfoBorder=styles.inputValidationInfoBorder,this.inputValidationWarningBackground=styles.inputValidationWarningBackground,this.inputValidationWarningForeground=styles.inputValidationWarningForeground,this.inputValidationWarningBorder=styles.inputValidationWarningBorder,this.inputValidationErrorBackground=styles.inputValidationErrorBackground,this.inputValidationErrorForeground=styles.inputValidationErrorForeground,this.inputValidationErrorBorder=styles.inputValidationErrorBorder,this.applyStyles()},ReplaceInput.prototype.applyStyles=function(){if(this.domNode){var checkBoxStyles={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(checkBoxStyles);var inputBoxStyles={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(inputBoxStyles)}},ReplaceInput.prototype.select=function(){this.inputBox.select()},ReplaceInput.prototype.focus=function(){this.inputBox.focus()},ReplaceInput.prototype.getPreserveCase=function(){return this.preserveCase.checked},ReplaceInput.prototype.setPreserveCase=function(value){this.preserveCase.checked=value},ReplaceInput.prototype.focusOnPreserve=function(){this.preserveCase.focus()},ReplaceInput.prototype.validate=function(){this.inputBox&&this.inputBox.validate()},Object.defineProperty(ReplaceInput.prototype,"width",{set:function(newWidth){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=newWidth,this.domNode.style.width=newWidth+"px"},enumerable:!0,configurable:!0}),ReplaceInput.prototype.dispose=function(){_super.prototype.dispose.call(this)},ReplaceInput}(ui_widget.a),contextScopedHistoryWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},HistoryNavigationWidgetContext="historyNavigationWidget",HistoryNavigationEnablementContext="historyNavigationEnabled";function bindContextScopedWidget(contextKeyService,widget,contextKey){new contextkey.d(contextKey,widget).bindTo(contextKeyService)}function createWidgetScopedContextKeyService(contextKeyService,widget){return contextKeyService.createScoped(widget.target)}function getContextScopedWidget(contextKeyService,contextKey){return contextKeyService.getContext(document.activeElement).getValue(contextKey)}function createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService,widget){var scopedContextKeyService=createWidgetScopedContextKeyService(contextKeyService,widget);bindContextScopedWidget(scopedContextKeyService,widget,HistoryNavigationWidgetContext);var historyNavigationEnablement=new contextkey.d(HistoryNavigationEnablementContext,!0).bindTo(scopedContextKeyService);return{scopedContextKeyService,historyNavigationEnablement}}var contextScopedHistoryWidget_ContextScopedFindInput=function(_super){contextScopedHistoryWidget_extends(ContextScopedFindInput,_super);function ContextScopedFindInput(container,contextViewProvider,options,contextKeyService,showFindOptions){showFindOptions===void 0&&(showFindOptions=!1);var _this=_super.call(this,container,contextViewProvider,showFindOptions,options)||this;return _this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService,{target:_this.inputBox.element,historyNavigator:_this.inputBox}).scopedContextKeyService),_this}return ContextScopedFindInput=__decorate([__param(3,contextkey.c)],ContextScopedFindInput),ContextScopedFindInput}(findInput_FindInput),contextScopedHistoryWidget_ContextScopedReplaceInput=function(_super){contextScopedHistoryWidget_extends(ContextScopedReplaceInput,_super);function ContextScopedReplaceInput(container,contextViewProvider,options,contextKeyService,showReplaceOptions){showReplaceOptions===void 0&&(showReplaceOptions=!1);var _this=_super.call(this,container,contextViewProvider,showReplaceOptions,options)||this;return _this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService,{target:_this.inputBox.element,historyNavigator:_this.inputBox}).scopedContextKeyService),_this}return ContextScopedReplaceInput=__decorate([__param(3,contextkey.c)],ContextScopedReplaceInput),ContextScopedReplaceInput}(replaceInput_ReplaceInput);keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:contextkey.a.and(contextkey.a.has(HistoryNavigationWidgetContext),contextkey.a.equals(HistoryNavigationEnablementContext,!0)),primary:16,secondary:[528],handler:function(accessor,arg2){var widget=getContextScopedWidget(accessor.get(contextkey.c),HistoryNavigationWidgetContext);if(widget){var historyInputBox=widget.historyNavigator;historyInputBox.showPreviousValue()}}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:contextkey.a.and(contextkey.a.has(HistoryNavigationWidgetContext),contextkey.a.equals(HistoryNavigationEnablementContext,!0)),primary:18,secondary:[530],handler:function(accessor,arg2){var widget=getContextScopedWidget(accessor.get(contextkey.c),HistoryNavigationWidgetContext);if(widget){var historyInputBox=widget.historyNavigator;historyInputBox.showNextValue()}}});var findWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),NLS_FIND_INPUT_LABEL=nls.a("label.find","Find"),NLS_FIND_INPUT_PLACEHOLDER=nls.a("placeholder.find","Find"),NLS_PREVIOUS_MATCH_BTN_LABEL=nls.a("label.previousMatchButton","Previous match"),NLS_NEXT_MATCH_BTN_LABEL=nls.a("label.nextMatchButton","Next match"),NLS_TOGGLE_SELECTION_FIND_TITLE=nls.a("label.toggleSelectionFind","Find in selection"),NLS_CLOSE_BTN_LABEL=nls.a("label.closeButton","Close"),NLS_REPLACE_INPUT_LABEL=nls.a("label.replace","Replace"),NLS_REPLACE_INPUT_PLACEHOLDER=nls.a("placeholder.replace","Replace"),NLS_REPLACE_BTN_LABEL=nls.a("label.replaceButton","Replace"),NLS_REPLACE_ALL_BTN_LABEL=nls.a("label.replaceAllButton","Replace All"),NLS_TOGGLE_REPLACE_MODE_BTN_LABEL=nls.a("label.toggleReplaceButton","Toggle Replace mode"),NLS_MATCHES_COUNT_LIMIT_TITLE=nls.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",MATCHES_LIMIT),NLS_MATCHES_LOCATION=nls.a("label.matchesLocation","{0} of {1}"),NLS_NO_RESULTS=nls.a("label.noResults","No Results"),FIND_WIDGET_INITIAL_WIDTH=419,PART_WIDTH=275,FIND_INPUT_AREA_WIDTH=PART_WIDTH-54,MAX_MATCHES_COUNT_WIDTH=69,FIND_INPUT_AREA_HEIGHT=33,ctrlEnterReplaceAllWarningPromptedKey="ctrlEnterReplaceAll.windows.donotask",ctrlKeyMod=platform.e?256:2048,FindWidgetViewZone=function(){function FindWidgetViewZone2(afterLineNumber){this.afterLineNumber=afterLineNumber,this.heightInPx=FIND_INPUT_AREA_HEIGHT,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}return FindWidgetViewZone2}();function stopPropagationForMultiLineUpwards(event,value,textarea){var isMultiline=!!value.match(/\n/);if(textarea&&isMultiline&&textarea.selectionStart>0){event.stopPropagation();return}}function stopPropagationForMultiLineDownwards(event,value,textarea){var isMultiline=!!value.match(/\n/);if(textarea&&isMultiline&&textarea.selectionEnd<textarea.value.length){event.stopPropagation();return}}var findWidget_FindWidget=function(_super){findWidget_extends(FindWidget,_super);function FindWidget(codeEditor,controller,state,contextViewProvider,keybindingService,contextKeyService,themeService,storageService,notificationService){var _this=_super.call(this)||this;return _this._cachedHeight=null,_this._codeEditor=codeEditor,_this._controller=controller,_this._state=state,_this._contextViewProvider=contextViewProvider,_this._keybindingService=keybindingService,_this._contextKeyService=contextKeyService,_this._storageService=storageService,_this._notificationService=notificationService,_this._ctrlEnterReplaceAllWarningPrompted=!!storageService.getBoolean(ctrlEnterReplaceAllWarningPromptedKey,0),_this._isVisible=!1,_this._isReplaceVisible=!1,_this._ignoreChangeEvent=!1,_this._updateHistoryDelayer=new common_async.a(500),_this._register(Object(lifecycle.h)(function(){return _this._updateHistoryDelayer.cancel()})),_this._register(_this._state.onFindReplaceStateChange(function(e){return _this._onStateChanged(e)})),_this._buildDomNode(),_this._updateButtons(),_this._tryUpdateWidgetWidth(),_this._findInput.inputBox.layout(),_this._register(_this._codeEditor.onDidChangeConfiguration(function(e){if(e.hasChanged(65)&&(_this._codeEditor.getOption(65)&&_this._state.change({isReplaceRevealed:!1},!1),_this._updateButtons()),e.hasChanged(103)&&_this._tryUpdateWidgetWidth(),e.hasChanged(2)&&_this.updateAccessibilitySupport(),e.hasChanged(27)){var addExtraSpaceOnTop=_this._codeEditor.getOption(27).addExtraSpaceOnTop;addExtraSpaceOnTop&&!_this._viewZone&&(_this._viewZone=new FindWidgetViewZone(0),_this._showViewZone()),!addExtraSpaceOnTop&&_this._viewZone&&_this._removeViewZone()}})),_this.updateAccessibilitySupport(),_this._register(_this._codeEditor.onDidChangeCursorSelection(function(){_this._isVisible&&_this._updateToggleSelectionFindButton()})),_this._register(_this._codeEditor.onDidFocusEditorWidget(function(){if(_this._isVisible){var globalBufferTerm=_this._controller.getGlobalBufferTerm();globalBufferTerm&&globalBufferTerm!==_this._state.searchString&&(_this._state.change({searchString:globalBufferTerm},!0),_this._findInput.select())}})),_this._findInputFocused=CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService),_this._findFocusTracker=_this._register(dom.W(_this._findInput.inputBox.inputElement)),_this._register(_this._findFocusTracker.onDidFocus(function(){_this._findInputFocused.set(!0),_this._updateSearchScope()})),_this._register(_this._findFocusTracker.onDidBlur(function(){_this._findInputFocused.set(!1)})),_this._replaceInputFocused=CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(contextKeyService),_this._replaceFocusTracker=_this._register(dom.W(_this._replaceInput.inputBox.inputElement)),_this._register(_this._replaceFocusTracker.onDidFocus(function(){_this._replaceInputFocused.set(!0),_this._updateSearchScope()})),_this._register(_this._replaceFocusTracker.onDidBlur(function(){_this._replaceInputFocused.set(!1)})),_this._codeEditor.addOverlayWidget(_this),_this._codeEditor.getOption(27).addExtraSpaceOnTop&&(_this._viewZone=new FindWidgetViewZone(0)),_this._applyTheme(themeService.getTheme()),_this._register(themeService.onThemeChange(_this._applyTheme.bind(_this))),_this._register(_this._codeEditor.onDidChangeModel(function(){_this._isVisible&&(_this._viewZoneId=void 0)})),_this._register(_this._codeEditor.onDidScrollChange(function(e){if(e.scrollTopChanged){_this._layoutViewZone();return}setTimeout(function(){_this._layoutViewZone()},0)})),_this}return FindWidget.prototype.getId=function(){return FindWidget.ID},FindWidget.prototype.getDomNode=function(){return this._domNode},FindWidget.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},FindWidget.prototype._onStateChanged=function(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(65)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=dom.F(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var showRedOutline=this._state.searchString.length>0&&this._state.matchesCount===0;dom.V(this._domNode,"no-results",showRedOutline),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory()},FindWidget.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},FindWidget.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},FindWidget.prototype._updateMatchesCount=function(){this._matchesCount.style.minWidth=MAX_MATCHES_COUNT_WIDTH+"px",this._state.matchesCount>=MATCHES_LIMIT?this._matchesCount.title=NLS_MATCHES_COUNT_LIMIT_TITLE:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var label;if(this._state.matchesCount>0){var matchesCount=String(this._state.matchesCount);this._state.matchesCount>=MATCHES_LIMIT&&(matchesCount+="+");var matchesPosition=String(this._state.matchesPosition);matchesPosition==="0"&&(matchesPosition="?"),label=strings.r(NLS_MATCHES_LOCATION,matchesPosition,matchesCount)}else label=NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(label)),Object(aria.a)(this._getAriaLabel(label,this._state.currentMatch,this._state.searchString),!0),MAX_MATCHES_COUNT_WIDTH=Math.max(MAX_MATCHES_COUNT_WIDTH,this._matchesCount.clientWidth)},FindWidget.prototype._getAriaLabel=function(label,currentMatch,searchString){return label===NLS_NO_RESULTS?searchString===""?nls.a("ariaSearchNoResultEmpty","{0} found",label):nls.a("ariaSearchNoResult","{0} found for {1}",label,searchString):currentMatch?nls.a("ariaSearchNoResultWithLineNum","{0} found for {1} at {2}",label,searchString,currentMatch.startLineNumber+":"+currentMatch.startColumn):nls.a("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for {1}",label,searchString)},FindWidget.prototype._updateToggleSelectionFindButton=function(){var selection=this._codeEditor.getSelection(),isSelection=selection?selection.startLineNumber!==selection.endLineNumber||selection.startColumn!==selection.endColumn:!1,isChecked=this._toggleSelectionFind.checked;this._isVisible&&(isChecked||isSelection)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()},FindWidget.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var findInputIsNonEmpty=this._state.searchString.length>0,matchesCount=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&findInputIsNonEmpty&&matchesCount),this._nextBtn.setEnabled(this._isVisible&&findInputIsNonEmpty&&matchesCount),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&findInputIsNonEmpty),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&findInputIsNonEmpty),dom.V(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var canReplace=!this._codeEditor.getOption(65);this._toggleReplaceBtn.setEnabled(this._isVisible&&canReplace)},FindWidget.prototype._reveal=function(){var _this=this;if(!this._isVisible){this._isVisible=!0;var selection=this._codeEditor.getSelection();switch(this._codeEditor.getOption(27).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var isSelectionMultipleLine=!!selection&&selection.startLineNumber!==selection.endLineNumber;this._toggleSelectionFind.checked=isSelectionMultipleLine;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout(function(){dom.f(_this._domNode,"visible"),_this._domNode.setAttribute("aria-hidden","false")},0),setTimeout(function(){_this._findInput.validate()},200),this._codeEditor.layoutOverlayWidget(this);var adjustEditorScrollTop=!0;if(this._codeEditor.getOption(27).seedSearchStringFromSelection&&selection){var domNode=this._codeEditor.getDomNode();if(domNode){var editorCoords=dom.B(domNode),startCoords=this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition()),startLeft=editorCoords.left+(startCoords?startCoords.left:0),startTop=startCoords?startCoords.top:0;if(this._viewZone&&startTop<this._viewZone.heightInPx){selection.endLineNumber>selection.startLineNumber&&(adjustEditorScrollTop=!1);var leftOfFindWidget=dom.D(this._domNode).left;startLeft>leftOfFindWidget&&(adjustEditorScrollTop=!1);var endCoords=this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition()),endLeft=editorCoords.left+(endCoords?endCoords.left:0);endLeft>leftOfFindWidget&&(adjustEditorScrollTop=!1)}}}this._showViewZone(adjustEditorScrollTop)}},FindWidget.prototype._hide=function(focusTheEditor){this._isVisible&&(this._isVisible=!1,this._updateButtons(),dom.M(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),focusTheEditor&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},FindWidget.prototype._layoutViewZone=function(){var _this=this,addExtraSpaceOnTop=this._codeEditor.getOption(27).addExtraSpaceOnTop;if(!addExtraSpaceOnTop){this._removeViewZone();return}if(this._isVisible){var viewZone=this._viewZone;this._viewZoneId!==void 0||!viewZone||this._codeEditor.changeViewZones(function(accessor){viewZone.heightInPx=_this._getHeight(),_this._viewZoneId=accessor.addZone(viewZone),_this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop()+viewZone.heightInPx)})}},FindWidget.prototype._showViewZone=function(adjustScroll){var _this=this;if(adjustScroll===void 0&&(adjustScroll=!0),!!this._isVisible){var addExtraSpaceOnTop=this._codeEditor.getOption(27).addExtraSpaceOnTop;if(addExtraSpaceOnTop){this._viewZone===void 0&&(this._viewZone=new FindWidgetViewZone(0));var viewZone=this._viewZone;this._codeEditor.changeViewZones(function(accessor){if(_this._viewZoneId!==void 0){var newHeight=_this._getHeight();if(newHeight===viewZone.heightInPx)return;var scrollAdjustment=newHeight-viewZone.heightInPx;viewZone.heightInPx=newHeight,accessor.layoutZone(_this._viewZoneId),adjustScroll&&_this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop()+scrollAdjustment);return}else{var scrollAdjustment=_this._getHeight();viewZone.heightInPx=scrollAdjustment,_this._viewZoneId=accessor.addZone(viewZone),adjustScroll&&_this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop()+scrollAdjustment)}})}}},FindWidget.prototype._removeViewZone=function(){var _this=this;this._codeEditor.changeViewZones(function(accessor){_this._viewZoneId!==void 0&&(accessor.removeZone(_this._viewZoneId),_this._viewZoneId=void 0,_this._viewZone&&(_this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop()-_this._viewZone.heightInPx),_this._viewZone=void 0))})},FindWidget.prototype._applyTheme=function(theme){var inputStyles={inputActiveOptionBorder:theme.getColor(colorRegistry.Y),inputActiveOptionBackground:theme.getColor(colorRegistry.X),inputBackground:theme.getColor(colorRegistry.Z),inputForeground:theme.getColor(colorRegistry.bb),inputBorder:theme.getColor(colorRegistry.ab),inputValidationInfoBackground:theme.getColor(colorRegistry.fb),inputValidationInfoForeground:theme.getColor(colorRegistry.hb),inputValidationInfoBorder:theme.getColor(colorRegistry.gb),inputValidationWarningBackground:theme.getColor(colorRegistry.ib),inputValidationWarningForeground:theme.getColor(colorRegistry.kb),inputValidationWarningBorder:theme.getColor(colorRegistry.jb),inputValidationErrorBackground:theme.getColor(colorRegistry.cb),inputValidationErrorForeground:theme.getColor(colorRegistry.eb),inputValidationErrorBorder:theme.getColor(colorRegistry.db)};this._findInput.style(inputStyles),this._replaceInput.style(inputStyles),this._toggleSelectionFind.style(inputStyles)},FindWidget.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible&&dom.K(this._domNode)){var layoutInfo=this._codeEditor.getLayoutInfo(),editorContentWidth=layoutInfo.contentWidth;if(editorContentWidth<=0){dom.f(this._domNode,"hiddenEditor");return}else dom.G(this._domNode,"hiddenEditor")&&dom.M(this._domNode,"hiddenEditor");var editorWidth=layoutInfo.width,minimapWidth=layoutInfo.minimapWidth,collapsedFindWidget=!1,reducedFindWidget=!1,narrowFindWidget=!1;if(this._resized){var widgetWidth=dom.F(this._domNode);if(widgetWidth>FIND_WIDGET_INITIAL_WIDTH){this._domNode.style.maxWidth=editorWidth-28-minimapWidth-15+"px",this._replaceInput.width=dom.F(this._findInput.domNode);return}}if(FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth>=editorWidth&&(reducedFindWidget=!0),FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth-MAX_MATCHES_COUNT_WIDTH>=editorWidth&&(narrowFindWidget=!0),FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth-MAX_MATCHES_COUNT_WIDTH>=editorWidth+50&&(collapsedFindWidget=!0),dom.V(this._domNode,"collapsed-find-widget",collapsedFindWidget),dom.V(this._domNode,"narrow-find-widget",narrowFindWidget),dom.V(this._domNode,"reduced-find-widget",reducedFindWidget),!narrowFindWidget&&!collapsedFindWidget&&(this._domNode.style.maxWidth=editorWidth-28-minimapWidth-15+"px"),this._resized){this._findInput.inputBox.layout();var findInputWidth=this._findInput.inputBox.element.clientWidth;findInputWidth>0&&(this._replaceInput.width=findInputWidth)}else this._isReplaceVisible&&(this._replaceInput.width=dom.F(this._findInput.domNode))}},FindWidget.prototype._getHeight=function(){var totalheight=0;return totalheight+=4,totalheight+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(totalheight+=4,totalheight+=this._replaceInput.inputBox.height+2),totalheight+=4,totalheight},FindWidget.prototype._tryUpdateHeight=function(){var totalHeight=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===totalHeight?!1:(this._cachedHeight=totalHeight,this._domNode.style.height=totalHeight+"px",!0)},FindWidget.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},FindWidget.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},FindWidget.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},FindWidget.prototype._updateSearchScope=function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var selection=this._codeEditor.getSelection();selection.endColumn===1&&selection.endLineNumber>selection.startLineNumber&&(selection=selection.setEndPosition(selection.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber-1)));var currentMatch=this._state.currentMatch;selection.startLineNumber!==selection.endLineNumber&&(core_range.a.equalsRange(selection,currentMatch)||this._state.change({searchScope:selection},!0))}},FindWidget.prototype._onFindInputMouseDown=function(e){e.middleButton&&e.stopPropagation()},FindWidget.prototype._onFindInputKeyDown=function(e){if(e.equals(ctrlKeyMod|3)){this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return stopPropagationForMultiLineUpwards(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return stopPropagationForMultiLineDownwards(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))},FindWidget.prototype._onReplaceInputKeyDown=function(e){if(e.equals(ctrlKeyMod|3)){platform.h&&platform.f&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(nls.a("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ctrlEnterReplaceAllWarningPromptedKey,!0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return stopPropagationForMultiLineUpwards(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return stopPropagationForMultiLineDownwards(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))},FindWidget.prototype.getHorizontalSashTop=function(_sash){return 0},FindWidget.prototype.getHorizontalSashLeft=function(_sash){return 0},FindWidget.prototype.getHorizontalSashWidth=function(_sash){return 500},FindWidget.prototype._keybindingLabelFor=function(actionId){var kb=this._keybindingService.lookupKeybinding(actionId);return kb?" ("+kb.getLabel()+")":""},FindWidget.prototype._buildDomNode=function(){var _this=this,flexibleHeight=!0,flexibleWidth=!0;this._findInput=this._register(new contextScopedHistoryWidget_ContextScopedFindInput(null,this._contextViewProvider,{width:FIND_INPUT_AREA_WIDTH,label:NLS_FIND_INPUT_LABEL,placeholder:NLS_FIND_INPUT_PLACEHOLDER,appendCaseSensitiveLabel:this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),validation:function(value){if(value.length===0||!_this._findInput.getRegex())return null;try{return new RegExp(value),null}catch(e){return{content:e.message}}},flexibleHeight,flexibleWidth,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(e){return _this._onFindInputKeyDown(e)})),this._register(this._findInput.inputBox.onDidChange(function(){_this._ignoreChangeEvent||_this._state.change({searchString:_this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){_this._state.change({isRegex:_this._findInput.getRegex(),wholeWord:_this._findInput.getWholeWords(),matchCase:_this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(e){e.equals(1026)&&_this._isReplaceVisible&&(_this._replaceInput.focus(),e.preventDefault())})),this._register(this._findInput.onRegexKeyDown(function(e){e.equals(2)&&_this._isReplaceVisible&&(_this._replaceInput.focusOnPreserve(),e.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(function(e){_this._tryUpdateHeight()&&_this._showViewZone()})),platform.d&&this._register(this._findInput.onMouseDown(function(e){return _this._onFindInputMouseDown(e)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new findWidget_SimpleButton({label:NLS_PREVIOUS_MATCH_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),className:"codicon codicon-arrow-up",onTrigger:function(){_this._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().then(void 0,errors.e)}})),this._nextBtn=this._register(new findWidget_SimpleButton({label:NLS_NEXT_MATCH_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),className:"codicon codicon-arrow-down",onTrigger:function(){_this._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().then(void 0,errors.e)}}));var findPart=document.createElement("div");findPart.className="find-part",findPart.appendChild(this._findInput.domNode);var actionsContainer=document.createElement("div");actionsContainer.className="find-actions",findPart.appendChild(actionsContainer),actionsContainer.appendChild(this._matchesCount),actionsContainer.appendChild(this._prevBtn.domNode),actionsContainer.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new checkbox_Checkbox({actionClassName:"codicon codicon-selection",title:NLS_TOGGLE_SELECTION_FIND_TITLE+this._keybindingLabelFor(FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(function(){if(_this._toggleSelectionFind.checked){if(_this._codeEditor.hasModel()){var selection=_this._codeEditor.getSelection();selection.endColumn===1&&selection.endLineNumber>selection.startLineNumber&&(selection=selection.setEndPosition(selection.endLineNumber-1,_this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber-1))),selection.isEmpty()||_this._state.change({searchScope:selection},!0)}}else _this._state.change({searchScope:null},!0)})),actionsContainer.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new findWidget_SimpleButton({label:NLS_CLOSE_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),className:"codicon codicon-close",onTrigger:function(){_this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(e){e.equals(2)&&_this._isReplaceVisible&&(_this._replaceBtn.isEnabled()?_this._replaceBtn.focus():_this._codeEditor.focus(),e.preventDefault())}})),actionsContainer.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new contextScopedHistoryWidget_ContextScopedReplaceInput(null,void 0,{label:NLS_REPLACE_INPUT_LABEL,placeholder:NLS_REPLACE_INPUT_PLACEHOLDER,history:[],flexibleHeight,flexibleWidth,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(function(e){return _this._onReplaceInputKeyDown(e)})),this._register(this._replaceInput.inputBox.onDidChange(function(){_this._state.change({replaceString:_this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(function(e){_this._isReplaceVisible&&_this._tryUpdateHeight()&&_this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(function(){_this._state.change({preserveCase:_this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(function(e){e.equals(2)&&(_this._prevBtn.isEnabled()?_this._prevBtn.focus():_this._nextBtn.isEnabled()?_this._nextBtn.focus():_this._toggleSelectionFind.enabled?_this._toggleSelectionFind.focus():_this._closeBtn.isEnabled()&&_this._closeBtn.focus(),e.preventDefault())})),this._replaceBtn=this._register(new findWidget_SimpleButton({label:NLS_REPLACE_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),className:"codicon codicon-replace",onTrigger:function(){_this._controller.replace()},onKeyDown:function(e){e.equals(1026)&&(_this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new findWidget_SimpleButton({label:NLS_REPLACE_ALL_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),className:"codicon codicon-replace-all",onTrigger:function(){_this._controller.replaceAll()}}));var replacePart=document.createElement("div");replacePart.className="replace-part",replacePart.appendChild(this._replaceInput.domNode);var replaceActionsContainer=document.createElement("div");replaceActionsContainer.className="replace-actions",replacePart.appendChild(replaceActionsContainer),replaceActionsContainer.appendChild(this._replaceBtn.domNode),replaceActionsContainer.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new findWidget_SimpleButton({label:NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,className:"codicon toggle left",onTrigger:function(){_this._state.change({isReplaceRevealed:!_this._isReplaceVisible},!1),_this._isReplaceVisible&&(_this._replaceInput.width=dom.F(_this._findInput.domNode),_this._replaceInput.inputBox.layout()),_this._showViewZone()}})),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=FIND_WIDGET_INITIAL_WIDTH+"px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(findPart),this._domNode.appendChild(replacePart),this._resizeSash=new sash.a(this._domNode,this,{orientation:0}),this._resized=!1;var originalWidth=FIND_WIDGET_INITIAL_WIDTH;this._register(this._resizeSash.onDidStart(function(){originalWidth=dom.F(_this._domNode)})),this._register(this._resizeSash.onDidChange(function(evt){_this._resized=!0;var width=originalWidth+evt.startX-evt.currentX;if(!(width<FIND_WIDGET_INITIAL_WIDTH)){var maxWidth=parseFloat(dom.y(_this._domNode).maxWidth)||0;width>maxWidth||(_this._domNode.style.width=width+"px",_this._isReplaceVisible&&(_this._replaceInput.width=dom.F(_this._findInput.domNode)),_this._findInput.inputBox.layout(),_this._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(function(){var currentWidth=dom.F(_this._domNode);if(!(currentWidth<FIND_WIDGET_INITIAL_WIDTH)){var width=FIND_WIDGET_INITIAL_WIDTH;if(!_this._resized||currentWidth===FIND_WIDGET_INITIAL_WIDTH){var layoutInfo=_this._codeEditor.getLayoutInfo();width=layoutInfo.width-28-layoutInfo.minimapWidth-15,_this._resized=!0}_this._domNode.style.width=width+"px",_this._isReplaceVisible&&(_this._replaceInput.width=dom.F(_this._findInput.domNode)),_this._findInput.inputBox.layout()}}))},FindWidget.prototype.updateAccessibilitySupport=function(){var value=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(value!==2)},FindWidget.ID="editor.contrib.findWidget",FindWidget}(ui_widget.a),findWidget_SimpleButton=function(_super){findWidget_extends(SimpleButton,_super);function SimpleButton(opts){var _this=_super.call(this)||this;return _this._opts=opts,_this._domNode=document.createElement("div"),_this._domNode.title=_this._opts.label,_this._domNode.tabIndex=0,_this._domNode.className="button "+_this._opts.className,_this._domNode.setAttribute("role","button"),_this._domNode.setAttribute("aria-label",_this._opts.label),_this.onclick(_this._domNode,function(e){_this._opts.onTrigger(),e.preventDefault()}),_this.onkeydown(_this._domNode,function(e){if(e.equals(10)||e.equals(3)){_this._opts.onTrigger(),e.preventDefault();return}_this._opts.onKeyDown&&_this._opts.onKeyDown(e)}),_this}return Object.defineProperty(SimpleButton.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),SimpleButton.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},SimpleButton.prototype.focus=function(){this._domNode.focus()},SimpleButton.prototype.setEnabled=function(enabled){dom.V(this._domNode,"disabled",!enabled),this._domNode.setAttribute("aria-disabled",String(!enabled)),this._domNode.tabIndex=enabled?0:-1},SimpleButton.prototype.setExpanded=function(expanded){this._domNode.setAttribute("aria-expanded",String(!!expanded))},SimpleButton.prototype.toggleClass=function(className,shouldHaveIt){dom.V(this._domNode,className,shouldHaveIt)},SimpleButton}(ui_widget.a);Object(common_themeService.e)(function(theme,collector){var addBackgroundColorRule=function(selector,color2){color2&&collector.addRule(".monaco-editor "+selector+" { background-color: "+color2+"; }")};addBackgroundColorRule(".findMatch",theme.getColor(colorRegistry.t)),addBackgroundColorRule(".currentFindMatch",theme.getColor(colorRegistry.r)),addBackgroundColorRule(".findScope",theme.getColor(colorRegistry.v));var widgetBackground=theme.getColor(colorRegistry.Q);addBackgroundColorRule(".find-widget",widgetBackground);var widgetShadowColor=theme.getColor(colorRegistry.gc);widgetShadowColor&&collector.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+widgetShadowColor+"; }");var findMatchHighlightBorder=theme.getColor(colorRegistry.u);findMatchHighlightBorder&&collector.addRule(".monaco-editor .findMatch { border: 1px "+(theme.type==="hc"?"dotted":"solid")+" "+findMatchHighlightBorder+"; box-sizing: border-box; }");var findMatchBorder=theme.getColor(colorRegistry.s);findMatchBorder&&collector.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+findMatchBorder+"; padding: 1px; box-sizing: border-box; }");var findRangeHighlightBorder=theme.getColor(colorRegistry.w);findRangeHighlightBorder&&collector.addRule(".monaco-editor .findScope { border: 1px "+(theme.type==="hc"?"dashed":"solid")+" "+findRangeHighlightBorder+"; }");var hcBorder=theme.getColor(colorRegistry.e);hcBorder&&collector.addRule(".monaco-editor .find-widget { border: 1px solid "+hcBorder+"; }");var foreground=theme.getColor(colorRegistry.S);foreground&&collector.addRule(".monaco-editor .find-widget { color: "+foreground+"; }");var error=theme.getColor(colorRegistry.U);error&&collector.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+error+"; }");var resizeBorderBackground=theme.getColor(colorRegistry.T);if(resizeBorderBackground)collector.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+resizeBorderBackground+"; width: 3px !important; margin-left: -4px;}");else{var border=theme.getColor(colorRegistry.R);border&&collector.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+border+"; width: 3px !important; margin-left: -4px;}")}var focusOutline=theme.getColor(colorRegistry.V);focusOutline&&collector.addRule(".monaco-workbench .monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: "+focusOutline+"; }")});var common_clipboardService=__webpack_require__(3501),contextView=__webpack_require__(3114),instantiation=__webpack_require__(2232),keybinding=__webpack_require__(2760),storage=__webpack_require__(3195),notification=__webpack_require__(2761),findController_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),findController_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},findController_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},SEARCH_STRING_MAX_LENGTH=524288;function getSelectionSearchString(editor){if(!editor.hasModel())return null;var selection=editor.getSelection();if(selection.startLineNumber===selection.endLineNumber){if(selection.isEmpty()){var wordAtPosition=editor.getModel().getWordAtPosition(selection.getStartPosition());if(wordAtPosition)return wordAtPosition.word}else if(editor.getModel().getValueLengthInRange(selection)<SEARCH_STRING_MAX_LENGTH)return editor.getModel().getValueInRange(selection)}return null}var findController_CommonFindController=function(_super){findController_extends(CommonFindController,_super);function CommonFindController(editor,contextKeyService,storageService,clipboardService){var _this=_super.call(this)||this;return _this._editor=editor,_this._findWidgetVisible=CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService),_this._contextKeyService=contextKeyService,_this._storageService=storageService,_this._clipboardService=clipboardService,_this._updateHistoryDelayer=new common_async.a(500),_this._state=_this._register(new findState_FindReplaceState),_this.loadQueryState(),_this._register(_this._state.onFindReplaceStateChange(function(e){return _this._onStateChanged(e)})),_this._model=null,_this._register(_this._editor.onDidChangeModel(function(){var shouldRestartFind=_this._editor.getModel()&&_this._state.isRevealed;_this.disposeModel(),_this._state.change({searchScope:null,matchCase:_this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:_this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:_this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:_this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),shouldRestartFind&&_this._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})})),_this}return CommonFindController.get=function(editor){return editor.getContribution(CommonFindController.ID)},CommonFindController.prototype.dispose=function(){this.disposeModel(),_super.prototype.dispose.call(this)},CommonFindController.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},CommonFindController.prototype._onStateChanged=function(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)},CommonFindController.prototype.saveQueryState=function(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)},CommonFindController.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)},CommonFindController.prototype.isFindInputFocused=function(){return!!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)},CommonFindController.prototype.getState=function(){return this._state},CommonFindController.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},CommonFindController.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},CommonFindController.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},CommonFindController.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},CommonFindController.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var selection=this._editor.getSelection();selection.endColumn===1&&selection.endLineNumber>selection.startLineNumber&&(selection=selection.setEndPosition(selection.endLineNumber-1,this._editor.getModel().getLineMaxColumn(selection.endLineNumber-1))),selection.isEmpty()||this._state.change({searchScope:selection},!0)}},CommonFindController.prototype.setSearchString=function(searchString){this._state.isRegex&&(searchString=strings.p(searchString)),this._state.change({searchString},!1)},CommonFindController.prototype.highlightFindOptions=function(){},CommonFindController.prototype._start=function(opts){if(this.disposeModel(),!!this._editor.hasModel()){var stateChanges={isRevealed:!0};if(opts.seedSearchStringFromSelection){var selectionSearchString=getSelectionSearchString(this._editor);selectionSearchString&&(this._state.isRegex?stateChanges.searchString=strings.p(selectionSearchString):stateChanges.searchString=selectionSearchString)}if(!stateChanges.searchString&&opts.seedSearchStringFromGlobalClipboard){var selectionSearchString=this.getGlobalBufferTerm();selectionSearchString&&(stateChanges.searchString=selectionSearchString)}if(opts.forceRevealReplace?stateChanges.isReplaceRevealed=!0:this._findWidgetVisible.get()||(stateChanges.isReplaceRevealed=!1),opts.updateSearchScope){var currentSelection=this._editor.getSelection();currentSelection.isEmpty()||(stateChanges.searchScope=currentSelection)}this._state.change(stateChanges,!1),this._model||(this._model=new findModel_FindModelBoundToEditorModel(this._editor,this._state))}},CommonFindController.prototype.start=function(opts){this._start(opts)},CommonFindController.prototype.moveToNextMatch=function(){return this._model?(this._model.moveToNextMatch(),!0):!1},CommonFindController.prototype.moveToPrevMatch=function(){return this._model?(this._model.moveToPrevMatch(),!0):!1},CommonFindController.prototype.replace=function(){return this._model?(this._model.replace(),!0):!1},CommonFindController.prototype.replaceAll=function(){return this._model?(this._model.replaceAll(),!0):!1},CommonFindController.prototype.selectAllMatches=function(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1},CommonFindController.prototype.getGlobalBufferTerm=function(){return this._editor.getOption(27).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},CommonFindController.prototype.setGlobalBufferTerm=function(text){this._editor.getOption(27).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(text)},CommonFindController.ID="editor.contrib.findController",CommonFindController=findController_decorate([findController_param(1,contextkey.c),findController_param(2,storage.a),findController_param(3,common_clipboardService.a)],CommonFindController),CommonFindController}(lifecycle.a),findController_FindController=function(_super){findController_extends(FindController,_super);function FindController(editor,_contextViewService,_contextKeyService,_keybindingService,_themeService,_notificationService,_storageService,clipboardService){var _this=_super.call(this,editor,_contextKeyService,_storageService,clipboardService)||this;return _this._contextViewService=_contextViewService,_this._keybindingService=_keybindingService,_this._themeService=_themeService,_this._notificationService=_notificationService,_this._widget=null,_this._findOptionsWidget=null,_this}return FindController.prototype._start=function(opts){this._widget||this._createFindWidget();var selection=this._editor.getSelection(),updateSearchScope=!1;switch(this._editor.getOption(27).autoFindInSelection){case"always":updateSearchScope=!0;break;case"never":updateSearchScope=!1;break;case"multiline":var isSelectionMultipleLine=!!selection&&selection.startLineNumber!==selection.endLineNumber;updateSearchScope=isSelectionMultipleLine;break;default:break}opts.updateSearchScope=updateSearchScope,_super.prototype._start.call(this,opts),opts.shouldFocus===2?this._widget.focusReplaceInput():opts.shouldFocus===1&&this._widget.focusFindInput()},FindController.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},FindController.prototype._createFindWidget=function(){this._widget=this._register(new findWidget_FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new findOptionsWidget_FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))},FindController=findController_decorate([findController_param(1,contextView.b),findController_param(2,contextkey.c),findController_param(3,keybinding.a),findController_param(4,common_themeService.c),findController_param(5,notification.a),findController_param(6,storage.a),findController_param(7,Object(instantiation.d)(common_clipboardService.a))],FindController),FindController}(findController_CommonFindController),findController_StartFindAction=function(_super){findController_extends(StartFindAction,_super);function StartFindAction(){return _super.call(this,{id:FIND_IDS.StartFindAction,label:nls.a("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:15,group:"3_find",title:nls.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return StartFindAction.prototype.run=function(accessor,editor){var controller=findController_CommonFindController.get(editor);controller&&controller.start({forceRevealReplace:!1,seedSearchStringFromSelection:editor.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:editor.getOption(27).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},StartFindAction}(editorExtensions.b),findController_StartFindWithSelectionAction=function(_super){findController_extends(StartFindWithSelectionAction,_super);function StartFindWithSelectionAction(){return _super.call(this,{id:FIND_IDS.StartFindWithSelection,label:nls.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}return StartFindWithSelectionAction.prototype.run=function(accessor,editor){var controller=findController_CommonFindController.get(editor);controller&&(controller.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),controller.setGlobalBufferTerm(controller.getState().searchString))},StartFindWithSelectionAction}(editorExtensions.b),MatchFindAction=function(_super){findController_extends(MatchFindAction2,_super);function MatchFindAction2(){return _super!==null&&_super.apply(this,arguments)||this}return MatchFindAction2.prototype.run=function(accessor,editor){var controller=findController_CommonFindController.get(editor);controller&&!this._run(controller)&&(controller.start({forceRevealReplace:!1,seedSearchStringFromSelection:controller.getState().searchString.length===0&&editor.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(controller))},MatchFindAction2}(editorExtensions.b),findController_NextMatchFindAction=function(_super){findController_extends(NextMatchFindAction,_super);function NextMatchFindAction(){return _super.call(this,{id:FIND_IDS.NextMatchFindAction,label:nls.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}return NextMatchFindAction.prototype._run=function(controller){return controller.moveToNextMatch()},NextMatchFindAction}(MatchFindAction),findController_NextMatchFindAction2=function(_super){findController_extends(NextMatchFindAction2,_super);function NextMatchFindAction2(){return _super.call(this,{id:FIND_IDS.NextMatchFindAction,label:nls.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:contextkey.a.and(editorContextKeys.a.focus,CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}})||this}return NextMatchFindAction2.prototype._run=function(controller){return controller.moveToNextMatch()},NextMatchFindAction2}(MatchFindAction),findController_PreviousMatchFindAction=function(_super){findController_extends(PreviousMatchFindAction,_super);function PreviousMatchFindAction(){return _super.call(this,{id:FIND_IDS.PreviousMatchFindAction,label:nls.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}return PreviousMatchFindAction.prototype._run=function(controller){return controller.moveToPrevMatch()},PreviousMatchFindAction}(MatchFindAction),findController_PreviousMatchFindAction2=function(_super){findController_extends(PreviousMatchFindAction2,_super);function PreviousMatchFindAction2(){return _super.call(this,{id:FIND_IDS.PreviousMatchFindAction,label:nls.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:contextkey.a.and(editorContextKeys.a.focus,CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}})||this}return PreviousMatchFindAction2.prototype._run=function(controller){return controller.moveToPrevMatch()},PreviousMatchFindAction2}(MatchFindAction),SelectionMatchFindAction=function(_super){findController_extends(SelectionMatchFindAction2,_super);function SelectionMatchFindAction2(){return _super!==null&&_super.apply(this,arguments)||this}return SelectionMatchFindAction2.prototype.run=function(accessor,editor){var controller=findController_CommonFindController.get(editor);if(controller){var selectionSearchString=getSelectionSearchString(editor);selectionSearchString&&controller.setSearchString(selectionSearchString),this._run(controller)||(controller.start({forceRevealReplace:!1,seedSearchStringFromSelection:editor.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(controller))}},SelectionMatchFindAction2}(editorExtensions.b),findController_NextSelectionMatchFindAction=function(_super){findController_extends(NextSelectionMatchFindAction,_super);function NextSelectionMatchFindAction(){return _super.call(this,{id:FIND_IDS.NextSelectionMatchFindAction,label:nls.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:2109,weight:100}})||this}return NextSelectionMatchFindAction.prototype._run=function(controller){return controller.moveToNextMatch()},NextSelectionMatchFindAction}(SelectionMatchFindAction),findController_PreviousSelectionMatchFindAction=function(_super){findController_extends(PreviousSelectionMatchFindAction,_super);function PreviousSelectionMatchFindAction(){return _super.call(this,{id:FIND_IDS.PreviousSelectionMatchFindAction,label:nls.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:3133,weight:100}})||this}return PreviousSelectionMatchFindAction.prototype._run=function(controller){return controller.moveToPrevMatch()},PreviousSelectionMatchFindAction}(SelectionMatchFindAction),findController_StartFindReplaceAction=function(_super){findController_extends(StartFindReplaceAction,_super);function StartFindReplaceAction(){return _super.call(this,{id:FIND_IDS.StartFindReplaceAction,label:nls.a("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:15,group:"3_find",title:nls.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return StartFindReplaceAction.prototype.run=function(accessor,editor){if(!(!editor.hasModel()||editor.getOption(65))){var controller=findController_CommonFindController.get(editor),currentSelection=editor.getSelection(),findInputFocused=controller.isFindInputFocused(),seedSearchStringFromSelection=!currentSelection.isEmpty()&&currentSelection.startLineNumber===currentSelection.endLineNumber&&editor.getOption(27).seedSearchStringFromSelection&&!findInputFocused,shouldFocus=findInputFocused||seedSearchStringFromSelection?2:1;controller&&controller.start({forceRevealReplace:!0,seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:editor.getOption(27).seedSearchStringFromSelection,shouldFocus,shouldAnimate:!0,updateSearchScope:!1})}},StartFindReplaceAction}(editorExtensions.b);Object(editorExtensions.h)(findController_CommonFindController.ID,findController_FindController),Object(editorExtensions.f)(findController_StartFindAction),Object(editorExtensions.f)(findController_StartFindWithSelectionAction),Object(editorExtensions.f)(findController_NextMatchFindAction),Object(editorExtensions.f)(findController_NextMatchFindAction2),Object(editorExtensions.f)(findController_PreviousMatchFindAction),Object(editorExtensions.f)(findController_PreviousMatchFindAction2),Object(editorExtensions.f)(findController_NextSelectionMatchFindAction),Object(editorExtensions.f)(findController_PreviousSelectionMatchFindAction),Object(editorExtensions.f)(findController_StartFindReplaceAction);var FindCommand=editorExtensions.c.bindToContribution(findController_CommonFindController.get);Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.CloseFindWidgetCommand,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function(x){return x.closeFindWidget()},kbOpts:{weight:100+5,kbExpr:editorContextKeys.a.focus,primary:9,secondary:[1033]}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:function(x){return x.toggleCaseSensitive()},kbOpts:{weight:100+5,kbExpr:editorContextKeys.a.focus,primary:ToggleCaseSensitiveKeybinding.primary,mac:ToggleCaseSensitiveKeybinding.mac,win:ToggleCaseSensitiveKeybinding.win,linux:ToggleCaseSensitiveKeybinding.linux}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:function(x){return x.toggleWholeWords()},kbOpts:{weight:100+5,kbExpr:editorContextKeys.a.focus,primary:ToggleWholeWordKeybinding.primary,mac:ToggleWholeWordKeybinding.mac,win:ToggleWholeWordKeybinding.win,linux:ToggleWholeWordKeybinding.linux}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:function(x){return x.toggleRegex()},kbOpts:{weight:100+5,kbExpr:editorContextKeys.a.focus,primary:ToggleRegexKeybinding.primary,mac:ToggleRegexKeybinding.mac,win:ToggleRegexKeybinding.win,linux:ToggleRegexKeybinding.linux}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:function(x){return x.toggleSearchScope()},kbOpts:{weight:100+5,kbExpr:editorContextKeys.a.focus,primary:ToggleSearchScopeKeybinding.primary,mac:ToggleSearchScopeKeybinding.mac,win:ToggleSearchScopeKeybinding.win,linux:ToggleSearchScopeKeybinding.linux}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.ReplaceOneAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function(x){return x.replace()},kbOpts:{weight:100+5,kbExpr:editorContextKeys.a.focus,primary:3094}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.ReplaceOneAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function(x){return x.replace()},kbOpts:{weight:100+5,kbExpr:contextkey.a.and(editorContextKeys.a.focus,CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.ReplaceAllAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function(x){return x.replaceAll()},kbOpts:{weight:100+5,kbExpr:editorContextKeys.a.focus,primary:2563}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.ReplaceAllAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function(x){return x.replaceAll()},kbOpts:{weight:100+5,kbExpr:contextkey.a.and(editorContextKeys.a.focus,CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),Object(editorExtensions.g)(new FindCommand({id:FIND_IDS.SelectAllMatchesAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function(x){return x.selectAllMatches()},kbOpts:{weight:100+5,kbExpr:editorContextKeys.a.focus,primary:515}}))},2263:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MarkerController",function(){return gotoError_MarkerController}),__webpack_require__.d(__webpack_exports__,"NextMarkerAction",function(){return gotoError_NextMarkerAction});var nls=__webpack_require__(2069),common_event=__webpack_require__(2106),lifecycle=__webpack_require__(2033),contextkey=__webpack_require__(2238),common_markers=__webpack_require__(3193),core_range=__webpack_require__(2056),editorExtensions=__webpack_require__(2099),themeService=__webpack_require__(2235),editorContextKeys=__webpack_require__(2632),gotoErrorWidget=__webpack_require__(5760),dom=__webpack_require__(2124),colorRegistry=__webpack_require__(2623),color=__webpack_require__(2663),scrollableElement=__webpack_require__(3105),labels=__webpack_require__(3502),arrays=__webpack_require__(2389),peekView=__webpack_require__(3412),resources=__webpack_require__(2785),common_severity=__webpack_require__(3372),severityIcon_SeverityIcon;(function(SeverityIcon){function className(severity){switch(severity){case common_severity.a.Ignore:return"severity-ignore codicon-info";case common_severity.a.Info:return"codicon-info";case common_severity.a.Warning:return"codicon-warning";case common_severity.a.Error:return"codicon-error"}return""}SeverityIcon.className=className})(severityIcon_SeverityIcon||(severityIcon_SeverityIcon={})),Object(themeService.e)(function(theme,collector){var errorIconForeground=theme.getColor(colorRegistry.Pb);errorIconForeground&&collector.addRule(`
			.monaco-editor .zone-widget .codicon-error,
			.monaco-workbench .markers-panel .marker-icon.codicon-error,
			.monaco-workbench .extensions-viewlet > .extensions .codicon-error,
			.monaco-workbench .dialog-box .dialog-message-row .codicon-error {
				color: `+errorIconForeground+`;
			}
		`);var warningIconForeground=theme.getColor(colorRegistry.Rb);errorIconForeground&&collector.addRule(`
			.monaco-editor .zone-widget .codicon-warning,
			.monaco-workbench .markers-panel .marker-icon.codicon-warning,
			.monaco-workbench .extensions-viewlet > .extensions .codicon-warning,
			.monaco-workbench .extension-editor .codicon-warning,
			.monaco-workbench .dialog-box .dialog-message-row .codicon-warning {
				color: `+warningIconForeground+`;
			}
		`);var infoIconForeground=theme.getColor(colorRegistry.Qb);errorIconForeground&&collector.addRule(`
			.monaco-editor .zone-widget .codicon-info,
			.monaco-workbench .markers-panel .marker-icon.codicon-info,
			.monaco-workbench .extensions-viewlet > .extensions .codicon-info,
			.monaco-workbench .extension-editor .codicon-info,
			.monaco-workbench .dialog-box .dialog-message-row .codicon-info {
				color: `+infoIconForeground+`;
			}
		`)});var __extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),gotoErrorWidget_MessageWidget=function(){function MessageWidget(parent,editor,onRelatedInformation){var _this=this;this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new lifecycle.b,this._editor=editor;var domNode=document.createElement("div");domNode.className="descriptioncontainer",domNode.setAttribute("aria-live","assertive"),domNode.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),dom.f(this._messageBlock,"message"),domNode.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),domNode.appendChild(this._relatedBlock),this._disposables.add(dom.o(this._relatedBlock,"click",function(event){event.preventDefault();var related=_this._relatedDiagnostics.get(event.target);related&&onRelatedInformation(related)})),this._scrollable=new scrollableElement.b(domNode,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),parent.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(function(e){domNode.style.left="-"+e.scrollLeft+"px",domNode.style.top="-"+e.scrollTop+"px"})),this._disposables.add(this._scrollable)}return MessageWidget.prototype.dispose=function(){Object(lifecycle.f)(this._disposables)},MessageWidget.prototype.update=function(_a){var source=_a.source,message=_a.message,relatedInformation=_a.relatedInformation,code=_a.code,lines=message.split(/\r\n|\r|\n/g);this._lines=lines.length,this._longestLineLength=0;for(var _i=0,lines_1=lines;_i<lines_1.length;_i++){var line=lines_1[_i];this._longestLineLength=Math.max(line.length,this._longestLineLength)}dom.t(this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var lastLineElement=this._messageBlock,_b=0,lines_2=lines;_b<lines_2.length;_b++){var line=lines_2[_b];lastLineElement=document.createElement("div"),lastLineElement.innerText=line,line===""&&(lastLineElement.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(lastLineElement)}if(source||code){var detailsElement=document.createElement("span");if(dom.f(detailsElement,"details"),lastLineElement.appendChild(detailsElement),source){var sourceElement=document.createElement("span");sourceElement.innerText=source,dom.f(sourceElement,"source"),detailsElement.appendChild(sourceElement)}if(code){var codeElement=document.createElement("span");codeElement.innerText="("+code+")",dom.f(codeElement,"code"),detailsElement.appendChild(codeElement)}}if(dom.t(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(arrays.q)(relatedInformation)){var relatedInformationNode=this._relatedBlock.appendChild(document.createElement("div"));relatedInformationNode.style.paddingTop=Math.floor(this._editor.getOption(47)*.66)+"px",this._lines+=1;for(var _c=0,relatedInformation_1=relatedInformation;_c<relatedInformation_1.length;_c++){var related=relatedInformation_1[_c],container=document.createElement("div"),relatedResource=document.createElement("a");dom.f(relatedResource,"filename"),relatedResource.innerHTML=Object(labels.a)(related.resource)+"("+related.startLineNumber+", "+related.startColumn+"): ",relatedResource.title=Object(labels.b)(related.resource,void 0),this._relatedDiagnostics.set(relatedResource,related);var relatedMessage=document.createElement("span");relatedMessage.innerText=related.message,container.appendChild(relatedResource),container.appendChild(relatedMessage),this._lines+=1,relatedInformationNode.appendChild(container)}}var fontInfo=this._editor.getOption(32),scrollWidth=Math.ceil(fontInfo.typicalFullwidthCharacterWidth*this._longestLineLength*.75),scrollHeight=fontInfo.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth,scrollHeight})},MessageWidget.prototype.layout=function(height,width){this._scrollable.getDomNode().style.height=height+"px",this._scrollable.getDomNode().style.width=width+"px",this._scrollable.setScrollDimensions({width,height})},MessageWidget.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},MessageWidget}(),gotoErrorWidget_MarkerNavigationWidget=function(_super){__extends(MarkerNavigationWidget,_super);function MarkerNavigationWidget(editor,actions,_themeService){var _this=_super.call(this,editor,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return _this.actions=actions,_this._themeService=_themeService,_this._callOnDispose=new lifecycle.b,_this._onDidSelectRelatedInformation=new common_event.a,_this.onDidSelectRelatedInformation=_this._onDidSelectRelatedInformation.event,_this._severity=common_markers.c.Warning,_this._backgroundColor=color.a.white,_this._applyTheme(_themeService.getTheme()),_this._callOnDispose.add(_themeService.onThemeChange(_this._applyTheme.bind(_this))),_this.create(),_this}return MarkerNavigationWidget.prototype._applyTheme=function(theme){this._backgroundColor=theme.getColor(editorMarkerNavigationBackground);var colorId=editorMarkerNavigationError;this._severity===common_markers.c.Warning?colorId=editorMarkerNavigationWarning:this._severity===common_markers.c.Info&&(colorId=editorMarkerNavigationInfo);var frameColor=theme.getColor(colorId);this.style({arrowColor:frameColor,frameColor,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:theme.getColor(peekView.q),secondaryHeadingColor:theme.getColor(peekView.r)})},MarkerNavigationWidget.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),_super.prototype._applyStyles.call(this)},MarkerNavigationWidget.prototype.dispose=function(){this._callOnDispose.dispose(),_super.prototype.dispose.call(this)},MarkerNavigationWidget.prototype._fillHead=function(container){_super.prototype._fillHead.call(this,container),this._actionbarWidget.push(this.actions,{label:!1,icon:!0})},MarkerNavigationWidget.prototype._fillTitleIcon=function(container){this._icon=dom.q(container,dom.a(""))},MarkerNavigationWidget.prototype._getActionBarOptions=function(){return{orientation:1}},MarkerNavigationWidget.prototype._fillBody=function(container){var _this=this;this._parentContainer=container,dom.f(container,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),container.appendChild(this._container),this._message=new gotoErrorWidget_MessageWidget(this._container,this.editor,function(related){return _this._onDidSelectRelatedInformation.fire(related)}),this._disposables.add(this._message)},MarkerNavigationWidget.prototype.show=function(where,heightInLines){throw new Error("call showAtMarker")},MarkerNavigationWidget.prototype.showAtMarker=function(marker,markerIdx,markerCount){this._container.classList.remove("stale"),this._message.update(marker),this._severity=marker.severity,this._applyTheme(this._themeService.getTheme());var range=core_range.a.lift(marker),editorPosition=this.editor.getPosition(),position=editorPosition&&range.containsPosition(editorPosition)?editorPosition:range.getStartPosition();_super.prototype.show.call(this,position,this.computeRequiredHeight());var model=this.editor.getModel();if(model){var detail=markerCount>1?nls.a("problems","{0} of {1} problems",markerIdx,markerCount):nls.a("change","{0} of {1} problem",markerIdx,markerCount);this.setTitle(Object(resources.b)(model.uri),detail)}this._icon.className="codicon "+severityIcon_SeverityIcon.className(common_markers.c.toSeverity(this._severity)),this.editor.revealPositionInCenter(position,0)},MarkerNavigationWidget.prototype.updateMarker=function(marker){this._container.classList.remove("stale"),this._message.update(marker)},MarkerNavigationWidget.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},MarkerNavigationWidget.prototype._doLayoutBody=function(heightInPixel,widthInPixel){_super.prototype._doLayoutBody.call(this,heightInPixel,widthInPixel),this._heightInPixel=heightInPixel,this._message.layout(heightInPixel,widthInPixel),this._container.style.height=heightInPixel+"px"},MarkerNavigationWidget.prototype._onWidth=function(widthInPixel){this._message.layout(this._heightInPixel,widthInPixel)},MarkerNavigationWidget.prototype._relayout=function(){_super.prototype._relayout.call(this,this.computeRequiredHeight())},MarkerNavigationWidget.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},MarkerNavigationWidget}(peekView.c),errorDefault=Object(colorRegistry.Kb)(colorRegistry.q,colorRegistry.p),warningDefault=Object(colorRegistry.Kb)(colorRegistry.P,colorRegistry.O),infoDefault=Object(colorRegistry.Kb)(colorRegistry.H,colorRegistry.G),editorMarkerNavigationError=Object(colorRegistry.Tb)("editorMarkerNavigationError.background",{dark:errorDefault,light:errorDefault,hc:errorDefault},nls.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),editorMarkerNavigationWarning=Object(colorRegistry.Tb)("editorMarkerNavigationWarning.background",{dark:warningDefault,light:warningDefault,hc:warningDefault},nls.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),editorMarkerNavigationInfo=Object(colorRegistry.Tb)("editorMarkerNavigationInfo.background",{dark:infoDefault,light:infoDefault,hc:infoDefault},nls.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),editorMarkerNavigationBackground=Object(colorRegistry.Tb)("editorMarkerNavigation.background",{dark:"#2D2D30",light:color.a.white,hc:"#0C141F"},nls.a("editorMarkerNavigationBackground","Editor marker navigation widget background."));Object(themeService.e)(function(theme,collector){var link=theme.getColor(colorRegistry.ec);link&&collector.addRule(".monaco-editor .marker-widget a { color: "+link+"; }")});var strings=__webpack_require__(2123),codeEditorService=__webpack_require__(2732),errors=__webpack_require__(2176),common_actions=__webpack_require__(3164),base_common_actions=__webpack_require__(3113),keybinding=__webpack_require__(2760),gotoError_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},gotoError_MarkerModel=function(){function MarkerModel(editor,markers){var _this=this;this._toUnbind=new lifecycle.b,this._editor=editor,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new common_event.a,this._onMarkerSetChanged=new common_event.a,this.setMarkers(markers),this._toUnbind.add(this._editor.onDidDispose(function(){return _this.dispose()})),this._toUnbind.add(this._editor.onDidChangeCursorPosition(function(){_this._ignoreSelectionChange||_this.currentMarker&&_this._editor.getPosition()&&core_range.a.containsPosition(_this.currentMarker,_this._editor.getPosition())||(_this._nextIdx=-1)}))}return Object.defineProperty(MarkerModel.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(MarkerModel.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),MarkerModel.prototype.setMarkers=function(markers){var oldMarker=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=markers||[],this._markers.sort(gotoError_MarkerNavigationAction.compareMarker),oldMarker?this._nextIdx=Math.max(-1,Object(arrays.c)(this._markers,oldMarker,gotoError_MarkerNavigationAction.compareMarker)):this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},MarkerModel.prototype.withoutWatchingEditorPosition=function(callback){this._ignoreSelectionChange=!0;try{callback()}finally{this._ignoreSelectionChange=!1}},MarkerModel.prototype._initIdx=function(fwd){for(var found=!1,position=this._editor.getPosition(),i=0;i<this._markers.length;i++){var range=core_range.a.lift(this._markers[i]);if(range.isEmpty()&&this._editor.getModel()){var word=this._editor.getModel().getWordAtPosition(range.getStartPosition());word&&(range=new core_range.a(range.startLineNumber,word.startColumn,range.startLineNumber,word.endColumn))}if(position&&(range.containsPosition(position)||position.isBeforeOrEqual(range.getStartPosition()))){this._nextIdx=i,found=!0;break}}found||(this._nextIdx=fwd?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(MarkerModel.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(marker){var idx=this._nextIdx;this._nextIdx=-1,marker&&(this._nextIdx=this.indexOf(marker)),this._nextIdx!==idx&&this._onCurrentMarkerChanged.fire(marker)},enumerable:!0,configurable:!0}),MarkerModel.prototype.move=function(fwd,inCircles){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!inCircles;var oldIdx=this._nextIdx,atEdge=!1;if(this._nextIdx===-1?this._initIdx(fwd):fwd?inCircles||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:atEdge=!0:fwd||(inCircles||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:atEdge=!0),oldIdx!==this._nextIdx){var marker=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(marker)}return atEdge},MarkerModel.prototype.canNavigate=function(){return this._markers.length>0},MarkerModel.prototype.findMarkerAtPosition=function(pos){return Object(arrays.h)(this._markers,function(marker){return core_range.a.containsPosition(marker,pos)})},Object.defineProperty(MarkerModel.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),MarkerModel.prototype.indexOf=function(marker){return 1+this._markers.indexOf(marker)},MarkerModel.prototype.dispose=function(){this._toUnbind.dispose()},MarkerModel}(),gotoError_MarkerController=function(){function MarkerController(editor,_markerService,_contextKeyService,_themeService,_editorService,_keybindingService){this._markerService=_markerService,this._contextKeyService=_contextKeyService,this._themeService=_themeService,this._editorService=_editorService,this._keybindingService=_keybindingService,this._model=null,this._widget=null,this._disposeOnClose=new lifecycle.b,this._editor=editor,this._widgetVisible=CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService)}return MarkerController.get=function(editor){return editor.getContribution(MarkerController.ID)},MarkerController.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},MarkerController.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},MarkerController.prototype.getOrCreateModel=function(){var _this=this;if(this._model)return this._model;var markers=this._getMarkers();this._model=new gotoError_MarkerModel(this._editor,markers),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var prevMarkerKeybinding=this._keybindingService.lookupKeybinding(gotoError_PrevMarkerAction.ID),nextMarkerKeybinding=this._keybindingService.lookupKeybinding(gotoError_NextMarkerAction.ID),actions=[new base_common_actions.a(gotoError_PrevMarkerAction.ID,gotoError_PrevMarkerAction.LABEL+(prevMarkerKeybinding?" ("+prevMarkerKeybinding.getLabel()+")":""),"show-previous-problem codicon-chevron-up",this._model.canNavigate(),function(){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){return this._model&&this._model.move(!1,!0),[2]})})}),new base_common_actions.a(gotoError_NextMarkerAction.ID,gotoError_NextMarkerAction.LABEL+(nextMarkerKeybinding?" ("+nextMarkerKeybinding.getLabel()+")":""),"show-next-problem codicon-chevron-down",this._model.canNavigate(),function(){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){return this._model&&this._model.move(!0,!0),[2]})})})];this._widget=new gotoErrorWidget_MarkerNavigationWidget(this._editor,actions,this._themeService),this._widgetVisible.set(!0),this._widget.onDidClose(function(){return _this.closeMarkersNavigation()},this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var _i=0,actions_1=actions;_i<actions_1.length;_i++){var action=actions_1[_i];this._disposeOnClose.add(action)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation(function(related){_this._editorService.openCodeEditor({resource:related.resource,options:{pinned:!0,revealIfOpened:!0,selection:core_range.a.lift(related).collapseToStart()}},_this._editor).then(void 0,errors.e),_this.closeMarkersNavigation(!1)})),this._disposeOnClose.add(this._editor.onDidChangeModel(function(){return _this._cleanUp()})),this._disposeOnClose.add(this._model.onCurrentMarkerChanged(function(marker){!marker||!_this._model?_this._cleanUp():_this._model.withoutWatchingEditorPosition(function(){!_this._widget||!_this._model||_this._widget.showAtMarker(marker,_this._model.indexOf(marker),_this._model.total)})})),this._disposeOnClose.add(this._model.onMarkerSetChanged(function(){if(!(!_this._widget||!_this._widget.position||!_this._model)){var marker=_this._model.findMarkerAtPosition(_this._widget.position);marker?_this._widget.updateMarker(marker):_this._widget.showStale()}})),this._model},MarkerController.prototype.closeMarkersNavigation=function(focusEditor){focusEditor===void 0&&(focusEditor=!0),this._cleanUp(),focusEditor&&this._editor.focus()},MarkerController.prototype.show=function(marker){var model=this.getOrCreateModel();model.currentMarker=marker},MarkerController.prototype._onMarkerChanged=function(changedResources){var editorModel=this._editor.getModel();editorModel&&this._model&&changedResources.some(function(r){return Object(resources.e)(editorModel.uri,r)})&&this._model.setMarkers(this._getMarkers())},MarkerController.prototype._getMarkers=function(){var model=this._editor.getModel();return model?this._markerService.read({resource:model.uri,severities:common_markers.c.Error|common_markers.c.Warning|common_markers.c.Info}):[]},MarkerController.ID="editor.contrib.markerController",MarkerController=__decorate([__param(1,common_markers.b),__param(2,contextkey.c),__param(3,themeService.c),__param(4,codeEditorService.a),__param(5,keybinding.a)],MarkerController),MarkerController}(),gotoError_MarkerNavigationAction=function(_super){gotoError_extends(MarkerNavigationAction,_super);function MarkerNavigationAction(next,multiFile,opts){var _this=_super.call(this,opts)||this;return _this._isNext=next,_this._multiFile=multiFile,_this}return MarkerNavigationAction.prototype.run=function(accessor,editor){var _this=this,markerService=accessor.get(common_markers.b),editorService=accessor.get(codeEditorService.a),controller=gotoError_MarkerController.get(editor);if(!controller)return Promise.resolve(void 0);var model=controller.getOrCreateModel(),atEdge=model.move(this._isNext,!this._multiFile);if(!atEdge||!this._multiFile)return Promise.resolve(void 0);var markers=markerService.read({severities:common_markers.c.Error|common_markers.c.Warning|common_markers.c.Info}).sort(MarkerNavigationAction.compareMarker);if(markers.length===0)return Promise.resolve(void 0);var editorModel=editor.getModel();if(!editorModel)return Promise.resolve(void 0);var oldMarker=model.currentMarker||{resource:editorModel.uri,severity:common_markers.c.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},idx=Object(arrays.c)(markers,oldMarker,MarkerNavigationAction.compareMarker);idx<0?(idx=~idx,idx%=markers.length):this._isNext?idx=(idx+1)%markers.length:idx=(idx+markers.length-1)%markers.length;var newMarker=markers[idx];return Object(resources.e)(newMarker.resource,editorModel.uri)?(model.move(this._isNext,!0),Promise.resolve(void 0)):(controller.closeMarkersNavigation(),editorService.openCodeEditor({resource:newMarker.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:newMarker}},editor).then(function(editor2){if(editor2)return editor2.getAction(_this.id).run()}))},MarkerNavigationAction.compareMarker=function(a,b){var res=Object(strings.e)(a.resource.toString(),b.resource.toString());return res===0&&(res=common_markers.c.compare(a.severity,b.severity)),res===0&&(res=core_range.a.compareRangesUsingStarts(a,b)),res},MarkerNavigationAction}(editorExtensions.b),gotoError_NextMarkerAction=function(_super){gotoError_extends(NextMarkerAction,_super);function NextMarkerAction(){return _super.call(this,!0,!1,{id:NextMarkerAction.ID,label:NextMarkerAction.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:578,weight:100}})||this}return NextMarkerAction.ID="editor.action.marker.next",NextMarkerAction.LABEL=nls.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),NextMarkerAction}(gotoError_MarkerNavigationAction),gotoError_PrevMarkerAction=function(_super){gotoError_extends(PrevMarkerAction,_super);function PrevMarkerAction(){return _super.call(this,!1,!1,{id:PrevMarkerAction.ID,label:PrevMarkerAction.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1602,weight:100}})||this}return PrevMarkerAction.ID="editor.action.marker.prev",PrevMarkerAction.LABEL=nls.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),PrevMarkerAction}(gotoError_MarkerNavigationAction),gotoError_NextMarkerInFilesAction=function(_super){gotoError_extends(NextMarkerInFilesAction,_super);function NextMarkerInFilesAction(){return _super.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:nls.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:66,weight:100}})||this}return NextMarkerInFilesAction}(gotoError_MarkerNavigationAction),gotoError_PrevMarkerInFilesAction=function(_super){gotoError_extends(PrevMarkerInFilesAction,_super);function PrevMarkerInFilesAction(){return _super.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:nls.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:1090,weight:100}})||this}return PrevMarkerInFilesAction}(gotoError_MarkerNavigationAction);Object(editorExtensions.h)(gotoError_MarkerController.ID,gotoError_MarkerController),Object(editorExtensions.f)(gotoError_NextMarkerAction),Object(editorExtensions.f)(gotoError_PrevMarkerAction),Object(editorExtensions.f)(gotoError_NextMarkerInFilesAction),Object(editorExtensions.f)(gotoError_PrevMarkerInFilesAction);var CONTEXT_MARKERS_NAVIGATION_VISIBLE=new contextkey.d("markersNavigationVisible",!1),MarkerCommand=editorExtensions.c.bindToContribution(gotoError_MarkerController.get);Object(editorExtensions.g)(new MarkerCommand({id:"closeMarkersNavigation",precondition:CONTEXT_MARKERS_NAVIGATION_VISIBLE,handler:function(x){return x.closeMarkersNavigation()},kbOpts:{weight:100+50,kbExpr:editorContextKeys.a.focus,primary:9,secondary:[1033]}})),common_actions.c.appendMenuItem(17,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:nls.a({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1}),common_actions.c.appendMenuItem(17,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:nls.a({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2})},2264:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefinitionAction",function(){return goToCommands_DefinitionAction});var aria=__webpack_require__(2815),common_async=__webpack_require__(2237),keyCodes=__webpack_require__(2768),platform=__webpack_require__(2236),editorBrowser=__webpack_require__(3376),editorExtensions=__webpack_require__(2099),services_codeEditorService=__webpack_require__(2732),core_position=__webpack_require__(2233),core_range=__webpack_require__(2056),editorContextKeys=__webpack_require__(2632),modes=__webpack_require__(2240),messageController=__webpack_require__(3371),peekView=__webpack_require__(3412),referencesController=__webpack_require__(5015),referencesModel=__webpack_require__(3380),nls=__webpack_require__(2069),actions=__webpack_require__(3164),contextkey=__webpack_require__(2238),notification=__webpack_require__(2761),progress=__webpack_require__(3194),goToSymbol=__webpack_require__(3881),commands=__webpack_require__(2733),core_editorState=__webpack_require__(3177),instantiation=__webpack_require__(2232),extensions=__webpack_require__(3237),keybindingsRegistry=__webpack_require__(3234),lifecycle=__webpack_require__(2033),common_event=__webpack_require__(2106),keybinding=__webpack_require__(2760),resources=__webpack_require__(2785),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},ctxHasSymbols=new contextkey.d("hasSymbols",!1),ISymbolNavigationService=Object(instantiation.c)("ISymbolNavigationService"),symbolNavigation_SymbolNavigationService=function(){function SymbolNavigationService(contextKeyService,_editorService,_notificationService,_keybindingService){this._editorService=_editorService,this._notificationService=_notificationService,this._keybindingService=_keybindingService,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=ctxHasSymbols.bindTo(contextKeyService)}return SymbolNavigationService.prototype.reset=function(){this._ctxHasSymbols.reset(),Object(lifecycle.f)(this._currentState),Object(lifecycle.f)(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},SymbolNavigationService.prototype.put=function(anchor){var _this=this,refModel=anchor.parent.parent;if(refModel.references.length<=1){this.reset();return}this._currentModel=refModel,this._currentIdx=refModel.references.indexOf(anchor),this._ctxHasSymbols.set(!0),this._showMessage();var editorState=new symbolNavigation_EditorState(this._editorService),listener=editorState.onDidChange(function(_){if(!_this._ignoreEditorChange){var editor=_this._editorService.getActiveCodeEditor();if(editor){var model=editor.getModel(),position=editor.getPosition();if(!(!model||!position)){for(var seenUri=!1,seenPosition=!1,_i=0,_a=refModel.references;_i<_a.length;_i++){var reference=_a[_i];if(Object(resources.e)(reference.uri,model.uri))seenUri=!0,seenPosition=seenPosition||core_range.a.containsPosition(reference.range,position);else if(seenUri)break}(!seenUri||!seenPosition)&&_this.reset()}}}});this._currentState=Object(lifecycle.e)(editorState,listener)},SymbolNavigationService.prototype.revealNext=function(source){var _this=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var reference=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:reference.uri,options:{selection:core_range.a.collapseToStart(reference.range),revealInCenterIfOutsideViewport:!0}},source).finally(function(){_this._ignoreEditorChange=!1})},SymbolNavigationService.prototype._showMessage=function(){Object(lifecycle.f)(this._currentMessage);var kb=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),message=kb?Object(nls.a)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,kb.getLabel()):Object(nls.a)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(message)},SymbolNavigationService=__decorate([__param(0,contextkey.c),__param(1,services_codeEditorService.a),__param(2,notification.a),__param(3,keybinding.a)],SymbolNavigationService),SymbolNavigationService}();Object(extensions.b)(ISymbolNavigationService,symbolNavigation_SymbolNavigationService,!0),Object(editorExtensions.g)(new(function(_super){__extends(class_1,_super);function class_1(){return _super.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:ctxHasSymbols,kbOpts:{weight:100,primary:70}})||this}return class_1.prototype.runEditorCommand=function(accessor,editor){return accessor.get(ISymbolNavigationService).revealNext(editor)},class_1}(editorExtensions.c))),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:ctxHasSymbols,primary:9,handler:function(accessor){accessor.get(ISymbolNavigationService).reset()}});var symbolNavigation_EditorState=function(){function EditorState(editorService){this._listener=new Map,this._disposables=new lifecycle.b,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor,this)),editorService.listCodeEditors().forEach(this._onDidAddEditor,this)}return EditorState.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(lifecycle.f)},EditorState.prototype._onDidAddEditor=function(editor){var _this=this;this._listener.set(editor,Object(lifecycle.e)(editor.onDidChangeCursorPosition(function(_){return _this._onDidChange.fire({editor})}),editor.onDidChangeModelContent(function(_){return _this._onDidChange.fire({editor})})))},EditorState.prototype._onDidRemoveEditor=function(editor){Object(lifecycle.f)(this._listener.get(editor)),this._listener.delete(editor)},EditorState=__decorate([__param(0,services_codeEditorService.a)],EditorState),EditorState}(),browser=__webpack_require__(2642),uri=__webpack_require__(2640),types=__webpack_require__(2631),goToCommands_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},goToCommands_a,goToCommands_b,_c,_d,_e,_f,_g,_h;actions.c.appendMenuItem(7,{submenu:8,title:nls.a("peek.submenu","Peek"),group:"navigation",order:100});var goToCommands_SymbolNavigationAction=function(_super){goToCommands_extends(SymbolNavigationAction,_super);function SymbolNavigationAction(configuration,opts){var _this=_super.call(this,opts)||this;return _this._configuration=configuration,_this}return SymbolNavigationAction.prototype.run=function(accessor,editor){var _this=this;if(!editor.hasModel())return Promise.resolve(void 0);var notificationService=accessor.get(notification.a),editorService=accessor.get(services_codeEditorService.a),progressService=accessor.get(progress.a),symbolNavService=accessor.get(ISymbolNavigationService),model=editor.getModel(),pos=editor.getPosition(),cts=new core_editorState.b(editor,5),promise=Object(common_async.j)(this._getLocationModel(model,pos,cts.token),cts.token).then(function(references){return __awaiter(_this,void 0,void 0,function(){var altAction,altActionId,referenceCount,info;return __generator(this,function(_a){if(!references||cts.token.isCancellationRequested)return[2];if(Object(aria.a)(references.ariaMessage),references.referenceAt(model.uri,pos)&&(altActionId=this._getAlternativeCommand(editor),altActionId!==this.id&&(altAction=editor.getAction(altActionId))),referenceCount=references.references.length,referenceCount===0)this._configuration.muteMessage||(info=model.getWordAtPosition(pos),messageController.a.get(editor).showMessage(this._getNoResultFoundMessage(info),pos));else if(referenceCount===1&&altAction)altAction.run();else return[2,this._onResult(editorService,symbolNavService,editor,references)];return[2]})})},function(err){notificationService.error(err)}).finally(function(){cts.dispose()});return progressService.showWhile(promise,250),promise},SymbolNavigationAction.prototype._onResult=function(editorService,symbolNavService,editor,model){return __awaiter(this,void 0,void 0,function(){var gotoLocation,next,peek,targetEditor;return __generator(this,function(_a){switch(_a.label){case 0:return gotoLocation=this._getGoToPreference(editor),this._configuration.openInPeek||gotoLocation==="peek"&&model.references.length>1?(this._openInPeek(editor,model),[3,3]):[3,1];case 1:return next=model.firstReference(),peek=model.references.length>1&&gotoLocation==="gotoAndPeek",[4,this._openReference(editor,editorService,next,this._configuration.openToSide,!peek)];case 2:targetEditor=_a.sent(),peek&&targetEditor?this._openInPeek(targetEditor,model):model.dispose(),gotoLocation==="goto"&&symbolNavService.put(next),_a.label=3;case 3:return[2]}})})},SymbolNavigationAction.prototype._openReference=function(editor,editorService,reference,sideBySide,highlight){return __awaiter(this,void 0,void 0,function(){var range,targetEditor,modelNow_1,ids_1;return __generator(this,function(_a){switch(_a.label){case 0:return range=void 0,Object(modes.E)(reference)&&(range=reference.targetSelectionRange),range||(range=reference.range),[4,editorService.openCodeEditor({resource:reference.uri,options:{selection:core_range.a.collapseToStart(range),revealInCenterIfOutsideViewport:!0}},editor,sideBySide)];case 1:return targetEditor=_a.sent(),targetEditor?(highlight&&(modelNow_1=targetEditor.getModel(),ids_1=targetEditor.deltaDecorations([],[{range,options:{className:"symbolHighlight"}}]),setTimeout(function(){targetEditor.getModel()===modelNow_1&&targetEditor.deltaDecorations(ids_1,[])},350)),[2,targetEditor]):[2,void 0]}})})},SymbolNavigationAction.prototype._openInPeek=function(target,model){var controller=referencesController.a.get(target);controller&&target.hasModel()?controller.toggleWidget(target.getSelection(),Object(common_async.f)(function(_){return Promise.resolve(model)}),this._configuration.openInPeek):model.dispose()},SymbolNavigationAction}(editorExtensions.b),goToCommands_DefinitionAction=function(_super){goToCommands_extends(DefinitionAction,_super);function DefinitionAction(){return _super!==null&&_super.apply(this,arguments)||this}return DefinitionAction.prototype._getLocationModel=function(model,position,token){return __awaiter(this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return _a=referencesModel.c.bind,[4,Object(goToSymbol.b)(model,position,token)];case 1:return[2,new(_a.apply(referencesModel.c,[void 0,_b.sent(),nls.a("def.title","Definitions")]))]}})})},DefinitionAction.prototype._getNoResultFoundMessage=function(info){return info&&info.word?nls.a("noResultWord","No definition found for '{0}'",info.word):nls.a("generic.noResults","No definition found")},DefinitionAction.prototype._getAlternativeCommand=function(editor){return editor.getOption(39).alternativeDefinitionCommand},DefinitionAction.prototype._getGoToPreference=function(editor){return editor.getOption(39).multipleDefinitions},DefinitionAction}(goToCommands_SymbolNavigationAction),goToDefinitionKb=platform.g&&!browser.l?2118:70;Object(editorExtensions.f)((goToCommands_a=function(_super){goToCommands_extends(GoToDefinitionAction,_super);function GoToDefinitionAction(){var _this=_super.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToDefinitionAction.id,label:nls.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:contextkey.a.and(editorContextKeys.a.hasDefinitionProvider,editorContextKeys.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:goToDefinitionKb,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:17,group:"4_symbol_nav",order:2,title:nls.a({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}})||this;return commands.a.registerCommandAlias("editor.action.goToDeclaration",GoToDefinitionAction.id),_this}return GoToDefinitionAction}(goToCommands_DefinitionAction),goToCommands_a.id="editor.action.revealDefinition",goToCommands_a)),Object(editorExtensions.f)((goToCommands_b=function(_super){goToCommands_extends(OpenDefinitionToSideAction,_super);function OpenDefinitionToSideAction(){var _this=_super.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:OpenDefinitionToSideAction.id,label:nls.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:contextkey.a.and(editorContextKeys.a.hasDefinitionProvider,editorContextKeys.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,goToDefinitionKb),weight:100}})||this;return commands.a.registerCommandAlias("editor.action.openDeclarationToTheSide",OpenDefinitionToSideAction.id),_this}return OpenDefinitionToSideAction}(goToCommands_DefinitionAction),goToCommands_b.id="editor.action.revealDefinitionAside",goToCommands_b)),Object(editorExtensions.f)((_c=function(_super){goToCommands_extends(PeekDefinitionAction,_super);function PeekDefinitionAction(){var _this=_super.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekDefinitionAction.id,label:nls.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:contextkey.a.and(editorContextKeys.a.hasDefinitionProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:8,group:"peek",order:2}})||this;return commands.a.registerCommandAlias("editor.action.previewDeclaration",PeekDefinitionAction.id),_this}return PeekDefinitionAction}(goToCommands_DefinitionAction),_c.id="editor.action.peekDefinition",_c));var goToCommands_DeclarationAction=function(_super){goToCommands_extends(DeclarationAction,_super);function DeclarationAction(){return _super!==null&&_super.apply(this,arguments)||this}return DeclarationAction.prototype._getLocationModel=function(model,position,token){return __awaiter(this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return _a=referencesModel.c.bind,[4,Object(goToSymbol.a)(model,position,token)];case 1:return[2,new(_a.apply(referencesModel.c,[void 0,_b.sent(),nls.a("decl.title","Declarations")]))]}})})},DeclarationAction.prototype._getNoResultFoundMessage=function(info){return info&&info.word?nls.a("decl.noResultWord","No declaration found for '{0}'",info.word):nls.a("decl.generic.noResults","No declaration found")},DeclarationAction.prototype._getAlternativeCommand=function(editor){return editor.getOption(39).alternativeDeclarationCommand},DeclarationAction.prototype._getGoToPreference=function(editor){return editor.getOption(39).multipleDeclarations},DeclarationAction}(goToCommands_SymbolNavigationAction);Object(editorExtensions.f)((_d=function(_super){goToCommands_extends(GoToDeclarationAction,_super);function GoToDeclarationAction(){return _super.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToDeclarationAction.id,label:nls.a("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:contextkey.a.and(editorContextKeys.a.hasDeclarationProvider,editorContextKeys.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:17,group:"4_symbol_nav",order:3,title:nls.a({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})||this}return GoToDeclarationAction.prototype._getNoResultFoundMessage=function(info){return info&&info.word?nls.a("decl.noResultWord","No declaration found for '{0}'",info.word):nls.a("decl.generic.noResults","No declaration found")},GoToDeclarationAction}(goToCommands_DeclarationAction),_d.id="editor.action.revealDeclaration",_d)),Object(editorExtensions.f)(function(_super){goToCommands_extends(PeekDeclarationAction,_super);function PeekDeclarationAction(){return _super.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:nls.a("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:contextkey.a.and(editorContextKeys.a.hasDeclarationProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:3}})||this}return PeekDeclarationAction}(goToCommands_DeclarationAction));var goToCommands_TypeDefinitionAction=function(_super){goToCommands_extends(TypeDefinitionAction,_super);function TypeDefinitionAction(){return _super!==null&&_super.apply(this,arguments)||this}return TypeDefinitionAction.prototype._getLocationModel=function(model,position,token){return __awaiter(this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return _a=referencesModel.c.bind,[4,Object(goToSymbol.e)(model,position,token)];case 1:return[2,new(_a.apply(referencesModel.c,[void 0,_b.sent(),nls.a("typedef.title","Type Definitions")]))]}})})},TypeDefinitionAction.prototype._getNoResultFoundMessage=function(info){return info&&info.word?nls.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",info.word):nls.a("goToTypeDefinition.generic.noResults","No type definition found")},TypeDefinitionAction.prototype._getAlternativeCommand=function(editor){return editor.getOption(39).alternativeTypeDefinitionCommand},TypeDefinitionAction.prototype._getGoToPreference=function(editor){return editor.getOption(39).multipleTypeDefinitions},TypeDefinitionAction}(goToCommands_SymbolNavigationAction);Object(editorExtensions.f)((_e=function(_super){goToCommands_extends(GoToTypeDefinitionAction,_super);function GoToTypeDefinitionAction(){return _super.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToTypeDefinitionAction.ID,label:nls.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:contextkey.a.and(editorContextKeys.a.hasTypeDefinitionProvider,editorContextKeys.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:17,group:"4_symbol_nav",order:3,title:nls.a({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})||this}return GoToTypeDefinitionAction}(goToCommands_TypeDefinitionAction),_e.ID="editor.action.goToTypeDefinition",_e)),Object(editorExtensions.f)((_f=function(_super){goToCommands_extends(PeekTypeDefinitionAction,_super);function PeekTypeDefinitionAction(){return _super.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekTypeDefinitionAction.ID,label:nls.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:contextkey.a.and(editorContextKeys.a.hasTypeDefinitionProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:4}})||this}return PeekTypeDefinitionAction}(goToCommands_TypeDefinitionAction),_f.ID="editor.action.peekTypeDefinition",_f));var goToCommands_ImplementationAction=function(_super){goToCommands_extends(ImplementationAction,_super);function ImplementationAction(){return _super!==null&&_super.apply(this,arguments)||this}return ImplementationAction.prototype._getLocationModel=function(model,position,token){return __awaiter(this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return _a=referencesModel.c.bind,[4,Object(goToSymbol.c)(model,position,token)];case 1:return[2,new(_a.apply(referencesModel.c,[void 0,_b.sent(),nls.a("impl.title","Implementations")]))]}})})},ImplementationAction.prototype._getNoResultFoundMessage=function(info){return info&&info.word?nls.a("goToImplementation.noResultWord","No implementation found for '{0}'",info.word):nls.a("goToImplementation.generic.noResults","No implementation found")},ImplementationAction.prototype._getAlternativeCommand=function(editor){return editor.getOption(39).alternativeImplementationCommand},ImplementationAction.prototype._getGoToPreference=function(editor){return editor.getOption(39).multipleImplementations},ImplementationAction}(goToCommands_SymbolNavigationAction);Object(editorExtensions.f)((_g=function(_super){goToCommands_extends(GoToImplementationAction,_super);function GoToImplementationAction(){return _super.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToImplementationAction.ID,label:nls.a("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:contextkey.a.and(editorContextKeys.a.hasImplementationProvider,editorContextKeys.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:17,group:"4_symbol_nav",order:4,title:nls.a({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})||this}return GoToImplementationAction}(goToCommands_ImplementationAction),_g.ID="editor.action.goToImplementation",_g)),Object(editorExtensions.f)((_h=function(_super){goToCommands_extends(PeekImplementationAction,_super);function PeekImplementationAction(){return _super.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekImplementationAction.ID,label:nls.a("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:contextkey.a.and(editorContextKeys.a.hasImplementationProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:8,group:"peek",order:5}})||this}return PeekImplementationAction}(goToCommands_ImplementationAction),_h.ID="editor.action.peekImplementation",_h));var goToCommands_ReferencesAction=function(_super){goToCommands_extends(ReferencesAction,_super);function ReferencesAction(){return _super!==null&&_super.apply(this,arguments)||this}return ReferencesAction.prototype._getNoResultFoundMessage=function(info){return info?nls.a("references.no","No references found for '{0}'",info.word):nls.a("references.noGeneric","No references found")},ReferencesAction.prototype._getAlternativeCommand=function(editor){return editor.getOption(39).alternativeReferenceCommand},ReferencesAction.prototype._getGoToPreference=function(editor){return editor.getOption(39).multipleReferences},ReferencesAction}(goToCommands_SymbolNavigationAction);Object(editorExtensions.f)(function(_super){goToCommands_extends(GoToReferencesAction,_super);function GoToReferencesAction(){return _super.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:nls.a("goToReferences.label","Go to References"),alias:"Go to References",precondition:contextkey.a.and(editorContextKeys.a.hasReferenceProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:17,group:"4_symbol_nav",order:5,title:nls.a({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})||this}return GoToReferencesAction.prototype._getLocationModel=function(model,position,token){return __awaiter(this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return _a=referencesModel.c.bind,[4,Object(goToSymbol.d)(model,position,!0,token)];case 1:return[2,new(_a.apply(referencesModel.c,[void 0,_b.sent(),nls.a("ref.title","References")]))]}})})},GoToReferencesAction}(goToCommands_ReferencesAction)),Object(editorExtensions.f)(function(_super){goToCommands_extends(PeekReferencesAction,_super);function PeekReferencesAction(){return _super.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:nls.a("references.action.label","Peek References"),alias:"Peek References",precondition:contextkey.a.and(editorContextKeys.a.hasReferenceProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:6}})||this}return PeekReferencesAction.prototype._getLocationModel=function(model,position,token){return __awaiter(this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return _a=referencesModel.c.bind,[4,Object(goToSymbol.d)(model,position,!1,token)];case 1:return[2,new(_a.apply(referencesModel.c,[void 0,_b.sent(),nls.a("ref.title","References")]))]}})})},PeekReferencesAction}(goToCommands_ReferencesAction));var goToCommands_GenericGoToLocationAction=function(_super){goToCommands_extends(GenericGoToLocationAction,_super);function GenericGoToLocationAction(_references,_gotoMultipleBehaviour){var _this=_super.call(this,{muteMessage:!0,openInPeek:!1,openToSide:!1},{id:"editor.action.goToLocation",label:nls.a("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:contextkey.a.and(peekView.b.notInPeekEditor,editorContextKeys.a.isInEmbeddedEditor.toNegated())})||this;return _this._references=_references,_this._gotoMultipleBehaviour=_gotoMultipleBehaviour,_this}return GenericGoToLocationAction.prototype._getLocationModel=function(_model,_position,_token){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,new referencesModel.c(this._references,nls.a("generic.title","Locations"))]})})},GenericGoToLocationAction.prototype._getNoResultFoundMessage=function(info){return info&&nls.a("generic.noResult","No results for '{0}'",info.word)||""},GenericGoToLocationAction.prototype._getGoToPreference=function(editor){var _a;return _a=this._gotoMultipleBehaviour,_a??editor.getOption(39).multipleReferences},GenericGoToLocationAction.prototype._getAlternativeCommand=function(){return""},GenericGoToLocationAction}(goToCommands_SymbolNavigationAction);commands.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:uri.a},{name:"position",description:"The position at which to start",constraint:core_position.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(accessor,resource,position,references,multiple){return __awaiter(void 0,void 0,void 0,function(){var editorService,editor;return __generator(this,function(_a){switch(_a.label){case 0:return Object(types.a)(uri.a.isUri(resource)),Object(types.a)(core_position.a.isIPosition(position)),Object(types.a)(Array.isArray(references)),Object(types.a)(typeof multiple>"u"||typeof multiple=="string"),editorService=accessor.get(services_codeEditorService.a),[4,editorService.openCodeEditor({resource},editorService.getFocusedCodeEditor())];case 1:return editor=_a.sent(),Object(editorBrowser.a)(editor)?(editor.setPosition(position),editor.revealPositionInCenterIfOutsideViewport(position,0),[2,editor.invokeWithinContext(function(accessor2){var command=new goToCommands_GenericGoToLocationAction(references,multiple);accessor2.get(instantiation.a).invokeFunction(command.run.bind(command),editor)})]):[2]}})})}}),commands.a.registerCommand({id:"editor.action.findReferences",handler:function(accessor,resource,position){Object(types.a)(uri.a.isUri(resource)),Object(types.a)(core_position.a.isIPosition(position));var codeEditorService=accessor.get(services_codeEditorService.a);return codeEditorService.openCodeEditor({resource},codeEditorService.getFocusedCodeEditor()).then(function(control){if(!(!Object(editorBrowser.a)(control)||!control.hasModel())){var controller=referencesController.a.get(control);if(controller){var references=Object(common_async.f)(function(token){return Object(goToSymbol.d)(control.getModel(),core_position.a.lift(position),!1,token).then(function(references2){return new referencesModel.c(references2,nls.a("ref.title","References"))})}),range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column);return Promise.resolve(controller.toggleWidget(range,references,!1))}}})}}),commands.a.registerCommandAlias("editor.action.showReferences","editor.action.goToLocations")},2280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _accessibilityHelp_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5741),_accessibilityHelp_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_accessibilityHelp_css__WEBPACK_IMPORTED_MODULE_0__),_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2642),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2124),_base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2662),_base_browser_formattedTextRenderer_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3488),_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2815),_base_browser_ui_widget_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2816),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2033),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2236),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2123),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2640),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2099),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2632),_contrib_toggleTabFocusMode_toggleTabFocusMode_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2254),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2238),_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2232),_platform_keybinding_common_keybinding_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2760),_platform_opener_common_opener_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2850),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2623),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2235),_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2634),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_14__.d("accessibilityHelpWidgetVisible",!1),AccessibilityHelpController=function(_super){__extends(AccessibilityHelpController2,_super);function AccessibilityHelpController2(editor,instantiationService){var _this=_super.call(this)||this;return _this._editor=editor,_this._widget=_this._register(instantiationService.createInstance(AccessibilityHelpWidget,_this._editor)),_this}return AccessibilityHelpController2.get=function(editor){return editor.getContribution(AccessibilityHelpController2.ID)},AccessibilityHelpController2.prototype.show=function(){this._widget.show()},AccessibilityHelpController2.prototype.hide=function(){this._widget.hide()},AccessibilityHelpController2.ID="editor.contrib.accessibilityHelpController",AccessibilityHelpController2=__decorate([__param(1,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_15__.a)],AccessibilityHelpController2),AccessibilityHelpController2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.a);function getSelectionLabel(selections,charactersSelected){return!selections||selections.length===0?_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.noSelection:selections.length===1?charactersSelected?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_9__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.singleSelectionRange,selections[0].positionLineNumber,selections[0].positionColumn,charactersSelected):_base_common_strings_js__WEBPACK_IMPORTED_MODULE_9__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.singleSelection,selections[0].positionLineNumber,selections[0].positionColumn):charactersSelected?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_9__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.multiSelectionRange,selections.length,charactersSelected):selections.length>0?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_9__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.multiSelection,selections.length):""}var AccessibilityHelpWidget=function(_super){__extends(AccessibilityHelpWidget2,_super);function AccessibilityHelpWidget2(editor,_contextKeyService,_keybindingService,_openerService){var _this=_super.call(this)||this;return _this._contextKeyService=_contextKeyService,_this._keybindingService=_keybindingService,_this._openerService=_openerService,_this._editor=editor,_this._isVisibleKey=CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE.bindTo(_this._contextKeyService),_this._domNode=Object(_base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_3__.b)(document.createElement("div")),_this._domNode.setClassName("accessibilityHelpWidget"),_this._domNode.setDisplay("none"),_this._domNode.setAttribute("role","dialog"),_this._domNode.setAttribute("aria-hidden","true"),_this._contentDomNode=Object(_base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_3__.b)(document.createElement("div")),_this._contentDomNode.setAttribute("role","document"),_this._domNode.appendChild(_this._contentDomNode),_this._isVisible=!1,_this._register(_this._editor.onDidLayoutChange(function(){_this._isVisible&&_this._layout()})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.o(_this._contentDomNode.domNode,"keydown",function(e){if(_this._isVisible&&(e.equals(2083)&&(Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_5__.a)(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.emergencyConfOn),_this._editor.updateOptions({accessibilitySupport:"on"}),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.t(_this._contentDomNode.domNode),_this._buildContent(),_this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_5__.a)(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.openingDocs);var url=_this._editor.getRawOptions().accessibilityHelpUrl;typeof url>"u"&&(url="https://go.microsoft.com/fwlink/?linkid=852450"),_this._openerService.open(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_10__.a.parse(url)),e.preventDefault(),e.stopPropagation()}})),_this.onblur(_this._contentDomNode.domNode,function(){_this.hide()}),_this._editor.addOverlayWidget(_this),_this}return AccessibilityHelpWidget2.prototype.dispose=function(){this._editor.removeOverlayWidget(this),_super.prototype.dispose.call(this)},AccessibilityHelpWidget2.prototype.getId=function(){return AccessibilityHelpWidget2.ID},AccessibilityHelpWidget2.prototype.getDomNode=function(){return this._domNode.domNode},AccessibilityHelpWidget2.prototype.getPosition=function(){return{preference:null}},AccessibilityHelpWidget2.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())},AccessibilityHelpWidget2.prototype._descriptionForCommand=function(commandId,msg,noKbMsg){var kb=this._keybindingService.lookupKeybinding(commandId);return kb?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_9__.r(msg,kb.getAriaLabel()):_base_common_strings_js__WEBPACK_IMPORTED_MODULE_9__.r(noKbMsg,commandId)},AccessibilityHelpWidget2.prototype._buildContent=function(){var options=this._editor.getOptions(),selections=this._editor.getSelections(),charactersSelected=0;if(selections){var model_1=this._editor.getModel();model_1&&selections.forEach(function(selection){charactersSelected+=model_1.getValueLengthInRange(selection)})}var text=getSelectionLabel(selections,charactersSelected);options.get(43)?options.get(65)?text+=_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.readonlyDiffEditor:text+=_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.editableDiffEditor:options.get(65)?text+=_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.readonlyEditor:text+=_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.editableEditor;var turnOnMessage=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.e?_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.changeConfigToOnMac:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.changeConfigToOnWinLinux;switch(options.get(2)){case 0:text+=`

 - `+turnOnMessage;break;case 2:text+=`

 - `+_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.auto_on;break;case 1:text+=`

 - `+_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.auto_off,text+=" "+turnOnMessage;break}options.get(102)?text+=`

 - `+this._descriptionForCommand(_contrib_toggleTabFocusMode_toggleTabFocusMode_js__WEBPACK_IMPORTED_MODULE_13__.ToggleTabFocusModeAction.ID,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.tabFocusModeOnMsg,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.tabFocusModeOnMsgNoKb):text+=`

 - `+this._descriptionForCommand(_contrib_toggleTabFocusMode_toggleTabFocusMode_js__WEBPACK_IMPORTED_MODULE_13__.ToggleTabFocusModeAction.ID,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.tabFocusModeOffMsg,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.tabFocusModeOffMsgNoKb);var openDocMessage=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.e?_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.openDocMac:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.openDocWinLinux;text+=`

 - `+openDocMessage,text+=`

`+_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.outroMsg,this._contentDomNode.domNode.appendChild(Object(_base_browser_formattedTextRenderer_js__WEBPACK_IMPORTED_MODULE_4__.b)(text)),this._contentDomNode.domNode.setAttribute("aria-label",text)},AccessibilityHelpWidget2.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.t(this._contentDomNode.domNode),this._editor.focus())},AccessibilityHelpWidget2.prototype._layout=function(){var editorLayout=this._editor.getLayoutInfo(),w=Math.max(5,Math.min(AccessibilityHelpWidget2.WIDTH,editorLayout.width-40)),h=Math.max(5,Math.min(AccessibilityHelpWidget2.HEIGHT,editorLayout.height-40));this._domNode.setWidth(w),this._domNode.setHeight(h);var top=Math.round((editorLayout.height-h)/2);this._domNode.setTop(top);var left=Math.round((editorLayout.width-w)/2);this._domNode.setLeft(left)},AccessibilityHelpWidget2.ID="editor.contrib.accessibilityHelpWidget",AccessibilityHelpWidget2.WIDTH=500,AccessibilityHelpWidget2.HEIGHT=300,AccessibilityHelpWidget2=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_14__.c),__param(2,_platform_keybinding_common_keybinding_js__WEBPACK_IMPORTED_MODULE_16__.a),__param(3,_platform_opener_common_opener_js__WEBPACK_IMPORTED_MODULE_17__.a)],AccessibilityHelpWidget2),AccessibilityHelpWidget2}(_base_browser_ui_widget_js__WEBPACK_IMPORTED_MODULE_6__.a),ShowAccessibilityHelpAction=function(_super){__extends(ShowAccessibilityHelpAction2,_super);function ShowAccessibilityHelpAction2(){return _super.call(this,{id:"editor.action.showAccessibilityHelp",label:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_20__.a.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_12__.a.focus,primary:_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.i?2107:571,weight:100}})||this}return ShowAccessibilityHelpAction2.prototype.run=function(accessor,editor){var controller=AccessibilityHelpController.get(editor);controller&&controller.show()},ShowAccessibilityHelpAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_11__.b);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_11__.h)(AccessibilityHelpController.ID,AccessibilityHelpController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_11__.f)(ShowAccessibilityHelpAction);var AccessibilityHelpCommand=_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_11__.c.bindToContribution(AccessibilityHelpController.get);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_11__.g)(new AccessibilityHelpCommand({id:"closeAccessibilityHelp",precondition:CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE,handler:function(x){return x.hide()},kbOpts:{weight:100+100,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_12__.a.focus,primary:9,secondary:[1033]}})),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_19__.e)(function(theme,collector){var widgetBackground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_18__.Q);widgetBackground&&collector.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+widgetBackground+"; }");var widgetForeground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_18__.S);widgetForeground&&collector.addRule(".monaco-editor .accessibilityHelpWidget { color: "+widgetForeground+"; }");var widgetShadowColor=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_18__.gc);widgetShadowColor&&collector.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+widgetShadowColor+"; }");var hcBorder=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_18__.e);hcBorder&&collector.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+hcBorder+"; }")})},2281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BracketMatchingController",function(){return BracketMatchingController});var _bracketMatching_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5743),_bracketMatching_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_bracketMatching_css__WEBPACK_IMPORTED_MODULE_0__),_nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2069),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2237),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2033),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2099),_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2233),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2056),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2629),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2632),_common_model_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2819),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2720),_common_view_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2804),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2623),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2235),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3164),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),overviewRulerBracketMatchForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_12__.Tb)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),JumpToBracketAction=function(_super){__extends(JumpToBracketAction2,_super);function JumpToBracketAction2(){return _super.call(this,{id:"editor.action.jumpToBracket",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:3160,weight:100}})||this}return JumpToBracketAction2.prototype.run=function(accessor,editor){var controller=BracketMatchingController.get(editor);controller&&controller.jumpToBracket()},JumpToBracketAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b),SelectToBracketAction=function(_super){__extends(SelectToBracketAction2,_super);function SelectToBracketAction2(){return _super.call(this,{id:"editor.action.selectToBracket",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})||this}return SelectToBracketAction2.prototype.run=function(accessor,editor,args){var controller=BracketMatchingController.get(editor);if(controller){var selectBrackets=!0;args&&args.selectBrackets===!1&&(selectBrackets=!1),controller.selectToBracket(selectBrackets)}},SelectToBracketAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b),BracketsData=function(){function BracketsData2(position,brackets,options){this.position=position,this.brackets=brackets,this.options=options}return BracketsData2}(),BracketMatchingController=function(_super){__extends(BracketMatchingController2,_super);function BracketMatchingController2(editor){var _this=_super.call(this)||this;return _this._editor=editor,_this._lastBracketsData=[],_this._lastVersionId=0,_this._decorations=[],_this._updateBracketsSoon=_this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.d(function(){return _this._updateBrackets()},50)),_this._matchBrackets=_this._editor.getOption(51),_this._updateBracketsSoon.schedule(),_this._register(editor.onDidChangeCursorPosition(function(e){_this._matchBrackets!=="never"&&_this._updateBracketsSoon.schedule()})),_this._register(editor.onDidChangeModelContent(function(e){_this._updateBracketsSoon.schedule()})),_this._register(editor.onDidChangeModel(function(e){_this._lastBracketsData=[],_this._decorations=[],_this._updateBracketsSoon.schedule()})),_this._register(editor.onDidChangeModelLanguageConfiguration(function(e){_this._lastBracketsData=[],_this._updateBracketsSoon.schedule()})),_this._register(editor.onDidChangeConfiguration(function(e){e.hasChanged(51)&&(_this._matchBrackets=_this._editor.getOption(51),_this._decorations=_this._editor.deltaDecorations(_this._decorations,[]),_this._lastBracketsData=[],_this._lastVersionId=0,_this._updateBracketsSoon.schedule())})),_this}return BracketMatchingController2.get=function(editor){return editor.getContribution(BracketMatchingController2.ID)},BracketMatchingController2.prototype.jumpToBracket=function(){if(this._editor.hasModel()){var model=this._editor.getModel(),newSelections=this._editor.getSelections().map(function(selection){var position=selection.getStartPosition(),brackets=model.matchBracket(position),newCursorPosition=null;if(brackets)brackets[0].containsPosition(position)?newCursorPosition=brackets[1].getStartPosition():brackets[1].containsPosition(position)&&(newCursorPosition=brackets[0].getStartPosition());else{var enclosingBrackets=model.findEnclosingBrackets(position);if(enclosingBrackets)newCursorPosition=enclosingBrackets[0].getStartPosition();else{var nextBracket=model.findNextBracket(position);nextBracket&&nextBracket.range&&(newCursorPosition=nextBracket.range.getStartPosition())}}return newCursorPosition?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(newCursorPosition.lineNumber,newCursorPosition.column,newCursorPosition.lineNumber,newCursorPosition.column):new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(position.lineNumber,position.column,position.lineNumber,position.column)});this._editor.setSelections(newSelections),this._editor.revealRange(newSelections[0])}},BracketMatchingController2.prototype.selectToBracket=function(selectBrackets){if(this._editor.hasModel()){var model=this._editor.getModel(),newSelections=[];this._editor.getSelections().forEach(function(selection){var position=selection.getStartPosition(),brackets=model.matchBracket(position);if(!brackets&&(brackets=model.findEnclosingBrackets(position),!brackets)){var nextBracket=model.findNextBracket(position);nextBracket&&nextBracket.range&&(brackets=model.matchBracket(nextBracket.range.getStartPosition()))}var selectFrom=null,selectTo=null;if(brackets){brackets.sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts);var open_1=brackets[0],close_1=brackets[1];selectFrom=selectBrackets?open_1.getStartPosition():open_1.getEndPosition(),selectTo=selectBrackets?close_1.getEndPosition():close_1.getStartPosition()}selectFrom&&selectTo&&newSelections.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(selectFrom.lineNumber,selectFrom.column,selectTo.lineNumber,selectTo.column))}),newSelections.length>0&&(this._editor.setSelections(newSelections),this._editor.revealRange(newSelections[0]))}},BracketMatchingController2.prototype._updateBrackets=function(){if(this._matchBrackets!=="never"){this._recomputeBrackets();for(var newDecorations=[],newDecorationsLen=0,_i=0,_a=this._lastBracketsData;_i<_a.length;_i++){var bracketData=_a[_i],brackets=bracketData.brackets;brackets&&(newDecorations[newDecorationsLen++]={range:brackets[0],options:bracketData.options},newDecorations[newDecorationsLen++]={range:brackets[1],options:bracketData.options})}this._decorations=this._editor.deltaDecorations(this._decorations,newDecorations)}},BracketMatchingController2.prototype._recomputeBrackets=function(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}var selections=this._editor.getSelections();if(selections.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}var model=this._editor.getModel(),versionId=model.getVersionId(),previousData=[];this._lastVersionId===versionId&&(previousData=this._lastBracketsData);for(var positions=[],positionsLen=0,i=0,len=selections.length;i<len;i++){var selection=selections[i];selection.isEmpty()&&(positions[positionsLen++]=selection.getStartPosition())}positions.length>1&&positions.sort(_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a.compare);for(var newData=[],newDataLen=0,previousIndex=0,previousLen=previousData.length,i=0,len=positions.length;i<len;i++){for(var position=positions[i];previousIndex<previousLen&&previousData[previousIndex].position.isBefore(position);)previousIndex++;if(previousIndex<previousLen&&previousData[previousIndex].position.equals(position))newData[newDataLen++]=previousData[previousIndex];else{var brackets=model.matchBracket(position),options=BracketMatchingController2._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!brackets&&this._matchBrackets==="always"&&(brackets=model.findEnclosingBrackets(position,20),options=BracketMatchingController2._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),newData[newDataLen++]=new BracketsData(position,brackets,options)}}this._lastBracketsData=newData,this._lastVersionId=versionId},BracketMatchingController2.ID="editor.contrib.bracketMatchingController",BracketMatchingController2._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"bracket-match",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_13__.f)(overviewRulerBracketMatchForeground),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),BracketMatchingController2._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"bracket-match"}),BracketMatchingController2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.h)(BracketMatchingController.ID,BracketMatchingController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(SelectToBracketAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(JumpToBracketAction),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_13__.e)(function(theme,collector){var bracketMatchBackground=theme.getColor(_common_view_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_11__.c);bracketMatchBackground&&collector.addRule(".monaco-editor .bracket-match { background-color: "+bracketMatchBackground+"; }");var bracketMatchBorder=theme.getColor(_common_view_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_11__.d);bracketMatchBorder&&collector.addRule(".monaco-editor .bracket-match { border: 1px solid "+bracketMatchBorder+"; }")}),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_14__.c.appendMenuItem(17,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},2282:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _clipboard_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5745),_clipboard_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_clipboard_css__WEBPACK_IMPORTED_MODULE_0__),_nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2069),_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2642),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2236),_browser_controller_textAreaInput_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3866),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2099),_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2732),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2632),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),CLIPBOARD_CONTEXT_MENU_GROUP="9_cutcopypaste",supportsCut=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.f||document.queryCommandSupported("cut"),supportsCopy=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.f||document.queryCommandSupported("copy"),supportsCopyWithSyntaxHighlighting=supportsCopy&&!_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_2__.f,supportsPaste=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.f||!_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_2__.d&&document.queryCommandSupported("paste"),ExecCommandAction=function(_super){__extends(ExecCommandAction2,_super);function ExecCommandAction2(browserCommand,opts){var _this=_super.call(this,opts)||this;return _this.browserCommand=browserCommand,_this}return ExecCommandAction2.prototype.runCommand=function(accessor,args){var focusedEditor=accessor.get(_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_6__.a).getFocusedCodeEditor();if(focusedEditor&&focusedEditor.hasTextFocus()){focusedEditor.trigger("keyboard",this.id,args);return}document.execCommand(this.browserCommand)},ExecCommandAction2.prototype.run=function(accessor,editor){editor.focus(),document.execCommand(this.browserCommand)},ExecCommandAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__.b),ExecCommandCutAction=function(_super){__extends(ExecCommandCutAction2,_super);function ExecCommandCutAction2(){var _this=this,kbOpts={kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__.a.textInputFocus,primary:2102,win:{primary:2102,secondary:[1044]},weight:100};return _base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.f||(kbOpts=void 0),_this=_super.call(this,"cut",{id:"editor.action.clipboardCutAction",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("actions.clipboard.cutLabel","Cut"),alias:"Cut",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__.a.writable,kbOpts,contextMenuOpts:{group:CLIPBOARD_CONTEXT_MENU_GROUP,order:1},menuOpts:{menuId:15,group:"2_ccp",title:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1}})||this,_this}return ExecCommandCutAction2.prototype.run=function(accessor,editor){if(editor.hasModel()){var emptySelectionClipboard=editor.getOption(24);!emptySelectionClipboard&&editor.getSelection().isEmpty()||_super.prototype.run.call(this,accessor,editor)}},ExecCommandCutAction2}(ExecCommandAction),ExecCommandCopyAction=function(_super){__extends(ExecCommandCopyAction2,_super);function ExecCommandCopyAction2(){var _this=this,kbOpts={kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__.a.textInputFocus,primary:2081,win:{primary:2081,secondary:[2067]},weight:100};return _base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.f||(kbOpts=void 0),_this=_super.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("actions.clipboard.copyLabel","Copy"),alias:"Copy",precondition:void 0,kbOpts,contextMenuOpts:{group:CLIPBOARD_CONTEXT_MENU_GROUP,order:2},menuOpts:{menuId:15,group:"2_ccp",title:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2}})||this,_this}return ExecCommandCopyAction2.prototype.run=function(accessor,editor){if(editor.hasModel()){var emptySelectionClipboard=editor.getOption(24);!emptySelectionClipboard&&editor.getSelection().isEmpty()||_super.prototype.run.call(this,accessor,editor)}},ExecCommandCopyAction2}(ExecCommandAction),ExecCommandPasteAction=function(_super){__extends(ExecCommandPasteAction2,_super);function ExecCommandPasteAction2(){var _this=this,kbOpts={kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__.a.textInputFocus,primary:2100,win:{primary:2100,secondary:[1043]},weight:100};return _base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.f||(kbOpts=void 0),_this=_super.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("actions.clipboard.pasteLabel","Paste"),alias:"Paste",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__.a.writable,kbOpts,contextMenuOpts:{group:CLIPBOARD_CONTEXT_MENU_GROUP,order:3},menuOpts:{menuId:15,group:"2_ccp",title:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3}})||this,_this}return ExecCommandPasteAction2}(ExecCommandAction),ExecCommandCopyWithSyntaxHighlightingAction=function(_super){__extends(ExecCommandCopyWithSyntaxHighlightingAction2,_super);function ExecCommandCopyWithSyntaxHighlightingAction2(){return _super.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__.a.textInputFocus,primary:0,weight:100}})||this}return ExecCommandCopyWithSyntaxHighlightingAction2.prototype.run=function(accessor,editor){if(editor.hasModel()){var emptySelectionClipboard=editor.getOption(24);!emptySelectionClipboard&&editor.getSelection().isEmpty()||(_browser_controller_textAreaInput_js__WEBPACK_IMPORTED_MODULE_4__.a.forceCopyWithSyntaxHighlighting=!0,_super.prototype.run.call(this,accessor,editor),_browser_controller_textAreaInput_js__WEBPACK_IMPORTED_MODULE_4__.a.forceCopyWithSyntaxHighlighting=!1)}},ExecCommandCopyWithSyntaxHighlightingAction2}(ExecCommandAction);supportsCut&&Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__.f)(ExecCommandCutAction),supportsCopy&&Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__.f)(ExecCommandCopyAction),supportsPaste&&Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__.f)(ExecCommandPasteAction),supportsCopyWithSyntaxHighlighting&&Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__.f)(ExecCommandCopyWithSyntaxHighlightingAction)},2283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2099),_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5013);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.h)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.f.ID,_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.f),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.f)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.e),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.f)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.g),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.f)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.h),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.f)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.d),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.f)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.a),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.f)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.c),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new _codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.b)},2284:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CursorUndoRedoController",function(){return CursorUndoRedoController}),__webpack_require__.d(__webpack_exports__,"CursorUndo",function(){return CursorUndo}),__webpack_require__.d(__webpack_exports__,"CursorRedo",function(){return CursorRedo});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2033),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2099),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2632),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),CursorState=function(){function CursorState2(selections){this.selections=selections}return CursorState2.prototype.equals=function(other){var thisLen=this.selections.length,otherLen=other.selections.length;if(thisLen!==otherLen)return!1;for(var i=0;i<thisLen;i++)if(!this.selections[i].equalsSelection(other.selections[i]))return!1;return!0},CursorState2}(),CursorUndoRedoController=function(_super){__extends(CursorUndoRedoController2,_super);function CursorUndoRedoController2(editor){var _this=_super.call(this)||this;return _this._editor=editor,_this._isCursorUndoRedo=!1,_this._undoStack=[],_this._redoStack=[],_this._register(editor.onDidChangeModel(function(e){_this._undoStack=[],_this._redoStack=[]})),_this._register(editor.onDidChangeModelContent(function(e){_this._undoStack=[],_this._redoStack=[]})),_this._register(editor.onDidChangeCursorSelection(function(e){if(!_this._isCursorUndoRedo&&e.oldSelections&&e.oldModelVersionId===e.modelVersionId){var prevState=new CursorState(e.oldSelections),isEqualToLastUndoStack=_this._undoStack.length>0&&_this._undoStack[_this._undoStack.length-1].equals(prevState);isEqualToLastUndoStack||(_this._undoStack.push(prevState),_this._redoStack=[],_this._undoStack.length>50&&_this._undoStack.shift())}})),_this}return CursorUndoRedoController2.get=function(editor){return editor.getContribution(CursorUndoRedoController2.ID)},CursorUndoRedoController2.prototype.cursorUndo=function(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new CursorState(this._editor.getSelections())),this._applyState(this._undoStack.pop()))},CursorUndoRedoController2.prototype.cursorRedo=function(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new CursorState(this._editor.getSelections())),this._applyState(this._redoStack.pop()))},CursorUndoRedoController2.prototype._applyState=function(state){this._isCursorUndoRedo=!0,this._editor.setSelections(state.selections),this._editor.revealRangeInCenterIfOutsideViewport(state.selections[0],0),this._isCursorUndoRedo=!1},CursorUndoRedoController2.ID="editor.contrib.cursorUndoRedoController",CursorUndoRedoController2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a),CursorUndo=function(_super){__extends(CursorUndo2,_super);function CursorUndo2(){return _super.call(this,{id:"cursorUndo",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:2099,weight:100}})||this}return CursorUndo2.prototype.run=function(accessor,editor,args){CursorUndoRedoController.get(editor).cursorUndo()},CursorUndo2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.b),CursorRedo=function(_super){__extends(CursorRedo2,_super);function CursorRedo2(){return _super.call(this,{id:"cursorRedo",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})||this}return CursorRedo2.prototype.run=function(accessor,editor,args){CursorUndoRedoController.get(editor).cursorRedo()},CursorRedo2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.b);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.h)(CursorUndoRedoController.ID,CursorUndoRedoController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.f)(CursorUndo),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.f)(CursorRedo)},2285:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2099),_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3367),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),EditorFontZoomIn=function(_super){__extends(EditorFontZoomIn2,_super);function EditorFontZoomIn2(){return _super.call(this,{id:"editor.action.fontZoomIn",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})||this}return EditorFontZoomIn2.prototype.run=function(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.setZoomLevel(_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.getZoomLevel()+1)},EditorFontZoomIn2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b),EditorFontZoomOut=function(_super){__extends(EditorFontZoomOut2,_super);function EditorFontZoomOut2(){return _super.call(this,{id:"editor.action.fontZoomOut",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})||this}return EditorFontZoomOut2.prototype.run=function(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.setZoomLevel(_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.getZoomLevel()-1)},EditorFontZoomOut2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b),EditorFontZoomReset=function(_super){__extends(EditorFontZoomReset2,_super);function EditorFontZoomReset2(){return _super.call(this,{id:"editor.action.fontZoomReset",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})||this}return EditorFontZoomReset2.prototype.run=function(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.setZoomLevel(0)},EditorFontZoomReset2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.f)(EditorFontZoomIn),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.f)(EditorFontZoomOut),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.f)(EditorFontZoomReset)},2286:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"GotoLineEntry",function(){return GotoLineEntry}),__webpack_require__.d(__webpack_exports__,"GotoLineAction",function(){return GotoLineAction});var _gotoLine_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5779),_gotoLine_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_gotoLine_css__WEBPACK_IMPORTED_MODULE_0__),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2123),_base_parts_quickopen_browser_quickOpenModel_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3604),_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3376),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2099),_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2233),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2056),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2632),_editorQuickOpen_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3597),_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2634),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),GotoLineEntry=function(_super){__extends(GotoLineEntry2,_super);function GotoLineEntry2(line,editor,decorator){var _this=_super.call(this)||this;return _this.editor=editor,_this.decorator=decorator,_this.parseResult=_this.parseInput(line),_this}return GotoLineEntry2.prototype.parseInput=function(line){var numbers=line.split(",").map(function(part){return parseInt(part,10)}).filter(function(part){return!isNaN(part)}),position;numbers.length===0?position=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(-1,-1):numbers.length===1?position=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(numbers[0],1):position=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(numbers[0],numbers[1]);var model;if(Object(_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_3__.a)(this.editor))model=this.editor.getModel();else{var diffModel=this.editor.getModel();model=diffModel?diffModel.modified:null}var isValid=model?model.validatePosition(position).equals(position):!1,label;return isValid?position.column&&position.column>1?label=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.b.gotoLineLabelValidLineAndColumn,position.lineNumber,position.column):label=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.b.gotoLineLabelValidLine,position.lineNumber):position.lineNumber<1||position.lineNumber>(model?model.getLineCount():0)?label=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.b.gotoLineLabelEmptyWithLineLimit,model?model.getLineCount():0):label=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.b.gotoLineLabelEmptyWithLineAndColumnLimit,model?model.getLineMaxColumn(position.lineNumber):0),{position,isValid,label}},GotoLineEntry2.prototype.getLabel=function(){return this.parseResult.label},GotoLineEntry2.prototype.getAriaLabel=function(){var position=this.editor.getPosition(),currentLine=position?position.lineNumber:0;return _base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.b.gotoLineAriaLabel,currentLine,this.parseResult.label)},GotoLineEntry2.prototype.run=function(mode,_context){return mode===1?this.runOpen():this.runPreview()},GotoLineEntry2.prototype.runOpen=function(){if(!this.parseResult.isValid)return!1;var range=this.toSelection();return this.editor.setSelection(range),this.editor.revealRangeInCenter(range,0),this.editor.focus(),!0},GotoLineEntry2.prototype.runPreview=function(){if(!this.parseResult.isValid)return this.decorator.clearDecorations(),!1;var range=this.toSelection();return this.editor.revealRangeInCenter(range,0),this.decorator.decorateLine(range,this.editor),!1},GotoLineEntry2.prototype.toSelection=function(){return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(this.parseResult.position.lineNumber,this.parseResult.position.column,this.parseResult.position.lineNumber,this.parseResult.position.column)},GotoLineEntry2}(_base_parts_quickopen_browser_quickOpenModel_js__WEBPACK_IMPORTED_MODULE_2__.a),GotoLineAction=function(_super){__extends(GotoLineAction2,_super);function GotoLineAction2(){return _super.call(this,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.b.gotoLineActionInput,{id:"editor.action.gotoLine",label:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.b.gotoLineActionLabel,alias:"Go to Line...",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__.a.focus,primary:2085,mac:{primary:293},weight:100}})||this}return GotoLineAction2.prototype.run=function(accessor,editor){var _this=this;this._show(this.getController(editor),{getModel:function(value){return new _base_parts_quickopen_browser_quickOpenModel_js__WEBPACK_IMPORTED_MODULE_2__.c([new GotoLineEntry(value,editor,_this.getController(editor))])},getAutoFocus:function(searchValue){return{autoFocusFirstEntry:searchValue.length>0}}})},GotoLineAction2}(_editorQuickOpen_js__WEBPACK_IMPORTED_MODULE_8__.a);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(GotoLineAction)},2287:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"IPadShowKeyboard",function(){return IPadShowKeyboard});var _iPadShowKeyboard_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5794),_iPadShowKeyboard_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_iPadShowKeyboard_css__WEBPACK_IMPORTED_MODULE_0__),_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2642),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2124),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2033),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2099),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),IPadShowKeyboard=function(_super){__extends(IPadShowKeyboard2,_super);function IPadShowKeyboard2(editor){var _this=_super.call(this)||this;return _this.editor=editor,_this.widget=null,_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.j&&(_this._register(editor.onDidChangeConfiguration(function(){return _this.update()})),_this.update()),_this}return IPadShowKeyboard2.prototype.update=function(){var shouldHaveWidget=!this.editor.getOption(65);!this.widget&&shouldHaveWidget?this.widget=new ShowKeyboardWidget(this.editor):this.widget&&!shouldHaveWidget&&(this.widget.dispose(),this.widget=null)},IPadShowKeyboard2.prototype.dispose=function(){_super.prototype.dispose.call(this),this.widget&&(this.widget.dispose(),this.widget=null)},IPadShowKeyboard2.ID="editor.contrib.iPadShowKeyboard",IPadShowKeyboard2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a),ShowKeyboardWidget=function(_super){__extends(ShowKeyboardWidget2,_super);function ShowKeyboardWidget2(editor){var _this=_super.call(this)||this;return _this.editor=editor,_this._domNode=document.createElement("textarea"),_this._domNode.className="iPadShowKeyboard",_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.j(_this._domNode,"touchstart",function(e){_this.editor.focus()})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.j(_this._domNode,"focus",function(e){_this.editor.focus()})),_this.editor.addOverlayWidget(_this),_this}return ShowKeyboardWidget2.prototype.dispose=function(){this.editor.removeOverlayWidget(this),_super.prototype.dispose.call(this)},ShowKeyboardWidget2.prototype.getId=function(){return ShowKeyboardWidget2.ID},ShowKeyboardWidget2.prototype.getDomNode=function(){return this._domNode},ShowKeyboardWidget2.prototype.getPosition=function(){return{preference:1}},ShowKeyboardWidget2.ID="editor.contrib.ShowKeyboardWidget",ShowKeyboardWidget2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.h)(IPadShowKeyboard.ID,IPadShowKeyboard)},2288:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _inspectTokens_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5795),_inspectTokens_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_inspectTokens_css__WEBPACK_IMPORTED_MODULE_0__),_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2663),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2033),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2123),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2099),_common_modes_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2240),_common_modes_nullMode_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3165),_common_services_modeService_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3198),_common_standaloneThemeService_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3286),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2623),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2235),_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2634),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},InspectTokensController=function(_super){__extends(InspectTokensController2,_super);function InspectTokensController2(editor,standaloneColorService,modeService){var _this=_super.call(this)||this;return _this._editor=editor,_this._modeService=modeService,_this._widget=null,_this._register(_this._editor.onDidChangeModel(function(e){return _this.stop()})),_this._register(_this._editor.onDidChangeModelLanguage(function(e){return _this.stop()})),_this._register(_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.A.onDidChange(function(e){return _this.stop()})),_this}return InspectTokensController2.get=function(editor){return editor.getContribution(InspectTokensController2.ID)},InspectTokensController2.prototype.dispose=function(){this.stop(),_super.prototype.dispose.call(this)},InspectTokensController2.prototype.launch=function(){this._widget||this._editor.hasModel()&&(this._widget=new InspectTokensWidget(this._editor,this._modeService))},InspectTokensController2.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},InspectTokensController2.ID="editor.contrib.inspectTokens",InspectTokensController2=__decorate([__param(1,_common_standaloneThemeService_js__WEBPACK_IMPORTED_MODULE_8__.a),__param(2,_common_services_modeService_js__WEBPACK_IMPORTED_MODULE_7__.a)],InspectTokensController2),InspectTokensController2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a),InspectTokens=function(_super){__extends(InspectTokens2,_super);function InspectTokens2(){return _super.call(this,{id:"editor.action.inspectTokens",label:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_11__.c.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})||this}return InspectTokens2.prototype.run=function(accessor,editor){var controller=InspectTokensController.get(editor);controller&&controller.launch()},InspectTokens2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b);function renderTokenText(tokenText){for(var result="",charIndex=0,len=tokenText.length;charIndex<len;charIndex++){var charCode=tokenText.charCodeAt(charIndex);switch(charCode){case 9:result+="&rarr;";break;case 32:result+="&middot;";break;case 60:result+="&lt;";break;case 62:result+="&gt;";break;case 38:result+="&amp;";break;default:result+=String.fromCharCode(charCode)}}return result}function getSafeTokenizationSupport(languageIdentifier){var tokenizationSupport=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.A.get(languageIdentifier.language);return tokenizationSupport||{getInitialState:function(){return _common_modes_nullMode_js__WEBPACK_IMPORTED_MODULE_6__.c},tokenize:function(line,state,deltaOffset){return Object(_common_modes_nullMode_js__WEBPACK_IMPORTED_MODULE_6__.d)(languageIdentifier.language,line,state,deltaOffset)},tokenize2:function(line,state,deltaOffset){return Object(_common_modes_nullMode_js__WEBPACK_IMPORTED_MODULE_6__.e)(languageIdentifier.id,line,state,deltaOffset)}}}var InspectTokensWidget=function(_super){__extends(InspectTokensWidget2,_super);function InspectTokensWidget2(editor,modeService){var _this=_super.call(this)||this;return _this.allowEditorOverflow=!0,_this._editor=editor,_this._modeService=modeService,_this._model=_this._editor.getModel(),_this._domNode=document.createElement("div"),_this._domNode.className="tokens-inspect-widget",_this._tokenizationSupport=getSafeTokenizationSupport(_this._model.getLanguageIdentifier()),_this._compute(_this._editor.getPosition()),_this._register(_this._editor.onDidChangeCursorPosition(function(e){return _this._compute(_this._editor.getPosition())})),_this._editor.addContentWidget(_this),_this}return InspectTokensWidget2.prototype.dispose=function(){this._editor.removeContentWidget(this),_super.prototype.dispose.call(this)},InspectTokensWidget2.prototype.getId=function(){return InspectTokensWidget2._ID},InspectTokensWidget2.prototype._compute=function(position){for(var data=this._getTokensAtLine(position.lineNumber),token1Index=0,i=data.tokens1.length-1;i>=0;i--){var t=data.tokens1[i];if(position.column-1>=t.offset){token1Index=i;break}}for(var token2Index=0,i=data.tokens2.length>>>1;i>=0;i--)if(position.column-1>=data.tokens2[i<<1]){token2Index=i;break}var result="",lineContent=this._model.getLineContent(position.lineNumber),tokenText="";if(token1Index<data.tokens1.length){var tokenStartIndex=data.tokens1[token1Index].offset,tokenEndIndex=token1Index+1<data.tokens1.length?data.tokens1[token1Index+1].offset:lineContent.length;tokenText=lineContent.substring(tokenStartIndex,tokenEndIndex)}result+='<h2 class="tm-token">'+renderTokenText(tokenText)+'<span class="tm-token-length">('+tokenText.length+" "+(tokenText.length===1?"char":"chars")+")</span></h2>",result+='<hr class="tokens-inspect-separator" style="clear:both"/>';var metadata=this._decodeMetadata(data.tokens2[(token2Index<<1)+1]);result+='<table class="tm-metadata-table"><tbody>',result+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.o)(metadata.languageIdentifier.language)+"</td>",result+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(metadata.tokenType)+"</td>",result+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(metadata.fontStyle)+"</td>",result+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.Format.CSS.formatHex(metadata.foreground)+"</td>",result+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.Format.CSS.formatHex(metadata.background)+"</td>",result+="</tbody></table>",result+='<hr class="tokens-inspect-separator"/>',token1Index<data.tokens1.length&&(result+='<span class="tm-token-type">'+Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.o)(data.tokens1[token1Index].type)+"</span>"),this._domNode.innerHTML=result,this._editor.layoutContentWidget(this)},InspectTokensWidget2.prototype._decodeMetadata=function(metadata){var colorMap=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.A.getColorMap(),languageId=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.z.getLanguageId(metadata),tokenType=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.z.getTokenType(metadata),fontStyle=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.z.getFontStyle(metadata),foreground=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.z.getForeground(metadata),background=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.z.getBackground(metadata);return{languageIdentifier:this._modeService.getLanguageIdentifier(languageId),tokenType,fontStyle,foreground:colorMap[foreground],background:colorMap[background]}},InspectTokensWidget2.prototype._tokenTypeToString=function(tokenType){switch(tokenType){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"},InspectTokensWidget2.prototype._fontStyleToString=function(fontStyle){var r="";return fontStyle&1&&(r+="italic "),fontStyle&2&&(r+="bold "),fontStyle&4&&(r+="underline "),r.length===0&&(r="---"),r},InspectTokensWidget2.prototype._getTokensAtLine=function(lineNumber){var stateBeforeLine=this._getStateBeforeLine(lineNumber),tokenizationResult1=this._tokenizationSupport.tokenize(this._model.getLineContent(lineNumber),stateBeforeLine,0),tokenizationResult2=this._tokenizationSupport.tokenize2(this._model.getLineContent(lineNumber),stateBeforeLine,0);return{startState:stateBeforeLine,tokens1:tokenizationResult1.tokens,tokens2:tokenizationResult2.tokens,endState:tokenizationResult1.endState}},InspectTokensWidget2.prototype._getStateBeforeLine=function(lineNumber){for(var state=this._tokenizationSupport.getInitialState(),i=1;i<lineNumber;i++){var tokenizationResult=this._tokenizationSupport.tokenize(this._model.getLineContent(i),state,0);state=tokenizationResult.endState}return state},InspectTokensWidget2.prototype.getDomNode=function(){return this._domNode},InspectTokensWidget2.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[2,1]}},InspectTokensWidget2._ID="editor.contrib.inspectTokensWidget",InspectTokensWidget2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.h)(InspectTokensController.ID,InspectTokensController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(InspectTokens),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_10__.e)(function(theme,collector){var border=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.B);if(border){var borderWidth=theme.type===_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_10__.b?2:1;collector.addRule(".monaco-editor .tokens-inspect-widget { border: "+borderWidth+"px solid "+border+"; }"),collector.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+border+"; }")}var background=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.A);background&&collector.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+background+"; }");var foreground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.C);foreground&&collector.addRule(".monaco-editor .tokens-inspect-widget { color: "+foreground+"; }")})},2289:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"InsertCursorAbove",function(){return InsertCursorAbove}),__webpack_require__.d(__webpack_exports__,"InsertCursorBelow",function(){return InsertCursorBelow}),__webpack_require__.d(__webpack_exports__,"MultiCursorSessionResult",function(){return MultiCursorSessionResult}),__webpack_require__.d(__webpack_exports__,"MultiCursorSession",function(){return MultiCursorSession}),__webpack_require__.d(__webpack_exports__,"MultiCursorSelectionController",function(){return MultiCursorSelectionController}),__webpack_require__.d(__webpack_exports__,"MultiCursorSelectionControllerAction",function(){return MultiCursorSelectionControllerAction}),__webpack_require__.d(__webpack_exports__,"AddSelectionToNextFindMatchAction",function(){return AddSelectionToNextFindMatchAction}),__webpack_require__.d(__webpack_exports__,"AddSelectionToPreviousFindMatchAction",function(){return AddSelectionToPreviousFindMatchAction}),__webpack_require__.d(__webpack_exports__,"MoveSelectionToNextFindMatchAction",function(){return MoveSelectionToNextFindMatchAction}),__webpack_require__.d(__webpack_exports__,"MoveSelectionToPreviousFindMatchAction",function(){return MoveSelectionToPreviousFindMatchAction}),__webpack_require__.d(__webpack_exports__,"SelectHighlightsAction",function(){return SelectHighlightsAction}),__webpack_require__.d(__webpack_exports__,"CompatChangeAll",function(){return CompatChangeAll}),__webpack_require__.d(__webpack_exports__,"SelectionHighlighter",function(){return SelectionHighlighter});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_async_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2237),_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2768),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2033),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2099),_common_controller_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3873),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2056),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2629),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2632),_common_model_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2819),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2720),_common_modes_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2240),_find_findController_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2261),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2623),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2235),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2238),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),InsertCursorAbove=function(_super){__extends(InsertCursorAbove2,_super);function InsertCursorAbove2(){return _super.call(this,{id:"editor.action.insertCursorAbove",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:23,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})||this}return InsertCursorAbove2.prototype.run=function(accessor,editor,args){if(editor.hasModel()){var useLogicalLine=args&&args.logicalLine===!0,cursors=editor._getCursors(),context=cursors.context;context.config.readOnly||(context.model.pushStackElement(),cursors.setStates(args.source,3,_common_controller_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_5__.b.addCursorUp(context,cursors.getAll(),useLogicalLine)),cursors.reveal(args.source,!0,1,0))}},InsertCursorAbove2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b),InsertCursorBelow=function(_super){__extends(InsertCursorBelow2,_super);function InsertCursorBelow2(){return _super.call(this,{id:"editor.action.insertCursorBelow",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:23,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})||this}return InsertCursorBelow2.prototype.run=function(accessor,editor,args){if(editor.hasModel()){var useLogicalLine=args&&args.logicalLine===!0,cursors=editor._getCursors(),context=cursors.context;context.config.readOnly||(context.model.pushStackElement(),cursors.setStates(args.source,3,_common_controller_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_5__.b.addCursorDown(context,cursors.getAll(),useLogicalLine)),cursors.reveal(args.source,!0,2,0))}},InsertCursorBelow2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b),InsertCursorAtEndOfEachLineSelected=function(_super){__extends(InsertCursorAtEndOfEachLineSelected2,_super);function InsertCursorAtEndOfEachLineSelected2(){return _super.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:23,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})||this}return InsertCursorAtEndOfEachLineSelected2.prototype.getCursorsForSelection=function(selection,model,result){if(!selection.isEmpty()){for(var i=selection.startLineNumber;i<selection.endLineNumber;i++){var currentLineMaxColumn=model.getLineMaxColumn(i);result.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(i,currentLineMaxColumn,i,currentLineMaxColumn))}selection.endColumn>1&&result.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(selection.endLineNumber,selection.endColumn,selection.endLineNumber,selection.endColumn))}},InsertCursorAtEndOfEachLineSelected2.prototype.run=function(accessor,editor){var _this=this;if(editor.hasModel()){var model=editor.getModel(),selections=editor.getSelections(),newSelections=[];selections.forEach(function(sel){return _this.getCursorsForSelection(sel,model,newSelections)}),newSelections.length>0&&editor.setSelections(newSelections)}},InsertCursorAtEndOfEachLineSelected2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b),InsertCursorAtEndOfLineSelected=function(_super){__extends(InsertCursorAtEndOfLineSelected2,_super);function InsertCursorAtEndOfLineSelected2(){return _super.call(this,{id:"editor.action.addCursorsToBottom",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})||this}return InsertCursorAtEndOfLineSelected2.prototype.run=function(accessor,editor){if(editor.hasModel()){for(var selections=editor.getSelections(),lineCount=editor.getModel().getLineCount(),newSelections=[],i=selections[0].startLineNumber;i<=lineCount;i++)newSelections.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(i,selections[0].startColumn,i,selections[0].endColumn));newSelections.length>0&&editor.setSelections(newSelections)}},InsertCursorAtEndOfLineSelected2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b),InsertCursorAtTopOfLineSelected=function(_super){__extends(InsertCursorAtTopOfLineSelected2,_super);function InsertCursorAtTopOfLineSelected2(){return _super.call(this,{id:"editor.action.addCursorsToTop",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})||this}return InsertCursorAtTopOfLineSelected2.prototype.run=function(accessor,editor){if(editor.hasModel()){for(var selections=editor.getSelections(),newSelections=[],i=selections[0].startLineNumber;i>=1;i--)newSelections.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(i,selections[0].startColumn,i,selections[0].endColumn));newSelections.length>0&&editor.setSelections(newSelections)}},InsertCursorAtTopOfLineSelected2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b),MultiCursorSessionResult=function(){function MultiCursorSessionResult2(selections,revealRange,revealScrollType){this.selections=selections,this.revealRange=revealRange,this.revealScrollType=revealScrollType}return MultiCursorSessionResult2}(),MultiCursorSession=function(){function MultiCursorSession2(_editor,findController,isDisconnectedFromFindController,searchText,wholeWord,matchCase,currentMatch){this._editor=_editor,this.findController=findController,this.isDisconnectedFromFindController=isDisconnectedFromFindController,this.searchText=searchText,this.wholeWord=wholeWord,this.matchCase=matchCase,this.currentMatch=currentMatch}return MultiCursorSession2.create=function(editor,findController){if(!editor.hasModel())return null;var findState=findController.getState();if(!editor.hasTextFocus()&&findState.isRevealed&&findState.searchString.length>0)return new MultiCursorSession2(editor,findController,!1,findState.searchString,findState.wholeWord,findState.matchCase,null);var isDisconnectedFromFindController=!1,wholeWord,matchCase,selections=editor.getSelections();selections.length===1&&selections[0].isEmpty()?(isDisconnectedFromFindController=!0,wholeWord=!0,matchCase=!0):(wholeWord=findState.wholeWord,matchCase=findState.matchCase);var s=editor.getSelection(),searchText,currentMatch=null;if(s.isEmpty()){var word=editor.getModel().getWordAtPosition(s.getStartPosition());if(!word)return null;searchText=word.word,currentMatch=new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(s.startLineNumber,word.startColumn,s.startLineNumber,word.endColumn)}else searchText=editor.getModel().getValueInRange(s).replace(/\r\n/g,`
`);return new MultiCursorSession2(editor,findController,isDisconnectedFromFindController,searchText,wholeWord,matchCase,currentMatch)},MultiCursorSession2.prototype.addSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var nextMatch=this._getNextMatch();if(!nextMatch)return null;var allSelections=this._editor.getSelections();return new MultiCursorSessionResult(allSelections.concat(nextMatch),nextMatch,0)},MultiCursorSession2.prototype.moveSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var nextMatch=this._getNextMatch();if(!nextMatch)return null;var allSelections=this._editor.getSelections();return new MultiCursorSessionResult(allSelections.slice(0,allSelections.length-1).concat(nextMatch),nextMatch,0)},MultiCursorSession2.prototype._getNextMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var result=this.currentMatch;return this.currentMatch=null,result}this.findController.highlightFindOptions();var allSelections=this._editor.getSelections(),lastAddedSelection=allSelections[allSelections.length-1],nextMatch=this._editor.getModel().findNextMatch(this.searchText,lastAddedSelection.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(92):null,!1);return nextMatch?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(nextMatch.range.startLineNumber,nextMatch.range.startColumn,nextMatch.range.endLineNumber,nextMatch.range.endColumn):null},MultiCursorSession2.prototype.addSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var previousMatch=this._getPreviousMatch();if(!previousMatch)return null;var allSelections=this._editor.getSelections();return new MultiCursorSessionResult(allSelections.concat(previousMatch),previousMatch,0)},MultiCursorSession2.prototype.moveSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var previousMatch=this._getPreviousMatch();if(!previousMatch)return null;var allSelections=this._editor.getSelections();return new MultiCursorSessionResult(allSelections.slice(0,allSelections.length-1).concat(previousMatch),previousMatch,0)},MultiCursorSession2.prototype._getPreviousMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var result=this.currentMatch;return this.currentMatch=null,result}this.findController.highlightFindOptions();var allSelections=this._editor.getSelections(),lastAddedSelection=allSelections[allSelections.length-1],previousMatch=this._editor.getModel().findPreviousMatch(this.searchText,lastAddedSelection.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(92):null,!1);return previousMatch?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(previousMatch.range.startLineNumber,previousMatch.range.startColumn,previousMatch.range.endLineNumber,previousMatch.range.endColumn):null},MultiCursorSession2.prototype.selectAll=function(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(92):null,!1,1073741824)):[]},MultiCursorSession2}(),MultiCursorSelectionController=function(_super){__extends(MultiCursorSelectionController2,_super);function MultiCursorSelectionController2(editor){var _this=_super.call(this)||this;return _this._sessionDispose=_this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b),_this._editor=editor,_this._ignoreSelectionChange=!1,_this._session=null,_this}return MultiCursorSelectionController2.get=function(editor){return editor.getContribution(MultiCursorSelectionController2.ID)},MultiCursorSelectionController2.prototype.dispose=function(){this._endSession(),_super.prototype.dispose.call(this)},MultiCursorSelectionController2.prototype._beginSessionIfNeeded=function(findController){var _this=this;if(!this._session){var session=MultiCursorSession.create(this._editor,findController);if(!session)return;this._session=session;var newState={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(newState.wholeWordOverride=1,newState.matchCaseOverride=1,newState.isRegexOverride=2),findController.getState().change(newState,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(function(e){_this._ignoreSelectionChange||_this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(function(){_this._endSession()})),this._sessionDispose.add(findController.getState().onFindReplaceStateChange(function(e){(e.matchCase||e.wholeWord)&&_this._endSession()}))}},MultiCursorSelectionController2.prototype._endSession=function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){var newState={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(newState,!1)}this._session=null},MultiCursorSelectionController2.prototype._setSelections=function(selections){this._ignoreSelectionChange=!0,this._editor.setSelections(selections),this._ignoreSelectionChange=!1},MultiCursorSelectionController2.prototype._expandEmptyToWord=function(model,selection){if(!selection.isEmpty())return selection;var word=model.getWordAtPosition(selection.getStartPosition());return word?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(selection.startLineNumber,word.startColumn,selection.startLineNumber,word.endColumn):selection},MultiCursorSelectionController2.prototype._applySessionResult=function(result){result&&(this._setSelections(result.selections),result.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange,result.revealScrollType))},MultiCursorSelectionController2.prototype.getSession=function(findController){return this._session},MultiCursorSelectionController2.prototype.addSelectionToNextFindMatch=function(findController){if(this._editor.hasModel()){if(!this._session){var allSelections=this._editor.getSelections();if(allSelections.length>1){var findState=findController.getState(),matchCase=findState.matchCase,selectionsContainSameText=modelRangesContainSameText(this._editor.getModel(),allSelections,matchCase);if(!selectionsContainSameText){for(var model=this._editor.getModel(),resultingSelections=[],i=0,len=allSelections.length;i<len;i++)resultingSelections[i]=this._expandEmptyToWord(model,allSelections[i]);this._editor.setSelections(resultingSelections);return}}}this._beginSessionIfNeeded(findController),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}},MultiCursorSelectionController2.prototype.addSelectionToPreviousFindMatch=function(findController){this._beginSessionIfNeeded(findController),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())},MultiCursorSelectionController2.prototype.moveSelectionToNextFindMatch=function(findController){this._beginSessionIfNeeded(findController),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())},MultiCursorSelectionController2.prototype.moveSelectionToPreviousFindMatch=function(findController){this._beginSessionIfNeeded(findController),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())},MultiCursorSelectionController2.prototype.selectAll=function(findController){if(this._editor.hasModel()){var matches=null,findState=findController.getState();if(findState.isRevealed&&findState.searchString.length>0&&findState.isRegex)matches=this._editor.getModel().findMatches(findState.searchString,!0,findState.isRegex,findState.matchCase,findState.wholeWord?this._editor.getOption(92):null,!1,1073741824);else{if(this._beginSessionIfNeeded(findController),!this._session)return;matches=this._session.selectAll()}if(findState.searchScope){for(var state=findState.searchScope,inSelection=[],i=0;i<matches.length;i++)matches[i].range.endLineNumber<=state.endLineNumber&&matches[i].range.startLineNumber>=state.startLineNumber&&inSelection.push(matches[i]);matches=inSelection}if(matches.length>0){for(var editorSelection=this._editor.getSelection(),i=0,len=matches.length;i<len;i++){var match=matches[i],intersection=match.range.intersectRanges(editorSelection);if(intersection){matches[i]=matches[0],matches[0]=match;break}}this._setSelections(matches.map(function(m){return new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(m.range.startLineNumber,m.range.startColumn,m.range.endLineNumber,m.range.endColumn)}))}}},MultiCursorSelectionController2.ID="editor.contrib.multiCursorController",MultiCursorSelectionController2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a),MultiCursorSelectionControllerAction=function(_super){__extends(MultiCursorSelectionControllerAction2,_super);function MultiCursorSelectionControllerAction2(){return _super!==null&&_super.apply(this,arguments)||this}return MultiCursorSelectionControllerAction2.prototype.run=function(accessor,editor){var multiCursorController=MultiCursorSelectionController.get(editor);if(multiCursorController){var findController=_find_findController_js__WEBPACK_IMPORTED_MODULE_12__.CommonFindController.get(editor);findController&&this._run(multiCursorController,findController)}},MultiCursorSelectionControllerAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b),AddSelectionToNextFindMatchAction=function(_super){__extends(AddSelectionToNextFindMatchAction2,_super);function AddSelectionToNextFindMatchAction2(){return _super.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.focus,primary:2082,weight:100},menuOpts:{menuId:23,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})||this}return AddSelectionToNextFindMatchAction2.prototype._run=function(multiCursorController,findController){multiCursorController.addSelectionToNextFindMatch(findController)},AddSelectionToNextFindMatchAction2}(MultiCursorSelectionControllerAction),AddSelectionToPreviousFindMatchAction=function(_super){__extends(AddSelectionToPreviousFindMatchAction2,_super);function AddSelectionToPreviousFindMatchAction2(){return _super.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:23,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})||this}return AddSelectionToPreviousFindMatchAction2.prototype._run=function(multiCursorController,findController){multiCursorController.addSelectionToPreviousFindMatch(findController)},AddSelectionToPreviousFindMatchAction2}(MultiCursorSelectionControllerAction),MoveSelectionToNextFindMatchAction=function(_super){__extends(MoveSelectionToNextFindMatchAction2,_super);function MoveSelectionToNextFindMatchAction2(){return _super.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.focus,primary:Object(_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_2__.a)(2089,2082),weight:100}})||this}return MoveSelectionToNextFindMatchAction2.prototype._run=function(multiCursorController,findController){multiCursorController.moveSelectionToNextFindMatch(findController)},MoveSelectionToNextFindMatchAction2}(MultiCursorSelectionControllerAction),MoveSelectionToPreviousFindMatchAction=function(_super){__extends(MoveSelectionToPreviousFindMatchAction2,_super);function MoveSelectionToPreviousFindMatchAction2(){return _super.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})||this}return MoveSelectionToPreviousFindMatchAction2.prototype._run=function(multiCursorController,findController){multiCursorController.moveSelectionToPreviousFindMatch(findController)},MoveSelectionToPreviousFindMatchAction2}(MultiCursorSelectionControllerAction),SelectHighlightsAction=function(_super){__extends(SelectHighlightsAction2,_super);function SelectHighlightsAction2(){return _super.call(this,{id:"editor.action.selectHighlights",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.focus,primary:3114,weight:100},menuOpts:{menuId:23,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})||this}return SelectHighlightsAction2.prototype._run=function(multiCursorController,findController){multiCursorController.selectAll(findController)},SelectHighlightsAction2}(MultiCursorSelectionControllerAction),CompatChangeAll=function(_super){__extends(CompatChangeAll2,_super);function CompatChangeAll2(){return _super.call(this,{id:"editor.action.changeAll",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_15__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})||this}return CompatChangeAll2.prototype._run=function(multiCursorController,findController){multiCursorController.selectAll(findController)},CompatChangeAll2}(MultiCursorSelectionControllerAction),SelectionHighlighterState=function(){function SelectionHighlighterState2(searchText,matchCase,wordSeparators){this.searchText=searchText,this.matchCase=matchCase,this.wordSeparators=wordSeparators}return SelectionHighlighterState2.softEquals=function(a,b){return!a&&!b?!0:!a||!b?!1:a.searchText===b.searchText&&a.matchCase===b.matchCase&&a.wordSeparators===b.wordSeparators},SelectionHighlighterState2}(),SelectionHighlighter=function(_super){__extends(SelectionHighlighter2,_super);function SelectionHighlighter2(editor){var _this=_super.call(this)||this;return _this.editor=editor,_this._isEnabled=editor.getOption(78),_this.decorations=[],_this.updateSoon=_this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__.d(function(){return _this._update()},300)),_this.state=null,_this._register(editor.onDidChangeConfiguration(function(e){_this._isEnabled=editor.getOption(78)})),_this._register(editor.onDidChangeCursorSelection(function(e){_this._isEnabled&&(e.selection.isEmpty()?e.reason===3?(_this.state&&_this._setState(null),_this.updateSoon.schedule()):_this._setState(null):_this._update())})),_this._register(editor.onDidChangeModel(function(e){_this._setState(null)})),_this._register(_find_findController_js__WEBPACK_IMPORTED_MODULE_12__.CommonFindController.get(editor).getState().onFindReplaceStateChange(function(e){_this._update()})),_this}return SelectionHighlighter2.prototype._update=function(){this._setState(SelectionHighlighter2._createState(this._isEnabled,this.editor))},SelectionHighlighter2._createState=function(isEnabled,editor){if(!isEnabled||!editor.hasModel())return null;var s=editor.getSelection();if(s.startLineNumber!==s.endLineNumber)return null;var multiCursorController=MultiCursorSelectionController.get(editor);if(!multiCursorController)return null;var findController=_find_findController_js__WEBPACK_IMPORTED_MODULE_12__.CommonFindController.get(editor);if(!findController)return null;var r=multiCursorController.getSession(findController);if(!r){var allSelections=editor.getSelections();if(allSelections.length>1){var findState_1=findController.getState(),matchCase=findState_1.matchCase,selectionsContainSameText=modelRangesContainSameText(editor.getModel(),allSelections,matchCase);if(!selectionsContainSameText)return null}r=MultiCursorSession.create(editor,findController)}if(!r||r.currentMatch||/^[ \t]+$/.test(r.searchText)||r.searchText.length>200)return null;var findState=findController.getState(),caseSensitive=findState.matchCase;if(findState.isRevealed){var findStateSearchString=findState.searchString;caseSensitive||(findStateSearchString=findStateSearchString.toLowerCase());var mySearchString=r.searchText;if(caseSensitive||(mySearchString=mySearchString.toLowerCase()),findStateSearchString===mySearchString&&r.matchCase===findState.matchCase&&r.wholeWord===findState.wholeWord&&!findState.isRegex)return null}return new SelectionHighlighterState(r.searchText,r.matchCase,r.wholeWord?editor.getOption(92):null)},SelectionHighlighter2.prototype._setState=function(state){if(SelectionHighlighterState.softEquals(this.state,state)){this.state=state;return}if(this.state=state,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(this.editor.hasModel()){var model=this.editor.getModel();if(!model.isTooLargeForTokenization()){var hasFindOccurrences=_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.i.has(model),allMatches=model.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(function(m){return m.range});allMatches.sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts);var selections=this.editor.getSelections();selections.sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts);for(var matches=[],i=0,j=0,len=allMatches.length,lenJ=selections.length;i<len;){var match=allMatches[i];if(j>=lenJ)matches.push(match),i++;else{var cmp=_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts(match,selections[j]);cmp<0?((selections[j].isEmpty()||!_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.areIntersecting(match,selections[j]))&&matches.push(match),i++):(cmp>0||i++,j++)}}var decorations=matches.map(function(r){return{range:r,options:hasFindOccurrences?SelectionHighlighter2._SELECTION_HIGHLIGHT:SelectionHighlighter2._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,decorations)}}},SelectionHighlighter2.prototype.dispose=function(){this._setState(null),_super.prototype.dispose.call(this)},SelectionHighlighter2.ID="editor.contrib.selectionHighlighter",SelectionHighlighter2._SELECTION_HIGHLIGHT_OVERVIEW=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.f)(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Mb),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),SelectionHighlighter2._SELECTION_HIGHLIGHT=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"selectionHighlight"}),SelectionHighlighter2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a);function modelRangesContainSameText(model,ranges,matchCase){for(var selectedText=getValueInRange(model,ranges[0],!matchCase),i=1,len=ranges.length;i<len;i++){var range=ranges[i];if(range.isEmpty())return!1;var thisSelectedText=getValueInRange(model,range,!matchCase);if(selectedText!==thisSelectedText)return!1}return!0}function getValueInRange(model,range,toLowerCase){var text=model.getValueInRange(range);return toLowerCase?text.toLowerCase():text}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.h)(MultiCursorSelectionController.ID,MultiCursorSelectionController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.h)(SelectionHighlighter.ID,SelectionHighlighter),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(InsertCursorAbove),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(InsertCursorBelow),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(InsertCursorAtEndOfEachLineSelected),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(AddSelectionToNextFindMatchAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(AddSelectionToPreviousFindMatchAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(MoveSelectionToNextFindMatchAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(MoveSelectionToPreviousFindMatchAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(SelectHighlightsAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(CompatChangeAll),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(InsertCursorAtEndOfLineSelected),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.f)(InsertCursorAtTopOfLineSelected)},2290:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"EditorActionCommandEntry",function(){return EditorActionCommandEntry}),__webpack_require__.d(__webpack_exports__,"QuickCommandAction",function(){return QuickCommandAction});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2642),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2176),_base_common_filters_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3168),_base_parts_quickopen_browser_quickOpenModel_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3604),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2099),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2632),_editorQuickOpen_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3597),_platform_keybinding_common_keybinding_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2760),_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2634),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),EditorActionCommandEntry=function(_super){__extends(EditorActionCommandEntry2,_super);function EditorActionCommandEntry2(key,keyAriaLabel,highlights,action,editor){var _this=_super.call(this)||this;return _this.key=key,_this.keyAriaLabel=keyAriaLabel,_this.setHighlights(highlights),_this.action=action,_this.editor=editor,_this}return EditorActionCommandEntry2.prototype.getLabel=function(){return this.action.label},EditorActionCommandEntry2.prototype.getAriaLabel=function(){return this.keyAriaLabel?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.d.ariaLabelEntryWithKey,this.getLabel(),this.keyAriaLabel):_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.r(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.d.ariaLabelEntry,this.getLabel())},EditorActionCommandEntry2.prototype.getGroupLabel=function(){return this.key},EditorActionCommandEntry2.prototype.run=function(mode,context){var _this=this;return mode===1?(setTimeout(function(){_this.editor.focus();try{var promise=_this.action.run()||Promise.resolve();promise.then(void 0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.e)}catch(error){Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.e)(error)}},50),!0):!1},EditorActionCommandEntry2}(_base_parts_quickopen_browser_quickOpenModel_js__WEBPACK_IMPORTED_MODULE_4__.b),QuickCommandAction=function(_super){__extends(QuickCommandAction2,_super);function QuickCommandAction2(){return _super.call(this,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.d.quickCommandActionInput,{id:"editor.action.quickCommand",label:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_9__.d.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_6__.a.focus,primary:_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.i?571:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})||this}return QuickCommandAction2.prototype.run=function(accessor,editor){var _this=this,keybindingService=accessor.get(_platform_keybinding_common_keybinding_js__WEBPACK_IMPORTED_MODULE_8__.a);this._show(this.getController(editor),{getModel:function(value){return new _base_parts_quickopen_browser_quickOpenModel_js__WEBPACK_IMPORTED_MODULE_4__.c(_this._editorActionsToEntries(keybindingService,editor,value))},getAutoFocus:function(searchValue){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:searchValue}}})},QuickCommandAction2.prototype._sort=function(elementA,elementB){var elementAName=(elementA.getLabel()||"").toLowerCase(),elementBName=(elementB.getLabel()||"").toLowerCase();return elementAName.localeCompare(elementBName)},QuickCommandAction2.prototype._editorActionsToEntries=function(keybindingService,editor,searchValue){for(var actions=editor.getSupportedActions(),entries=[],_i=0,actions_1=actions;_i<actions_1.length;_i++){var action=actions_1[_i],keybinding=keybindingService.lookupKeybinding(action.id);if(action.label){var highlights=Object(_base_common_filters_js__WEBPACK_IMPORTED_MODULE_3__.f)(searchValue,action.label);highlights&&entries.push(new EditorActionCommandEntry(keybinding&&keybinding.getLabel()||"",keybinding&&keybinding.getAriaLabel()||"",highlights,action,editor))}}return entries=entries.sort(this._sort),entries},QuickCommandAction2}(_editorQuickOpen_js__WEBPACK_IMPORTED_MODULE_7__.a);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__.f)(QuickCommandAction)},2291:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"StandaloneReferencesController",function(){return StandaloneReferencesController});var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2099),_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2732),_contrib_gotoSymbol_peek_referencesController_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5015),_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2786),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2238),_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2232),_platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2761),_platform_storage_common_storage_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3195),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},StandaloneReferencesController=function(_super){__extends(StandaloneReferencesController2,_super);function StandaloneReferencesController2(editor,contextKeyService,editorService,notificationService,instantiationService,storageService,configurationService){return _super.call(this,!0,editor,contextKeyService,editorService,notificationService,instantiationService,storageService,configurationService)||this}return StandaloneReferencesController2=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c),__param(2,_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_1__.a),__param(3,_platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_6__.a),__param(4,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_5__.a),__param(5,_platform_storage_common_storage_js__WEBPACK_IMPORTED_MODULE_7__.a),__param(6,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_3__.a)],StandaloneReferencesController2),StandaloneReferencesController2}(_contrib_gotoSymbol_peek_referencesController_js__WEBPACK_IMPORTED_MODULE_2__.a);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.h)(_contrib_gotoSymbol_peek_referencesController_js__WEBPACK_IMPORTED_MODULE_2__.a.ID,StandaloneReferencesController)},2292:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2099),_common_standaloneThemeService_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3286),_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2634),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ToggleHighContrast=function(_super){__extends(ToggleHighContrast2,_super);function ToggleHighContrast2(){var _this=_super.call(this,{id:"editor.action.toggleHighContrast",label:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_2__.h.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0})||this;return _this._originalThemeName=null,_this}return ToggleHighContrast2.prototype.run=function(accessor,editor){var standaloneThemeService=accessor.get(_common_standaloneThemeService_js__WEBPACK_IMPORTED_MODULE_1__.a);this._originalThemeName?(standaloneThemeService.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=standaloneThemeService.getTheme().themeName,standaloneThemeService.setTheme("hc-black"))},ToggleHighContrast2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.b);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.f)(ToggleHighContrast)},2293:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2099),_common_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3240),_common_core_range_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2056),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2632),_common_controller_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3499),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),TransposeLettersAction=function(_super){__extends(TransposeLettersAction2,_super);function TransposeLettersAction2(){return _super.call(this,{id:"editor.action.transposeLetters",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__.a.textInputFocus,primary:0,mac:{primary:306},weight:100}})||this}return TransposeLettersAction2.prototype.run=function(accessor,editor){if(editor.hasModel()){for(var model=editor.getModel(),commands=[],selections=editor.getSelections(),_i=0,selections_1=selections;_i<selections_1.length;_i++){var selection=selections_1[_i];if(selection.isEmpty()){var lineNumber=selection.startLineNumber,column=selection.startColumn,lastColumn=model.getLineMaxColumn(lineNumber);if(!(lineNumber===1&&(column===1||column===2&&lastColumn===2))){var endPosition=column===lastColumn?selection.getPosition():_common_controller_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__.a.rightPosition(model,selection.getPosition().lineNumber,selection.getPosition().column),middlePosition=_common_controller_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__.a.leftPosition(model,endPosition.lineNumber,endPosition.column),beginPosition=_common_controller_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__.a.leftPosition(model,middlePosition.lineNumber,middlePosition.column),leftChar=model.getValueInRange(_common_core_range_js__WEBPACK_IMPORTED_MODULE_3__.a.fromPositions(beginPosition,middlePosition)),rightChar=model.getValueInRange(_common_core_range_js__WEBPACK_IMPORTED_MODULE_3__.a.fromPositions(middlePosition,endPosition)),replaceRange=_common_core_range_js__WEBPACK_IMPORTED_MODULE_3__.a.fromPositions(beginPosition,endPosition);commands.push(new _common_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_2__.a(replaceRange,rightChar+leftChar))}}}commands.length>0&&(editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop())}},TransposeLettersAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.f)(TransposeLettersAction)},2294:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getOccurrencesAtPosition",function(){return getOccurrencesAtPosition});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2389),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2237),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2649),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2176),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2033),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2099),_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2056),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2632),_common_model_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2819),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2720),_common_modes_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2240),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2238),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2623),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2235),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},editorWordHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Tb)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),editorWordHighlightStrong=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Tb)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),editorWordHighlightBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Tb)("editor.wordHighlightBorder",{light:null,dark:null,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),editorWordHighlightStrongBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Tb)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),overviewRulerWordHighlightForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Tb)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),overviewRulerWordHighlightStrongForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Tb)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ctxHasWordHighlights=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__.d("hasWordHighlights",!1);function getOccurrencesAtPosition(model,position,token){var orderedByScore=_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.i.ordered(model);return Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.h)(orderedByScore.map(function(provider){return function(){return Promise.resolve(provider.provideDocumentHighlights(model,position,token)).then(void 0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__.f)}}),_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.q)}var OccurenceAtPositionRequest=function(){function OccurenceAtPositionRequest2(model,selection,wordSeparators){var _this=this;this._wordRange=this._getCurrentWordRange(model,selection),this.result=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.f)(function(token){return _this._compute(model,selection,wordSeparators,token)})}return OccurenceAtPositionRequest2.prototype._getCurrentWordRange=function(model,selection){var word=model.getWordAtPosition(selection.getPosition());return word?new _common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a(selection.startLineNumber,word.startColumn,selection.startLineNumber,word.endColumn):null},OccurenceAtPositionRequest2.prototype.isValid=function(model,selection,decorationIds){for(var lineNumber=selection.startLineNumber,startColumn=selection.startColumn,endColumn=selection.endColumn,currentWordRange=this._getCurrentWordRange(model,selection),requestIsValid=!!(this._wordRange&&this._wordRange.equalsRange(currentWordRange)),i=0,len=decorationIds.length;!requestIsValid&&i<len;i++){var range=model.getDecorationRange(decorationIds[i]);range&&range.startLineNumber===lineNumber&&range.startColumn<=startColumn&&range.endColumn>=endColumn&&(requestIsValid=!0)}return requestIsValid},OccurenceAtPositionRequest2.prototype.cancel=function(){this.result.cancel()},OccurenceAtPositionRequest2}(),SemanticOccurenceAtPositionRequest=function(_super){__extends(SemanticOccurenceAtPositionRequest2,_super);function SemanticOccurenceAtPositionRequest2(){return _super!==null&&_super.apply(this,arguments)||this}return SemanticOccurenceAtPositionRequest2.prototype._compute=function(model,selection,wordSeparators,token){return getOccurrencesAtPosition(model,selection.getPosition(),token).then(function(value){return value||[]})},SemanticOccurenceAtPositionRequest2}(OccurenceAtPositionRequest),TextualOccurenceAtPositionRequest=function(_super){__extends(TextualOccurenceAtPositionRequest2,_super);function TextualOccurenceAtPositionRequest2(model,selection,wordSeparators){var _this=_super.call(this,model,selection,wordSeparators)||this;return _this._selectionIsEmpty=selection.isEmpty(),_this}return TextualOccurenceAtPositionRequest2.prototype._compute=function(model,selection,wordSeparators,token){return Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.l)(250,token).then(function(){if(!selection.isEmpty())return[];var word=model.getWordAtPosition(selection.getPosition());if(!word)return[];var matches=model.findMatches(word.word,!0,!1,!0,wordSeparators,!1);return matches.map(function(m){return{range:m.range,kind:_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.h.Text}})})},TextualOccurenceAtPositionRequest2.prototype.isValid=function(model,selection,decorationIds){var currentSelectionIsEmpty=selection.isEmpty();return this._selectionIsEmpty!==currentSelectionIsEmpty?!1:_super.prototype.isValid.call(this,model,selection,decorationIds)},TextualOccurenceAtPositionRequest2}(OccurenceAtPositionRequest);function computeOccurencesAtPosition(model,selection,wordSeparators){return _common_modes_js__WEBPACK_IMPORTED_MODULE_11__.i.has(model)?new SemanticOccurenceAtPositionRequest(model,selection,wordSeparators):new TextualOccurenceAtPositionRequest(model,selection,wordSeparators)}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.e)("_executeDocumentHighlights",function(model,position){return getOccurrencesAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_3__.a.None)});var WordHighlighter=function(){function WordHighlighter2(editor,contextKeyService){var _this=this;this.toUnhook=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.b,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=editor,this._hasWordHighlights=ctxHasWordHighlights.bindTo(contextKeyService),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(59),this.model=this.editor.getModel(),this.toUnhook.add(editor.onDidChangeCursorPosition(function(e){_this._ignorePositionChangeEvent||_this.occurrencesHighlight&&_this._onPositionChanged(e)})),this.toUnhook.add(editor.onDidChangeModelContent(function(e){_this._stopAll()})),this.toUnhook.add(editor.onDidChangeConfiguration(function(e){var newValue=_this.editor.getOption(59);_this.occurrencesHighlight!==newValue&&(_this.occurrencesHighlight=newValue,_this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return WordHighlighter2.prototype.hasDecorations=function(){return this._decorationIds.length>0},WordHighlighter2.prototype.restore=function(){this.occurrencesHighlight&&this._run()},WordHighlighter2.prototype._getSortedHighlights=function(){var _this=this;return _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.d(this._decorationIds.map(function(id){return _this.model.getDecorationRange(id)}).sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a.compareRangesUsingStarts))},WordHighlighter2.prototype.moveNext=function(){var _this=this,highlights=this._getSortedHighlights(),index=_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.k(highlights,function(range){return range.containsPosition(_this.editor.getPosition())}),newIndex=(index+1)%highlights.length,dest=highlights[newIndex];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(dest.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(dest)}finally{this._ignorePositionChangeEvent=!1}},WordHighlighter2.prototype.moveBack=function(){var _this=this,highlights=this._getSortedHighlights(),index=_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.k(highlights,function(range){return range.containsPosition(_this.editor.getPosition())}),newIndex=(index-1+highlights.length)%highlights.length,dest=highlights[newIndex];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(dest.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(dest)}finally{this._ignorePositionChangeEvent=!1}},WordHighlighter2.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))},WordHighlighter2.prototype._stopAll=function(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},WordHighlighter2.prototype._onPositionChanged=function(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()},WordHighlighter2.prototype._run=function(){var _this=this,editorSelection=this.editor.getSelection();if(editorSelection.startLineNumber!==editorSelection.endLineNumber){this._stopAll();return}var lineNumber=editorSelection.startLineNumber,startColumn=editorSelection.startColumn,endColumn=editorSelection.endColumn,word=this.model.getWordAtPosition({lineNumber,column:startColumn});if(!word||word.startColumn>startColumn||word.endColumn<endColumn){this._stopAll();return}var workerRequestIsValid=this.workerRequest&&this.workerRequest.isValid(this.model,editorSelection,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),workerRequestIsValid)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var myRequestId_1=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=computeOccurencesAtPosition(this.model,this.editor.getSelection(),this.editor.getOption(92)),this.workerRequest.result.then(function(data){myRequestId_1===_this.workerRequestTokenId&&(_this.workerRequestCompleted=!0,_this.workerRequestValue=data||[],_this._beginRenderDecorations())},_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__.e)}},WordHighlighter2.prototype._beginRenderDecorations=function(){var _this=this,currentTime=new Date().getTime(),minimumRenderTime=this.lastCursorPositionChangeTime+250;currentTime>=minimumRenderTime?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){_this.renderDecorations()},minimumRenderTime-currentTime)},WordHighlighter2.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var decorations=[],i=0,len=this.workerRequestValue.length;i<len;i++){var info=this.workerRequestValue[i];decorations.push({range:info.range,options:WordHighlighter2._getDecorationOptions(info.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,decorations),this._hasWordHighlights.set(this.hasDecorations())},WordHighlighter2._getDecorationOptions=function(kind){return kind===_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.h.Write?this._WRITE_OPTIONS:kind===_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.h.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},WordHighlighter2.prototype.dispose=function(){this._stopAll(),this.toUnhook.dispose()},WordHighlighter2._WRITE_OPTIONS=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.f)(overviewRulerWordHighlightStrongForeground),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),WordHighlighter2._TEXT_OPTIONS=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.f)(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Mb),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),WordHighlighter2._REGULAR_OPTIONS=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.f)(overviewRulerWordHighlightForeground),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),WordHighlighter2}(),WordHighlighterContribution=function(_super){__extends(WordHighlighterContribution2,_super);function WordHighlighterContribution2(editor,contextKeyService){var _this=_super.call(this)||this;_this.wordHighligher=null;var createWordHighlighterIfPossible=function(){editor.hasModel()&&(_this.wordHighligher=new WordHighlighter(editor,contextKeyService))};return _this._register(editor.onDidChangeModel(function(e){_this.wordHighligher&&(_this.wordHighligher.dispose(),_this.wordHighligher=null),createWordHighlighterIfPossible()})),createWordHighlighterIfPossible(),_this}return WordHighlighterContribution2.get=function(editor){return editor.getContribution(WordHighlighterContribution2.ID)},WordHighlighterContribution2.prototype.saveViewState=function(){return!!(this.wordHighligher&&this.wordHighligher.hasDecorations())},WordHighlighterContribution2.prototype.moveNext=function(){this.wordHighligher&&this.wordHighligher.moveNext()},WordHighlighterContribution2.prototype.moveBack=function(){this.wordHighligher&&this.wordHighligher.moveBack()},WordHighlighterContribution2.prototype.restoreViewState=function(state){this.wordHighligher&&state&&this.wordHighligher.restore()},WordHighlighterContribution2.prototype.dispose=function(){this.wordHighligher&&(this.wordHighligher.dispose(),this.wordHighligher=null),_super.prototype.dispose.call(this)},WordHighlighterContribution2.ID="editor.contrib.wordHighlighter",WordHighlighterContribution2=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__.c)],WordHighlighterContribution2),WordHighlighterContribution2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.a),WordHighlightNavigationAction=function(_super){__extends(WordHighlightNavigationAction2,_super);function WordHighlightNavigationAction2(next,opts){var _this=_super.call(this,opts)||this;return _this._isNext=next,_this}return WordHighlightNavigationAction2.prototype.run=function(accessor,editor){var controller=WordHighlighterContribution.get(editor);controller&&(this._isNext?controller.moveNext():controller.moveBack())},WordHighlightNavigationAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.b),NextWordHighlightAction=function(_super){__extends(NextWordHighlightAction2,_super);function NextWordHighlightAction2(){return _super.call(this,!0,{id:"editor.action.wordHighlight.next",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:ctxHasWordHighlights,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:65,weight:100}})||this}return NextWordHighlightAction2}(WordHighlightNavigationAction),PrevWordHighlightAction=function(_super){__extends(PrevWordHighlightAction2,_super);function PrevWordHighlightAction2(){return _super.call(this,!1,{id:"editor.action.wordHighlight.prev",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:ctxHasWordHighlights,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:1089,weight:100}})||this}return PrevWordHighlightAction2}(WordHighlightNavigationAction),TriggerWordHighlightAction=function(_super){__extends(TriggerWordHighlightAction2,_super);function TriggerWordHighlightAction2(){return _super.call(this,{id:"editor.action.wordHighlight.trigger",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:ctxHasWordHighlights.toNegated(),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:0,weight:100}})||this}return TriggerWordHighlightAction2.prototype.run=function(accessor,editor,args){var controller=WordHighlighterContribution.get(editor);controller&&controller.restoreViewState(!0)},TriggerWordHighlightAction2}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.b);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.h)(WordHighlighterContribution.ID,WordHighlighterContribution),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.f)(NextWordHighlightAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.f)(PrevWordHighlightAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.f)(TriggerWordHighlightAction),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.e)(function(theme,collector){var selectionHighlight=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.M);selectionHighlight&&(collector.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+selectionHighlight+"; }"),collector.addRule(".monaco-editor .selectionHighlight { background-color: "+selectionHighlight.transparent(.5)+"; }"));var wordHighlight=theme.getColor(editorWordHighlight);wordHighlight&&collector.addRule(".monaco-editor .wordHighlight { background-color: "+wordHighlight+"; }");var wordHighlightStrong=theme.getColor(editorWordHighlightStrong);wordHighlightStrong&&collector.addRule(".monaco-editor .wordHighlightStrong { background-color: "+wordHighlightStrong+"; }");var selectionHighlightBorder=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.N);selectionHighlightBorder&&collector.addRule(".monaco-editor .selectionHighlight { border: 1px "+(theme.type==="hc"?"dotted":"solid")+" "+selectionHighlightBorder+"; box-sizing: border-box; }");var wordHighlightBorder=theme.getColor(editorWordHighlightBorder);wordHighlightBorder&&collector.addRule(".monaco-editor .wordHighlight { border: 1px "+(theme.type==="hc"?"dashed":"solid")+" "+wordHighlightBorder+"; box-sizing: border-box; }");var wordHighlightStrongBorder=theme.getColor(editorWordHighlightStrongBorder);wordHighlightStrongBorder&&collector.addRule(".monaco-editor .wordHighlightStrong { border: 1px "+(theme.type==="hc"?"dashed":"solid")+" "+wordHighlightStrongBorder+"; box-sizing: border-box; }")})},2295:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DeleteWordPartLeft",function(){return DeleteWordPartLeft}),__webpack_require__.d(__webpack_exports__,"DeleteWordPartRight",function(){return DeleteWordPartRight}),__webpack_require__.d(__webpack_exports__,"WordPartLeftCommand",function(){return WordPartLeftCommand}),__webpack_require__.d(__webpack_exports__,"CursorWordPartLeft",function(){return CursorWordPartLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordPartLeftSelect",function(){return CursorWordPartLeftSelect}),__webpack_require__.d(__webpack_exports__,"WordPartRightCommand",function(){return WordPartRightCommand}),__webpack_require__.d(__webpack_exports__,"CursorWordPartRight",function(){return CursorWordPartRight}),__webpack_require__.d(__webpack_exports__,"CursorWordPartRightSelect",function(){return CursorWordPartRightSelect});var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2099),_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3500),_common_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2056),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2632),_wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2257),_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2733),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),DeleteWordPartLeft=function(_super){__extends(DeleteWordPartLeft2,_super);function DeleteWordPartLeft2(){return _super.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:769},weight:100}})||this}return DeleteWordPartLeft2.prototype._delete=function(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){var r=_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__.b.deleteWordPartLeft(wordSeparators,model,selection,whitespaceHeuristics);return r||new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(1,1,1,1)},DeleteWordPartLeft2}(_wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__.DeleteWordCommand),DeleteWordPartRight=function(_super){__extends(DeleteWordPartRight2,_super);function DeleteWordPartRight2(){return _super.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:788},weight:100}})||this}return DeleteWordPartRight2.prototype._delete=function(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){var r=_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__.b.deleteWordPartRight(wordSeparators,model,selection,whitespaceHeuristics);if(r)return r;var lineCount=model.getLineCount(),maxColumn=model.getLineMaxColumn(lineCount);return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineCount,maxColumn,lineCount,maxColumn)},DeleteWordPartRight2}(_wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__.DeleteWordCommand),WordPartLeftCommand=function(_super){__extends(WordPartLeftCommand2,_super);function WordPartLeftCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return WordPartLeftCommand2.prototype._move=function(wordSeparators,model,position,wordNavigationType){return _common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__.b.moveWordPartLeft(wordSeparators,model,position)},WordPartLeftCommand2}(_wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__.MoveWordCommand),CursorWordPartLeft=function(_super){__extends(CursorWordPartLeft2,_super);function CursorWordPartLeft2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:783},weight:100}})||this}return CursorWordPartLeft2}(WordPartLeftCommand);_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var CursorWordPartLeftSelect=function(_super){__extends(CursorWordPartLeftSelect2,_super);function CursorWordPartLeftSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:1807},weight:100}})||this}return CursorWordPartLeftSelect2}(WordPartLeftCommand);_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var WordPartRightCommand=function(_super){__extends(WordPartRightCommand2,_super);function WordPartRightCommand2(){return _super!==null&&_super.apply(this,arguments)||this}return WordPartRightCommand2.prototype._move=function(wordSeparators,model,position,wordNavigationType){return _common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__.b.moveWordPartRight(wordSeparators,model,position)},WordPartRightCommand2}(_wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__.MoveWordCommand),CursorWordPartRight=function(_super){__extends(CursorWordPartRight2,_super);function CursorWordPartRight2(){return _super.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:785},weight:100}})||this}return CursorWordPartRight2}(WordPartRightCommand),CursorWordPartRightSelect=function(_super){__extends(CursorWordPartRightSelect2,_super);function CursorWordPartRightSelect2(){return _super.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:1809},weight:100}})||this}return CursorWordPartRightSelect2}(WordPartRightCommand);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new DeleteWordPartLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new DeleteWordPartRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordPartLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordPartLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordPartRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.g)(new CursorWordPartRightSelect)},2296:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return __webpack_require__.e(345).then(__webpack_require__.bind(null,6031))}})},2297:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return __webpack_require__.e(346).then(__webpack_require__.bind(null,6032))}})},2298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return __webpack_require__.e(347).then(__webpack_require__.bind(null,6033))}})},2299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return __webpack_require__.e(348).then(__webpack_require__.bind(null,6034))}})},2300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return __webpack_require__.e(349).then(__webpack_require__.bind(null,6035))}})},2301:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return __webpack_require__.e(350).then(__webpack_require__.bind(null,6036))}})},2302:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return __webpack_require__.e(351).then(__webpack_require__.bind(null,6037))}})},2303:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return __webpack_require__.e(30).then(__webpack_require__.bind(null,4971))}}),Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return __webpack_require__.e(30).then(__webpack_require__.bind(null,4971))}})},2304:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return __webpack_require__.e(352).then(__webpack_require__.bind(null,6038))}})},2305:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return __webpack_require__.e(353).then(__webpack_require__.bind(null,6039))}})},2306:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return __webpack_require__.e(354).then(__webpack_require__.bind(null,6040))}})},2307:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LanguageServiceDefaultsImpl",function(){return LanguageServiceDefaultsImpl});var _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2120),_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__),Emitter=monaco.Emitter,LanguageServiceDefaultsImpl=function(){function LanguageServiceDefaultsImpl2(languageId,diagnosticsOptions,modeConfiguration){this._onDidChange=new Emitter,this._languageId=languageId,this.setDiagnosticsOptions(diagnosticsOptions),this.setModeConfiguration(modeConfiguration)}return Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),LanguageServiceDefaultsImpl2.prototype.setDiagnosticsOptions=function(options){this._diagnosticsOptions=options||Object.create(null),this._onDidChange.fire(this)},LanguageServiceDefaultsImpl2.prototype.setModeConfiguration=function(modeConfiguration){this._modeConfiguration=modeConfiguration||Object.create(null),this._onDidChange.fire(this)},LanguageServiceDefaultsImpl2}(),diagnosticDefault={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},modeConfigurationDefault={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},cssDefaults=new LanguageServiceDefaultsImpl("css",diagnosticDefault,modeConfigurationDefault),scssDefaults=new LanguageServiceDefaultsImpl("scss",diagnosticDefault,modeConfigurationDefault),lessDefaults=new LanguageServiceDefaultsImpl("less",diagnosticDefault,modeConfigurationDefault);function createAPI(){return{cssDefaults,lessDefaults,scssDefaults}}monaco.languages.css=createAPI();function getMode(){return __webpack_require__.e(303).then(__webpack_require__.bind(null,6308))}monaco.languages.onLanguage("less",function(){getMode().then(function(mode){return mode.setupMode(lessDefaults)})}),monaco.languages.onLanguage("scss",function(){getMode().then(function(mode){return mode.setupMode(scssDefaults)})}),monaco.languages.onLanguage("css",function(){getMode().then(function(mode){return mode.setupMode(cssDefaults)})})},2308:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return __webpack_require__.e(355).then(__webpack_require__.bind(null,6042))}})},2309:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return __webpack_require__.e(356).then(__webpack_require__.bind(null,6043))}})},2310:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return __webpack_require__.e(357).then(__webpack_require__.bind(null,6044))}})},2311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return __webpack_require__.e(358).then(__webpack_require__.bind(null,6045))}})},2312:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return __webpack_require__.e(359).then(__webpack_require__.bind(null,6046))}})},2313:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return __webpack_require__.e(360).then(__webpack_require__.bind(null,6047))}})},2314:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LanguageServiceDefaultsImpl",function(){return LanguageServiceDefaultsImpl});var _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2120),_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__),Emitter=monaco.Emitter,LanguageServiceDefaultsImpl=function(){function LanguageServiceDefaultsImpl2(languageId,options,modeConfiguration){this._onDidChange=new Emitter,this._languageId=languageId,this.setOptions(options),this.setModeConfiguration(modeConfiguration)}return Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!0,configurable:!0}),LanguageServiceDefaultsImpl2.prototype.setOptions=function(options){this._options=options||Object.create(null),this._onDidChange.fire(this)},LanguageServiceDefaultsImpl2.prototype.setModeConfiguration=function(modeConfiguration){this._modeConfiguration=modeConfiguration||Object.create(null),this._onDidChange.fire(this)},LanguageServiceDefaultsImpl2}(),formatDefaults={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},htmlOptionsDefault={format:formatDefaults,suggest:{html5:!0,angular1:!0,ionic:!0}},handlebarOptionsDefault={format:formatDefaults,suggest:{html5:!0}},razorOptionsDefault={format:formatDefaults,suggest:{html5:!0,razor:!0}};function getConfigurationDefault(languageId){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:languageId===htmlLanguageId,documentFormattingEdits:languageId===htmlLanguageId,documentRangeFormattingEdits:languageId===htmlLanguageId}}var htmlLanguageId="html",handlebarsLanguageId="handlebars",razorLanguageId="razor",htmlDefaults=new LanguageServiceDefaultsImpl(htmlLanguageId,htmlOptionsDefault,getConfigurationDefault(htmlLanguageId)),handlebarDefaults=new LanguageServiceDefaultsImpl(handlebarsLanguageId,handlebarOptionsDefault,getConfigurationDefault(handlebarsLanguageId)),razorDefaults=new LanguageServiceDefaultsImpl(razorLanguageId,razorOptionsDefault,getConfigurationDefault(razorLanguageId));function createAPI(){return{htmlDefaults,razorDefaults,handlebarDefaults}}monaco.languages.html=createAPI();function getMode(){return __webpack_require__.e(304).then(__webpack_require__.bind(null,6309))}monaco.languages.onLanguage(htmlLanguageId,function(){getMode().then(function(mode){return mode.setupMode(htmlDefaults)})}),monaco.languages.onLanguage(handlebarsLanguageId,function(){getMode().then(function(mode){return mode.setupMode(handlebarDefaults)})}),monaco.languages.onLanguage(razorLanguageId,function(){getMode().then(function(mode){return mode.setupMode(razorDefaults)})})},2315:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return __webpack_require__.e(361).then(__webpack_require__.bind(null,6049))}})},2316:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return __webpack_require__.e(362).then(__webpack_require__.bind(null,6050))}})},2317:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return __webpack_require__.e(302).then(__webpack_require__.bind(null,6051))}})},2318:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LanguageServiceDefaultsImpl",function(){return LanguageServiceDefaultsImpl});var _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2120),_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__),Emitter=monaco.Emitter,LanguageServiceDefaultsImpl=function(){function LanguageServiceDefaultsImpl2(languageId,diagnosticsOptions,modeConfiguration){this._onDidChange=new Emitter,this._languageId=languageId,this.setDiagnosticsOptions(diagnosticsOptions),this.setModeConfiguration(modeConfiguration)}return Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),LanguageServiceDefaultsImpl2.prototype.setDiagnosticsOptions=function(options){this._diagnosticsOptions=options||Object.create(null),this._onDidChange.fire(this)},LanguageServiceDefaultsImpl2.prototype.setModeConfiguration=function(modeConfiguration){this._modeConfiguration=modeConfiguration||Object.create(null),this._onDidChange.fire(this)},LanguageServiceDefaultsImpl2}(),diagnosticDefault={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1},modeConfigurationDefault={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},jsonDefaults=new LanguageServiceDefaultsImpl("json",diagnosticDefault,modeConfigurationDefault);function createAPI(){return{jsonDefaults}}monaco.languages.json=createAPI();function getMode(){return __webpack_require__.e(305).then(__webpack_require__.bind(null,6310))}monaco.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),monaco.languages.onLanguage("json",function(){getMode().then(function(mode){return mode.setupMode(jsonDefaults)})})},2319:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return __webpack_require__.e(363).then(__webpack_require__.bind(null,6053))}})},2320:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return __webpack_require__.e(364).then(__webpack_require__.bind(null,6054))}})},2321:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return __webpack_require__.e(365).then(__webpack_require__.bind(null,6055))}})},2322:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return __webpack_require__.e(366).then(__webpack_require__.bind(null,6056))}})},2323:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return __webpack_require__.e(367).then(__webpack_require__.bind(null,6057))}})},2324:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return __webpack_require__.e(368).then(__webpack_require__.bind(null,6058))}})},2325:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return __webpack_require__.e(369).then(__webpack_require__.bind(null,6059))}})},2326:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return __webpack_require__.e(370).then(__webpack_require__.bind(null,6060))}})},2327:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return __webpack_require__.e(371).then(__webpack_require__.bind(null,6061))}})},2328:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return __webpack_require__.e(372).then(__webpack_require__.bind(null,6062))}})},2329:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return __webpack_require__.e(373).then(__webpack_require__.bind(null,6063))}})},2330:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return __webpack_require__.e(374).then(__webpack_require__.bind(null,6064))}})},2331:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return __webpack_require__.e(375).then(__webpack_require__.bind(null,6065))}})},2332:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return __webpack_require__.e(376).then(__webpack_require__.bind(null,6066))}})},2333:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return __webpack_require__.e(377).then(__webpack_require__.bind(null,6067))}})},2334:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return __webpack_require__.e(378).then(__webpack_require__.bind(null,6068))}})},2335:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return __webpack_require__.e(379).then(__webpack_require__.bind(null,6069))}})},2336:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return __webpack_require__.e(380).then(__webpack_require__.bind(null,6070))}})},2337:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"r",extensions:[".r",".rhistory",".rprofile",".rt"],aliases:["R","r"],loader:function(){return __webpack_require__.e(381).then(__webpack_require__.bind(null,6071))}})},2338:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return __webpack_require__.e(382).then(__webpack_require__.bind(null,6072))}})},2339:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return __webpack_require__.e(383).then(__webpack_require__.bind(null,6073))}})},2340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return __webpack_require__.e(384).then(__webpack_require__.bind(null,6074))}})},2341:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return __webpack_require__.e(385).then(__webpack_require__.bind(null,6075))}})},2342:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile"],aliases:["Ruby","rb"],loader:function(){return __webpack_require__.e(386).then(__webpack_require__.bind(null,6076))}})},2343:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return __webpack_require__.e(387).then(__webpack_require__.bind(null,6077))}})},2344:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return __webpack_require__.e(388).then(__webpack_require__.bind(null,6078))}})},2345:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return __webpack_require__.e(389).then(__webpack_require__.bind(null,6079))}})},2346:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return __webpack_require__.e(390).then(__webpack_require__.bind(null,6080))}})},2347:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return __webpack_require__.e(391).then(__webpack_require__.bind(null,6081))}})},2348:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return __webpack_require__.e(392).then(__webpack_require__.bind(null,6082))}})},2349:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return __webpack_require__.e(393).then(__webpack_require__.bind(null,6083))}})},2350:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return __webpack_require__.e(394).then(__webpack_require__.bind(null,6084))}})},2351:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return __webpack_require__.e(395).then(__webpack_require__.bind(null,6085))}})},2352:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return __webpack_require__.e(396).then(__webpack_require__.bind(null,6086))}})},2353:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return __webpack_require__.e(397).then(__webpack_require__.bind(null,6087))}})},2354:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return __webpack_require__.e(398).then(__webpack_require__.bind(null,6088))}})},2355:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return __webpack_require__.e(399).then(__webpack_require__.bind(null,3578))}})},2356:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return __webpack_require__.e(400).then(__webpack_require__.bind(null,6089))}})},2357:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return __webpack_require__.e(401).then(__webpack_require__.bind(null,6090))}})},2358:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2181);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return __webpack_require__.e(402).then(__webpack_require__.bind(null,6091))}})},2362:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SuggestController",function(){return suggestController_SuggestController}),__webpack_require__.d(__webpack_exports__,"TriggerSuggestAction",function(){return suggestController_TriggerSuggestAction});var aria=__webpack_require__(2815),arrays=__webpack_require__(2389),errors=__webpack_require__(2176),keyCodes=__webpack_require__(2768),lifecycle=__webpack_require__(2033),editorExtensions=__webpack_require__(2099),editOperation=__webpack_require__(3115),core_range=__webpack_require__(2056),editorContextKeys=__webpack_require__(2632),snippetController2=__webpack_require__(2248),snippetParser=__webpack_require__(3512),map=__webpack_require__(2803),storage=__webpack_require__(3195),modes=__webpack_require__(2240),common_async=__webpack_require__(2237),instantiation=__webpack_require__(2232),configuration=__webpack_require__(2786),extensions=__webpack_require__(3237),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},Memory=function(){function Memory2(){}return Memory2.prototype.select=function(model,pos,items){if(items.length===0)return 0;for(var topScore=items[0].score[0],i=1;i<items.length;i++){var _a=items[i],score=_a.score,suggestion=_a.completion;if(score[0]!==topScore)break;if(suggestion.preselect)return i}return 0},Memory2}(),NoMemory=function(_super){__extends(NoMemory2,_super);function NoMemory2(){return _super!==null&&_super.apply(this,arguments)||this}return NoMemory2.prototype.memorize=function(model,pos,item){},NoMemory2.prototype.toJSON=function(){},NoMemory2.prototype.fromJSON=function(){},NoMemory2}(Memory),suggestMemory_LRUMemory=function(_super){__extends(LRUMemory,_super);function LRUMemory(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this._cache=new map.a(300,.66),_this._seq=0,_this}return LRUMemory.prototype.memorize=function(model,pos,item){var label=item.completion.label,key=model.getLanguageIdentifier().language+"/"+label;this._cache.set(key,{touch:this._seq++,type:item.completion.kind,insertText:item.completion.insertText})},LRUMemory.prototype.select=function(model,pos,items){if(items.length===0)return 0;var lineSuffix=model.getLineContent(pos.lineNumber).substr(pos.column-10,pos.column-1);if(/\s$/.test(lineSuffix))return _super.prototype.select.call(this,model,pos,items);for(var topScore=items[0].score[0],indexPreselect=-1,indexRecency=-1,seq=-1,i=0;i<items.length&&items[i].score[0]===topScore;i++){var key=model.getLanguageIdentifier().language+"/"+items[i].completion.label,item=this._cache.peek(key);if(item&&item.touch>seq&&item.type===items[i].completion.kind&&item.insertText===items[i].completion.insertText&&(seq=item.touch,indexRecency=i),items[i].completion.preselect&&indexPreselect===-1)return indexPreselect=i}return indexRecency!==-1?indexRecency:indexPreselect!==-1?indexPreselect:0},LRUMemory.prototype.toJSON=function(){var data=[];return this._cache.forEach(function(value,key){data.push([key,value])}),data},LRUMemory.prototype.fromJSON=function(data){this._cache.clear();for(var seq=0,_i=0,data_1=data;_i<data_1.length;_i++){var _a=data_1[_i],key=_a[0],value=_a[1];value.touch=seq,value.type=typeof value.type=="number"?value.type:Object(modes.C)(value.type),this._cache.set(key,value)}this._seq=this._cache.size},LRUMemory}(Memory),suggestMemory_PrefixMemory=function(_super){__extends(PrefixMemory,_super);function PrefixMemory(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this._trie=map.c.forStrings(),_this._seq=0,_this}return PrefixMemory.prototype.memorize=function(model,pos,item){var word=model.getWordUntilPosition(pos).word,key=model.getLanguageIdentifier().language+"/"+word;this._trie.set(key,{type:item.completion.kind,insertText:item.completion.insertText,touch:this._seq++})},PrefixMemory.prototype.select=function(model,pos,items){var word=model.getWordUntilPosition(pos).word;if(!word)return _super.prototype.select.call(this,model,pos,items);var key=model.getLanguageIdentifier().language+"/"+word,item=this._trie.get(key);if(item||(item=this._trie.findSubstr(key)),item)for(var i=0;i<items.length;i++){var _a=items[i].completion,kind=_a.kind,insertText=_a.insertText;if(kind===item.type&&insertText===item.insertText)return i}return _super.prototype.select.call(this,model,pos,items)},PrefixMemory.prototype.toJSON=function(){var entries=[];return this._trie.forEach(function(value,key){return entries.push([key,value])}),entries.sort(function(a,b){return-(a[1].touch-b[1].touch)}).forEach(function(value,i){return value[1].touch=i}),entries.slice(0,200)},PrefixMemory.prototype.fromJSON=function(data){if(this._trie.clear(),data.length>0){this._seq=data[0][1].touch+1;for(var _i=0,data_2=data;_i<data_2.length;_i++){var _a=data_2[_i],key=_a[0],value=_a[1];value.type=typeof value.type=="number"?value.type:Object(modes.C)(value.type),this._trie.set(key,value)}}},PrefixMemory}(Memory),suggestMemory_SuggestMemoryService=function(_super){__extends(SuggestMemoryService,_super);function SuggestMemoryService(_storageService,_configService){var _this=_super.call(this)||this;_this._storageService=_storageService,_this._configService=_configService,_this._storagePrefix="suggest/memories";var update=function(){var mode=_this._configService.getValue("editor.suggestSelection"),share=_this._configService.getValue("editor.suggest.shareSuggestSelections");_this._update(mode,share,!1)};return _this._persistSoon=_this._register(new common_async.d(function(){return _this._saveState()},500)),_this._register(_storageService.onWillSaveState(function(e){e.reason===storage.c.SHUTDOWN&&_this._saveState()})),_this._register(_this._configService.onDidChangeConfiguration(function(e){(e.affectsConfiguration("editor.suggestSelection")||e.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&update()})),_this._register(_this._storageService.onDidChangeStorage(function(e){e.scope===0&&e.key.indexOf(_this._storagePrefix)===0&&(document.hasFocus()||_this._update(_this._mode,_this._shareMem,!0))})),update(),_this}return SuggestMemoryService.prototype._update=function(mode,shareMem,force){if(!(!force&&this._mode===mode&&this._shareMem===shareMem)){this._shareMem=shareMem,this._mode=mode,this._strategy=mode==="recentlyUsedByPrefix"?new suggestMemory_PrefixMemory:mode==="recentlyUsed"?new suggestMemory_LRUMemory:new NoMemory;try{var scope=shareMem?0:1,raw=this._storageService.get(this._storagePrefix+"/"+this._mode,scope);raw&&this._strategy.fromJSON(JSON.parse(raw))}catch{}}},SuggestMemoryService.prototype.memorize=function(model,pos,item){this._strategy.memorize(model,pos,item),this._persistSoon.schedule()},SuggestMemoryService.prototype.select=function(model,pos,items){return this._strategy.select(model,pos,items)},SuggestMemoryService.prototype._saveState=function(){var raw=JSON.stringify(this._strategy),scope=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,raw,scope)},SuggestMemoryService=__decorate([__param(0,storage.a),__param(1,configuration.a)],SuggestMemoryService),SuggestMemoryService}(lifecycle.a),ISuggestMemoryService=Object(instantiation.c)("ISuggestMemories");Object(extensions.b)(ISuggestMemoryService,suggestMemory_SuggestMemoryService,!0);var nls=__webpack_require__(2069),commands=__webpack_require__(2733),contextkey=__webpack_require__(2238),keybindingsRegistry=__webpack_require__(3234),suggest=__webpack_require__(3382),suggestAlternatives_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},suggestAlternatives_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},suggestAlternatives_SuggestAlternatives=function(){function SuggestAlternatives(_editor,contextKeyService){this._editor=_editor,this._index=0,this._ckOtherSuggestions=SuggestAlternatives.OtherSuggestions.bindTo(contextKeyService)}return SuggestAlternatives.prototype.dispose=function(){this.reset()},SuggestAlternatives.prototype.reset=function(){this._ckOtherSuggestions.reset(),Object(lifecycle.f)(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},SuggestAlternatives.prototype.set=function(_a,acceptNext){var _this=this,model=_a.model,index=_a.index;if(model.items.length===0){this.reset();return}var nextIndex=SuggestAlternatives._moveIndex(!0,model,index);if(nextIndex===index){this.reset();return}this._acceptNext=acceptNext,this._model=model,this._index=index,this._listener=this._editor.onDidChangeCursorPosition(function(){_this._ignore||_this.reset()}),this._ckOtherSuggestions.set(!0)},SuggestAlternatives._moveIndex=function(fwd,model,index){for(var newIndex=index;newIndex=(newIndex+model.items.length+(fwd?1:-1))%model.items.length,!(newIndex===index||!model.items[newIndex].completion.additionalTextEdits););return newIndex},SuggestAlternatives.prototype.next=function(){this._move(!0)},SuggestAlternatives.prototype.prev=function(){this._move(!1)},SuggestAlternatives.prototype._move=function(fwd){if(this._model)try{this._ignore=!0,this._index=SuggestAlternatives._moveIndex(fwd,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},SuggestAlternatives.OtherSuggestions=new contextkey.d("hasOtherSuggestions",!1),SuggestAlternatives=suggestAlternatives_decorate([suggestAlternatives_param(1,contextkey.c)],SuggestAlternatives),SuggestAlternatives}(),common_event=__webpack_require__(2106),selection=__webpack_require__(2629),filters=__webpack_require__(3168),strings=__webpack_require__(2123),LineContext=function(){function LineContext2(leadingLineContent,characterCountDelta){this.leadingLineContent=leadingLineContent,this.characterCountDelta=characterCountDelta}return LineContext2}(),completionModel_CompletionModel=function(){function CompletionModel(items,column,lineContext,wordDistance,options,snippetSuggestions){this._snippetCompareFn=CompletionModel._compareCompletionItems,this._items=items,this._column=column,this._wordDistance=wordDistance,this._options=options,this._refilterKind=1,this._lineContext=lineContext,snippetSuggestions==="top"?this._snippetCompareFn=CompletionModel._compareCompletionItemsSnippetsUp:snippetSuggestions==="bottom"&&(this._snippetCompareFn=CompletionModel._compareCompletionItemsSnippetsDown)}return Object.defineProperty(CompletionModel.prototype,"lineContext",{get:function(){return this._lineContext},set:function(value){(this._lineContext.leadingLineContent!==value.leadingLineContent||this._lineContext.characterCountDelta!==value.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<value.characterCountDelta&&this._filteredItems?2:1,this._lineContext=value)},enumerable:!0,configurable:!0}),Object.defineProperty(CompletionModel.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(CompletionModel.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),CompletionModel.prototype.adopt=function(except){for(var res=new Array,i=0;i<this._items.length;)except.has(this._items[i].provider)?i++:(res.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,res},Object.defineProperty(CompletionModel.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),CompletionModel.prototype._ensureCachedState=function(){this._refilterKind!==0&&this._createCachedState()},CompletionModel.prototype._createCachedState=function(){this._isIncomplete=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var _a=this._lineContext,leadingLineContent=_a.leadingLineContent,characterCountDelta=_a.characterCountDelta,word="",wordLow="",source=this._refilterKind===1?this._items:this._filteredItems,target=[],scoreFn=!this._options.filterGraceful||source.length>2e3?filters.d:filters.e,i=0;i<source.length;i++){var item=source[i];item.container.incomplete&&this._isIncomplete.add(item.provider);var overwriteBefore=item.position.column-item.editStart.column,wordLen=overwriteBefore+characterCountDelta-(item.position.column-this._column);if(word.length!==wordLen&&(word=wordLen===0?"":leadingLineContent.slice(-wordLen),wordLow=word.toLowerCase()),item.word=word,wordLen===0)item.score=filters.a.Default;else{for(var wordPos=0;wordPos<overwriteBefore;){var ch=word.charCodeAt(wordPos);if(ch===32||ch===9)wordPos+=1;else break}if(wordPos>=wordLen)item.score=filters.a.Default;else if(typeof item.completion.filterText=="string"){var match=scoreFn(word,wordLow,wordPos,item.completion.filterText,item.filterTextLow,0,!1);if(!match)continue;Object(strings.f)(item.completion.filterText,item.completion.label)===0?item.score=match:(item.score=Object(filters.b)(word,wordLow,wordPos,item.completion.label,item.labelLow,0),item.score[0]=match[0])}else{var match=scoreFn(word,wordLow,wordPos,item.completion.label,item.labelLow,0,!1);if(!match)continue;item.score=match}}switch(item.idx=i,item.distance=this._wordDistance.distance(item.position,item.completion),target.push(item),this._stats.suggestionCount++,item.completion.kind){case 25:this._stats.snippetCount++;break;case 18:this._stats.textCount++;break}}this._filteredItems=target.sort(this._snippetCompareFn),this._refilterKind=0},CompletionModel._compareCompletionItems=function(a,b){return a.score[0]>b.score[0]?-1:a.score[0]<b.score[0]?1:a.distance<b.distance?-1:a.distance>b.distance?1:a.idx<b.idx?-1:a.idx>b.idx?1:0},CompletionModel._compareCompletionItemsSnippetsDown=function(a,b){if(a.completion.kind!==b.completion.kind){if(a.completion.kind===25)return 1;if(b.completion.kind===25)return-1}return CompletionModel._compareCompletionItems(a,b)},CompletionModel._compareCompletionItemsSnippetsUp=function(a,b){if(a.completion.kind!==b.completion.kind){if(a.completion.kind===25)return-1;if(b.completion.kind===25)return 1}return CompletionModel._compareCompletionItems(a,b)},CompletionModel}(),cancellation=__webpack_require__(2649),bracketSelections=__webpack_require__(3886),wordDistance_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},wordDistance_WordDistance=function(){function WordDistance(){}return WordDistance.create=function(service,editor){return __awaiter(this,void 0,void 0,function(){var model,position,ranges,wordRanges;return __generator(this,function(_a){switch(_a.label){case 0:return editor.getOption(85).localityBonus?editor.hasModel()?(model=editor.getModel(),position=editor.getPosition(),service.canComputeWordRanges(model.uri)?[4,new bracketSelections.a().provideSelectionRanges(model,[position])]:[2,WordDistance.None]):[2,WordDistance.None]:[2,WordDistance.None];case 1:return ranges=_a.sent(),!ranges||ranges.length===0||ranges[0].length===0?[2,WordDistance.None]:[4,service.computeWordRanges(model.uri,ranges[0][0].range)];case 2:return wordRanges=_a.sent(),[2,new(function(_super){wordDistance_extends(class_1,_super);function class_1(){return _super!==null&&_super.apply(this,arguments)||this}return class_1.prototype.distance=function(anchor,suggestion){if(!wordRanges||!position.equals(editor.getPosition()))return 0;if(suggestion.kind===17)return 2<<20;var word=suggestion.label,wordLines=wordRanges[word];if(Object(arrays.p)(wordLines))return 2<<20;for(var idx=Object(arrays.c)(wordLines,core_range.a.fromPositions(anchor),core_range.a.compareRangesUsingStarts),bestWordRange=idx>=0?wordLines[idx]:wordLines[Math.max(0,~idx-1)],blockDistance=ranges.length,_i=0,_a2=ranges[0];_i<_a2.length;_i++){var range=_a2[_i];if(!core_range.a.containsRange(range.range,bestWordRange))break;blockDistance-=1}return blockDistance},class_1}(WordDistance))]}})})},WordDistance.None=new(function(_super){wordDistance_extends(class_2,_super);function class_2(){return _super!==null&&_super.apply(this,arguments)||this}return class_2.prototype.distance=function(){return 0},class_2}(WordDistance)),WordDistance}(),suggestModel_LineContext=function(){function LineContext2(model,position,auto,shy){this.leadingLineContent=model.getLineContent(position.lineNumber).substr(0,position.column-1),this.leadingWord=model.getWordUntilPosition(position),this.lineNumber=position.lineNumber,this.column=position.column,this.auto=auto,this.shy=shy}return LineContext2.shouldAutoTrigger=function(editor){if(!editor.hasModel())return!1;var model=editor.getModel(),pos=editor.getPosition();model.tokenizeIfCheap(pos.lineNumber);var word=model.getWordAtPosition(pos);return!(!word||word.endColumn!==pos.column||!isNaN(Number(word.word)))},LineContext2}(),suggestModel_SuggestModel=function(){function SuggestModel(_editor,_editorWorker){var _this=this;this._editor=_editor,this._editorWorker=_editorWorker,this._toDispose=new lifecycle.b,this._quickSuggestDelay=10,this._triggerQuickSuggest=new common_async.e,this._state=0,this._completionDisposables=new lifecycle.b,this._onDidCancel=new common_event.a,this._onDidTrigger=new common_event.a,this._onDidSuggest=new common_event.a,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new selection.a(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(function(){_this._updateTriggerCharacters(),_this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(function(){_this._updateTriggerCharacters(),_this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(function(){_this._updateTriggerCharacters(),_this._updateQuickSuggest()})),this._toDispose.add(modes.d.onDidChange(function(){_this._updateTriggerCharacters(),_this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(function(e){_this._onCursorChange(e)}));var editorIsComposing=!1;this._toDispose.add(this._editor.onCompositionStart(function(){editorIsComposing=!0})),this._toDispose.add(this._editor.onCompositionEnd(function(){editorIsComposing=!1,_this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(function(){editorIsComposing||_this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}return SuggestModel.prototype.dispose=function(){Object(lifecycle.f)(this._triggerCharacterListener),Object(lifecycle.f)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()},SuggestModel.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getOption(64),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},SuggestModel.prototype._updateTriggerCharacters=function(){var _this=this;if(Object(lifecycle.f)(this._triggerCharacterListener),!(this._editor.getOption(65)||!this._editor.hasModel()||!this._editor.getOption(88))){for(var supportsByTriggerCharacter=Object.create(null),_i=0,_a=modes.d.all(this._editor.getModel());_i<_a.length;_i++)for(var support=_a[_i],_b=0,_c=support.triggerCharacters||[];_b<_c.length;_b++){var ch=_c[_b],set=supportsByTriggerCharacter[ch];set||(set=supportsByTriggerCharacter[ch]=new Set,set.add(Object(suggest.c)())),set.add(support)}this._triggerCharacterListener=this._editor.onDidType(function(text){var lastChar=text.charAt(text.length-1),supports=supportsByTriggerCharacter[lastChar];if(supports){var items=_this._completionModel?_this._completionModel.adopt(supports):void 0;_this.trigger({auto:!0,shy:!1,triggerCharacter:lastChar},!!_this._completionModel,supports,items)}})}},Object.defineProperty(SuggestModel.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),SuggestModel.prototype.cancel=function(retrigger){retrigger===void 0&&(retrigger=!1),this._state!==0&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger}))},SuggestModel.prototype.clear=function(){this._completionDisposables.clear()},SuggestModel.prototype._updateActiveSuggestSession=function(){this._state!==0&&(!this._editor.hasModel()||!modes.d.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))},SuggestModel.prototype._onCursorChange=function(e){var _this=this;if(this._editor.hasModel()){var model=this._editor.getModel(),prevSelection=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0||e.source!=="keyboard"&&e.source!=="deleteLeft"){this._state!==0&&this.cancel();return}if(modes.d.has(model)&&this._state===0){if(this._editor.getOption(63)===!1||!prevSelection.containsRange(this._currentSelection)&&!prevSelection.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(85).snippetsPreventQuickSuggestions&&snippetController2.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(function(){if(_this._state===0&&suggestModel_LineContext.shouldAutoTrigger(_this._editor)&&_this._editor.hasModel()){var model2=_this._editor.getModel(),pos=_this._editor.getPosition(),quickSuggestions=_this._editor.getOption(63);if(quickSuggestions!==!1){if(quickSuggestions!==!0){model2.tokenizeIfCheap(pos.lineNumber);var lineTokens=model2.getLineTokens(pos.lineNumber),tokenType=lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(pos.column-1-1,0))),inValidScope=quickSuggestions.other&&tokenType===0||quickSuggestions.comments&&tokenType===1||quickSuggestions.strings&&tokenType===2;if(!inValidScope)return}_this.trigger({auto:!0,shy:!1})}}},this._quickSuggestDelay)}}},SuggestModel.prototype._refilterCompletionItems=function(){var _this=this;Promise.resolve().then(function(){if(_this._state!==0&&_this._editor.hasModel()){var model=_this._editor.getModel(),position=_this._editor.getPosition(),ctx=new suggestModel_LineContext(model,position,_this._state===2,!1);_this._onNewContext(ctx)}})},SuggestModel.prototype.trigger=function(context,retrigger,onlyFrom,existingItems){var _this=this;if(retrigger===void 0&&(retrigger=!1),!!this._editor.hasModel()){var model=this._editor.getModel(),auto=context.auto,ctx=new suggestModel_LineContext(model,this._editor.getPosition(),auto,context.shy);this.cancel(retrigger),this._state=auto?2:1,this._onDidTrigger.fire({auto,shy:context.shy,position:this._editor.getPosition()}),this._context=ctx;var suggestCtx;context.triggerCharacter?suggestCtx={triggerKind:1,triggerCharacter:context.triggerCharacter}:onlyFrom&&onlyFrom.size>0?suggestCtx={triggerKind:2}:suggestCtx={triggerKind:0},this._requestToken=new cancellation.b;var snippetSuggestions=this._editor.getOption(82),snippetSortOrder=1;switch(snippetSuggestions){case"top":snippetSortOrder=0;break;case"bottom":snippetSortOrder=2;break}var itemKindFilter=SuggestModel._createItemKindFilter(this._editor),wordDistance=wordDistance_WordDistance.create(this._editorWorker,this._editor),items=Object(suggest.e)(model,this._editor.getPosition(),new suggest.a(snippetSortOrder,itemKindFilter,onlyFrom),suggestCtx,this._requestToken.token);Promise.all([items,wordDistance]).then(function(_a){var items2=_a[0],wordDistance2=_a[1];if(Object(lifecycle.f)(_this._requestToken),_this._state!==0&&_this._editor.hasModel()){var model2=_this._editor.getModel();if(Object(arrays.q)(existingItems)){var cmpFn=Object(suggest.d)(snippetSortOrder);items2=items2.concat(existingItems).sort(cmpFn)}var ctx2=new suggestModel_LineContext(model2,_this._editor.getPosition(),auto,context.shy);_this._completionModel=new completionModel_CompletionModel(items2,_this._context.column,{leadingLineContent:ctx2.leadingLineContent,characterCountDelta:ctx2.column-_this._context.column},wordDistance2,_this._editor.getOption(85),_this._editor.getOption(82));for(var _i=0,items_1=items2;_i<items_1.length;_i++){var item=items_1[_i];Object(lifecycle.g)(item.container)&&_this._completionDisposables.add(item.container)}_this._onNewContext(ctx2)}}).catch(errors.e)}},SuggestModel._createItemKindFilter=function(editor){var result=new Set,snippetSuggestions=editor.getOption(82);snippetSuggestions==="none"&&result.add(25);var suggestOptions=editor.getOption(85);return suggestOptions.showMethods||result.add(0),suggestOptions.showFunctions||result.add(1),suggestOptions.showConstructors||result.add(2),suggestOptions.showFields||result.add(3),suggestOptions.showVariables||result.add(4),suggestOptions.showClasses||result.add(5),suggestOptions.showStructs||result.add(6),suggestOptions.showInterfaces||result.add(7),suggestOptions.showModules||result.add(8),suggestOptions.showProperties||result.add(9),suggestOptions.showEvents||result.add(10),suggestOptions.showOperators||result.add(11),suggestOptions.showUnits||result.add(12),suggestOptions.showValues||result.add(13),suggestOptions.showConstants||result.add(14),suggestOptions.showEnums||result.add(15),suggestOptions.showEnumMembers||result.add(16),suggestOptions.showKeywords||result.add(17),suggestOptions.showWords||result.add(18),suggestOptions.showColors||result.add(19),suggestOptions.showFiles||result.add(20),suggestOptions.showReferences||result.add(21),suggestOptions.showColors||result.add(22),suggestOptions.showFolders||result.add(23),suggestOptions.showTypeParameters||result.add(24),suggestOptions.showSnippets||result.add(25),result},SuggestModel.prototype._onNewContext=function(ctx){if(this._context){if(ctx.lineNumber!==this._context.lineNumber){this.cancel();return}if(ctx.leadingWord.startColumn<this._context.leadingWord.startColumn){this.cancel();return}if(ctx.column<this._context.column){ctx.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel)if(ctx.column>this._context.column&&this._completionModel.incomplete.size>0&&ctx.leadingWord.word.length!==0){var incomplete=this._completionModel.incomplete,adopted=this._completionModel.adopt(incomplete);this.trigger({auto:this._state===2,shy:!1},!0,incomplete,adopted)}else{var oldLineContext=this._completionModel.lineContext,isFrozen=!1;if(this._completionModel.lineContext={leadingLineContent:ctx.leadingLineContent,characterCountDelta:ctx.column-this._context.column},this._completionModel.items.length===0){if(suggestModel_LineContext.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<ctx.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=oldLineContext,isFrozen=this._completionModel.items.length>0,isFrozen&&ctx.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen})}}},SuggestModel}(),media_suggest=__webpack_require__(5803),codiconLabel=__webpack_require__(3373),outlineTree=__webpack_require__(3885),dom=__webpack_require__(2124),listWidget=__webpack_require__(3601),scrollableElement=__webpack_require__(3105),keybinding=__webpack_require__(2760),telemetry=__webpack_require__(3365),styler=__webpack_require__(3285),common_themeService=__webpack_require__(2235),colorRegistry=__webpack_require__(2623),markdown_markdownRenderer=__webpack_require__(3411),services_modeService=__webpack_require__(3198),common_opener=__webpack_require__(2850),iconLabel=__webpack_require__(3507),network=__webpack_require__(2814),resources=__webpack_require__(2785),modesRegistry=__webpack_require__(3383),FileKind;(function(FileKind2){FileKind2[FileKind2.FILE=0]="FILE",FileKind2[FileKind2.FOLDER=1]="FOLDER",FileKind2[FileKind2.ROOT_FOLDER=2]="ROOT_FOLDER"})(FileKind||(FileKind={}));function getIconClasses(modelService,modeService,resource,fileKind){var classes=fileKind===FileKind.ROOT_FOLDER?["rootfolder-icon"]:fileKind===FileKind.FOLDER?["folder-icon"]:["file-icon"];if(resource){var name_1;if(resource.scheme===network.b.data){var metadata=resources.a.parseMetaData(resource);name_1=metadata.get(resources.a.META_DATA_LABEL)}else name_1=cssEscape(Object(resources.c)(resource).toLowerCase());if(fileKind===FileKind.FOLDER)classes.push(name_1+"-name-folder-icon");else{if(name_1){classes.push(name_1+"-name-file-icon");for(var dotSegments=name_1.split("."),i=1;i<dotSegments.length;i++)classes.push(dotSegments.slice(i).join(".")+"-ext-file-icon");classes.push("ext-file-icon")}var detectedModeId=detectModeId(modelService,modeService,resource);detectedModeId&&classes.push(cssEscape(detectedModeId)+"-lang-file-icon")}}return classes}function detectModeId(modelService,modeService,resource){if(!resource)return null;var modeId=null;if(resource.scheme===network.b.data){var metadata=resources.a.parseMetaData(resource),mime=metadata.get(resources.a.META_DATA_MIME);mime&&(modeId=modeService.getModeId(mime))}else{var model=modelService.getModel(resource);model&&(modeId=model.getModeId())}return modeId&&modeId!==modesRegistry.c?modeId:modeService.getModeIdByFilepathOrFirstLine(resource)}function cssEscape(val){return val.replace(/\s/g,"\\$&")}var services_modelService=__webpack_require__(2817),uri=__webpack_require__(2640),htmlContent=__webpack_require__(3241),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},suggestWidget_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},suggestWidget_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},suggestWidget_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},suggestWidget_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},expandSuggestionDocsByDefault=!1,editorSuggestWidgetBackground=Object(colorRegistry.Tb)("editorSuggestWidget.background",{dark:colorRegistry.Q,light:colorRegistry.Q,hc:colorRegistry.Q},nls.a("editorSuggestWidgetBackground","Background color of the suggest widget.")),editorSuggestWidgetBorder=Object(colorRegistry.Tb)("editorSuggestWidget.border",{dark:colorRegistry.R,light:colorRegistry.R,hc:colorRegistry.R},nls.a("editorSuggestWidgetBorder","Border color of the suggest widget.")),editorSuggestWidgetForeground=Object(colorRegistry.Tb)("editorSuggestWidget.foreground",{dark:colorRegistry.x,light:colorRegistry.x,hc:colorRegistry.x},nls.a("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),editorSuggestWidgetSelectedBackground=Object(colorRegistry.Tb)("editorSuggestWidget.selectedBackground",{dark:colorRegistry.rb,light:colorRegistry.rb,hc:colorRegistry.rb},nls.a("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),editorSuggestWidgetHighlightForeground=Object(colorRegistry.Tb)("editorSuggestWidget.highlightForeground",{dark:colorRegistry.tb,light:colorRegistry.tb,hc:colorRegistry.tb},nls.a("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),colorRegExp=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function extractColor(item,out){return item.completion.label.match(colorRegExp)?(out[0]=item.completion.label,!0):typeof item.completion.documentation=="string"&&item.completion.documentation.match(colorRegExp)?(out[0]=item.completion.documentation,!0):!1}function canExpandCompletionItem(item){if(!item)return!1;var suggestion=item.completion;return suggestion.documentation?!0:suggestion.detail&&suggestion.detail!==suggestion.label}var suggestWidget_Renderer=function(){function Renderer(widget,editor,triggerKeybindingLabel,_modelService,_modeService,_themeService){this.widget=widget,this.editor=editor,this.triggerKeybindingLabel=triggerKeybindingLabel,this._modelService=_modelService,this._modeService=_modeService,this._themeService=_themeService}return Object.defineProperty(Renderer.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),Renderer.prototype.renderTemplate=function(container){var _this=this,data=Object.create(null);data.disposables=new lifecycle.b,data.root=container,Object(dom.f)(data.root,"show-file-icons"),data.icon=Object(dom.q)(container,Object(dom.a)(".icon")),data.colorspan=Object(dom.q)(data.icon,Object(dom.a)("span.colorspan"));var text=Object(dom.q)(container,Object(dom.a)(".contents")),main=Object(dom.q)(text,Object(dom.a)(".main"));data.iconContainer=Object(dom.q)(main,Object(dom.a)(".icon-label.codicon")),data.iconLabel=new iconLabel.a(main,{supportHighlights:!0,supportCodicons:!0}),data.disposables.add(data.iconLabel),data.typeLabel=Object(dom.q)(main,Object(dom.a)("span.type-label")),data.readMore=Object(dom.q)(main,Object(dom.a)("span.readMore.codicon.codicon-info")),data.readMore.title=nls.a("readMore","Read More...{0}",this.triggerKeybindingLabel);var configureFont=function(){var options=_this.editor.getOptions(),fontInfo=options.get(32),fontFamily=fontInfo.fontFamily,fontSize=options.get(86)||fontInfo.fontSize,lineHeight=options.get(87)||fontInfo.lineHeight,fontWeight=fontInfo.fontWeight,fontSizePx=fontSize+"px",lineHeightPx=lineHeight+"px";data.root.style.fontSize=fontSizePx,data.root.style.fontWeight=fontWeight,main.style.fontFamily=fontFamily,main.style.lineHeight=lineHeightPx,data.icon.style.height=lineHeightPx,data.icon.style.width=lineHeightPx,data.readMore.style.height=lineHeightPx,data.readMore.style.width=lineHeightPx};return configureFont(),data.disposables.add(common_event.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.hasChanged(32)||e.hasChanged(86)||e.hasChanged(87)}).on(configureFont,null)),data},Renderer.prototype.renderElement=function(element,_index,templateData){var _this=this,data=templateData,suggestion=element.completion;data.icon.className="icon "+Object(modes.D)(suggestion.kind),data.colorspan.style.backgroundColor="";var labelOptions={labelEscapeNewLines:!0,matches:Object(filters.c)(element.score)},color=[];if(suggestion.kind===19&&extractColor(element,color))data.icon.className="icon customcolor",data.iconContainer.className="icon hide",data.colorspan.style.backgroundColor=color[0];else if(suggestion.kind===20&&this._themeService.getIconTheme().hasFileIcons){data.icon.className="icon hide",data.iconContainer.className="icon hide";var labelClasses=getIconClasses(this._modelService,this._modeService,uri.a.from({scheme:"fake",path:suggestion.label}),FileKind.FILE),detailClasses=getIconClasses(this._modelService,this._modeService,uri.a.from({scheme:"fake",path:suggestion.detail}),FileKind.FILE);labelOptions.extraClasses=labelClasses.length>detailClasses.length?labelClasses:detailClasses}else suggestion.kind===23&&this._themeService.getIconTheme().hasFolderIcons?(data.icon.className="icon hide",data.iconContainer.className="icon hide",labelOptions.extraClasses=Object(arrays.m)([getIconClasses(this._modelService,this._modeService,uri.a.from({scheme:"fake",path:suggestion.label}),FileKind.FOLDER),getIconClasses(this._modelService,this._modeService,uri.a.from({scheme:"fake",path:suggestion.detail}),FileKind.FOLDER)])):(data.icon.className="icon hide",data.iconContainer.className="",Object(dom.g)(data.iconContainer,"suggest-icon codicon codicon-symbol-"+Object(modes.D)(suggestion.kind)));suggestion.tags&&suggestion.tags.indexOf(1)>=0&&(labelOptions.extraClasses=(labelOptions.extraClasses||[]).concat(["deprecated"]),labelOptions.matches=[]),data.iconLabel.setLabel(suggestion.label,void 0,labelOptions),data.typeLabel.textContent=(suggestion.detail||"").replace(/\n.*$/m,""),canExpandCompletionItem(element)?(Object(dom.U)(data.readMore),data.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},data.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),_this.widget.toggleDetails()}):(Object(dom.H)(data.readMore),data.readMore.onmousedown=null,data.readMore.onclick=null)},Renderer.prototype.disposeTemplate=function(templateData){templateData.disposables.dispose()},Renderer=suggestWidget_decorate([suggestWidget_param(3,services_modelService.a),suggestWidget_param(4,services_modeService.a),suggestWidget_param(5,common_themeService.c)],Renderer),Renderer}(),suggestWidget_SuggestionDetails=function(){function SuggestionDetails(container,widget,editor,markdownRenderer,triggerKeybindingLabel){var _this=this;this.widget=widget,this.editor=editor,this.markdownRenderer=markdownRenderer,this.triggerKeybindingLabel=triggerKeybindingLabel,this.borderWidth=1,this.disposables=new lifecycle.b,this.el=Object(dom.q)(container,Object(dom.a)(".details")),this.disposables.add(Object(lifecycle.h)(function(){return container.removeChild(_this.el)})),this.body=Object(dom.a)(".body"),this.scrollbar=new scrollableElement.a(this.body,{}),Object(dom.q)(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=Object(dom.q)(this.body,Object(dom.a)(".header")),this.close=Object(dom.q)(this.header,Object(dom.a)("span.codicon.codicon-close")),this.close.title=nls.a("readLess","Read less...{0}",this.triggerKeybindingLabel),this.type=Object(dom.q)(this.header,Object(dom.a)("p.type")),this.docs=Object(dom.q)(this.body,Object(dom.a)("p.docs")),this.ariaLabel=null,this.configureFont(),common_event.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.hasChanged(32)}).on(this.configureFont,this,this.disposables),markdownRenderer.onDidRenderCodeBlock(function(){return _this.scrollbar.scanDomNode()},this,this.disposables)}return Object.defineProperty(SuggestionDetails.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),SuggestionDetails.prototype.renderLoading=function(){this.type.textContent=nls.a("loading","Loading..."),this.docs.textContent=""},SuggestionDetails.prototype.renderItem=function(item,explainMode){var _this=this;this.renderDisposeable=Object(lifecycle.f)(this.renderDisposeable);var _a=item.completion,documentation=_a.documentation,detail=_a.detail;if(explainMode){var md="";md+="score: "+item.score[0]+(item.word?", compared '"+(item.completion.filterText&&item.completion.filterText+" (filterText)"||item.completion.label)+"' with '"+item.word+"'":" (no prefix)")+`
`,md+="distance: "+item.distance+`, see localityBonus-setting
`,md+="index: "+item.idx+", based on "+(item.completion.sortText&&'sortText: "'+item.completion.sortText+'"'||"label")+`
`,documentation=new htmlContent.a().appendCodeblock("empty",md),detail="Provider: "+item.provider._debugDisplayName}if(!explainMode&&!canExpandCompletionItem(item)){this.type.textContent="",this.docs.textContent="",Object(dom.f)(this.el,"no-docs"),this.ariaLabel=null;return}if(Object(dom.M)(this.el,"no-docs"),typeof documentation=="string")Object(dom.M)(this.docs,"markdown-docs"),this.docs.textContent=documentation;else{Object(dom.f)(this.docs,"markdown-docs"),this.docs.innerHTML="";var renderedContents=this.markdownRenderer.render(documentation);this.renderDisposeable=renderedContents,this.docs.appendChild(renderedContents.element)}detail?(this.type.innerText=detail,Object(dom.U)(this.type)):(this.type.innerText="",Object(dom.H)(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+this.borderWidth*2+"px",this.el.style.userSelect="text",this.el.tabIndex=-1,this.close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this.close.onclick=function(e){e.preventDefault(),e.stopPropagation(),_this.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),this.ariaLabel=strings.r("{0}{1}",detail||"",documentation?typeof documentation=="string"?documentation:documentation.value:"")},SuggestionDetails.prototype.getAriaLabel=function(){return this.ariaLabel},SuggestionDetails.prototype.scrollDown=function(much){much===void 0&&(much=8),this.body.scrollTop+=much},SuggestionDetails.prototype.scrollUp=function(much){much===void 0&&(much=8),this.body.scrollTop-=much},SuggestionDetails.prototype.scrollTop=function(){this.body.scrollTop=0},SuggestionDetails.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},SuggestionDetails.prototype.pageDown=function(){this.scrollDown(80)},SuggestionDetails.prototype.pageUp=function(){this.scrollUp(80)},SuggestionDetails.prototype.setBorderWidth=function(width){this.borderWidth=width},SuggestionDetails.prototype.configureFont=function(){var options=this.editor.getOptions(),fontInfo=options.get(32),fontFamily=fontInfo.fontFamily,fontSize=options.get(86)||fontInfo.fontSize,lineHeight=options.get(87)||fontInfo.lineHeight,fontWeight=fontInfo.fontWeight,fontSizePx=fontSize+"px",lineHeightPx=lineHeight+"px";this.el.style.fontSize=fontSizePx,this.el.style.fontWeight=fontWeight,this.type.style.fontFamily=fontFamily,this.close.style.height=lineHeightPx,this.close.style.width=lineHeightPx},SuggestionDetails.prototype.dispose=function(){this.disposables.dispose(),this.renderDisposeable=Object(lifecycle.f)(this.renderDisposeable)},SuggestionDetails}(),suggestWidget_SuggestWidget=function(){function SuggestWidget(editor,telemetryService,contextKeyService,themeService,storageService,keybindingService,modeService,openerService,instantiationService){var _this=this;this.editor=editor,this.telemetryService=telemetryService,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.state=null,this.isAuto=!1,this.loadingTimeout=lifecycle.a.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new common_async.e,this.toDispose=new lifecycle.b,this.onDidSelectEmitter=new common_event.a,this.onDidFocusEmitter=new common_event.a,this.onDidHideEmitter=new common_event.a,this.onDidShowEmitter=new common_event.a,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._onDetailsKeydown=new common_event.a,this.onDetailsKeyDown=this._onDetailsKeydown.event,this._lastAriaAlertLabel=null;var kb=keybindingService.lookupKeybinding("editor.action.triggerSuggest"),triggerKeybindingLabel=kb?" ("+kb.getLabel()+")":"",markdownRenderer=this.toDispose.add(new markdown_markdownRenderer.a(editor,modeService,openerService));this.isAuto=!1,this.focusedItem=null,this.storageService=storageService,this.element=Object(dom.a)(".editor-widget.suggest-widget"),this.toDispose.add(Object(dom.j)(this.element,"click",function(e){e.target===_this.element&&_this.hideWidget()})),this.messageElement=Object(dom.q)(this.element,Object(dom.a)(".message")),this.listElement=Object(dom.q)(this.element,Object(dom.a)(".tree")),this.details=instantiationService.createInstance(suggestWidget_SuggestionDetails,this.element,this,this.editor,markdownRenderer,triggerKeybindingLabel);var applyIconStyle=function(){return Object(dom.V)(_this.element,"no-icons",!_this.editor.getOption(85).showIcons)};applyIconStyle();var renderer=instantiationService.createInstance(suggestWidget_Renderer,this,this.editor,triggerKeybindingLabel);this.list=new listWidget.c("SuggestWidget",this.listElement,this,[renderer],{useShadows:!1,openController:{shouldOpen:function(){return!1}},mouseSupport:!1}),this.toDispose.add(Object(styler.b)(this.list,themeService,{listInactiveFocusBackground:editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:colorRegistry.b})),this.toDispose.add(themeService.onThemeChange(function(t){return _this.onThemeChange(t)})),this.toDispose.add(editor.onDidLayoutChange(function(){return _this.onEditorLayoutChange()})),this.toDispose.add(this.list.onMouseDown(function(e){return _this.onListMouseDownOrTap(e)})),this.toDispose.add(this.list.onTap(function(e){return _this.onListMouseDownOrTap(e)})),this.toDispose.add(this.list.onSelectionChange(function(e){return _this.onListSelection(e)})),this.toDispose.add(this.list.onFocusChange(function(e){return _this.onListFocus(e)})),this.toDispose.add(this.editor.onDidChangeCursorSelection(function(){return _this.onCursorSelectionChanged()})),this.toDispose.add(this.editor.onDidChangeConfiguration(function(e){return e.hasChanged(85)&&applyIconStyle()})),this.suggestWidgetVisible=suggest.b.Visible.bindTo(contextKeyService),this.suggestWidgetMultipleSuggestions=suggest.b.MultipleSuggestions.bindTo(contextKeyService),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(themeService.getTheme()),this.toDispose.add(Object(dom.o)(this.details.element,"keydown",function(e){_this._onDetailsKeydown.fire(e)})),this.toDispose.add(this.editor.onMouseDown(function(e){return _this.onEditorMouseDown(e)}))}return SuggestWidget.prototype.onEditorMouseDown=function(mouseEvent){this.details.element.contains(mouseEvent.target.element)?this.details.element.focus():this.element.contains(mouseEvent.target.element)&&this.editor.focus()},SuggestWidget.prototype.onCursorSelectionChanged=function(){this.state!==0&&this.editor.layoutContentWidget(this)},SuggestWidget.prototype.onEditorLayoutChange=function(){(this.state===3||this.state===5)&&this.expandDocsSettingFromStorage()&&this.expandSideOrBelow()},SuggestWidget.prototype.onListMouseDownOrTap=function(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this.select(e.element,e.index))},SuggestWidget.prototype.onListSelection=function(e){e.elements.length&&this.select(e.elements[0],e.indexes[0])},SuggestWidget.prototype.select=function(item,index){var completionModel=this.completionModel;completionModel&&(this.onDidSelectEmitter.fire({item,index,model:completionModel}),this.editor.focus())},SuggestWidget.prototype._getSuggestionAriaAlertLabel=function(item){return this.expandDocsSettingFromStorage()?nls.a("ariaCurrenttSuggestionReadDetails","Item {0}, docs: {1}",item.completion.label,this.details.getAriaLabel()):item.completion.label},SuggestWidget.prototype._ariaAlert=function(newAriaAlertLabel){this._lastAriaAlertLabel!==newAriaAlertLabel&&(this._lastAriaAlertLabel=newAriaAlertLabel,this._lastAriaAlertLabel&&Object(aria.a)(this._lastAriaAlertLabel,!0))},SuggestWidget.prototype.onThemeChange=function(theme){var backgroundColor=theme.getColor(editorSuggestWidgetBackground);backgroundColor&&(this.listElement.style.backgroundColor=backgroundColor.toString(),this.details.element.style.backgroundColor=backgroundColor.toString(),this.messageElement.style.backgroundColor=backgroundColor.toString());var borderColor=theme.getColor(editorSuggestWidgetBorder);borderColor&&(this.listElement.style.borderColor=borderColor.toString(),this.details.element.style.borderColor=borderColor.toString(),this.messageElement.style.borderColor=borderColor.toString(),this.detailsBorderColor=borderColor.toString());var focusBorderColor=theme.getColor(colorRegistry.V);focusBorderColor&&(this.detailsFocusBorderColor=focusBorderColor.toString()),this.details.setBorderWidth(theme.type==="hc"?2:1)},SuggestWidget.prototype.onListFocus=function(e){var _this=this;if(!this.ignoreFocusEvents){if(!e.elements.length){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),this._ariaAlert(null);return}if(this.completionModel){var item=e.elements[0],index=e.indexes[0];this.firstFocusInCurrentList=!this.focusedItem,item!==this.focusedItem&&(this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=item,this.list.reveal(index),this.currentSuggestionDetails=Object(common_async.f)(function(token){return suggestWidget_awaiter(_this,void 0,void 0,function(){var loading,result,_this2=this;return suggestWidget_generator(this,function(_a){switch(_a.label){case 0:return loading=Object(common_async.g)(function(){return _this2.showDetails(!0)},250),token.onCancellationRequested(function(){return loading.dispose()}),[4,item.resolve(token)];case 1:return result=_a.sent(),loading.dispose(),[2,result]}})})}),this.currentSuggestionDetails.then(function(){index>=_this.list.length||item!==_this.list.element(index)||(_this.ignoreFocusEvents=!0,_this.list.splice(index,1,[item]),_this.list.setFocus([index]),_this.ignoreFocusEvents=!1,_this.expandDocsSettingFromStorage()?_this.showDetails(!1):Object(dom.M)(_this.element,"docs-side"),_this._ariaAlert(_this._getSuggestionAriaAlertLabel(item)))}).catch(errors.e)),this.onDidFocusEmitter.fire({item,index,model:this.completionModel})}}},SuggestWidget.prototype.setState=function(state){if(this.element){var stateChanged=this.state!==state;switch(this.state=state,Object(dom.V)(this.element,"frozen",state===4),state){case 0:Object(dom.H)(this.messageElement,this.details.element,this.listElement),this.hide(),this.listHeight=0,stateChanged&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=SuggestWidget.LOADING_MESSAGE,Object(dom.H)(this.listElement,this.details.element),Object(dom.U)(this.messageElement),Object(dom.M)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=SuggestWidget.NO_SUGGESTIONS_MESSAGE,Object(dom.H)(this.listElement,this.details.element),Object(dom.U)(this.messageElement),Object(dom.M)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:Object(dom.H)(this.messageElement),Object(dom.U)(this.listElement),this.show();break;case 4:Object(dom.H)(this.messageElement),Object(dom.U)(this.listElement),this.show();break;case 5:Object(dom.H)(this.messageElement),Object(dom.U)(this.details.element,this.listElement),this.show(),this._ariaAlert(this.details.getAriaLabel());break}}},SuggestWidget.prototype.showTriggered=function(auto,delay){var _this=this;this.state===0&&(this.isAuto=!!auto,this.isAuto||(this.loadingTimeout=Object(common_async.g)(function(){return _this.setState(1)},delay)))},SuggestWidget.prototype.showSuggestions=function(completionModel,selectionIndex,isFrozen,isAuto){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==completionModel&&(this.completionModel=completionModel),isFrozen&&this.state!==2&&this.state!==0){this.setState(4);return}var visibleCount=this.completionModel.items.length,isEmpty=visibleCount===0;if(this.suggestWidgetMultipleSuggestions.set(visibleCount>1),isEmpty)isAuto?this.setState(0):this.setState(2),this.completionModel=null;else{if(this.state!==3){var stats=this.completionModel.stats;stats.wasAutomaticallyTriggered=!!isAuto,this.telemetryService.publicLog("suggestWidget",__assign({},stats))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),isFrozen?this.setState(4):this.setState(3),this.list.reveal(selectionIndex,0),this.list.setFocus([selectionIndex]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}},SuggestWidget.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},SuggestWidget.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},SuggestWidget.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},SuggestWidget.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},SuggestWidget.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},SuggestWidget.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},SuggestWidget.prototype.getFocusedItem=function(){if(this.state!==0&&this.state!==2&&this.state!==1&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},SuggestWidget.prototype.toggleDetailsFocus=function(){this.state===5?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):this.state===3&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")},SuggestWidget.prototype.toggleDetails=function(){if(canExpandCompletionItem(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),Object(dom.H)(this.details.element),Object(dom.M)(this.element,"docs-side"),Object(dom.M)(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(this.state!==3&&this.state!==5&&this.state!==4)return;this.updateExpandDocsSetting(!0),this.showDetails(!1),this._ariaAlert(this.details.getAriaLabel()),this.telemetryService.publicLog2("suggestWidget:expandDetails")}},SuggestWidget.prototype.showDetails=function(loading){this.expandSideOrBelow(),Object(dom.U)(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",loading?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},SuggestWidget.prototype.toggleExplainMode=function(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))},SuggestWidget.prototype.show=function(){var _this=this,newHeight=this.updateListHeight();newHeight!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=newHeight),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet(function(){Object(dom.f)(_this.element,"visible"),_this.onDidShowEmitter.fire(_this)},100)},SuggestWidget.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),Object(dom.M)(this.element,"visible")},SuggestWidget.prototype.hideWidget=function(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)},SuggestWidget.prototype.getPosition=function(){if(this.state===0)return null;var preference=[2,1];return this.preferDocPositionTop&&(preference=[1]),{position:this.editor.getPosition(),preference}},SuggestWidget.prototype.getDomNode=function(){return this.element},SuggestWidget.prototype.getId=function(){return SuggestWidget.ID},SuggestWidget.prototype.isFrozen=function(){return this.state===4},SuggestWidget.prototype.updateListHeight=function(){var height=0;if(this.state===2||this.state===1)height=this.unfocusedHeight;else{var suggestionCount=this.list.contentHeight/this.unfocusedHeight,maxVisibleSuggestions=this.editor.getOption(85).maxVisibleSuggestions;height=Math.min(suggestionCount,maxVisibleSuggestions)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=height+"px",this.list.layout(height),height},SuggestWidget.prototype.adjustDocsPosition=function(){if(this.editor.hasModel()){var lineHeight=this.editor.getOption(47),cursorCoords=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),editorCoords=Object(dom.B)(this.editor.getDomNode()),cursorX=editorCoords.left+cursorCoords.left,cursorY=editorCoords.top+cursorCoords.top+cursorCoords.height,widgetCoords=Object(dom.B)(this.element),widgetX=widgetCoords.left,widgetY=widgetCoords.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<widgetY&&!this.preferDocPositionTop){this.preferDocPositionTop=!0,this.adjustDocsPosition();return}this.docsPositionPreviousWidgetY=widgetY,widgetX<cursorX-this.listWidth?Object(dom.f)(this.element,"list-right"):Object(dom.M)(this.element,"list-right"),Object(dom.G)(this.element,"docs-side")&&cursorY-lineHeight>widgetY&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")}},SuggestWidget.prototype.expandSideOrBelow=function(){if(!canExpandCompletionItem(this.focusedItem)&&this.firstFocusInCurrentList){Object(dom.M)(this.element,"docs-side"),Object(dom.M)(this.element,"docs-below");return}var matches=this.element.style.maxWidth.match(/(\d+)px/);!matches||Number(matches[1])<this.maxWidgetWidth?(Object(dom.f)(this.element,"docs-below"),Object(dom.M)(this.element,"docs-side")):canExpandCompletionItem(this.focusedItem)&&(Object(dom.f)(this.element,"docs-side"),Object(dom.M)(this.element,"docs-below"))},Object.defineProperty(SuggestWidget.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*this.editor.getOption(85).maxVisibleSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(SuggestWidget.prototype,"unfocusedHeight",{get:function(){var options=this.editor.getOptions();return options.get(87)||options.get(32).lineHeight},enumerable:!0,configurable:!0}),SuggestWidget.prototype.getHeight=function(element){return this.unfocusedHeight},SuggestWidget.prototype.getTemplateId=function(element){return"suggestion"},SuggestWidget.prototype.expandDocsSettingFromStorage=function(){return this.storageService.getBoolean("expandSuggestionDocs",0,expandSuggestionDocsByDefault)},SuggestWidget.prototype.updateExpandDocsSetting=function(value){this.storageService.store("expandSuggestionDocs",value,0)},SuggestWidget.prototype.dispose=function(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose()},SuggestWidget.ID="editor.widget.suggestWidget",SuggestWidget.LOADING_MESSAGE=nls.a("suggestWidget.loading","Loading..."),SuggestWidget.NO_SUGGESTIONS_MESSAGE=nls.a("suggestWidget.noSuggestions","No suggestions."),SuggestWidget=suggestWidget_decorate([suggestWidget_param(1,telemetry.a),suggestWidget_param(2,contextkey.c),suggestWidget_param(3,common_themeService.c),suggestWidget_param(4,storage.a),suggestWidget_param(5,keybinding.a),suggestWidget_param(6,services_modeService.a),suggestWidget_param(7,common_opener.a),suggestWidget_param(8,instantiation.a)],SuggestWidget),SuggestWidget}();Object(common_themeService.e)(function(theme,collector){var matchHighlight=theme.getColor(editorSuggestWidgetHighlightForeground);matchHighlight&&collector.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+matchHighlight+"; }");var foreground=theme.getColor(editorSuggestWidgetForeground);foreground&&collector.addRule(".monaco-editor .suggest-widget { color: "+foreground+"; }");var link=theme.getColor(colorRegistry.ec);link&&collector.addRule(".monaco-editor .suggest-widget a { color: "+link+"; }");var codeBackground=theme.getColor(colorRegistry.dc);codeBackground&&collector.addRule(".monaco-editor .suggest-widget code { background-color: "+codeBackground+"; }")});var wordContextKey_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),wordContextKey_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},wordContextKey_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},wordContextKey_WordContextKey=function(_super){wordContextKey_extends(WordContextKey,_super);function WordContextKey(_editor,contextKeyService){var _this=_super.call(this)||this;return _this._editor=_editor,_this._enabled=!1,_this._ckAtEnd=WordContextKey.AtEnd.bindTo(contextKeyService),_this._register(_this._editor.onDidChangeConfiguration(function(e){return e.hasChanged(90)&&_this._update()})),_this._update(),_this}return WordContextKey.prototype.dispose=function(){_super.prototype.dispose.call(this),Object(lifecycle.f)(this._selectionListener),this._ckAtEnd.reset()},WordContextKey.prototype._update=function(){var _this=this,enabled=this._editor.getOption(90)==="on";if(this._enabled!==enabled)if(this._enabled=enabled,this._enabled){var checkForWordEnd=function(){if(!_this._editor.hasModel()){_this._ckAtEnd.set(!1);return}var model=_this._editor.getModel(),selection2=_this._editor.getSelection(),word=model.getWordAtPosition(selection2.getStartPosition());if(!word){_this._ckAtEnd.set(!1);return}_this._ckAtEnd.set(word.endColumn===selection2.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(checkForWordEnd),checkForWordEnd()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)},WordContextKey.AtEnd=new contextkey.d("atEndOfWord",!1),WordContextKey=wordContextKey_decorate([wordContextKey_param(1,contextkey.c)],WordContextKey),WordContextKey}(lifecycle.a),editorWorkerService=__webpack_require__(3166),types=__webpack_require__(2631),characterClassifier=__webpack_require__(3235),suggestCommitCharacters_CommitCharacterController=function(){function CommitCharacterController(editor,widget,accept){var _this=this;this._disposables=new lifecycle.b,this._disposables.add(widget.onDidShow(function(){return _this._onItem(widget.getFocusedItem())})),this._disposables.add(widget.onDidFocus(this._onItem,this)),this._disposables.add(widget.onDidHide(this.reset,this)),this._disposables.add(editor.onWillType(function(text){if(_this._active&&!widget.isFrozen()){var ch=text.charCodeAt(text.length-1);_this._active.acceptCharacters.has(ch)&&editor.getOption(0)&&accept(_this._active.item)}}))}return CommitCharacterController.prototype._onItem=function(selected){if(!selected||!Object(arrays.q)(selected.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===selected.item)){for(var acceptCharacters=new characterClassifier.b,_i=0,_a=selected.item.completion.commitCharacters;_i<_a.length;_i++){var ch=_a[_i];ch.length>0&&acceptCharacters.add(ch.charCodeAt(0))}this._active={acceptCharacters,item:selected}}},CommitCharacterController.prototype.reset=function(){this._active=void 0},CommitCharacterController.prototype.dispose=function(){this._disposables.dispose()},CommitCharacterController}(),platform=__webpack_require__(2236),browser_event=__webpack_require__(2849),suggestRangeHighlighter_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),suggestRangeHighlighter_SuggestRangeHighlighter=function(){function SuggestRangeHighlighter(_controller){var _this=this;this._controller=_controller,this._disposables=new lifecycle.b,this._decorations=[],this._disposables.add(_controller.model.onDidSuggest(function(e){if(!e.shy){var widget=_this._controller.widget.getValue(),focused=widget.getFocusedItem();focused&&_this._highlight(focused.item),_this._widgetListener||(_this._widgetListener=widget.onDidFocus(function(e2){return _this._highlight(e2.item)}))}})),this._disposables.add(_controller.model.onDidCancel(function(){_this._reset()}))}return SuggestRangeHighlighter.prototype.dispose=function(){this._reset(),this._disposables.dispose(),Object(lifecycle.f)(this._widgetListener),Object(lifecycle.f)(this._shiftKeyListener)},SuggestRangeHighlighter.prototype._reset=function(){this._decorations=this._controller.editor.deltaDecorations(this._decorations,[]),this._shiftKeyListener&&(this._shiftKeyListener.dispose(),this._shiftKeyListener=void 0)},SuggestRangeHighlighter.prototype._highlight=function(item){var _this=this,_a;this._currentItem=item;var opts=this._controller.editor.getOption(85),newDeco=[];if(opts.insertHighlight){this._shiftKeyListener||(this._shiftKeyListener=shiftKey.event(function(){return _this._highlight(_this._currentItem)}));var info=this._controller.getOverwriteInfo(item,shiftKey.isPressed),position=this._controller.editor.getPosition();if(opts.insertMode==="insert"&&info.overwriteAfter>0)newDeco=[{range:new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column+info.overwriteAfter),options:{inlineClassName:"suggest-insert-unexpected"}}];else if(opts.insertMode==="replace"&&info.overwriteAfter===0){var wordInfo=(_a=this._controller.editor.getModel())===null||_a===void 0?void 0:_a.getWordAtPosition(position);wordInfo&&wordInfo.endColumn>position.column&&(newDeco=[{range:new core_range.a(position.lineNumber,position.column,position.lineNumber,wordInfo.endColumn),options:{inlineClassName:"suggest-insert-unexpected"}}])}}this._decorations=this._controller.editor.deltaDecorations(this._decorations,newDeco)},SuggestRangeHighlighter}(),shiftKey=new(function(_super){suggestRangeHighlighter_extends(ShiftKey,_super);function ShiftKey(){var _this=_super.call(this)||this;return _this._subscriptions=new lifecycle.b,_this._isPressed=!1,_this._subscriptions.add(Object(browser_event.a)(document.body,"keydown")(function(e){return _this.isPressed=e.shiftKey})),_this._subscriptions.add(Object(browser_event.a)(document.body,"keyup")(function(){return _this.isPressed=!1})),_this._subscriptions.add(Object(browser_event.a)(document.body,"mouseleave")(function(){return _this.isPressed=!1})),_this._subscriptions.add(Object(browser_event.a)(document.body,"blur")(function(){return _this.isPressed=!1})),_this}return Object.defineProperty(ShiftKey.prototype,"isPressed",{get:function(){return this._isPressed},set:function(value){this._isPressed!==value&&(this._isPressed=value,this.fire(value))},enumerable:!0,configurable:!0}),ShiftKey.prototype.dispose=function(){this._subscriptions.dispose(),_super.prototype.dispose.call(this)},ShiftKey}(common_event.a)),suggestController_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),suggestController_assign=function(){return suggestController_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},suggestController_assign.apply(this,arguments)},suggestController_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},suggestController_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},_sticky=!1,suggestController_LineSuffix=function(){function LineSuffix(_model,_position){this._model=_model,this._position=_position;var maxColumn=_model.getLineMaxColumn(_position.lineNumber);if(maxColumn!==_position.column){var offset=_model.getOffsetAt(_position),end=_model.getPositionAt(offset+1);this._marker=_model.deltaDecorations([],[{range:core_range.a.fromPositions(_position,end),options:{stickiness:1}}])}}return LineSuffix.prototype.dispose=function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])},LineSuffix.prototype.delta=function(position){if(this._model.isDisposed()||this._position.lineNumber!==position.lineNumber)return 0;if(this._marker){var range=this._model.getDecorationRange(this._marker[0]),end=this._model.getOffsetAt(range.getStartPosition());return end-this._model.getOffsetAt(position)}else return this._model.getLineMaxColumn(position.lineNumber)-position.column},LineSuffix}(),suggestController_SuggestController=function(){function SuggestController(editor,editorWorker,_memoryService,_commandService,_contextKeyService,_instantiationService){var _this=this;this._memoryService=_memoryService,this._commandService=_commandService,this._contextKeyService=_contextKeyService,this._instantiationService=_instantiationService,this._lineSuffix=new lifecycle.d,this._toDispose=new lifecycle.b,this.editor=editor,this.model=new suggestModel_SuggestModel(this.editor,editorWorker),this.widget=new common_async.b(function(){var widget=_this._instantiationService.createInstance(suggestWidget_SuggestWidget,_this.editor);_this._toDispose.add(widget),_this._toDispose.add(widget.onDidSelect(function(item){return _this._insertSuggestion(item,0)},_this));var commitCharacterController=new suggestCommitCharacters_CommitCharacterController(_this.editor,widget,function(item){return _this._insertSuggestion(item,2)});_this._toDispose.add(commitCharacterController),_this._toDispose.add(_this.model.onDidSuggest(function(e){e.completionModel.items.length===0&&commitCharacterController.reset()}));var makesTextEdit=suggest.b.MakesTextEdit.bindTo(_this._contextKeyService);return _this._toDispose.add(widget.onDidFocus(function(_a){var item=_a.item,position=_this.editor.getPosition(),startColumn=item.editStart.column,endColumn=position.column,value=!0;if(_this.editor.getOption(1)==="smart"&&_this.model.state===2&&!item.completion.command&&!item.completion.additionalTextEdits&&!(item.completion.insertTextRules&4)&&endColumn-startColumn===item.completion.insertText.length){var oldText=_this.editor.getModel().getValueInRange({startLineNumber:position.lineNumber,startColumn,endLineNumber:position.lineNumber,endColumn});value=oldText!==item.completion.insertText}makesTextEdit.set(value)})),_this._toDispose.add(Object(lifecycle.h)(function(){return makesTextEdit.reset()})),widget}),this._alternatives=new common_async.b(function(){return _this._toDispose.add(new suggestAlternatives_SuggestAlternatives(_this.editor,_this._contextKeyService))}),this._toDispose.add(_instantiationService.createInstance(wordContextKey_WordContextKey,editor)),this._toDispose.add(this.model.onDidTrigger(function(e){_this.widget.getValue().showTriggered(e.auto,e.shy?250:50),_this._lineSuffix.value=new suggestController_LineSuffix(_this.editor.getModel(),e.position)})),this._toDispose.add(this.model.onDidSuggest(function(e){if(!e.shy){var index=_this._memoryService.select(_this.editor.getModel(),_this.editor.getPosition(),e.completionModel.items);_this.widget.getValue().showSuggestions(e.completionModel,index,e.isFrozen,e.auto)}})),this._toDispose.add(this.model.onDidCancel(function(e){e.retrigger||_this.widget.getValue().hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(function(){_sticky||(_this.model.cancel(),_this.model.clear())})),this._toDispose.add(this.widget.getValue().onDetailsKeyDown(function(e){if(e.toKeybinding().equals(new keyCodes.e(!0,!1,!1,!1,33))||platform.e&&e.toKeybinding().equals(new keyCodes.e(!1,!1,!1,!0,33))){e.stopPropagation();return}e.toKeybinding().isModifierKey()||_this.editor.focus()}));var acceptSuggestionsOnEnter=suggest.b.AcceptSuggestionsOnEnter.bindTo(_contextKeyService),updateFromConfig=function(){var acceptSuggestionOnEnter=_this.editor.getOption(1);acceptSuggestionsOnEnter.set(acceptSuggestionOnEnter==="on"||acceptSuggestionOnEnter==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(function(){return updateFromConfig()})),updateFromConfig(),this._toDispose.add(new suggestRangeHighlighter_SuggestRangeHighlighter(this))}return SuggestController.get=function(editor){return editor.getContribution(SuggestController.ID)},SuggestController.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()},SuggestController.prototype._insertSuggestion=function(event,flags){var _a,_this=this;if(!event||!event.item){this._alternatives.getValue().reset(),this.model.cancel(),this.model.clear();return}if(this.editor.hasModel()){var model=this.editor.getModel(),modelVersionNow=model.getAlternativeVersionId(),item=event.item,suggestion=item.completion;flags&1||this.editor.pushUndoStop();var info=this.getOverwriteInfo(item,!!(flags&8));this._memoryService.memorize(model,this.editor.getPosition(),item),Array.isArray(suggestion.additionalTextEdits)&&this.editor.executeEdits("suggestController.additionalTextEdits",suggestion.additionalTextEdits.map(function(edit){return editOperation.a.replace(core_range.a.lift(edit.range),edit.text)}));var insertText=suggestion.insertText;suggestion.insertTextRules&4||(insertText=snippetParser.c.escape(insertText)),snippetController2.SnippetController2.get(this.editor).insert(insertText,{overwriteBefore:info.overwriteBefore,overwriteAfter:info.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(suggestion.insertTextRules&1)}),flags&2||this.editor.pushUndoStop(),suggestion.command?suggestion.command.id===suggestController_TriggerSuggestAction.id?this.model.trigger({auto:!0,shy:!1},!0):((_a=this._commandService).executeCommand.apply(_a,__spreadArrays([suggestion.command.id],suggestion.command.arguments?__spreadArrays(suggestion.command.arguments):[])).catch(errors.e).finally(function(){return _this.model.clear()}),this.model.cancel()):(this.model.cancel(),this.model.clear()),flags&4&&this._alternatives.getValue().set(event,function(next){for(;model.canUndo();){modelVersionNow!==model.getAlternativeVersionId()&&model.undo(),_this._insertSuggestion(next,3|(flags&8?8:0));break}}),this._alertCompletionItem(event.item)}},SuggestController.prototype.getOverwriteInfo=function(item,toggleMode){Object(types.a)(this.editor.hasModel());var replace=this.editor.getOption(85).insertMode==="replace";toggleMode&&(replace=!replace);var overwriteBefore=item.position.column-item.editStart.column,overwriteAfter=(replace?item.editReplaceEnd.column:item.editInsertEnd.column)-item.position.column,columnDelta=this.editor.getPosition().column-item.position.column,suffixDelta=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:overwriteBefore+columnDelta,overwriteAfter:overwriteAfter+suffixDelta}},SuggestController.prototype._alertCompletionItem=function(_a){var suggestion=_a.completion;if(Object(arrays.q)(suggestion.additionalTextEdits)){var msg=nls.a("arai.alert.snippet","Accepting '{0}' made {1} additional edits",suggestion.label,suggestion.additionalTextEdits.length);Object(aria.a)(msg)}},SuggestController.prototype.triggerSuggest=function(onlyFrom){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,onlyFrom),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())},SuggestController.prototype.triggerSuggestAndAcceptBest=function(arg){var _this=this;if(this.editor.hasModel()){var positionNow=this.editor.getPosition(),fallback=function(){positionNow.equals(_this.editor.getPosition())&&_this._commandService.executeCommand(arg.fallback)},makesTextEdit=function(item){if(item.completion.insertTextRules&4||item.completion.additionalTextEdits)return!0;var position=_this.editor.getPosition(),startColumn=item.editStart.column,endColumn=position.column;if(endColumn-startColumn!==item.completion.insertText.length)return!0;var textNow=_this.editor.getModel().getValueInRange({startLineNumber:position.lineNumber,startColumn,endLineNumber:position.lineNumber,endColumn});return textNow!==item.completion.insertText};common_event.b.once(this.model.onDidTrigger)(function(_){var listener=[];common_event.b.any(_this.model.onDidTrigger,_this.model.onDidCancel)(function(){Object(lifecycle.f)(listener),fallback()},void 0,listener),_this.model.onDidSuggest(function(_a){var completionModel=_a.completionModel;if(Object(lifecycle.f)(listener),completionModel.items.length===0){fallback();return}var index=_this._memoryService.select(_this.editor.getModel(),_this.editor.getPosition(),completionModel.items),item=completionModel.items[index];if(!makesTextEdit(item)){fallback();return}_this.editor.pushUndoStop(),_this._insertSuggestion({index,item,model:completionModel},7)},void 0,listener)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(positionNow.lineNumber,0),this.editor.focus()}},SuggestController.prototype.acceptSelectedSuggestion=function(keepAlternativeSuggestions,alternativeOverwriteConfig){var item=this.widget.getValue().getFocusedItem(),flags=0;keepAlternativeSuggestions&&(flags|=4),alternativeOverwriteConfig&&(flags|=8),this._insertSuggestion(item,flags)},SuggestController.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},SuggestController.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},SuggestController.prototype.cancelSuggestWidget=function(){this.model.cancel(),this.model.clear(),this.widget.getValue().hideWidget()},SuggestController.prototype.selectNextSuggestion=function(){this.widget.getValue().selectNext()},SuggestController.prototype.selectNextPageSuggestion=function(){this.widget.getValue().selectNextPage()},SuggestController.prototype.selectLastSuggestion=function(){this.widget.getValue().selectLast()},SuggestController.prototype.selectPrevSuggestion=function(){this.widget.getValue().selectPrevious()},SuggestController.prototype.selectPrevPageSuggestion=function(){this.widget.getValue().selectPreviousPage()},SuggestController.prototype.selectFirstSuggestion=function(){this.widget.getValue().selectFirst()},SuggestController.prototype.toggleSuggestionDetails=function(){this.widget.getValue().toggleDetails()},SuggestController.prototype.toggleExplainMode=function(){this.widget.getValue().toggleExplainMode()},SuggestController.prototype.toggleSuggestionFocus=function(){this.widget.getValue().toggleDetailsFocus()},SuggestController.ID="editor.contrib.suggestController",SuggestController=suggestController_decorate([suggestController_param(1,editorWorkerService.a),suggestController_param(2,ISuggestMemoryService),suggestController_param(3,commands.b),suggestController_param(4,contextkey.c),suggestController_param(5,instantiation.a)],SuggestController),SuggestController}(),suggestController_TriggerSuggestAction=function(_super){suggestController_extends(TriggerSuggestAction,_super);function TriggerSuggestAction(){return _super.call(this,{id:TriggerSuggestAction.id,label:nls.a("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCompletionItemProvider),kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:2058,mac:{primary:266,secondary:[521]},weight:100}})||this}return TriggerSuggestAction.prototype.run=function(accessor,editor){var controller=suggestController_SuggestController.get(editor);controller&&controller.triggerSuggest()},TriggerSuggestAction.id="editor.action.triggerSuggest",TriggerSuggestAction}(editorExtensions.b);Object(editorExtensions.h)(suggestController_SuggestController.ID,suggestController_SuggestController),Object(editorExtensions.f)(suggestController_TriggerSuggestAction);var weight=100+90,SuggestCommand=editorExtensions.c.bindToContribution(suggestController_SuggestController.get);Object(editorExtensions.g)(new SuggestCommand({id:"acceptSelectedSuggestion",precondition:suggest.b.Visible,handler:function(x,args){var alternative=typeof args=="object"&&typeof args.alternative=="boolean"?args.alternative:!1;x.acceptSelectedSuggestion(!0,alternative)}})),keybindingsRegistry.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:contextkey.a.and(suggest.b.Visible,editorContextKeys.a.textInputFocus),primary:2,weight}),keybindingsRegistry.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:contextkey.a.and(suggest.b.Visible,editorContextKeys.a.textInputFocus,suggest.b.AcceptSuggestionsOnEnter,suggest.b.MakesTextEdit),primary:3,weight}),keybindingsRegistry.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:contextkey.a.and(suggest.b.Visible,editorContextKeys.a.textInputFocus),primary:1026,secondary:[1027],args:{alternative:!0},weight}),commands.a.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(editorExtensions.g)(new SuggestCommand({id:"hideSuggestWidget",precondition:suggest.b.Visible,handler:function(x){return x.cancelSuggestWidget()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:9,secondary:[1033]}})),Object(editorExtensions.g)(new SuggestCommand({id:"selectNextSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:function(c){return c.selectNextSuggestion()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(editorExtensions.g)(new SuggestCommand({id:"selectNextPageSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:function(c){return c.selectNextPageSuggestion()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:12,secondary:[2060]}})),Object(editorExtensions.g)(new SuggestCommand({id:"selectLastSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:function(c){return c.selectLastSuggestion()}})),Object(editorExtensions.g)(new SuggestCommand({id:"selectPrevSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:function(c){return c.selectPrevSuggestion()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(editorExtensions.g)(new SuggestCommand({id:"selectPrevPageSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:function(c){return c.selectPrevPageSuggestion()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:11,secondary:[2059]}})),Object(editorExtensions.g)(new SuggestCommand({id:"selectFirstSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:function(c){return c.selectFirstSuggestion()}})),Object(editorExtensions.g)(new SuggestCommand({id:"toggleSuggestionDetails",precondition:suggest.b.Visible,handler:function(x){return x.toggleSuggestionDetails()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:2058,mac:{primary:266}}})),Object(editorExtensions.g)(new SuggestCommand({id:"toggleExplainMode",precondition:suggest.b.Visible,handler:function(x){return x.toggleExplainMode()},kbOpts:{weight:100,primary:2133}})),Object(editorExtensions.g)(new SuggestCommand({id:"toggleSuggestionFocus",precondition:suggest.b.Visible,handler:function(x){return x.toggleSuggestionFocus()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:2570,mac:{primary:778}}})),Object(editorExtensions.g)(new SuggestCommand({id:"insertBestCompletion",precondition:contextkey.a.and(contextkey.a.equals("config.editor.tabCompletion","on"),wordContextKey_WordContextKey.AtEnd,suggest.b.Visible.toNegated(),suggestAlternatives_SuggestAlternatives.OtherSuggestions.toNegated(),snippetController2.SnippetController2.InSnippetMode.toNegated()),handler:function(x,arg){x.triggerSuggestAndAcceptBest(Object(types.i)(arg)?suggestController_assign({fallback:"tab"},arg):{fallback:"tab"})},kbOpts:{weight,primary:2}})),Object(editorExtensions.g)(new SuggestCommand({id:"insertNextSuggestion",precondition:contextkey.a.and(contextkey.a.equals("config.editor.tabCompletion","on"),suggestAlternatives_SuggestAlternatives.OtherSuggestions,suggest.b.Visible.toNegated(),snippetController2.SnippetController2.InSnippetMode.toNegated()),handler:function(x){return x.acceptNextSuggestion()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:2}})),Object(editorExtensions.g)(new SuggestCommand({id:"insertPrevSuggestion",precondition:contextkey.a.and(contextkey.a.equals("config.editor.tabCompletion","on"),suggestAlternatives_SuggestAlternatives.OtherSuggestions,suggest.b.Visible.toNegated(),snippetController2.SnippetController2.InSnippetMode.toNegated()),handler:function(x){return x.acceptPrevSuggestion()},kbOpts:{weight,kbExpr:editorContextKeys.a.textInputFocus,primary:1026}}))},2363:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FoldingController",function(){return folding_FoldingController});var folding=__webpack_require__(5759),nls=__webpack_require__(2069),common_types=__webpack_require__(2631),strings=__webpack_require__(2123),common_async=__webpack_require__(2237),keyCodes=__webpack_require__(2768),lifecycle=__webpack_require__(2033),editorExtensions=__webpack_require__(2099),common_event=__webpack_require__(2106),MAX_FOLDING_REGIONS=65535,MAX_LINE_NUMBER=16777215,MASK_INDENT=4278190080,FoldingRegions=function(){function FoldingRegions2(startIndexes,endIndexes,types){if(startIndexes.length!==endIndexes.length||startIndexes.length>MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=startIndexes,this._endIndexes=endIndexes,this._collapseStates=new Uint32Array(Math.ceil(startIndexes.length/32)),this._types=types,this._parentsComputed=!1}return FoldingRegions2.prototype.ensureParentIndices=function(){var _this=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var parentIndexes_1=[],isInsideLast=function(startLineNumber2,endLineNumber2){var index=parentIndexes_1[parentIndexes_1.length-1];return _this.getStartLineNumber(index)<=startLineNumber2&&_this.getEndLineNumber(index)>=endLineNumber2},i=0,len=this._startIndexes.length;i<len;i++){var startLineNumber=this._startIndexes[i],endLineNumber=this._endIndexes[i];if(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+MAX_LINE_NUMBER);for(;parentIndexes_1.length>0&&!isInsideLast(startLineNumber,endLineNumber);)parentIndexes_1.pop();var parentIndex=parentIndexes_1.length>0?parentIndexes_1[parentIndexes_1.length-1]:-1;parentIndexes_1.push(i),this._startIndexes[i]=startLineNumber+((parentIndex&255)<<24),this._endIndexes[i]=endLineNumber+((parentIndex&65280)<<16)}}},Object.defineProperty(FoldingRegions2.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),FoldingRegions2.prototype.getStartLineNumber=function(index){return this._startIndexes[index]&MAX_LINE_NUMBER},FoldingRegions2.prototype.getEndLineNumber=function(index){return this._endIndexes[index]&MAX_LINE_NUMBER},FoldingRegions2.prototype.getType=function(index){return this._types?this._types[index]:void 0},FoldingRegions2.prototype.hasTypes=function(){return!!this._types},FoldingRegions2.prototype.isCollapsed=function(index){var arrayIndex=index/32|0,bit=index%32;return(this._collapseStates[arrayIndex]&1<<bit)!==0},FoldingRegions2.prototype.setCollapsed=function(index,newState){var arrayIndex=index/32|0,bit=index%32,value=this._collapseStates[arrayIndex];newState?this._collapseStates[arrayIndex]=value|1<<bit:this._collapseStates[arrayIndex]=value&~(1<<bit)},FoldingRegions2.prototype.toRegion=function(index){return new FoldingRegion(this,index)},FoldingRegions2.prototype.getParentIndex=function(index){this.ensureParentIndices();var parent=((this._startIndexes[index]&MASK_INDENT)>>>24)+((this._endIndexes[index]&MASK_INDENT)>>>16);return parent===MAX_FOLDING_REGIONS?-1:parent},FoldingRegions2.prototype.contains=function(index,line){return this.getStartLineNumber(index)<=line&&this.getEndLineNumber(index)>=line},FoldingRegions2.prototype.findIndex=function(line){var low=0,high=this._startIndexes.length;if(high===0)return-1;for(;low<high;){var mid=Math.floor((low+high)/2);line<this.getStartLineNumber(mid)?high=mid:low=mid+1}return low-1},FoldingRegions2.prototype.findRange=function(line){var index=this.findIndex(line);if(index>=0){var endLineNumber=this.getEndLineNumber(index);if(endLineNumber>=line)return index;for(index=this.getParentIndex(index);index!==-1;){if(this.contains(index,line))return index;index=this.getParentIndex(index)}}return-1},FoldingRegions2.prototype.toString=function(){for(var res=[],i=0;i<this.length;i++)res[i]="["+(this.isCollapsed(i)?"+":"-")+"] "+this.getStartLineNumber(i)+"/"+this.getEndLineNumber(i);return res.join(", ")},FoldingRegions2}(),FoldingRegion=function(){function FoldingRegion2(ranges,index){this.ranges=ranges,this.index=index}return Object.defineProperty(FoldingRegion2.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingRegion2.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingRegion2.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingRegion2.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingRegion2.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),FoldingRegion2.prototype.containedBy=function(range){return range.startLineNumber<=this.startLineNumber&&range.endLineNumber>=this.endLineNumber},FoldingRegion2.prototype.containsLine=function(lineNumber){return this.startLineNumber<=lineNumber&&lineNumber<=this.endLineNumber},FoldingRegion2}(),foldingModel_FoldingModel=function(){function FoldingModel(textModel,decorationProvider){this._updateEventEmitter=new common_event.a,this.onDidChange=this._updateEventEmitter.event,this._textModel=textModel,this._decorationProvider=decorationProvider,this._regions=new FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(FoldingModel.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingModel.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingModel.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),FoldingModel.prototype.toggleCollapseState=function(regions){var _this=this;if(regions.length){var processed={};this._decorationProvider.changeDecorations(function(accessor){for(var _i=0,regions_1=regions;_i<regions_1.length;_i++){var region=regions_1[_i],index=region.regionIndex,editorDecorationId=_this._editorDecorationIds[index];if(editorDecorationId&&!processed[editorDecorationId]){processed[editorDecorationId]=!0;var newCollapseState=!_this._regions.isCollapsed(index);_this._regions.setCollapsed(index,newCollapseState),accessor.changeDecorationOptions(editorDecorationId,_this._decorationProvider.getDecorationOption(newCollapseState))}}}),this._updateEventEmitter.fire({model:this,collapseStateChanged:regions})}},FoldingModel.prototype.update=function(newRegions,blockedLineNumers){var _this=this;blockedLineNumers===void 0&&(blockedLineNumers=[]);for(var newEditorDecorations=[],isBlocked=function(startLineNumber2,endLineNumber){for(var _i=0,blockedLineNumers_1=blockedLineNumers;_i<blockedLineNumers_1.length;_i++){var blockedLineNumber=blockedLineNumers_1[_i];if(startLineNumber2<blockedLineNumber&&blockedLineNumber<=endLineNumber)return!0}return!1},initRange=function(index,isCollapsed){var startLineNumber2=newRegions.getStartLineNumber(index);isCollapsed&&isBlocked(startLineNumber2,newRegions.getEndLineNumber(index))&&(isCollapsed=!1),newRegions.setCollapsed(index,isCollapsed);var maxColumn=_this._textModel.getLineMaxColumn(startLineNumber2),decorationRange={startLineNumber:startLineNumber2,startColumn:maxColumn,endLineNumber:startLineNumber2,endColumn:maxColumn};newEditorDecorations.push({range:decorationRange,options:_this._decorationProvider.getDecorationOption(isCollapsed)})},i=0,nextCollapsed=function(){for(;i<_this._regions.length;){var isCollapsed=_this._regions.isCollapsed(i);if(i++,isCollapsed)return i-1}return-1},k=0,collapsedIndex=nextCollapsed();collapsedIndex!==-1&&k<newRegions.length;){var decRange=this._textModel.getDecorationRange(this._editorDecorationIds[collapsedIndex]);if(decRange){var collapsedStartLineNumber=decRange.startLineNumber;if(this._textModel.getLineMaxColumn(collapsedStartLineNumber)===decRange.startColumn)for(;k<newRegions.length;){var startLineNumber=newRegions.getStartLineNumber(k);if(collapsedStartLineNumber>=startLineNumber)initRange(k,collapsedStartLineNumber===startLineNumber),k++;else break}}collapsedIndex=nextCollapsed()}for(;k<newRegions.length;)initRange(k,!1),k++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,newEditorDecorations),this._regions=newRegions,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},FoldingModel.prototype.getMemento=function(){for(var collapsedRanges=[],i=0;i<this._regions.length;i++)if(this._regions.isCollapsed(i)){var range=this._textModel.getDecorationRange(this._editorDecorationIds[i]);if(range){var startLineNumber=range.startLineNumber,endLineNumber=range.endLineNumber+this._regions.getEndLineNumber(i)-this._regions.getStartLineNumber(i);collapsedRanges.push({startLineNumber,endLineNumber})}}if(collapsedRanges.length>0)return collapsedRanges},FoldingModel.prototype.applyMemento=function(state){if(Array.isArray(state)){for(var toToogle=[],_i=0,state_1=state;_i<state_1.length;_i++){var range=state_1[_i],region=this.getRegionAtLine(range.startLineNumber);region&&!region.isCollapsed&&toToogle.push(region)}this.toggleCollapseState(toToogle)}},FoldingModel.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},FoldingModel.prototype.getAllRegionsAtLine=function(lineNumber,filter){var result=[];if(this._regions)for(var index=this._regions.findRange(lineNumber),level=1;index>=0;){var current=this._regions.toRegion(index);(!filter||filter(current,level))&&result.push(current),level++,index=current.parentIndex}return result},FoldingModel.prototype.getRegionAtLine=function(lineNumber){if(this._regions){var index=this._regions.findRange(lineNumber);if(index>=0)return this._regions.toRegion(index)}return null},FoldingModel.prototype.getRegionsInside=function(region,filter){var result=[],index=region?region.regionIndex+1:0,endLineNumber=region?region.endLineNumber:Number.MAX_VALUE;if(filter&&filter.length===2)for(var levelStack=[],i=index,len=this._regions.length;i<len;i++){var current=this._regions.toRegion(i);if(this._regions.getStartLineNumber(i)<endLineNumber){for(;levelStack.length>0&&!current.containedBy(levelStack[levelStack.length-1]);)levelStack.pop();levelStack.push(current),filter(current,levelStack.length)&&result.push(current)}else break}else for(var i=index,len=this._regions.length;i<len;i++){var current=this._regions.toRegion(i);if(this._regions.getStartLineNumber(i)<endLineNumber)(!filter||filter(current))&&result.push(current);else break}return result},FoldingModel}();function toggleCollapseState(foldingModel,levels,lineNumbers){for(var toToggle=[],_loop_1=function(lineNumber2){var region=foldingModel.getRegionAtLine(lineNumber2);if(region){var doCollapse_1=!region.isCollapsed;if(toToggle.push(region),levels>1){var regionsInside=foldingModel.getRegionsInside(region,function(r,level){return r.isCollapsed!==doCollapse_1&&level<levels});toToggle.push.apply(toToggle,regionsInside)}}},_i=0,lineNumbers_1=lineNumbers;_i<lineNumbers_1.length;_i++){var lineNumber=lineNumbers_1[_i];_loop_1(lineNumber)}foldingModel.toggleCollapseState(toToggle)}function setCollapseStateLevelsDown(foldingModel,doCollapse,levels,lineNumbers){levels===void 0&&(levels=Number.MAX_VALUE);var toToggle=[];if(lineNumbers&&lineNumbers.length>0)for(var _i=0,lineNumbers_2=lineNumbers;_i<lineNumbers_2.length;_i++){var lineNumber=lineNumbers_2[_i],region=foldingModel.getRegionAtLine(lineNumber);if(region&&(region.isCollapsed!==doCollapse&&toToggle.push(region),levels>1)){var regionsInside=foldingModel.getRegionsInside(region,function(r,level){return r.isCollapsed!==doCollapse&&level<levels});toToggle.push.apply(toToggle,regionsInside)}}else{var regionsInside=foldingModel.getRegionsInside(null,function(r,level){return r.isCollapsed!==doCollapse&&level<levels});toToggle.push.apply(toToggle,regionsInside)}foldingModel.toggleCollapseState(toToggle)}function setCollapseStateLevelsUp(foldingModel,doCollapse,levels,lineNumbers){for(var toToggle=[],_i=0,lineNumbers_3=lineNumbers;_i<lineNumbers_3.length;_i++){var lineNumber=lineNumbers_3[_i],regions=foldingModel.getAllRegionsAtLine(lineNumber,function(region,level){return region.isCollapsed!==doCollapse&&level<=levels});toToggle.push.apply(toToggle,regions)}foldingModel.toggleCollapseState(toToggle)}function setCollapseStateAtLevel(foldingModel,foldLevel,doCollapse,blockedLineNumbers){var filter=function(region,level){return level===foldLevel&&region.isCollapsed!==doCollapse&&!blockedLineNumbers.some(function(line){return region.containsLine(line)})},toToggle=foldingModel.getRegionsInside(null,filter);foldingModel.toggleCollapseState(toToggle)}function setCollapseStateForMatchingLines(foldingModel,regExp,doCollapse){for(var editorModel=foldingModel.textModel,regions=foldingModel.regions,toToggle=[],i=regions.length-1;i>=0;i--)if(doCollapse!==regions.isCollapsed(i)){var startLineNumber=regions.getStartLineNumber(i);regExp.test(editorModel.getLineContent(startLineNumber))&&toToggle.push(regions.toRegion(i))}foldingModel.toggleCollapseState(toToggle)}function setCollapseStateForType(foldingModel,type,doCollapse){for(var regions=foldingModel.regions,toToggle=[],i=regions.length-1;i>=0;i--)doCollapse!==regions.isCollapsed(i)&&type===regions.getType(i)&&toToggle.push(regions.toRegion(i));foldingModel.toggleCollapseState(toToggle)}var model_textModel=__webpack_require__(2720),foldingDecorations_FoldingDecorationProvider=function(){function FoldingDecorationProvider(editor){this.editor=editor,this.autoHideFoldingControls=!0}return FoldingDecorationProvider.prototype.getDecorationOption=function(isCollapsed){return isCollapsed?FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION},FoldingDecorationProvider.prototype.deltaDecorations=function(oldDecorations,newDecorations){return this.editor.deltaDecorations(oldDecorations,newDecorations)},FoldingDecorationProvider.prototype.changeDecorations=function(callback){return this.editor.changeDecorations(callback)},FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION=model_textModel.a.register({stickiness:1,afterContentClassName:"inline-folded",linesDecorationsClassName:"codicon codicon-chevron-right"}),FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=model_textModel.a.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down"}),FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION=model_textModel.a.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down alwaysShowFoldIcons"}),FoldingDecorationProvider}(),editorContextKeys=__webpack_require__(2632),core_range=__webpack_require__(2056),arrays=__webpack_require__(2389),hiddenRangeModel_HiddenRangeModel=function(){function HiddenRangeModel(model){var _this=this;this._updateEventEmitter=new common_event.a,this._foldingModel=model,this._foldingModelListener=model.onDidChange(function(_){return _this.updateHiddenRanges()}),this._hiddenRanges=[],model.regions.length&&this.updateHiddenRanges()}return Object.defineProperty(HiddenRangeModel.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(HiddenRangeModel.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),HiddenRangeModel.prototype.updateHiddenRanges=function(){for(var updateHiddenAreas=!1,newHiddenAreas=[],i=0,k=0,lastCollapsedStart=Number.MAX_VALUE,lastCollapsedEnd=-1,ranges=this._foldingModel.regions;i<ranges.length;i++)if(ranges.isCollapsed(i)){var startLineNumber=ranges.getStartLineNumber(i)+1,endLineNumber=ranges.getEndLineNumber(i);lastCollapsedStart<=startLineNumber&&endLineNumber<=lastCollapsedEnd||(!updateHiddenAreas&&k<this._hiddenRanges.length&&this._hiddenRanges[k].startLineNumber===startLineNumber&&this._hiddenRanges[k].endLineNumber===endLineNumber?(newHiddenAreas.push(this._hiddenRanges[k]),k++):(updateHiddenAreas=!0,newHiddenAreas.push(new core_range.a(startLineNumber,1,endLineNumber,1))),lastCollapsedStart=startLineNumber,lastCollapsedEnd=endLineNumber)}(updateHiddenAreas||k<this._hiddenRanges.length)&&this.applyHiddenRanges(newHiddenAreas)},HiddenRangeModel.prototype.applyMemento=function(state){if(!Array.isArray(state)||state.length===0)return!1;for(var hiddenRanges=[],_i=0,state_1=state;_i<state_1.length;_i++){var r=state_1[_i];if(!r.startLineNumber||!r.endLineNumber)return!1;hiddenRanges.push(new core_range.a(r.startLineNumber+1,1,r.endLineNumber,1))}return this.applyHiddenRanges(hiddenRanges),!0},HiddenRangeModel.prototype.getMemento=function(){return this._hiddenRanges.map(function(r){return{startLineNumber:r.startLineNumber-1,endLineNumber:r.endLineNumber}})},HiddenRangeModel.prototype.applyHiddenRanges=function(newHiddenAreas){this._hiddenRanges=newHiddenAreas,this._updateEventEmitter.fire(newHiddenAreas)},HiddenRangeModel.prototype.hasRanges=function(){return this._hiddenRanges.length>0},HiddenRangeModel.prototype.isHidden=function(line){return findRange(this._hiddenRanges,line)!==null},HiddenRangeModel.prototype.adjustSelections=function(selections){for(var _this=this,hasChanges=!1,editorModel=this._foldingModel.textModel,lastRange=null,adjustLine=function(line){return(!lastRange||!isInside(line,lastRange))&&(lastRange=findRange(_this._hiddenRanges,line)),lastRange?lastRange.startLineNumber-1:null},i=0,len=selections.length;i<len;i++){var selection=selections[i],adjustedStartLine=adjustLine(selection.startLineNumber);adjustedStartLine&&(selection=selection.setStartPosition(adjustedStartLine,editorModel.getLineMaxColumn(adjustedStartLine)),hasChanges=!0);var adjustedEndLine=adjustLine(selection.endLineNumber);adjustedEndLine&&(selection=selection.setEndPosition(adjustedEndLine,editorModel.getLineMaxColumn(adjustedEndLine)),hasChanges=!0),selections[i]=selection}return hasChanges},HiddenRangeModel.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},HiddenRangeModel}();function isInside(line,range){return line>=range.startLineNumber&&line<=range.endLineNumber}function findRange(ranges,line){var i=Object(arrays.i)(ranges,function(r){return line<r.startLineNumber})-1;return i>=0&&ranges[i].endLineNumber>=line?ranges[i]:null}var languageConfigurationRegistry=__webpack_require__(2810),MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT=5e3,ID_INDENT_PROVIDER="indent",indentRangeProvider_IndentRangeProvider=function(){function IndentRangeProvider(editorModel){this.editorModel=editorModel,this.id=ID_INDENT_PROVIDER}return IndentRangeProvider.prototype.dispose=function(){},IndentRangeProvider.prototype.compute=function(cancelationToken){var foldingRules=languageConfigurationRegistry.a.getFoldingRules(this.editorModel.getLanguageIdentifier().id),offSide=foldingRules&&!!foldingRules.offSide,markers=foldingRules&&foldingRules.markers;return Promise.resolve(computeRanges(this.editorModel,offSide,markers))},IndentRangeProvider}(),indentRangeProvider_RangesCollector=function(){function RangesCollector(foldingRangesLimit){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=foldingRangesLimit}return RangesCollector.prototype.insertFirst=function(startLineNumber,endLineNumber,indent){if(!(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER)){var index=this._length;this._startIndexes[index]=startLineNumber,this._endIndexes[index]=endLineNumber,this._length++,indent<1e3&&(this._indentOccurrences[indent]=(this._indentOccurrences[indent]||0)+1)}},RangesCollector.prototype.toIndentRanges=function(model){if(this._length<=this._foldingRangesLimit){for(var startIndexes=new Uint32Array(this._length),endIndexes=new Uint32Array(this._length),i=this._length-1,k=0;i>=0;i--,k++)startIndexes[k]=this._startIndexes[i],endIndexes[k]=this._endIndexes[i];return new FoldingRegions(startIndexes,endIndexes)}else{for(var entries=0,maxIndent=this._indentOccurrences.length,i=0;i<this._indentOccurrences.length;i++){var n=this._indentOccurrences[i];if(n){if(n+entries>this._foldingRangesLimit){maxIndent=i;break}entries+=n}}for(var tabSize=model.getOptions().tabSize,startIndexes=new Uint32Array(this._foldingRangesLimit),endIndexes=new Uint32Array(this._foldingRangesLimit),i=this._length-1,k=0;i>=0;i--){var startIndex=this._startIndexes[i],lineContent=model.getLineContent(startIndex),indent=model_textModel.b.computeIndentLevel(lineContent,tabSize);(indent<maxIndent||indent===maxIndent&&entries++<this._foldingRangesLimit)&&(startIndexes[k]=startIndex,endIndexes[k]=this._endIndexes[i],k++)}return new FoldingRegions(startIndexes,endIndexes)}},RangesCollector}();function computeRanges(model,offSide,markers,foldingRangesLimit){foldingRangesLimit===void 0&&(foldingRangesLimit=MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT);var tabSize=model.getOptions().tabSize,result=new indentRangeProvider_RangesCollector(foldingRangesLimit),pattern=void 0;markers&&(pattern=new RegExp("("+markers.start.source+")|(?:"+markers.end.source+")"));var previousRegions=[],line=model.getLineCount()+1;previousRegions.push({indent:-1,endAbove:line,line});for(var line_1=model.getLineCount();line_1>0;line_1--){var lineContent=model.getLineContent(line_1),indent=model_textModel.b.computeIndentLevel(lineContent,tabSize),previous=previousRegions[previousRegions.length-1];if(indent===-1){offSide&&(previous.endAbove=line_1);continue}var m=void 0;if(pattern&&(m=lineContent.match(pattern)))if(m[1]){for(var i=previousRegions.length-1;i>0&&previousRegions[i].indent!==-2;)i--;if(i>0){previousRegions.length=i+1,previous=previousRegions[i],result.insertFirst(line_1,previous.line,indent),previous.line=line_1,previous.indent=indent,previous.endAbove=line_1;continue}}else{previousRegions.push({indent:-2,endAbove:line_1,line:line_1});continue}if(previous.indent>indent){do previousRegions.pop(),previous=previousRegions[previousRegions.length-1];while(previous.indent>indent);var endLineNumber=previous.endAbove-1;endLineNumber-line_1>=1&&result.insertFirst(line_1,endLineNumber,indent)}previous.indent===indent?previous.endAbove=line_1:previousRegions.push({indent,endAbove:line_1,line:line_1})}return result.toIndentRanges(model)}var modes=__webpack_require__(2240),errors=__webpack_require__(2176),syntaxRangeProvider_MAX_FOLDING_REGIONS=5e3,foldingContext={},ID_SYNTAX_PROVIDER="syntax",SyntaxRangeProvider=function(){function SyntaxRangeProvider2(editorModel,providers,limit){limit===void 0&&(limit=syntaxRangeProvider_MAX_FOLDING_REGIONS),this.editorModel=editorModel,this.providers=providers,this.limit=limit,this.id=ID_SYNTAX_PROVIDER}return SyntaxRangeProvider2.prototype.compute=function(cancellationToken){var _this=this;return collectSyntaxRanges(this.providers,this.editorModel,cancellationToken).then(function(ranges){if(ranges){var res=sanitizeRanges(ranges,_this.limit);return res}return null})},SyntaxRangeProvider2.prototype.dispose=function(){},SyntaxRangeProvider2}();function collectSyntaxRanges(providers,model,cancellationToken){var rangeData=null,promises=providers.map(function(provider,i){return Promise.resolve(provider.provideFoldingRanges(model,foldingContext,cancellationToken)).then(function(ranges){if(!cancellationToken.isCancellationRequested&&Array.isArray(ranges)){Array.isArray(rangeData)||(rangeData=[]);for(var nLines=model.getLineCount(),_i=0,ranges_1=ranges;_i<ranges_1.length;_i++){var r=ranges_1[_i];r.start>0&&r.end>r.start&&r.end<=nLines&&rangeData.push({start:r.start,end:r.end,rank:i,kind:r.kind})}}},errors.f)});return Promise.all(promises).then(function(_){return rangeData})}var syntaxRangeProvider_RangesCollector=function(){function RangesCollector(foldingRangesLimit){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=foldingRangesLimit}return RangesCollector.prototype.add=function(startLineNumber,endLineNumber,type,nestingLevel){if(!(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER)){var index=this._length;this._startIndexes[index]=startLineNumber,this._endIndexes[index]=endLineNumber,this._nestingLevels[index]=nestingLevel,this._types[index]=type,this._length++,nestingLevel<30&&(this._nestingLevelCounts[nestingLevel]=(this._nestingLevelCounts[nestingLevel]||0)+1)}},RangesCollector.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var startIndexes=new Uint32Array(this._length),endIndexes=new Uint32Array(this._length),i=0;i<this._length;i++)startIndexes[i]=this._startIndexes[i],endIndexes[i]=this._endIndexes[i];return new FoldingRegions(startIndexes,endIndexes,this._types)}else{for(var entries=0,maxLevel=this._nestingLevelCounts.length,i=0;i<this._nestingLevelCounts.length;i++){var n=this._nestingLevelCounts[i];if(n){if(n+entries>this._foldingRangesLimit){maxLevel=i;break}entries+=n}}for(var startIndexes=new Uint32Array(this._foldingRangesLimit),endIndexes=new Uint32Array(this._foldingRangesLimit),types=[],i=0,k=0;i<this._length;i++){var level=this._nestingLevels[i];(level<maxLevel||level===maxLevel&&entries++<this._foldingRangesLimit)&&(startIndexes[k]=this._startIndexes[i],endIndexes[k]=this._endIndexes[i],types[k]=this._types[i],k++)}return new FoldingRegions(startIndexes,endIndexes,types)}},RangesCollector}();function sanitizeRanges(rangeData,limit){for(var sorted=rangeData.sort(function(d1,d2){var diff=d1.start-d2.start;return diff===0&&(diff=d1.rank-d2.rank),diff}),collector=new syntaxRangeProvider_RangesCollector(limit),top=void 0,previous=[],_i=0,sorted_1=sorted;_i<sorted_1.length;_i++){var entry=sorted_1[_i];if(!top)top=entry,collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length);else if(entry.start>top.start)if(entry.end<=top.end)previous.push(top),top=entry,collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length);else{if(entry.start>top.end){do top=previous.pop();while(top&&entry.start>top.end);top&&previous.push(top),top=entry}collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length)}}return collector.toIndentRanges()}var ID_INIT_PROVIDER="init",intializingRangeProvider_InitializingRangeProvider=function(){function InitializingRangeProvider(editorModel,initialRanges,onTimeout,timeoutTime){if(this.editorModel=editorModel,this.id=ID_INIT_PROVIDER,initialRanges.length){var toDecorationRange=function(range){return{range:{startLineNumber:range.startLineNumber,startColumn:0,endLineNumber:range.endLineNumber,endColumn:editorModel.getLineLength(range.endLineNumber)},options:{stickiness:1}}};this.decorationIds=editorModel.deltaDecorations([],initialRanges.map(toDecorationRange)),this.timeout=setTimeout(onTimeout,timeoutTime)}}return InitializingRangeProvider.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)},InitializingRangeProvider.prototype.compute=function(cancelationToken){var foldingRangeData=[];if(this.decorationIds)for(var _i=0,_a=this.decorationIds;_i<_a.length;_i++){var id=_a[_i],range=this.editorModel.getDecorationRange(id);range&&foldingRangeData.push({start:range.startLineNumber,end:range.endLineNumber,rank:1})}return Promise.resolve(sanitizeRanges(foldingRangeData,Number.MAX_VALUE))},InitializingRangeProvider}(),contextkey=__webpack_require__(2238),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},CONTEXT_FOLDING_ENABLED=new contextkey.d("foldingEnabled",!1),folding_FoldingController=function(_super){__extends(FoldingController,_super);function FoldingController(editor,contextKeyService){var _this=_super.call(this)||this;_this.contextKeyService=contextKeyService,_this.localToDispose=_this._register(new lifecycle.b),_this.editor=editor;var options=_this.editor.getOptions();return _this._isEnabled=options.get(29),_this._autoHideFoldingControls=options.get(80)==="mouseover",_this._useFoldingProviders=options.get(30)!=="indentation",_this.foldingModel=null,_this.hiddenRangeModel=null,_this.rangeProvider=null,_this.foldingRegionPromise=null,_this.foldingStateMemento=null,_this.foldingModelPromise=null,_this.updateScheduler=null,_this.cursorChangedScheduler=null,_this.mouseDownInfo=null,_this.foldingDecorationProvider=new foldingDecorations_FoldingDecorationProvider(editor),_this.foldingDecorationProvider.autoHideFoldingControls=_this._autoHideFoldingControls,_this.foldingEnabled=CONTEXT_FOLDING_ENABLED.bindTo(_this.contextKeyService),_this.foldingEnabled.set(_this._isEnabled),_this._register(_this.editor.onDidChangeModel(function(){return _this.onModelChanged()})),_this._register(_this.editor.onDidChangeConfiguration(function(e){if(e.hasChanged(29)||e.hasChanged(80)||e.hasChanged(30)){var oldIsEnabled=_this._isEnabled,options_1=_this.editor.getOptions();_this._isEnabled=options_1.get(29),_this.foldingEnabled.set(_this._isEnabled),oldIsEnabled!==_this._isEnabled&&_this.onModelChanged();var oldShowFoldingControls=_this._autoHideFoldingControls;_this._autoHideFoldingControls=options_1.get(80)==="mouseover",oldShowFoldingControls!==_this._autoHideFoldingControls&&(_this.foldingDecorationProvider.autoHideFoldingControls=_this._autoHideFoldingControls,_this.onModelContentChanged());var oldUseFoldingProviders=_this._useFoldingProviders;_this._useFoldingProviders=options_1.get(30)!=="indentation",oldUseFoldingProviders!==_this._useFoldingProviders&&_this.onFoldingStrategyChanged()}})),_this.onModelChanged(),_this}return FoldingController.get=function(editor){return editor.getContribution(FoldingController.ID)},FoldingController.prototype.saveViewState=function(){var model=this.editor.getModel();if(!model||!this._isEnabled||model.isTooLargeForTokenization())return{};if(this.foldingModel){var collapsedRegions=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),provider=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions,lineCount:model.getLineCount(),provider}}},FoldingController.prototype.restoreViewState=function(state){var model=this.editor.getModel();if(!(!model||!this._isEnabled||model.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!state||!state.collapsedRegions||state.lineCount!==model.getLineCount())){(state.provider===ID_SYNTAX_PROVIDER||state.provider===ID_INIT_PROVIDER)&&(this.foldingStateMemento=state);var collapsedRegions=state.collapsedRegions;if(this.hiddenRangeModel.applyMemento(collapsedRegions)){var foldingModel=this.getFoldingModel();foldingModel&&foldingModel.then(function(foldingModel2){foldingModel2&&foldingModel2.applyMemento(collapsedRegions)}).then(void 0,errors.e)}}},FoldingController.prototype.onModelChanged=function(){var _this=this;this.localToDispose.clear();var model=this.editor.getModel();!this._isEnabled||!model||model.isTooLargeForTokenization()||(this.foldingModel=new foldingModel_FoldingModel(model,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new hiddenRangeModel_HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(function(hr){return _this.onHiddenRangesChanges(hr)})),this.updateScheduler=new common_async.a(200),this.cursorChangedScheduler=new common_async.d(function(){return _this.revealCursor()},200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(modes.m.onDidChange(function(){return _this.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function(){return _this.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelContent(function(){return _this.onModelContentChanged()})),this.localToDispose.add(this.editor.onDidChangeCursorPosition(function(){return _this.onCursorPositionChanged()})),this.localToDispose.add(this.editor.onMouseDown(function(e){return _this.onEditorMouseDown(e)})),this.localToDispose.add(this.editor.onMouseUp(function(e){return _this.onEditorMouseUp(e)})),this.localToDispose.add({dispose:function(){_this.foldingRegionPromise&&(_this.foldingRegionPromise.cancel(),_this.foldingRegionPromise=null),_this.updateScheduler&&_this.updateScheduler.cancel(),_this.updateScheduler=null,_this.foldingModel=null,_this.foldingModelPromise=null,_this.hiddenRangeModel=null,_this.cursorChangedScheduler=null,_this.foldingStateMemento=null,_this.rangeProvider&&_this.rangeProvider.dispose(),_this.rangeProvider=null}}),this.onModelContentChanged())},FoldingController.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},FoldingController.prototype.getRangeProvider=function(editorModel){var _this=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new indentRangeProvider_IndentRangeProvider(editorModel),this._useFoldingProviders&&this.foldingModel){var foldingProviders=modes.m.ordered(this.foldingModel.textModel);if(foldingProviders.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){var rangeProvider=this.rangeProvider=new intializingRangeProvider_InitializingRangeProvider(editorModel,this.foldingStateMemento.collapsedRegions,function(){_this.foldingStateMemento=null,_this.onFoldingStrategyChanged()},3e4);return rangeProvider}else foldingProviders.length>0&&(this.rangeProvider=new SyntaxRangeProvider(editorModel,foldingProviders))}return this.foldingStateMemento=null,this.rangeProvider},FoldingController.prototype.getFoldingModel=function(){return this.foldingModelPromise},FoldingController.prototype.onModelContentChanged=function(){var _this=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(function(){var foldingModel=_this.foldingModel;if(!foldingModel)return null;var foldingRegionPromise=_this.foldingRegionPromise=Object(common_async.f)(function(token){return _this.getRangeProvider(foldingModel.textModel).compute(token)});return foldingRegionPromise.then(function(foldingRanges){if(foldingRanges&&foldingRegionPromise===_this.foldingRegionPromise){var selections=_this.editor.getSelections(),selectionLineNumbers=selections?selections.map(function(s){return s.startLineNumber}):[];foldingModel.update(foldingRanges,selectionLineNumbers)}return foldingModel})}).then(void 0,function(err){return Object(errors.e)(err),null}))},FoldingController.prototype.onHiddenRangesChanges=function(hiddenRanges){if(this.hiddenRangeModel&&hiddenRanges.length){var selections=this.editor.getSelections();selections&&this.hiddenRangeModel.adjustSelections(selections)&&this.editor.setSelections(selections)}this.editor.setHiddenAreas(hiddenRanges)},FoldingController.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},FoldingController.prototype.revealCursor=function(){var _this=this,foldingModel=this.getFoldingModel();foldingModel&&foldingModel.then(function(foldingModel2){if(foldingModel2){var selections=_this.editor.getSelections();if(selections&&selections.length>0){for(var toToggle=[],_loop_1=function(selection2){var lineNumber=selection2.selectionStartLineNumber;_this.hiddenRangeModel&&_this.hiddenRangeModel.isHidden(lineNumber)&&toToggle.push.apply(toToggle,foldingModel2.getAllRegionsAtLine(lineNumber,function(r){return r.isCollapsed&&lineNumber>r.startLineNumber}))},_i=0,selections_1=selections;_i<selections_1.length;_i++){var selection=selections_1[_i];_loop_1(selection)}toToggle.length&&(foldingModel2.toggleCollapseState(toToggle),_this.reveal(selections[0].getPosition()))}}}).then(void 0,errors.e)},FoldingController.prototype.onEditorMouseDown=function(e){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!e.target||!e.target.range)&&!(!e.event.leftButton&&!e.event.middleButton)){var range=e.target.range,iconClicked=!1;switch(e.target.type){case 4:var data=e.target.detail,offsetLeftInGutter=e.target.element.offsetLeft,gutterOffsetX=data.offsetX-offsetLeftInGutter;if(gutterOffsetX<5)return;iconClicked=!0;break;case 7:{if(this.hiddenRangeModel.hasRanges()){var data_1=e.target.detail;if(!data_1.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){var model=this.editor.getModel();if(model&&range.startColumn===model.getLineMaxColumn(range.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:range.startLineNumber,iconClicked}}},FoldingController.prototype.onEditorMouseUp=function(e){var _this=this,foldingModel=this.getFoldingModel();if(!(!foldingModel||!this.mouseDownInfo||!e.target)){var lineNumber=this.mouseDownInfo.lineNumber,iconClicked=this.mouseDownInfo.iconClicked,range=e.target.range;if(!(!range||range.startLineNumber!==lineNumber)){if(iconClicked){if(e.target.type!==4)return}else{var model=this.editor.getModel();if(!model||range.startColumn!==model.getLineMaxColumn(lineNumber))return}foldingModel.then(function(foldingModel2){if(foldingModel2){var region=foldingModel2.getRegionAtLine(lineNumber);if(region&&region.startLineNumber===lineNumber){var isCollapsed_1=region.isCollapsed;if(iconClicked||isCollapsed_1){var toToggle=[region];(e.event.middleButton||e.event.shiftKey)&&toToggle.push.apply(toToggle,foldingModel2.getRegionsInside(region,function(r){return r.isCollapsed===isCollapsed_1})),foldingModel2.toggleCollapseState(toToggle),_this.reveal({lineNumber,column:1})}}}}).then(void 0,errors.e)}}},FoldingController.prototype.reveal=function(position){this.editor.revealPositionInCenterIfOutsideViewport(position,0)},FoldingController.ID="editor.contrib.folding",FoldingController=__decorate([__param(1,contextkey.c)],FoldingController),FoldingController}(lifecycle.a),FoldingAction=function(_super){__extends(FoldingAction2,_super);function FoldingAction2(){return _super!==null&&_super.apply(this,arguments)||this}return FoldingAction2.prototype.runEditorCommand=function(accessor,editor,args){var _this=this,foldingController=folding_FoldingController.get(editor);if(foldingController){var foldingModelPromise=foldingController.getFoldingModel();if(foldingModelPromise)return this.reportTelemetry(accessor,editor),foldingModelPromise.then(function(foldingModel){if(foldingModel){_this.invoke(foldingController,foldingModel,editor,args);var selection=editor.getSelection();selection&&foldingController.reveal(selection.getStartPosition())}})}},FoldingAction2.prototype.getSelectedLines=function(editor){var selections=editor.getSelections();return selections?selections.map(function(s){return s.startLineNumber}):[]},FoldingAction2.prototype.getLineNumbers=function(args,editor){return args&&args.selectionLines?args.selectionLines.map(function(l){return l+1}):this.getSelectedLines(editor)},FoldingAction2.prototype.run=function(_accessor,_editor){},FoldingAction2}(editorExtensions.b);function foldingArgumentsConstraint(args){if(!common_types.k(args)){if(!common_types.i(args))return!1;var foldingArgs=args;if(!common_types.k(foldingArgs.levels)&&!common_types.h(foldingArgs.levels)||!common_types.k(foldingArgs.direction)&&!common_types.j(foldingArgs.direction)||!common_types.k(foldingArgs.selectionLines)&&(!common_types.d(foldingArgs.selectionLines)||!foldingArgs.selectionLines.every(common_types.h)))return!1}return!0}var folding_UnfoldAction=function(_super){__extends(UnfoldAction,_super);function UnfoldAction(){return _super.call(this,{id:"editor.unfold",label:nls.a("unfoldAction.label","Unfold"),alias:"Unfold",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:foldingArgumentsConstraint,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return UnfoldAction.prototype.invoke=function(_foldingController,foldingModel,editor,args){var levels=args&&args.levels||1,lineNumbers=this.getLineNumbers(args,editor);args&&args.direction==="up"?setCollapseStateLevelsUp(foldingModel,!1,levels,lineNumbers):setCollapseStateLevelsDown(foldingModel,!1,levels,lineNumbers)},UnfoldAction}(FoldingAction),folding_UnFoldRecursivelyAction=function(_super){__extends(UnFoldRecursivelyAction,_super);function UnFoldRecursivelyAction(){return _super.call(this,{id:"editor.unfoldRecursively",label:nls.a("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2137),weight:100}})||this}return UnFoldRecursivelyAction.prototype.invoke=function(_foldingController,foldingModel,editor,_args){setCollapseStateLevelsDown(foldingModel,!1,Number.MAX_VALUE,this.getSelectedLines(editor))},UnFoldRecursivelyAction}(FoldingAction),folding_FoldAction=function(_super){__extends(FoldAction,_super);function FoldAction(){return _super.call(this,{id:"editor.fold",label:nls.a("foldAction.label","Fold"),alias:"Fold",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold. Defaults to 1.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
						`,constraint:foldingArgumentsConstraint,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return FoldAction.prototype.invoke=function(_foldingController,foldingModel,editor,args){var levels=args&&args.levels||1,lineNumbers=this.getLineNumbers(args,editor);args&&args.direction==="up"?setCollapseStateLevelsUp(foldingModel,!0,levels,lineNumbers):setCollapseStateLevelsDown(foldingModel,!0,levels,lineNumbers)},FoldAction}(FoldingAction),folding_ToggleFoldAction=function(_super){__extends(ToggleFoldAction,_super);function ToggleFoldAction(){return _super.call(this,{id:"editor.toggleFold",label:nls.a("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2090),weight:100}})||this}return ToggleFoldAction.prototype.invoke=function(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);toggleCollapseState(foldingModel,1,selectedLines)},ToggleFoldAction}(FoldingAction),folding_FoldRecursivelyAction=function(_super){__extends(FoldRecursivelyAction,_super);function FoldRecursivelyAction(){return _super.call(this,{id:"editor.foldRecursively",label:nls.a("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2135),weight:100}})||this}return FoldRecursivelyAction.prototype.invoke=function(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);setCollapseStateLevelsDown(foldingModel,!0,Number.MAX_VALUE,selectedLines)},FoldRecursivelyAction}(FoldingAction),folding_FoldAllBlockCommentsAction=function(_super){__extends(FoldAllBlockCommentsAction,_super);function FoldAllBlockCommentsAction(){return _super.call(this,{id:"editor.foldAllBlockComments",label:nls.a("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2133),weight:100}})||this}return FoldAllBlockCommentsAction.prototype.invoke=function(_foldingController,foldingModel,editor){if(foldingModel.regions.hasTypes())setCollapseStateForType(foldingModel,modes.l.Comment.value,!0);else{var editorModel=editor.getModel();if(!editorModel)return;var comments=languageConfigurationRegistry.a.getComments(editorModel.getLanguageIdentifier().id);if(comments&&comments.blockCommentStartToken){var regExp=new RegExp("^\\s*"+Object(strings.p)(comments.blockCommentStartToken));setCollapseStateForMatchingLines(foldingModel,regExp,!0)}}},FoldAllBlockCommentsAction}(FoldingAction),folding_FoldAllRegionsAction=function(_super){__extends(FoldAllRegionsAction,_super);function FoldAllRegionsAction(){return _super.call(this,{id:"editor.foldAllMarkerRegions",label:nls.a("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2077),weight:100}})||this}return FoldAllRegionsAction.prototype.invoke=function(_foldingController,foldingModel,editor){if(foldingModel.regions.hasTypes())setCollapseStateForType(foldingModel,modes.l.Region.value,!0);else{var editorModel=editor.getModel();if(!editorModel)return;var foldingRules=languageConfigurationRegistry.a.getFoldingRules(editorModel.getLanguageIdentifier().id);if(foldingRules&&foldingRules.markers&&foldingRules.markers.start){var regExp=new RegExp(foldingRules.markers.start);setCollapseStateForMatchingLines(foldingModel,regExp,!0)}}},FoldAllRegionsAction}(FoldingAction),folding_UnfoldAllRegionsAction=function(_super){__extends(UnfoldAllRegionsAction,_super);function UnfoldAllRegionsAction(){return _super.call(this,{id:"editor.unfoldAllMarkerRegions",label:nls.a("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2078),weight:100}})||this}return UnfoldAllRegionsAction.prototype.invoke=function(_foldingController,foldingModel,editor){if(foldingModel.regions.hasTypes())setCollapseStateForType(foldingModel,modes.l.Region.value,!1);else{var editorModel=editor.getModel();if(!editorModel)return;var foldingRules=languageConfigurationRegistry.a.getFoldingRules(editorModel.getLanguageIdentifier().id);if(foldingRules&&foldingRules.markers&&foldingRules.markers.start){var regExp=new RegExp(foldingRules.markers.start);setCollapseStateForMatchingLines(foldingModel,regExp,!1)}}},UnfoldAllRegionsAction}(FoldingAction),folding_FoldAllAction=function(_super){__extends(FoldAllAction,_super);function FoldAllAction(){return _super.call(this,{id:"editor.foldAll",label:nls.a("foldAllAction.label","Fold All"),alias:"Fold All",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2069),weight:100}})||this}return FoldAllAction.prototype.invoke=function(_foldingController,foldingModel,_editor){setCollapseStateLevelsDown(foldingModel,!0)},FoldAllAction}(FoldingAction),folding_UnfoldAllAction=function(_super){__extends(UnfoldAllAction,_super);function UnfoldAllAction(){return _super.call(this,{id:"editor.unfoldAll",label:nls.a("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2088),weight:100}})||this}return UnfoldAllAction.prototype.invoke=function(_foldingController,foldingModel,_editor){setCollapseStateLevelsDown(foldingModel,!1)},UnfoldAllAction}(FoldingAction),folding_FoldLevelAction=function(_super){__extends(FoldLevelAction,_super);function FoldLevelAction(){return _super!==null&&_super.apply(this,arguments)||this}return FoldLevelAction.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(FoldLevelAction.ID_PREFIX.length))},FoldLevelAction.prototype.invoke=function(_foldingController,foldingModel,editor){setCollapseStateAtLevel(foldingModel,this.getFoldingLevel(),!0,this.getSelectedLines(editor))},FoldLevelAction.ID_PREFIX="editor.foldLevel",FoldLevelAction.ID=function(level){return FoldLevelAction.ID_PREFIX+level},FoldLevelAction}(FoldingAction);Object(editorExtensions.h)(folding_FoldingController.ID,folding_FoldingController),Object(editorExtensions.f)(folding_UnfoldAction),Object(editorExtensions.f)(folding_UnFoldRecursivelyAction),Object(editorExtensions.f)(folding_FoldAction),Object(editorExtensions.f)(folding_FoldRecursivelyAction),Object(editorExtensions.f)(folding_FoldAllAction),Object(editorExtensions.f)(folding_UnfoldAllAction),Object(editorExtensions.f)(folding_FoldAllBlockCommentsAction),Object(editorExtensions.f)(folding_FoldAllRegionsAction),Object(editorExtensions.f)(folding_UnfoldAllRegionsAction),Object(editorExtensions.f)(folding_ToggleFoldAction);for(var folding_i=1;folding_i<=7;folding_i++)Object(editorExtensions.i)(new folding_FoldLevelAction({id:folding_FoldLevelAction.ID(folding_i),label:nls.a("foldLevelAction.label","Fold Level {0}",folding_i),alias:"Fold Level "+folding_i,precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2048|21+folding_i),weight:100}}))},2364:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ModesHoverController",function(){return hover_ModesHoverController});var hover=__webpack_require__(5792),nls=__webpack_require__(2069),keyCodes=__webpack_require__(2768),lifecycle=__webpack_require__(2033),editorExtensions=__webpack_require__(2099),core_range=__webpack_require__(2056),editorContextKeys=__webpack_require__(2632),services_modeService=__webpack_require__(3198),dom=__webpack_require__(2124),cancellation=__webpack_require__(2649),common_color=__webpack_require__(2663),htmlContent=__webpack_require__(3241),core_position=__webpack_require__(2233),textModel=__webpack_require__(2720),modes=__webpack_require__(2240),colorPicker_color=__webpack_require__(3869),colorPicker_colorDetector=__webpack_require__(2255),common_event=__webpack_require__(2106),colorPickerModel_ColorPickerModel=function(){function ColorPickerModel(color,availableColorPresentations,presentationIndex){this.presentationIndex=presentationIndex,this._onColorFlushed=new common_event.a,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new common_event.a,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new common_event.a,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=color,this._color=color,this._colorPresentations=availableColorPresentations}return Object.defineProperty(ColorPickerModel.prototype,"color",{get:function(){return this._color},set:function(color){this._color.equals(color)||(this._color=color,this._onDidChangeColor.fire(color))},enumerable:!0,configurable:!0}),Object.defineProperty(ColorPickerModel.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(ColorPickerModel.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(colorPresentations){this._colorPresentations=colorPresentations,this.presentationIndex>colorPresentations.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:!0,configurable:!0}),ColorPickerModel.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)},ColorPickerModel.prototype.guessColorPresentation=function(color,originalText){for(var i=0;i<this.colorPresentations.length;i++)if(originalText===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}},ColorPickerModel.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)},ColorPickerModel}(),colorPicker=__webpack_require__(5793),browser=__webpack_require__(2642),globalMouseMoveMonitor=__webpack_require__(3238),widget=__webpack_require__(2816),colorRegistry=__webpack_require__(2623),common_themeService=__webpack_require__(2235),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),$=dom.a,colorPickerWidget_ColorPickerHeader=function(_super){__extends(ColorPickerHeader,_super);function ColorPickerHeader(container,model,themeService){var _this=_super.call(this)||this;_this.model=model,_this.domNode=$(".colorpicker-header"),dom.q(container,_this.domNode),_this.pickedColorNode=dom.q(_this.domNode,$(".picked-color"));var colorBox=dom.q(_this.domNode,$(".original-color"));return colorBox.style.backgroundColor=common_color.a.Format.CSS.format(_this.model.originalColor)||"",_this.backgroundColor=themeService.getTheme().getColor(colorRegistry.A)||common_color.a.white,_this._register(Object(common_themeService.e)(function(theme,collector){_this.backgroundColor=theme.getColor(colorRegistry.A)||common_color.a.white})),_this._register(dom.j(_this.pickedColorNode,dom.d.CLICK,function(){return _this.model.selectNextColorPresentation()})),_this._register(dom.j(colorBox,dom.d.CLICK,function(){_this.model.color=_this.model.originalColor,_this.model.flushColor()})),_this._register(model.onDidChangeColor(_this.onDidChangeColor,_this)),_this._register(model.onDidChangePresentation(_this.onDidChangePresentation,_this)),_this.pickedColorNode.style.backgroundColor=common_color.a.Format.CSS.format(model.color)||"",dom.V(_this.pickedColorNode,"light",model.color.rgba.a<.5?_this.backgroundColor.isLighter():model.color.isLighter()),_this}return ColorPickerHeader.prototype.onDidChangeColor=function(color){this.pickedColorNode.style.backgroundColor=common_color.a.Format.CSS.format(color)||"",dom.V(this.pickedColorNode,"light",color.rgba.a<.5?this.backgroundColor.isLighter():color.isLighter()),this.onDidChangePresentation()},ColorPickerHeader.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""},ColorPickerHeader}(lifecycle.a),colorPickerWidget_ColorPickerBody=function(_super){__extends(ColorPickerBody,_super);function ColorPickerBody(container,model,pixelRatio){var _this=_super.call(this)||this;return _this.model=model,_this.pixelRatio=pixelRatio,_this.domNode=$(".colorpicker-body"),dom.q(container,_this.domNode),_this.saturationBox=new colorPickerWidget_SaturationBox(_this.domNode,_this.model,_this.pixelRatio),_this._register(_this.saturationBox),_this._register(_this.saturationBox.onDidChange(_this.onDidSaturationValueChange,_this)),_this._register(_this.saturationBox.onColorFlushed(_this.flushColor,_this)),_this.opacityStrip=new colorPickerWidget_OpacityStrip(_this.domNode,_this.model),_this._register(_this.opacityStrip),_this._register(_this.opacityStrip.onDidChange(_this.onDidOpacityChange,_this)),_this._register(_this.opacityStrip.onColorFlushed(_this.flushColor,_this)),_this.hueStrip=new colorPickerWidget_HueStrip(_this.domNode,_this.model),_this._register(_this.hueStrip),_this._register(_this.hueStrip.onDidChange(_this.onDidHueChange,_this)),_this._register(_this.hueStrip.onColorFlushed(_this.flushColor,_this)),_this}return ColorPickerBody.prototype.flushColor=function(){this.model.flushColor()},ColorPickerBody.prototype.onDidSaturationValueChange=function(_a){var s=_a.s,v=_a.v,hsva=this.model.color.hsva;this.model.color=new common_color.a(new common_color.b(hsva.h,s,v,hsva.a))},ColorPickerBody.prototype.onDidOpacityChange=function(a){var hsva=this.model.color.hsva;this.model.color=new common_color.a(new common_color.b(hsva.h,hsva.s,hsva.v,a))},ColorPickerBody.prototype.onDidHueChange=function(value){var hsva=this.model.color.hsva,h=(1-value)*360;this.model.color=new common_color.a(new common_color.b(h===360?0:h,hsva.s,hsva.v,hsva.a))},ColorPickerBody.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},ColorPickerBody}(lifecycle.a),colorPickerWidget_SaturationBox=function(_super){__extends(SaturationBox,_super);function SaturationBox(container,model,pixelRatio){var _this=_super.call(this)||this;return _this.model=model,_this.pixelRatio=pixelRatio,_this._onDidChange=new common_event.a,_this.onDidChange=_this._onDidChange.event,_this._onColorFlushed=new common_event.a,_this.onColorFlushed=_this._onColorFlushed.event,_this.domNode=$(".saturation-wrap"),dom.q(container,_this.domNode),_this.canvas=document.createElement("canvas"),_this.canvas.className="saturation-box",dom.q(_this.domNode,_this.canvas),_this.selection=$(".saturation-selection"),dom.q(_this.domNode,_this.selection),_this.layout(),_this._register(dom.h(_this.domNode,function(e){return _this.onMouseDown(e)})),_this._register(_this.model.onDidChangeColor(_this.onDidChangeColor,_this)),_this.monitor=null,_this}return SaturationBox.prototype.onMouseDown=function(e){var _this=this;this.monitor=this._register(new globalMouseMoveMonitor.a);var origin=dom.B(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(globalMouseMoveMonitor.b,function(event){return _this.onDidChangePosition(event.posx-origin.left,event.posy-origin.top)},function(){return null});var mouseUpListener=dom.i(document,function(){_this._onColorFlushed.fire(),mouseUpListener.dispose(),_this.monitor&&(_this.monitor.stopMonitoring(!0),_this.monitor=null)},!0)},SaturationBox.prototype.onDidChangePosition=function(left,top){var s=Math.max(0,Math.min(1,left/this.width)),v=Math.max(0,Math.min(1,1-top/this.height));this.paintSelection(s,v),this._onDidChange.fire({s,v})},SaturationBox.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var hsva=this.model.color.hsva;this.paintSelection(hsva.s,hsva.v)},SaturationBox.prototype.paint=function(){var hsva=this.model.color.hsva,saturatedColor=new common_color.a(new common_color.b(hsva.h,1,1,1)),ctx=this.canvas.getContext("2d"),whiteGradient=ctx.createLinearGradient(0,0,this.canvas.width,0);whiteGradient.addColorStop(0,"rgba(255, 255, 255, 1)"),whiteGradient.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),whiteGradient.addColorStop(1,"rgba(255, 255, 255, 0)");var blackGradient=ctx.createLinearGradient(0,0,0,this.canvas.height);blackGradient.addColorStop(0,"rgba(0, 0, 0, 0)"),blackGradient.addColorStop(1,"rgba(0, 0, 0, 1)"),ctx.rect(0,0,this.canvas.width,this.canvas.height),ctx.fillStyle=common_color.a.Format.CSS.format(saturatedColor),ctx.fill(),ctx.fillStyle=whiteGradient,ctx.fill(),ctx.fillStyle=blackGradient,ctx.fill()},SaturationBox.prototype.paintSelection=function(s,v){this.selection.style.left=s*this.width+"px",this.selection.style.top=this.height-v*this.height+"px"},SaturationBox.prototype.onDidChangeColor=function(){this.monitor&&this.monitor.isMonitoring()||this.paint()},SaturationBox}(lifecycle.a),colorPickerWidget_Strip=function(_super){__extends(Strip,_super);function Strip(container,model){var _this=_super.call(this)||this;return _this.model=model,_this._onDidChange=new common_event.a,_this.onDidChange=_this._onDidChange.event,_this._onColorFlushed=new common_event.a,_this.onColorFlushed=_this._onColorFlushed.event,_this.domNode=dom.q(container,$(".strip")),_this.overlay=dom.q(_this.domNode,$(".overlay")),_this.slider=dom.q(_this.domNode,$(".slider")),_this.slider.style.top="0px",_this._register(dom.h(_this.domNode,function(e){return _this.onMouseDown(e)})),_this.layout(),_this}return Strip.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var value=this.getValue(this.model.color);this.updateSliderPosition(value)},Strip.prototype.onMouseDown=function(e){var _this=this,monitor=this._register(new globalMouseMoveMonitor.a),origin=dom.B(this.domNode);dom.f(this.domNode,"grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),monitor.startMonitoring(globalMouseMoveMonitor.b,function(event){return _this.onDidChangeTop(event.posy-origin.top)},function(){return null});var mouseUpListener=dom.i(document,function(){_this._onColorFlushed.fire(),mouseUpListener.dispose(),monitor.stopMonitoring(!0),dom.M(_this.domNode,"grabbing")},!0)},Strip.prototype.onDidChangeTop=function(top){var value=Math.max(0,Math.min(1,1-top/this.height));this.updateSliderPosition(value),this._onDidChange.fire(value)},Strip.prototype.updateSliderPosition=function(value){this.slider.style.top=(1-value)*this.height+"px"},Strip}(lifecycle.a),colorPickerWidget_OpacityStrip=function(_super){__extends(OpacityStrip,_super);function OpacityStrip(container,model){var _this=_super.call(this,container,model)||this;return dom.f(_this.domNode,"opacity-strip"),_this._register(model.onDidChangeColor(_this.onDidChangeColor,_this)),_this.onDidChangeColor(_this.model.color),_this}return OpacityStrip.prototype.onDidChangeColor=function(color){var _a=color.rgba,r=_a.r,g=_a.g,b=_a.b,opaque=new common_color.a(new common_color.c(r,g,b,1)),transparent=new common_color.a(new common_color.c(r,g,b,0));this.overlay.style.background="linear-gradient(to bottom, "+opaque+" 0%, "+transparent+" 100%)"},OpacityStrip.prototype.getValue=function(color){return color.hsva.a},OpacityStrip}(colorPickerWidget_Strip),colorPickerWidget_HueStrip=function(_super){__extends(HueStrip,_super);function HueStrip(container,model){var _this=_super.call(this,container,model)||this;return dom.f(_this.domNode,"hue-strip"),_this}return HueStrip.prototype.getValue=function(color){return 1-color.hsva.h/360},HueStrip}(colorPickerWidget_Strip),colorPickerWidget_ColorPickerWidget=function(_super){__extends(ColorPickerWidget,_super);function ColorPickerWidget(container,model,pixelRatio,themeService){var _this=_super.call(this)||this;_this.model=model,_this.pixelRatio=pixelRatio,_this._register(Object(browser.o)(function(){return _this.layout()}));var element=$(".colorpicker-widget");container.appendChild(element);var header=new colorPickerWidget_ColorPickerHeader(element,_this.model,themeService);return _this.body=new colorPickerWidget_ColorPickerBody(element,_this.model,_this.pixelRatio),_this._register(header),_this._register(_this.body),_this}return ColorPickerWidget.prototype.layout=function(){this.body.layout()},ColorPickerWidget}(widget.a),arrays=__webpack_require__(2389),errors=__webpack_require__(2176);function getHover(model,position,token){var supports=modes.n.ordered(model),promises=supports.map(function(support){return Promise.resolve(support.provideHover(model,position,token)).then(function(hover2){return hover2&&isValid(hover2)?hover2:void 0},function(err){Object(errors.f)(err)})});return Promise.all(promises).then(arrays.d)}Object(editorExtensions.e)("_executeHoverProvider",function(model,position){return getHover(model,position,cancellation.a.None)});function isValid(result){var hasRange=typeof result.range<"u",hasHtmlContent=typeof result.contents<"u"&&result.contents&&result.contents.length>0;return hasRange&&hasHtmlContent}var common_async=__webpack_require__(2237),hoverOperation_HoverOperation=function(){function HoverOperation(computer,success,error,progress,hoverTime){var _this=this;this._computer=computer,this._state=0,this._hoverTime=hoverTime,this._firstWaitScheduler=new common_async.d(function(){return _this._triggerAsyncComputation()},0),this._secondWaitScheduler=new common_async.d(function(){return _this._triggerSyncComputation()},0),this._loadingMessageScheduler=new common_async.d(function(){return _this._showLoadingMessage()},0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=success,this._errorCallback=error,this._progressCallback=progress}return HoverOperation.prototype.setHoverTime=function(hoverTime){this._hoverTime=hoverTime},HoverOperation.prototype._firstWaitTime=function(){return this._hoverTime/2},HoverOperation.prototype._secondWaitTime=function(){return this._hoverTime/2},HoverOperation.prototype._loadingMessageTime=function(){return 3*this._hoverTime},HoverOperation.prototype._triggerAsyncComputation=function(){var _this=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(common_async.f)(function(token){return _this._computer.computeAsync(token)}),this._asyncComputationPromise.then(function(asyncResult){_this._asyncComputationPromiseDone=!0,_this._withAsyncResult(asyncResult)},function(e){return _this._onError(e)})):this._asyncComputationPromiseDone=!0},HoverOperation.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},HoverOperation.prototype._showLoadingMessage=function(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())},HoverOperation.prototype._withAsyncResult=function(asyncResult){asyncResult&&this._computer.onResult(asyncResult,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))},HoverOperation.prototype._onComplete=function(value){this._completeCallback&&this._completeCallback(value)},HoverOperation.prototype._onError=function(error){this._errorCallback?this._errorCallback(error):Object(errors.e)(error)},HoverOperation.prototype._onProgress=function(value){this._progressCallback&&this._progressCallback(value)},HoverOperation.prototype.start=function(mode){if(mode===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}},HoverOperation.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},HoverOperation}(),scrollableElement=__webpack_require__(3105),hoverWidgets_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},hoverWidgets_ContentHoverWidget=function(_super){hoverWidgets_extends(ContentHoverWidget,_super);function ContentHoverWidget(id,editor){var _this=_super.call(this)||this;return _this.allowEditorOverflow=!0,_this._id=id,_this._editor=editor,_this._isVisible=!1,_this._stoleFocus=!1,_this._containerDomNode=document.createElement("div"),_this._containerDomNode.className="monaco-editor-hover hidden",_this._containerDomNode.tabIndex=0,_this._domNode=document.createElement("div"),_this._domNode.className="monaco-editor-hover-content",_this.scrollbar=new scrollableElement.a(_this._domNode,{}),_this._register(_this.scrollbar),_this._containerDomNode.appendChild(_this.scrollbar.getDomNode()),_this.onkeydown(_this._containerDomNode,function(e){e.equals(9)&&_this.hide()}),_this._register(_this._editor.onDidChangeConfiguration(function(e){e.hasChanged(32)&&_this.updateFont()})),_this._editor.onDidLayoutChange(function(e){return _this.layout()}),_this.layout(),_this._editor.addContentWidget(_this),_this._showAtPosition=null,_this._showAtRange=null,_this._stoleFocus=!1,_this}return Object.defineProperty(ContentHoverWidget.prototype,"isVisible",{get:function(){return this._isVisible},set:function(value){this._isVisible=value,Object(dom.V)(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),ContentHoverWidget.prototype.getId=function(){return this._id},ContentHoverWidget.prototype.getDomNode=function(){return this._containerDomNode},ContentHoverWidget.prototype.showAt=function(position,range,focus){this._showAtPosition=position,this._showAtRange=range,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=focus,focus&&this._containerDomNode.focus()},ContentHoverWidget.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},ContentHoverWidget.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},ContentHoverWidget.prototype.dispose=function(){this._editor.removeContentWidget(this),_super.prototype.dispose.call(this)},ContentHoverWidget.prototype.updateFont=function(){var _this=this,codeClasses=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));codeClasses.forEach(function(node){return _this._editor.applyFontInfo(node)})},ContentHoverWidget.prototype.updateContents=function(node){this._domNode.textContent="",this._domNode.appendChild(node),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},ContentHoverWidget.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},ContentHoverWidget.prototype.layout=function(){var height=Math.max(this._editor.getLayoutInfo().height/4,250),_a=this._editor.getOption(32),fontSize=_a.fontSize,lineHeight=_a.lineHeight;this._domNode.style.fontSize=fontSize+"px",this._domNode.style.lineHeight=lineHeight+"px",this._domNode.style.maxHeight=height+"px",this._domNode.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px"},ContentHoverWidget}(widget.a),hoverWidgets_GlyphHoverWidget=function(_super){hoverWidgets_extends(GlyphHoverWidget,_super);function GlyphHoverWidget(id,editor){var _this=_super.call(this)||this;return _this._id=id,_this._editor=editor,_this._isVisible=!1,_this._domNode=document.createElement("div"),_this._domNode.className="monaco-editor-hover hidden",_this._domNode.setAttribute("aria-hidden","true"),_this._domNode.setAttribute("role","presentation"),_this._showAtLineNumber=-1,_this._register(_this._editor.onDidChangeConfiguration(function(e){e.hasChanged(32)&&_this.updateFont()})),_this._editor.addOverlayWidget(_this),_this}return Object.defineProperty(GlyphHoverWidget.prototype,"isVisible",{get:function(){return this._isVisible},set:function(value){this._isVisible=value,Object(dom.V)(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),GlyphHoverWidget.prototype.getId=function(){return this._id},GlyphHoverWidget.prototype.getDomNode=function(){return this._domNode},GlyphHoverWidget.prototype.showAt=function(lineNumber){this._showAtLineNumber=lineNumber,this.isVisible||(this.isVisible=!0);var editorLayout=this._editor.getLayoutInfo(),topForLineNumber=this._editor.getTopForLineNumber(this._showAtLineNumber),editorScrollTop=this._editor.getScrollTop(),lineHeight=this._editor.getOption(47),nodeHeight=this._domNode.clientHeight,top=topForLineNumber-editorScrollTop-(nodeHeight-lineHeight)/2;this._domNode.style.left=editorLayout.glyphMarginLeft+editorLayout.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(top),0)+"px"},GlyphHoverWidget.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},GlyphHoverWidget.prototype.getPosition=function(){return null},GlyphHoverWidget.prototype.dispose=function(){this._editor.removeOverlayWidget(this),_super.prototype.dispose.call(this)},GlyphHoverWidget.prototype.updateFont=function(){var _this=this,codeTags=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),codeClasses=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));__spreadArrays(codeTags,codeClasses).forEach(function(node){return _this._editor.applyFontInfo(node)})},GlyphHoverWidget.prototype.updateContents=function(node){this._domNode.textContent="",this._domNode.appendChild(node),this.updateFont()},GlyphHoverWidget}(widget.a),markdownRenderer=__webpack_require__(3411),markers=__webpack_require__(3193),resources=__webpack_require__(2785),common_opener=__webpack_require__(2850),gotoError=__webpack_require__(2263),codeAction=__webpack_require__(3369),codeActionCommands=__webpack_require__(5013),types=__webpack_require__(3370),modesContentHover_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),modesContentHover_spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},modesContentHover_$=dom.a,ColorHover=function(){function ColorHover2(range,color,provider){this.range=range,this.color=color,this.provider=provider}return ColorHover2}(),MarkerHover=function(){function MarkerHover2(range,marker){this.range=range,this.marker=marker}return MarkerHover2}(),modesContentHover_ModesContentComputer=function(){function ModesContentComputer(editor,_markerDecorationsService){this._markerDecorationsService=_markerDecorationsService,this._editor=editor,this._result=[]}return ModesContentComputer.prototype.setRange=function(range){this._range=range,this._result=[]},ModesContentComputer.prototype.clearResult=function(){this._result=[]},ModesContentComputer.prototype.computeAsync=function(token){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);var model=this._editor.getModel();return modes.n.has(model)?getHover(model,new core_position.a(this._range.startLineNumber,this._range.startColumn),token):Promise.resolve([])},ModesContentComputer.prototype.computeSync=function(){var _this=this;if(!this._editor.hasModel()||!this._range)return[];var model=this._editor.getModel(),lineNumber=this._range.startLineNumber;if(lineNumber>this._editor.getModel().getLineCount())return[];var colorDetector=colorPicker_colorDetector.ColorDetector.get(this._editor),maxColumn=model.getLineMaxColumn(lineNumber),lineDecorations=this._editor.getLineDecorations(lineNumber),didFindColor=!1,hoverRange=this._range,result=lineDecorations.map(function(d){var startColumn=d.range.startLineNumber===lineNumber?d.range.startColumn:1,endColumn=d.range.endLineNumber===lineNumber?d.range.endColumn:maxColumn;if(startColumn>hoverRange.startColumn||hoverRange.endColumn>endColumn)return null;var range=new core_range.a(hoverRange.startLineNumber,startColumn,hoverRange.startLineNumber,endColumn),marker=_this._markerDecorationsService.getMarker(model,d);if(marker)return new MarkerHover(range,marker);var colorData=colorDetector.getColorData(d.range.getStartPosition());if(!didFindColor&&colorData){didFindColor=!0;var _a=colorData.colorInfo,color=_a.color,range_1=_a.range;return new ColorHover(range_1,color,colorData.provider)}else{if(Object(htmlContent.b)(d.options.hoverMessage))return null;var contents=d.options.hoverMessage?Object(arrays.b)(d.options.hoverMessage):[];return{contents,range}}});return Object(arrays.d)(result)},ModesContentComputer.prototype.onResult=function(result,isFromSynchronousComputation){isFromSynchronousComputation?this._result=result.concat(this._result.sort(function(a,b){return a instanceof ColorHover?-1:b instanceof ColorHover?1:0})):this._result=this._result.concat(result)},ModesContentComputer.prototype.getResult=function(){return this._result.slice(0)},ModesContentComputer.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},ModesContentComputer.prototype._getLoadingMessage=function(){return{range:this._range,contents:[new htmlContent.a().appendText(nls.a("modesContentHover.loading","Loading..."))]}},ModesContentComputer}(),modesContentHover_ModesContentHoverWidget=function(_super){modesContentHover_extends(ModesContentHoverWidget,_super);function ModesContentHoverWidget(editor,markerDecorationsService,_themeService,_keybindingService,_modeService,_openerService){_openerService===void 0&&(_openerService=common_opener.b);var _this=_super.call(this,ModesContentHoverWidget.ID,editor)||this;return _this._themeService=_themeService,_this._keybindingService=_keybindingService,_this._modeService=_modeService,_this._openerService=_openerService,_this.renderDisposable=_this._register(new lifecycle.d),_this._messages=[],_this._lastRange=null,_this._computer=new modesContentHover_ModesContentComputer(_this._editor,markerDecorationsService),_this._highlightDecorations=[],_this._isChangingDecorations=!1,_this._shouldFocus=!1,_this._colorPicker=null,_this._hoverOperation=new hoverOperation_HoverOperation(_this._computer,function(result){return _this._withResult(result,!0)},null,function(result){return _this._withResult(result,!1)},_this._editor.getOption(42).delay),_this._register(dom.o(_this.getDomNode(),dom.d.FOCUS,function(){_this._colorPicker&&dom.f(_this.getDomNode(),"colorpicker-hover")})),_this._register(dom.o(_this.getDomNode(),dom.d.BLUR,function(){dom.M(_this.getDomNode(),"colorpicker-hover")})),_this._register(editor.onDidChangeConfiguration(function(e){_this._hoverOperation.setHoverTime(_this._editor.getOption(42).delay)})),_this._register(modes.A.onDidChange(function(e){_this.isVisible&&_this._lastRange&&_this._messages.length>0&&(_this._domNode.textContent="",_this._renderMessages(_this._lastRange,_this._messages))})),_this}return ModesContentHoverWidget.prototype.dispose=function(){this._hoverOperation.cancel(),_super.prototype.dispose.call(this)},ModesContentHoverWidget.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},ModesContentHoverWidget.prototype.startShowingAt=function(range,mode,focus){if(!(this._lastRange&&this._lastRange.equalsRange(range))){if(this._hoverOperation.cancel(),this.isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==range.startLineNumber)this.hide();else{for(var filteredMessages=[],i=0,len=this._messages.length;i<len;i++){var msg=this._messages[i],rng=msg.range;rng&&rng.startColumn<=range.startColumn&&rng.endColumn>=range.endColumn&&filteredMessages.push(msg)}if(filteredMessages.length>0){if(hoverContentsEquals(filteredMessages,this._messages))return;this._renderMessages(range,filteredMessages)}else this.hide()}this._lastRange=range,this._computer.setRange(range),this._shouldFocus=focus,this._hoverOperation.start(mode)}},ModesContentHoverWidget.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),_super.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null},ModesContentHoverWidget.prototype.isColorPickerVisible=function(){return!!this._colorPicker},ModesContentHoverWidget.prototype._withResult=function(result,complete){this._messages=result,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):complete&&this.hide()},ModesContentHoverWidget.prototype._renderMessages=function(renderRange,messages){var _this=this;this.renderDisposable.dispose(),this._colorPicker=null;var renderColumn=1073741824,highlightRange=messages[0].range?core_range.a.lift(messages[0].range):null,fragment=document.createDocumentFragment(),isEmptyHoverContent=!0,containColorPicker=!1,markdownDisposeables=new lifecycle.b,markerMessages=[];if(messages.forEach(function(msg){if(msg.range)if(renderColumn=Math.min(renderColumn,msg.range.startColumn),highlightRange=highlightRange?core_range.a.plusRange(highlightRange,msg.range):core_range.a.lift(msg.range),msg instanceof ColorHover){containColorPicker=!0;var _a=msg.color,red=_a.red,green=_a.green,blue=_a.blue,alpha=_a.alpha,rgba=new common_color.c(Math.round(red*255),Math.round(green*255),Math.round(blue*255),alpha),color_1=new common_color.a(rgba);if(!_this._editor.hasModel())return;var editorModel_1=_this._editor.getModel(),range_2=new core_range.a(msg.range.startLineNumber,msg.range.startColumn,msg.range.endLineNumber,msg.range.endColumn),colorInfo={range:msg.range,color:msg.color},model_1=new colorPickerModel_ColorPickerModel(color_1,[],0),widget_1=new colorPickerWidget_ColorPickerWidget(fragment,model_1,_this._editor.getOption(101),_this._themeService);Object(colorPicker_color.a)(editorModel_1,colorInfo,msg.provider,cancellation.a.None).then(function(colorPresentations){if(model_1.colorPresentations=colorPresentations||[],!!_this._editor.hasModel()){var originalText=_this._editor.getModel().getValueInRange(msg.range);model_1.guessColorPresentation(color_1,originalText);var updateEditorModel=function(){var textEdits,newRange;model_1.presentation.textEdit?(textEdits=[model_1.presentation.textEdit],newRange=new core_range.a(model_1.presentation.textEdit.range.startLineNumber,model_1.presentation.textEdit.range.startColumn,model_1.presentation.textEdit.range.endLineNumber,model_1.presentation.textEdit.range.endColumn),newRange=newRange.setEndPosition(newRange.endLineNumber,newRange.startColumn+model_1.presentation.textEdit.text.length)):(textEdits=[{identifier:null,range:range_2,text:model_1.presentation.label,forceMoveMarkers:!1}],newRange=range_2.setEndPosition(range_2.endLineNumber,range_2.startColumn+model_1.presentation.label.length)),_this._editor.pushUndoStop(),_this._editor.executeEdits("colorpicker",textEdits),model_1.presentation.additionalTextEdits&&(textEdits=modesContentHover_spreadArrays(model_1.presentation.additionalTextEdits),_this._editor.executeEdits("colorpicker",textEdits),_this.hide()),_this._editor.pushUndoStop(),range_2=newRange},updateColorPresentations=function(color){return Object(colorPicker_color.a)(editorModel_1,{range:range_2,color:{red:color.rgba.r/255,green:color.rgba.g/255,blue:color.rgba.b/255,alpha:color.rgba.a}},msg.provider,cancellation.a.None).then(function(colorPresentations2){model_1.colorPresentations=colorPresentations2||[]})},colorListener=model_1.onColorFlushed(function(color){updateColorPresentations(color).then(updateEditorModel)}),colorChangeListener=model_1.onDidChangeColor(updateColorPresentations);_this._colorPicker=widget_1,_this.showAt(range_2.getStartPosition(),range_2,_this._shouldFocus),_this.updateContents(fragment),_this._colorPicker.layout(),_this.renderDisposable.value=Object(lifecycle.e)(colorListener,colorChangeListener,widget_1,markdownDisposeables)}})}else msg instanceof MarkerHover?(markerMessages.push(msg),isEmptyHoverContent=!1):msg.contents.filter(function(contents){return!Object(htmlContent.b)(contents)}).forEach(function(contents){var markdownHoverElement=modesContentHover_$("div.hover-row.markdown-hover"),hoverContentsElement=dom.q(markdownHoverElement,modesContentHover_$("div.hover-contents")),renderer=markdownDisposeables.add(new markdownRenderer.a(_this._editor,_this._modeService,_this._openerService));markdownDisposeables.add(renderer.onDidRenderCodeBlock(function(){hoverContentsElement.className="hover-contents code-hover-contents",_this.onContentsChange()}));var renderedContents=markdownDisposeables.add(renderer.render(contents));hoverContentsElement.appendChild(renderedContents.element),fragment.appendChild(markdownHoverElement),isEmptyHoverContent=!1})}),markerMessages.length){markerMessages.forEach(function(msg){return fragment.appendChild(_this.renderMarkerHover(msg))});var markerHoverForStatusbar=markerMessages.length===1?markerMessages[0]:markerMessages.sort(function(a,b){return markers.c.compare(a.marker.severity,b.marker.severity)})[0];fragment.appendChild(this.renderMarkerStatusbar(markerHoverForStatusbar))}!containColorPicker&&!isEmptyHoverContent&&(this.showAt(new core_position.a(renderRange.startLineNumber,renderColumn),highlightRange,this._shouldFocus),this.updateContents(fragment)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,highlightRange?[{range:highlightRange,options:ModesContentHoverWidget._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1},ModesContentHoverWidget.prototype.renderMarkerHover=function(markerHover){var _this=this,hoverElement=modesContentHover_$("div.hover-row"),markerElement=dom.q(hoverElement,modesContentHover_$("div.marker.hover-contents")),_a=markerHover.marker,source=_a.source,message=_a.message,code=_a.code,relatedInformation=_a.relatedInformation;this._editor.applyFontInfo(markerElement);var messageElement=dom.q(markerElement,modesContentHover_$("span"));if(messageElement.style.whiteSpace="pre-wrap",messageElement.innerText=message,source||code){var detailsElement=dom.q(markerElement,modesContentHover_$("span"));detailsElement.style.opacity="0.6",detailsElement.style.paddingLeft="6px",detailsElement.innerText=source&&code?source+"("+code+")":source||"("+code+")"}if(Object(arrays.q)(relatedInformation))for(var _loop_1=function(message_12,resource2,startLineNumber2,startColumn2){var relatedInfoContainer=dom.q(markerElement,modesContentHover_$("div"));relatedInfoContainer.style.marginTop="8px";var a=dom.q(relatedInfoContainer,modesContentHover_$("a"));a.innerText=Object(resources.b)(resource2)+"("+startLineNumber2+", "+startColumn2+"): ",a.style.cursor="pointer",a.onclick=function(e){e.stopPropagation(),e.preventDefault(),_this._openerService&&_this._openerService.open(resource2.with({fragment:startLineNumber2+","+startColumn2}),{fromUserGesture:!0}).catch(errors.e)};var messageElement_1=dom.q(relatedInfoContainer,modesContentHover_$("span"));messageElement_1.innerText=message_12,this_1._editor.applyFontInfo(messageElement_1)},this_1=this,_i=0,relatedInformation_1=relatedInformation;_i<relatedInformation_1.length;_i++){var _b=relatedInformation_1[_i],message_1=_b.message,resource=_b.resource,startLineNumber=_b.startLineNumber,startColumn=_b.startColumn;_loop_1(message_1,resource,startLineNumber,startColumn)}return hoverElement},ModesContentHoverWidget.prototype.renderMarkerStatusbar=function(markerHover){var _this=this,hoverElement=modesContentHover_$("div.hover-row.status-bar"),disposables=new lifecycle.b,actionsElement=dom.q(hoverElement,modesContentHover_$("div.actions"));(markerHover.marker.severity===markers.c.Error||markerHover.marker.severity===markers.c.Warning||markerHover.marker.severity===markers.c.Info)&&disposables.add(this.renderAction(actionsElement,{label:nls.a("peek problem","Peek Problem"),commandId:gotoError.NextMarkerAction.ID,run:function(){_this.hide(),gotoError.MarkerController.get(_this._editor).show(markerHover.marker),_this._editor.focus()}}));var quickfixPlaceholderElement=dom.q(actionsElement,modesContentHover_$("div"));quickfixPlaceholderElement.style.opacity="0",quickfixPlaceholderElement.style.transition="opacity 0.2s",setTimeout(function(){return quickfixPlaceholderElement.style.opacity="1"},200),quickfixPlaceholderElement.textContent=nls.a("checkingForQuickFixes","Checking for quick fixes..."),disposables.add(Object(lifecycle.h)(function(){return quickfixPlaceholderElement.remove()}));var codeActionsPromise=this.getCodeActions(markerHover.marker);return disposables.add(Object(lifecycle.h)(function(){return codeActionsPromise.cancel()})),codeActionsPromise.then(function(actions){if(quickfixPlaceholderElement.style.transition="",quickfixPlaceholderElement.style.opacity="1",!actions.validActions.length){actions.dispose(),quickfixPlaceholderElement.textContent=nls.a("noQuickFixes","No quick fixes available");return}quickfixPlaceholderElement.remove();var showing=!1;disposables.add(Object(lifecycle.h)(function(){showing||actions.dispose()})),disposables.add(_this.renderAction(actionsElement,{label:nls.a("quick fixes","Quick Fix..."),commandId:codeActionCommands.e.Id,run:function(target){showing=!0;var controller=codeActionCommands.f.get(_this._editor),elementPosition=dom.B(target);controller.showCodeActions(actions,{x:elementPosition.left+6,y:elementPosition.top+elementPosition.height+6})}}))}),this.renderDisposable.value=disposables,hoverElement},ModesContentHoverWidget.prototype.getCodeActions=function(marker){var _this=this;return Object(common_async.f)(function(cancellationToken){return Object(codeAction.c)(_this._editor.getModel(),new core_range.a(marker.startLineNumber,marker.startColumn,marker.endLineNumber,marker.endColumn),{type:"manual",filter:{include:types.b.QuickFix}},cancellationToken)})},ModesContentHoverWidget.prototype.renderAction=function(parent,actionOptions){var actionContainer=dom.q(parent,modesContentHover_$("div.action-container")),action=dom.q(actionContainer,modesContentHover_$("a.action"));actionOptions.iconClass&&dom.q(action,modesContentHover_$("span.icon."+actionOptions.iconClass));var label=dom.q(action,modesContentHover_$("span"));label.textContent=actionOptions.label;var keybinding=this._keybindingService.lookupKeybinding(actionOptions.commandId);return keybinding&&(label.title=actionOptions.label+" ("+keybinding.getLabel()+")"),dom.j(actionContainer,dom.d.CLICK,function(e){e.stopPropagation(),e.preventDefault(),actionOptions.run(actionContainer)})},ModesContentHoverWidget.ID="editor.contrib.modesContentHoverWidget",ModesContentHoverWidget._DECORATION_OPTIONS=textModel.a.register({className:"hoverHighlight"}),ModesContentHoverWidget}(hoverWidgets_ContentHoverWidget);function hoverContentsEquals(first,second){if(!first&&second||first&&!second||first.length!==second.length)return!1;for(var i=0;i<first.length;i++){var firstElement=first[i],secondElement=second[i];if(firstElement instanceof MarkerHover&&secondElement instanceof MarkerHover)return markers.a.makeKey(firstElement.marker)===markers.a.makeKey(secondElement.marker);if(firstElement instanceof ColorHover||secondElement instanceof ColorHover||firstElement instanceof MarkerHover||secondElement instanceof MarkerHover||!Object(htmlContent.c)(firstElement.contents,secondElement.contents))return!1}return!0}var modesGlyphHover_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),modesGlyphHover_MarginComputer=function(){function MarginComputer(editor){this._editor=editor,this._lineNumber=-1,this._result=[]}return MarginComputer.prototype.setLineNumber=function(lineNumber){this._lineNumber=lineNumber,this._result=[]},MarginComputer.prototype.clearResult=function(){this._result=[]},MarginComputer.prototype.computeSync=function(){var toHoverMessage=function(contents){return{value:contents}},lineDecorations=this._editor.getLineDecorations(this._lineNumber),result=[];if(!lineDecorations)return result;for(var _i=0,lineDecorations_1=lineDecorations;_i<lineDecorations_1.length;_i++){var d=lineDecorations_1[_i];if(d.options.glyphMarginClassName){var hoverMessage=d.options.glyphMarginHoverMessage;!hoverMessage||Object(htmlContent.b)(hoverMessage)||result.push.apply(result,Object(arrays.b)(hoverMessage).map(toHoverMessage))}}return result},MarginComputer.prototype.onResult=function(result,isFromSynchronousComputation){this._result=this._result.concat(result)},MarginComputer.prototype.getResult=function(){return this._result},MarginComputer.prototype.getResultWithLoadingMessage=function(){return this.getResult()},MarginComputer}(),modesGlyphHover_ModesGlyphHoverWidget=function(_super){modesGlyphHover_extends(ModesGlyphHoverWidget,_super);function ModesGlyphHoverWidget(editor,modeService,openerService){openerService===void 0&&(openerService=common_opener.b);var _this=_super.call(this,ModesGlyphHoverWidget.ID,editor)||this;return _this._renderDisposeables=_this._register(new lifecycle.b),_this._messages=[],_this._lastLineNumber=-1,_this._markdownRenderer=_this._register(new markdownRenderer.a(_this._editor,modeService,openerService)),_this._computer=new modesGlyphHover_MarginComputer(_this._editor),_this._hoverOperation=new hoverOperation_HoverOperation(_this._computer,function(result){return _this._withResult(result)},void 0,function(result){return _this._withResult(result)},300),_this}return ModesGlyphHoverWidget.prototype.dispose=function(){this._hoverOperation.cancel(),_super.prototype.dispose.call(this)},ModesGlyphHoverWidget.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},ModesGlyphHoverWidget.prototype.startShowingAt=function(lineNumber){this._lastLineNumber!==lineNumber&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=lineNumber,this._computer.setLineNumber(lineNumber),this._hoverOperation.start(0))},ModesGlyphHoverWidget.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),_super.prototype.hide.call(this)},ModesGlyphHoverWidget.prototype._withResult=function(result){this._messages=result,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},ModesGlyphHoverWidget.prototype._renderMessages=function(lineNumber,messages){this._renderDisposeables.clear();for(var fragment=document.createDocumentFragment(),_i=0,messages_1=messages;_i<messages_1.length;_i++){var msg=messages_1[_i],renderedContents=this._markdownRenderer.render(msg.value);this._renderDisposeables.add(renderedContents),fragment.appendChild(Object(dom.a)("div.hover-row",void 0,renderedContents.element))}this.updateContents(fragment),this.showAt(lineNumber)},ModesGlyphHoverWidget.ID="editor.contrib.modesGlyphHoverWidget",ModesGlyphHoverWidget}(hoverWidgets_GlyphHoverWidget),markersDecorationService=__webpack_require__(3884),common_keybinding=__webpack_require__(2760),goToDefinitionAtPosition=__webpack_require__(2256),hover_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},hover_ModesHoverController=function(){function ModesHoverController(_editor,_openerService,_modeService,_markerDecorationsService,_keybindingService,_themeService){var _this=this;this._editor=_editor,this._openerService=_openerService,this._modeService=_modeService,this._markerDecorationsService=_markerDecorationsService,this._keybindingService=_keybindingService,this._themeService=_themeService,this._toUnhook=new lifecycle.b,this._contentWidget=new lifecycle.d,this._glyphWidget=new lifecycle.d,this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(e){e.hasChanged(42)&&(_this._hideWidgets(),_this._unhookEvents(),_this._hookEvents())})}return Object.defineProperty(ModesHoverController.prototype,"contentWidget",{get:function(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value},enumerable:!0,configurable:!0}),Object.defineProperty(ModesHoverController.prototype,"glyphWidget",{get:function(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value},enumerable:!0,configurable:!0}),ModesHoverController.get=function(editor){return editor.getContribution(ModesHoverController.ID)},ModesHoverController.prototype._hookEvents=function(){var _this=this,hideWidgetsEventHandler=function(){return _this._hideWidgets()},hoverOpts=this._editor.getOption(42);this._isHoverEnabled=hoverOpts.enabled,this._isHoverSticky=hoverOpts.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(function(e){return _this._onEditorMouseDown(e)})),this._toUnhook.add(this._editor.onMouseUp(function(e){return _this._onEditorMouseUp(e)})),this._toUnhook.add(this._editor.onMouseMove(function(e){return _this._onEditorMouseMove(e)})),this._toUnhook.add(this._editor.onKeyDown(function(e){return _this._onKeyDown(e)})),this._toUnhook.add(this._editor.onDidChangeModelDecorations(function(){return _this._onModelDecorationsChanged()}))):this._toUnhook.add(this._editor.onMouseMove(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onDidScrollChange(function(e){return _this._onEditorScrollChanged(e)}))},ModesHoverController.prototype._unhookEvents=function(){this._toUnhook.clear()},ModesHoverController.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},ModesHoverController.prototype._onEditorScrollChanged=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()},ModesHoverController.prototype._onEditorMouseDown=function(mouseEvent){this._isMouseDown=!0;var targetType=mouseEvent.target.type;if(targetType===9&&mouseEvent.target.detail===modesContentHover_ModesContentHoverWidget.ID){this._hoverClicked=!0;return}targetType===12&&mouseEvent.target.detail===modesGlyphHover_ModesGlyphHoverWidget.ID||(targetType!==12&&mouseEvent.target.detail!==modesGlyphHover_ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())},ModesHoverController.prototype._onEditorMouseUp=function(mouseEvent){this._isMouseDown=!1},ModesHoverController.prototype._onEditorMouseMove=function(mouseEvent){var targetType=mouseEvent.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())&&!(this._isHoverSticky&&targetType===9&&mouseEvent.target.detail===modesContentHover_ModesContentHoverWidget.ID)&&!(this._isHoverSticky&&targetType===12&&mouseEvent.target.detail===modesGlyphHover_ModesGlyphHoverWidget.ID)){if(targetType===7){var epsilon=this._editor.getOption(32).typicalHalfwidthCharacterWidth/2,data=mouseEvent.target.detail;data&&!data.isAfterLines&&typeof data.horizontalDistanceToText=="number"&&data.horizontalDistanceToText<epsilon&&(targetType=6)}targetType===6?(this.glyphWidget.hide(),this._isHoverEnabled&&mouseEvent.target.range&&this.contentWidget.startShowingAt(mouseEvent.target.range,0,!1)):targetType===2?(this.contentWidget.hide(),this._isHoverEnabled&&mouseEvent.target.position&&this.glyphWidget.startShowingAt(mouseEvent.target.position.lineNumber)):this._hideWidgets()}},ModesHoverController.prototype._onKeyDown=function(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()},ModesHoverController.prototype._hideWidgets=function(){!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible()||(this._glyphWidget.value.hide(),this._contentWidget.value.hide())},ModesHoverController.prototype._createHoverWidgets=function(){this._contentWidget.value=new modesContentHover_ModesContentHoverWidget(this._editor,this._markerDecorationsService,this._themeService,this._keybindingService,this._modeService,this._openerService),this._glyphWidget.value=new modesGlyphHover_ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)},ModesHoverController.prototype.showContentHover=function(range,mode,focus){this.contentWidget.startShowingAt(range,mode,focus)},ModesHoverController.prototype.dispose=function(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()},ModesHoverController.ID="editor.contrib.hover",ModesHoverController=__decorate([__param(1,common_opener.a),__param(2,services_modeService.a),__param(3,markersDecorationService.a),__param(4,common_keybinding.a),__param(5,common_themeService.c)],ModesHoverController),ModesHoverController}(),hover_ShowHoverAction=function(_super){hover_extends(ShowHoverAction,_super);function ShowHoverAction(){return _super.call(this,{id:"editor.action.showHover",label:nls.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2087),weight:100}})||this}return ShowHoverAction.prototype.run=function(accessor,editor){if(editor.hasModel()){var controller=hover_ModesHoverController.get(editor);if(controller){var position=editor.getPosition(),range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column),focus=editor.getOption(2)===2;controller.showContentHover(range,1,focus)}}},ShowHoverAction}(editorExtensions.b),hover_ShowDefinitionPreviewHoverAction=function(_super){hover_extends(ShowDefinitionPreviewHoverAction,_super);function ShowDefinitionPreviewHoverAction(){return _super.call(this,{id:"editor.action.showDefinitionPreviewHover",label:nls.a({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})||this}return ShowDefinitionPreviewHoverAction.prototype.run=function(accessor,editor){var controller=hover_ModesHoverController.get(editor);if(controller){var position=editor.getPosition();if(position){var range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column),goto=goToDefinitionAtPosition.GotoDefinitionAtPositionEditorContribution.get(editor),promise=goto.startFindDefinitionFromCursor(position);promise?promise.then(function(){controller.showContentHover(range,1,!0)}):controller.showContentHover(range,1,!0)}}},ShowDefinitionPreviewHoverAction}(editorExtensions.b);Object(editorExtensions.h)(hover_ModesHoverController.ID,hover_ModesHoverController),Object(editorExtensions.f)(hover_ShowHoverAction),Object(editorExtensions.f)(hover_ShowDefinitionPreviewHoverAction),Object(common_themeService.e)(function(theme,collector){var editorHoverHighlightColor=theme.getColor(colorRegistry.D);editorHoverHighlightColor&&collector.addRule(".monaco-editor .hoverHighlight { background-color: "+editorHoverHighlightColor+"; }");var hoverBackground=theme.getColor(colorRegistry.A);hoverBackground&&collector.addRule(".monaco-editor .monaco-editor-hover { background-color: "+hoverBackground+"; }");var hoverBorder=theme.getColor(colorRegistry.B);hoverBorder&&(collector.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+hoverBorder+"; }"),collector.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+hoverBorder.transparent(.5)+"; }"),collector.addRule(".monaco-editor .monaco-editor-hover hr { border-top: 1px solid "+hoverBorder.transparent(.5)+"; }"),collector.addRule(".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid "+hoverBorder.transparent(.5)+"; }"));var link=theme.getColor(colorRegistry.ec);link&&collector.addRule(".monaco-editor .monaco-editor-hover a { color: "+link+"; }");var hoverForeground=theme.getColor(colorRegistry.C);hoverForeground&&collector.addRule(".monaco-editor .monaco-editor-hover { color: "+hoverForeground+"; }");var actionsBackground=theme.getColor(colorRegistry.E);actionsBackground&&collector.addRule(".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: "+actionsBackground+"; }");var codeBackground=theme.getColor(colorRegistry.dc);codeBackground&&collector.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+codeBackground+"; }")})},2365:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DuplicateSelectionAction",function(){return linesOperations_DuplicateSelectionAction}),__webpack_require__.d(__webpack_exports__,"AbstractSortLinesAction",function(){return linesOperations_AbstractSortLinesAction}),__webpack_require__.d(__webpack_exports__,"SortLinesAscendingAction",function(){return linesOperations_SortLinesAscendingAction}),__webpack_require__.d(__webpack_exports__,"SortLinesDescendingAction",function(){return linesOperations_SortLinesDescendingAction}),__webpack_require__.d(__webpack_exports__,"TrimTrailingWhitespaceAction",function(){return linesOperations_TrimTrailingWhitespaceAction}),__webpack_require__.d(__webpack_exports__,"DeleteLinesAction",function(){return linesOperations_DeleteLinesAction}),__webpack_require__.d(__webpack_exports__,"IndentLinesAction",function(){return linesOperations_IndentLinesAction}),__webpack_require__.d(__webpack_exports__,"InsertLineBeforeAction",function(){return linesOperations_InsertLineBeforeAction}),__webpack_require__.d(__webpack_exports__,"InsertLineAfterAction",function(){return linesOperations_InsertLineAfterAction}),__webpack_require__.d(__webpack_exports__,"AbstractDeleteAllToBoundaryAction",function(){return linesOperations_AbstractDeleteAllToBoundaryAction}),__webpack_require__.d(__webpack_exports__,"DeleteAllLeftAction",function(){return linesOperations_DeleteAllLeftAction}),__webpack_require__.d(__webpack_exports__,"DeleteAllRightAction",function(){return linesOperations_DeleteAllRightAction}),__webpack_require__.d(__webpack_exports__,"JoinLinesAction",function(){return linesOperations_JoinLinesAction}),__webpack_require__.d(__webpack_exports__,"TransposeAction",function(){return linesOperations_TransposeAction}),__webpack_require__.d(__webpack_exports__,"AbstractCaseAction",function(){return linesOperations_AbstractCaseAction}),__webpack_require__.d(__webpack_exports__,"UpperCaseAction",function(){return linesOperations_UpperCaseAction}),__webpack_require__.d(__webpack_exports__,"LowerCaseAction",function(){return linesOperations_LowerCaseAction}),__webpack_require__.d(__webpack_exports__,"TitleCaseAction",function(){return linesOperations_TitleCaseAction});var nls=__webpack_require__(2069),keyCodes=__webpack_require__(2768),coreCommands=__webpack_require__(2250),editorExtensions=__webpack_require__(2099),replaceCommand=__webpack_require__(3240),strings=__webpack_require__(2123),editOperation=__webpack_require__(3115),core_range=__webpack_require__(2056),TrimTrailingWhitespaceCommand=function(){function TrimTrailingWhitespaceCommand2(selection,cursors){this._selection=selection,this._cursors=cursors,this._selectionId=null}return TrimTrailingWhitespaceCommand2.prototype.getEditOperations=function(model,builder){for(var ops=trimTrailingWhitespace(model,this._cursors),i=0,len=ops.length;i<len;i++){var op=ops[i];builder.addEditOperation(op.range,op.text)}this._selectionId=builder.trackSelection(this._selection)},TrimTrailingWhitespaceCommand2.prototype.computeCursorState=function(model,helper){return helper.getTrackedSelection(this._selectionId)},TrimTrailingWhitespaceCommand2}();function trimTrailingWhitespace(model,cursors){cursors.sort(function(a,b){return a.lineNumber===b.lineNumber?a.column-b.column:a.lineNumber-b.lineNumber});for(var i=cursors.length-2;i>=0;i--)cursors[i].lineNumber===cursors[i+1].lineNumber&&cursors.splice(i,1);for(var r=[],rLen=0,cursorIndex=0,cursorLen=cursors.length,lineNumber=1,lineCount=model.getLineCount();lineNumber<=lineCount;lineNumber++){var lineContent=model.getLineContent(lineNumber),maxLineColumn=lineContent.length+1,minEditColumn=0;if(!(cursorIndex<cursorLen&&cursors[cursorIndex].lineNumber===lineNumber&&(minEditColumn=cursors[cursorIndex].column,cursorIndex++,minEditColumn===maxLineColumn))&&lineContent.length!==0){var lastNonWhitespaceIndex=strings.E(lineContent),fromColumn=0;if(lastNonWhitespaceIndex===-1)fromColumn=1;else if(lastNonWhitespaceIndex!==lineContent.length-1)fromColumn=lastNonWhitespaceIndex+2;else continue;fromColumn=Math.max(minEditColumn,fromColumn),r[rLen++]=editOperation.a.delete(new core_range.a(lineNumber,fromColumn,lineNumber,maxLineColumn))}}return r}var cursorTypeOperations=__webpack_require__(3603),core_position=__webpack_require__(2233),core_selection=__webpack_require__(2629),editorContextKeys=__webpack_require__(2632),copyLinesCommand_CopyLinesCommand=function(){function CopyLinesCommand(selection,isCopyingDown){this._selection=selection,this._isCopyingDown=isCopyingDown,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return CopyLinesCommand.prototype.getEditOperations=function(model,builder){var s=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._endLineNumberDelta=1,s=s.setEndPosition(s.endLineNumber-1,model.getLineMaxColumn(s.endLineNumber-1)));for(var sourceLines=[],i=s.startLineNumber;i<=s.endLineNumber;i++)sourceLines.push(model.getLineContent(i));var sourceText=sourceLines.join(`
`);sourceText===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?builder.addEditOperation(new core_range.a(s.startLineNumber,1,s.startLineNumber,1),sourceText+`
`):builder.addEditOperation(new core_range.a(s.endLineNumber,model.getLineMaxColumn(s.endLineNumber),s.endLineNumber,model.getLineMaxColumn(s.endLineNumber)),`
`+sourceText),this._selectionId=builder.trackSelection(s),this._selectionDirection=this._selection.getDirection()},CopyLinesCommand.prototype.computeCursorState=function(model,helper){var result=helper.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var startLineNumber=result.startLineNumber,startColumn=result.startColumn,endLineNumber=result.endLineNumber,endColumn=result.endColumn;this._startLineNumberDelta!==0&&(startLineNumber=startLineNumber+this._startLineNumberDelta,startColumn=1),this._endLineNumberDelta!==0&&(endLineNumber=endLineNumber+this._endLineNumberDelta,endColumn=1),result=core_selection.a.createWithDirection(startLineNumber,startColumn,endLineNumber,endColumn,this._selectionDirection)}return result},CopyLinesCommand}(),shiftCommand=__webpack_require__(3874),languageConfiguration=__webpack_require__(3284),languageConfigurationRegistry=__webpack_require__(2810);function getSpaceCnt(str,tabSize){for(var spacesCnt=0,i=0;i<str.length;i++)str.charAt(i)==="	"?spacesCnt+=tabSize:spacesCnt++;return spacesCnt}function generateIndent(spacesCnt,tabSize,insertSpaces){spacesCnt=spacesCnt<0?0:spacesCnt;var result="";if(!insertSpaces){var tabsCnt=Math.floor(spacesCnt/tabSize);spacesCnt=spacesCnt%tabSize;for(var i=0;i<tabsCnt;i++)result+="	"}for(var i=0;i<spacesCnt;i++)result+=" ";return result}var moveLinesCommand_MoveLinesCommand=function(){function MoveLinesCommand(selection,isMovingDown,autoIndent){this._selection=selection,this._isMovingDown=isMovingDown,this._autoIndent=autoIndent,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return MoveLinesCommand.prototype.getEditOperations=function(model,builder){var modelLineCount=model.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===modelLineCount){this._selectionId=builder.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=builder.trackSelection(this._selection);return}this._moveEndPositionDown=!1;var s=this._selection;s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,model.getLineMaxColumn(s.endLineNumber-1)));var _a=model.getOptions(),tabSize=_a.tabSize,indentSize=_a.indentSize,insertSpaces=_a.insertSpaces,indentConverter=this.buildIndentConverter(tabSize,indentSize,insertSpaces),virtualModel={getLineTokens:function(lineNumber2){return model.getLineTokens(lineNumber2)},getLanguageIdentifier:function(){return model.getLanguageIdentifier()},getLanguageIdAtPosition:function(lineNumber2,column){return model.getLanguageIdAtPosition(lineNumber2,column)},getLineContent:null};if(s.startLineNumber===s.endLineNumber&&model.getLineMaxColumn(s.startLineNumber)===1){var lineNumber=s.startLineNumber,otherLineNumber=this._isMovingDown?lineNumber+1:lineNumber-1;model.getLineMaxColumn(otherLineNumber)===1?builder.addEditOperation(new core_range.a(1,1,1,1),null):(builder.addEditOperation(new core_range.a(lineNumber,1,lineNumber,1),model.getLineContent(otherLineNumber)),builder.addEditOperation(new core_range.a(otherLineNumber,1,otherLineNumber,model.getLineMaxColumn(otherLineNumber)),null)),s=new core_selection.a(otherLineNumber,1,otherLineNumber,1)}else{var movingLineNumber_1,movingLineText=void 0;if(this._isMovingDown){movingLineNumber_1=s.endLineNumber+1,movingLineText=model.getLineContent(movingLineNumber_1),builder.addEditOperation(new core_range.a(movingLineNumber_1-1,model.getLineMaxColumn(movingLineNumber_1-1),movingLineNumber_1,model.getLineMaxColumn(movingLineNumber_1)),null);var insertingText_1=movingLineText;if(this.shouldAutoIndent(model,s)){var movingLineMatchResult=this.matchEnterRule(model,indentConverter,tabSize,movingLineNumber_1,s.startLineNumber-1);if(movingLineMatchResult!==null){var oldIndentation=strings.u(model.getLineContent(movingLineNumber_1)),newSpaceCnt=movingLineMatchResult+getSpaceCnt(oldIndentation,tabSize),newIndentation=generateIndent(newSpaceCnt,tabSize,insertSpaces);insertingText_1=newIndentation+this.trimLeft(movingLineText)}else{virtualModel.getLineContent=function(lineNumber2){return lineNumber2===s.startLineNumber?model.getLineContent(movingLineNumber_1):model.getLineContent(lineNumber2)};var indentOfMovingLine=languageConfigurationRegistry.a.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(movingLineNumber_1,1),s.startLineNumber,indentConverter);if(indentOfMovingLine!==null){var oldIndentation=strings.u(model.getLineContent(movingLineNumber_1)),newSpaceCnt=getSpaceCnt(indentOfMovingLine,tabSize),oldSpaceCnt=getSpaceCnt(oldIndentation,tabSize);if(newSpaceCnt!==oldSpaceCnt){var newIndentation=generateIndent(newSpaceCnt,tabSize,insertSpaces);insertingText_1=newIndentation+this.trimLeft(movingLineText)}}}builder.addEditOperation(new core_range.a(s.startLineNumber,1,s.startLineNumber,1),insertingText_1+`
`);var ret=this.matchEnterRule(model,indentConverter,tabSize,s.startLineNumber,s.startLineNumber,insertingText_1);if(ret!==null)ret!==0&&this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,ret);else{virtualModel.getLineContent=function(lineNumber2){return lineNumber2===s.startLineNumber?insertingText_1:lineNumber2>=s.startLineNumber+1&&lineNumber2<=s.endLineNumber+1?model.getLineContent(lineNumber2-1):model.getLineContent(lineNumber2)};var newIndentatOfMovingBlock=languageConfigurationRegistry.a.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(movingLineNumber_1,1),s.startLineNumber+1,indentConverter);if(newIndentatOfMovingBlock!==null){var oldIndentation=strings.u(model.getLineContent(s.startLineNumber)),newSpaceCnt=getSpaceCnt(newIndentatOfMovingBlock,tabSize),oldSpaceCnt=getSpaceCnt(oldIndentation,tabSize);if(newSpaceCnt!==oldSpaceCnt){var spaceCntOffset=newSpaceCnt-oldSpaceCnt;this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,spaceCntOffset)}}}}else builder.addEditOperation(new core_range.a(s.startLineNumber,1,s.startLineNumber,1),insertingText_1+`
`)}else if(movingLineNumber_1=s.startLineNumber-1,movingLineText=model.getLineContent(movingLineNumber_1),builder.addEditOperation(new core_range.a(movingLineNumber_1,1,movingLineNumber_1+1,1),null),builder.addEditOperation(new core_range.a(s.endLineNumber,model.getLineMaxColumn(s.endLineNumber),s.endLineNumber,model.getLineMaxColumn(s.endLineNumber)),`
`+movingLineText),this.shouldAutoIndent(model,s)){virtualModel.getLineContent=function(lineNumber2){return lineNumber2===movingLineNumber_1?model.getLineContent(s.startLineNumber):model.getLineContent(lineNumber2)};var ret=this.matchEnterRule(model,indentConverter,tabSize,s.startLineNumber,s.startLineNumber-2);if(ret!==null)ret!==0&&this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,ret);else{var indentOfFirstLine=languageConfigurationRegistry.a.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(s.startLineNumber,1),movingLineNumber_1,indentConverter);if(indentOfFirstLine!==null){var oldIndent=strings.u(model.getLineContent(s.startLineNumber)),newSpaceCnt=getSpaceCnt(indentOfFirstLine,tabSize),oldSpaceCnt=getSpaceCnt(oldIndent,tabSize);if(newSpaceCnt!==oldSpaceCnt){var spaceCntOffset=newSpaceCnt-oldSpaceCnt;this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,spaceCntOffset)}}}}}this._selectionId=builder.trackSelection(s)},MoveLinesCommand.prototype.buildIndentConverter=function(tabSize,indentSize,insertSpaces){return{shiftIndent:function(indentation){return shiftCommand.a.shiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces)},unshiftIndent:function(indentation){return shiftCommand.a.unshiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces)}}},MoveLinesCommand.prototype.matchEnterRule=function(model,indentConverter,tabSize,line,oneLineAbove,oneLineAboveText){for(var validPrecedingLine=oneLineAbove;validPrecedingLine>=1;){var lineContent=void 0;validPrecedingLine===oneLineAbove&&oneLineAboveText!==void 0?lineContent=oneLineAboveText:lineContent=model.getLineContent(validPrecedingLine);var nonWhitespaceIdx=strings.E(lineContent);if(nonWhitespaceIdx>=0)break;validPrecedingLine--}if(validPrecedingLine<1||line>model.getLineCount())return null;var maxColumn=model.getLineMaxColumn(validPrecedingLine),enter=languageConfigurationRegistry.a.getEnterAction(this._autoIndent,model,new core_range.a(validPrecedingLine,maxColumn,validPrecedingLine,maxColumn));if(enter){var enterPrefix=enter.indentation;enter.indentAction===languageConfiguration.a.None||enter.indentAction===languageConfiguration.a.Indent?enterPrefix=enter.indentation+enter.appendText:enter.indentAction===languageConfiguration.a.IndentOutdent?enterPrefix=enter.indentation:enter.indentAction===languageConfiguration.a.Outdent&&(enterPrefix=indentConverter.unshiftIndent(enter.indentation)+enter.appendText);var movingLineText=model.getLineContent(line);if(this.trimLeft(movingLineText).indexOf(this.trimLeft(enterPrefix))>=0){var oldIndentation=strings.u(model.getLineContent(line)),newIndentation=strings.u(enterPrefix),indentMetadataOfMovelingLine=languageConfigurationRegistry.a.getIndentMetadata(model,line);indentMetadataOfMovelingLine!==null&&indentMetadataOfMovelingLine&2&&(newIndentation=indentConverter.unshiftIndent(newIndentation));var newSpaceCnt=getSpaceCnt(newIndentation,tabSize),oldSpaceCnt=getSpaceCnt(oldIndentation,tabSize);return newSpaceCnt-oldSpaceCnt}}return null},MoveLinesCommand.prototype.trimLeft=function(str){return str.replace(/^\s+/,"")},MoveLinesCommand.prototype.shouldAutoIndent=function(model,selection){if(this._autoIndent<4||!model.isCheapToTokenize(selection.startLineNumber))return!1;var languageAtSelectionStart=model.getLanguageIdAtPosition(selection.startLineNumber,1),languageAtSelectionEnd=model.getLanguageIdAtPosition(selection.endLineNumber,1);return!(languageAtSelectionStart!==languageAtSelectionEnd||languageConfigurationRegistry.a.getIndentRulesSupport(languageAtSelectionStart)===null)},MoveLinesCommand.prototype.getIndentEditsOfMovingBlock=function(model,builder,s,tabSize,insertSpaces,offset){for(var i=s.startLineNumber;i<=s.endLineNumber;i++){var lineContent=model.getLineContent(i),originalIndent=strings.u(lineContent),originalSpacesCnt=getSpaceCnt(originalIndent,tabSize),newSpacesCnt=originalSpacesCnt+offset,newIndent=generateIndent(newSpacesCnt,tabSize,insertSpaces);newIndent!==originalIndent&&(builder.addEditOperation(new core_range.a(i,1,i,originalIndent.length+1),newIndent),i===s.endLineNumber&&s.endColumn<=originalIndent.length+1&&newIndent===""&&(this._moveEndLineSelectionShrink=!0))}},MoveLinesCommand.prototype.computeCursorState=function(model,helper){var result=helper.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(result=result.setEndPosition(result.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&result.startLineNumber<result.endLineNumber&&(result=result.setEndPosition(result.endLineNumber,2)),result},MoveLinesCommand}(),SortLinesCommand=function(){function SortLinesCommand2(selection,descending){this.selection=selection,this.descending=descending,this.selectionId=null}return SortLinesCommand2.getCollator=function(){return SortLinesCommand2._COLLATOR||(SortLinesCommand2._COLLATOR=new Intl.Collator),SortLinesCommand2._COLLATOR},SortLinesCommand2.prototype.getEditOperations=function(model,builder){var op=sortLines(model,this.selection,this.descending);op&&builder.addEditOperation(op.range,op.text),this.selectionId=builder.trackSelection(this.selection)},SortLinesCommand2.prototype.computeCursorState=function(model,helper){return helper.getTrackedSelection(this.selectionId)},SortLinesCommand2.canRun=function(model,selection,descending){if(model===null)return!1;var data=getSortData(model,selection,descending);if(!data)return!1;for(var i=0,len=data.before.length;i<len;i++)if(data.before[i]!==data.after[i])return!0;return!1},SortLinesCommand2._COLLATOR=null,SortLinesCommand2}();function getSortData(model,selection,descending){var startLineNumber=selection.startLineNumber,endLineNumber=selection.endLineNumber;if(selection.endColumn===1&&endLineNumber--,startLineNumber>=endLineNumber)return null;for(var linesToSort=[],lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++)linesToSort.push(model.getLineContent(lineNumber));var sorted=linesToSort.slice(0);return sorted.sort(SortLinesCommand.getCollator().compare),descending===!0&&(sorted=sorted.reverse()),{startLineNumber,endLineNumber,before:linesToSort,after:sorted}}function sortLines(model,selection,descending){var data=getSortData(model,selection,descending);return data?editOperation.a.replace(new core_range.a(data.startLineNumber,1,data.endLineNumber,model.getLineMaxColumn(data.endLineNumber)),data.after.join(`
`)):null}var __extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),linesOperations_AbstractCopyLinesAction=function(_super){__extends(AbstractCopyLinesAction,_super);function AbstractCopyLinesAction(down,opts){var _this=_super.call(this,opts)||this;return _this.down=down,_this}return AbstractCopyLinesAction.prototype.run=function(_accessor,editor){for(var commands=[],selections=editor.getSelections()||[],_i=0,selections_1=selections;_i<selections_1.length;_i++){var selection=selections_1[_i];commands.push(new copyLinesCommand_CopyLinesCommand(selection,this.down))}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()},AbstractCopyLinesAction}(editorExtensions.b),linesOperations_CopyLinesUpAction=function(_super){__extends(CopyLinesUpAction,_super);function CopyLinesUpAction(){return _super.call(this,!1,{id:"editor.action.copyLinesUpAction",label:nls.a("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:23,group:"2_line",title:nls.a({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}return CopyLinesUpAction}(linesOperations_AbstractCopyLinesAction),linesOperations_CopyLinesDownAction=function(_super){__extends(CopyLinesDownAction,_super);function CopyLinesDownAction(){return _super.call(this,!0,{id:"editor.action.copyLinesDownAction",label:nls.a("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:23,group:"2_line",title:nls.a({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}return CopyLinesDownAction}(linesOperations_AbstractCopyLinesAction),linesOperations_DuplicateSelectionAction=function(_super){__extends(DuplicateSelectionAction,_super);function DuplicateSelectionAction(){return _super.call(this,{id:"editor.action.duplicateSelection",label:nls.a("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:editorContextKeys.a.writable,menuOpts:{menuId:23,group:"2_line",title:nls.a({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})||this}return DuplicateSelectionAction.prototype.run=function(accessor,editor,args){if(editor.hasModel()){for(var commands=[],selections=editor.getSelections(),model=editor.getModel(),_i=0,selections_2=selections;_i<selections_2.length;_i++){var selection=selections_2[_i];if(selection.isEmpty())commands.push(new copyLinesCommand_CopyLinesCommand(selection,!0));else{var insertSelection=new core_selection.a(selection.endLineNumber,selection.endColumn,selection.endLineNumber,selection.endColumn);commands.push(new replaceCommand.c(insertSelection,model.getValueInRange(selection)))}}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}},DuplicateSelectionAction}(editorExtensions.b),linesOperations_AbstractMoveLinesAction=function(_super){__extends(AbstractMoveLinesAction,_super);function AbstractMoveLinesAction(down,opts){var _this=_super.call(this,opts)||this;return _this.down=down,_this}return AbstractMoveLinesAction.prototype.run=function(_accessor,editor){for(var commands=[],selections=editor.getSelections()||[],autoIndent=editor.getOption(8),_i=0,selections_3=selections;_i<selections_3.length;_i++){var selection=selections_3[_i];commands.push(new moveLinesCommand_MoveLinesCommand(selection,this.down,autoIndent))}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()},AbstractMoveLinesAction}(editorExtensions.b),linesOperations_MoveLinesUpAction=function(_super){__extends(MoveLinesUpAction,_super);function MoveLinesUpAction(){return _super.call(this,!1,{id:"editor.action.moveLinesUpAction",label:nls.a("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:23,group:"2_line",title:nls.a({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}return MoveLinesUpAction}(linesOperations_AbstractMoveLinesAction),linesOperations_MoveLinesDownAction=function(_super){__extends(MoveLinesDownAction,_super);function MoveLinesDownAction(){return _super.call(this,!0,{id:"editor.action.moveLinesDownAction",label:nls.a("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:23,group:"2_line",title:nls.a({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}return MoveLinesDownAction}(linesOperations_AbstractMoveLinesAction),linesOperations_AbstractSortLinesAction=function(_super){__extends(AbstractSortLinesAction,_super);function AbstractSortLinesAction(descending,opts){var _this=_super.call(this,opts)||this;return _this.descending=descending,_this}return AbstractSortLinesAction.prototype.run=function(_accessor,editor){for(var selections=editor.getSelections()||[],_i=0,selections_4=selections;_i<selections_4.length;_i++){var selection=selections_4[_i];if(!SortLinesCommand.canRun(editor.getModel(),selection,this.descending))return}for(var commands=[],i=0,len=selections.length;i<len;i++)commands[i]=new SortLinesCommand(selections[i],this.descending);editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()},AbstractSortLinesAction}(editorExtensions.b),linesOperations_SortLinesAscendingAction=function(_super){__extends(SortLinesAscendingAction,_super);function SortLinesAscendingAction(){return _super.call(this,!1,{id:"editor.action.sortLinesAscending",label:nls.a("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:editorContextKeys.a.writable})||this}return SortLinesAscendingAction}(linesOperations_AbstractSortLinesAction),linesOperations_SortLinesDescendingAction=function(_super){__extends(SortLinesDescendingAction,_super);function SortLinesDescendingAction(){return _super.call(this,!0,{id:"editor.action.sortLinesDescending",label:nls.a("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:editorContextKeys.a.writable})||this}return SortLinesDescendingAction}(linesOperations_AbstractSortLinesAction),linesOperations_TrimTrailingWhitespaceAction=function(_super){__extends(TrimTrailingWhitespaceAction,_super);function TrimTrailingWhitespaceAction(){return _super.call(this,{id:TrimTrailingWhitespaceAction.ID,label:nls.a("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2102),weight:100}})||this}return TrimTrailingWhitespaceAction.prototype.run=function(_accessor,editor,args){var cursors=[];args.reason==="auto-save"&&(cursors=(editor.getSelections()||[]).map(function(s){return new core_position.a(s.positionLineNumber,s.positionColumn)}));var selection=editor.getSelection();if(selection!==null){var command=new TrimTrailingWhitespaceCommand(selection,cursors);editor.pushUndoStop(),editor.executeCommands(this.id,[command]),editor.pushUndoStop()}},TrimTrailingWhitespaceAction.ID="editor.action.trimTrailingWhitespace",TrimTrailingWhitespaceAction}(editorExtensions.b),linesOperations_DeleteLinesAction=function(_super){__extends(DeleteLinesAction,_super);function DeleteLinesAction(){return _super.call(this,{id:"editor.action.deleteLines",label:nls.a("lines.delete","Delete Line"),alias:"Delete Line",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:3113,weight:100}})||this}return DeleteLinesAction.prototype.run=function(_accessor,editor){if(editor.hasModel()){var ops=this._getLinesToRemove(editor),model=editor.getModel();if(!(model.getLineCount()===1&&model.getLineMaxColumn(1)===1)){for(var linesDeleted=0,edits=[],cursorState=[],i=0,len=ops.length;i<len;i++){var op=ops[i],startLineNumber=op.startLineNumber,endLineNumber=op.endLineNumber,startColumn=1,endColumn=model.getLineMaxColumn(endLineNumber);endLineNumber<model.getLineCount()?(endLineNumber+=1,endColumn=1):startLineNumber>1&&(startLineNumber-=1,startColumn=model.getLineMaxColumn(startLineNumber)),edits.push(editOperation.a.replace(new core_selection.a(startLineNumber,startColumn,endLineNumber,endColumn),"")),cursorState.push(new core_selection.a(startLineNumber-linesDeleted,op.positionColumn,startLineNumber-linesDeleted,op.positionColumn)),linesDeleted+=op.endLineNumber-op.startLineNumber+1}editor.pushUndoStop(),editor.executeEdits(this.id,edits,cursorState),editor.pushUndoStop()}}},DeleteLinesAction.prototype._getLinesToRemove=function(editor){var operations=editor.getSelections().map(function(s){var endLineNumber=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(endLineNumber-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber,positionColumn:s.positionColumn}});operations.sort(function(a,b){return a.startLineNumber===b.startLineNumber?a.endLineNumber-b.endLineNumber:a.startLineNumber-b.startLineNumber});for(var mergedOperations=[],previousOperation=operations[0],i=1;i<operations.length;i++)previousOperation.endLineNumber+1>=operations[i].startLineNumber?previousOperation.endLineNumber=operations[i].endLineNumber:(mergedOperations.push(previousOperation),previousOperation=operations[i]);return mergedOperations.push(previousOperation),mergedOperations},DeleteLinesAction}(editorExtensions.b),linesOperations_IndentLinesAction=function(_super){__extends(IndentLinesAction,_super);function IndentLinesAction(){return _super.call(this,{id:"editor.action.indentLines",label:nls.a("lines.indent","Indent Line"),alias:"Indent Line",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2137,weight:100}})||this}return IndentLinesAction.prototype.run=function(_accessor,editor){var cursors=editor._getCursors();cursors&&(editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.indent(cursors.context.config,editor.getModel(),editor.getSelections())),editor.pushUndoStop())},IndentLinesAction}(editorExtensions.b),linesOperations_OutdentLinesAction=function(_super){__extends(OutdentLinesAction,_super);function OutdentLinesAction(){return _super.call(this,{id:"editor.action.outdentLines",label:nls.a("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2135,weight:100}})||this}return OutdentLinesAction.prototype.run=function(_accessor,editor){coreCommands.CoreEditingCommands.Outdent.runEditorCommand(_accessor,editor,null)},OutdentLinesAction}(editorExtensions.b),linesOperations_InsertLineBeforeAction=function(_super){__extends(InsertLineBeforeAction,_super);function InsertLineBeforeAction(){return _super.call(this,{id:"editor.action.insertLineBefore",label:nls.a("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3075,weight:100}})||this}return InsertLineBeforeAction.prototype.run=function(_accessor,editor){var cursors=editor._getCursors();cursors&&(editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.lineInsertBefore(cursors.context.config,editor.getModel(),editor.getSelections())))},InsertLineBeforeAction}(editorExtensions.b),linesOperations_InsertLineAfterAction=function(_super){__extends(InsertLineAfterAction,_super);function InsertLineAfterAction(){return _super.call(this,{id:"editor.action.insertLineAfter",label:nls.a("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2051,weight:100}})||this}return InsertLineAfterAction.prototype.run=function(_accessor,editor){var cursors=editor._getCursors();cursors&&(editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.lineInsertAfter(cursors.context.config,editor.getModel(),editor.getSelections())))},InsertLineAfterAction}(editorExtensions.b),linesOperations_AbstractDeleteAllToBoundaryAction=function(_super){__extends(AbstractDeleteAllToBoundaryAction,_super);function AbstractDeleteAllToBoundaryAction(){return _super!==null&&_super.apply(this,arguments)||this}return AbstractDeleteAllToBoundaryAction.prototype.run=function(_accessor,editor){if(editor.hasModel()){for(var primaryCursor=editor.getSelection(),rangesToDelete=this._getRangesToDelete(editor),effectiveRanges=[],i=0,count=rangesToDelete.length-1;i<count;i++){var range=rangesToDelete[i],nextRange=rangesToDelete[i+1];core_range.a.intersectRanges(range,nextRange)===null?effectiveRanges.push(range):rangesToDelete[i+1]=core_range.a.plusRange(range,nextRange)}effectiveRanges.push(rangesToDelete[rangesToDelete.length-1]);var endCursorState=this._getEndCursorState(primaryCursor,effectiveRanges),edits=effectiveRanges.map(function(range2){return editOperation.a.replace(range2,"")});editor.pushUndoStop(),editor.executeEdits(this.id,edits,endCursorState),editor.pushUndoStop()}},AbstractDeleteAllToBoundaryAction}(editorExtensions.b),linesOperations_DeleteAllLeftAction=function(_super){__extends(DeleteAllLeftAction,_super);function DeleteAllLeftAction(){return _super.call(this,{id:"deleteAllLeft",label:nls.a("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:2049},weight:100}})||this}return DeleteAllLeftAction.prototype._getEndCursorState=function(primaryCursor,rangesToDelete){var endPrimaryCursor=null,endCursorState=[],deletedLines=0;return rangesToDelete.forEach(function(range){var endCursor;if(range.endColumn===1&&deletedLines>0){var newStartLine=range.startLineNumber-deletedLines;endCursor=new core_selection.a(newStartLine,range.startColumn,newStartLine,range.startColumn)}else endCursor=new core_selection.a(range.startLineNumber,range.startColumn,range.startLineNumber,range.startColumn);deletedLines+=range.endLineNumber-range.startLineNumber,range.intersectRanges(primaryCursor)?endPrimaryCursor=endCursor:endCursorState.push(endCursor)}),endPrimaryCursor&&endCursorState.unshift(endPrimaryCursor),endCursorState},DeleteAllLeftAction.prototype._getRangesToDelete=function(editor){var selections=editor.getSelections();if(selections===null)return[];var rangesToDelete=selections,model=editor.getModel();return model===null?[]:(rangesToDelete.sort(core_range.a.compareRangesUsingStarts),rangesToDelete=rangesToDelete.map(function(selection){if(selection.isEmpty())if(selection.startColumn===1){var deleteFromLine=Math.max(1,selection.startLineNumber-1),deleteFromColumn=selection.startLineNumber===1?1:model.getLineContent(deleteFromLine).length+1;return new core_range.a(deleteFromLine,deleteFromColumn,selection.startLineNumber,1)}else return new core_range.a(selection.startLineNumber,1,selection.startLineNumber,selection.startColumn);else return new core_range.a(selection.startLineNumber,1,selection.endLineNumber,selection.endColumn)}),rangesToDelete)},DeleteAllLeftAction}(linesOperations_AbstractDeleteAllToBoundaryAction),linesOperations_DeleteAllRightAction=function(_super){__extends(DeleteAllRightAction,_super);function DeleteAllRightAction(){return _super.call(this,{id:"deleteAllRight",label:nls.a("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})||this}return DeleteAllRightAction.prototype._getEndCursorState=function(primaryCursor,rangesToDelete){for(var endPrimaryCursor=null,endCursorState=[],i=0,len=rangesToDelete.length,offset=0;i<len;i++){var range=rangesToDelete[i],endCursor=new core_selection.a(range.startLineNumber-offset,range.startColumn,range.startLineNumber-offset,range.startColumn);range.intersectRanges(primaryCursor)?endPrimaryCursor=endCursor:endCursorState.push(endCursor)}return endPrimaryCursor&&endCursorState.unshift(endPrimaryCursor),endCursorState},DeleteAllRightAction.prototype._getRangesToDelete=function(editor){var model=editor.getModel();if(model===null)return[];var selections=editor.getSelections();if(selections===null)return[];var rangesToDelete=selections.map(function(sel){if(sel.isEmpty()){var maxColumn=model.getLineMaxColumn(sel.startLineNumber);return sel.startColumn===maxColumn?new core_range.a(sel.startLineNumber,sel.startColumn,sel.startLineNumber+1,1):new core_range.a(sel.startLineNumber,sel.startColumn,sel.startLineNumber,maxColumn)}return sel});return rangesToDelete.sort(core_range.a.compareRangesUsingStarts),rangesToDelete},DeleteAllRightAction}(linesOperations_AbstractDeleteAllToBoundaryAction),linesOperations_JoinLinesAction=function(_super){__extends(JoinLinesAction,_super);function JoinLinesAction(){return _super.call(this,{id:"editor.action.joinLines",label:nls.a("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}return JoinLinesAction.prototype.run=function(_accessor,editor){var selections=editor.getSelections();if(selections!==null){var primaryCursor=editor.getSelection();if(primaryCursor!==null){selections.sort(core_range.a.compareRangesUsingStarts);var reducedSelections=[],lastSelection=selections.reduce(function(previousValue,currentValue){return previousValue.isEmpty()?previousValue.endLineNumber===currentValue.startLineNumber?(primaryCursor.equalsSelection(previousValue)&&(primaryCursor=currentValue),currentValue):currentValue.startLineNumber>previousValue.endLineNumber+1?(reducedSelections.push(previousValue),currentValue):new core_selection.a(previousValue.startLineNumber,previousValue.startColumn,currentValue.endLineNumber,currentValue.endColumn):currentValue.startLineNumber>previousValue.endLineNumber?(reducedSelections.push(previousValue),currentValue):new core_selection.a(previousValue.startLineNumber,previousValue.startColumn,currentValue.endLineNumber,currentValue.endColumn)});reducedSelections.push(lastSelection);var model=editor.getModel();if(model!==null){for(var edits=[],endCursorState=[],endPrimaryCursor=primaryCursor,lineOffset=0,i=0,len=reducedSelections.length;i<len;i++){var selection=reducedSelections[i],startLineNumber=selection.startLineNumber,startColumn=1,columnDeltaOffset=0,endLineNumber=void 0,endColumn=void 0,selectionEndPositionOffset=model.getLineContent(selection.endLineNumber).length-selection.endColumn;if(selection.isEmpty()||selection.startLineNumber===selection.endLineNumber){var position=selection.getStartPosition();position.lineNumber<model.getLineCount()?(endLineNumber=startLineNumber+1,endColumn=model.getLineMaxColumn(endLineNumber)):(endLineNumber=position.lineNumber,endColumn=model.getLineMaxColumn(position.lineNumber))}else endLineNumber=selection.endLineNumber,endColumn=model.getLineMaxColumn(endLineNumber);for(var trimmedLinesContent=model.getLineContent(startLineNumber),i_1=startLineNumber+1;i_1<=endLineNumber;i_1++){var lineText=model.getLineContent(i_1),firstNonWhitespaceIdx=model.getLineFirstNonWhitespaceColumn(i_1);if(firstNonWhitespaceIdx>=1){var insertSpace=!0;trimmedLinesContent===""&&(insertSpace=!1),insertSpace&&(trimmedLinesContent.charAt(trimmedLinesContent.length-1)===" "||trimmedLinesContent.charAt(trimmedLinesContent.length-1)==="	")&&(insertSpace=!1,trimmedLinesContent=trimmedLinesContent.replace(/[\s\uFEFF\xA0]+$/g," "));var lineTextWithoutIndent=lineText.substr(firstNonWhitespaceIdx-1);trimmedLinesContent+=(insertSpace?" ":"")+lineTextWithoutIndent,insertSpace?columnDeltaOffset=lineTextWithoutIndent.length+1:columnDeltaOffset=lineTextWithoutIndent.length}else columnDeltaOffset=0}var deleteSelection=new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn);if(!deleteSelection.isEmpty()){var resultSelection=void 0;selection.isEmpty()?(edits.push(editOperation.a.replace(deleteSelection,trimmedLinesContent)),resultSelection=new core_selection.a(deleteSelection.startLineNumber-lineOffset,trimmedLinesContent.length-columnDeltaOffset+1,startLineNumber-lineOffset,trimmedLinesContent.length-columnDeltaOffset+1)):selection.startLineNumber===selection.endLineNumber?(edits.push(editOperation.a.replace(deleteSelection,trimmedLinesContent)),resultSelection=new core_selection.a(selection.startLineNumber-lineOffset,selection.startColumn,selection.endLineNumber-lineOffset,selection.endColumn)):(edits.push(editOperation.a.replace(deleteSelection,trimmedLinesContent)),resultSelection=new core_selection.a(selection.startLineNumber-lineOffset,selection.startColumn,selection.startLineNumber-lineOffset,trimmedLinesContent.length-selectionEndPositionOffset)),core_range.a.intersectRanges(deleteSelection,primaryCursor)!==null?endPrimaryCursor=resultSelection:endCursorState.push(resultSelection)}lineOffset+=deleteSelection.endLineNumber-deleteSelection.startLineNumber}endCursorState.unshift(endPrimaryCursor),editor.pushUndoStop(),editor.executeEdits(this.id,edits,endCursorState),editor.pushUndoStop()}}}},JoinLinesAction}(editorExtensions.b),linesOperations_TransposeAction=function(_super){__extends(TransposeAction,_super);function TransposeAction(){return _super.call(this,{id:"editor.action.transpose",label:nls.a("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:editorContextKeys.a.writable})||this}return TransposeAction.prototype.run=function(_accessor,editor){var selections=editor.getSelections();if(selections!==null){var model=editor.getModel();if(model!==null){for(var commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i];if(selection.isEmpty()){var cursor=selection.getStartPosition(),maxColumn=model.getLineMaxColumn(cursor.lineNumber);if(cursor.column>=maxColumn){if(cursor.lineNumber===model.getLineCount())continue;var deleteSelection=new core_range.a(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber+1,1),chars=model.getValueInRange(deleteSelection).split("").reverse().join("");commands.push(new replaceCommand.a(new core_selection.a(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber+1,1),chars))}else{var deleteSelection=new core_range.a(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber,cursor.column+1),chars=model.getValueInRange(deleteSelection).split("").reverse().join("");commands.push(new replaceCommand.b(deleteSelection,chars,new core_selection.a(cursor.lineNumber,cursor.column+1,cursor.lineNumber,cursor.column+1)))}}}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}},TransposeAction}(editorExtensions.b),linesOperations_AbstractCaseAction=function(_super){__extends(AbstractCaseAction,_super);function AbstractCaseAction(){return _super!==null&&_super.apply(this,arguments)||this}return AbstractCaseAction.prototype.run=function(_accessor,editor){var selections=editor.getSelections();if(selections!==null){var model=editor.getModel();if(model!==null){for(var wordSeparators=editor.getOption(92),commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i];if(selection.isEmpty()){var cursor=selection.getStartPosition(),word=model.getWordAtPosition(cursor);if(!word)continue;var wordRange=new core_range.a(cursor.lineNumber,word.startColumn,cursor.lineNumber,word.endColumn),text=model.getValueInRange(wordRange);commands.push(new replaceCommand.b(wordRange,this._modifyText(text,wordSeparators),new core_selection.a(cursor.lineNumber,cursor.column,cursor.lineNumber,cursor.column)))}else{var text=model.getValueInRange(selection);commands.push(new replaceCommand.b(selection,this._modifyText(text,wordSeparators),selection))}}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}},AbstractCaseAction}(editorExtensions.b),linesOperations_UpperCaseAction=function(_super){__extends(UpperCaseAction,_super);function UpperCaseAction(){return _super.call(this,{id:"editor.action.transformToUppercase",label:nls.a("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:editorContextKeys.a.writable})||this}return UpperCaseAction.prototype._modifyText=function(text,wordSeparators){return text.toLocaleUpperCase()},UpperCaseAction}(linesOperations_AbstractCaseAction),linesOperations_LowerCaseAction=function(_super){__extends(LowerCaseAction,_super);function LowerCaseAction(){return _super.call(this,{id:"editor.action.transformToLowercase",label:nls.a("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:editorContextKeys.a.writable})||this}return LowerCaseAction.prototype._modifyText=function(text,wordSeparators){return text.toLocaleLowerCase()},LowerCaseAction}(linesOperations_AbstractCaseAction),linesOperations_TitleCaseAction=function(_super){__extends(TitleCaseAction,_super);function TitleCaseAction(){return _super.call(this,{id:"editor.action.transformToTitlecase",label:nls.a("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:editorContextKeys.a.writable})||this}return TitleCaseAction.prototype._modifyText=function(text,wordSeparators){for(var separators=`\r
	 `+wordSeparators,excludedChars=separators.split(""),title="",startUpperCase=!0,i=0;i<text.length;i++){var currentChar=text[i];excludedChars.indexOf(currentChar)>=0?(startUpperCase=!0,title+=currentChar):startUpperCase?(startUpperCase=!1,title+=currentChar.toLocaleUpperCase()):title+=currentChar.toLocaleLowerCase()}return title},TitleCaseAction}(linesOperations_AbstractCaseAction);Object(editorExtensions.f)(linesOperations_CopyLinesUpAction),Object(editorExtensions.f)(linesOperations_CopyLinesDownAction),Object(editorExtensions.f)(linesOperations_DuplicateSelectionAction),Object(editorExtensions.f)(linesOperations_MoveLinesUpAction),Object(editorExtensions.f)(linesOperations_MoveLinesDownAction),Object(editorExtensions.f)(linesOperations_SortLinesAscendingAction),Object(editorExtensions.f)(linesOperations_SortLinesDescendingAction),Object(editorExtensions.f)(linesOperations_TrimTrailingWhitespaceAction),Object(editorExtensions.f)(linesOperations_DeleteLinesAction),Object(editorExtensions.f)(linesOperations_IndentLinesAction),Object(editorExtensions.f)(linesOperations_OutdentLinesAction),Object(editorExtensions.f)(linesOperations_InsertLineBeforeAction),Object(editorExtensions.f)(linesOperations_InsertLineAfterAction),Object(editorExtensions.f)(linesOperations_DeleteAllLeftAction),Object(editorExtensions.f)(linesOperations_DeleteAllRightAction),Object(editorExtensions.f)(linesOperations_JoinLinesAction),Object(editorExtensions.f)(linesOperations_TransposeAction),Object(editorExtensions.f)(linesOperations_UpperCaseAction),Object(editorExtensions.f)(linesOperations_LowerCaseAction),Object(editorExtensions.f)(linesOperations_TitleCaseAction)},2366:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CodeLensContribution",function(){return codelensController_CodeLensContribution});var common_async=__webpack_require__(2237),errors=__webpack_require__(2176),lifecycle=__webpack_require__(2033),editorState=__webpack_require__(3177),editorExtensions=__webpack_require__(2099),modes=__webpack_require__(2240),arrays=__webpack_require__(2389),cancellation=__webpack_require__(2649),uri=__webpack_require__(2640),modelService=__webpack_require__(2817),codelens_CodeLensModel=function(){function CodeLensModel(){this.lenses=[],this._disposables=new lifecycle.b}return CodeLensModel.prototype.dispose=function(){this._disposables.dispose()},CodeLensModel.prototype.add=function(list,provider){this._disposables.add(list);for(var _i=0,_a=list.lenses;_i<_a.length;_i++){var symbol=_a[_i];this.lenses.push({symbol,provider})}},CodeLensModel}();function getCodeLensData(model,token){var provider=modes.b.ordered(model),providerRanks=new Map,result=new codelens_CodeLensModel,promises=provider.map(function(provider2,i){return providerRanks.set(provider2,i),Promise.resolve(provider2.provideCodeLenses(model,token)).then(function(list){return list&&result.add(list,provider2)}).catch(errors.f)});return Promise.all(promises).then(function(){return result.lenses=Object(arrays.r)(result.lenses,function(a,b){return a.symbol.range.startLineNumber<b.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>b.symbol.range.startLineNumber?1:providerRanks.get(a.provider)<providerRanks.get(b.provider)?-1:providerRanks.get(a.provider)>providerRanks.get(b.provider)?1:a.symbol.range.startColumn<b.symbol.range.startColumn?-1:a.symbol.range.startColumn>b.symbol.range.startColumn?1:0}),result})}Object(editorExtensions.j)("_executeCodeLensProvider",function(accessor,args){var resource=args.resource,itemResolveCount=args.itemResolveCount;if(!(resource instanceof uri.a))throw Object(errors.b)();var model=accessor.get(modelService.a).getModel(resource);if(!model)throw Object(errors.b)();var result=[],disposables=new lifecycle.b;return getCodeLensData(model,cancellation.a.None).then(function(value){disposables.add(value);for(var resolve=[],_loop_1=function(item2){typeof itemResolveCount>"u"||item2.symbol.command?result.push(item2.symbol):itemResolveCount-- >0&&item2.provider.resolveCodeLens&&resolve.push(Promise.resolve(item2.provider.resolveCodeLens(model,item2.symbol,cancellation.a.None)).then(function(symbol){return result.push(symbol||item2.symbol)}))},_i=0,_a=value.lenses;_i<_a.length;_i++){var item=_a[_i];_loop_1(item)}return Promise.all(resolve)}).then(function(){return result}).finally(function(){setTimeout(function(){return disposables.dispose()},100)})});var codelensWidget=__webpack_require__(5748),dom=__webpack_require__(2124),codiconLabel=__webpack_require__(3373),core_range=__webpack_require__(2056),textModel=__webpack_require__(2720),editorColorRegistry=__webpack_require__(2804),colorRegistry=__webpack_require__(2623),themeService=__webpack_require__(2235),CodeLensViewZone=function(){function CodeLensViewZone2(afterLineNumber,onHeight){this.afterLineNumber=afterLineNumber,this._onHeight=onHeight,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return CodeLensViewZone2.prototype.onComputedHeight=function(height){this._lastHeight===void 0?this._lastHeight=height:this._lastHeight!==height&&(this._lastHeight=height,this._onHeight())},CodeLensViewZone2}(),codelensWidget_CodeLensContentWidget=function(){function CodeLensContentWidget(editor,className,line){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=editor,this._id="codelens.widget-"+CodeLensContentWidget._idPool++,this.updatePosition(line),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration "+className}return CodeLensContentWidget.prototype.withCommands=function(lenses,animate){this._commands.clear();for(var innerHtml="",hasSymbol=!1,i=0;i<lenses.length;i++){var lens=lenses[i];if(lens&&(hasSymbol=!0,lens.command)){var title=Object(codiconLabel.a)(lens.command.title);lens.command.id?(innerHtml+="<a id="+i+">"+title+"</a>",this._commands.set(String(i),lens.command)):innerHtml+="<span>"+title+"</span>",i+1<lenses.length&&(innerHtml+="<span>&#160;|&#160;</span>")}}hasSymbol?(innerHtml||(innerHtml="&#160;"),this._domNode.innerHTML=innerHtml,this._isEmpty&&animate&&dom.f(this._domNode,"fadein"),this._isEmpty=!1):this._domNode.innerHTML="<span>no commands</span>"},CodeLensContentWidget.prototype.getCommand=function(link){return link.parentElement===this._domNode?this._commands.get(link.id):void 0},CodeLensContentWidget.prototype.getId=function(){return this._id},CodeLensContentWidget.prototype.getDomNode=function(){return this._domNode},CodeLensContentWidget.prototype.updatePosition=function(line){var column=this._editor.getModel().getLineFirstNonWhitespaceColumn(line);this._widgetPosition={position:{lineNumber:line,column},preference:[1]}},CodeLensContentWidget.prototype.getPosition=function(){return this._widgetPosition||null},CodeLensContentWidget._idPool=0,CodeLensContentWidget}(),CodeLensHelper=function(){function CodeLensHelper2(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return CodeLensHelper2.prototype.addDecoration=function(decoration,callback){this._addDecorations.push(decoration),this._addDecorationsCallbacks.push(callback)},CodeLensHelper2.prototype.removeDecoration=function(decorationId){this._removeDecorations.push(decorationId)},CodeLensHelper2.prototype.commit=function(changeAccessor){for(var resultingDecorations=changeAccessor.deltaDecorations(this._removeDecorations,this._addDecorations),i=0,len=resultingDecorations.length;i<len;i++)this._addDecorationsCallbacks[i](resultingDecorations[i])},CodeLensHelper2}(),codelensWidget_CodeLensWidget=function(){function CodeLensWidget(data,editor,className,helper,viewZoneChangeAccessor,updateCallback){var _this=this;this._isDisposed=!1,this._editor=editor,this._className=className,this._data=data,this._decorationIds=[];var range,lenses=[];this._data.forEach(function(codeLensData,i){codeLensData.symbol.command&&lenses.push(codeLensData.symbol),helper.addDecoration({range:codeLensData.symbol.range,options:textModel.a.EMPTY},function(id){return _this._decorationIds[i]=id}),range?range=core_range.a.plusRange(range,codeLensData.symbol.range):range=core_range.a.lift(codeLensData.symbol.range)}),this._viewZone=new CodeLensViewZone(range.startLineNumber-1,updateCallback),this._viewZoneId=viewZoneChangeAccessor.addZone(this._viewZone),lenses.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(lenses,!1))}return CodeLensWidget.prototype._createContentWidgetIfNecessary=function(){this._contentWidget||(this._contentWidget=new codelensWidget_CodeLensContentWidget(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))},CodeLensWidget.prototype.dispose=function(helper,viewZoneChangeAccessor){this._decorationIds.forEach(helper.removeDecoration,helper),this._decorationIds=[],viewZoneChangeAccessor&&viewZoneChangeAccessor.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0},CodeLensWidget.prototype.isDisposed=function(){return this._isDisposed},CodeLensWidget.prototype.isValid=function(){var _this=this;return this._decorationIds.some(function(id,i){var range=_this._editor.getModel().getDecorationRange(id),symbol=_this._data[i].symbol;return!!(range&&core_range.a.isEmpty(symbol.range)===range.isEmpty())})},CodeLensWidget.prototype.updateCodeLensSymbols=function(data,helper){var _this=this;this._decorationIds.forEach(helper.removeDecoration,helper),this._decorationIds=[],this._data=data,this._data.forEach(function(codeLensData,i){helper.addDecoration({range:codeLensData.symbol.range,options:textModel.a.EMPTY},function(id){return _this._decorationIds[i]=id})})},CodeLensWidget.prototype.computeIfNecessary=function(model){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(var i=0;i<this._decorationIds.length;i++){var range=model.getDecorationRange(this._decorationIds[i]);range&&(this._data[i].symbol.range=range)}return this._data},CodeLensWidget.prototype.updateCommands=function(symbols){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(symbols,!0);for(var i=0;i<this._data.length;i++){var resolved=symbols[i];if(resolved){var symbol=this._data[i].symbol;symbol.command=resolved.command||symbol.command}}},CodeLensWidget.prototype.getCommand=function(link){var _a;return(_a=this._contentWidget)===null||_a===void 0?void 0:_a.getCommand(link)},CodeLensWidget.prototype.getLineNumber=function(){var range=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return range?range.startLineNumber:-1},CodeLensWidget.prototype.update=function(viewZoneChangeAccessor){if(this.isValid()){var range=this._editor.getModel().getDecorationRange(this._decorationIds[0]);range&&(this._viewZone.afterLineNumber=range.startLineNumber-1,viewZoneChangeAccessor.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(range.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}},CodeLensWidget}();Object(themeService.e)(function(theme,collector){var codeLensForeground=theme.getColor(editorColorRegistry.e);codeLensForeground&&collector.addRule(".monaco-editor .codelens-decoration { color: "+codeLensForeground+"; }");var activeLinkForeground=theme.getColor(colorRegistry.n);activeLinkForeground&&collector.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+activeLinkForeground+" !important; }")});var commands=__webpack_require__(2733),notification=__webpack_require__(2761),instantiation=__webpack_require__(2232),extensions=__webpack_require__(3237),map=__webpack_require__(2803),storage=__webpack_require__(3195),functional=__webpack_require__(3363),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},ICodeLensCache=Object(instantiation.c)("ICodeLensCache"),CacheItem=function(){function CacheItem2(lineCount,data){this.lineCount=lineCount,this.data=data}return CacheItem2}(),codeLensCache_CodeLensCache=function(){function CodeLensCache(storageService){var _this=this;this._fakeProvider=new(function(){function class_1(){}return class_1.prototype.provideCodeLenses=function(){throw new Error("not supported")},class_1}()),this._cache=new map.a(20,.75);var oldkey="codelens/cache";Object(common_async.k)(function(){return storageService.remove(oldkey,1)});var key="codelens/cache2",raw=storageService.get(key,1,"{}");this._deserialize(raw),Object(functional.a)(storageService.onWillSaveState)(function(e){e.reason===storage.c.SHUTDOWN&&storageService.store(key,_this._serialize(),1)})}return CodeLensCache.prototype.put=function(model,data){var copyItems=data.lenses.map(function(item2){var _a;return{range:item2.symbol.range,command:item2.symbol.command&&{id:"",title:(_a=item2.symbol.command)===null||_a===void 0?void 0:_a.title}}}),copyModel=new codelens_CodeLensModel;copyModel.add({lenses:copyItems,dispose:function(){}},this._fakeProvider);var item=new CacheItem(model.getLineCount(),copyModel);this._cache.set(model.uri.toString(),item)},CodeLensCache.prototype.get=function(model){var item=this._cache.get(model.uri.toString());return item&&item.lineCount===model.getLineCount()?item.data:void 0},CodeLensCache.prototype.delete=function(model){this._cache.delete(model.uri.toString())},CodeLensCache.prototype._serialize=function(){var data=Object.create(null);return this._cache.forEach(function(value,key){for(var lines=new Set,_i=0,_a=value.data.lenses;_i<_a.length;_i++){var d=_a[_i];lines.add(d.symbol.range.startLineNumber)}data[key]={lineCount:value.lineCount,lines:Object(map.e)(lines)}}),JSON.stringify(data)},CodeLensCache.prototype._deserialize=function(raw){try{var data=JSON.parse(raw);for(var key in data){for(var element=data[key],lenses=[],_i=0,_a=element.lines;_i<_a.length;_i++){var line=_a[_i];lenses.push({range:new core_range.a(line,1,line,11)})}var model=new codelens_CodeLensModel;model.add({lenses,dispose:function(){}},this._fakeProvider),this._cache.set(key,new CacheItem(element.lineCount,model))}}catch{}},CodeLensCache=__decorate([__param(0,storage.a)],CodeLensCache),CodeLensCache}();Object(extensions.b)(ICodeLensCache,codeLensCache_CodeLensCache);var hash=__webpack_require__(3498),codelensController_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},codelensController_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},codelensController_CodeLensContribution=function(){function CodeLensContribution(_editor,_commandService,_notificationService,_codeLensCache){var _this=this;this._editor=_editor,this._commandService=_commandService,this._notificationService=_notificationService,this._codeLensCache=_codeLensCache,this._globalToDispose=new lifecycle.b,this._localToDispose=new lifecycle.b,this._lenses=[],this._oldCodeLensModels=new lifecycle.b,this._modelChangeCounter=0,this._isEnabled=this._editor.getOption(11),this._globalToDispose.add(this._editor.onDidChangeModel(function(){return _this._onModelChange()})),this._globalToDispose.add(this._editor.onDidChangeModelLanguage(function(){return _this._onModelChange()})),this._globalToDispose.add(this._editor.onDidChangeConfiguration(function(){var prevIsEnabled=_this._isEnabled;_this._isEnabled=_this._editor.getOption(11),prevIsEnabled!==_this._isEnabled&&_this._onModelChange()})),this._globalToDispose.add(modes.b.onDidChange(this._onModelChange,this)),this._globalToDispose.add(this._editor.onDidChangeConfiguration(function(e){e.hasChanged(32)&&_this._updateLensStyle()})),this._onModelChange(),this._styleClassName=Object(hash.a)(this._editor.getId()).toString(16),this._styleElement=Object(dom.w)(),this._updateLensStyle()}return CodeLensContribution.prototype.dispose=function(){this._localDispose(),this._globalToDispose.dispose(),this._oldCodeLensModels.dispose(),Object(lifecycle.f)(this._currentCodeLensModel)},CodeLensContribution.prototype._updateLensStyle=function(){var options=this._editor.getOptions(),fontInfo=options.get(32),lineHeight=options.get(47),newStyle=".monaco-editor .codelens-decoration."+this._styleClassName+" { height: "+Math.round(lineHeight*1.1)+"px; line-height: "+lineHeight+"px; font-size: "+Math.round(fontInfo.fontSize*.9)+"px; padding-right: "+Math.round(fontInfo.fontSize*.45)+"px;}";this._styleElement.innerHTML=newStyle},CodeLensContribution.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=void 0,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0),this._localToDispose.clear(),this._oldCodeLensModels.clear(),Object(lifecycle.f)(this._currentCodeLensModel)},CodeLensContribution.prototype._onModelChange=function(){var _this=this;this._localDispose();var model=this._editor.getModel();if(model&&this._isEnabled){var cachedLenses=this._codeLensCache.get(model);if(cachedLenses&&this._renderCodeLensSymbols(cachedLenses),!modes.b.has(model)){cachedLenses&&this._localToDispose.add(Object(common_async.g)(function(){var cachedLensesNow=_this._codeLensCache.get(model);cachedLenses===cachedLensesNow&&(_this._codeLensCache.delete(model),_this._onModelChange())},30*1e3));return}for(var _i=0,_a=modes.b.all(model);_i<_a.length;_i++){var provider=_a[_i];if(typeof provider.onDidChange=="function"){var registration=provider.onDidChange(function(){return scheduler.schedule()});this._localToDispose.add(registration)}}var detectVisibleLenses=this._detectVisibleLenses=new common_async.d(function(){return _this._onViewportChanged()},250),scheduler=new common_async.d(function(){var counterValue=++_this._modelChangeCounter;_this._currentFindCodeLensSymbolsPromise&&_this._currentFindCodeLensSymbolsPromise.cancel(),_this._currentFindCodeLensSymbolsPromise=Object(common_async.f)(function(token){return getCodeLensData(model,token)}),_this._currentFindCodeLensSymbolsPromise.then(function(result){counterValue===_this._modelChangeCounter&&(_this._currentCodeLensModel&&_this._oldCodeLensModels.add(_this._currentCodeLensModel),_this._currentCodeLensModel=result,_this._codeLensCache.put(model,result),_this._renderCodeLensSymbols(result),detectVisibleLenses.schedule())},errors.e)},250);this._localToDispose.add(scheduler),this._localToDispose.add(detectVisibleLenses),this._localToDispose.add(this._editor.onDidChangeModelContent(function(){_this._editor.changeDecorations(function(decorationsAccessor){_this._editor.changeViewZones(function(viewZonesAccessor){var toDispose=[],lastLensLineNumber=-1;_this._lenses.forEach(function(lens){!lens.isValid()||lastLensLineNumber===lens.getLineNumber()?toDispose.push(lens):(lens.update(viewZonesAccessor),lastLensLineNumber=lens.getLineNumber())});var helper=new CodeLensHelper;toDispose.forEach(function(l){l.dispose(helper,viewZonesAccessor),_this._lenses.splice(_this._lenses.indexOf(l),1)}),helper.commit(decorationsAccessor)})}),detectVisibleLenses.schedule(),scheduler.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(function(e){e.scrollTopChanged&&_this._lenses.length>0&&detectVisibleLenses.schedule()})),this._localToDispose.add(this._editor.onDidLayoutChange(function(){detectVisibleLenses.schedule()})),this._localToDispose.add(Object(lifecycle.h)(function(){if(_this._editor.getModel()){var scrollState=editorState.c.capture(_this._editor);_this._editor.changeDecorations(function(decorationsAccessor){_this._editor.changeViewZones(function(viewZonesAccessor){_this._disposeAllLenses(decorationsAccessor,viewZonesAccessor)})}),scrollState.restore(_this._editor)}else _this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseUp(function(e){var _a2,_b,_c;if(e.target.type===9){var target=e.target.element;if(((_b=target)===null||_b===void 0?void 0:_b.tagName)==="SPAN"&&(target=target.parentElement),((_c=target)===null||_c===void 0?void 0:_c.tagName)==="A")for(var _i2=0,_d=_this._lenses;_i2<_d.length;_i2++){var lens=_d[_i2],command=lens.getCommand(target);if(command){(_a2=_this._commandService).executeCommand.apply(_a2,__spreadArrays([command.id],command.arguments||[])).catch(function(err){return _this._notificationService.error(err)});break}}}})),scheduler.schedule()}},CodeLensContribution.prototype._disposeAllLenses=function(decChangeAccessor,viewZoneChangeAccessor){for(var helper=new CodeLensHelper,_i=0,_a=this._lenses;_i<_a.length;_i++){var lens=_a[_i];lens.dispose(helper,viewZoneChangeAccessor)}decChangeAccessor&&helper.commit(decChangeAccessor),this._lenses=[]},CodeLensContribution.prototype._renderCodeLensSymbols=function(symbols){var _this=this;if(this._editor.hasModel()){for(var maxLineNumber=this._editor.getModel().getLineCount(),groups=[],lastGroup,_i=0,_a=symbols.lenses;_i<_a.length;_i++){var symbol=_a[_i],line=symbol.symbol.range.startLineNumber;line<1||line>maxLineNumber||(lastGroup&&lastGroup[lastGroup.length-1].symbol.range.startLineNumber===line?lastGroup.push(symbol):(lastGroup=[symbol],groups.push(lastGroup)))}var scrollState=editorState.c.capture(this._editor);this._editor.changeDecorations(function(decorationsAccessor){_this._editor.changeViewZones(function(viewZoneAccessor){for(var helper=new CodeLensHelper,codeLensIndex=0,groupsIndex=0;groupsIndex<groups.length&&codeLensIndex<_this._lenses.length;){var symbolsLineNumber=groups[groupsIndex][0].symbol.range.startLineNumber,codeLensLineNumber=_this._lenses[codeLensIndex].getLineNumber();codeLensLineNumber<symbolsLineNumber?(_this._lenses[codeLensIndex].dispose(helper,viewZoneAccessor),_this._lenses.splice(codeLensIndex,1)):codeLensLineNumber===symbolsLineNumber?(_this._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex],helper),groupsIndex++,codeLensIndex++):(_this._lenses.splice(codeLensIndex,0,new codelensWidget_CodeLensWidget(groups[groupsIndex],_this._editor,_this._styleClassName,helper,viewZoneAccessor,function(){return _this._detectVisibleLenses&&_this._detectVisibleLenses.schedule()})),codeLensIndex++,groupsIndex++)}for(;codeLensIndex<_this._lenses.length;)_this._lenses[codeLensIndex].dispose(helper,viewZoneAccessor),_this._lenses.splice(codeLensIndex,1);for(;groupsIndex<groups.length;)_this._lenses.push(new codelensWidget_CodeLensWidget(groups[groupsIndex],_this._editor,_this._styleClassName,helper,viewZoneAccessor,function(){return _this._detectVisibleLenses&&_this._detectVisibleLenses.schedule()})),groupsIndex++;helper.commit(decorationsAccessor)})}),scrollState.restore(this._editor)}},CodeLensContribution.prototype._onViewportChanged=function(){var _this=this;this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0);var model=this._editor.getModel();if(model){var toResolve=[],lenses=[];if(this._lenses.forEach(function(lens){var request=lens.computeIfNecessary(model);request&&(toResolve.push(request),lenses.push(lens))}),toResolve.length!==0){var resolvePromise=Object(common_async.f)(function(token){var promises=toResolve.map(function(request,i){var resolvedSymbols=new Array(request.length),promises2=request.map(function(request2,i2){return!request2.symbol.command&&typeof request2.provider.resolveCodeLens=="function"?Promise.resolve(request2.provider.resolveCodeLens(model,request2.symbol,token)).then(function(symbol){resolvedSymbols[i2]=symbol},errors.f):(resolvedSymbols[i2]=request2.symbol,Promise.resolve(void 0))});return Promise.all(promises2).then(function(){!token.isCancellationRequested&&!lenses[i].isDisposed()&&lenses[i].updateCommands(resolvedSymbols)})});return Promise.all(promises)});this._currentResolveCodeLensSymbolsPromise=resolvePromise,this._currentResolveCodeLensSymbolsPromise.then(function(){_this._currentCodeLensModel&&_this._codeLensCache.put(model,_this._currentCodeLensModel),_this._oldCodeLensModels.clear(),resolvePromise===_this._currentResolveCodeLensSymbolsPromise&&(_this._currentResolveCodeLensSymbolsPromise=void 0)},function(err){Object(errors.e)(err),resolvePromise===_this._currentResolveCodeLensSymbolsPromise&&(_this._currentResolveCodeLensSymbolsPromise=void 0)})}}},CodeLensContribution.ID="css.editor.codeLens",CodeLensContribution=codelensController_decorate([codelensController_param(1,commands.b),codelensController_param(2,notification.a),codelensController_param(3,ICodeLensCache)],CodeLensContribution),CodeLensContribution}();Object(editorExtensions.h)(codelensController_CodeLensContribution.ID,codelensController_CodeLensContribution)},2367:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var arrays=__webpack_require__(2389),cancellation=__webpack_require__(2649),keyCodes=__webpack_require__(2768),lifecycle=__webpack_require__(2033),editorExtensions=__webpack_require__(2099),codeEditorService=__webpack_require__(2732),characterClassifier=__webpack_require__(3235),core_range=__webpack_require__(2056),editorContextKeys=__webpack_require__(2632),modes=__webpack_require__(2240),editorWorkerService=__webpack_require__(3166),aria=__webpack_require__(2815),errors=__webpack_require__(2176),uri=__webpack_require__(2640),editorState=__webpack_require__(3177),editorBrowser=__webpack_require__(3376),core_position=__webpack_require__(2233),selection=__webpack_require__(2629),modelService=__webpack_require__(2817),editOperation=__webpack_require__(3115),formattingEdit_FormattingEdit=function(){function FormattingEdit(){}return FormattingEdit._handleEolEdits=function(editor,edits){for(var newEol=void 0,singleEdits=[],_i=0,edits_1=edits;_i<edits_1.length;_i++){var edit=edits_1[_i];typeof edit.eol=="number"&&(newEol=edit.eol),edit.range&&typeof edit.text=="string"&&singleEdits.push(edit)}return typeof newEol=="number"&&editor.hasModel()&&editor.getModel().pushEOL(newEol),singleEdits},FormattingEdit._isFullModelReplaceEdit=function(editor,edit){if(!editor.hasModel())return!1;var model=editor.getModel(),editRange=model.validateRange(edit.range),fullModelRange=model.getFullModelRange();return fullModelRange.equalsRange(editRange)},FormattingEdit.execute=function(editor,_edits){editor.pushUndoStop();var edits=FormattingEdit._handleEolEdits(editor,_edits);edits.length===1&&FormattingEdit._isFullModelReplaceEdit(editor,edits[0])?editor.executeEdits("formatEditsCommand",edits.map(function(edit){return editOperation.a.replace(core_range.a.lift(edit.range),edit.text)})):editor.executeEdits("formatEditsCommand",edits.map(function(edit){return editOperation.a.replaceMove(core_range.a.lift(edit.range),edit.text)})),editor.pushUndoStop()},FormattingEdit}(),nls=__webpack_require__(2069),ExtensionIdentifier=function(){function ExtensionIdentifier2(value){this.value=value,this._lower=value.toLowerCase()}return ExtensionIdentifier2.toKey=function(id){return typeof id=="string"?id.toLowerCase():id._lower},ExtensionIdentifier2}(),instantiation=__webpack_require__(2232),linkedList=__webpack_require__(3232),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}};function alertFormattingEdits(edits){if(edits=edits.filter(function(edit){return edit.range}),!!edits.length){for(var range=edits[0].range,i=1;i<edits.length;i++)range=core_range.a.plusRange(range,edits[i].range);var startLineNumber=range.startLineNumber,endLineNumber=range.endLineNumber;startLineNumber===endLineNumber?edits.length===1?Object(aria.a)(nls.a("hint11","Made 1 formatting edit on line {0}",startLineNumber)):Object(aria.a)(nls.a("hintn1","Made {0} formatting edits on line {1}",edits.length,startLineNumber)):edits.length===1?Object(aria.a)(nls.a("hint1n","Made 1 formatting edit between lines {0} and {1}",startLineNumber,endLineNumber)):Object(aria.a)(nls.a("hintnn","Made {0} formatting edits between lines {1} and {2}",edits.length,startLineNumber,endLineNumber))}}function getRealAndSyntheticDocumentFormattersOrdered(model){for(var result=[],seen=new Set,docFormatter=modes.g.ordered(model),_i=0,docFormatter_1=docFormatter;_i<docFormatter_1.length;_i++){var formatter=docFormatter_1[_i];result.push(formatter),formatter.extensionId&&seen.add(ExtensionIdentifier.toKey(formatter.extensionId))}for(var rangeFormatter=modes.j.ordered(model),_loop_1=function(formatter2){if(formatter2.extensionId){if(seen.has(ExtensionIdentifier.toKey(formatter2.extensionId)))return"continue";seen.add(ExtensionIdentifier.toKey(formatter2.extensionId))}result.push({displayName:formatter2.displayName,extensionId:formatter2.extensionId,provideDocumentFormattingEdits:function(model2,options,token){return formatter2.provideDocumentRangeFormattingEdits(model2,model2.getFullModelRange(),options,token)}})},_a=0,rangeFormatter_1=rangeFormatter;_a<rangeFormatter_1.length;_a++){var formatter=rangeFormatter_1[_a];_loop_1(formatter)}return result}var format_FormattingConflicts=function(){function FormattingConflicts(){}return FormattingConflicts.select=function(formatter,document2,mode){return __awaiter(this,void 0,void 0,function(){var selector;return __generator(this,function(_a){switch(_a.label){case 0:return formatter.length===0?[2,void 0]:(selector=FormattingConflicts._selectors.iterator().next().value,selector?[4,selector(formatter,document2,mode)]:[3,2]);case 1:return[2,_a.sent()];case 2:return[2,formatter[0]]}})})},FormattingConflicts._selectors=new linkedList.a,FormattingConflicts}();function formatDocumentRangeWithSelectedProvider(accessor,editorOrModel,range,mode,token){return __awaiter(this,void 0,void 0,function(){var instaService,model,provider,selected;return __generator(this,function(_a){switch(_a.label){case 0:return instaService=accessor.get(instantiation.a),model=Object(editorBrowser.a)(editorOrModel)?editorOrModel.getModel():editorOrModel,provider=modes.j.ordered(model),[4,format_FormattingConflicts.select(provider,model,mode)];case 1:return selected=_a.sent(),selected?[4,instaService.invokeFunction(formatDocumentRangeWithProvider,selected,editorOrModel,range,token)]:[3,3];case 2:_a.sent(),_a.label=3;case 3:return[2]}})})}function formatDocumentRangeWithProvider(accessor,provider,editorOrModel,range,token){return __awaiter(this,void 0,void 0,function(){var workerService,model,cts,edits,rawEdits,range_1,initialSelection_1;return __generator(this,function(_a){switch(_a.label){case 0:workerService=accessor.get(editorWorkerService.a),Object(editorBrowser.a)(editorOrModel)?(model=editorOrModel.getModel(),cts=new editorState.b(editorOrModel,5,token)):(model=editorOrModel,cts=new editorState.d(editorOrModel,token)),_a.label=1;case 1:return _a.trys.push([1,,4,5]),[4,provider.provideDocumentRangeFormattingEdits(model,range,model.getFormattingOptions(),cts.token)];case 2:return rawEdits=_a.sent(),[4,workerService.computeMoreMinimalEdits(model.uri,rawEdits)];case 3:return edits=_a.sent(),cts.token.isCancellationRequested?[2,!0]:[3,5];case 4:return cts.dispose(),[7];case 5:return!edits||edits.length===0?[2,!1]:(Object(editorBrowser.a)(editorOrModel)?(formattingEdit_FormattingEdit.execute(editorOrModel,edits),alertFormattingEdits(edits),editorOrModel.pushUndoStop(),editorOrModel.focus(),editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(),1)):(range_1=edits[0].range,initialSelection_1=new selection.a(range_1.startLineNumber,range_1.startColumn,range_1.endLineNumber,range_1.endColumn),model.pushEditOperations([initialSelection_1],edits.map(function(edit){return{text:edit.text,range:core_range.a.lift(edit.range),forceMoveMarkers:!0}}),function(undoEdits){for(var _i=0,undoEdits_1=undoEdits;_i<undoEdits_1.length;_i++){var range_2=undoEdits_1[_i].range;if(core_range.a.areIntersectingOrTouching(range_2,initialSelection_1))return[new selection.a(range_2.startLineNumber,range_2.startColumn,range_2.endLineNumber,range_2.endColumn)]}return null})),[2,!0])}})})}function formatDocumentWithSelectedProvider(accessor,editorOrModel,mode,token){return __awaiter(this,void 0,void 0,function(){var instaService,model,provider,selected;return __generator(this,function(_a){switch(_a.label){case 0:return instaService=accessor.get(instantiation.a),model=Object(editorBrowser.a)(editorOrModel)?editorOrModel.getModel():editorOrModel,provider=getRealAndSyntheticDocumentFormattersOrdered(model),[4,format_FormattingConflicts.select(provider,model,mode)];case 1:return selected=_a.sent(),selected?[4,instaService.invokeFunction(formatDocumentWithProvider,selected,editorOrModel,mode,token)]:[3,3];case 2:_a.sent(),_a.label=3;case 3:return[2]}})})}function formatDocumentWithProvider(accessor,provider,editorOrModel,mode,token){return __awaiter(this,void 0,void 0,function(){var workerService,model,cts,edits,rawEdits,range,initialSelection_2;return __generator(this,function(_a){switch(_a.label){case 0:workerService=accessor.get(editorWorkerService.a),Object(editorBrowser.a)(editorOrModel)?(model=editorOrModel.getModel(),cts=new editorState.b(editorOrModel,5,token)):(model=editorOrModel,cts=new editorState.d(editorOrModel,token)),_a.label=1;case 1:return _a.trys.push([1,,4,5]),[4,provider.provideDocumentFormattingEdits(model,model.getFormattingOptions(),cts.token)];case 2:return rawEdits=_a.sent(),[4,workerService.computeMoreMinimalEdits(model.uri,rawEdits)];case 3:return edits=_a.sent(),cts.token.isCancellationRequested?[2,!0]:[3,5];case 4:return cts.dispose(),[7];case 5:return!edits||edits.length===0?[2,!1]:(Object(editorBrowser.a)(editorOrModel)?(formattingEdit_FormattingEdit.execute(editorOrModel,edits),mode!==2&&(alertFormattingEdits(edits),editorOrModel.pushUndoStop(),editorOrModel.focus(),editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(),1))):(range=edits[0].range,initialSelection_2=new selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn),model.pushEditOperations([initialSelection_2],edits.map(function(edit){return{text:edit.text,range:core_range.a.lift(edit.range),forceMoveMarkers:!0}}),function(undoEdits){for(var _i=0,undoEdits_2=undoEdits;_i<undoEdits_2.length;_i++){var range_3=undoEdits_2[_i].range;if(core_range.a.areIntersectingOrTouching(range_3,initialSelection_2))return[new selection.a(range_3.startLineNumber,range_3.startColumn,range_3.endLineNumber,range_3.endColumn)]}return null})),[2,!0])}})})}function getDocumentRangeFormattingEditsUntilResult(workerService,model,range,options,token){return __awaiter(this,void 0,void 0,function(){var providers,_i,providers_1,provider,rawEdits;return __generator(this,function(_a){switch(_a.label){case 0:providers=modes.j.ordered(model),_i=0,providers_1=providers,_a.label=1;case 1:return _i<providers_1.length?(provider=providers_1[_i],[4,Promise.resolve(provider.provideDocumentRangeFormattingEdits(model,range,options,token)).catch(errors.f)]):[3,5];case 2:return rawEdits=_a.sent(),Object(arrays.q)(rawEdits)?[4,workerService.computeMoreMinimalEdits(model.uri,rawEdits)]:[3,4];case 3:return[2,_a.sent()];case 4:return _i++,[3,1];case 5:return[2,void 0]}})})}function getDocumentFormattingEditsUntilResult(workerService,model,options,token){return __awaiter(this,void 0,void 0,function(){var providers,_i,providers_2,provider,rawEdits;return __generator(this,function(_a){switch(_a.label){case 0:providers=getRealAndSyntheticDocumentFormattersOrdered(model),_i=0,providers_2=providers,_a.label=1;case 1:return _i<providers_2.length?(provider=providers_2[_i],[4,Promise.resolve(provider.provideDocumentFormattingEdits(model,options,token)).catch(errors.f)]):[3,5];case 2:return rawEdits=_a.sent(),Object(arrays.q)(rawEdits)?[4,workerService.computeMoreMinimalEdits(model.uri,rawEdits)]:[3,4];case 3:return[2,_a.sent()];case 4:return _i++,[3,1];case 5:return[2,void 0]}})})}function getOnTypeFormattingEdits(workerService,model,position,ch,options){var providers=modes.r.ordered(model);return providers.length===0||providers[0].autoFormatTriggerCharacters.indexOf(ch)<0?Promise.resolve(void 0):Promise.resolve(providers[0].provideOnTypeFormattingEdits(model,position,ch,options,cancellation.a.None)).catch(errors.f).then(function(edits){return workerService.computeMoreMinimalEdits(model.uri,edits)})}Object(editorExtensions.j)("_executeFormatRangeProvider",function(accessor,args){var resource=args.resource,range=args.range,options=args.options;if(!(resource instanceof uri.a)||!core_range.a.isIRange(range))throw Object(errors.b)();var model=accessor.get(modelService.a).getModel(resource);if(!model)throw Object(errors.b)("resource");return getDocumentRangeFormattingEditsUntilResult(accessor.get(editorWorkerService.a),model,core_range.a.lift(range),options,cancellation.a.None)}),Object(editorExtensions.j)("_executeFormatDocumentProvider",function(accessor,args){var resource=args.resource,options=args.options;if(!(resource instanceof uri.a))throw Object(errors.b)("resource");var model=accessor.get(modelService.a).getModel(resource);if(!model)throw Object(errors.b)("resource");return getDocumentFormattingEditsUntilResult(accessor.get(editorWorkerService.a),model,options,cancellation.a.None)}),Object(editorExtensions.j)("_executeFormatOnTypeProvider",function(accessor,args){var resource=args.resource,position=args.position,ch=args.ch,options=args.options;if(!(resource instanceof uri.a)||!core_position.a.isIPosition(position)||typeof ch!="string")throw Object(errors.b)();var model=accessor.get(modelService.a).getModel(resource);if(!model)throw Object(errors.b)("resource");return getOnTypeFormattingEdits(accessor.get(editorWorkerService.a),model,core_position.a.lift(position),ch,options)});var commands=__webpack_require__(2733),contextkey=__webpack_require__(2238),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},formatActions_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},formatActions_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},formatActions_FormatOnType=function(){function FormatOnType(editor,_workerService){var _this=this;this._workerService=_workerService,this._callOnDispose=new lifecycle.b,this._callOnModel=new lifecycle.b,this._editor=editor,this._callOnDispose.add(editor.onDidChangeConfiguration(function(){return _this._update()})),this._callOnDispose.add(editor.onDidChangeModel(function(){return _this._update()})),this._callOnDispose.add(editor.onDidChangeModelLanguage(function(){return _this._update()})),this._callOnDispose.add(modes.r.onDidChange(this._update,this))}return FormatOnType.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},FormatOnType.prototype._update=function(){var _this=this;if(this._callOnModel.clear(),!!this._editor.getOption(37)&&this._editor.hasModel()){var model=this._editor.getModel(),support=modes.r.ordered(model)[0];if(!(!support||!support.autoFormatTriggerCharacters)){for(var triggerChars=new characterClassifier.b,_i=0,_a=support.autoFormatTriggerCharacters;_i<_a.length;_i++){var ch=_a[_i];triggerChars.add(ch.charCodeAt(0))}this._callOnModel.add(this._editor.onDidType(function(text){var lastCharCode=text.charCodeAt(text.length-1);triggerChars.has(lastCharCode)&&_this._trigger(String.fromCharCode(lastCharCode))}))}}},FormatOnType.prototype._trigger=function(ch){var _this=this;if(this._editor.hasModel()&&!(this._editor.getSelections().length>1)){var model=this._editor.getModel(),position=this._editor.getPosition(),canceled=!1,unbind=this._editor.onDidChangeModelContent(function(e){if(e.isFlush){canceled=!0,unbind.dispose();return}for(var i=0,len=e.changes.length;i<len;i++){var change=e.changes[i];if(change.range.endLineNumber<=position.lineNumber){canceled=!0,unbind.dispose();return}}});getOnTypeFormattingEdits(this._workerService,model,position,ch,model.getFormattingOptions()).then(function(edits){unbind.dispose(),!canceled&&Object(arrays.q)(edits)&&(formattingEdit_FormattingEdit.execute(_this._editor,edits),alertFormattingEdits(edits))},function(err){throw unbind.dispose(),err})}},FormatOnType.ID="editor.contrib.autoFormat",FormatOnType=__decorate([__param(1,editorWorkerService.a)],FormatOnType),FormatOnType}(),formatActions_FormatOnPaste=function(){function FormatOnPaste(editor,_instantiationService){var _this=this;this.editor=editor,this._instantiationService=_instantiationService,this._callOnDispose=new lifecycle.b,this._callOnModel=new lifecycle.b,this._callOnDispose.add(editor.onDidChangeConfiguration(function(){return _this._update()})),this._callOnDispose.add(editor.onDidChangeModel(function(){return _this._update()})),this._callOnDispose.add(editor.onDidChangeModelLanguage(function(){return _this._update()})),this._callOnDispose.add(modes.j.onDidChange(this._update,this))}return FormatOnPaste.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},FormatOnPaste.prototype._update=function(){var _this=this;this._callOnModel.clear(),this.editor.getOption(36)&&this.editor.hasModel()&&modes.j.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(function(range){return _this._trigger(range)}))},FormatOnPaste.prototype._trigger=function(range){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(formatDocumentRangeWithSelectedProvider,this.editor,range,2,cancellation.a.None).catch(errors.e))},FormatOnPaste.ID="editor.contrib.formatOnPaste",FormatOnPaste=__decorate([__param(1,instantiation.a)],FormatOnPaste),FormatOnPaste}(),formatActions_FormatDocumentAction=function(_super){__extends(FormatDocumentAction,_super);function FormatDocumentAction(){return _super.call(this,{id:"editor.action.formatDocument",label:nls.a("formatDocument.label","Format Document"),alias:"Format Document",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasDocumentFormattingProvider),kbOpts:{kbExpr:contextkey.a.and(editorContextKeys.a.editorTextFocus,editorContextKeys.a.hasDocumentFormattingProvider),primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{when:editorContextKeys.a.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}return FormatDocumentAction.prototype.run=function(accessor,editor){return formatActions_awaiter(this,void 0,void 0,function(){var instaService;return formatActions_generator(this,function(_a){switch(_a.label){case 0:return editor.hasModel()?(instaService=accessor.get(instantiation.a),[4,instaService.invokeFunction(formatDocumentWithSelectedProvider,editor,1,cancellation.a.None)]):[3,2];case 1:_a.sent(),_a.label=2;case 2:return[2]}})})},FormatDocumentAction}(editorExtensions.b),formatActions_FormatSelectionAction=function(_super){__extends(FormatSelectionAction,_super);function FormatSelectionAction(){return _super.call(this,{id:"editor.action.formatSelection",label:nls.a("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:contextkey.a.and(editorContextKeys.a.editorTextFocus,editorContextKeys.a.hasDocumentSelectionFormattingProvider),primary:Object(keyCodes.a)(2089,2084),weight:100},contextMenuOpts:{when:contextkey.a.and(editorContextKeys.a.hasDocumentSelectionFormattingProvider,editorContextKeys.a.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}return FormatSelectionAction.prototype.run=function(accessor,editor){return formatActions_awaiter(this,void 0,void 0,function(){var instaService,model,range;return formatActions_generator(this,function(_a){switch(_a.label){case 0:return editor.hasModel()?(instaService=accessor.get(instantiation.a),model=editor.getModel(),range=editor.getSelection(),range.isEmpty()&&(range=new core_range.a(range.startLineNumber,1,range.startLineNumber,model.getLineMaxColumn(range.startLineNumber))),[4,instaService.invokeFunction(formatDocumentRangeWithSelectedProvider,editor,range,1,cancellation.a.None)]):[2];case 1:return _a.sent(),[2]}})})},FormatSelectionAction}(editorExtensions.b);Object(editorExtensions.h)(formatActions_FormatOnType.ID,formatActions_FormatOnType),Object(editorExtensions.h)(formatActions_FormatOnPaste.ID,formatActions_FormatOnPaste),Object(editorExtensions.f)(formatActions_FormatDocumentAction),Object(editorExtensions.f)(formatActions_FormatSelectionAction),commands.a.registerCommand("editor.action.format",function(accessor){return formatActions_awaiter(void 0,void 0,void 0,function(){var editor,commandService;return formatActions_generator(this,function(_a){switch(_a.label){case 0:return editor=accessor.get(codeEditorService.a).getFocusedCodeEditor(),!editor||!editor.hasModel()?[2]:(commandService=accessor.get(commands.b),editor.getSelection().isEmpty()?[4,commandService.executeCommand("editor.action.formatDocument")]:[3,2]);case 1:return _a.sent(),[3,4];case 2:return[4,commandService.executeCommand("editor.action.formatSelection")];case 3:_a.sent(),_a.label=4;case 4:return[2]}})})})},2368:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TriggerParameterHintsAction",function(){return parameterHints_TriggerParameterHintsAction});var nls=__webpack_require__(2069),lifecycle=__webpack_require__(2033),instantiation=__webpack_require__(2232),editorContextKeys=__webpack_require__(2632),contextkey=__webpack_require__(2238),editorExtensions=__webpack_require__(2099),dom=__webpack_require__(2124),browser_event=__webpack_require__(2849),aria=__webpack_require__(2815),scrollableElement=__webpack_require__(3105),common_event=__webpack_require__(2106),parameterHints=__webpack_require__(5797),services_modeService=__webpack_require__(3198),markdownRenderer=__webpack_require__(3411),common_async=__webpack_require__(2237),errors=__webpack_require__(2176),modes=__webpack_require__(2240),cancellation=__webpack_require__(2649),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},Context={Visible:new contextkey.d("parameterHintsVisible",!1),MultipleSignatures:new contextkey.d("parameterHintsMultipleSignatures",!1)};function provideSignatureHelp(model,position,context,token){var supports=modes.w.ordered(model);return Object(common_async.h)(supports.map(function(support){return function(){return Promise.resolve(support.provideSignatureHelp(model,position,token,context)).catch(function(e){return Object(errors.f)(e)})}}))}Object(editorExtensions.e)("_executeSignatureHelpProvider",function(model,position,args){return __awaiter(void 0,void 0,void 0,function(){var result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,provideSignatureHelp(model,position,{triggerKind:modes.x.Invoke,isRetrigger:!1,triggerCharacter:args.triggerCharacter},cancellation.a.None)];case 1:return result=_a.sent(),result?(setTimeout(function(){return result.dispose()},0),[2,result.value]):[2,void 0]}})})});var common_opener=__webpack_require__(2850),colorRegistry=__webpack_require__(2623),themeService=__webpack_require__(2235),characterClassifier=__webpack_require__(3235),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},parameterHintsModel_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},parameterHintsModel_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},ParameterHintState;(function(ParameterHintState2){ParameterHintState2.Default={type:0};var Pending=function(){function Pending2(request){this.request=request,this.type=2}return Pending2}();ParameterHintState2.Pending=Pending;var Active=function(){function Active2(hints){this.hints=hints,this.type=1}return Active2}();ParameterHintState2.Active=Active})(ParameterHintState||(ParameterHintState={}));var parameterHintsModel_ParameterHintsModel=function(_super){__extends(ParameterHintsModel,_super);function ParameterHintsModel(editor,delay){delay===void 0&&(delay=ParameterHintsModel.DEFAULT_DELAY);var _this=_super.call(this)||this;return _this._onChangedHints=_this._register(new common_event.a),_this.onChangedHints=_this._onChangedHints.event,_this.triggerOnType=!1,_this._state=ParameterHintState.Default,_this._pendingTriggers=[],_this._lastSignatureHelpResult=_this._register(new lifecycle.d),_this.triggerChars=new characterClassifier.b,_this.retriggerChars=new characterClassifier.b,_this.triggerId=0,_this.editor=editor,_this.throttledDelayer=new common_async.a(delay),_this._register(_this.editor.onDidChangeConfiguration(function(){return _this.onEditorConfigurationChange()})),_this._register(_this.editor.onDidChangeModel(function(e){return _this.onModelChanged()})),_this._register(_this.editor.onDidChangeModelLanguage(function(_){return _this.onModelChanged()})),_this._register(_this.editor.onDidChangeCursorSelection(function(e){return _this.onCursorChange(e)})),_this._register(_this.editor.onDidChangeModelContent(function(e){return _this.onModelContentChange()})),_this._register(modes.w.onDidChange(_this.onModelChanged,_this)),_this._register(_this.editor.onDidType(function(text){return _this.onDidType(text)})),_this.onEditorConfigurationChange(),_this.onModelChanged(),_this}return Object.defineProperty(ParameterHintsModel.prototype,"state",{get:function(){return this._state},set:function(value){this._state.type===2&&this._state.request.cancel(),this._state=value},enumerable:!0,configurable:!0}),ParameterHintsModel.prototype.cancel=function(silent){silent===void 0&&(silent=!1),this.state=ParameterHintState.Default,this.throttledDelayer.cancel(),silent||this._onChangedHints.fire(void 0)},ParameterHintsModel.prototype.trigger=function(context,delay){var _this=this,model=this.editor.getModel();if(!(!model||!modes.w.has(model))){var triggerId=++this.triggerId;this._pendingTriggers.push(context),this.throttledDelayer.trigger(function(){return _this.doTrigger(triggerId)},delay).catch(errors.e)}},ParameterHintsModel.prototype.next=function(){if(this.state.type===1){var length=this.state.hints.signatures.length,activeSignature=this.state.hints.activeSignature,last=activeSignature%length===length-1,cycle=this.editor.getOption(62).cycle;if((length<2||last)&&!cycle){this.cancel();return}this.updateActiveSignature(last&&cycle?0:activeSignature+1)}},ParameterHintsModel.prototype.previous=function(){if(this.state.type===1){var length=this.state.hints.signatures.length,activeSignature=this.state.hints.activeSignature,first=activeSignature===0,cycle=this.editor.getOption(62).cycle;if((length<2||first)&&!cycle){this.cancel();return}this.updateActiveSignature(first&&cycle?length-1:activeSignature-1)}},ParameterHintsModel.prototype.updateActiveSignature=function(activeSignature){this.state.type===1&&(this.state=new ParameterHintState.Active(__assign(__assign({},this.state.hints),{activeSignature})),this._onChangedHints.fire(this.state.hints))},ParameterHintsModel.prototype.doTrigger=function(triggerId){var _a,_b;return parameterHintsModel_awaiter(this,void 0,void 0,function(){var isRetrigger,activeSignatureHelp,context,triggerContext,model,position,result,error_1;return parameterHintsModel_generator(this,function(_c){switch(_c.label){case 0:if(isRetrigger=this.state.type===1||this.state.type===2,activeSignatureHelp=this.state.type===1?this.state.hints:void 0,this.cancel(!0),this._pendingTriggers.length===0)return[2,!1];if(context=this._pendingTriggers.reduce(mergeTriggerContexts),this._pendingTriggers=[],triggerContext={triggerKind:context.triggerKind,triggerCharacter:context.triggerCharacter,isRetrigger,activeSignatureHelp},!this.editor.hasModel())return[2,!1];model=this.editor.getModel(),position=this.editor.getPosition(),this.state=new ParameterHintState.Pending(Object(common_async.f)(function(token){return provideSignatureHelp(model,position,triggerContext,token)})),_c.label=1;case 1:return _c.trys.push([1,3,,4]),[4,this.state.request];case 2:return result=_c.sent(),triggerId!==this.triggerId?((_a=result)===null||_a===void 0||_a.dispose(),[2,!1]):!result||!result.value.signatures||result.value.signatures.length===0?((_b=result)===null||_b===void 0||_b.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),[2,!1]):(this.state=new ParameterHintState.Active(result.value),this._lastSignatureHelpResult.value=result,this._onChangedHints.fire(this.state.hints),[2,!0]);case 3:return error_1=_c.sent(),triggerId===this.triggerId&&(this.state=ParameterHintState.Default),Object(errors.e)(error_1),[2,!1];case 4:return[2]}})})},Object.defineProperty(ParameterHintsModel.prototype,"isTriggered",{get:function(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()},enumerable:!0,configurable:!0}),ParameterHintsModel.prototype.onModelChanged=function(){this.cancel(),this.triggerChars=new characterClassifier.b,this.retriggerChars=new characterClassifier.b;var model=this.editor.getModel();if(model)for(var _i=0,_a=modes.w.ordered(model);_i<_a.length;_i++){for(var support=_a[_i],_b=0,_c=support.signatureHelpTriggerCharacters||[];_b<_c.length;_b++){var ch=_c[_b];this.triggerChars.add(ch.charCodeAt(0)),this.retriggerChars.add(ch.charCodeAt(0))}for(var _d=0,_e=support.signatureHelpRetriggerCharacters||[];_d<_e.length;_d++){var ch=_e[_d];this.retriggerChars.add(ch.charCodeAt(0))}}},ParameterHintsModel.prototype.onDidType=function(text){if(this.triggerOnType){var lastCharIndex=text.length-1,triggerCharCode=text.charCodeAt(lastCharIndex);(this.triggerChars.has(triggerCharCode)||this.isTriggered&&this.retriggerChars.has(triggerCharCode))&&this.trigger({triggerKind:modes.x.TriggerCharacter,triggerCharacter:text.charAt(lastCharIndex)})}},ParameterHintsModel.prototype.onCursorChange=function(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:modes.x.ContentChange})},ParameterHintsModel.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerKind:modes.x.ContentChange})},ParameterHintsModel.prototype.onEditorConfigurationChange=function(){this.triggerOnType=this.editor.getOption(62).enabled,this.triggerOnType||this.cancel()},ParameterHintsModel.prototype.dispose=function(){this.cancel(!0),_super.prototype.dispose.call(this)},ParameterHintsModel.DEFAULT_DELAY=120,ParameterHintsModel}(lifecycle.a);function mergeTriggerContexts(previous,current){switch(current.triggerKind){case modes.x.Invoke:return current;case modes.x.ContentChange:return previous;case modes.x.TriggerCharacter:default:return current}}var strings=__webpack_require__(2123),parameterHintsWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},$=dom.a,parameterHintsWidget_ParameterHintsWidget=function(_super){parameterHintsWidget_extends(ParameterHintsWidget,_super);function ParameterHintsWidget(editor,contextKeyService,openerService,modeService){var _this=_super.call(this)||this;return _this.editor=editor,_this.renderDisposeables=_this._register(new lifecycle.b),_this.visible=!1,_this.announcedLabel=null,_this.allowEditorOverflow=!0,_this.markdownRenderer=_this._register(new markdownRenderer.a(editor,modeService,openerService)),_this.model=_this._register(new parameterHintsModel_ParameterHintsModel(editor)),_this.keyVisible=Context.Visible.bindTo(contextKeyService),_this.keyMultipleSignatures=Context.MultipleSignatures.bindTo(contextKeyService),_this._register(_this.model.onChangedHints(function(newParameterHints){newParameterHints?(_this.show(),_this.render(newParameterHints)):_this.hide()})),_this}return ParameterHintsWidget.prototype.createParamaterHintDOMNodes=function(){var _this=this,element=$(".editor-widget.parameter-hints-widget"),wrapper=dom.q(element,$(".wrapper"));wrapper.tabIndex=-1;var controls=dom.q(wrapper,$(".controls")),previous=dom.q(controls,$(".button.previous")),overloads=dom.q(controls,$(".overloads")),next=dom.q(controls,$(".button.next")),onPreviousClick=Object(browser_event.b)(Object(browser_event.a)(previous,"click"));this._register(onPreviousClick(this.previous,this));var onNextClick=Object(browser_event.b)(Object(browser_event.a)(next,"click"));this._register(onNextClick(this.next,this));var body=$(".body"),scrollbar=new scrollableElement.a(body,{});this._register(scrollbar),wrapper.appendChild(scrollbar.getDomNode());var signature=dom.q(body,$(".signature")),docs=dom.q(body,$(".docs"));element.style.userSelect="text",this.domNodes={element,signature,overloads,docs,scrollbar},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(function(e){_this.visible&&_this.editor.layoutContentWidget(_this)}));var updateFont=function(){if(_this.domNodes){var fontInfo=_this.editor.getOption(32);_this.domNodes.element.style.fontSize=fontInfo.fontSize+"px"}};updateFont(),this._register(common_event.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.hasChanged(32)}).on(updateFont,null)),this._register(this.editor.onDidLayoutChange(function(e){return _this.updateMaxHeight()})),this.updateMaxHeight()},ParameterHintsWidget.prototype.show=function(){var _this=this;this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(function(){_this.domNodes&&dom.f(_this.domNodes.element,"visible")},100),this.editor.layoutContentWidget(this))},ParameterHintsWidget.prototype.hide=function(){this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&dom.M(this.domNodes.element,"visible"),this.editor.layoutContentWidget(this))},ParameterHintsWidget.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null},ParameterHintsWidget.prototype.render=function(hints){if(this.domNodes){var multiple=hints.signatures.length>1;dom.V(this.domNodes.element,"multiple",multiple),this.keyMultipleSignatures.set(multiple),this.domNodes.signature.innerHTML="",this.domNodes.docs.innerHTML="";var signature=hints.signatures[hints.activeSignature];if(signature){var code=dom.q(this.domNodes.signature,$(".code")),hasParameters=signature.parameters.length>0,fontInfo=this.editor.getOption(32);if(code.style.fontSize=fontInfo.fontSize+"px",code.style.fontFamily=fontInfo.fontFamily,hasParameters)this.renderParameters(code,signature,hints.activeParameter);else{var label=dom.q(code,$("span"));label.textContent=signature.label}this.renderDisposeables.clear();var activeParameter=signature.parameters[hints.activeParameter];if(activeParameter&&activeParameter.documentation){var documentation=$("span.documentation");if(typeof activeParameter.documentation=="string")documentation.textContent=activeParameter.documentation;else{var renderedContents=this.markdownRenderer.render(activeParameter.documentation);dom.f(renderedContents.element,"markdown-docs"),this.renderDisposeables.add(renderedContents),documentation.appendChild(renderedContents.element)}dom.q(this.domNodes.docs,$("p",{},documentation))}if(signature.documentation!==void 0)if(typeof signature.documentation=="string")dom.q(this.domNodes.docs,$("p",{},signature.documentation));else{var renderedContents=this.markdownRenderer.render(signature.documentation);dom.f(renderedContents.element,"markdown-docs"),this.renderDisposeables.add(renderedContents),dom.q(this.domNodes.docs,renderedContents.element)}var hasDocs=this.hasDocs(signature,activeParameter);if(dom.V(this.domNodes.signature,"has-docs",hasDocs),dom.V(this.domNodes.docs,"empty",!hasDocs),this.domNodes.overloads.textContent=Object(strings.G)(hints.activeSignature+1,hints.signatures.length.toString().length)+"/"+hints.signatures.length,activeParameter){var labelToAnnounce=this.getParameterLabel(signature,hints.activeParameter);this.announcedLabel!==labelToAnnounce&&(aria.a(nls.a("hint","{0}, hint",labelToAnnounce)),this.announcedLabel=labelToAnnounce)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}},ParameterHintsWidget.prototype.hasDocs=function(signature,activeParameter){return!!(activeParameter&&typeof activeParameter.documentation=="string"&&activeParameter.documentation.length>0||activeParameter&&typeof activeParameter.documentation=="object"&&activeParameter.documentation.value.length>0||typeof signature.documentation=="string"&&signature.documentation.length>0||typeof signature.documentation=="object"&&signature.documentation.value.length>0)},ParameterHintsWidget.prototype.renderParameters=function(parent,signature,currentParameter){var _a=this.getParameterLabelOffsets(signature,currentParameter),start=_a[0],end=_a[1],beforeSpan=document.createElement("span");beforeSpan.textContent=signature.label.substring(0,start);var paramSpan=document.createElement("span");paramSpan.textContent=signature.label.substring(start,end),paramSpan.className="parameter active";var afterSpan=document.createElement("span");afterSpan.textContent=signature.label.substring(end),dom.q(parent,beforeSpan,paramSpan,afterSpan)},ParameterHintsWidget.prototype.getParameterLabel=function(signature,paramIdx){var param=signature.parameters[paramIdx];return typeof param.label=="string"?param.label:signature.label.substring(param.label[0],param.label[1])},ParameterHintsWidget.prototype.getParameterLabelOffsets=function(signature,paramIdx){var param=signature.parameters[paramIdx];if(param){if(Array.isArray(param.label))return param.label;var idx=signature.label.lastIndexOf(param.label);return idx>=0?[idx,idx+param.label.length]:[0,0]}else return[0,0]},ParameterHintsWidget.prototype.next=function(){this.editor.focus(),this.model.next()},ParameterHintsWidget.prototype.previous=function(){this.editor.focus(),this.model.previous()},ParameterHintsWidget.prototype.cancel=function(){this.model.cancel()},ParameterHintsWidget.prototype.getDomNode=function(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element},ParameterHintsWidget.prototype.getId=function(){return ParameterHintsWidget.ID},ParameterHintsWidget.prototype.trigger=function(context){this.model.trigger(context,0)},ParameterHintsWidget.prototype.updateMaxHeight=function(){if(this.domNodes){var height=Math.max(this.editor.getLayoutInfo().height/4,250),maxHeight=height+"px";this.domNodes.element.style.maxHeight=maxHeight;var wrapper=this.domNodes.element.getElementsByClassName("wrapper");wrapper.length&&(wrapper[0].style.maxHeight=maxHeight)}},ParameterHintsWidget.ID="editor.widget.parameterHintsWidget",ParameterHintsWidget=__decorate([__param(1,contextkey.c),__param(2,common_opener.a),__param(3,services_modeService.a)],ParameterHintsWidget),ParameterHintsWidget}(lifecycle.a);Object(themeService.e)(function(theme,collector){var border=theme.getColor(colorRegistry.B);if(border){var borderWidth=theme.type===themeService.b?2:1;collector.addRule(".monaco-editor .parameter-hints-widget { border: "+borderWidth+"px solid "+border+"; }"),collector.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+border.transparent(.5)+"; }"),collector.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+border.transparent(.5)+"; }")}var background=theme.getColor(colorRegistry.A);background&&collector.addRule(".monaco-editor .parameter-hints-widget { background-color: "+background+"; }");var link=theme.getColor(colorRegistry.ec);link&&collector.addRule(".monaco-editor .parameter-hints-widget a { color: "+link+"; }");var foreground=theme.getColor(colorRegistry.C);foreground&&collector.addRule(".monaco-editor .parameter-hints-widget { color: "+foreground+"; }");var codeBackground=theme.getColor(colorRegistry.dc);codeBackground&&collector.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+codeBackground+"; }")});var parameterHints_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),parameterHints_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},parameterHints_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},parameterHints_ParameterHintsController=function(_super){parameterHints_extends(ParameterHintsController,_super);function ParameterHintsController(editor,instantiationService){var _this=_super.call(this)||this;return _this.editor=editor,_this.widget=_this._register(instantiationService.createInstance(parameterHintsWidget_ParameterHintsWidget,_this.editor)),_this}return ParameterHintsController.get=function(editor){return editor.getContribution(ParameterHintsController.ID)},ParameterHintsController.prototype.cancel=function(){this.widget.cancel()},ParameterHintsController.prototype.previous=function(){this.widget.previous()},ParameterHintsController.prototype.next=function(){this.widget.next()},ParameterHintsController.prototype.trigger=function(context){this.widget.trigger(context)},ParameterHintsController.ID="editor.controller.parameterHints",ParameterHintsController=parameterHints_decorate([parameterHints_param(1,instantiation.a)],ParameterHintsController),ParameterHintsController}(lifecycle.a),parameterHints_TriggerParameterHintsAction=function(_super){parameterHints_extends(TriggerParameterHintsAction,_super);function TriggerParameterHintsAction(){return _super.call(this,{id:"editor.action.triggerParameterHints",label:nls.a("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:editorContextKeys.a.hasSignatureHelpProvider,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3082,weight:100}})||this}return TriggerParameterHintsAction.prototype.run=function(accessor,editor){var controller=parameterHints_ParameterHintsController.get(editor);controller&&controller.trigger({triggerKind:modes.x.Invoke})},TriggerParameterHintsAction}(editorExtensions.b);Object(editorExtensions.h)(parameterHints_ParameterHintsController.ID,parameterHints_ParameterHintsController),Object(editorExtensions.f)(parameterHints_TriggerParameterHintsAction);var weight=100+75,ParameterHintsCommand=editorExtensions.c.bindToContribution(parameterHints_ParameterHintsController.get);Object(editorExtensions.g)(new ParameterHintsCommand({id:"closeParameterHints",precondition:Context.Visible,handler:function(x){return x.cancel()},kbOpts:{weight,kbExpr:editorContextKeys.a.focus,primary:9,secondary:[1033]}})),Object(editorExtensions.g)(new ParameterHintsCommand({id:"showPrevParameterHint",precondition:contextkey.a.and(Context.Visible,Context.MultipleSignatures),handler:function(x){return x.previous()},kbOpts:{weight,kbExpr:editorContextKeys.a.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(editorExtensions.g)(new ParameterHintsCommand({id:"showNextParameterHint",precondition:contextkey.a.and(Context.Visible,Context.MultipleSignatures),handler:function(x){return x.next()},kbOpts:{weight,kbExpr:editorContextKeys.a.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},2369:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2069),keyCodes=__webpack_require__(2768),editorExtensions=__webpack_require__(2099),editorContextKeys=__webpack_require__(2632),editOperation=__webpack_require__(3115),position=__webpack_require__(2233),range=__webpack_require__(2056),core_selection=__webpack_require__(2629),languageConfigurationRegistry=__webpack_require__(2810),blockCommentCommand_BlockCommentCommand=function(){function BlockCommentCommand(selection){this._selection=selection,this._usedEndToken=null}return BlockCommentCommand._haystackHasNeedleAtOffset=function(haystack,needle,offset){if(offset<0)return!1;var needleLength=needle.length,haystackLength=haystack.length;if(offset+needleLength>haystackLength)return!1;for(var i=0;i<needleLength;i++){var codeA=haystack.charCodeAt(offset+i),codeB=needle.charCodeAt(i);if(codeA!==codeB&&!(codeA>=65&&codeA<=90&&codeA+32===codeB)&&!(codeB>=65&&codeB<=90&&codeB+32===codeA))return!1}return!0},BlockCommentCommand.prototype._createOperationsForBlockComment=function(selection,startToken,endToken,model,builder){var startLineNumber=selection.startLineNumber,startColumn=selection.startColumn,endLineNumber=selection.endLineNumber,endColumn=selection.endColumn,startLineText=model.getLineContent(startLineNumber),endLineText=model.getLineContent(endLineNumber),startTokenIndex=startLineText.lastIndexOf(startToken,startColumn-1+startToken.length),endTokenIndex=endLineText.indexOf(endToken,endColumn-1-endToken.length);if(startTokenIndex!==-1&&endTokenIndex!==-1)if(startLineNumber===endLineNumber){var lineBetweenTokens=startLineText.substring(startTokenIndex+startToken.length,endTokenIndex);lineBetweenTokens.indexOf(endToken)>=0&&(startTokenIndex=-1,endTokenIndex=-1)}else{var startLineAfterStartToken=startLineText.substring(startTokenIndex+startToken.length),endLineBeforeEndToken=endLineText.substring(0,endTokenIndex);(startLineAfterStartToken.indexOf(endToken)>=0||endLineBeforeEndToken.indexOf(endToken)>=0)&&(startTokenIndex=-1,endTokenIndex=-1)}var ops;startTokenIndex!==-1&&endTokenIndex!==-1?(startTokenIndex+startToken.length<startLineText.length&&startLineText.charCodeAt(startTokenIndex+startToken.length)===32&&(startToken=startToken+" "),endTokenIndex>0&&endLineText.charCodeAt(endTokenIndex-1)===32&&(endToken=" "+endToken,endTokenIndex-=1),ops=BlockCommentCommand._createRemoveBlockCommentOperations(new range.a(startLineNumber,startTokenIndex+startToken.length+1,endLineNumber,endTokenIndex+1),startToken,endToken)):(ops=BlockCommentCommand._createAddBlockCommentOperations(selection,startToken,endToken),this._usedEndToken=ops.length===1?endToken:null);for(var _i=0,ops_1=ops;_i<ops_1.length;_i++){var op=ops_1[_i];builder.addTrackedEditOperation(op.range,op.text)}},BlockCommentCommand._createRemoveBlockCommentOperations=function(r,startToken,endToken){var res=[];return range.a.isEmpty(r)?res.push(editOperation.a.delete(new range.a(r.startLineNumber,r.startColumn-startToken.length,r.endLineNumber,r.endColumn+endToken.length))):(res.push(editOperation.a.delete(new range.a(r.startLineNumber,r.startColumn-startToken.length,r.startLineNumber,r.startColumn))),res.push(editOperation.a.delete(new range.a(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn+endToken.length)))),res},BlockCommentCommand._createAddBlockCommentOperations=function(r,startToken,endToken){var res=[];return range.a.isEmpty(r)?res.push(editOperation.a.replace(new range.a(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn),startToken+"  "+endToken)):(res.push(editOperation.a.insert(new position.a(r.startLineNumber,r.startColumn),startToken+" ")),res.push(editOperation.a.insert(new position.a(r.endLineNumber,r.endColumn)," "+endToken))),res},BlockCommentCommand.prototype.getEditOperations=function(model,builder){var startLineNumber=this._selection.startLineNumber,startColumn=this._selection.startColumn;model.tokenizeIfCheap(startLineNumber);var languageId=model.getLanguageIdAtPosition(startLineNumber,startColumn),config=languageConfigurationRegistry.a.getComments(languageId);!config||!config.blockCommentStartToken||!config.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,config.blockCommentStartToken,config.blockCommentEndToken,model,builder)},BlockCommentCommand.prototype.computeCursorState=function(model,helper){var inverseEditOperations=helper.getInverseEditOperations();if(inverseEditOperations.length===2){var startTokenEditOperation=inverseEditOperations[0],endTokenEditOperation=inverseEditOperations[1];return new core_selection.a(startTokenEditOperation.range.endLineNumber,startTokenEditOperation.range.endColumn,endTokenEditOperation.range.startLineNumber,endTokenEditOperation.range.startColumn)}else{var srcRange=inverseEditOperations[0].range,deltaColumn=this._usedEndToken?-this._usedEndToken.length-1:0;return new core_selection.a(srcRange.endLineNumber,srcRange.endColumn+deltaColumn,srcRange.endLineNumber,srcRange.endColumn+deltaColumn)}},BlockCommentCommand}(),strings=__webpack_require__(2123),lineCommentCommand_LineCommentCommand=function(){function LineCommentCommand(selection,tabSize,type){this._selection=selection,this._selectionId=null,this._tabSize=tabSize,this._type=type,this._deltaColumn=0,this._moveEndPositionDown=!1}return LineCommentCommand._gatherPreflightCommentStrings=function(model,startLineNumber,endLineNumber){model.tokenizeIfCheap(startLineNumber);var languageId=model.getLanguageIdAtPosition(startLineNumber,1),config=languageConfigurationRegistry.a.getComments(languageId),commentStr=config?config.lineCommentToken:null;if(!commentStr)return null;for(var lines=[],i=0,lineCount=endLineNumber-startLineNumber+1;i<lineCount;i++)lines[i]={ignore:!1,commentStr,commentStrOffset:0,commentStrLength:commentStr.length};return lines},LineCommentCommand._analyzeLines=function(type,model,lines,startLineNumber){var onlyWhitespaceLines=!0,shouldRemoveComments;type===0?shouldRemoveComments=!0:type===1?shouldRemoveComments=!1:shouldRemoveComments=!0;for(var i=0,lineCount=lines.length;i<lineCount;i++){var lineData=lines[i],lineNumber=startLineNumber+i,lineContent=model.getLineContent(lineNumber),lineContentStartOffset=strings.q(lineContent);if(lineContentStartOffset===-1){lineData.ignore=!0,lineData.commentStrOffset=lineContent.length;continue}if(onlyWhitespaceLines=!1,lineData.ignore=!1,lineData.commentStrOffset=lineContentStartOffset,shouldRemoveComments&&!blockCommentCommand_BlockCommentCommand._haystackHasNeedleAtOffset(lineContent,lineData.commentStr,lineContentStartOffset)&&(type===0?shouldRemoveComments=!1:type===1||(lineData.ignore=!0)),shouldRemoveComments){var commentStrEndOffset=lineContentStartOffset+lineData.commentStrLength;commentStrEndOffset<lineContent.length&&lineContent.charCodeAt(commentStrEndOffset)===32&&(lineData.commentStrLength+=1)}}if(type===0&&onlyWhitespaceLines){shouldRemoveComments=!1;for(var i=0,lineCount=lines.length;i<lineCount;i++)lines[i].ignore=!1}return{supported:!0,shouldRemoveComments,lines}},LineCommentCommand._gatherPreflightData=function(type,model,startLineNumber,endLineNumber){var lines=LineCommentCommand._gatherPreflightCommentStrings(model,startLineNumber,endLineNumber);return lines===null?{supported:!1}:LineCommentCommand._analyzeLines(type,model,lines,startLineNumber)},LineCommentCommand.prototype._executeLineComments=function(model,builder,data,s){var ops;data.shouldRemoveComments?ops=LineCommentCommand._createRemoveLineCommentsOperations(data.lines,s.startLineNumber):(LineCommentCommand._normalizeInsertionPoint(model,data.lines,s.startLineNumber,this._tabSize),ops=LineCommentCommand._createAddLineCommentsOperations(data.lines,s.startLineNumber));for(var cursorPosition=new position.a(s.positionLineNumber,s.positionColumn),i=0,len=ops.length;i<len;i++)if(builder.addEditOperation(ops[i].range,ops[i].text),ops[i].range.isEmpty()&&ops[i].range.getStartPosition().equals(cursorPosition)){var lineContent=model.getLineContent(cursorPosition.lineNumber);lineContent.length+1===cursorPosition.column&&(this._deltaColumn=(ops[i].text||"").length)}this._selectionId=builder.trackSelection(s)},LineCommentCommand.prototype._attemptRemoveBlockComment=function(model,s,startToken,endToken){var startLineNumber=s.startLineNumber,endLineNumber=s.endLineNumber,startTokenAllowedBeforeColumn=endToken.length+Math.max(model.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.startColumn),startTokenIndex=model.getLineContent(startLineNumber).lastIndexOf(startToken,startTokenAllowedBeforeColumn-1),endTokenIndex=model.getLineContent(endLineNumber).indexOf(endToken,s.endColumn-1-startToken.length);return startTokenIndex!==-1&&endTokenIndex===-1&&(endTokenIndex=model.getLineContent(startLineNumber).indexOf(endToken,startTokenIndex+startToken.length),endLineNumber=startLineNumber),startTokenIndex===-1&&endTokenIndex!==-1&&(startTokenIndex=model.getLineContent(endLineNumber).lastIndexOf(startToken,endTokenIndex),startLineNumber=endLineNumber),s.isEmpty()&&(startTokenIndex===-1||endTokenIndex===-1)&&(startTokenIndex=model.getLineContent(startLineNumber).indexOf(startToken),startTokenIndex!==-1&&(endTokenIndex=model.getLineContent(startLineNumber).indexOf(endToken,startTokenIndex+startToken.length))),startTokenIndex!==-1&&model.getLineContent(startLineNumber).charCodeAt(startTokenIndex+startToken.length)===32&&(startToken+=" "),endTokenIndex!==-1&&model.getLineContent(endLineNumber).charCodeAt(endTokenIndex-1)===32&&(endToken=" "+endToken,endTokenIndex-=1),startTokenIndex!==-1&&endTokenIndex!==-1?blockCommentCommand_BlockCommentCommand._createRemoveBlockCommentOperations(new range.a(startLineNumber,startTokenIndex+startToken.length+1,endLineNumber,endTokenIndex+1),startToken,endToken):null},LineCommentCommand.prototype._executeBlockComment=function(model,builder,s){model.tokenizeIfCheap(s.startLineNumber);var languageId=model.getLanguageIdAtPosition(s.startLineNumber,1),config=languageConfigurationRegistry.a.getComments(languageId);if(!(!config||!config.blockCommentStartToken||!config.blockCommentEndToken)){var startToken=config.blockCommentStartToken,endToken=config.blockCommentEndToken,ops=this._attemptRemoveBlockComment(model,s,startToken,endToken);if(!ops){if(s.isEmpty()){var lineContent=model.getLineContent(s.startLineNumber),firstNonWhitespaceIndex=strings.q(lineContent);firstNonWhitespaceIndex===-1&&(firstNonWhitespaceIndex=lineContent.length),ops=blockCommentCommand_BlockCommentCommand._createAddBlockCommentOperations(new range.a(s.startLineNumber,firstNonWhitespaceIndex+1,s.startLineNumber,lineContent.length+1),startToken,endToken)}else ops=blockCommentCommand_BlockCommentCommand._createAddBlockCommentOperations(new range.a(s.startLineNumber,model.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.endLineNumber,model.getLineMaxColumn(s.endLineNumber)),startToken,endToken);ops.length===1&&(this._deltaColumn=startToken.length+1)}this._selectionId=builder.trackSelection(s);for(var _i=0,ops_1=ops;_i<ops_1.length;_i++){var op=ops_1[_i];builder.addEditOperation(op.range,op.text)}}},LineCommentCommand.prototype.getEditOperations=function(model,builder){var s=this._selection;this._moveEndPositionDown=!1,s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,model.getLineMaxColumn(s.endLineNumber-1)));var data=LineCommentCommand._gatherPreflightData(this._type,model,s.startLineNumber,s.endLineNumber);return data.supported?this._executeLineComments(model,builder,data,s):this._executeBlockComment(model,builder,s)},LineCommentCommand.prototype.computeCursorState=function(model,helper){var result=helper.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(result=result.setEndPosition(result.endLineNumber+1,1)),new core_selection.a(result.selectionStartLineNumber,result.selectionStartColumn+this._deltaColumn,result.positionLineNumber,result.positionColumn+this._deltaColumn)},LineCommentCommand._createRemoveLineCommentsOperations=function(lines,startLineNumber){for(var res=[],i=0,len=lines.length;i<len;i++){var lineData=lines[i];lineData.ignore||res.push(editOperation.a.delete(new range.a(startLineNumber+i,lineData.commentStrOffset+1,startLineNumber+i,lineData.commentStrOffset+lineData.commentStrLength+1)))}return res},LineCommentCommand._createAddLineCommentsOperations=function(lines,startLineNumber){for(var res=[],i=0,len=lines.length;i<len;i++){var lineData=lines[i];lineData.ignore||res.push(editOperation.a.insert(new position.a(startLineNumber+i,lineData.commentStrOffset+1),lineData.commentStr+" "))}return res},LineCommentCommand.nextVisibleColumn=function(currentVisibleColumn,tabSize,isTab,columnSize){return isTab?currentVisibleColumn+(tabSize-currentVisibleColumn%tabSize):currentVisibleColumn+columnSize},LineCommentCommand._normalizeInsertionPoint=function(model,lines,startLineNumber,tabSize){for(var minVisibleColumn=1073741824,j,lenJ,i=0,len=lines.length;i<len;i++)if(!lines[i].ignore){for(var lineContent=model.getLineContent(startLineNumber+i),currentVisibleColumn=0,j_1=0,lenJ_1=lines[i].commentStrOffset;currentVisibleColumn<minVisibleColumn&&j_1<lenJ_1;j_1++)currentVisibleColumn=LineCommentCommand.nextVisibleColumn(currentVisibleColumn,tabSize,lineContent.charCodeAt(j_1)===9,1);currentVisibleColumn<minVisibleColumn&&(minVisibleColumn=currentVisibleColumn)}minVisibleColumn=Math.floor(minVisibleColumn/tabSize)*tabSize;for(var i=0,len=lines.length;i<len;i++)if(!lines[i].ignore){var lineContent=model.getLineContent(startLineNumber+i),currentVisibleColumn=0;for(j=0,lenJ=lines[i].commentStrOffset;currentVisibleColumn<minVisibleColumn&&j<lenJ;j++)currentVisibleColumn=LineCommentCommand.nextVisibleColumn(currentVisibleColumn,tabSize,lineContent.charCodeAt(j)===9,1);currentVisibleColumn>minVisibleColumn?lines[i].commentStrOffset=j-1:lines[i].commentStrOffset=j}},LineCommentCommand}(),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),comment_CommentLineAction=function(_super){__extends(CommentLineAction,_super);function CommentLineAction(type,opts){var _this=_super.call(this,opts)||this;return _this._type=type,_this}return CommentLineAction.prototype.run=function(accessor,editor){if(editor.hasModel()){for(var model=editor.getModel(),commands=[],selections=editor.getSelections(),opts=model.getOptions(),_i=0,selections_1=selections;_i<selections_1.length;_i++){var selection=selections_1[_i];commands.push(new lineCommentCommand_LineCommentCommand(selection,opts.tabSize,this._type))}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}},CommentLineAction}(editorExtensions.b),comment_ToggleCommentLineAction=function(_super){__extends(ToggleCommentLineAction,_super);function ToggleCommentLineAction(){return _super.call(this,0,{id:"editor.action.commentLine",label:nls.a("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:15,group:"5_insert",title:nls.a({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})||this}return ToggleCommentLineAction}(comment_CommentLineAction),comment_AddLineCommentAction=function(_super){__extends(AddLineCommentAction,_super);function AddLineCommentAction(){return _super.call(this,1,{id:"editor.action.addCommentLine",label:nls.a("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2081),weight:100}})||this}return AddLineCommentAction}(comment_CommentLineAction),comment_RemoveLineCommentAction=function(_super){__extends(RemoveLineCommentAction,_super);function RemoveLineCommentAction(){return _super.call(this,2,{id:"editor.action.removeCommentLine",label:nls.a("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2099),weight:100}})||this}return RemoveLineCommentAction}(comment_CommentLineAction),comment_BlockCommentAction=function(_super){__extends(BlockCommentAction,_super);function BlockCommentAction(){return _super.call(this,{id:"editor.action.blockComment",label:nls.a("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:15,group:"5_insert",title:nls.a({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})||this}return BlockCommentAction.prototype.run=function(accessor,editor){if(editor.hasModel()){for(var commands=[],selections=editor.getSelections(),_i=0,selections_2=selections;_i<selections_2.length;_i++){var selection=selections_2[_i];commands.push(new blockCommentCommand_BlockCommentCommand(selection))}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}},BlockCommentAction}(editorExtensions.b);Object(editorExtensions.f)(comment_ToggleCommentLineAction),Object(editorExtensions.f)(comment_AddLineCommentAction),Object(editorExtensions.f)(comment_RemoveLineCommentAction),Object(editorExtensions.f)(comment_BlockCommentAction)},2370:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SymbolEntry",function(){return quickOutline_SymbolEntry}),__webpack_require__.d(__webpack_exports__,"QuickOutlineAction",function(){return quickOutline_QuickOutlineAction});var quickOutline=__webpack_require__(5798),codiconLabel=__webpack_require__(3373),outlineTree=__webpack_require__(3885),cancellation=__webpack_require__(2649),filters=__webpack_require__(3168),strings=__webpack_require__(2123),quickOpenModel=__webpack_require__(3604),editorExtensions=__webpack_require__(2099),core_range=__webpack_require__(2056),editorContextKeys=__webpack_require__(2632),modes=__webpack_require__(2240),errors=__webpack_require__(2176),uri=__webpack_require__(2640),modelService=__webpack_require__(2817),resolverService=__webpack_require__(3233),arrays=__webpack_require__(2389),collections=__webpack_require__(3281),map=__webpack_require__(2803),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),TreeElement=function(){function TreeElement2(){}return TreeElement2.prototype.remove=function(){this.parent&&delete this.parent.children[this.id]},TreeElement2.findId=function(candidate,container){var candidateId;typeof candidate=="string"?candidateId=container.id+"/"+candidate:(candidateId=container.id+"/"+candidate.name,container.children[candidateId]!==void 0&&(candidateId=container.id+"/"+candidate.name+"_"+candidate.range.startLineNumber+"_"+candidate.range.startColumn));for(var id=candidateId,i=0;container.children[id]!==void 0;i++)id=candidateId+"_"+i;return id},TreeElement2.empty=function(element){for(var _key in element.children)return!1;return!0},TreeElement2}(),OutlineElement=function(_super){__extends(OutlineElement2,_super);function OutlineElement2(id,parent,symbol){var _this=_super.call(this)||this;return _this.id=id,_this.parent=parent,_this.symbol=symbol,_this.children=Object.create(null),_this}return OutlineElement2}(TreeElement),OutlineGroup=function(_super){__extends(OutlineGroup2,_super);function OutlineGroup2(id,parent,provider,providerIndex){var _this=_super.call(this)||this;return _this.id=id,_this.parent=parent,_this.provider=provider,_this.providerIndex=providerIndex,_this.children=Object.create(null),_this}return OutlineGroup2}(TreeElement),MovingAverage=function(){function MovingAverage2(){this._n=1,this._val=0}return MovingAverage2.prototype.update=function(value){return this._val=this._val+(value-this._val)/this._n,this._n+=1,this},MovingAverage2}(),outlineModel_OutlineModel=function(_super){__extends(OutlineModel,_super);function OutlineModel(textModel){var _this=_super.call(this)||this;return _this.textModel=textModel,_this.id="root",_this.parent=void 0,_this._groups=Object.create(null),_this.children=Object.create(null),_this.id="root",_this.parent=void 0,_this}return OutlineModel.create=function(textModel,token){var _this=this,key=this._keys.for(textModel,!0),data=OutlineModel._requests.get(key);if(!data){var source=new cancellation.b;data={promiseCnt:0,source,promise:OutlineModel._create(textModel,source.token),model:void 0},OutlineModel._requests.set(key,data);var now_1=Date.now();data.promise.then(function(){var key2=_this._keys.for(textModel,!1),avg=_this._requestDurations.get(key2);avg||(avg=new MovingAverage,_this._requestDurations.set(key2,avg)),avg.update(Date.now()-now_1)})}return data.model?Promise.resolve(data.model):(data.promiseCnt+=1,token.onCancellationRequested(function(){--data.promiseCnt===0&&(data.source.cancel(),OutlineModel._requests.delete(key))}),new Promise(function(resolve,reject){data.promise.then(function(model){data.model=model,resolve(model)},function(err){OutlineModel._requests.delete(key),reject(err)})}))},OutlineModel._create=function(textModel,token){var cts=new cancellation.b(token),result=new OutlineModel(textModel),provider=modes.k.ordered(textModel),promises=provider.map(function(provider2,index){var id=TreeElement.findId("provider_"+index,result),group=new OutlineGroup(id,result,provider2,index);return Promise.resolve(provider2.provideDocumentSymbols(result.textModel,cts.token)).then(function(result2){for(var _i=0,_a=result2||[];_i<_a.length;_i++){var info=_a[_i];OutlineModel._makeOutlineElement(info,group)}return group},function(err){return Object(errors.f)(err),group}).then(function(group2){TreeElement.empty(group2)?group2.remove():result._groups[id]=group2})}),listener=modes.k.onDidChange(function(){var newProvider=modes.k.ordered(textModel);Object(arrays.g)(newProvider,provider)||cts.cancel()});return Promise.all(promises).then(function(){return cts.token.isCancellationRequested&&!token.isCancellationRequested?OutlineModel._create(textModel,token):result._compact()}).finally(function(){listener.dispose()})},OutlineModel._makeOutlineElement=function(info,container){var id=TreeElement.findId(info,container),res=new OutlineElement(id,container,info);if(info.children)for(var _i=0,_a=info.children;_i<_a.length;_i++){var childInfo=_a[_i];OutlineModel._makeOutlineElement(childInfo,res)}container.children[res.id]=res},OutlineModel.prototype._compact=function(){var count=0;for(var key in this._groups){var group=this._groups[key];Object(collections.b)(group.children)===void 0?delete this._groups[key]:count+=1}if(count!==1)this.children=this._groups;else{var group=Object(collections.b)(this._groups);for(var key in group.children){var child=group.children[key];child.parent=this,this.children[child.id]=child}}return this},OutlineModel._requestDurations=new map.a(50,.7),OutlineModel._requests=new map.a(9,.75),OutlineModel._keys=new(function(){function class_1(){this._counter=1,this._data=new WeakMap}return class_1.prototype.for=function(textModel,version){return textModel.id+"/"+(version?textModel.getVersionId():"")+"/"+this._hash(modes.k.all(textModel))},class_1.prototype._hash=function(providers){for(var result="",_i=0,providers_1=providers;_i<providers_1.length;_i++){var provider=providers_1[_i],n=this._data.get(provider);typeof n>"u"&&(n=this._counter++,this._data.set(provider,n)),result+=n}return result},class_1}()),OutlineModel}(TreeElement),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}};function getDocumentSymbols(document2,flat,token){return __awaiter(this,void 0,void 0,function(){var model,roots,_i,_a,child,flatEntries;return __generator(this,function(_b){switch(_b.label){case 0:return[4,outlineModel_OutlineModel.create(document2,token)];case 1:for(model=_b.sent(),roots=[],_i=0,_a=Object(collections.d)(model.children);_i<_a.length;_i++)child=_a[_i],child instanceof OutlineElement?roots.push(child.symbol):roots.push.apply(roots,Object(collections.d)(child.children).map(function(child2){return child2.symbol}));return flatEntries=[],token.isCancellationRequested?[2,flatEntries]:(flat?flatten(flatEntries,roots,""):flatEntries=roots,[2,flatEntries.sort(compareEntriesUsingStart)])}})})}function compareEntriesUsingStart(a,b){return core_range.a.compareRangesUsingStarts(a.range,b.range)}function flatten(bucket,entries,overrideContainerLabel){for(var _i=0,entries_1=entries;_i<entries_1.length;_i++){var entry=entries_1[_i];bucket.push({kind:entry.kind,tags:entry.tags,name:entry.name,detail:entry.detail,containerName:entry.containerName||overrideContainerLabel,range:entry.range,selectionRange:entry.selectionRange,children:void 0}),entry.children&&flatten(bucket,entry.children,entry.name)}}Object(editorExtensions.j)("_executeDocumentSymbolProvider",function(accessor,args){var resource=args.resource;if(!(resource instanceof uri.a))throw Object(errors.b)("resource");var model=accessor.get(modelService.a).getModel(resource);return model?getDocumentSymbols(model,!1,cancellation.a.None):accessor.get(resolverService.a).createModelReference(resource).then(function(reference){return new Promise(function(resolve,reject){try{var result=getDocumentSymbols(reference.object.textEditorModel,!1,cancellation.a.None);resolve(result)}catch(err){reject(err)}}).finally(function(){reference.dispose()})})});var editorQuickOpen=__webpack_require__(3597),standaloneStrings=__webpack_require__(2634),quickOutline_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),SCOPE_PREFIX=":",quickOutline_SymbolEntry=function(_super){quickOutline_extends(SymbolEntry,_super);function SymbolEntry(name,type,description,range,highlights,editor,decorator){var _this=_super.call(this)||this;return _this.name=name,_this.type=type,_this.description=description,_this.range=range,_this.setHighlights(highlights),_this.editor=editor,_this.decorator=decorator,_this}return SymbolEntry.prototype.getLabel=function(){return this.name},SymbolEntry.prototype.getAriaLabel=function(){return strings.r(standaloneStrings.e.entryAriaLabel,this.name)},SymbolEntry.prototype.getIcon=function(){return this.type},SymbolEntry.prototype.getDescription=function(){return this.description},SymbolEntry.prototype.getType=function(){return this.type},SymbolEntry.prototype.getRange=function(){return this.range},SymbolEntry.prototype.run=function(mode,context){return mode===1?this.runOpen(context):this.runPreview()},SymbolEntry.prototype.runOpen=function(_context){var range=this.toSelection();return this.editor.setSelection(range),this.editor.revealRangeInCenter(range,0),this.editor.focus(),!0},SymbolEntry.prototype.runPreview=function(){var range=this.toSelection();return this.editor.revealRangeInCenter(range,0),this.decorator.decorateLine(this.range,this.editor),!1},SymbolEntry.prototype.toSelection=function(){return new core_range.a(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)},SymbolEntry}(quickOpenModel.b),quickOutline_QuickOutlineAction=function(_super){quickOutline_extends(QuickOutlineAction,_super);function QuickOutlineAction(){return _super.call(this,standaloneStrings.e.quickOutlineActionInput,{id:"editor.action.quickOutline",label:standaloneStrings.e.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:editorContextKeys.a.hasDocumentSymbolProvider,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})||this}return QuickOutlineAction.prototype.run=function(accessor,editor){var _this=this;if(editor.hasModel()){var model=editor.getModel();if(modes.k.has(model))return getDocumentSymbols(model,!0,cancellation.a.None).then(function(result){result.length!==0&&_this._run(editor,result)})}},QuickOutlineAction.prototype._run=function(editor,result){var _this=this;this._show(this.getController(editor),{getModel:function(value){return new quickOpenModel.c(_this.toQuickOpenEntries(editor,result,value))},getAutoFocus:function(searchValue){return searchValue.indexOf(SCOPE_PREFIX)===0&&(searchValue=searchValue.substr(SCOPE_PREFIX.length)),{autoFocusPrefixMatch:searchValue,autoFocusFirstEntry:!!searchValue}}})},QuickOutlineAction.prototype.symbolEntry=function(name,type,description,range,highlights,editor,decorator){return new quickOutline_SymbolEntry(name,type,description,core_range.a.lift(range),highlights,editor,decorator)},QuickOutlineAction.prototype.toQuickOpenEntries=function(editor,flattened,searchValue){var controller=this.getController(editor),results=[],normalizedSearchValue=searchValue;searchValue.indexOf(SCOPE_PREFIX)===0&&(normalizedSearchValue=normalizedSearchValue.substr(SCOPE_PREFIX.length));for(var _i=0,flattened_1=flattened;_i<flattened_1.length;_i++){var element=flattened_1[_i],label=strings.R(element.name),highlights=Object(filters.f)(normalizedSearchValue,label);if(highlights){var description=void 0;element.containerName&&(description=element.containerName),results.push(this.symbolEntry(label,modes.y.toCssClassName(element.kind),description,element.range,highlights,editor,controller))}}if(searchValue&&(searchValue.indexOf(SCOPE_PREFIX)===0?results=results.sort(this.sortScoped.bind(this,searchValue.toLowerCase())):results=results.sort(this.sortNormal.bind(this,searchValue.toLowerCase()))),results.length>0&&searchValue.indexOf(SCOPE_PREFIX)===0){for(var currentType=null,currentResult=null,typeCounter=0,i=0;i<results.length;i++){var result=results[i];currentType!==result.getType()?(currentResult&&currentResult.setGroupLabel(this.typeToLabel(currentType||"",typeCounter)),currentType=result.getType(),currentResult=result,typeCounter=1,result.setShowBorder(i>0)):typeCounter++}currentResult&&currentResult.setGroupLabel(this.typeToLabel(currentType||"",typeCounter))}else results.length>0&&results[0].setGroupLabel(strings.r(standaloneStrings.e._symbols_,results.length));return results},QuickOutlineAction.prototype.typeToLabel=function(type,count){switch(type){case"module":return strings.r(standaloneStrings.e._modules_,count);case"class":return strings.r(standaloneStrings.e._class_,count);case"interface":return strings.r(standaloneStrings.e._interface_,count);case"method":return strings.r(standaloneStrings.e._method_,count);case"function":return strings.r(standaloneStrings.e._function_,count);case"property":return strings.r(standaloneStrings.e._property_,count);case"variable":return strings.r(standaloneStrings.e._variable_,count);case"var":return strings.r(standaloneStrings.e._variable2_,count);case"constructor":return strings.r(standaloneStrings.e._constructor_,count);case"call":return strings.r(standaloneStrings.e._call_,count)}return type},QuickOutlineAction.prototype.sortNormal=function(searchValue,elementA,elementB){var elementAName=elementA.getLabel().toLowerCase(),elementBName=elementB.getLabel().toLowerCase(),r=elementAName.localeCompare(elementBName);if(r!==0)return r;var elementARange=elementA.getRange(),elementBRange=elementB.getRange();return elementARange.startLineNumber-elementBRange.startLineNumber},QuickOutlineAction.prototype.sortScoped=function(searchValue,elementA,elementB){searchValue=searchValue.substr(SCOPE_PREFIX.length);var elementAType=elementA.getType(),elementBType=elementB.getType(),r=elementAType.localeCompare(elementBType);if(r!==0)return r;if(searchValue){var elementAName=elementA.getLabel().toLowerCase(),elementBName=elementB.getLabel().toLowerCase(),r_1=elementAName.localeCompare(elementBName);if(r_1!==0)return r_1}var elementARange=elementA.getRange(),elementBRange=elementB.getRange();return elementARange.startLineNumber-elementBRange.startLineNumber},QuickOutlineAction}(editorQuickOpen.a);Object(editorExtensions.f)(quickOutline_QuickOutlineAction)},2372:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2069),editorExtensions=__webpack_require__(2099),editorContextKeys=__webpack_require__(2632),range=__webpack_require__(2056),moveCaretCommand_MoveCaretCommand=function(){function MoveCaretCommand(selection,isMovingLeft){this._selection=selection,this._isMovingLeft=isMovingLeft,this._cutStartIndex=-1,this._cutEndIndex=-1,this._moved=!1,this._selectionId=null}return MoveCaretCommand.prototype.getEditOperations=function(model,builder){var s=this._selection;if(this._selectionId=builder.trackSelection(s),s.startLineNumber===s.endLineNumber&&!(this._isMovingLeft&&s.startColumn===0)&&!(!this._isMovingLeft&&s.endColumn===model.getLineMaxColumn(s.startLineNumber))){var lineNumber=s.selectionStartLineNumber,lineContent=model.getLineContent(lineNumber),left,middle,right;this._isMovingLeft?(left=lineContent.substring(0,s.startColumn-2),middle=lineContent.substring(s.startColumn-1,s.endColumn-1),right=lineContent.substring(s.startColumn-2,s.startColumn-1)+lineContent.substring(s.endColumn-1)):(left=lineContent.substring(0,s.startColumn-1)+lineContent.substring(s.endColumn-1,s.endColumn),middle=lineContent.substring(s.startColumn-1,s.endColumn-1),right=lineContent.substring(s.endColumn));var newLineContent=left+middle+right;builder.addEditOperation(new range.a(lineNumber,1,lineNumber,model.getLineMaxColumn(lineNumber)),null),builder.addEditOperation(new range.a(lineNumber,1,lineNumber,1),newLineContent),this._cutStartIndex=s.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+s.endColumn-s.startColumn,this._moved=!0}},MoveCaretCommand.prototype.computeCursorState=function(model,helper){var result=helper.getTrackedSelection(this._selectionId);return this._moved&&(result=result.setStartPosition(result.startLineNumber,this._cutStartIndex),result=result.setEndPosition(result.startLineNumber,this._cutEndIndex)),result},MoveCaretCommand}(),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),caretOperations_MoveCaretAction=function(_super){__extends(MoveCaretAction,_super);function MoveCaretAction(left,opts){var _this=_super.call(this,opts)||this;return _this.left=left,_this}return MoveCaretAction.prototype.run=function(accessor,editor){if(editor.hasModel()){for(var commands=[],selections=editor.getSelections(),_i=0,selections_1=selections;_i<selections_1.length;_i++){var selection=selections_1[_i];commands.push(new moveCaretCommand_MoveCaretCommand(selection,this.left))}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}},MoveCaretAction}(editorExtensions.b),caretOperations_MoveCaretLeftAction=function(_super){__extends(MoveCaretLeftAction,_super);function MoveCaretLeftAction(){return _super.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:nls.a("caret.moveLeft","Move Caret Left"),alias:"Move Caret Left",precondition:editorContextKeys.a.writable})||this}return MoveCaretLeftAction}(caretOperations_MoveCaretAction),caretOperations_MoveCaretRightAction=function(_super){__extends(MoveCaretRightAction,_super);function MoveCaretRightAction(){return _super.call(this,!1,{id:"editor.action.moveCarretRightAction",label:nls.a("caret.moveRight","Move Caret Right"),alias:"Move Caret Right",precondition:editorContextKeys.a.writable})||this}return MoveCaretRightAction}(caretOperations_MoveCaretAction);Object(editorExtensions.f)(caretOperations_MoveCaretLeftAction),Object(editorExtensions.f)(caretOperations_MoveCaretRightAction)},2373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ContextMenuController",function(){return contextmenu_ContextMenuController});var nls=__webpack_require__(2069),dom=__webpack_require__(2124),actionbar=__webpack_require__(3239),lifecycle=__webpack_require__(2033),editorExtensions=__webpack_require__(2099),editorContextKeys=__webpack_require__(2632),common_actions=__webpack_require__(3164),contextkey=__webpack_require__(2238),contextView=__webpack_require__(3114),common_keybinding=__webpack_require__(2760),menu_menu=__webpack_require__(3870),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ContextSubMenu=function(_super){__extends(ContextSubMenu2,_super);function ContextSubMenu2(label,entries){var _this=_super.call(this,label,entries,"contextsubmenu")||this;return _this.entries=entries,_this}return ContextSubMenu2}(menu_menu.b),contextmenu_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},contextmenu_ContextMenuController=function(){function ContextMenuController(editor,_contextMenuService,_contextViewService,_contextKeyService,_keybindingService,_menuService){var _this=this;this._contextMenuService=_contextMenuService,this._contextViewService=_contextViewService,this._contextKeyService=_contextKeyService,this._keybindingService=_keybindingService,this._menuService=_menuService,this._toDispose=new lifecycle.b,this._contextMenuIsBeingShownCount=0,this._editor=editor,this._toDispose.add(this._editor.onContextMenu(function(e){return _this._onContextMenu(e)})),this._toDispose.add(this._editor.onMouseWheel(function(e){_this._contextMenuIsBeingShownCount>0&&_this._contextViewService.hideContextView()})),this._toDispose.add(this._editor.onKeyDown(function(e){e.keyCode===58&&(e.preventDefault(),e.stopPropagation(),_this.showContextMenu())}))}return ContextMenuController.get=function(editor){return editor.getContribution(ContextMenuController.ID)},ContextMenuController.prototype._onContextMenu=function(e){if(this._editor.hasModel()){if(!this._editor.getOption(13)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type!==12&&(e.event.preventDefault(),!(e.target.type!==6&&e.target.type!==7&&e.target.type!==1))){if(this._editor.focus(),e.target.position){for(var hasSelectionAtPosition=!1,_i=0,_a=this._editor.getSelections();_i<_a.length;_i++){var selection=_a[_i];if(selection.containsPosition(e.target.position)){hasSelectionAtPosition=!0;break}}hasSelectionAtPosition||this._editor.setPosition(e.target.position)}var anchor=null;e.target.type!==1&&(anchor={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(anchor)}}},ContextMenuController.prototype.showContextMenu=function(anchor){if(this._editor.getOption(13)&&this._editor.hasModel()){if(!this._contextMenuService){this._editor.focus();return}var menuActions=this._getMenuActions(this._editor.getModel(),7);menuActions.length>0&&this._doShowContextMenu(menuActions,anchor)}},ContextMenuController.prototype._getMenuActions=function(model,menuId){var result=[],menu=this._menuService.createMenu(menuId,this._contextKeyService),groups=menu.getActions({arg:model.uri});menu.dispose();for(var _i=0,groups_1=groups;_i<groups_1.length;_i++){for(var group=groups_1[_i],actions=group[1],addedItems=0,_a=0,actions_1=actions;_a<actions_1.length;_a++){var action=actions_1[_a];if(action instanceof common_actions.d){var subActions=this._getMenuActions(model,action.item.submenu);subActions.length>0&&(result.push(new ContextSubMenu(action.label,subActions)),addedItems++)}else result.push(action),addedItems++}addedItems&&result.push(new actionbar.d)}return result.length&&result.pop(),result},ContextMenuController.prototype._doShowContextMenu=function(actions,anchor){var _this=this;if(anchor===void 0&&(anchor=null),!!this._editor.hasModel()){var oldHoverSetting=this._editor.getOption(42);if(this._editor.updateOptions({hover:{enabled:!1}}),!anchor){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var cursorCoords=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),editorCoords=dom.B(this._editor.getDomNode()),posx=editorCoords.left+cursorCoords.left,posy=editorCoords.top+cursorCoords.top+cursorCoords.height;anchor={x:posx,y:posy}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return anchor},getActions:function(){return actions},getActionViewItem:function(action){var keybinding=_this._keybindingFor(action);if(keybinding)return new actionbar.b(action,action,{label:!0,keybinding:keybinding.getLabel(),isMenu:!0});var customActionViewItem=action;return typeof customActionViewItem.getActionViewItem=="function"?customActionViewItem.getActionViewItem():new actionbar.b(action,action,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(action){return _this._keybindingFor(action)},onHide:function(wasCancelled){_this._contextMenuIsBeingShownCount--,_this._editor.focus(),_this._editor.updateOptions({hover:oldHoverSetting})}})}},ContextMenuController.prototype._keybindingFor=function(action){return this._keybindingService.lookupKeybinding(action.id)},ContextMenuController.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()},ContextMenuController.ID="editor.contrib.contextmenu",ContextMenuController=__decorate([__param(1,contextView.a),__param(2,contextView.b),__param(3,contextkey.c),__param(4,common_keybinding.a),__param(5,common_actions.a)],ContextMenuController),ContextMenuController}(),contextmenu_ShowContextMenu=function(_super){contextmenu_extends(ShowContextMenu,_super);function ShowContextMenu(){return _super.call(this,{id:"editor.action.showContextMenu",label:nls.a("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:1092,weight:100}})||this}return ShowContextMenu.prototype.run=function(accessor,editor){var contribution=contextmenu_ContextMenuController.get(editor);contribution.showContextMenu()},ShowContextMenu}(editorExtensions.b);Object(editorExtensions.h)(contextmenu_ContextMenuController.ID,contextmenu_ContextMenuController),Object(editorExtensions.f)(contextmenu_ShowContextMenu)},2374:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DragAndDropController",function(){return dnd_DragAndDropController});var dnd=__webpack_require__(5754),lifecycle=__webpack_require__(2033),platform=__webpack_require__(2236),editorExtensions=__webpack_require__(2099),core_position=__webpack_require__(2233),range=__webpack_require__(2056),core_selection=__webpack_require__(2629),dragAndDropCommand_DragAndDropCommand=function(){function DragAndDropCommand(selection,targetPosition,copy){this.selection=selection,this.targetPosition=targetPosition,this.copy=copy,this.targetSelection=null}return DragAndDropCommand.prototype.getEditOperations=function(model,builder){var text=model.getValueInRange(this.selection);if(this.copy||builder.addEditOperation(this.selection,null),builder.addEditOperation(new range.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),text),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new core_selection.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new core_selection.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new core_selection.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new core_selection.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new core_selection.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)},DragAndDropCommand.prototype.computeCursorState=function(model,helper){return this.targetSelection},DragAndDropCommand}(),textModel=__webpack_require__(2720),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function hasTriggerModifier(e){return platform.e?e.altKey:e.ctrlKey}var dnd_DragAndDropController=function(_super){__extends(DragAndDropController,_super);function DragAndDropController(editor){var _this=_super.call(this)||this;return _this._editor=editor,_this._register(_this._editor.onMouseDown(function(e){return _this._onEditorMouseDown(e)})),_this._register(_this._editor.onMouseUp(function(e){return _this._onEditorMouseUp(e)})),_this._register(_this._editor.onMouseDrag(function(e){return _this._onEditorMouseDrag(e)})),_this._register(_this._editor.onMouseDrop(function(e){return _this._onEditorMouseDrop(e)})),_this._register(_this._editor.onKeyDown(function(e){return _this.onEditorKeyDown(e)})),_this._register(_this._editor.onKeyUp(function(e){return _this.onEditorKeyUp(e)})),_this._register(_this._editor.onDidBlurEditorWidget(function(){return _this.onEditorBlur()})),_this._dndDecorationIds=[],_this._mouseDown=!1,_this._modifierPressed=!1,_this._dragSelection=null,_this}return DragAndDropController.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},DragAndDropController.prototype.onEditorKeyDown=function(e){this._editor.getOption(23)&&(hasTriggerModifier(e)&&(this._modifierPressed=!0),this._mouseDown&&hasTriggerModifier(e)&&this._editor.updateOptions({mouseStyle:"copy"}))},DragAndDropController.prototype.onEditorKeyUp=function(e){this._editor.getOption(23)&&(hasTriggerModifier(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===DragAndDropController.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},DragAndDropController.prototype._onEditorMouseDown=function(mouseEvent){this._mouseDown=!0},DragAndDropController.prototype._onEditorMouseUp=function(mouseEvent){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},DragAndDropController.prototype._onEditorMouseDrag=function(mouseEvent){var target=mouseEvent.target;if(this._dragSelection===null){var selections=this._editor.getSelections()||[],possibleSelections=selections.filter(function(selection){return target.position&&selection.containsPosition(target.position)});if(possibleSelections.length===1)this._dragSelection=possibleSelections[0];else return}hasTriggerModifier(mouseEvent.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),target.position&&(this._dragSelection.containsPosition(target.position)?this._removeDecoration():this.showAt(target.position))},DragAndDropController.prototype._onEditorMouseDrop=function(mouseEvent){if(mouseEvent.target&&(this._hitContent(mouseEvent.target)||this._hitMargin(mouseEvent.target))&&mouseEvent.target.position){var newCursorPosition_1=new core_position.a(mouseEvent.target.position.lineNumber,mouseEvent.target.position.column);if(this._dragSelection===null){var newSelections=null;if(mouseEvent.event.shiftKey){var primarySelection=this._editor.getSelection();if(primarySelection){var selectionStartLineNumber=primarySelection.selectionStartLineNumber,selectionStartColumn=primarySelection.selectionStartColumn;newSelections=[new core_selection.a(selectionStartLineNumber,selectionStartColumn,newCursorPosition_1.lineNumber,newCursorPosition_1.column)]}}else newSelections=(this._editor.getSelections()||[]).map(function(selection){return selection.containsPosition(newCursorPosition_1)?new core_selection.a(newCursorPosition_1.lineNumber,newCursorPosition_1.column,newCursorPosition_1.lineNumber,newCursorPosition_1.column):selection});this._editor.setSelections(newSelections||[],"mouse")}else(!this._dragSelection.containsPosition(newCursorPosition_1)||(hasTriggerModifier(mouseEvent.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(newCursorPosition_1)||this._dragSelection.getStartPosition().equals(newCursorPosition_1)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(DragAndDropController.ID,new dragAndDropCommand_DragAndDropCommand(this._dragSelection,newCursorPosition_1,hasTriggerModifier(mouseEvent.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},DragAndDropController.prototype.showAt=function(position){var newDecorations=[{range:new range.a(position.lineNumber,position.column,position.lineNumber,position.column),options:DragAndDropController._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,newDecorations),this._editor.revealPosition(position,1)},DragAndDropController.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},DragAndDropController.prototype._hitContent=function(target){return target.type===6||target.type===7},DragAndDropController.prototype._hitMargin=function(target){return target.type===2||target.type===3||target.type===4},DragAndDropController.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,_super.prototype.dispose.call(this)},DragAndDropController.ID="editor.contrib.dragAndDrop",DragAndDropController.TRIGGER_KEY_VALUE=platform.e?6:5,DragAndDropController._DECORATION_OPTIONS=textModel.a.register({className:"dnd-target"}),DragAndDropController}(lifecycle.a);Object(editorExtensions.h)(dnd_DragAndDropController.ID,dnd_DragAndDropController)},2375:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2069),range=__webpack_require__(2056),core_selection=__webpack_require__(2629),editorContextKeys=__webpack_require__(2632),editorExtensions=__webpack_require__(2099),editorWorkerService=__webpack_require__(3166),inPlaceReplaceCommand_InPlaceReplaceCommand=function(){function InPlaceReplaceCommand(editRange,originalSelection,text){this._editRange=editRange,this._originalSelection=originalSelection,this._text=text}return InPlaceReplaceCommand.prototype.getEditOperations=function(model,builder){builder.addTrackedEditOperation(this._editRange,this._text)},InPlaceReplaceCommand.prototype.computeCursorState=function(model,helper){var inverseEditOperations=helper.getInverseEditOperations(),srcRange=inverseEditOperations[0].range;return this._originalSelection.isEmpty()?new core_selection.a(srcRange.endLineNumber,Math.min(this._originalSelection.positionColumn,srcRange.endColumn),srcRange.endLineNumber,Math.min(this._originalSelection.positionColumn,srcRange.endColumn)):new core_selection.a(srcRange.endLineNumber,srcRange.endColumn-this._text.length,srcRange.endLineNumber,srcRange.endColumn)},InPlaceReplaceCommand}(),editorState=__webpack_require__(3177),themeService=__webpack_require__(2235),editorColorRegistry=__webpack_require__(2804),textModel=__webpack_require__(2720),common_async=__webpack_require__(2237),errors=__webpack_require__(2176),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},inPlaceReplace_InPlaceReplaceController=function(){function InPlaceReplaceController(editor,editorWorkerService2){this.decorationIds=[],this.editor=editor,this.editorWorkerService=editorWorkerService2}return InPlaceReplaceController.get=function(editor){return editor.getContribution(InPlaceReplaceController.ID)},InPlaceReplaceController.prototype.dispose=function(){},InPlaceReplaceController.prototype.run=function(source,up){var _this=this;this.currentRequest&&this.currentRequest.cancel();var editorSelection=this.editor.getSelection(),model=this.editor.getModel();if(!(!model||!editorSelection)){var selection=editorSelection;if(selection.startLineNumber===selection.endLineNumber){var state=new editorState.a(this.editor,5),modelURI=model.uri;return this.editorWorkerService.canNavigateValueSet(modelURI)?(this.currentRequest=Object(common_async.f)(function(token){return _this.editorWorkerService.navigateValueSet(modelURI,selection,up)}),this.currentRequest.then(function(result){if(!(!result||!result.range||!result.value)&&state.validate(_this.editor)){var editRange=range.a.lift(result.range),highlightRange=result.range,diff=result.value.length-(selection.endColumn-selection.startColumn);highlightRange={startLineNumber:highlightRange.startLineNumber,startColumn:highlightRange.startColumn,endLineNumber:highlightRange.endLineNumber,endColumn:highlightRange.startColumn+result.value.length},diff>1&&(selection=new core_selection.a(selection.startLineNumber,selection.startColumn,selection.endLineNumber,selection.endColumn+diff-1));var command=new inPlaceReplaceCommand_InPlaceReplaceCommand(editRange,selection,result.value);_this.editor.pushUndoStop(),_this.editor.executeCommand(source,command),_this.editor.pushUndoStop(),_this.decorationIds=_this.editor.deltaDecorations(_this.decorationIds,[{range:highlightRange,options:InPlaceReplaceController.DECORATION}]),_this.decorationRemover&&_this.decorationRemover.cancel(),_this.decorationRemover=Object(common_async.l)(350),_this.decorationRemover.then(function(){return _this.decorationIds=_this.editor.deltaDecorations(_this.decorationIds,[])}).catch(errors.e)}}).catch(errors.e)):Promise.resolve(void 0)}}},InPlaceReplaceController.ID="editor.contrib.inPlaceReplaceController",InPlaceReplaceController.DECORATION=textModel.a.register({className:"valueSetReplacement"}),InPlaceReplaceController=__decorate([__param(1,editorWorkerService.a)],InPlaceReplaceController),InPlaceReplaceController}(),inPlaceReplace_InPlaceReplaceUp=function(_super){__extends(InPlaceReplaceUp,_super);function InPlaceReplaceUp(){return _super.call(this,{id:"editor.action.inPlaceReplace.up",label:nls.a("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3154,weight:100}})||this}return InPlaceReplaceUp.prototype.run=function(accessor,editor){var controller=inPlaceReplace_InPlaceReplaceController.get(editor);return controller?controller.run(this.id,!0):Promise.resolve(void 0)},InPlaceReplaceUp}(editorExtensions.b),inPlaceReplace_InPlaceReplaceDown=function(_super){__extends(InPlaceReplaceDown,_super);function InPlaceReplaceDown(){return _super.call(this,{id:"editor.action.inPlaceReplace.down",label:nls.a("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3156,weight:100}})||this}return InPlaceReplaceDown.prototype.run=function(accessor,editor){var controller=inPlaceReplace_InPlaceReplaceController.get(editor);return controller?controller.run(this.id,!1):Promise.resolve(void 0)},InPlaceReplaceDown}(editorExtensions.b);Object(editorExtensions.h)(inPlaceReplace_InPlaceReplaceController.ID,inPlaceReplace_InPlaceReplaceController),Object(editorExtensions.f)(inPlaceReplace_InPlaceReplaceUp),Object(editorExtensions.f)(inPlaceReplace_InPlaceReplaceDown),Object(themeService.e)(function(theme,collector){var border=theme.getColor(editorColorRegistry.d);border&&collector.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+border+"; }")})},2376:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var links_links=__webpack_require__(5796),nls=__webpack_require__(2069),common_async=__webpack_require__(2237),cancellation=__webpack_require__(2649),errors=__webpack_require__(2176),htmlContent=__webpack_require__(3241),lifecycle=__webpack_require__(2033),platform=__webpack_require__(2236),editorExtensions=__webpack_require__(2099),textModel=__webpack_require__(2720),modes=__webpack_require__(2240),link_clickLinkGesture=__webpack_require__(3882),common_uri=__webpack_require__(2640),range=__webpack_require__(2056),modelService=__webpack_require__(2817),commands=__webpack_require__(2733),arrays=__webpack_require__(2389),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},Link=function(){function Link2(link,provider){this._link=link,this._provider=provider}return Link2.prototype.toJSON=function(){return{range:this.range,url:this.url,tooltip:this.tooltip}},Object.defineProperty(Link2.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(Link2.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),Object.defineProperty(Link2.prototype,"tooltip",{get:function(){return this._link.tooltip},enumerable:!0,configurable:!0}),Link2.prototype.resolve=function(token){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return this._link.url?[2,this._link.url]:typeof this._provider.resolveLink=="function"?[2,Promise.resolve(this._provider.resolveLink(this._link,token)).then(function(value){return _this._link=value||_this._link,_this._link.url?_this.resolve(token):Promise.reject(new Error("missing"))})]:[2,Promise.reject(new Error("missing"))]})})},Link2}(),getLinks_LinksList=function(_super){__extends(LinksList,_super);function LinksList(tuples){for(var _this=_super.call(this)||this,links=[],_loop_1=function(list2,provider2){var newLinks=list2.links.map(function(link){return new Link(link,provider2)});links=LinksList._union(links,newLinks),Object(lifecycle.g)(provider2)&&this_1._register(provider2)},this_1=this,_i=0,tuples_1=tuples;_i<tuples_1.length;_i++){var _a=tuples_1[_i],list=_a[0],provider=_a[1];_loop_1(list,provider)}return _this.links=links,_this}return LinksList._union=function(oldLinks,newLinks){var result=[],oldIndex,oldLen,newIndex,newLen;for(oldIndex=0,newIndex=0,oldLen=oldLinks.length,newLen=newLinks.length;oldIndex<oldLen&&newIndex<newLen;){var oldLink=oldLinks[oldIndex],newLink=newLinks[newIndex];if(range.a.areIntersectingOrTouching(oldLink.range,newLink.range)){oldIndex++;continue}var comparisonResult=range.a.compareRangesUsingStarts(oldLink.range,newLink.range);comparisonResult<0?(result.push(oldLink),oldIndex++):(result.push(newLink),newIndex++)}for(;oldIndex<oldLen;oldIndex++)result.push(oldLinks[oldIndex]);for(;newIndex<newLen;newIndex++)result.push(newLinks[newIndex]);return result},LinksList}(lifecycle.a);function getLinks(model,token){var lists=[],promises=modes.q.ordered(model).reverse().map(function(provider,i){return Promise.resolve(provider.provideLinks(model,token)).then(function(result){result&&(lists[i]=[result,provider])},errors.f)});return Promise.all(promises).then(function(){var result=new getLinks_LinksList(Object(arrays.d)(lists));return token.isCancellationRequested?(result.dispose(),new getLinks_LinksList([])):result})}commands.a.registerCommand("_executeLinkProvider",function(accessor){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return __awaiter(void 0,void 0,void 0,function(){var uri,model,list,result;return __generator(this,function(_a){switch(_a.label){case 0:return uri=args[0],uri instanceof common_uri.a?(model=accessor.get(modelService.a).getModel(uri),model?[4,getLinks(model,cancellation.a.None)]:[2,[]]):[2,[]];case 1:return list=_a.sent(),list?(result=list.links.slice(0),list.dispose(),[2,result]):[2,[]]}})})});var notification=__webpack_require__(2761),common_opener=__webpack_require__(2850),colorRegistry=__webpack_require__(2623),themeService=__webpack_require__(2235),links_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},links_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},links_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}};function getHoverMessage(link,useMetaKey){var executeCmd=link.url&&/^command:/i.test(link.url.toString()),label=link.tooltip?link.tooltip:executeCmd?nls.a("links.navigate.executeCmd","Execute command"):nls.a("links.navigate.follow","Follow link"),kb=useMetaKey?platform.e?nls.a("links.navigate.kb.meta.mac","cmd + click"):nls.a("links.navigate.kb.meta","ctrl + click"):platform.e?nls.a("links.navigate.kb.alt.mac","option + click"):nls.a("links.navigate.kb.alt","alt + click");if(link.url){var hoverMessage=new htmlContent.a("",!0).appendMarkdown("["+label+"]("+link.url.toString()+") ("+kb+")");return hoverMessage}else return new htmlContent.a().appendText(label+" ("+kb+")")}var decoration={general:textModel.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:textModel.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},LinkOccurrence=function(){function LinkOccurrence2(link,decorationId){this.link=link,this.decorationId=decorationId}return LinkOccurrence2.decoration=function(link,useMetaKey){return{range:link.range,options:LinkOccurrence2._getOptions(link,useMetaKey,!1)}},LinkOccurrence2._getOptions=function(link,useMetaKey,isActive){var options=__assign({},isActive?decoration.active:decoration.general);return options.hoverMessage=getHoverMessage(link,useMetaKey),options},LinkOccurrence2.prototype.activate=function(changeAccessor,useMetaKey){changeAccessor.changeDecorationOptions(this.decorationId,LinkOccurrence2._getOptions(this.link,useMetaKey,!0))},LinkOccurrence2.prototype.deactivate=function(changeAccessor,useMetaKey){changeAccessor.changeDecorationOptions(this.decorationId,LinkOccurrence2._getOptions(this.link,useMetaKey,!1))},LinkOccurrence2}(),links_LinkDetector=function(){function LinkDetector(editor,openerService,notificationService){var _this=this;this.listenersToRemove=new lifecycle.b,this.editor=editor,this.openerService=openerService,this.notificationService=notificationService;var clickLinkGesture=new link_clickLinkGesture.a(editor);this.listenersToRemove.add(clickLinkGesture),this.listenersToRemove.add(clickLinkGesture.onMouseMoveOrRelevantKeyDown(function(_a){var mouseEvent=_a[0],keyboardEvent=_a[1];_this._onEditorMouseMove(mouseEvent,keyboardEvent)})),this.listenersToRemove.add(clickLinkGesture.onExecute(function(e){_this.onEditorMouseUp(e)})),this.listenersToRemove.add(clickLinkGesture.onCancel(function(e){_this.cleanUpActiveLinkDecoration()})),this.enabled=editor.getOption(50),this.listenersToRemove.add(editor.onDidChangeConfiguration(function(e){var enabled=editor.getOption(50);_this.enabled!==enabled&&(_this.enabled=enabled,_this.updateDecorations([]),_this.stop(),_this.beginCompute())})),this.listenersToRemove.add(editor.onDidChangeModelContent(function(e){return _this.onChange()})),this.listenersToRemove.add(editor.onDidChangeModel(function(e){return _this.onModelChanged()})),this.listenersToRemove.add(editor.onDidChangeModelLanguage(function(e){return _this.onModelModeChanged()})),this.listenersToRemove.add(modes.q.onDidChange(function(e){return _this.onModelModeChanged()})),this.timeout=new common_async.e,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return LinkDetector.get=function(editor){return editor.getContribution(LinkDetector.ID)},LinkDetector.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},LinkDetector.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},LinkDetector.prototype.onChange=function(){var _this=this;this.timeout.setIfNotSet(function(){return _this.beginCompute()},LinkDetector.RECOMPUTE_TIME)},LinkDetector.prototype.beginCompute=function(){return links_awaiter(this,void 0,void 0,function(){var model,_a,err_1;return links_generator(this,function(_b){switch(_b.label){case 0:if(!this.editor.hasModel()||!this.enabled)return[2];if(model=this.editor.getModel(),!modes.q.has(model))return[2];this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=common_async.f(function(token){return getLinks(model,token)}),_b.label=1;case 1:return _b.trys.push([1,3,4,5]),_a=this,[4,this.computePromise];case 2:return _a.activeLinksList=_b.sent(),this.updateDecorations(this.activeLinksList.links),[3,5];case 3:return err_1=_b.sent(),Object(errors.e)(err_1),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}})})},LinkDetector.prototype.updateDecorations=function(links){for(var useMetaKey=this.editor.getOption(57)==="altKey",oldDecorations=[],keys=Object.keys(this.currentOccurrences),i=0,len=keys.length;i<len;i++){var decorationId=keys[i],occurance=this.currentOccurrences[decorationId];oldDecorations.push(occurance.decorationId)}var newDecorations=[];if(links)for(var _i=0,links_1=links;_i<links_1.length;_i++){var link=links_1[_i];newDecorations.push(LinkOccurrence.decoration(link,useMetaKey))}var decorations=this.editor.deltaDecorations(oldDecorations,newDecorations);this.currentOccurrences={},this.activeLinkDecorationId=null;for(var i=0,len=decorations.length;i<len;i++){var occurance=new LinkOccurrence(links[i],decorations[i]);this.currentOccurrences[occurance.decorationId]=occurance}},LinkDetector.prototype._onEditorMouseMove=function(mouseEvent,withKey){var _this=this,useMetaKey=this.editor.getOption(57)==="altKey";if(this.isEnabled(mouseEvent,withKey)){this.cleanUpActiveLinkDecoration();var occurrence_1=this.getLinkOccurrence(mouseEvent.target.position);occurrence_1&&this.editor.changeDecorations(function(changeAccessor){occurrence_1.activate(changeAccessor,useMetaKey),_this.activeLinkDecorationId=occurrence_1.decorationId})}else this.cleanUpActiveLinkDecoration()},LinkDetector.prototype.cleanUpActiveLinkDecoration=function(){var useMetaKey=this.editor.getOption(57)==="altKey";if(this.activeLinkDecorationId){var occurrence_2=this.currentOccurrences[this.activeLinkDecorationId];occurrence_2&&this.editor.changeDecorations(function(changeAccessor){occurrence_2.deactivate(changeAccessor,useMetaKey)}),this.activeLinkDecorationId=null}},LinkDetector.prototype.onEditorMouseUp=function(mouseEvent){if(this.isEnabled(mouseEvent)){var occurrence=this.getLinkOccurrence(mouseEvent.target.position);occurrence&&this.openLinkOccurrence(occurrence,mouseEvent.hasSideBySideModifier,!0)}},LinkDetector.prototype.openLinkOccurrence=function(occurrence,openToSide,fromUserGesture){var _this=this;if(fromUserGesture===void 0&&(fromUserGesture=!1),!!this.openerService){var link=occurrence.link;link.resolve(cancellation.a.None).then(function(uri){return _this.openerService.open(uri,{openToSide,fromUserGesture})},function(err){var messageOrError=err instanceof Error?err.message:err;messageOrError==="invalid"?_this.notificationService.warn(nls.a("invalid.url","Failed to open this link because it is not well-formed: {0}",link.url.toString())):messageOrError==="missing"?_this.notificationService.warn(nls.a("missing.url","Failed to open this link because its target is missing.")):Object(errors.e)(err)})}},LinkDetector.prototype.getLinkOccurrence=function(position){if(!this.editor.hasModel()||!position)return null;for(var decorations=this.editor.getModel().getDecorationsInRange({startLineNumber:position.lineNumber,startColumn:position.column,endLineNumber:position.lineNumber,endColumn:position.column},0,!0),_i=0,decorations_1=decorations;_i<decorations_1.length;_i++){var decoration_1=decorations_1[_i],currentOccurrence=this.currentOccurrences[decoration_1.id];if(currentOccurrence)return currentOccurrence}return null},LinkDetector.prototype.isEnabled=function(mouseEvent,withKey){return!!(mouseEvent.target.type===6&&(mouseEvent.hasTriggerModifier||withKey&&withKey.keyCodeIsTriggerKey))},LinkDetector.prototype.stop=function(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},LinkDetector.prototype.dispose=function(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()},LinkDetector.ID="editor.linkDetector",LinkDetector.RECOMPUTE_TIME=1e3,LinkDetector=__decorate([__param(1,common_opener.a),__param(2,notification.a)],LinkDetector),LinkDetector}(),links_OpenLinkAction=function(_super){links_extends(OpenLinkAction,_super);function OpenLinkAction(){return _super.call(this,{id:"editor.action.openLink",label:nls.a("label","Open Link"),alias:"Open Link",precondition:void 0})||this}return OpenLinkAction.prototype.run=function(accessor,editor){var linkDetector=links_LinkDetector.get(editor);if(linkDetector&&editor.hasModel())for(var selections=editor.getSelections(),_i=0,selections_1=selections;_i<selections_1.length;_i++){var sel=selections_1[_i],link=linkDetector.getLinkOccurrence(sel.getEndPosition());link&&linkDetector.openLinkOccurrence(link,!1)}},OpenLinkAction}(editorExtensions.b);Object(editorExtensions.h)(links_LinkDetector.ID,links_LinkDetector),Object(editorExtensions.f)(links_OpenLinkAction),Object(themeService.e)(function(theme,collector){var activeLinkForeground=theme.getColor(colorRegistry.n);activeLinkForeground&&collector.addRule(".monaco-editor .detected-link-active { color: "+activeLinkForeground+" !important; }")})},2377:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"rename",function(){return rename}),__webpack_require__.d(__webpack_exports__,"RenameAction",function(){return rename_RenameAction});var nls=__webpack_require__(2069),errors=__webpack_require__(2176),contextkey=__webpack_require__(2238),progress=__webpack_require__(3194),editorExtensions=__webpack_require__(2099),editorContextKeys=__webpack_require__(2632),renameInputField=__webpack_require__(5801),lifecycle=__webpack_require__(2033),core_position=__webpack_require__(2233),range=__webpack_require__(2056),colorRegistry=__webpack_require__(2623),CONTEXT_RENAME_INPUT_VISIBLE=new contextkey.d("renameInputVisible",!1),renameInputField_RenameInputField=function(){function RenameInputField(editor,themeService,contextKeyService){var _this=this;this.themeService=themeService,this._disposables=new lifecycle.b,this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._visibleContextKey=CONTEXT_RENAME_INPUT_VISIBLE.bindTo(contextKeyService),this._editor=editor,this._editor.addContentWidget(this),this._disposables.add(editor.onDidChangeConfiguration(function(e){e.hasChanged(32)&&_this.updateFont()})),this._disposables.add(themeService.onThemeChange(function(theme){return _this.onThemeChange(theme)}))}return RenameInputField.prototype.onThemeChange=function(theme){this.updateStyles(theme)},RenameInputField.prototype.dispose=function(){this._disposables.dispose(),this._editor.removeContentWidget(this)},RenameInputField.prototype.getId=function(){return"__renameInputWidget"},RenameInputField.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",Object(nls.a)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getOption(47)+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField),this.updateFont(),this.updateStyles(this.themeService.getTheme())),this._domNode},RenameInputField.prototype.updateStyles=function(theme){if(this._inputField){var background=theme.getColor(colorRegistry.Z),foreground=theme.getColor(colorRegistry.bb),widgetShadowColor=theme.getColor(colorRegistry.gc),border=theme.getColor(colorRegistry.ab);this._inputField.style.backgroundColor=background?background.toString():"",this._inputField.style.color=foreground?foreground.toString():null,this._inputField.style.borderWidth=border?"1px":"0px",this._inputField.style.borderStyle=border?"solid":"none",this._inputField.style.borderColor=border?border.toString():"none",this._domNode.style.boxShadow=widgetShadowColor?" 0 2px 8px "+widgetShadowColor:""}},RenameInputField.prototype.updateFont=function(){if(this._inputField){var fontInfo=this._editor.getOption(32);this._inputField.style.fontFamily=fontInfo.fontFamily,this._inputField.style.fontWeight=fontInfo.fontWeight,this._inputField.style.fontSize=fontInfo.fontSize+"px"}},RenameInputField.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[2,1]}:null},RenameInputField.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},RenameInputField.prototype.cancelInput=function(focusEditor){this._currentCancelInput&&this._currentCancelInput(focusEditor)},RenameInputField.prototype.getInput=function(where,value,selectionStart,selectionEnd){var _this=this;this._position=new core_position.a(where.startLineNumber,where.startColumn),this._inputField.value=value,this._inputField.setAttribute("selectionStart",selectionStart.toString()),this._inputField.setAttribute("selectionEnd",selectionEnd.toString()),this._inputField.size=Math.max((where.endColumn-where.startColumn)*1.1,20);var disposeOnDone=new lifecycle.b,always=function(){disposeOnDone.dispose(),_this._hide()};return new Promise(function(resolve){_this._currentCancelInput=function(focusEditor){return _this._currentAcceptInput=null,_this._currentCancelInput=null,resolve(focusEditor),!0},_this._currentAcceptInput=function(){if(_this._inputField.value.trim().length===0||_this._inputField.value===value){_this.cancelInput(!0);return}_this._currentAcceptInput=null,_this._currentCancelInput=null,resolve(_this._inputField.value)};var onCursorChanged=function(){var editorPosition=_this._editor.getPosition();(!editorPosition||!range.a.containsPosition(where,editorPosition))&&_this.cancelInput(!0)};disposeOnDone.add(_this._editor.onDidChangeCursorSelection(onCursorChanged)),disposeOnDone.add(_this._editor.onDidBlurEditorWidget(function(){return _this.cancelInput(!1)})),_this._show()}).then(function(newValue){return always(),newValue},function(err){return always(),Promise.reject(err)})},RenameInputField.prototype._show=function(){var _this=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(function(){_this._inputField.focus(),_this._inputField.setSelectionRange(parseInt(_this._inputField.getAttribute("selectionStart")),parseInt(_this._inputField.getAttribute("selectionEnd")))},100)},RenameInputField.prototype._hide=function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)},RenameInputField}(),common_themeService=__webpack_require__(2235),modes=__webpack_require__(2240),aria=__webpack_require__(2815),messageController=__webpack_require__(3371),editorState=__webpack_require__(3177),notification=__webpack_require__(2761),bulkEditService=__webpack_require__(3497),common_uri=__webpack_require__(2640),codeEditorService=__webpack_require__(2732),cancellation=__webpack_require__(2649),common_async=__webpack_require__(2237),types=__webpack_require__(2631),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},rename_RenameSkeleton=function(){function RenameSkeleton(model,position){this.model=model,this.position=position,this._providers=modes.t.ordered(model)}return RenameSkeleton.prototype.hasProvider=function(){return this._providers.length>0},RenameSkeleton.prototype.resolveRenameLocation=function(token){return __awaiter(this,void 0,void 0,function(){var firstProvider,res,_a,word;return __generator(this,function(_b){switch(_b.label){case 0:return firstProvider=this._providers[0],firstProvider?firstProvider.resolveRenameLocation?(_a=types.n,[4,firstProvider.resolveRenameLocation(this.model,this.position,token)]):[3,2]:[2,void 0];case 1:res=_a.apply(void 0,[_b.sent()]),_b.label=2;case 2:return!res&&(word=this.model.getWordAtPosition(this.position),word)?[2,{range:new range.a(this.position.lineNumber,word.startColumn,this.position.lineNumber,word.endColumn),text:word.word}]:[2,res]}})})},RenameSkeleton.prototype.provideRenameEdits=function(newName,i,rejects,token){return __awaiter(this,void 0,void 0,function(){var provider,result;return __generator(this,function(_a){switch(_a.label){case 0:return provider=this._providers[i],provider?[4,provider.provideRenameEdits(this.model,this.position,newName,token)]:[2,{edits:[],rejectReason:rejects.join(`
`)}];case 1:if(result=_a.sent(),result){if(result.rejectReason)return[2,this.provideRenameEdits(newName,i+1,rejects.concat(result.rejectReason),token)]}else return[2,this.provideRenameEdits(newName,i+1,rejects.concat(nls.a("no result","No result.")),token)];return[2,result]}})})},RenameSkeleton}();function rename(model,position,newName){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,new rename_RenameSkeleton(model,position).provideRenameEdits(newName,0,[],cancellation.a.None)]})})}var rename_RenameController=function(){function RenameController(editor,_notificationService,_bulkEditService,_progressService,_contextKeyService,_themeService){var _this=this;this.editor=editor,this._notificationService=_notificationService,this._bulkEditService=_bulkEditService,this._progressService=_progressService,this._contextKeyService=_contextKeyService,this._themeService=_themeService,this._dispoableStore=new lifecycle.b,this._cts=new cancellation.b,this._renameInputField=new common_async.b(function(){return _this._dispoableStore.add(new renameInputField_RenameInputField(_this.editor,_this._themeService,_this._contextKeyService))})}return RenameController.get=function(editor){return editor.getContribution(RenameController.ID)},RenameController.prototype.dispose=function(){this._dispoableStore.dispose(),this._cts.dispose(!0)},RenameController.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var position,skeleton,loc,resolveLocationOperation,e_1,selection,selectionStart,selectionEnd,newNameOrFocusFlag,renameOperation,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:if(this._cts.dispose(!0),!this.editor.hasModel())return[2,void 0];if(position=this.editor.getPosition(),skeleton=new rename_RenameSkeleton(this.editor.getModel(),position),!skeleton.hasProvider())return[2,void 0];this._cts=new editorState.b(this.editor,5),_a.label=1;case 1:return _a.trys.push([1,3,,4]),resolveLocationOperation=skeleton.resolveRenameLocation(this._cts.token),this._progressService.showWhile(resolveLocationOperation,250),[4,resolveLocationOperation];case 2:return loc=_a.sent(),[3,4];case 3:return e_1=_a.sent(),messageController.a.get(this.editor).showMessage(e_1||nls.a("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),position),[2,void 0];case 4:return loc?loc.rejectReason?(messageController.a.get(this.editor).showMessage(loc.rejectReason,position),[2,void 0]):this._cts.token.isCancellationRequested?[2,void 0]:(selection=this.editor.getSelection(),selectionStart=0,selectionEnd=loc.text.length,!range.a.isEmpty(selection)&&!range.a.spansMultipleLines(selection)&&range.a.containsRange(loc.range,selection)&&(selectionStart=Math.max(0,selection.startColumn-loc.range.startColumn),selectionEnd=Math.min(loc.range.endColumn,selection.endColumn)-loc.range.startColumn),[4,this._renameInputField.getValue().getInput(loc.range,loc.text,selectionStart,selectionEnd)]):[2,void 0];case 5:return newNameOrFocusFlag=_a.sent(),typeof newNameOrFocusFlag=="boolean"?(newNameOrFocusFlag&&this.editor.focus(),[2,void 0]):(this.editor.focus(),renameOperation=Object(common_async.j)(skeleton.provideRenameEdits(newNameOrFocusFlag,0,[],this._cts.token),this._cts.token).then(function(renameResult){return __awaiter(_this,void 0,void 0,function(){var editResult;return __generator(this,function(_a2){switch(_a2.label){case 0:return!renameResult||!this.editor.hasModel()?[2]:renameResult.rejectReason?(this._notificationService.info(renameResult.rejectReason),[2]):[4,this._bulkEditService.apply(renameResult,{editor:this.editor})];case 1:return editResult=_a2.sent(),editResult.ariaSummary&&Object(aria.a)(nls.a("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",loc.text,newNameOrFocusFlag,editResult.ariaSummary)),[2]}})})},function(err){return _this._notificationService.error(nls.a("rename.failed","Rename failed to execute.")),Promise.reject(err)}),this._progressService.showWhile(renameOperation,250),[2,renameOperation])}})})},RenameController.prototype.acceptRenameInput=function(){this._renameInputField.getValue().acceptInput()},RenameController.prototype.cancelRenameInput=function(){this._renameInputField.getValue().cancelInput(!0)},RenameController.ID="editor.contrib.renameController",RenameController=__decorate([__param(1,notification.a),__param(2,bulkEditService.a),__param(3,progress.a),__param(4,contextkey.c),__param(5,common_themeService.c)],RenameController),RenameController}(),rename_RenameAction=function(_super){__extends(RenameAction,_super);function RenameAction(){return _super.call(this,{id:"editor.action.rename",label:nls.a("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasRenameProvider),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})||this}return RenameAction.prototype.runCommand=function(accessor,args){var _this=this,editorService=accessor.get(codeEditorService.a),_a=Array.isArray(args)&&args||[void 0,void 0],uri=_a[0],pos=_a[1];return common_uri.a.isUri(uri)&&core_position.a.isIPosition(pos)?editorService.openCodeEditor({resource:uri},editorService.getActiveCodeEditor()).then(function(editor){editor&&(editor.setPosition(pos),editor.invokeWithinContext(function(accessor2){return _this.reportTelemetry(accessor2,editor),_this.run(accessor2,editor)}))},errors.e):_super.prototype.runCommand.call(this,accessor,args)},RenameAction.prototype.run=function(accessor,editor){var controller=rename_RenameController.get(editor);return controller?controller.run():Promise.resolve()},RenameAction}(editorExtensions.b);Object(editorExtensions.h)(rename_RenameController.ID,rename_RenameController),Object(editorExtensions.f)(rename_RenameAction);var RenameCommand=editorExtensions.c.bindToContribution(rename_RenameController.get);Object(editorExtensions.g)(new RenameCommand({id:"acceptRenameInput",precondition:CONTEXT_RENAME_INPUT_VISIBLE,handler:function(x){return x.acceptRenameInput()},kbOpts:{weight:100+99,kbExpr:editorContextKeys.a.focus,primary:3}})),Object(editorExtensions.g)(new RenameCommand({id:"cancelRenameInput",precondition:CONTEXT_RENAME_INPUT_VISIBLE,handler:function(x){return x.cancelRenameInput()},kbOpts:{weight:100+99,kbExpr:editorContextKeys.a.focus,primary:9,secondary:[1033]}})),Object(editorExtensions.e)("_executeDocumentRenameProvider",function(model,position,args){var newName=args.newName;if(typeof newName!="string")throw Object(errors.b)("newName");return rename(model,position,newName)})},2378:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"provideSelectionRanges",function(){return provideSelectionRanges});var arrays=__webpack_require__(2389),cancellation=__webpack_require__(2649),editorExtensions=__webpack_require__(2099),position=__webpack_require__(2233),core_range=__webpack_require__(2056),selection=__webpack_require__(2629),editorContextKeys=__webpack_require__(2632),modes=__webpack_require__(2240),nls=__webpack_require__(2069),lifecycle=__webpack_require__(2033),strings=__webpack_require__(2123),wordSelections_WordSelectionRangeProvider=function(){function WordSelectionRangeProvider(){}return WordSelectionRangeProvider.prototype.provideSelectionRanges=function(model,positions){for(var result=[],_i=0,positions_1=positions;_i<positions_1.length;_i++){var position2=positions_1[_i],bucket=[];result.push(bucket),this._addInWordRanges(bucket,model,position2),this._addWordRanges(bucket,model,position2),this._addWhitespaceLine(bucket,model,position2),bucket.push({range:model.getFullModelRange()})}return result},WordSelectionRangeProvider.prototype._addInWordRanges=function(bucket,model,pos){var obj=model.getWordAtPosition(pos);if(obj){for(var word=obj.word,startColumn=obj.startColumn,offset=pos.column-startColumn,start=offset,end=offset,lastCh=0;start>=0;start--){var ch=word.charCodeAt(start);if(ch===95||ch===45)break;if(Object(strings.C)(ch)&&Object(strings.D)(lastCh))break;lastCh=ch}for(start+=1;end<word.length;end++){var ch=word.charCodeAt(end);if(Object(strings.D)(ch)&&Object(strings.C)(lastCh))break;if(ch===95||ch===45)break;lastCh=ch}start<end&&bucket.push({range:new core_range.a(pos.lineNumber,startColumn+start,pos.lineNumber,startColumn+end)})}},WordSelectionRangeProvider.prototype._addWordRanges=function(bucket,model,pos){var word=model.getWordAtPosition(pos);word&&bucket.push({range:new core_range.a(pos.lineNumber,word.startColumn,pos.lineNumber,word.endColumn)})},WordSelectionRangeProvider.prototype._addWhitespaceLine=function(bucket,model,pos){model.getLineLength(pos.lineNumber)>0&&model.getLineFirstNonWhitespaceColumn(pos.lineNumber)===0&&model.getLineLastNonWhitespaceColumn(pos.lineNumber)===0&&bucket.push({range:new core_range.a(pos.lineNumber,1,pos.lineNumber,model.getLineMaxColumn(pos.lineNumber))})},WordSelectionRangeProvider}(),bracketSelections=__webpack_require__(3886),commands=__webpack_require__(2733),errors=__webpack_require__(2176),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},SelectionRanges=function(){function SelectionRanges2(index,ranges){this.index=index,this.ranges=ranges}return SelectionRanges2.prototype.mov=function(fwd){var index=this.index+(fwd?1:-1);if(index<0||index>=this.ranges.length)return this;var res=new SelectionRanges2(index,this.ranges);return res.ranges[index].equalsRange(this.ranges[this.index])?res.mov(fwd):res},SelectionRanges2}(),smartSelect_SmartSelectController=function(){function SmartSelectController(editor){this._ignoreSelection=!1,this._editor=editor}return SmartSelectController.get=function(editor){return editor.getContribution(SmartSelectController.ID)},SmartSelectController.prototype.dispose=function(){Object(lifecycle.f)(this._selectionListener)},SmartSelectController.prototype.run=function(forward){var _this=this;if(this._editor.hasModel()){var selections=this._editor.getSelections(),model=this._editor.getModel();if(modes.u.has(model)){var promise=Promise.resolve(void 0);return this._state||(promise=provideSelectionRanges(model,selections.map(function(s){return s.getPosition()}),cancellation.a.None).then(function(ranges){if(!(!arrays.q(ranges)||ranges.length!==selections.length)&&!(!_this._editor.hasModel()||!arrays.g(_this._editor.getSelections(),selections,function(a,b){return a.equalsSelection(b)}))){for(var _loop_1=function(i2){ranges[i2]=ranges[i2].filter(function(range){return range.containsPosition(selections[i2].getStartPosition())&&range.containsPosition(selections[i2].getEndPosition())}),ranges[i2].unshift(selections[i2])},i=0;i<ranges.length;i++)_loop_1(i);_this._state=ranges.map(function(ranges2){return new SelectionRanges(0,ranges2)}),Object(lifecycle.f)(_this._selectionListener),_this._selectionListener=_this._editor.onDidChangeCursorPosition(function(){_this._ignoreSelection||(Object(lifecycle.f)(_this._selectionListener),_this._state=void 0)})}})),promise.then(function(){if(_this._state){_this._state=_this._state.map(function(state){return state.mov(forward)});var selections2=_this._state.map(function(state){return selection.a.fromPositions(state.ranges[state.index].getStartPosition(),state.ranges[state.index].getEndPosition())});_this._ignoreSelection=!0;try{_this._editor.setSelections(selections2)}finally{_this._ignoreSelection=!1}}})}}},SmartSelectController.ID="editor.contrib.smartSelectController",SmartSelectController}(),AbstractSmartSelect=function(_super){__extends(AbstractSmartSelect2,_super);function AbstractSmartSelect2(forward,opts){var _this=_super.call(this,opts)||this;return _this._forward=forward,_this}return AbstractSmartSelect2.prototype.run=function(_accessor,editor){return __awaiter(this,void 0,void 0,function(){var controller;return __generator(this,function(_a){switch(_a.label){case 0:return controller=smartSelect_SmartSelectController.get(editor),controller?[4,controller.run(this._forward)]:[3,2];case 1:_a.sent(),_a.label=2;case 2:return[2]}})})},AbstractSmartSelect2}(editorExtensions.b),smartSelect_GrowSelectionAction=function(_super){__extends(GrowSelectionAction,_super);function GrowSelectionAction(){return _super.call(this,!0,{id:"editor.action.smartSelect.expand",label:nls.a("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:23,group:"1_basic",title:nls.a({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}return GrowSelectionAction}(AbstractSmartSelect);commands.a.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var smartSelect_ShrinkSelectionAction=function(_super){__extends(ShrinkSelectionAction,_super);function ShrinkSelectionAction(){return _super.call(this,!1,{id:"editor.action.smartSelect.shrink",label:nls.a("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:23,group:"1_basic",title:nls.a({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}return ShrinkSelectionAction}(AbstractSmartSelect);Object(editorExtensions.h)(smartSelect_SmartSelectController.ID,smartSelect_SmartSelectController),Object(editorExtensions.f)(smartSelect_GrowSelectionAction),Object(editorExtensions.f)(smartSelect_ShrinkSelectionAction),modes.u.register("*",new wordSelections_WordSelectionRangeProvider);function provideSelectionRanges(model,positions,token){var providers=modes.u.all(model);providers.length===1&&providers.unshift(new bracketSelections.a);for(var work=[],allRawRanges=[],_i=0,providers_1=providers;_i<providers_1.length;_i++){var provider=providers_1[_i];work.push(Promise.resolve(provider.provideSelectionRanges(model,positions,token)).then(function(allProviderRanges){if(arrays.q(allProviderRanges)&&allProviderRanges.length===positions.length)for(var i=0;i<positions.length;i++){allRawRanges[i]||(allRawRanges[i]=[]);for(var _i2=0,_a=allProviderRanges[i];_i2<_a.length;_i2++){var oneProviderRanges=_a[_i2];core_range.a.isIRange(oneProviderRanges.range)&&core_range.a.containsPosition(oneProviderRanges.range,positions[i])&&allRawRanges[i].push(core_range.a.lift(oneProviderRanges.range))}}},errors.f))}return Promise.all(work).then(function(){return allRawRanges.map(function(oneRawRanges){if(oneRawRanges.length===0)return[];oneRawRanges.sort(function(a,b){return position.a.isBefore(a.getStartPosition(),b.getStartPosition())?1:position.a.isBefore(b.getStartPosition(),a.getStartPosition())||position.a.isBefore(a.getEndPosition(),b.getEndPosition())?-1:position.a.isBefore(b.getEndPosition(),a.getEndPosition())?1:0});for(var oneRanges=[],last,_i2=0,oneRawRanges_1=oneRawRanges;_i2<oneRawRanges_1.length;_i2++){var range=oneRawRanges_1[_i2];(!last||core_range.a.containsRange(range,last)&&!core_range.a.equalsRange(range,last))&&(oneRanges.push(range),last=range)}for(var oneRangesWithTrivia=[oneRanges[0]],i=1;i<oneRanges.length;i++){var prev=oneRanges[i-1],cur=oneRanges[i];if(cur.startLineNumber!==prev.startLineNumber||cur.endLineNumber!==prev.endLineNumber){var rangeNoWhitespace=new core_range.a(prev.startLineNumber,model.getLineFirstNonWhitespaceColumn(prev.startLineNumber),prev.endLineNumber,model.getLineLastNonWhitespaceColumn(prev.endLineNumber));rangeNoWhitespace.containsRange(prev)&&!rangeNoWhitespace.equalsRange(prev)&&cur.containsRange(rangeNoWhitespace)&&!cur.equalsRange(rangeNoWhitespace)&&oneRangesWithTrivia.push(rangeNoWhitespace);var rangeFull=new core_range.a(prev.startLineNumber,1,prev.endLineNumber,model.getLineMaxColumn(prev.endLineNumber));rangeFull.containsRange(prev)&&!rangeFull.equalsRange(rangeNoWhitespace)&&cur.containsRange(rangeFull)&&!cur.equalsRange(rangeFull)&&oneRangesWithTrivia.push(rangeFull)}oneRangesWithTrivia.push(cur)}return oneRangesWithTrivia})})}Object(editorExtensions.e)("_executeSelectionRangeProvider",function(model,_position,args){return provideSelectionRanges(model,args.positions,cancellation.a.None)})},2379:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LanguageServiceDefaultsImpl",function(){return LanguageServiceDefaultsImpl});var editor_api=__webpack_require__(2120),typescriptVersion="3.7.3",Emitter=monaco.Emitter,LanguageServiceDefaultsImpl=function(){function LanguageServiceDefaultsImpl2(compilerOptions,diagnosticsOptions){this._onDidChange=new Emitter,this._onDidExtraLibsChange=new Emitter,this._extraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(compilerOptions),this.setDiagnosticsOptions(diagnosticsOptions),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl2.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!0,configurable:!0}),LanguageServiceDefaultsImpl2.prototype.getExtraLibs=function(){return this._extraLibs},LanguageServiceDefaultsImpl2.prototype.addExtraLib=function(content,_filePath){var _this=this,filePath;if(typeof _filePath>"u"?filePath="ts:extralib-"+Math.random().toString(36).substring(2,15):filePath=_filePath,this._extraLibs[filePath]&&this._extraLibs[filePath].content===content)return{dispose:function(){}};var myVersion=1;return this._extraLibs[filePath]&&(myVersion=this._extraLibs[filePath].version+1),this._extraLibs[filePath]={content,version:myVersion},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var extraLib=_this._extraLibs[filePath];extraLib&&extraLib.version===myVersion&&(delete _this._extraLibs[filePath],_this._fireOnDidExtraLibsChangeSoon())}}},LanguageServiceDefaultsImpl2.prototype.setExtraLibs=function(libs){if(this._extraLibs=Object.create(null),libs&&libs.length>0)for(var _i=0,libs_1=libs;_i<libs_1.length;_i++){var lib=libs_1[_i],filePath=lib.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),content=lib.content;this._extraLibs[filePath]={content,version:1}}this._fireOnDidExtraLibsChangeSoon()},LanguageServiceDefaultsImpl2.prototype._fireOnDidExtraLibsChangeSoon=function(){var _this=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=setTimeout(function(){_this._onDidExtraLibsChangeTimeout=-1,_this._onDidExtraLibsChange.fire(void 0)},0))},LanguageServiceDefaultsImpl2.prototype.getCompilerOptions=function(){return this._compilerOptions},LanguageServiceDefaultsImpl2.prototype.setCompilerOptions=function(options){this._compilerOptions=options||Object.create(null),this._onDidChange.fire(void 0)},LanguageServiceDefaultsImpl2.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},LanguageServiceDefaultsImpl2.prototype.setDiagnosticsOptions=function(options){this._diagnosticsOptions=options||Object.create(null),this._onDidChange.fire(void 0)},LanguageServiceDefaultsImpl2.prototype.setMaximumWorkerIdleTime=function(value){},LanguageServiceDefaultsImpl2.prototype.setEagerModelSync=function(value){this._eagerModelSync=value},LanguageServiceDefaultsImpl2.prototype.getEagerModelSync=function(){return this._eagerModelSync},LanguageServiceDefaultsImpl2}(),ModuleKind;(function(ModuleKind2){ModuleKind2[ModuleKind2.None=0]="None",ModuleKind2[ModuleKind2.CommonJS=1]="CommonJS",ModuleKind2[ModuleKind2.AMD=2]="AMD",ModuleKind2[ModuleKind2.UMD=3]="UMD",ModuleKind2[ModuleKind2.System=4]="System",ModuleKind2[ModuleKind2.ES2015=5]="ES2015",ModuleKind2[ModuleKind2.ESNext=99]="ESNext"})(ModuleKind||(ModuleKind={}));var JsxEmit;(function(JsxEmit2){JsxEmit2[JsxEmit2.None=0]="None",JsxEmit2[JsxEmit2.Preserve=1]="Preserve",JsxEmit2[JsxEmit2.React=2]="React",JsxEmit2[JsxEmit2.ReactNative=3]="ReactNative"})(JsxEmit||(JsxEmit={}));var NewLineKind;(function(NewLineKind2){NewLineKind2[NewLineKind2.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",NewLineKind2[NewLineKind2.LineFeed=1]="LineFeed"})(NewLineKind||(NewLineKind={}));var ScriptTarget;(function(ScriptTarget2){ScriptTarget2[ScriptTarget2.ES3=0]="ES3",ScriptTarget2[ScriptTarget2.ES5=1]="ES5",ScriptTarget2[ScriptTarget2.ES2015=2]="ES2015",ScriptTarget2[ScriptTarget2.ES2016=3]="ES2016",ScriptTarget2[ScriptTarget2.ES2017=4]="ES2017",ScriptTarget2[ScriptTarget2.ES2018=5]="ES2018",ScriptTarget2[ScriptTarget2.ES2019=6]="ES2019",ScriptTarget2[ScriptTarget2.ES2020=7]="ES2020",ScriptTarget2[ScriptTarget2.ESNext=99]="ESNext",ScriptTarget2[ScriptTarget2.JSON=100]="JSON",ScriptTarget2[ScriptTarget2.Latest=99]="Latest"})(ScriptTarget||(ScriptTarget={}));var ModuleResolutionKind;(function(ModuleResolutionKind2){ModuleResolutionKind2[ModuleResolutionKind2.Classic=1]="Classic",ModuleResolutionKind2[ModuleResolutionKind2.NodeJs=2]="NodeJs"})(ModuleResolutionKind||(ModuleResolutionKind={}));var typescriptDefaults=new LanguageServiceDefaultsImpl({allowNonTsExtensions:!0,target:ScriptTarget.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1}),javascriptDefaults=new LanguageServiceDefaultsImpl({allowNonTsExtensions:!0,allowJs:!0,target:ScriptTarget.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1});function getTypeScriptWorker(){return getMode().then(function(mode){return mode.getTypeScriptWorker()})}function getJavaScriptWorker(){return getMode().then(function(mode){return mode.getJavaScriptWorker()})}function createAPI(){return{ModuleKind,JsxEmit,NewLineKind,ScriptTarget,ModuleResolutionKind,typescriptVersion,typescriptDefaults,javascriptDefaults,getTypeScriptWorker,getJavaScriptWorker}}monaco.languages.typescript=createAPI();function getMode(){return __webpack_require__.e(403).then(__webpack_require__.bind(null,6394))}monaco.languages.onLanguage("typescript",function(){return getMode().then(function(mode){return mode.setupTypeScript(typescriptDefaults)})}),monaco.languages.onLanguage("javascript",function(){return getMode().then(function(mode){return mode.setupJavaScript(javascriptDefaults)})})},2389:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"v",function(){return tail}),__webpack_require__.d(__webpack_exports__,"w",function(){return tail2}),__webpack_require__.d(__webpack_exports__,"g",function(){return equals}),__webpack_require__.d(__webpack_exports__,"c",function(){return binarySearch}),__webpack_require__.d(__webpack_exports__,"i",function(){return findFirstInSorted}),__webpack_require__.d(__webpack_exports__,"r",function(){return mergeSort}),__webpack_require__.d(__webpack_exports__,"o",function(){return groupBy}),__webpack_require__.d(__webpack_exports__,"d",function(){return coalesce}),__webpack_require__.d(__webpack_exports__,"p",function(){return isFalsyOrEmpty}),__webpack_require__.d(__webpack_exports__,"q",function(){return isNonEmptyArray}),__webpack_require__.d(__webpack_exports__,"e",function(){return distinct}),__webpack_require__.d(__webpack_exports__,"f",function(){return distinctES6}),__webpack_require__.d(__webpack_exports__,"n",function(){return fromSet}),__webpack_require__.d(__webpack_exports__,"k",function(){return firstIndex}),__webpack_require__.d(__webpack_exports__,"j",function(){return first}),__webpack_require__.d(__webpack_exports__,"l",function(){return firstOrDefault}),__webpack_require__.d(__webpack_exports__,"m",function(){return flatten}),__webpack_require__.d(__webpack_exports__,"u",function(){return range}),__webpack_require__.d(__webpack_exports__,"a",function(){return arrayInsert}),__webpack_require__.d(__webpack_exports__,"t",function(){return pushToStart}),__webpack_require__.d(__webpack_exports__,"s",function(){return pushToEnd}),__webpack_require__.d(__webpack_exports__,"h",function(){return find}),__webpack_require__.d(__webpack_exports__,"b",function(){return asArray});function tail(array,n){return n===void 0&&(n=0),array[array.length-(1+n)]}function tail2(arr){if(arr.length===0)throw new Error("Invalid tail call");return[arr.slice(0,arr.length-1),arr[arr.length-1]]}function equals(one,other,itemEquals){if(itemEquals===void 0&&(itemEquals=function(a,b){return a===b}),one===other)return!0;if(!one||!other||one.length!==other.length)return!1;for(var i=0,len=one.length;i<len;i++)if(!itemEquals(one[i],other[i]))return!1;return!0}function binarySearch(array,key,comparator){for(var low=0,high=array.length-1;low<=high;){var mid=(low+high)/2|0,comp=comparator(array[mid],key);if(comp<0)low=mid+1;else if(comp>0)high=mid-1;else return mid}return-(low+1)}function findFirstInSorted(array,p){var low=0,high=array.length;if(high===0)return 0;for(;low<high;){var mid=Math.floor((low+high)/2);p(array[mid])?high=mid:low=mid+1}return low}function mergeSort(data,compare){return _sort(data,compare,0,data.length-1,[]),data}function _merge(a,compare,lo,mid,hi,aux){for(var leftIdx=lo,rightIdx=mid+1,i=lo;i<=hi;i++)aux[i]=a[i];for(var i=lo;i<=hi;i++)leftIdx>mid?a[i]=aux[rightIdx++]:rightIdx>hi?a[i]=aux[leftIdx++]:compare(aux[rightIdx],aux[leftIdx])<0?a[i]=aux[rightIdx++]:a[i]=aux[leftIdx++]}function _sort(a,compare,lo,hi,aux){if(!(hi<=lo)){var mid=lo+(hi-lo)/2|0;_sort(a,compare,lo,mid,aux),_sort(a,compare,mid+1,hi,aux),!(compare(a[mid],a[mid+1])<=0)&&_merge(a,compare,lo,mid,hi,aux)}}function groupBy(data,compare){for(var result=[],currentGroup=void 0,_i=0,_a=mergeSort(data.slice(0),compare);_i<_a.length;_i++){var element=_a[_i];!currentGroup||compare(currentGroup[0],element)!==0?(currentGroup=[element],result.push(currentGroup)):currentGroup.push(element)}return result}function coalesce(array){return array.filter(function(e){return!!e})}function isFalsyOrEmpty(obj){return!Array.isArray(obj)||obj.length===0}function isNonEmptyArray(obj){return Array.isArray(obj)&&obj.length>0}function distinct(array,keyFn){if(!keyFn)return array.filter(function(element,position){return array.indexOf(element)===position});var seen=Object.create(null);return array.filter(function(elem){var key=keyFn(elem);return seen[key]?!1:(seen[key]=!0,!0)})}function distinctES6(array){var seen=new Set;return array.filter(function(element){return seen.has(element)?!1:(seen.add(element),!0)})}function fromSet(set){var result=[];return set.forEach(function(o){return result.push(o)}),result}function firstIndex(array,fn){for(var i=0;i<array.length;i++){var element=array[i];if(fn(element))return i}return-1}function first(array,fn,notFoundValue){notFoundValue===void 0&&(notFoundValue=void 0);var index=firstIndex(array,fn);return index<0?notFoundValue:array[index]}function firstOrDefault(array,notFoundValue){return array.length>0?array[0]:notFoundValue}function flatten(arr){var _a;return(_a=[]).concat.apply(_a,arr)}function range(arg,to){var from=typeof to=="number"?arg:0;typeof to=="number"?from=arg:(from=0,to=arg);var result=[];if(from<=to)for(var i=from;i<to;i++)result.push(i);else for(var i=from;i>to;i--)result.push(i);return result}function arrayInsert(target,insertIndex,insertArr){var before=target.slice(0,insertIndex),after=target.slice(insertIndex);return before.concat(insertArr,after)}function pushToStart(arr,value){var index=arr.indexOf(value);index>-1&&(arr.splice(index,1),arr.unshift(value))}function pushToEnd(arr,value){var index=arr.indexOf(value);index>-1&&(arr.splice(index,1),arr.push(value))}function find(arr,predicate){for(var i=0;i<arr.length;i++){var element=arr[i];if(predicate(element,i,arr))return element}}function asArray(x){return Array.isArray(x)?x:[x]}},2623:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Extensions}),__webpack_require__.d(__webpack_exports__,"Tb",function(){return registerColor}),__webpack_require__.d(__webpack_exports__,"W",function(){return foreground}),__webpack_require__.d(__webpack_exports__,"U",function(){return errorForeground}),__webpack_require__.d(__webpack_exports__,"V",function(){return focusBorder}),__webpack_require__.d(__webpack_exports__,"e",function(){return contrastBorder}),__webpack_require__.d(__webpack_exports__,"b",function(){return activeContrastBorder}),__webpack_require__.d(__webpack_exports__,"ec",function(){return textLinkForeground}),__webpack_require__.d(__webpack_exports__,"dc",function(){return textCodeBlockBackground}),__webpack_require__.d(__webpack_exports__,"gc",function(){return widgetShadow}),__webpack_require__.d(__webpack_exports__,"Z",function(){return inputBackground}),__webpack_require__.d(__webpack_exports__,"bb",function(){return inputForeground}),__webpack_require__.d(__webpack_exports__,"ab",function(){return inputBorder}),__webpack_require__.d(__webpack_exports__,"Y",function(){return inputActiveOptionBorder}),__webpack_require__.d(__webpack_exports__,"X",function(){return inputActiveOptionBackground}),__webpack_require__.d(__webpack_exports__,"fb",function(){return inputValidationInfoBackground}),__webpack_require__.d(__webpack_exports__,"hb",function(){return inputValidationInfoForeground}),__webpack_require__.d(__webpack_exports__,"gb",function(){return inputValidationInfoBorder}),__webpack_require__.d(__webpack_exports__,"ib",function(){return inputValidationWarningBackground}),__webpack_require__.d(__webpack_exports__,"kb",function(){return inputValidationWarningForeground}),__webpack_require__.d(__webpack_exports__,"jb",function(){return inputValidationWarningBorder}),__webpack_require__.d(__webpack_exports__,"cb",function(){return inputValidationErrorBackground}),__webpack_require__.d(__webpack_exports__,"eb",function(){return inputValidationErrorForeground}),__webpack_require__.d(__webpack_exports__,"db",function(){return inputValidationErrorBorder}),__webpack_require__.d(__webpack_exports__,"Ob",function(){return pickerGroupForeground}),__webpack_require__.d(__webpack_exports__,"Nb",function(){return pickerGroupBorder}),__webpack_require__.d(__webpack_exports__,"c",function(){return badgeBackground}),__webpack_require__.d(__webpack_exports__,"d",function(){return badgeForeground}),__webpack_require__.d(__webpack_exports__,"Vb",function(){return scrollbarShadow}),__webpack_require__.d(__webpack_exports__,"Xb",function(){return scrollbarSliderBackground}),__webpack_require__.d(__webpack_exports__,"Yb",function(){return scrollbarSliderHoverBackground}),__webpack_require__.d(__webpack_exports__,"Wb",function(){return scrollbarSliderActiveBackground}),__webpack_require__.d(__webpack_exports__,"Sb",function(){return progressBarBackground}),__webpack_require__.d(__webpack_exports__,"q",function(){return editorErrorForeground}),__webpack_require__.d(__webpack_exports__,"p",function(){return editorErrorBorder}),__webpack_require__.d(__webpack_exports__,"P",function(){return editorWarningForeground}),__webpack_require__.d(__webpack_exports__,"O",function(){return editorWarningBorder}),__webpack_require__.d(__webpack_exports__,"H",function(){return editorInfoForeground}),__webpack_require__.d(__webpack_exports__,"G",function(){return editorInfoBorder}),__webpack_require__.d(__webpack_exports__,"z",function(){return editorHintForeground}),__webpack_require__.d(__webpack_exports__,"y",function(){return editorHintBorder}),__webpack_require__.d(__webpack_exports__,"o",function(){return editorBackground}),__webpack_require__.d(__webpack_exports__,"x",function(){return editorForeground}),__webpack_require__.d(__webpack_exports__,"Q",function(){return editorWidgetBackground}),__webpack_require__.d(__webpack_exports__,"S",function(){return editorWidgetForeground}),__webpack_require__.d(__webpack_exports__,"R",function(){return editorWidgetBorder}),__webpack_require__.d(__webpack_exports__,"T",function(){return editorWidgetResizeBorder}),__webpack_require__.d(__webpack_exports__,"K",function(){return editorSelectionBackground}),__webpack_require__.d(__webpack_exports__,"L",function(){return editorSelectionForeground}),__webpack_require__.d(__webpack_exports__,"F",function(){return editorInactiveSelection}),__webpack_require__.d(__webpack_exports__,"M",function(){return editorSelectionHighlight}),__webpack_require__.d(__webpack_exports__,"N",function(){return editorSelectionHighlightBorder}),__webpack_require__.d(__webpack_exports__,"r",function(){return editorFindMatch}),__webpack_require__.d(__webpack_exports__,"t",function(){return editorFindMatchHighlight}),__webpack_require__.d(__webpack_exports__,"v",function(){return editorFindRangeHighlight}),__webpack_require__.d(__webpack_exports__,"s",function(){return editorFindMatchBorder}),__webpack_require__.d(__webpack_exports__,"u",function(){return editorFindMatchHighlightBorder}),__webpack_require__.d(__webpack_exports__,"w",function(){return editorFindRangeHighlightBorder}),__webpack_require__.d(__webpack_exports__,"D",function(){return editorHoverHighlight}),__webpack_require__.d(__webpack_exports__,"A",function(){return editorHoverBackground}),__webpack_require__.d(__webpack_exports__,"C",function(){return editorHoverForeground}),__webpack_require__.d(__webpack_exports__,"B",function(){return editorHoverBorder}),__webpack_require__.d(__webpack_exports__,"E",function(){return editorHoverStatusBarBackground}),__webpack_require__.d(__webpack_exports__,"n",function(){return editorActiveLinkForeground}),__webpack_require__.d(__webpack_exports__,"J",function(){return editorLightBulbForeground}),__webpack_require__.d(__webpack_exports__,"I",function(){return editorLightBulbAutoFixForeground}),__webpack_require__.d(__webpack_exports__,"g",function(){return defaultInsertColor}),__webpack_require__.d(__webpack_exports__,"h",function(){return defaultRemoveColor}),__webpack_require__.d(__webpack_exports__,"j",function(){return diffInserted}),__webpack_require__.d(__webpack_exports__,"l",function(){return diffRemoved}),__webpack_require__.d(__webpack_exports__,"k",function(){return diffInsertedOutline}),__webpack_require__.d(__webpack_exports__,"m",function(){return diffRemovedOutline}),__webpack_require__.d(__webpack_exports__,"i",function(){return diffBorder}),__webpack_require__.d(__webpack_exports__,"rb",function(){return listFocusBackground}),__webpack_require__.d(__webpack_exports__,"sb",function(){return listFocusForeground}),__webpack_require__.d(__webpack_exports__,"lb",function(){return listActiveSelectionBackground}),__webpack_require__.d(__webpack_exports__,"mb",function(){return listActiveSelectionForeground}),__webpack_require__.d(__webpack_exports__,"xb",function(){return listInactiveSelectionBackground}),__webpack_require__.d(__webpack_exports__,"yb",function(){return listInactiveSelectionForeground}),__webpack_require__.d(__webpack_exports__,"wb",function(){return listInactiveFocusBackground}),__webpack_require__.d(__webpack_exports__,"ub",function(){return listHoverBackground}),__webpack_require__.d(__webpack_exports__,"vb",function(){return listHoverForeground}),__webpack_require__.d(__webpack_exports__,"nb",function(){return listDropBackground}),__webpack_require__.d(__webpack_exports__,"tb",function(){return listHighlightForeground}),__webpack_require__.d(__webpack_exports__,"ob",function(){return listFilterWidgetBackground}),__webpack_require__.d(__webpack_exports__,"qb",function(){return listFilterWidgetOutline}),__webpack_require__.d(__webpack_exports__,"pb",function(){return listFilterWidgetNoMatchesOutline}),__webpack_require__.d(__webpack_exports__,"fc",function(){return treeIndentGuidesStroke}),__webpack_require__.d(__webpack_exports__,"Ab",function(){return menuBorder}),__webpack_require__.d(__webpack_exports__,"Bb",function(){return menuForeground}),__webpack_require__.d(__webpack_exports__,"zb",function(){return menuBackground}),__webpack_require__.d(__webpack_exports__,"Eb",function(){return menuSelectionForeground}),__webpack_require__.d(__webpack_exports__,"Cb",function(){return menuSelectionBackground}),__webpack_require__.d(__webpack_exports__,"Db",function(){return menuSelectionBorder}),__webpack_require__.d(__webpack_exports__,"Fb",function(){return menuSeparatorBackground}),__webpack_require__.d(__webpack_exports__,"bc",function(){return snippetTabstopHighlightBackground}),__webpack_require__.d(__webpack_exports__,"cc",function(){return snippetTabstopHighlightBorder}),__webpack_require__.d(__webpack_exports__,"Zb",function(){return snippetFinalTabstopHighlightBackground}),__webpack_require__.d(__webpack_exports__,"ac",function(){return snippetFinalTabstopHighlightBorder}),__webpack_require__.d(__webpack_exports__,"Lb",function(){return overviewRulerFindMatchForeground}),__webpack_require__.d(__webpack_exports__,"Mb",function(){return overviewRulerSelectionHighlightForeground}),__webpack_require__.d(__webpack_exports__,"Hb",function(){return minimapFindMatch}),__webpack_require__.d(__webpack_exports__,"Ib",function(){return minimapSelection}),__webpack_require__.d(__webpack_exports__,"Gb",function(){return minimapError}),__webpack_require__.d(__webpack_exports__,"Jb",function(){return minimapWarning}),__webpack_require__.d(__webpack_exports__,"Pb",function(){return problemsErrorIconForeground}),__webpack_require__.d(__webpack_exports__,"Rb",function(){return problemsWarningIconForeground}),__webpack_require__.d(__webpack_exports__,"Qb",function(){return problemsInfoIconForeground}),__webpack_require__.d(__webpack_exports__,"f",function(){return darken}),__webpack_require__.d(__webpack_exports__,"Kb",function(){return oneOf}),__webpack_require__.d(__webpack_exports__,"Ub",function(){return resolveColorValue});var _registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2818),_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2663),_base_common_event_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2106),_nls_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2069),_jsonschemas_common_jsonContributionRegistry_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3863),_base_common_async_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2237),Extensions={ColorContribution:"base.contributions.colors"},ColorRegistry=function(){function ColorRegistry2(){this._onDidChangeSchema=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.a,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return ColorRegistry2.prototype.registerColor=function(id,defaults,description,needsTransparency,deprecationMessage){needsTransparency===void 0&&(needsTransparency=!1);var colorContribution={id,description,defaults,needsTransparency,deprecationMessage};this.colorsById[id]=colorContribution;var propertySchema={type:"string",description,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return deprecationMessage&&(propertySchema.deprecationMessage=deprecationMessage),this.colorSchema.properties[id]=propertySchema,this.colorReferenceSchema.enum.push(id),this.colorReferenceSchema.enumDescriptions.push(description),this._onDidChangeSchema.fire(),id},ColorRegistry2.prototype.resolveDefaultColor=function(id,theme){var colorDesc=this.colorsById[id];if(colorDesc&&colorDesc.defaults){var colorValue=colorDesc.defaults[theme.type];return resolveColorValue(colorValue,theme)}},ColorRegistry2.prototype.getColorSchema=function(){return this.colorSchema},ColorRegistry2.prototype.toString=function(){var _this=this,sorter=function(a,b){var cat1=a.indexOf(".")===-1?0:1,cat2=b.indexOf(".")===-1?0:1;return cat1!==cat2?cat1-cat2:a.localeCompare(b)};return Object.keys(this.colorsById).sort(sorter).map(function(k){return"- `"+k+"`: "+_this.colorsById[k].description}).join(`
`)},ColorRegistry2}(),colorRegistry=new ColorRegistry;_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.add(Extensions.ColorContribution,colorRegistry);function registerColor(id,defaults,description,needsTransparency,deprecationMessage){return colorRegistry.registerColor(id,defaults,description,needsTransparency,deprecationMessage)}var foreground=registerColor("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("foreground","Overall foreground color. This color is only used if not overridden by a component.")),errorForeground=registerColor("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),focusBorder=registerColor("focusBorder",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#0E639C").transparent(.8),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#007ACC").transparent(.4),hc:"#F38518"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),contrastBorder=registerColor("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),activeContrastBorder=registerColor("contrastActiveBorder",{light:null,dark:null,hc:focusBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),textLinkForeground=registerColor("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("textLinkForeground","Foreground color for links in text.")),textCodeBlockBackground=registerColor("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("textCodeBlockBackground","Background color for code blocks in text.")),widgetShadow=registerColor("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),inputBackground=registerColor("input.background",{dark:"#3C3C3C",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputBoxBackground","Input box background.")),inputForeground=registerColor("input.foreground",{dark:foreground,light:foreground,hc:foreground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputBoxForeground","Input box foreground.")),inputBorder=registerColor("input.border",{dark:null,light:null,hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputBoxBorder","Input box border.")),inputActiveOptionBorder=registerColor("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),inputActiveOptionBackground=registerColor("inputOption.activeBackground",{dark:transparent(focusBorder,.5),light:transparent(focusBorder,.3),hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputOption.activeBackground","Background color of activated options in input fields.")),inputValidationInfoBackground=registerColor("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationInfoBackground","Input validation background color for information severity.")),inputValidationInfoForeground=registerColor("inputValidation.infoForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationInfoForeground","Input validation foreground color for information severity.")),inputValidationInfoBorder=registerColor("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationInfoBorder","Input validation border color for information severity.")),inputValidationWarningBackground=registerColor("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationWarningBackground","Input validation background color for warning severity.")),inputValidationWarningForeground=registerColor("inputValidation.warningForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationWarningForeground","Input validation foreground color for warning severity.")),inputValidationWarningBorder=registerColor("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationWarningBorder","Input validation border color for warning severity.")),inputValidationErrorBackground=registerColor("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationErrorBackground","Input validation background color for error severity.")),inputValidationErrorForeground=registerColor("inputValidation.errorForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationErrorForeground","Input validation foreground color for error severity.")),inputValidationErrorBorder=registerColor("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationErrorBorder","Input validation border color for error severity.")),selectBackground=registerColor("dropdown.background",{dark:"#3C3C3C",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("dropdownBackground","Dropdown background.")),selectForeground=registerColor("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("dropdownForeground","Dropdown foreground.")),pickerGroupForeground=registerColor("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("pickerGroupForeground","Quick picker color for grouping labels.")),pickerGroupBorder=registerColor("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("pickerGroupBorder","Quick picker color for grouping borders.")),badgeBackground=registerColor("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),badgeForeground=registerColor("badge.foreground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,light:"#333",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),scrollbarShadow=registerColor("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),scrollbarSliderBackground=registerColor("scrollbarSlider.background",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#797979").transparent(.4),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#646464").transparent(.4),hc:transparent(contrastBorder,.6)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("scrollbarSliderBackground","Scrollbar slider background color.")),scrollbarSliderHoverBackground=registerColor("scrollbarSlider.hoverBackground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#646464").transparent(.7),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#646464").transparent(.7),hc:transparent(contrastBorder,.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),scrollbarSliderActiveBackground=registerColor("scrollbarSlider.activeBackground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#BFBFBF").transparent(.4),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#000000").transparent(.6),hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),progressBarBackground=registerColor("progressBar.background",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#0E70C0"),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#0E70C0"),hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("progressBarBackground","Background color of the progress bar that can show for long running operations.")),editorErrorForeground=registerColor("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorError.foreground","Foreground color of error squigglies in the editor.")),editorErrorBorder=registerColor("editorError.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#E47777").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("errorBorder","Border color of error boxes in the editor.")),editorWarningForeground=registerColor("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),editorWarningBorder=registerColor("editorWarning.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#FFCC00").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("warningBorder","Border color of warning boxes in the editor.")),editorInfoForeground=registerColor("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorInfo.foreground","Foreground color of info squigglies in the editor.")),editorInfoBorder=registerColor("editorInfo.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#75BEFF").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("infoBorder","Border color of info boxes in the editor.")),editorHintForeground=registerColor("editorHint.foreground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorHint.foreground","Foreground color of hint squigglies in the editor.")),editorHintBorder=registerColor("editorHint.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#eeeeee").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hintBorder","Border color of hint boxes in the editor.")),editorBackground=registerColor("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorBackground","Editor background color.")),editorForeground=registerColor("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorForeground","Editor default foreground color.")),editorWidgetBackground=registerColor("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),editorWidgetForeground=registerColor("editorWidget.foreground",{dark:foreground,light:foreground,hc:foreground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),editorWidgetBorder=registerColor("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),editorWidgetResizeBorder=registerColor("editorWidget.resizeBorder",{light:null,dark:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),editorSelectionBackground=registerColor("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorSelectionBackground","Color of the editor selection.")),editorSelectionForeground=registerColor("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorSelectionForeground","Color of the selected text for high contrast.")),editorInactiveSelection=registerColor("editor.inactiveSelectionBackground",{light:transparent(editorSelectionBackground,.5),dark:transparent(editorSelectionBackground,.5),hc:transparent(editorSelectionBackground,.5)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),editorSelectionHighlight=registerColor("editor.selectionHighlightBackground",{light:lessProminent(editorSelectionBackground,editorBackground,.3,.6),dark:lessProminent(editorSelectionBackground,editorBackground,.3,.6),hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),editorSelectionHighlightBorder=registerColor("editor.selectionHighlightBorder",{light:null,dark:null,hc:activeContrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),editorFindMatch=registerColor("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorFindMatch","Color of the current search match.")),editorFindMatchHighlight=registerColor("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),editorFindRangeHighlight=registerColor("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),editorFindMatchBorder=registerColor("editor.findMatchBorder",{light:null,dark:null,hc:activeContrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorFindMatchBorder","Border color of the current search match.")),editorFindMatchHighlightBorder=registerColor("editor.findMatchHighlightBorder",{light:null,dark:null,hc:activeContrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("findMatchHighlightBorder","Border color of the other search matches.")),editorFindRangeHighlightBorder=registerColor("editor.findRangeHighlightBorder",{dark:null,light:null,hc:transparent(activeContrastBorder,.4)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),editorHoverHighlight=registerColor("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),editorHoverBackground=registerColor("editorHoverWidget.background",{light:editorWidgetBackground,dark:editorWidgetBackground,hc:editorWidgetBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hoverBackground","Background color of the editor hover.")),editorHoverForeground=registerColor("editorHoverWidget.foreground",{light:editorWidgetForeground,dark:editorWidgetForeground,hc:editorWidgetForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hoverForeground","Foreground color of the editor hover.")),editorHoverBorder=registerColor("editorHoverWidget.border",{light:editorWidgetBorder,dark:editorWidgetBorder,hc:editorWidgetBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hoverBorder","Border color of the editor hover.")),editorHoverStatusBarBackground=registerColor("editorHoverWidget.statusBarBackground",{dark:lighten(editorHoverBackground,.2),light:darken(editorHoverBackground,.05),hc:editorWidgetBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("statusBarBackground","Background color of the editor hover status bar.")),editorActiveLinkForeground=registerColor("editorLink.activeForeground",{dark:"#4E94CE",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.blue,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.cyan},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("activeLinkForeground","Color of active links.")),editorLightBulbForeground=registerColor("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorLightBulbForeground","The color used for the lightbulb actions icon.")),editorLightBulbAutoFixForeground=registerColor("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),defaultInsertColor=new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(155,185,85,.2)),defaultRemoveColor=new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,0,0,.2)),diffInserted=registerColor("diffEditor.insertedTextBackground",{dark:defaultInsertColor,light:defaultInsertColor,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),diffRemoved=registerColor("diffEditor.removedTextBackground",{dark:defaultRemoveColor,light:defaultRemoveColor,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),diffInsertedOutline=registerColor("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorInsertedOutline","Outline color for the text that got inserted.")),diffRemovedOutline=registerColor("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorRemovedOutline","Outline color for text that got removed.")),diffBorder=registerColor("diffEditor.border",{dark:null,light:null,hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorBorder","Border color between the two text editors.")),listFocusBackground=registerColor("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),listFocusForeground=registerColor("list.focusForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),listActiveSelectionBackground=registerColor("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),listActiveSelectionForeground=registerColor("list.activeSelectionForeground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),listInactiveSelectionBackground=registerColor("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),listInactiveSelectionForeground=registerColor("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),listInactiveFocusBackground=registerColor("list.inactiveFocusBackground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),listHoverBackground=registerColor("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listHoverBackground","List/Tree background when hovering over items using the mouse.")),listHoverForeground=registerColor("list.hoverForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),listDropBackground=registerColor("list.dropBackground",{dark:listFocusBackground,light:listFocusBackground,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),listHighlightForeground=registerColor("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:focusBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),listFilterWidgetBackground=registerColor("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),listFilterWidgetOutline=registerColor("listFilterWidget.outline",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.transparent,light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.transparent,hc:"#f38518"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),listFilterWidgetNoMatchesOutline=registerColor("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),treeIndentGuidesStroke=registerColor("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),menuBorder=registerColor("menu.border",{dark:null,light:null,hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuBorder","Border color of menus.")),menuForeground=registerColor("menu.foreground",{dark:selectForeground,light:foreground,hc:selectForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuForeground","Foreground color of menu items.")),menuBackground=registerColor("menu.background",{dark:selectBackground,light:selectBackground,hc:selectBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuBackground","Background color of menu items.")),menuSelectionForeground=registerColor("menu.selectionForeground",{dark:listActiveSelectionForeground,light:listActiveSelectionForeground,hc:listActiveSelectionForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuSelectionForeground","Foreground color of the selected menu item in menus.")),menuSelectionBackground=registerColor("menu.selectionBackground",{dark:listActiveSelectionBackground,light:listActiveSelectionBackground,hc:listActiveSelectionBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuSelectionBackground","Background color of the selected menu item in menus.")),menuSelectionBorder=registerColor("menu.selectionBorder",{dark:null,light:null,hc:activeContrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuSelectionBorder","Border color of the selected menu item in menus.")),menuSeparatorBackground=registerColor("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuSeparatorBackground","Color of a separator menu item in menus.")),snippetTabstopHighlightBackground=registerColor("editor.snippetTabstopHighlightBackground",{dark:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(124,124,124,.3)),light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(10,50,100,.2)),hc:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(124,124,124,.3))},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),snippetTabstopHighlightBorder=registerColor("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),snippetFinalTabstopHighlightBackground=registerColor("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),snippetFinalTabstopHighlightBorder=registerColor("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(10,50,100,.5)),hc:"#525252"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("snippetFinalTabstopHighlightBorder","Highlight border color of the final stabstop of a snippet.")),overviewRulerFindMatchForeground=registerColor("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),overviewRulerSelectionHighlightForeground=registerColor("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),minimapFindMatch=registerColor("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),minimapSelection=registerColor("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),minimapError=registerColor("minimap.errorHighlight",{dark:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,18,18,.7)),light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,18,18,.7)),hc:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,50,50,1))},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapError","Minimap marker color for errors.")),minimapWarning=registerColor("minimap.warningHighlight",{dark:editorWarningForeground,light:editorWarningForeground,hc:editorWarningBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("overviewRuleWarning","Minimap marker color for warnings.")),problemsErrorIconForeground=registerColor("problemsErrorIcon.foreground",{dark:editorErrorForeground,light:editorErrorForeground,hc:editorErrorForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("problemsErrorIconForeground","The color used for the problems error icon.")),problemsWarningIconForeground=registerColor("problemsWarningIcon.foreground",{dark:editorWarningForeground,light:editorWarningForeground,hc:editorWarningForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("problemsWarningIconForeground","The color used for the problems warning icon.")),problemsInfoIconForeground=registerColor("problemsInfoIcon.foreground",{dark:editorInfoForeground,light:editorInfoForeground,hc:editorInfoForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("problemsInfoIconForeground","The color used for the problems info icon."));function darken(colorValue,factor){return function(theme){var color=resolveColorValue(colorValue,theme);if(color)return color.darken(factor)}}function lighten(colorValue,factor){return function(theme){var color=resolveColorValue(colorValue,theme);if(color)return color.lighten(factor)}}function transparent(colorValue,factor){return function(theme){var color=resolveColorValue(colorValue,theme);if(color)return color.transparent(factor)}}function oneOf(){for(var colorValues=[],_i=0;_i<arguments.length;_i++)colorValues[_i]=arguments[_i];return function(theme){for(var _i2=0,colorValues_1=colorValues;_i2<colorValues_1.length;_i2++){var colorValue=colorValues_1[_i2],color=resolveColorValue(colorValue,theme);if(color)return color}}}function lessProminent(colorValue,backgroundColorValue,factor,transparency){return function(theme){var from=resolveColorValue(colorValue,theme);if(from){var backgroundColor=resolveColorValue(backgroundColorValue,theme);return backgroundColor?from.isDarkerThan(backgroundColor)?_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.getLighterColor(from,backgroundColor,factor).transparent(transparency):_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.getDarkerColor(from,backgroundColor,factor).transparent(transparency):from.transparent(factor*transparency)}}}function resolveColorValue(colorValue,theme){if(colorValue!==null){if(typeof colorValue=="string")return colorValue[0]==="#"?_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex(colorValue):theme.getColor(colorValue);if(colorValue instanceof _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a)return colorValue;if(typeof colorValue=="function")return colorValue(theme)}}var workbenchColorsSchemaId="vscode://schemas/workbench-colors",schemaRegistry=_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.as(_jsonschemas_common_jsonContributionRegistry_js__WEBPACK_IMPORTED_MODULE_4__.a.JSONContribution);schemaRegistry.registerSchema(workbenchColorsSchemaId,colorRegistry.getColorSchema());var delayer=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_5__.d(function(){return schemaRegistry.notifySchemaChanged(workbenchColorsSchemaId)},200);colorRegistry.onDidChangeSchema(function(){delayer.isScheduled()||delayer.schedule()})},2629:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Selection});var _position_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2233),_range_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2056),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),Selection=function(_super){__extends(Selection2,_super);function Selection2(selectionStartLineNumber,selectionStartColumn,positionLineNumber,positionColumn){var _this=_super.call(this,selectionStartLineNumber,selectionStartColumn,positionLineNumber,positionColumn)||this;return _this.selectionStartLineNumber=selectionStartLineNumber,_this.selectionStartColumn=selectionStartColumn,_this.positionLineNumber=positionLineNumber,_this.positionColumn=positionColumn,_this}return Selection2.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},Selection2.prototype.equalsSelection=function(other){return Selection2.selectionsEqual(this,other)},Selection2.selectionsEqual=function(a,b){return a.selectionStartLineNumber===b.selectionStartLineNumber&&a.selectionStartColumn===b.selectionStartColumn&&a.positionLineNumber===b.positionLineNumber&&a.positionColumn===b.positionColumn},Selection2.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1},Selection2.prototype.setEndPosition=function(endLineNumber,endColumn){return this.getDirection()===0?new Selection2(this.startLineNumber,this.startColumn,endLineNumber,endColumn):new Selection2(endLineNumber,endColumn,this.startLineNumber,this.startColumn)},Selection2.prototype.getPosition=function(){return new _position_js__WEBPACK_IMPORTED_MODULE_0__.a(this.positionLineNumber,this.positionColumn)},Selection2.prototype.setStartPosition=function(startLineNumber,startColumn){return this.getDirection()===0?new Selection2(startLineNumber,startColumn,this.endLineNumber,this.endColumn):new Selection2(this.endLineNumber,this.endColumn,startLineNumber,startColumn)},Selection2.fromPositions=function(start,end){return end===void 0&&(end=start),new Selection2(start.lineNumber,start.column,end.lineNumber,end.column)},Selection2.liftSelection=function(sel){return new Selection2(sel.selectionStartLineNumber,sel.selectionStartColumn,sel.positionLineNumber,sel.positionColumn)},Selection2.selectionsArrEqual=function(a,b){if(a&&!b||!a&&b)return!1;if(!a&&!b)return!0;if(a.length!==b.length)return!1;for(var i=0,len=a.length;i<len;i++)if(!this.selectionsEqual(a[i],b[i]))return!1;return!0},Selection2.isISelection=function(obj){return obj&&typeof obj.selectionStartLineNumber=="number"&&typeof obj.selectionStartColumn=="number"&&typeof obj.positionLineNumber=="number"&&typeof obj.positionColumn=="number"},Selection2.createWithDirection=function(startLineNumber,startColumn,endLineNumber,endColumn,direction){return direction===0?new Selection2(startLineNumber,startColumn,endLineNumber,endColumn):new Selection2(endLineNumber,endColumn,startLineNumber,startColumn)},Selection2}(_range_js__WEBPACK_IMPORTED_MODULE_1__.a)},2631:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return isArray}),__webpack_require__.d(__webpack_exports__,"j",function(){return isString}),__webpack_require__.d(__webpack_exports__,"i",function(){return isObject}),__webpack_require__.d(__webpack_exports__,"h",function(){return isNumber}),__webpack_require__.d(__webpack_exports__,"e",function(){return isBoolean}),__webpack_require__.d(__webpack_exports__,"k",function(){return isUndefined}),__webpack_require__.d(__webpack_exports__,"l",function(){return isUndefinedOrNull}),__webpack_require__.d(__webpack_exports__,"a",function(){return assertType}),__webpack_require__.d(__webpack_exports__,"f",function(){return isEmptyObject}),__webpack_require__.d(__webpack_exports__,"g",function(){return isFunction}),__webpack_require__.d(__webpack_exports__,"m",function(){return validateConstraints}),__webpack_require__.d(__webpack_exports__,"c",function(){return getAllMethodNames}),__webpack_require__.d(__webpack_exports__,"b",function(){return createProxyObject}),__webpack_require__.d(__webpack_exports__,"n",function(){return withNullAsUndefined}),__webpack_require__.d(__webpack_exports__,"o",function(){return withUndefinedAsNull});var _typeof={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function isArray(array){return Array.isArray?Array.isArray(array):!!(array&&typeof array.length===_typeof.number&&array.constructor===Array)}function isString(str){return typeof str===_typeof.string||str instanceof String}function isObject(obj){return typeof obj===_typeof.object&&obj!==null&&!Array.isArray(obj)&&!(obj instanceof RegExp)&&!(obj instanceof Date)}function isNumber(obj){return(typeof obj===_typeof.number||obj instanceof Number)&&!isNaN(obj)}function isBoolean(obj){return obj===!0||obj===!1}function isUndefined(obj){return typeof obj===_typeof.undefined}function isUndefinedOrNull(obj){return isUndefined(obj)||obj===null}function assertType(condition,type){if(!condition)throw new Error(type?"Unexpected type, expected '"+type+"'":"Unexpected type")}var hasOwnProperty=Object.prototype.hasOwnProperty;function isEmptyObject(obj){if(!isObject(obj))return!1;for(var key in obj)if(hasOwnProperty.call(obj,key))return!1;return!0}function isFunction(obj){return typeof obj===_typeof.function}function validateConstraints(args,constraints){for(var len=Math.min(args.length,constraints.length),i=0;i<len;i++)validateConstraint(args[i],constraints[i])}function validateConstraint(arg,constraint){if(isString(constraint)){if(typeof arg!==constraint)throw new Error("argument does not match constraint: typeof "+constraint)}else if(isFunction(constraint)){try{if(arg instanceof constraint)return}catch{}if(!isUndefinedOrNull(arg)&&arg.constructor===constraint||constraint.length===1&&constraint.call(void 0,arg)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function getAllPropertyNames(obj){for(var res=[],proto=Object.getPrototypeOf(obj);Object.prototype!==proto;)res=res.concat(Object.getOwnPropertyNames(proto)),proto=Object.getPrototypeOf(proto);return res}function getAllMethodNames(obj){for(var methods=[],_i=0,_a=getAllPropertyNames(obj);_i<_a.length;_i++){var prop=_a[_i];typeof obj[prop]=="function"&&methods.push(prop)}return methods}function createProxyObject(methodNames,invoke){for(var createProxyMethod=function(method){return function(){var args=Array.prototype.slice.call(arguments,0);return invoke(method,args)}},result={},_i=0,methodNames_1=methodNames;_i<methodNames_1.length;_i++){var methodName=methodNames_1[_i];result[methodName]=createProxyMethod(methodName)}return result}function withNullAsUndefined(x){return x===null?void 0:x}function withUndefinedAsNull(x){return typeof x>"u"?null:x}},2632:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EditorContextKeys});var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2238),EditorContextKeys;(function(EditorContextKeys2){EditorContextKeys2.editorTextFocus=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorTextFocus",!1),EditorContextKeys2.focus=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorFocus",!1),EditorContextKeys2.textInputFocus=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("textInputFocus",!1),EditorContextKeys2.readOnly=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorReadonly",!1),EditorContextKeys2.writable=EditorContextKeys2.readOnly.toNegated(),EditorContextKeys2.hasNonEmptySelection=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasSelection",!1),EditorContextKeys2.hasOnlyEmptySelection=EditorContextKeys2.hasNonEmptySelection.toNegated(),EditorContextKeys2.hasMultipleSelections=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasMultipleSelections",!1),EditorContextKeys2.hasSingleSelection=EditorContextKeys2.hasMultipleSelections.toNegated(),EditorContextKeys2.tabMovesFocus=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorTabMovesFocus",!1),EditorContextKeys2.tabDoesNotMoveFocus=EditorContextKeys2.tabMovesFocus.toNegated(),EditorContextKeys2.isInEmbeddedEditor=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("isInEmbeddedEditor",!1),EditorContextKeys2.canUndo=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("canUndo",!1),EditorContextKeys2.canRedo=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("canRedo",!1),EditorContextKeys2.languageId=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorLangId",""),EditorContextKeys2.hasCompletionItemProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasCompletionItemProvider",!1),EditorContextKeys2.hasCodeActionsProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasCodeActionsProvider",!1),EditorContextKeys2.hasCodeLensProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasCodeLensProvider",!1),EditorContextKeys2.hasDefinitionProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasDefinitionProvider",!1),EditorContextKeys2.hasDeclarationProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasDeclarationProvider",!1),EditorContextKeys2.hasImplementationProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasImplementationProvider",!1),EditorContextKeys2.hasTypeDefinitionProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasTypeDefinitionProvider",!1),EditorContextKeys2.hasHoverProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasHoverProvider",!1),EditorContextKeys2.hasDocumentHighlightProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasDocumentHighlightProvider",!1),EditorContextKeys2.hasDocumentSymbolProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasDocumentSymbolProvider",!1),EditorContextKeys2.hasReferenceProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasReferenceProvider",!1),EditorContextKeys2.hasRenameProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasRenameProvider",!1),EditorContextKeys2.hasSignatureHelpProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasSignatureHelpProvider",!1),EditorContextKeys2.hasDocumentFormattingProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasDocumentFormattingProvider",!1),EditorContextKeys2.hasDocumentSelectionFormattingProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasDocumentSelectionFormattingProvider",!1),EditorContextKeys2.hasMultipleDocumentFormattingProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasMultipleDocumentFormattingProvider",!1),EditorContextKeys2.hasMultipleDocumentSelectionFormattingProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.d("editorHasMultipleDocumentSelectionFormattingProvider",!1)})(EditorContextKeys||(EditorContextKeys={}))},2634:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AccessibilityHelpNLS}),__webpack_require__.d(__webpack_exports__,"c",function(){return InspectTokensNLS}),__webpack_require__.d(__webpack_exports__,"b",function(){return GoToLineNLS}),__webpack_require__.d(__webpack_exports__,"d",function(){return QuickCommandNLS}),__webpack_require__.d(__webpack_exports__,"e",function(){return QuickOutlineNLS}),__webpack_require__.d(__webpack_exports__,"g",function(){return StandaloneCodeEditorNLS}),__webpack_require__.d(__webpack_exports__,"h",function(){return ToggleHighContrastNLS}),__webpack_require__.d(__webpack_exports__,"f",function(){return SimpleServicesNLS});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),AccessibilityHelpNLS;(function(AccessibilityHelpNLS2){AccessibilityHelpNLS2.noSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("noSelection","No selection"),AccessibilityHelpNLS2.singleSelectionRange=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),AccessibilityHelpNLS2.singleSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("singleSelection","Line {0}, Column {1}"),AccessibilityHelpNLS2.multiSelectionRange=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiSelectionRange","{0} selections ({1} characters selected)"),AccessibilityHelpNLS2.multiSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiSelection","{0} selections"),AccessibilityHelpNLS2.emergencyConfOn=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),AccessibilityHelpNLS2.openingDocs=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("openingDocs","Now opening the Editor Accessibility documentation page."),AccessibilityHelpNLS2.readonlyDiffEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("readonlyDiffEditor"," in a read-only pane of a diff editor."),AccessibilityHelpNLS2.editableDiffEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editableDiffEditor"," in a pane of a diff editor."),AccessibilityHelpNLS2.readonlyEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("readonlyEditor"," in a read-only code editor"),AccessibilityHelpNLS2.editableEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editableEditor"," in a code editor"),AccessibilityHelpNLS2.changeConfigToOnMac=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),AccessibilityHelpNLS2.changeConfigToOnWinLinux=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),AccessibilityHelpNLS2.auto_on=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),AccessibilityHelpNLS2.auto_off=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),AccessibilityHelpNLS2.tabFocusModeOnMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),AccessibilityHelpNLS2.tabFocusModeOnMsgNoKb=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),AccessibilityHelpNLS2.tabFocusModeOffMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),AccessibilityHelpNLS2.tabFocusModeOffMsgNoKb=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),AccessibilityHelpNLS2.openDocMac=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),AccessibilityHelpNLS2.openDocWinLinux=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),AccessibilityHelpNLS2.outroMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),AccessibilityHelpNLS2.showAccessibilityHelpAction=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showAccessibilityHelpAction","Show Accessibility Help")})(AccessibilityHelpNLS||(AccessibilityHelpNLS={}));var InspectTokensNLS;(function(InspectTokensNLS2){InspectTokensNLS2.inspectTokensAction=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("inspectTokens","Developer: Inspect Tokens")})(InspectTokensNLS||(InspectTokensNLS={}));var GoToLineNLS;(function(GoToLineNLS2){GoToLineNLS2.gotoLineLabelValidLineAndColumn=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("gotoLineLabelValidLineAndColumn","Go to line {0} and character {1}"),GoToLineNLS2.gotoLineLabelValidLine=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("gotoLineLabelValidLine","Go to line {0}"),GoToLineNLS2.gotoLineLabelEmptyWithLineLimit=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("gotoLineLabelEmptyWithLineLimit","Type a line number between 1 and {0} to navigate to"),GoToLineNLS2.gotoLineLabelEmptyWithLineAndColumnLimit=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("gotoLineLabelEmptyWithLineAndColumnLimit","Type a character between 1 and {0} to navigate to"),GoToLineNLS2.gotoLineAriaLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("gotoLineAriaLabel","Current Line: {0}. Go to line {1}."),GoToLineNLS2.gotoLineActionInput=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("gotoLineActionInput","Type a line number, followed by an optional colon and a character number to navigate to"),GoToLineNLS2.gotoLineActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("gotoLineActionLabel","Go to Line...")})(GoToLineNLS||(GoToLineNLS={}));var QuickCommandNLS;(function(QuickCommandNLS2){QuickCommandNLS2.ariaLabelEntryWithKey=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("ariaLabelEntryWithKey","{0}, {1}, commands"),QuickCommandNLS2.ariaLabelEntry=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("ariaLabelEntry","{0}, commands"),QuickCommandNLS2.quickCommandActionInput=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickCommandActionInput","Type the name of an action you want to execute"),QuickCommandNLS2.quickCommandActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickCommandActionLabel","Command Palette")})(QuickCommandNLS||(QuickCommandNLS={}));var QuickOutlineNLS;(function(QuickOutlineNLS2){QuickOutlineNLS2.entryAriaLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("entryAriaLabel","{0}, symbols"),QuickOutlineNLS2.quickOutlineActionInput=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickOutlineActionInput","Type the name of an identifier you wish to navigate to"),QuickOutlineNLS2.quickOutlineActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickOutlineActionLabel","Go to Symbol..."),QuickOutlineNLS2._symbols_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("symbols","symbols ({0})"),QuickOutlineNLS2._modules_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("modules","modules ({0})"),QuickOutlineNLS2._class_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("class","classes ({0})"),QuickOutlineNLS2._interface_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("interface","interfaces ({0})"),QuickOutlineNLS2._method_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("method","methods ({0})"),QuickOutlineNLS2._function_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("function","functions ({0})"),QuickOutlineNLS2._property_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("property","properties ({0})"),QuickOutlineNLS2._variable_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("variable","variables ({0})"),QuickOutlineNLS2._variable2_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("variable2","variables ({0})"),QuickOutlineNLS2._constructor_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("_constructor","constructors ({0})"),QuickOutlineNLS2._call_=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("call","calls ({0})")})(QuickOutlineNLS||(QuickOutlineNLS={}));var StandaloneCodeEditorNLS;(function(StandaloneCodeEditorNLS2){StandaloneCodeEditorNLS2.editorViewAccessibleLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorViewAccessibleLabel","Editor content"),StandaloneCodeEditorNLS2.accessibilityHelpMessageIE=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilityHelpMessageIE","Press Ctrl+F1 for Accessibility Options."),StandaloneCodeEditorNLS2.accessibilityHelpMessage=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(StandaloneCodeEditorNLS||(StandaloneCodeEditorNLS={}));var ToggleHighContrastNLS;(function(ToggleHighContrastNLS2){ToggleHighContrastNLS2.toggleHighContrast=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("toggleHighContrast","Toggle High Contrast Theme")})(ToggleHighContrastNLS||(ToggleHighContrastNLS={}));var SimpleServicesNLS;(function(SimpleServicesNLS2){SimpleServicesNLS2.bulkEditServiceSummary=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("bulkEditServiceSummary","Made {0} edits in {1} files")})(SimpleServicesNLS||(SimpleServicesNLS={}))},2640:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return URI});var _platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2236),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),_a,_schemePattern=/^\w[\w\d+.-]*$/,_singleSlashStart=/^\//,_doubleSlashStart=/^\/\//;function _validateUri(ret,_strict){if(!ret.scheme&&_strict)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+ret.authority+'", path: "'+ret.path+'", query: "'+ret.query+'", fragment: "'+ret.fragment+'"}');if(ret.scheme&&!_schemePattern.test(ret.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ret.path){if(ret.authority){if(!_singleSlashStart.test(ret.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(_doubleSlashStart.test(ret.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function _schemeFix(scheme,_strict){return!scheme&&!_strict?"file":scheme}function _referenceResolution(scheme,path){switch(scheme){case"https":case"http":case"file":path?path[0]!==_slash&&(path=_slash+path):path=_slash;break}return path}var _empty="",_slash="/",_regexp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,URI=function(){function URI2(schemeOrData,authority,path,query,fragment,_strict){_strict===void 0&&(_strict=!1),typeof schemeOrData=="object"?(this.scheme=schemeOrData.scheme||_empty,this.authority=schemeOrData.authority||_empty,this.path=schemeOrData.path||_empty,this.query=schemeOrData.query||_empty,this.fragment=schemeOrData.fragment||_empty):(this.scheme=_schemeFix(schemeOrData,_strict),this.authority=authority||_empty,this.path=_referenceResolution(this.scheme,path||_empty),this.query=query||_empty,this.fragment=fragment||_empty,_validateUri(this,_strict))}return URI2.isUri=function(thing){return thing instanceof URI2?!0:thing?typeof thing.authority=="string"&&typeof thing.fragment=="string"&&typeof thing.path=="string"&&typeof thing.query=="string"&&typeof thing.scheme=="string"&&typeof thing.fsPath=="function"&&typeof thing.with=="function"&&typeof thing.toString=="function":!1},Object.defineProperty(URI2.prototype,"fsPath",{get:function(){return _makeFsPath(this)},enumerable:!0,configurable:!0}),URI2.prototype.with=function(change){if(!change)return this;var scheme=change.scheme,authority=change.authority,path=change.path,query=change.query,fragment=change.fragment;return scheme===void 0?scheme=this.scheme:scheme===null&&(scheme=_empty),authority===void 0?authority=this.authority:authority===null&&(authority=_empty),path===void 0?path=this.path:path===null&&(path=_empty),query===void 0?query=this.query:query===null&&(query=_empty),fragment===void 0?fragment=this.fragment:fragment===null&&(fragment=_empty),scheme===this.scheme&&authority===this.authority&&path===this.path&&query===this.query&&fragment===this.fragment?this:new _URI(scheme,authority,path,query,fragment)},URI2.parse=function(value,_strict){_strict===void 0&&(_strict=!1);var match=_regexp.exec(value);return match?new _URI(match[2]||_empty,percentDecode(match[4]||_empty),percentDecode(match[5]||_empty),percentDecode(match[7]||_empty),percentDecode(match[9]||_empty),_strict):new _URI(_empty,_empty,_empty,_empty,_empty)},URI2.file=function(path){var authority=_empty;if(_platform_js__WEBPACK_IMPORTED_MODULE_0__.h&&(path=path.replace(/\\/g,_slash)),path[0]===_slash&&path[1]===_slash){var idx=path.indexOf(_slash,2);idx===-1?(authority=path.substring(2),path=_slash):(authority=path.substring(2,idx),path=path.substring(idx)||_slash)}return new _URI("file",authority,path,_empty,_empty)},URI2.from=function(components){return new _URI(components.scheme,components.authority,components.path,components.query,components.fragment)},URI2.prototype.toString=function(skipEncoding){return skipEncoding===void 0&&(skipEncoding=!1),_asFormatted(this,skipEncoding)},URI2.prototype.toJSON=function(){return this},URI2.revive=function(data){if(data){if(data instanceof URI2)return data;var result=new _URI(data);return result._formatted=data.external,result._fsPath=data._sep===_pathSepMarker?data.fsPath:null,result}else return data},URI2}(),_pathSepMarker=_platform_js__WEBPACK_IMPORTED_MODULE_0__.h?1:void 0,_URI=function(_super){__extends(_URI2,_super);function _URI2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this._formatted=null,_this._fsPath=null,_this}return Object.defineProperty(_URI2.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=_makeFsPath(this)),this._fsPath},enumerable:!0,configurable:!0}),_URI2.prototype.toString=function(skipEncoding){return skipEncoding===void 0&&(skipEncoding=!1),skipEncoding?_asFormatted(this,!0):(this._formatted||(this._formatted=_asFormatted(this,!1)),this._formatted)},_URI2.prototype.toJSON=function(){var res={$mid:1};return this._fsPath&&(res.fsPath=this._fsPath,res._sep=_pathSepMarker),this._formatted&&(res.external=this._formatted),this.path&&(res.path=this.path),this.scheme&&(res.scheme=this.scheme),this.authority&&(res.authority=this.authority),this.query&&(res.query=this.query),this.fragment&&(res.fragment=this.fragment),res},_URI2}(URI),encodeTable=(_a={},_a[58]="%3A",_a[47]="%2F",_a[63]="%3F",_a[35]="%23",_a[91]="%5B",_a[93]="%5D",_a[64]="%40",_a[33]="%21",_a[36]="%24",_a[38]="%26",_a[39]="%27",_a[40]="%28",_a[41]="%29",_a[42]="%2A",_a[43]="%2B",_a[44]="%2C",_a[59]="%3B",_a[61]="%3D",_a[32]="%20",_a);function encodeURIComponentFast(uriComponent,allowSlash){for(var res=void 0,nativeEncodePos=-1,pos=0;pos<uriComponent.length;pos++){var code=uriComponent.charCodeAt(pos);if(code>=97&&code<=122||code>=65&&code<=90||code>=48&&code<=57||code===45||code===46||code===95||code===126||allowSlash&&code===47)nativeEncodePos!==-1&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos,pos)),nativeEncodePos=-1),res!==void 0&&(res+=uriComponent.charAt(pos));else{res===void 0&&(res=uriComponent.substr(0,pos));var escaped=encodeTable[code];escaped!==void 0?(nativeEncodePos!==-1&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos,pos)),nativeEncodePos=-1),res+=escaped):nativeEncodePos===-1&&(nativeEncodePos=pos)}}return nativeEncodePos!==-1&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos))),res!==void 0?res:uriComponent}function encodeURIComponentMinimal(path){for(var res=void 0,pos=0;pos<path.length;pos++){var code=path.charCodeAt(pos);code===35||code===63?(res===void 0&&(res=path.substr(0,pos)),res+=encodeTable[code]):res!==void 0&&(res+=path[pos])}return res!==void 0?res:path}function _makeFsPath(uri){var value;return uri.authority&&uri.path.length>1&&uri.scheme==="file"?value="//"+uri.authority+uri.path:uri.path.charCodeAt(0)===47&&(uri.path.charCodeAt(1)>=65&&uri.path.charCodeAt(1)<=90||uri.path.charCodeAt(1)>=97&&uri.path.charCodeAt(1)<=122)&&uri.path.charCodeAt(2)===58?value=uri.path[1].toLowerCase()+uri.path.substr(2):value=uri.path,_platform_js__WEBPACK_IMPORTED_MODULE_0__.h&&(value=value.replace(/\//g,"\\")),value}function _asFormatted(uri,skipEncoding){var encoder=skipEncoding?encodeURIComponentMinimal:encodeURIComponentFast,res="",scheme=uri.scheme,authority=uri.authority,path=uri.path,query=uri.query,fragment=uri.fragment;if(scheme&&(res+=scheme,res+=":"),(authority||scheme==="file")&&(res+=_slash,res+=_slash),authority){var idx=authority.indexOf("@");if(idx!==-1){var userinfo=authority.substr(0,idx);authority=authority.substr(idx+1),idx=userinfo.indexOf(":"),idx===-1?res+=encoder(userinfo,!1):(res+=encoder(userinfo.substr(0,idx),!1),res+=":",res+=encoder(userinfo.substr(idx+1),!1)),res+="@"}authority=authority.toLowerCase(),idx=authority.indexOf(":"),idx===-1?res+=encoder(authority,!1):(res+=encoder(authority.substr(0,idx),!1),res+=authority.substr(idx))}if(path){if(path.length>=3&&path.charCodeAt(0)===47&&path.charCodeAt(2)===58){var code=path.charCodeAt(1);code>=65&&code<=90&&(path="/"+String.fromCharCode(code+32)+":"+path.substr(3))}else if(path.length>=2&&path.charCodeAt(1)===58){var code=path.charCodeAt(0);code>=65&&code<=90&&(path=String.fromCharCode(code+32)+":"+path.substr(2))}res+=encoder(path,!0)}return query&&(res+="?",res+=encoder(query,!1)),fragment&&(res+="#",res+=skipEncoding?fragment:encodeURIComponentFast(fragment,!1)),res}function decodeURIComponentGraceful(str){try{return decodeURIComponent(str)}catch{return str.length>3?str.substr(0,3)+decodeURIComponentGraceful(str.substr(3)):str}}var _rEncodedAsHex=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function percentDecode(str){return str.match(_rEncodedAsHex)?str.replace(_rEncodedAsHex,function(match){return decodeURIComponentGraceful(match)}):str}},2642:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return getZoomLevel}),__webpack_require__.d(__webpack_exports__,"b",function(){return getTimeSinceLastZoomLevelChanged}),__webpack_require__.d(__webpack_exports__,"o",function(){return onDidChangeZoomLevel}),__webpack_require__.d(__webpack_exports__,"a",function(){return getPixelRatio}),__webpack_require__.d(__webpack_exports__,"i",function(){return isIE}),__webpack_require__.d(__webpack_exports__,"e",function(){return isEdge}),__webpack_require__.d(__webpack_exports__,"f",function(){return isEdgeOrIE}),__webpack_require__.d(__webpack_exports__,"h",function(){return isFirefox}),__webpack_require__.d(__webpack_exports__,"m",function(){return isWebKit}),__webpack_require__.d(__webpack_exports__,"d",function(){return isChrome}),__webpack_require__.d(__webpack_exports__,"k",function(){return isSafari}),__webpack_require__.d(__webpack_exports__,"n",function(){return isWebkitWebView}),__webpack_require__.d(__webpack_exports__,"j",function(){return isIPad}),__webpack_require__.d(__webpack_exports__,"g",function(){return isEdgeWebView}),__webpack_require__.d(__webpack_exports__,"l",function(){return isStandalone});var _common_event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2106),WindowManager=function(){function WindowManager2(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new _common_event_js__WEBPACK_IMPORTED_MODULE_0__.a,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return WindowManager2.prototype.getZoomLevel=function(){return this._zoomLevel},WindowManager2.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},WindowManager2.prototype.getPixelRatio=function(){var ctx=document.createElement("canvas").getContext("2d"),dpr=window.devicePixelRatio||1,bsr=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1;return dpr/bsr},WindowManager2.INSTANCE=new WindowManager2,WindowManager2}();function getZoomLevel(){return WindowManager.INSTANCE.getZoomLevel()}function getTimeSinceLastZoomLevelChanged(){return WindowManager.INSTANCE.getTimeSinceLastZoomLevelChanged()}function onDidChangeZoomLevel(callback){return WindowManager.INSTANCE.onDidChangeZoomLevel(callback)}function getPixelRatio(){return WindowManager.INSTANCE.getPixelRatio()}var userAgent=navigator.userAgent,isIE=userAgent.indexOf("Trident")>=0,isEdge=userAgent.indexOf("Edge/")>=0,isEdgeOrIE=isIE||isEdge,isFirefox=userAgent.indexOf("Firefox")>=0,isWebKit=userAgent.indexOf("AppleWebKit")>=0,isChrome=userAgent.indexOf("Chrome")>=0,isSafari=!isChrome&&userAgent.indexOf("Safari")>=0,isWebkitWebView=!isChrome&&!isSafari&&isWebKit,isIPad=userAgent.indexOf("iPad")>=0,isEdgeWebView=isEdge&&userAgent.indexOf("WebView/")>=0,isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},2649:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CancellationToken}),__webpack_require__.d(__webpack_exports__,"b",function(){return CancellationTokenSource});var _event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2106),shortcutEvent=Object.freeze(function(callback,context){var handle=setTimeout(callback.bind(context),0);return{dispose:function(){clearTimeout(handle)}}}),CancellationToken;(function(CancellationToken2){function isCancellationToken(thing){return thing===CancellationToken2.None||thing===CancellationToken2.Cancelled||thing instanceof MutableToken?!0:!thing||typeof thing!="object"?!1:typeof thing.isCancellationRequested=="boolean"&&typeof thing.onCancellationRequested=="function"}CancellationToken2.isCancellationToken=isCancellationToken,CancellationToken2.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_event_js__WEBPACK_IMPORTED_MODULE_0__.b.None}),CancellationToken2.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:shortcutEvent})})(CancellationToken||(CancellationToken={}));var MutableToken=function(){function MutableToken2(){this._isCancelled=!1,this._emitter=null}return MutableToken2.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(MutableToken2.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(MutableToken2.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?shortcutEvent:(this._emitter||(this._emitter=new _event_js__WEBPACK_IMPORTED_MODULE_0__.a),this._emitter.event)},enumerable:!0,configurable:!0}),MutableToken2.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)},MutableToken2}(),CancellationTokenSource=function(){function CancellationTokenSource2(parent){this._token=void 0,this._parentListener=void 0,this._parentListener=parent&&parent.onCancellationRequested(this.cancel,this)}return Object.defineProperty(CancellationTokenSource2.prototype,"token",{get:function(){return this._token||(this._token=new MutableToken),this._token},enumerable:!0,configurable:!0}),CancellationTokenSource2.prototype.cancel=function(){this._token?this._token instanceof MutableToken&&this._token.cancel():this._token=CancellationToken.Cancelled},CancellationTokenSource2.prototype.dispose=function(cancel){cancel===void 0&&(cancel=!1),cancel&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof MutableToken&&this._token.dispose():this._token=CancellationToken.None},CancellationTokenSource2}()},2653:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return codeEditorWidget_CodeEditorWidget});var media_editor=__webpack_require__(5762),nls=__webpack_require__(2069),dom=__webpack_require__(2124),errors=__webpack_require__(2176),common_event=__webpack_require__(2106),lifecycle=__webpack_require__(2033),network=__webpack_require__(2814),config_configuration=__webpack_require__(3175),editorExtensions=__webpack_require__(2099),services_codeEditorService=__webpack_require__(2732),fastDomNode=__webpack_require__(2662),platform=__webpack_require__(2236),touch=__webpack_require__(3112),browser=__webpack_require__(2642),mouseEvent=__webpack_require__(2813),common_async=__webpack_require__(2237),globalMouseMoveMonitor=__webpack_require__(3238),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),editorDom_PageCoordinates=function(){function PageCoordinates(x,y){this.x=x,this.y=y}return PageCoordinates.prototype.toClientCoordinates=function(){return new editorDom_ClientCoordinates(this.x-dom.e.scrollX,this.y-dom.e.scrollY)},PageCoordinates}(),editorDom_ClientCoordinates=function(){function ClientCoordinates(clientX,clientY){this.clientX=clientX,this.clientY=clientY}return ClientCoordinates.prototype.toPageCoordinates=function(){return new editorDom_PageCoordinates(this.clientX+dom.e.scrollX,this.clientY+dom.e.scrollY)},ClientCoordinates}(),EditorPagePosition=function(){function EditorPagePosition2(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height}return EditorPagePosition2}();function createEditorPagePosition(editorViewDomNode){var editorPos=dom.B(editorViewDomNode);return new EditorPagePosition(editorPos.left,editorPos.top,editorPos.width,editorPos.height)}var EditorMouseEvent=function(_super){__extends(EditorMouseEvent2,_super);function EditorMouseEvent2(e,editorViewDomNode){var _this=_super.call(this,e)||this;return _this.pos=new editorDom_PageCoordinates(_this.posx,_this.posy),_this.editorPos=createEditorPagePosition(editorViewDomNode),_this}return EditorMouseEvent2}(mouseEvent.b),editorDom_EditorMouseEventFactory=function(){function EditorMouseEventFactory(editorViewDomNode){this._editorViewDomNode=editorViewDomNode}return EditorMouseEventFactory.prototype._create=function(e){return new EditorMouseEvent(e,this._editorViewDomNode)},EditorMouseEventFactory.prototype.onContextMenu=function(target,callback){var _this=this;return dom.j(target,"contextmenu",function(e){callback(_this._create(e))})},EditorMouseEventFactory.prototype.onMouseUp=function(target,callback){var _this=this;return dom.j(target,"mouseup",function(e){callback(_this._create(e))})},EditorMouseEventFactory.prototype.onMouseDown=function(target,callback){var _this=this;return dom.j(target,"mousedown",function(e){callback(_this._create(e))})},EditorMouseEventFactory.prototype.onMouseLeave=function(target,callback){var _this=this;return dom.k(target,function(e){callback(_this._create(e))})},EditorMouseEventFactory.prototype.onMouseMoveThrottled=function(target,callback,merger,minimumTimeMs){var _this=this,myMerger=function(lastEvent,currentEvent){return merger(lastEvent,_this._create(currentEvent))};return dom.m(target,"mousemove",callback,myMerger,minimumTimeMs)},EditorMouseEventFactory}(),editorDom_EditorPointerEventFactory=function(){function EditorPointerEventFactory(editorViewDomNode){this._editorViewDomNode=editorViewDomNode}return EditorPointerEventFactory.prototype._create=function(e){return new EditorMouseEvent(e,this._editorViewDomNode)},EditorPointerEventFactory.prototype.onPointerUp=function(target,callback){var _this=this;return dom.j(target,"pointerup",function(e){callback(_this._create(e))})},EditorPointerEventFactory.prototype.onPointerDown=function(target,callback){var _this=this;return dom.j(target,"pointerdown",function(e){callback(_this._create(e))})},EditorPointerEventFactory.prototype.onPointerLeave=function(target,callback){var _this=this;return dom.l(target,function(e){callback(_this._create(e))})},EditorPointerEventFactory.prototype.onPointerMoveThrottled=function(target,callback,merger,minimumTimeMs){var _this=this,myMerger=function(lastEvent,currentEvent){return merger(lastEvent,_this._create(currentEvent))};return dom.m(target,"pointermove",callback,myMerger,minimumTimeMs)},EditorPointerEventFactory}(),editorDom_GlobalEditorMouseMoveMonitor=function(_super){__extends(GlobalEditorMouseMoveMonitor,_super);function GlobalEditorMouseMoveMonitor(editorViewDomNode){var _this=_super.call(this)||this;return _this._editorViewDomNode=editorViewDomNode,_this._globalMouseMoveMonitor=_this._register(new globalMouseMoveMonitor.a),_this._keydownListener=null,_this}return GlobalEditorMouseMoveMonitor.prototype.startMonitoring=function(merger,mouseMoveCallback,onStopCallback){var _this=this;this._keydownListener=dom.o(document,"keydown",function(e){var kb=e.toKeybinding();kb.isModifierKey()||_this._globalMouseMoveMonitor.stopMonitoring(!0)},!0);var myMerger=function(lastEvent,currentEvent){return merger(lastEvent,new EditorMouseEvent(currentEvent,_this._editorViewDomNode))};this._globalMouseMoveMonitor.startMonitoring(myMerger,mouseMoveCallback,function(){_this._keydownListener.dispose(),onStopCallback()})},GlobalEditorMouseMoveMonitor}(lifecycle.a),viewEventHandler_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ViewEventHandler=function(_super){viewEventHandler_extends(ViewEventHandler2,_super);function ViewEventHandler2(){var _this=_super.call(this)||this;return _this._shouldRender=!0,_this}return ViewEventHandler2.prototype.shouldRender=function(){return this._shouldRender},ViewEventHandler2.prototype.forceShouldRender=function(){this._shouldRender=!0},ViewEventHandler2.prototype.setShouldRender=function(){this._shouldRender=!0},ViewEventHandler2.prototype.onDidRender=function(){this._shouldRender=!1},ViewEventHandler2.prototype.onConfigurationChanged=function(e){return!1},ViewEventHandler2.prototype.onCursorStateChanged=function(e){return!1},ViewEventHandler2.prototype.onDecorationsChanged=function(e){return!1},ViewEventHandler2.prototype.onFlushed=function(e){return!1},ViewEventHandler2.prototype.onFocusChanged=function(e){return!1},ViewEventHandler2.prototype.onLanguageConfigurationChanged=function(e){return!1},ViewEventHandler2.prototype.onLineMappingChanged=function(e){return!1},ViewEventHandler2.prototype.onLinesChanged=function(e){return!1},ViewEventHandler2.prototype.onLinesDeleted=function(e){return!1},ViewEventHandler2.prototype.onLinesInserted=function(e){return!1},ViewEventHandler2.prototype.onRevealRangeRequest=function(e){return!1},ViewEventHandler2.prototype.onScrollChanged=function(e){return!1},ViewEventHandler2.prototype.onTokensChanged=function(e){return!1},ViewEventHandler2.prototype.onTokensColorsChanged=function(e){return!1},ViewEventHandler2.prototype.onZonesChanged=function(e){return!1},ViewEventHandler2.prototype.onThemeChanged=function(e){return!1},ViewEventHandler2.prototype.handleEvents=function(events){for(var shouldRender=!1,i=0,len=events.length;i<len;i++){var e=events[i];switch(e.type){case 1:this.onConfigurationChanged(e)&&(shouldRender=!0);break;case 2:this.onCursorStateChanged(e)&&(shouldRender=!0);break;case 3:this.onDecorationsChanged(e)&&(shouldRender=!0);break;case 4:this.onFlushed(e)&&(shouldRender=!0);break;case 5:this.onFocusChanged(e)&&(shouldRender=!0);break;case 16:this.onLanguageConfigurationChanged(e)&&(shouldRender=!0);break;case 6:this.onLineMappingChanged(e)&&(shouldRender=!0);break;case 7:this.onLinesChanged(e)&&(shouldRender=!0);break;case 8:this.onLinesDeleted(e)&&(shouldRender=!0);break;case 9:this.onLinesInserted(e)&&(shouldRender=!0);break;case 10:this.onRevealRangeRequest(e)&&(shouldRender=!0);break;case 11:this.onScrollChanged(e)&&(shouldRender=!0);break;case 12:this.onTokensChanged(e)&&(shouldRender=!0);break;case 13:this.onTokensColorsChanged(e)&&(shouldRender=!0);break;case 14:this.onZonesChanged(e)&&(shouldRender=!0);break;case 15:this.onThemeChanged(e)&&(shouldRender=!0);break;default:console.info("View received unknown event: "),console.info(e)}}shouldRender&&(this._shouldRender=!0)},ViewEventHandler2}(lifecycle.a),viewPart_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ViewPart=function(_super){viewPart_extends(ViewPart2,_super);function ViewPart2(context){var _this=_super.call(this)||this;return _this._context=context,_this._context.addEventHandler(_this),_this}return ViewPart2.prototype.dispose=function(){this._context.removeEventHandler(this),_super.prototype.dispose.call(this)},ViewPart2}(ViewEventHandler),viewPart_PartFingerprints=function(){function PartFingerprints(){}return PartFingerprints.write=function(target,partId){target instanceof fastDomNode.a,target.setAttribute("data-mprt",String(partId))},PartFingerprints.read=function(target){var r=target.getAttribute("data-mprt");return r===null?0:parseInt(r,10)},PartFingerprints.collect=function(child,stopAt){for(var result=[],resultLen=0;child&&child!==document.body&&child!==stopAt;)child.nodeType===child.ELEMENT_NODE&&(result[resultLen++]=this.read(child)),child=child.parentElement;for(var r=new Uint8Array(resultLen),i=0;i<resultLen;i++)r[i]=result[resultLen-i-1];return r},PartFingerprints}(),renderingContext_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),RestrictedRenderingContext=function(){function RestrictedRenderingContext2(viewLayout,viewportData){this._viewLayout=viewLayout,this.viewportData=viewportData,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var vInfo=this._viewLayout.getCurrentViewport();this.scrollTop=vInfo.top,this.scrollLeft=vInfo.left,this.viewportWidth=vInfo.width,this.viewportHeight=vInfo.height}return RestrictedRenderingContext2.prototype.getScrolledTopFromAbsoluteTop=function(absoluteTop){return absoluteTop-this.scrollTop},RestrictedRenderingContext2.prototype.getVerticalOffsetForLineNumber=function(lineNumber){return this._viewLayout.getVerticalOffsetForLineNumber(lineNumber)},RestrictedRenderingContext2.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},RestrictedRenderingContext2}(),RenderingContext=function(_super){renderingContext_extends(RenderingContext2,_super);function RenderingContext2(viewLayout,viewportData,viewLines2){var _this=_super.call(this,viewLayout,viewportData)||this;return _this._viewLines=viewLines2,_this}return RenderingContext2.prototype.linesVisibleRangesForRange=function(range,includeNewLines){return this._viewLines.linesVisibleRangesForRange(range,includeNewLines)},RenderingContext2.prototype.visibleRangeForPosition=function(position){return this._viewLines.visibleRangeForPosition(position)},RenderingContext2}(RestrictedRenderingContext),LineVisibleRanges=function(){function LineVisibleRanges2(outsideRenderedLine,lineNumber,ranges){this.outsideRenderedLine=outsideRenderedLine,this.lineNumber=lineNumber,this.ranges=ranges}return LineVisibleRanges2}(),HorizontalRange=function(){function HorizontalRange2(left,width){this.left=Math.round(left),this.width=Math.round(width)}return HorizontalRange2.prototype.toString=function(){return"["+this.left+","+this.width+"]"},HorizontalRange2}(),HorizontalPosition=function(){function HorizontalPosition2(outsideRenderedLine,left){this.outsideRenderedLine=outsideRenderedLine,this.left=Math.round(left)}return HorizontalPosition2}(),VisibleRanges=function(){function VisibleRanges2(outsideRenderedLine,ranges){this.outsideRenderedLine=outsideRenderedLine,this.ranges=ranges}return VisibleRanges2}(),FloatHorizontalRange=function(){function FloatHorizontalRange2(left,width){this.left=left,this.width=width}return FloatHorizontalRange2.prototype.toString=function(){return"["+this.left+","+this.width+"]"},FloatHorizontalRange2.compare=function(a,b){return a.left-b.left},FloatHorizontalRange2}(),rangeUtil_RangeUtil=function(){function RangeUtil(){}return RangeUtil._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},RangeUtil._detachRange=function(range,endNode){range.selectNodeContents(endNode)},RangeUtil._readClientRects=function(startElement,startOffset,endElement,endOffset,endNode){var range=this._createRange();try{return range.setStart(startElement,startOffset),range.setEnd(endElement,endOffset),range.getClientRects()}catch{return null}finally{this._detachRange(range,endNode)}},RangeUtil._mergeAdjacentRanges=function(ranges){if(ranges.length===1)return[new HorizontalRange(ranges[0].left,ranges[0].width)];ranges.sort(FloatHorizontalRange.compare);for(var result=[],resultLen=0,prevLeft=ranges[0].left,prevWidth=ranges[0].width,i=1,len=ranges.length;i<len;i++){var range=ranges[i],myLeft=range.left,myWidth=range.width;prevLeft+prevWidth+.9>=myLeft?prevWidth=Math.max(prevWidth,myLeft+myWidth-prevLeft):(result[resultLen++]=new HorizontalRange(prevLeft,prevWidth),prevLeft=myLeft,prevWidth=myWidth)}return result[resultLen++]=new HorizontalRange(prevLeft,prevWidth),result},RangeUtil._createHorizontalRangesFromClientRects=function(clientRects,clientRectDeltaLeft){if(!clientRects||clientRects.length===0)return null;for(var result=[],i=0,len=clientRects.length;i<len;i++){var clientRect=clientRects[i];result[i]=new FloatHorizontalRange(Math.max(0,clientRect.left-clientRectDeltaLeft),clientRect.width)}return this._mergeAdjacentRanges(result)},RangeUtil.readHorizontalRanges=function(domNode,startChildIndex,startOffset,endChildIndex,endOffset,clientRectDeltaLeft,endNode){var min=0,max=domNode.children.length-1;if(min>max)return null;startChildIndex=Math.min(max,Math.max(min,startChildIndex)),endChildIndex=Math.min(max,Math.max(min,endChildIndex)),startChildIndex!==endChildIndex&&endChildIndex>0&&endOffset===0&&(endChildIndex--,endOffset=1073741824);var startElement=domNode.children[startChildIndex].firstChild,endElement=domNode.children[endChildIndex].firstChild;if((!startElement||!endElement)&&(!startElement&&startOffset===0&&startChildIndex>0&&(startElement=domNode.children[startChildIndex-1].firstChild,startOffset=1073741824),!endElement&&endOffset===0&&endChildIndex>0&&(endElement=domNode.children[endChildIndex-1].firstChild,endOffset=1073741824)),!startElement||!endElement)return null;startOffset=Math.min(startElement.textContent.length,Math.max(0,startOffset)),endOffset=Math.min(endElement.textContent.length,Math.max(0,endOffset));var clientRects=this._readClientRects(startElement,startOffset,endElement,endOffset,endNode);return this._createHorizontalRangesFromClientRects(clientRects,clientRectDeltaLeft)},RangeUtil}(),lineDecorations=__webpack_require__(3503),viewLineRenderer=__webpack_require__(3377),common_themeService=__webpack_require__(2235),editorOptions=__webpack_require__(2784),viewLine_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),canUseFastRenderedViewLine=function(){return platform.f?!0:!(platform.d||browser.h||browser.k)}(),alwaysRenderInlineSelection=browser.f,DomReadingContext=function(){function DomReadingContext2(domNode,endNode){this._domNode=domNode,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=endNode}return Object.defineProperty(DomReadingContext2.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),DomReadingContext2}(),ViewLineOptions=function(){function ViewLineOptions2(config,themeType){this.themeType=themeType;var options=config.options,fontInfo=options.get(32);this.renderWhitespace=options.get(70),this.renderControlCharacters=options.get(66),this.spaceWidth=fontInfo.spaceWidth,this.useMonospaceOptimizations=fontInfo.isMonospace&&!options.get(22),this.canUseHalfwidthRightwardsArrow=fontInfo.canUseHalfwidthRightwardsArrow,this.lineHeight=options.get(47),this.stopRenderingLineAfter=options.get(84),this.fontLigatures=options.get(33)}return ViewLineOptions2.prototype.equals=function(other){return this.themeType===other.themeType&&this.renderWhitespace===other.renderWhitespace&&this.renderControlCharacters===other.renderControlCharacters&&this.spaceWidth===other.spaceWidth&&this.useMonospaceOptimizations===other.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===other.canUseHalfwidthRightwardsArrow&&this.lineHeight===other.lineHeight&&this.stopRenderingLineAfter===other.stopRenderingLineAfter&&this.fontLigatures===other.fontLigatures},ViewLineOptions2}(),viewLine_ViewLine=function(){function ViewLine(options){this._options=options,this._isMaybeInvalid=!0,this._renderedViewLine=null}return ViewLine.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},ViewLine.prototype.setDomNode=function(domNode){if(this._renderedViewLine)this._renderedViewLine.domNode=Object(fastDomNode.b)(domNode);else throw new Error("I have no rendered view line to set the dom node to...")},ViewLine.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onOptionsChanged=function(newOptions){this._isMaybeInvalid=!0,this._options=newOptions},ViewLine.prototype.onSelectionChanged=function(){return alwaysRenderInlineSelection||this._options.themeType===common_themeService.b||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1},ViewLine.prototype.renderLine=function(lineNumber,deltaTop,viewportData,sb){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;var lineData=viewportData.getViewLineRenderingData(lineNumber),options=this._options,actualInlineDecorations=lineDecorations.a.filter(lineData.inlineDecorations,lineNumber,lineData.minColumn,lineData.maxColumn),selectionsOnLine=null;if(alwaysRenderInlineSelection||options.themeType===common_themeService.b||this._options.renderWhitespace==="selection")for(var selections=viewportData.selections,_i=0,selections_1=selections;_i<selections_1.length;_i++){var selection=selections_1[_i];if(!(selection.endLineNumber<lineNumber||selection.startLineNumber>lineNumber)){var startColumn=selection.startLineNumber===lineNumber?selection.startColumn:lineData.minColumn,endColumn=selection.endLineNumber===lineNumber?selection.endColumn:lineData.maxColumn;startColumn<endColumn&&(this._options.renderWhitespace!=="selection"?actualInlineDecorations.push(new lineDecorations.a(startColumn,endColumn,"inline-selected-text",0)):(selectionsOnLine||(selectionsOnLine=[]),selectionsOnLine.push(new viewLineRenderer.b(startColumn-1,endColumn-1))))}}var renderLineInput=new viewLineRenderer.c(options.useMonospaceOptimizations,options.canUseHalfwidthRightwardsArrow,lineData.content,lineData.continuesWithWrappedLine,lineData.isBasicASCII,lineData.containsRTL,lineData.minColumn-1,lineData.tokens,actualInlineDecorations,lineData.tabSize,options.spaceWidth,options.stopRenderingLineAfter,options.renderWhitespace,options.renderControlCharacters,options.fontLigatures!==editorOptions.d.OFF,selectionsOnLine);if(this._renderedViewLine&&this._renderedViewLine.input.equals(renderLineInput))return!1;sb.appendASCIIString('<div style="top:'),sb.appendASCIIString(String(deltaTop)),sb.appendASCIIString("px;height:"),sb.appendASCIIString(String(this._options.lineHeight)),sb.appendASCIIString('px;" class="'),sb.appendASCIIString(ViewLine.CLASS_NAME),sb.appendASCIIString('">');var output=Object(viewLineRenderer.d)(renderLineInput,sb);sb.appendASCIIString("</div>");var renderedViewLine=null;return canUseFastRenderedViewLine&&lineData.isBasicASCII&&options.useMonospaceOptimizations&&output.containsForeignElements===0&&lineData.content.length<300&&renderLineInput.lineTokens.getCount()<100&&(renderedViewLine=new viewLine_FastRenderedViewLine(this._renderedViewLine?this._renderedViewLine.domNode:null,renderLineInput,output.characterMapping)),renderedViewLine||(renderedViewLine=createRenderedLine(this._renderedViewLine?this._renderedViewLine.domNode:null,renderLineInput,output.characterMapping,output.containsRTL,output.containsForeignElements)),this._renderedViewLine=renderedViewLine,!0},ViewLine.prototype.layoutLine=function(lineNumber,deltaTop){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(deltaTop),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},ViewLine.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},ViewLine.prototype.getWidthIsFast=function(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0},ViewLine.prototype.getVisibleRangesForRange=function(startColumn,endColumn,context){if(!this._renderedViewLine)return null;startColumn=startColumn|0,endColumn=endColumn|0,startColumn=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,startColumn)),endColumn=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,endColumn));var stopRenderingLineAfter=this._renderedViewLine.input.stopRenderingLineAfter|0,outsideRenderedLine=!1;stopRenderingLineAfter!==-1&&startColumn>stopRenderingLineAfter+1&&endColumn>stopRenderingLineAfter+1&&(outsideRenderedLine=!0),stopRenderingLineAfter!==-1&&startColumn>stopRenderingLineAfter+1&&(startColumn=stopRenderingLineAfter+1),stopRenderingLineAfter!==-1&&endColumn>stopRenderingLineAfter+1&&(endColumn=stopRenderingLineAfter+1);var horizontalRanges=this._renderedViewLine.getVisibleRangesForRange(startColumn,endColumn,context);return horizontalRanges&&horizontalRanges.length>0?new VisibleRanges(outsideRenderedLine,horizontalRanges):null},ViewLine.prototype.getColumnOfNodeOffset=function(lineNumber,spanNode,offset){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(lineNumber,spanNode,offset):1},ViewLine.CLASS_NAME="view-line",ViewLine}(),viewLine_FastRenderedViewLine=function(){function FastRenderedViewLine(domNode,renderLineInput,characterMapping){this.domNode=domNode,this.input=renderLineInput,this._characterMapping=characterMapping,this._charWidth=renderLineInput.spaceWidth}return FastRenderedViewLine.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},FastRenderedViewLine.prototype.getWidthIsFast=function(){return!0},FastRenderedViewLine.prototype.getVisibleRangesForRange=function(startColumn,endColumn,context){var startPosition=this._getCharPosition(startColumn),endPosition=this._getCharPosition(endColumn);return[new HorizontalRange(startPosition,endPosition-startPosition)]},FastRenderedViewLine.prototype._getCharPosition=function(column){var charOffset=this._characterMapping.getAbsoluteOffsets();return charOffset.length===0?0:Math.round(this._charWidth*charOffset[column-1])},FastRenderedViewLine.prototype.getColumnOfNodeOffset=function(lineNumber,spanNode,offset){for(var spanNodeTextContentLength=spanNode.textContent.length,spanIndex=-1;spanNode;)spanNode=spanNode.previousSibling,spanIndex++;var charOffset=this._characterMapping.partDataToCharOffset(spanIndex,spanNodeTextContentLength,offset);return charOffset+1},FastRenderedViewLine}(),viewLine_RenderedViewLine=function(){function RenderedViewLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements){if(this.domNode=domNode,this.input=renderLineInput,this._characterMapping=characterMapping,this._isWhitespaceOnly=/^\s*$/.test(renderLineInput.lineContent),this._containsForeignElements=containsForeignElements,this._cachedWidth=-1,this._pixelOffsetCache=null,!containsRTL||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var column=0,len=this._characterMapping.length;column<=len;column++)this._pixelOffsetCache[column]=-1}}return RenderedViewLine.prototype._getReadingTarget=function(myDomNode){return myDomNode.domNode.firstChild},RenderedViewLine.prototype.getWidth=function(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0},RenderedViewLine.prototype.getWidthIsFast=function(){return this._cachedWidth!==-1},RenderedViewLine.prototype.getVisibleRangesForRange=function(startColumn,endColumn,context){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){var startOffset=this._readPixelOffset(this.domNode,startColumn,context);if(startOffset===-1)return null;var endOffset=this._readPixelOffset(this.domNode,endColumn,context);return endOffset===-1?null:[new HorizontalRange(startOffset,endOffset-startOffset)]}return this._readVisibleRangesForRange(this.domNode,startColumn,endColumn,context)},RenderedViewLine.prototype._readVisibleRangesForRange=function(domNode,startColumn,endColumn,context){if(startColumn===endColumn){var pixelOffset=this._readPixelOffset(domNode,startColumn,context);return pixelOffset===-1?null:[new HorizontalRange(pixelOffset,0)]}else return this._readRawVisibleRangesForRange(domNode,startColumn,endColumn,context)},RenderedViewLine.prototype._readPixelOffset=function(domNode,column,context){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth()}if(this._pixelOffsetCache!==null){var cachedPixelOffset=this._pixelOffsetCache[column];if(cachedPixelOffset!==-1)return cachedPixelOffset;var result=this._actualReadPixelOffset(domNode,column,context);return this._pixelOffsetCache[column]=result,result}return this._actualReadPixelOffset(domNode,column,context)},RenderedViewLine.prototype._actualReadPixelOffset=function(domNode,column,context){if(this._characterMapping.length===0){var r_1=rangeUtil_RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode),0,0,0,0,context.clientRectDeltaLeft,context.endNode);return!r_1||r_1.length===0?-1:r_1[0].left}if(column===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();var partData=this._characterMapping.charOffsetToPartData(column-1),partIndex=viewLineRenderer.a.getPartIndex(partData),charOffsetInPart=viewLineRenderer.a.getCharIndex(partData),r=rangeUtil_RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode),partIndex,charOffsetInPart,partIndex,charOffsetInPart,context.clientRectDeltaLeft,context.endNode);return!r||r.length===0?-1:r[0].left},RenderedViewLine.prototype._readRawVisibleRangesForRange=function(domNode,startColumn,endColumn,context){if(startColumn===1&&endColumn===this._characterMapping.length)return[new HorizontalRange(0,this.getWidth())];var startPartData=this._characterMapping.charOffsetToPartData(startColumn-1),startPartIndex=viewLineRenderer.a.getPartIndex(startPartData),startCharOffsetInPart=viewLineRenderer.a.getCharIndex(startPartData),endPartData=this._characterMapping.charOffsetToPartData(endColumn-1),endPartIndex=viewLineRenderer.a.getPartIndex(endPartData),endCharOffsetInPart=viewLineRenderer.a.getCharIndex(endPartData);return rangeUtil_RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode),startPartIndex,startCharOffsetInPart,endPartIndex,endCharOffsetInPart,context.clientRectDeltaLeft,context.endNode)},RenderedViewLine.prototype.getColumnOfNodeOffset=function(lineNumber,spanNode,offset){for(var spanNodeTextContentLength=spanNode.textContent.length,spanIndex=-1;spanNode;)spanNode=spanNode.previousSibling,spanIndex++;var charOffset=this._characterMapping.partDataToCharOffset(spanIndex,spanNodeTextContentLength,offset);return charOffset+1},RenderedViewLine}(),WebKitRenderedViewLine=function(_super){viewLine_extends(WebKitRenderedViewLine2,_super);function WebKitRenderedViewLine2(){return _super!==null&&_super.apply(this,arguments)||this}return WebKitRenderedViewLine2.prototype._readVisibleRangesForRange=function(domNode,startColumn,endColumn,context){var output=_super.prototype._readVisibleRangesForRange.call(this,domNode,startColumn,endColumn,context);if(!output||output.length===0||startColumn===endColumn||startColumn===1&&endColumn===this._characterMapping.length)return output;if(!this.input.containsRTL){var endPixelOffset=this._readPixelOffset(domNode,endColumn,context);if(endPixelOffset!==-1){var lastRange=output[output.length-1];lastRange.left<endPixelOffset&&(lastRange.width=endPixelOffset-lastRange.left)}}return output},WebKitRenderedViewLine2}(viewLine_RenderedViewLine),createRenderedLine=function(){return browser.m?createWebKitRenderedLine:createNormalRenderedLine}();function createWebKitRenderedLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements){return new WebKitRenderedViewLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements)}function createNormalRenderedLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements){return new viewLine_RenderedViewLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements)}var core_position=__webpack_require__(2233),core_range=__webpack_require__(2056),cursorCommon=__webpack_require__(2787),mouseTarget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),PointerHandlerLastRenderData=function(){function PointerHandlerLastRenderData2(lastViewCursorsRenderData,lastTextareaPosition){this.lastViewCursorsRenderData=lastViewCursorsRenderData,this.lastTextareaPosition=lastTextareaPosition}return PointerHandlerLastRenderData2}(),mouseTarget_MouseTarget=function(){function MouseTarget(element,type,mouseColumn,position,range,detail){mouseColumn===void 0&&(mouseColumn=0),position===void 0&&(position=null),range===void 0&&(range=null),detail===void 0&&(detail=null),this.element=element,this.type=type,this.mouseColumn=mouseColumn,this.position=position,!range&&position&&(range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column)),this.range=range,this.detail=detail}return MouseTarget._typeToString=function(type){return type===1?"TEXTAREA":type===2?"GUTTER_GLYPH_MARGIN":type===3?"GUTTER_LINE_NUMBERS":type===4?"GUTTER_LINE_DECORATIONS":type===5?"GUTTER_VIEW_ZONE":type===6?"CONTENT_TEXT":type===7?"CONTENT_EMPTY":type===8?"CONTENT_VIEW_ZONE":type===9?"CONTENT_WIDGET":type===10?"OVERVIEW_RULER":type===11?"SCROLLBAR":type===12?"OVERLAY_WIDGET":"UNKNOWN"},MouseTarget.toString=function(target){return this._typeToString(target.type)+": "+target.position+" - "+target.range+" - "+target.detail},MouseTarget.prototype.toString=function(){return MouseTarget.toString(this)},MouseTarget}(),ElementPath=function(){function ElementPath2(){}return ElementPath2.isTextArea=function(path){return path.length===2&&path[0]===3&&path[1]===6},ElementPath2.isChildOfViewLines=function(path){return path.length>=4&&path[0]===3&&path[3]===7},ElementPath2.isStrictChildOfViewLines=function(path){return path.length>4&&path[0]===3&&path[3]===7},ElementPath2.isChildOfScrollableElement=function(path){return path.length>=2&&path[0]===3&&path[1]===5},ElementPath2.isChildOfMinimap=function(path){return path.length>=2&&path[0]===3&&path[1]===8},ElementPath2.isChildOfContentWidgets=function(path){return path.length>=4&&path[0]===3&&path[3]===1},ElementPath2.isChildOfOverflowingContentWidgets=function(path){return path.length>=1&&path[0]===2},ElementPath2.isChildOfOverlayWidgets=function(path){return path.length>=2&&path[0]===3&&path[1]===4},ElementPath2}(),mouseTarget_HitTestContext=function(){function HitTestContext(context,viewHelper,lastRenderData){this.model=context.model;var options=context.configuration.options;this.layoutInfo=options.get(103),this.viewDomNode=viewHelper.viewDomNode,this.lineHeight=options.get(47),this.typicalHalfwidthCharacterWidth=options.get(32).typicalHalfwidthCharacterWidth,this.lastRenderData=lastRenderData,this._context=context,this._viewHelper=viewHelper}return HitTestContext.prototype.getZoneAtCoord=function(mouseVerticalOffset){return HitTestContext.getZoneAtCoord(this._context,mouseVerticalOffset)},HitTestContext.getZoneAtCoord=function(context,mouseVerticalOffset){var viewZoneWhitespace=context.viewLayout.getWhitespaceAtVerticalOffset(mouseVerticalOffset);if(viewZoneWhitespace){var viewZoneMiddle=viewZoneWhitespace.verticalOffset+viewZoneWhitespace.height/2,lineCount=context.model.getLineCount(),positionBefore=null,position=void 0,positionAfter=null;return viewZoneWhitespace.afterLineNumber!==lineCount&&(positionAfter=new core_position.a(viewZoneWhitespace.afterLineNumber+1,1)),viewZoneWhitespace.afterLineNumber>0&&(positionBefore=new core_position.a(viewZoneWhitespace.afterLineNumber,context.model.getLineMaxColumn(viewZoneWhitespace.afterLineNumber))),positionAfter===null?position=positionBefore:positionBefore===null?position=positionAfter:mouseVerticalOffset<viewZoneMiddle?position=positionBefore:position=positionAfter,{viewZoneId:viewZoneWhitespace.id,afterLineNumber:viewZoneWhitespace.afterLineNumber,positionBefore,positionAfter,position}}return null},HitTestContext.prototype.getFullLineRangeAtCoord=function(mouseVerticalOffset){if(this._context.viewLayout.isAfterLines(mouseVerticalOffset)){var lineNumber_1=this._context.model.getLineCount(),maxLineColumn_1=this._context.model.getLineMaxColumn(lineNumber_1);return{range:new core_range.a(lineNumber_1,maxLineColumn_1,lineNumber_1,maxLineColumn_1),isAfterLines:!0}}var lineNumber=this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset),maxLineColumn=this._context.model.getLineMaxColumn(lineNumber);return{range:new core_range.a(lineNumber,1,lineNumber,maxLineColumn),isAfterLines:!1}},HitTestContext.prototype.getLineNumberAtVerticalOffset=function(mouseVerticalOffset){return this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset)},HitTestContext.prototype.isAfterLines=function(mouseVerticalOffset){return this._context.viewLayout.isAfterLines(mouseVerticalOffset)},HitTestContext.prototype.getVerticalOffsetForLineNumber=function(lineNumber){return this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber)},HitTestContext.prototype.findAttribute=function(element,attr){return HitTestContext._findAttribute(element,attr,this._viewHelper.viewDomNode)},HitTestContext._findAttribute=function(element,attr,stopAt){for(;element&&element!==document.body;){if(element.hasAttribute&&element.hasAttribute(attr))return element.getAttribute(attr);if(element===stopAt)return null;element=element.parentNode}return null},HitTestContext.prototype.getLineWidth=function(lineNumber){return this._viewHelper.getLineWidth(lineNumber)},HitTestContext.prototype.visibleRangeForPosition=function(lineNumber,column){return this._viewHelper.visibleRangeForPosition(lineNumber,column)},HitTestContext.prototype.getPositionFromDOMInfo=function(spanNode,offset){return this._viewHelper.getPositionFromDOMInfo(spanNode,offset)},HitTestContext.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},HitTestContext.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},HitTestContext}(),BareHitTestRequest=function(){function BareHitTestRequest2(ctx,editorPos,pos){this.editorPos=editorPos,this.pos=pos,this.mouseVerticalOffset=Math.max(0,ctx.getCurrentScrollTop()+pos.y-editorPos.y),this.mouseContentHorizontalOffset=ctx.getCurrentScrollLeft()+pos.x-editorPos.x-ctx.layoutInfo.contentLeft,this.isInMarginArea=pos.x-editorPos.x<ctx.layoutInfo.contentLeft&&pos.x-editorPos.x>=ctx.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,mouseTarget_MouseTargetFactory._getMouseColumn(this.mouseContentHorizontalOffset,ctx.typicalHalfwidthCharacterWidth))}return BareHitTestRequest2}(),mouseTarget_HitTestRequest=function(_super){mouseTarget_extends(HitTestRequest,_super);function HitTestRequest(ctx,editorPos,pos,target){var _this=_super.call(this,ctx,editorPos,pos)||this;return _this._ctx=ctx,target?(_this.target=target,_this.targetPath=viewPart_PartFingerprints.collect(target,ctx.viewDomNode)):(_this.target=null,_this.targetPath=new Uint8Array(0)),_this}return HitTestRequest.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+`
	target: `+(this.target?this.target.outerHTML:null)},HitTestRequest.prototype.fulfill=function(type,position,range,detail){position===void 0&&(position=null),range===void 0&&(range=null),detail===void 0&&(detail=null);var mouseColumn=this.mouseColumn;return position&&position.column<this._ctx.model.getLineMaxColumn(position.lineNumber)&&(mouseColumn=cursorCommon.a.visibleColumnFromColumn(this._ctx.model.getLineContent(position.lineNumber),position.column,this._ctx.model.getOptions().tabSize)+1),new mouseTarget_MouseTarget(this.target,type,mouseColumn,position,range,detail)},HitTestRequest.prototype.withTarget=function(target){return new HitTestRequest(this._ctx,this.editorPos,this.pos,target)},HitTestRequest}(BareHitTestRequest),EMPTY_CONTENT_AFTER_LINES={isAfterLines:!0};function createEmptyContentDataInLines(horizontalDistanceToText){return{isAfterLines:!1,horizontalDistanceToText}}var mouseTarget_MouseTargetFactory=function(){function MouseTargetFactory(context,viewHelper){this._context=context,this._viewHelper=viewHelper}return MouseTargetFactory.prototype.mouseTargetIsWidget=function(e){var t=e.target,path=viewPart_PartFingerprints.collect(t,this._viewHelper.viewDomNode);return!!(ElementPath.isChildOfContentWidgets(path)||ElementPath.isChildOfOverflowingContentWidgets(path)||ElementPath.isChildOfOverlayWidgets(path))},MouseTargetFactory.prototype.createMouseTarget=function(lastRenderData,editorPos,pos,target){var ctx=new mouseTarget_HitTestContext(this._context,this._viewHelper,lastRenderData),request=new mouseTarget_HitTestRequest(ctx,editorPos,pos,target);try{var r=MouseTargetFactory._createMouseTarget(ctx,request,!1);return r}catch{return request.fulfill(0)}},MouseTargetFactory._createMouseTarget=function(ctx,request,domHitTestExecuted){if(request.target===null){if(domHitTestExecuted)return request.fulfill(0);var hitTestResult=MouseTargetFactory._doHitTest(ctx,request);return hitTestResult.position?MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx,request,hitTestResult.position.lineNumber,hitTestResult.position.column):this._createMouseTarget(ctx,request.withTarget(hitTestResult.hitTarget),!0)}var resolvedRequest=request,result=null;return result=result||MouseTargetFactory._hitTestContentWidget(ctx,resolvedRequest),result=result||MouseTargetFactory._hitTestOverlayWidget(ctx,resolvedRequest),result=result||MouseTargetFactory._hitTestMinimap(ctx,resolvedRequest),result=result||MouseTargetFactory._hitTestScrollbarSlider(ctx,resolvedRequest),result=result||MouseTargetFactory._hitTestViewZone(ctx,resolvedRequest),result=result||MouseTargetFactory._hitTestMargin(ctx,resolvedRequest),result=result||MouseTargetFactory._hitTestViewCursor(ctx,resolvedRequest),result=result||MouseTargetFactory._hitTestTextArea(ctx,resolvedRequest),result=result||MouseTargetFactory._hitTestViewLines(ctx,resolvedRequest,domHitTestExecuted),result=result||MouseTargetFactory._hitTestScrollbar(ctx,resolvedRequest),result||request.fulfill(0)},MouseTargetFactory._hitTestContentWidget=function(ctx,request){if(ElementPath.isChildOfContentWidgets(request.targetPath)||ElementPath.isChildOfOverflowingContentWidgets(request.targetPath)){var widgetId=ctx.findAttribute(request.target,"widgetId");return widgetId?request.fulfill(9,null,null,widgetId):request.fulfill(0)}return null},MouseTargetFactory._hitTestOverlayWidget=function(ctx,request){if(ElementPath.isChildOfOverlayWidgets(request.targetPath)){var widgetId=ctx.findAttribute(request.target,"widgetId");return widgetId?request.fulfill(12,null,null,widgetId):request.fulfill(0)}return null},MouseTargetFactory._hitTestViewCursor=function(ctx,request){if(request.target)for(var lastViewCursorsRenderData=ctx.lastRenderData.lastViewCursorsRenderData,_i=0,lastViewCursorsRenderData_1=lastViewCursorsRenderData;_i<lastViewCursorsRenderData_1.length;_i++){var d=lastViewCursorsRenderData_1[_i];if(request.target===d.domNode)return request.fulfill(6,d.position)}if(request.isInContentArea)for(var lastViewCursorsRenderData=ctx.lastRenderData.lastViewCursorsRenderData,mouseContentHorizontalOffset=request.mouseContentHorizontalOffset,mouseVerticalOffset=request.mouseVerticalOffset,_a=0,lastViewCursorsRenderData_2=lastViewCursorsRenderData;_a<lastViewCursorsRenderData_2.length;_a++){var d=lastViewCursorsRenderData_2[_a];if(!(mouseContentHorizontalOffset<d.contentLeft)&&!(mouseContentHorizontalOffset>d.contentLeft+d.width)){var cursorVerticalOffset=ctx.getVerticalOffsetForLineNumber(d.position.lineNumber);if(cursorVerticalOffset<=mouseVerticalOffset&&mouseVerticalOffset<=cursorVerticalOffset+d.height)return request.fulfill(6,d.position)}}return null},MouseTargetFactory._hitTestViewZone=function(ctx,request){var viewZoneData=ctx.getZoneAtCoord(request.mouseVerticalOffset);if(viewZoneData){var mouseTargetType=request.isInContentArea?8:5;return request.fulfill(mouseTargetType,viewZoneData.position,null,viewZoneData)}return null},MouseTargetFactory._hitTestTextArea=function(ctx,request){return ElementPath.isTextArea(request.targetPath)?ctx.lastRenderData.lastTextareaPosition?request.fulfill(6,ctx.lastRenderData.lastTextareaPosition):request.fulfill(1,ctx.lastRenderData.lastTextareaPosition):null},MouseTargetFactory._hitTestMargin=function(ctx,request){if(request.isInMarginArea){var res=ctx.getFullLineRangeAtCoord(request.mouseVerticalOffset),pos=res.range.getStartPosition(),offset=Math.abs(request.pos.x-request.editorPos.x),detail={isAfterLines:res.isAfterLines,glyphMarginLeft:ctx.layoutInfo.glyphMarginLeft,glyphMarginWidth:ctx.layoutInfo.glyphMarginWidth,lineNumbersWidth:ctx.layoutInfo.lineNumbersWidth,offsetX:offset};return offset-=ctx.layoutInfo.glyphMarginLeft,offset<=ctx.layoutInfo.glyphMarginWidth?request.fulfill(2,pos,res.range,detail):(offset-=ctx.layoutInfo.glyphMarginWidth,offset<=ctx.layoutInfo.lineNumbersWidth?request.fulfill(3,pos,res.range,detail):(offset-=ctx.layoutInfo.lineNumbersWidth,request.fulfill(4,pos,res.range,detail)))}return null},MouseTargetFactory._hitTestViewLines=function(ctx,request,domHitTestExecuted){if(!ElementPath.isChildOfViewLines(request.targetPath))return null;if(ctx.isAfterLines(request.mouseVerticalOffset)){var lineCount=ctx.model.getLineCount(),maxLineColumn=ctx.model.getLineMaxColumn(lineCount);return request.fulfill(7,new core_position.a(lineCount,maxLineColumn),void 0,EMPTY_CONTENT_AFTER_LINES)}if(domHitTestExecuted){if(ElementPath.isStrictChildOfViewLines(request.targetPath)){var lineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);if(ctx.model.getLineLength(lineNumber)===0){var lineWidth_1=ctx.getLineWidth(lineNumber),detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth_1);return request.fulfill(7,new core_position.a(lineNumber,1),void 0,detail)}var lineWidth=ctx.getLineWidth(lineNumber);if(request.mouseContentHorizontalOffset>=lineWidth){var detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth),pos=new core_position.a(lineNumber,ctx.model.getLineMaxColumn(lineNumber));return request.fulfill(7,pos,void 0,detail)}}return request.fulfill(0)}var hitTestResult=MouseTargetFactory._doHitTest(ctx,request);return hitTestResult.position?MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx,request,hitTestResult.position.lineNumber,hitTestResult.position.column):this._createMouseTarget(ctx,request.withTarget(hitTestResult.hitTarget),!0)},MouseTargetFactory._hitTestMinimap=function(ctx,request){if(ElementPath.isChildOfMinimap(request.targetPath)){var possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset),maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfill(11,new core_position.a(possibleLineNumber,maxColumn))}return null},MouseTargetFactory._hitTestScrollbarSlider=function(ctx,request){if(ElementPath.isChildOfScrollableElement(request.targetPath)&&request.target&&request.target.nodeType===1){var className=request.target.className;if(className&&/\b(slider|scrollbar)\b/.test(className)){var possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset),maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfill(11,new core_position.a(possibleLineNumber,maxColumn))}}return null},MouseTargetFactory._hitTestScrollbar=function(ctx,request){if(ElementPath.isChildOfScrollableElement(request.targetPath)){var possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset),maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfill(11,new core_position.a(possibleLineNumber,maxColumn))}return null},MouseTargetFactory.prototype.getMouseColumn=function(editorPos,pos){var options=this._context.configuration.options,layoutInfo=options.get(103),mouseContentHorizontalOffset=this._context.viewLayout.getCurrentScrollLeft()+pos.x-editorPos.x-layoutInfo.contentLeft;return MouseTargetFactory._getMouseColumn(mouseContentHorizontalOffset,options.get(32).typicalHalfwidthCharacterWidth)},MouseTargetFactory._getMouseColumn=function(mouseContentHorizontalOffset,typicalHalfwidthCharacterWidth){if(mouseContentHorizontalOffset<0)return 1;var chars=Math.round(mouseContentHorizontalOffset/typicalHalfwidthCharacterWidth);return chars+1},MouseTargetFactory.createMouseTargetFromHitTestPosition=function(ctx,request,lineNumber,column){var pos=new core_position.a(lineNumber,column),lineWidth=ctx.getLineWidth(lineNumber);if(request.mouseContentHorizontalOffset>lineWidth){if(browser.e&&pos.column===1){var detail_1=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth);return request.fulfill(7,new core_position.a(lineNumber,ctx.model.getLineMaxColumn(lineNumber)),void 0,detail_1)}var detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth);return request.fulfill(7,pos,void 0,detail)}var visibleRange=ctx.visibleRangeForPosition(lineNumber,column);if(!visibleRange)return request.fulfill(0,pos);var columnHorizontalOffset=visibleRange.left;if(request.mouseContentHorizontalOffset===columnHorizontalOffset)return request.fulfill(6,pos);var points=[];if(points.push({offset:visibleRange.left,column}),column>1){var visibleRange_1=ctx.visibleRangeForPosition(lineNumber,column-1);visibleRange_1&&points.push({offset:visibleRange_1.left,column:column-1})}var lineMaxColumn=ctx.model.getLineMaxColumn(lineNumber);if(column<lineMaxColumn){var visibleRange_2=ctx.visibleRangeForPosition(lineNumber,column+1);visibleRange_2&&points.push({offset:visibleRange_2.left,column:column+1})}points.sort(function(a,b){return a.offset-b.offset});for(var i=1;i<points.length;i++){var prev=points[i-1],curr=points[i];if(prev.offset<=request.mouseContentHorizontalOffset&&request.mouseContentHorizontalOffset<=curr.offset){var rng=new core_range.a(lineNumber,prev.column,lineNumber,curr.column);return request.fulfill(6,pos,rng)}}return request.fulfill(6,pos)},MouseTargetFactory._doHitTestWithCaretRangeFromPoint=function(ctx,request){var lineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset),lineVerticalOffset=ctx.getVerticalOffsetForLineNumber(lineNumber),lineCenteredVerticalOffset=lineVerticalOffset+Math.floor(ctx.lineHeight/2),adjustedPageY=request.pos.y+(lineCenteredVerticalOffset-request.mouseVerticalOffset);adjustedPageY<=request.editorPos.y&&(adjustedPageY=request.editorPos.y+1),adjustedPageY>=request.editorPos.y+ctx.layoutInfo.height&&(adjustedPageY=request.editorPos.y+ctx.layoutInfo.height-1);var adjustedPage=new editorDom_PageCoordinates(request.pos.x,adjustedPageY),r=this._actualDoHitTestWithCaretRangeFromPoint(ctx,adjustedPage.toClientCoordinates());return r.position?r:this._actualDoHitTestWithCaretRangeFromPoint(ctx,request.pos.toClientCoordinates())},MouseTargetFactory._actualDoHitTestWithCaretRangeFromPoint=function(ctx,coords){var range=document.caretRangeFromPoint(coords.clientX,coords.clientY);if(!range||!range.startContainer)return{position:null,hitTarget:null};var startContainer=range.startContainer,hitTarget=null;if(startContainer.nodeType===startContainer.TEXT_NODE){var parent1=startContainer.parentNode,parent2=parent1?parent1.parentNode:null,parent3=parent2?parent2.parentNode:null,parent3ClassName=parent3&&parent3.nodeType===parent3.ELEMENT_NODE?parent3.className:null;if(parent3ClassName===viewLine_ViewLine.CLASS_NAME){var p=ctx.getPositionFromDOMInfo(parent1,range.startOffset);return{position:p,hitTarget:null}}else hitTarget=startContainer.parentNode}else if(startContainer.nodeType===startContainer.ELEMENT_NODE){var parent1=startContainer.parentNode,parent2=parent1?parent1.parentNode:null,parent2ClassName=parent2&&parent2.nodeType===parent2.ELEMENT_NODE?parent2.className:null;if(parent2ClassName===viewLine_ViewLine.CLASS_NAME){var p=ctx.getPositionFromDOMInfo(startContainer,startContainer.textContent.length);return{position:p,hitTarget:null}}else hitTarget=startContainer}return{position:null,hitTarget}},MouseTargetFactory._doHitTestWithCaretPositionFromPoint=function(ctx,coords){var hitResult=document.caretPositionFromPoint(coords.clientX,coords.clientY);if(hitResult.offsetNode.nodeType===hitResult.offsetNode.TEXT_NODE){var parent1=hitResult.offsetNode.parentNode,parent2=parent1?parent1.parentNode:null,parent3=parent2?parent2.parentNode:null,parent3ClassName=parent3&&parent3.nodeType===parent3.ELEMENT_NODE?parent3.className:null;if(parent3ClassName===viewLine_ViewLine.CLASS_NAME){var p=ctx.getPositionFromDOMInfo(hitResult.offsetNode.parentNode,hitResult.offset);return{position:p,hitTarget:null}}else return{position:null,hitTarget:hitResult.offsetNode.parentNode}}return{position:null,hitTarget:hitResult.offsetNode}},MouseTargetFactory._doHitTestWithMoveToPoint=function(ctx,coords){var resultPosition=null,resultHitTarget=null,textRange=document.body.createTextRange();try{textRange.moveToPoint(coords.clientX,coords.clientY)}catch{return{position:null,hitTarget:null}}textRange.collapse(!0);var parentElement=textRange?textRange.parentElement():null,parent1=parentElement?parentElement.parentNode:null,parent2=parent1?parent1.parentNode:null,parent2ClassName=parent2&&parent2.nodeType===parent2.ELEMENT_NODE?parent2.className:"";if(parent2ClassName===viewLine_ViewLine.CLASS_NAME){var rangeToContainEntireSpan=textRange.duplicate();rangeToContainEntireSpan.moveToElementText(parentElement),rangeToContainEntireSpan.setEndPoint("EndToStart",textRange),resultPosition=ctx.getPositionFromDOMInfo(parentElement,rangeToContainEntireSpan.text.length),rangeToContainEntireSpan.moveToElementText(ctx.viewDomNode)}else resultHitTarget=parentElement;return textRange.moveToElementText(ctx.viewDomNode),{position:resultPosition,hitTarget:resultHitTarget}},MouseTargetFactory._doHitTest=function(ctx,request){return typeof document.caretRangeFromPoint=="function"?this._doHitTestWithCaretRangeFromPoint(ctx,request):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(ctx,request.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(ctx,request.pos.toClientCoordinates()):{position:null,hitTarget:null}},MouseTargetFactory}(),editorZoom=__webpack_require__(3367),core_selection=__webpack_require__(2629),mouseHandler_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function createMouseMoveEventMerger(mouseTargetFactory){return function(lastEvent,currentEvent){var targetIsWidget=!1;return mouseTargetFactory&&(targetIsWidget=mouseTargetFactory.mouseTargetIsWidget(currentEvent)),targetIsWidget||currentEvent.preventDefault(),currentEvent}}var mouseHandler_MouseHandler=function(_super){mouseHandler_extends(MouseHandler,_super);function MouseHandler(context,viewController,viewHelper){var _this=_super.call(this)||this;_this._isFocused=!1,_this._context=context,_this.viewController=viewController,_this.viewHelper=viewHelper,_this.mouseTargetFactory=new mouseTarget_MouseTargetFactory(_this._context,viewHelper),_this._mouseDownOperation=_this._register(new mouseHandler_MouseDownOperation(_this._context,_this.viewController,_this.viewHelper,function(e,testEventTarget){return _this._createMouseTarget(e,testEventTarget)},function(e){return _this._getMouseColumn(e)})),_this._asyncFocus=_this._register(new common_async.d(function(){return _this.viewHelper.focusTextArea()},0)),_this.lastMouseLeaveTime=-1;var mouseEvents=new editorDom_EditorMouseEventFactory(_this.viewHelper.viewDomNode);_this._register(mouseEvents.onContextMenu(_this.viewHelper.viewDomNode,function(e){return _this._onContextMenu(e,!0)})),_this._register(mouseEvents.onMouseMoveThrottled(_this.viewHelper.viewDomNode,function(e){return _this._onMouseMove(e)},createMouseMoveEventMerger(_this.mouseTargetFactory),MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),_this._register(mouseEvents.onMouseUp(_this.viewHelper.viewDomNode,function(e){return _this._onMouseUp(e)})),_this._register(mouseEvents.onMouseLeave(_this.viewHelper.viewDomNode,function(e){return _this._onMouseLeave(e)})),_this._register(mouseEvents.onMouseDown(_this.viewHelper.viewDomNode,function(e){return _this._onMouseDown(e)}));var onMouseWheel=function(browserEvent){if(_this.viewController.emitMouseWheel(browserEvent),!!_this._context.configuration.options.get(55)){var e=new mouseEvent.c(browserEvent);if(e.browserEvent.ctrlKey||e.browserEvent.metaKey){var zoomLevel=editorZoom.a.getZoomLevel(),delta=e.deltaY>0?1:-1;editorZoom.a.setZoomLevel(zoomLevel+delta),e.preventDefault(),e.stopPropagation()}}};return _this._register(dom.j(_this.viewHelper.viewDomNode,browser.f?"mousewheel":"wheel",onMouseWheel,{capture:!0,passive:!1})),_this._context.addEventHandler(_this),_this}return MouseHandler.prototype.dispose=function(){this._context.removeEventHandler(this),_super.prototype.dispose.call(this)},MouseHandler.prototype.onCursorStateChanged=function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1},MouseHandler.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!1},MouseHandler.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},MouseHandler.prototype.getTargetAtClientPoint=function(clientX,clientY){var clientPos=new editorDom_ClientCoordinates(clientX,clientY),pos=clientPos.toPageCoordinates(),editorPos=createEditorPagePosition(this.viewHelper.viewDomNode);return pos.y<editorPos.y||pos.y>editorPos.y+editorPos.height||pos.x<editorPos.x||pos.x>editorPos.x+editorPos.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),editorPos,pos,null)},MouseHandler.prototype._createMouseTarget=function(e,testEventTarget){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,testEventTarget?e.target:null)},MouseHandler.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)},MouseHandler.prototype._onContextMenu=function(e,testEventTarget){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,testEventTarget)})},MouseHandler.prototype._onMouseMove=function(e){if(!this._mouseDownOperation.isActive()){var actualMouseMoveTime=e.timestamp;actualMouseMoveTime<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}},MouseHandler.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})},MouseHandler.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},MouseHandler.prototype._onMouseDown=function(e){var _this=this,t=this._createMouseTarget(e,!0),targetIsContent=t.type===6||t.type===7,targetIsGutter=t.type===2||t.type===3||t.type===4,targetIsLineNumbers=t.type===3,selectOnLineNumbers=this._context.configuration.options.get(79),targetIsViewZone=t.type===8||t.type===5,targetIsWidget=t.type===9,shouldHandle=e.leftButton||e.middleButton;platform.e&&e.leftButton&&e.ctrlKey&&(shouldHandle=!1);var focus=function(){browser.i&&!_this._isFocused?_this._asyncFocus.schedule():(e.preventDefault(),_this.viewHelper.focusTextArea())};if(shouldHandle&&(targetIsContent||targetIsLineNumbers&&selectOnLineNumbers))focus(),this._mouseDownOperation.start(t.type,e);else if(targetIsGutter)e.preventDefault();else if(targetIsViewZone){var viewZoneData=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(viewZoneData.viewZoneId)&&(focus(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else targetIsWidget&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(focus(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})},MouseHandler.MOUSE_MOVE_MINIMUM_TIME=100,MouseHandler}(ViewEventHandler),mouseHandler_MouseDownOperation=function(_super){mouseHandler_extends(MouseDownOperation,_super);function MouseDownOperation(context,viewController,viewHelper,createMouseTarget,getMouseColumn){var _this=_super.call(this)||this;return _this._context=context,_this._viewController=viewController,_this._viewHelper=viewHelper,_this._createMouseTarget=createMouseTarget,_this._getMouseColumn=getMouseColumn,_this._mouseMoveMonitor=_this._register(new editorDom_GlobalEditorMouseMoveMonitor(_this._viewHelper.viewDomNode)),_this._onScrollTimeout=_this._register(new common_async.e),_this._mouseState=new MouseDownState,_this._currentSelection=new core_selection.a(1,1,1,1),_this._isActive=!1,_this._lastMouseEvent=null,_this}return MouseDownOperation.prototype.dispose=function(){_super.prototype.dispose.call(this)},MouseDownOperation.prototype.isActive=function(){return this._isActive},MouseDownOperation.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var position=this._findMousePosition(e,!0);position&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:position}):this._dispatchMouse(position,!0))},MouseDownOperation.prototype.start=function(targetType,e){var _this=this;this._lastMouseEvent=e,this._mouseState.setStartedOnLineNumbers(targetType===3),this._mouseState.setStartButtons(e),this._mouseState.setModifiers(e);var position=this._findMousePosition(e,!0);if(!(!position||!position.position)){this._mouseState.trySetCount(e.detail,position.position),e.detail=this._mouseState.count;var options=this._context.configuration.options;if(!options.get(65)&&options.get(23)&&!this._mouseState.altKey&&e.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&position.type===6&&position.position&&this._currentSelection.containsPosition(position.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(createMouseMoveEventMerger(null),function(e2){return _this._onMouseDownThenMove(e2)},function(){var position2=_this._findMousePosition(_this._lastMouseEvent,!0);_this._viewController.emitMouseDrop({event:_this._lastMouseEvent,target:position2?_this._createMouseTarget(_this._lastMouseEvent,!0):null}),_this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(position,e.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(createMouseMoveEventMerger(null),function(e2){return _this._onMouseDownThenMove(e2)},function(){return _this._stop()}))}},MouseDownOperation.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},MouseDownOperation.prototype.onScrollChanged=function(){var _this=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){if(_this._lastMouseEvent){var position=_this._findMousePosition(_this._lastMouseEvent,!1);position&&(_this._mouseState.isDragAndDrop||_this._dispatchMouse(position,!0))}},10)},MouseDownOperation.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]},MouseDownOperation.prototype._getPositionOutsideEditor=function(e){var editorContent=e.editorPos,model=this._context.model,viewLayout=this._context.viewLayout,mouseColumn=this._getMouseColumn(e);if(e.posy<editorContent.y){var verticalOffset=Math.max(viewLayout.getCurrentScrollTop()-(editorContent.y-e.posy),0),viewZoneData=mouseTarget_HitTestContext.getZoneAtCoord(this._context,verticalOffset);if(viewZoneData){var newPosition=this._helpPositionJumpOverViewZone(viewZoneData);if(newPosition)return new mouseTarget_MouseTarget(null,13,mouseColumn,newPosition)}var aboveLineNumber=viewLayout.getLineNumberAtVerticalOffset(verticalOffset);return new mouseTarget_MouseTarget(null,13,mouseColumn,new core_position.a(aboveLineNumber,1))}if(e.posy>editorContent.y+editorContent.height){var verticalOffset=viewLayout.getCurrentScrollTop()+(e.posy-editorContent.y),viewZoneData=mouseTarget_HitTestContext.getZoneAtCoord(this._context,verticalOffset);if(viewZoneData){var newPosition=this._helpPositionJumpOverViewZone(viewZoneData);if(newPosition)return new mouseTarget_MouseTarget(null,13,mouseColumn,newPosition)}var belowLineNumber=viewLayout.getLineNumberAtVerticalOffset(verticalOffset);return new mouseTarget_MouseTarget(null,13,mouseColumn,new core_position.a(belowLineNumber,model.getLineMaxColumn(belowLineNumber)))}var possibleLineNumber=viewLayout.getLineNumberAtVerticalOffset(viewLayout.getCurrentScrollTop()+(e.posy-editorContent.y));return e.posx<editorContent.x?new mouseTarget_MouseTarget(null,13,mouseColumn,new core_position.a(possibleLineNumber,1)):e.posx>editorContent.x+editorContent.width?new mouseTarget_MouseTarget(null,13,mouseColumn,new core_position.a(possibleLineNumber,model.getLineMaxColumn(possibleLineNumber))):null},MouseDownOperation.prototype._findMousePosition=function(e,testEventTarget){var positionOutsideEditor=this._getPositionOutsideEditor(e);if(positionOutsideEditor)return positionOutsideEditor;var t=this._createMouseTarget(e,testEventTarget),hintedPosition=t.position;if(!hintedPosition)return null;if(t.type===8||t.type===5){var newPosition=this._helpPositionJumpOverViewZone(t.detail);if(newPosition)return new mouseTarget_MouseTarget(t.element,t.type,t.mouseColumn,newPosition,null,t.detail)}return t},MouseDownOperation.prototype._helpPositionJumpOverViewZone=function(viewZoneData){var selectionStart=new core_position.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),positionBefore=viewZoneData.positionBefore,positionAfter=viewZoneData.positionAfter;return positionBefore&&positionAfter?positionBefore.isBefore(selectionStart)?positionBefore:positionAfter:null},MouseDownOperation.prototype._dispatchMouse=function(position,inSelectionMode){position.position&&this._viewController.dispatchMouse({position:position.position,mouseColumn:position.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},MouseDownOperation}(lifecycle.a),MouseDownState=function(){function MouseDownState2(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(MouseDownState2.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState2.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState2.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState2.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState2.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState2.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState2.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState2.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),MouseDownState2.prototype.setModifiers=function(source){this._altKey=source.altKey,this._ctrlKey=source.ctrlKey,this._metaKey=source.metaKey,this._shiftKey=source.shiftKey},MouseDownState2.prototype.setStartButtons=function(source){this._leftButton=source.leftButton,this._middleButton=source.middleButton},MouseDownState2.prototype.setStartedOnLineNumbers=function(startedOnLineNumbers){this._startedOnLineNumbers=startedOnLineNumbers},MouseDownState2.prototype.trySetCount=function(setMouseDownCount,newMouseDownPosition){var currentTime=new Date().getTime();currentTime-this._lastSetMouseDownCountTime>MouseDownState2.CLEAR_MOUSE_DOWN_COUNT_TIME&&(setMouseDownCount=1),this._lastSetMouseDownCountTime=currentTime,setMouseDownCount>this._lastMouseDownCount+1&&(setMouseDownCount=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(newMouseDownPosition)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=newMouseDownPosition,this._lastMouseDownCount=Math.min(setMouseDownCount,this._lastMouseDownPositionEqualCount)},MouseDownState2.CLEAR_MOUSE_DOWN_COUNT_TIME=400,MouseDownState2}(),canIUse=__webpack_require__(3279),pointerHandler_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function gestureChangeEventMerger(lastEvent,currentEvent){var r={translationY:currentEvent.translationY,translationX:currentEvent.translationX};return lastEvent&&(r.translationY+=lastEvent.translationY,r.translationX+=lastEvent.translationX),r}var pointerHandler_MsPointerHandler=function(_super){pointerHandler_extends(MsPointerHandler,_super);function MsPointerHandler(context,viewController,viewHelper){var _this=_super.call(this,context,viewController,viewHelper)||this;return _this.viewHelper.linesContentDomNode.style.msTouchAction="none",_this.viewHelper.linesContentDomNode.style.msContentZooming="none",_this._installGestureHandlerTimeout=window.setTimeout(function(){if(_this._installGestureHandlerTimeout=-1,window.MSGesture){var touchGesture_1=new MSGesture,penGesture_1=new MSGesture;touchGesture_1.target=_this.viewHelper.linesContentDomNode,penGesture_1.target=_this.viewHelper.linesContentDomNode,_this.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(e){var pointerType=e.pointerType;if(pointerType===(e.MSPOINTER_TYPE_MOUSE||"mouse")){_this._lastPointerType="mouse";return}else pointerType===(e.MSPOINTER_TYPE_TOUCH||"touch")?(_this._lastPointerType="touch",touchGesture_1.addPointer(e.pointerId)):(_this._lastPointerType="pen",penGesture_1.addPointer(e.pointerId))}),_this._register(dom.m(_this.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return _this._onGestureChange(e)},gestureChangeEventMerger)),_this._register(dom.j(_this.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return _this._onCaptureGestureTap(e)},!0))}},100),_this._lastPointerType="mouse",_this}return MsPointerHandler.prototype._onMouseDown=function(e){this._lastPointerType==="mouse"&&_super.prototype._onMouseDown.call(this,e)},MsPointerHandler.prototype._onCaptureGestureTap=function(rawEvent){var _this=this,e=new EditorMouseEvent(rawEvent,this.viewHelper.viewDomNode),t=this._createMouseTarget(e,!1);t.position&&this.viewController.moveTo(t.position),e.browserEvent.fromElement?(e.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){_this.viewHelper.focusTextArea()})},MsPointerHandler.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},MsPointerHandler.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),_super.prototype.dispose.call(this)},MsPointerHandler}(mouseHandler_MouseHandler),pointerHandler_StandardPointerHandler=function(_super){pointerHandler_extends(StandardPointerHandler,_super);function StandardPointerHandler(context,viewController,viewHelper){var _this=_super.call(this,context,viewController,viewHelper)||this;return _this.viewHelper.linesContentDomNode.style.touchAction="none",_this._installGestureHandlerTimeout=window.setTimeout(function(){if(_this._installGestureHandlerTimeout=-1,window.MSGesture){var touchGesture_2=new MSGesture,penGesture_2=new MSGesture;touchGesture_2.target=_this.viewHelper.linesContentDomNode,penGesture_2.target=_this.viewHelper.linesContentDomNode,_this.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(e){var pointerType=e.pointerType;if(pointerType==="mouse"){_this._lastPointerType="mouse";return}else pointerType==="touch"?(_this._lastPointerType="touch",touchGesture_2.addPointer(e.pointerId)):(_this._lastPointerType="pen",penGesture_2.addPointer(e.pointerId))}),_this._register(dom.m(_this.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return _this._onGestureChange(e)},gestureChangeEventMerger)),_this._register(dom.j(_this.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return _this._onCaptureGestureTap(e)},!0))}},100),_this._lastPointerType="mouse",_this}return StandardPointerHandler.prototype._onMouseDown=function(e){this._lastPointerType==="mouse"&&_super.prototype._onMouseDown.call(this,e)},StandardPointerHandler.prototype._onCaptureGestureTap=function(rawEvent){var _this=this,e=new EditorMouseEvent(rawEvent,this.viewHelper.viewDomNode),t=this._createMouseTarget(e,!1);t.position&&this.viewController.moveTo(t.position),e.browserEvent.fromElement?(e.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){_this.viewHelper.focusTextArea()})},StandardPointerHandler.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},StandardPointerHandler.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),_super.prototype.dispose.call(this)},StandardPointerHandler}(mouseHandler_MouseHandler),pointerHandler_PointerEventHandler=function(_super){pointerHandler_extends(PointerEventHandler,_super);function PointerEventHandler(context,viewController,viewHelper){var _this=_super.call(this,context,viewController,viewHelper)||this;_this._register(touch.b.addTarget(_this.viewHelper.linesContentDomNode)),_this._register(dom.j(_this.viewHelper.linesContentDomNode,touch.a.Tap,function(e){return _this.onTap(e)})),_this._register(dom.j(_this.viewHelper.linesContentDomNode,touch.a.Change,function(e){return _this.onChange(e)})),_this._register(dom.j(_this.viewHelper.linesContentDomNode,touch.a.Contextmenu,function(e){return _this._onContextMenu(new EditorMouseEvent(e,_this.viewHelper.viewDomNode),!1)})),_this._lastPointerType="mouse",_this._register(dom.j(_this.viewHelper.linesContentDomNode,"pointerdown",function(e){var pointerType=e.pointerType;if(pointerType==="mouse"){_this._lastPointerType="mouse";return}else pointerType==="touch"?_this._lastPointerType="touch":_this._lastPointerType="pen"}));var pointerEvents=new editorDom_EditorPointerEventFactory(_this.viewHelper.viewDomNode);return _this._register(pointerEvents.onPointerMoveThrottled(_this.viewHelper.viewDomNode,function(e){return _this._onMouseMove(e)},createMouseMoveEventMerger(_this.mouseTargetFactory),mouseHandler_MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),_this._register(pointerEvents.onPointerUp(_this.viewHelper.viewDomNode,function(e){return _this._onMouseUp(e)})),_this._register(pointerEvents.onPointerLeave(_this.viewHelper.viewDomNode,function(e){return _this._onMouseLeave(e)})),_this._register(pointerEvents.onPointerDown(_this.viewHelper.viewDomNode,function(e){return _this._onMouseDown(e)})),_this}return PointerEventHandler.prototype.onTap=function(event){if(!(!event.initialTarget||!this.viewHelper.linesContentDomNode.contains(event.initialTarget))){event.preventDefault(),this.viewHelper.focusTextArea();var target=this._createMouseTarget(new EditorMouseEvent(event,this.viewHelper.viewDomNode),!1);target.position&&this.viewController.dispatchMouse({position:target.position,mouseColumn:target.position.column,startedOnLineNumbers:!1,mouseDownCount:event.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}},PointerEventHandler.prototype.onChange=function(e){this._lastPointerType==="touch"&&this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},PointerEventHandler.prototype._onMouseDown=function(e){e.target&&this.viewHelper.linesContentDomNode.contains(e.target)&&this._lastPointerType==="touch"||_super.prototype._onMouseDown.call(this,e)},PointerEventHandler}(mouseHandler_MouseHandler),pointerHandler_TouchHandler=function(_super){pointerHandler_extends(TouchHandler,_super);function TouchHandler(context,viewController,viewHelper){var _this=_super.call(this,context,viewController,viewHelper)||this;return _this._register(touch.b.addTarget(_this.viewHelper.linesContentDomNode)),_this._register(dom.j(_this.viewHelper.linesContentDomNode,touch.a.Tap,function(e){return _this.onTap(e)})),_this._register(dom.j(_this.viewHelper.linesContentDomNode,touch.a.Change,function(e){return _this.onChange(e)})),_this._register(dom.j(_this.viewHelper.linesContentDomNode,touch.a.Contextmenu,function(e){return _this._onContextMenu(new EditorMouseEvent(e,_this.viewHelper.viewDomNode),!1)})),_this}return TouchHandler.prototype.onTap=function(event){event.preventDefault(),this.viewHelper.focusTextArea();var target=this._createMouseTarget(new EditorMouseEvent(event,this.viewHelper.viewDomNode),!1);target.position&&this.viewController.moveTo(target.position)},TouchHandler.prototype.onChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},TouchHandler}(mouseHandler_MouseHandler),pointerHandler_PointerHandler=function(_super){pointerHandler_extends(PointerHandler,_super);function PointerHandler(context,viewController,viewHelper){var _this=_super.call(this)||this;return window.navigator.msPointerEnabled?_this.handler=_this._register(new pointerHandler_MsPointerHandler(context,viewController,viewHelper)):platform.c&&canIUse.a.pointerEvents?_this.handler=_this._register(new pointerHandler_PointerEventHandler(context,viewController,viewHelper)):window.TouchEvent?_this.handler=_this._register(new pointerHandler_TouchHandler(context,viewController,viewHelper)):window.navigator.pointerEnabled||window.PointerEvent?_this.handler=_this._register(new pointerHandler_StandardPointerHandler(context,viewController,viewHelper)):_this.handler=_this._register(new mouseHandler_MouseHandler(context,viewController,viewHelper)),_this}return PointerHandler.prototype.getTargetAtClientPoint=function(clientX,clientY){return this.handler.getTargetAtClientPoint(clientX,clientY)},PointerHandler}(lifecycle.a),textAreaHandler=__webpack_require__(5763),strings=__webpack_require__(2123),textAreaInput=__webpack_require__(3866),textAreaState=__webpack_require__(3867),lineNumbers_lineNumbers=__webpack_require__(5764),dynamicViewOverlay_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),DynamicViewOverlay=function(_super){dynamicViewOverlay_extends(DynamicViewOverlay2,_super);function DynamicViewOverlay2(){return _super!==null&&_super.apply(this,arguments)||this}return DynamicViewOverlay2}(ViewEventHandler),editorColorRegistry=__webpack_require__(2804),lineNumbers_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),lineNumbers_LineNumbersOverlay=function(_super){lineNumbers_extends(LineNumbersOverlay,_super);function LineNumbersOverlay(context){var _this=_super.call(this)||this;return _this._context=context,_this._readConfig(),_this._lastCursorModelPosition=new core_position.a(1,1),_this._renderResult=null,_this._context.addEventHandler(_this),_this}return LineNumbersOverlay.prototype._readConfig=function(){var options=this._context.configuration.options;this._lineHeight=options.get(47);var lineNumbers=options.get(48);this._renderLineNumbers=lineNumbers.renderType,this._renderCustomLineNumbers=lineNumbers.renderFn,this._renderFinalNewline=options.get(68);var layoutInfo=options.get(103);this._lineNumbersLeft=layoutInfo.lineNumbersLeft,this._lineNumbersWidth=layoutInfo.lineNumbersWidth},LineNumbersOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,_super.prototype.dispose.call(this)},LineNumbersOverlay.prototype.onConfigurationChanged=function(e){return this._readConfig(),!0},LineNumbersOverlay.prototype.onCursorStateChanged=function(e){var primaryViewPosition=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(primaryViewPosition),this._renderLineNumbers===2||this._renderLineNumbers===3},LineNumbersOverlay.prototype.onFlushed=function(e){return!0},LineNumbersOverlay.prototype.onLinesChanged=function(e){return!0},LineNumbersOverlay.prototype.onLinesDeleted=function(e){return!0},LineNumbersOverlay.prototype.onLinesInserted=function(e){return!0},LineNumbersOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},LineNumbersOverlay.prototype.onZonesChanged=function(e){return!0},LineNumbersOverlay.prototype._getLineRenderLineNumber=function(viewLineNumber){var modelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(viewLineNumber,1));if(modelPosition.column!==1)return"";var modelLineNumber=modelPosition.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(modelLineNumber);if(this._renderLineNumbers===2){var diff=Math.abs(this._lastCursorModelPosition.lineNumber-modelLineNumber);return diff===0?'<span class="relative-current-line-number">'+modelLineNumber+"</span>":String(diff)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===modelLineNumber||modelLineNumber%10===0?String(modelLineNumber):"":String(modelLineNumber)},LineNumbersOverlay.prototype.prepareRender=function(ctx){if(this._renderLineNumbers===0){this._renderResult=null;return}for(var lineHeightClassName=platform.d?this._lineHeight%2===0?" lh-even":" lh-odd":"",visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,common='<div class="'+LineNumbersOverlay.CLASS_NAME+lineHeightClassName+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',lineCount=this._context.model.getLineCount(),output=[],lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){var lineIndex=lineNumber-visibleStartLineNumber;if(!this._renderFinalNewline&&lineNumber===lineCount&&this._context.model.getLineLength(lineNumber)===0){output[lineIndex]="";continue}var renderLineNumber=this._getLineRenderLineNumber(lineNumber);renderLineNumber?output[lineIndex]=common+renderLineNumber+"</div>":output[lineIndex]=""}this._renderResult=output},LineNumbersOverlay.prototype.render=function(startLineNumber,lineNumber){if(!this._renderResult)return"";var lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]},LineNumbersOverlay.CLASS_NAME="line-numbers",LineNumbersOverlay}(DynamicViewOverlay);Object(common_themeService.e)(function(theme,collector){var lineNumbers=theme.getColor(editorColorRegistry.k);lineNumbers&&collector.addRule(".monaco-editor .line-numbers { color: "+lineNumbers+"; }");var activeLineNumber=theme.getColor(editorColorRegistry.b);activeLineNumber&&collector.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+activeLineNumber+"; }")});var margin_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),margin_Margin=function(_super){margin_extends(Margin,_super);function Margin(context){var _this=_super.call(this,context)||this,options=_this._context.configuration.options,layoutInfo=options.get(103);return _this._canUseLayerHinting=!options.get(21),_this._contentLeft=layoutInfo.contentLeft,_this._glyphMarginLeft=layoutInfo.glyphMarginLeft,_this._glyphMarginWidth=layoutInfo.glyphMarginWidth,_this._domNode=Object(fastDomNode.b)(document.createElement("div")),_this._domNode.setClassName(Margin.OUTER_CLASS_NAME),_this._domNode.setPosition("absolute"),_this._domNode.setAttribute("role","presentation"),_this._domNode.setAttribute("aria-hidden","true"),_this._glyphMarginBackgroundDomNode=Object(fastDomNode.b)(document.createElement("div")),_this._glyphMarginBackgroundDomNode.setClassName(Margin.CLASS_NAME),_this._domNode.appendChild(_this._glyphMarginBackgroundDomNode),_this}return Margin.prototype.dispose=function(){_super.prototype.dispose.call(this)},Margin.prototype.getDomNode=function(){return this._domNode},Margin.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,layoutInfo=options.get(103);return this._canUseLayerHinting=!options.get(21),this._contentLeft=layoutInfo.contentLeft,this._glyphMarginLeft=layoutInfo.glyphMarginLeft,this._glyphMarginWidth=layoutInfo.glyphMarginWidth,!0},Margin.prototype.onScrollChanged=function(e){return _super.prototype.onScrollChanged.call(this,e)||e.scrollTopChanged},Margin.prototype.prepareRender=function(ctx){},Margin.prototype.render=function(ctx){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var adjustedScrollTop=ctx.scrollTop-ctx.bigNumbersDelta;this._domNode.setTop(-adjustedScrollTop);var height=Math.min(ctx.scrollHeight,1e6);this._domNode.setHeight(height),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(height)},Margin.CLASS_NAME="glyph-margin",Margin.OUTER_CLASS_NAME="margin",Margin}(ViewPart),wordCharacterClassifier=__webpack_require__(3282),viewEvents_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ViewConfigurationChangedEvent=function(){function ViewConfigurationChangedEvent2(source){this.type=1,this._source=source}return ViewConfigurationChangedEvent2.prototype.hasChanged=function(id){return this._source.hasChanged(id)},ViewConfigurationChangedEvent2}(),ViewCursorStateChangedEvent=function(){function ViewCursorStateChangedEvent2(selections){this.type=2,this.selections=selections}return ViewCursorStateChangedEvent2}(),ViewDecorationsChangedEvent=function(){function ViewDecorationsChangedEvent2(){this.type=3}return ViewDecorationsChangedEvent2}(),ViewFlushedEvent=function(){function ViewFlushedEvent2(){this.type=4}return ViewFlushedEvent2}(),ViewFocusChangedEvent=function(){function ViewFocusChangedEvent2(isFocused){this.type=5,this.isFocused=isFocused}return ViewFocusChangedEvent2}(),ViewLineMappingChangedEvent=function(){function ViewLineMappingChangedEvent2(){this.type=6}return ViewLineMappingChangedEvent2}(),ViewLinesChangedEvent=function(){function ViewLinesChangedEvent2(fromLineNumber,toLineNumber){this.type=7,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber}return ViewLinesChangedEvent2}(),ViewLinesDeletedEvent=function(){function ViewLinesDeletedEvent2(fromLineNumber,toLineNumber){this.type=8,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber}return ViewLinesDeletedEvent2}(),ViewLinesInsertedEvent=function(){function ViewLinesInsertedEvent2(fromLineNumber,toLineNumber){this.type=9,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber}return ViewLinesInsertedEvent2}(),ViewRevealRangeRequestEvent=function(){function ViewRevealRangeRequestEvent2(source,range,verticalType,revealHorizontal,scrollType){this.type=10,this.source=source,this.range=range,this.verticalType=verticalType,this.revealHorizontal=revealHorizontal,this.scrollType=scrollType}return ViewRevealRangeRequestEvent2}(),ViewScrollChangedEvent=function(){function ViewScrollChangedEvent2(source){this.type=11,this.scrollWidth=source.scrollWidth,this.scrollLeft=source.scrollLeft,this.scrollHeight=source.scrollHeight,this.scrollTop=source.scrollTop,this.scrollWidthChanged=source.scrollWidthChanged,this.scrollLeftChanged=source.scrollLeftChanged,this.scrollHeightChanged=source.scrollHeightChanged,this.scrollTopChanged=source.scrollTopChanged}return ViewScrollChangedEvent2}(),ViewTokensChangedEvent=function(){function ViewTokensChangedEvent2(ranges){this.type=12,this.ranges=ranges}return ViewTokensChangedEvent2}(),ViewThemeChangedEvent=function(){function ViewThemeChangedEvent2(){this.type=15}return ViewThemeChangedEvent2}(),ViewTokensColorsChangedEvent=function(){function ViewTokensColorsChangedEvent2(){this.type=13}return ViewTokensColorsChangedEvent2}(),ViewZonesChangedEvent=function(){function ViewZonesChangedEvent2(){this.type=14}return ViewZonesChangedEvent2}(),ViewLanguageConfigurationEvent=function(){function ViewLanguageConfigurationEvent2(){this.type=16}return ViewLanguageConfigurationEvent2}(),viewEvents_ViewEventEmitter=function(_super){viewEvents_extends(ViewEventEmitter,_super);function ViewEventEmitter(){var _this=_super.call(this)||this;return _this._listeners=[],_this._collector=null,_this._collectorCnt=0,_this}return ViewEventEmitter.prototype.dispose=function(){this._listeners=[],_super.prototype.dispose.call(this)},ViewEventEmitter.prototype._beginEmit=function(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new ViewEventsCollector),this._collector},ViewEventEmitter.prototype._endEmit=function(){if(this._collectorCnt--,this._collectorCnt===0){var events=this._collector.finalize();this._collector=null,events.length>0&&this._emit(events)}},ViewEventEmitter.prototype._emit=function(events){for(var listeners=this._listeners.slice(0),i=0,len=listeners.length;i<len;i++)safeInvokeListener(listeners[i],events)},ViewEventEmitter.prototype.addEventListener=function(listener){var _this=this;return this._listeners.push(listener),Object(lifecycle.h)(function(){for(var listeners=_this._listeners,i=0,len=listeners.length;i<len;i++)if(listeners[i]===listener){listeners.splice(i,1);break}})},ViewEventEmitter}(lifecycle.a),ViewEventsCollector=function(){function ViewEventsCollector2(){this._eventsLen=0,this._events=[],this._eventsLen=0}return ViewEventsCollector2.prototype.emit=function(event){this._events[this._eventsLen++]=event},ViewEventsCollector2.prototype.finalize=function(){var result=this._events;return this._events=[],result},ViewEventsCollector2}();function safeInvokeListener(listener,events){try{listener(events)}catch(e){errors.e(e)}}var textAreaHandler_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),VisibleTextAreaData=function(){function VisibleTextAreaData2(top,left,width){this.top=top,this.left=left,this.width=width}return VisibleTextAreaData2.prototype.setWidth=function(width){return new VisibleTextAreaData2(this.top,this.left,width)},VisibleTextAreaData2}(),canUseZeroSizeTextarea=browser.f||browser.h,textAreaHandler_TextAreaHandler=function(_super){textAreaHandler_extends(TextAreaHandler,_super);function TextAreaHandler(context,viewController,viewHelper){var _this=_super.call(this,context)||this;_this._primaryCursorPosition=new core_position.a(1,1),_this._primaryCursorVisibleRange=null,_this._viewController=viewController,_this._viewHelper=viewHelper,_this._scrollLeft=0,_this._scrollTop=0;var options=_this._context.configuration.options,layoutInfo=options.get(103);_this._accessibilitySupport=options.get(2),_this._accessibilityPageSize=options.get(3),_this._contentLeft=layoutInfo.contentLeft,_this._contentWidth=layoutInfo.contentWidth,_this._contentHeight=layoutInfo.contentHeight,_this._fontInfo=options.get(32),_this._lineHeight=options.get(47),_this._emptySelectionClipboard=options.get(24),_this._copyWithSyntaxHighlighting=options.get(14),_this._visibleTextArea=null,_this._selections=[new core_selection.a(1,1,1,1)],_this._lastRenderPosition=null,_this.textArea=Object(fastDomNode.b)(document.createElement("textarea")),viewPart_PartFingerprints.write(_this.textArea,6),_this.textArea.setClassName("inputarea"),_this.textArea.setAttribute("wrap","off"),_this.textArea.setAttribute("autocorrect","off"),_this.textArea.setAttribute("autocapitalize","off"),_this.textArea.setAttribute("autocomplete","off"),_this.textArea.setAttribute("spellcheck","false"),_this.textArea.setAttribute("aria-label",_this._getAriaLabel(options)),_this.textArea.setAttribute("role","textbox"),_this.textArea.setAttribute("aria-multiline","true"),_this.textArea.setAttribute("aria-haspopup","false"),_this.textArea.setAttribute("aria-autocomplete","both"),platform.g&&options.get(65)&&_this.textArea.setAttribute("readonly","true"),_this.textAreaCover=Object(fastDomNode.b)(document.createElement("div")),_this.textAreaCover.setPosition("absolute");var simpleModel={getLineCount:function(){return _this._context.model.getLineCount()},getLineMaxColumn:function(lineNumber){return _this._context.model.getLineMaxColumn(lineNumber)},getValueInRange:function(range,eol){return _this._context.model.getValueInRange(range,eol)}},textAreaInputHost={getDataToCopy:function(generateHTML){var rawTextToCopy=_this._context.model.getPlainTextToCopy(_this._selections,_this._emptySelectionClipboard,platform.h),newLineCharacter=_this._context.model.getEOL(),isFromEmptySelection=_this._emptySelectionClipboard&&_this._selections.length===1&&_this._selections[0].isEmpty(),multicursorText=Array.isArray(rawTextToCopy)?rawTextToCopy:null,text=Array.isArray(rawTextToCopy)?rawTextToCopy.join(newLineCharacter):rawTextToCopy,html=void 0;return generateHTML&&(textAreaInput.a.forceCopyWithSyntaxHighlighting||_this._copyWithSyntaxHighlighting&&text.length<65536)&&(html=_this._context.model.getHTMLToCopy(_this._selections,_this._emptySelectionClipboard)),{isFromEmptySelection,multicursorText,text,html}},getScreenReaderContent:function(currentState){if(browser.j)return textAreaState.b.EMPTY;if(_this._accessibilitySupport===1){if(platform.e){var selection=_this._selections[0];if(selection.isEmpty()){var position=selection.getStartPosition(),textBefore=_this._getWordBeforePosition(position);if(textBefore.length===0&&(textBefore=_this._getCharacterBeforePosition(position)),textBefore.length>0)return new textAreaState.b(textBefore,textBefore.length,textBefore.length,position,position)}}return textAreaState.b.EMPTY}return textAreaState.a.fromEditorSelection(currentState,simpleModel,_this._selections[0],_this._accessibilityPageSize,_this._accessibilitySupport===0)},deduceModelPosition:function(viewAnchorPosition,deltaOffset,lineFeedCnt){return _this._context.model.deduceModelPositionRelativeToViewPosition(viewAnchorPosition,deltaOffset,lineFeedCnt)}};return _this._textAreaInput=_this._register(new textAreaInput.b(textAreaInputHost,_this.textArea)),_this._register(_this._textAreaInput.onKeyDown(function(e){_this._viewController.emitKeyDown(e)})),_this._register(_this._textAreaInput.onKeyUp(function(e){_this._viewController.emitKeyUp(e)})),_this._register(_this._textAreaInput.onPaste(function(e){var pasteOnNewLine=!1,multicursorText=null;e.metadata&&(pasteOnNewLine=_this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,multicursorText=typeof e.metadata.multicursorText<"u"?e.metadata.multicursorText:null),_this._viewController.paste("keyboard",e.text,pasteOnNewLine,multicursorText)})),_this._register(_this._textAreaInput.onCut(function(){_this._viewController.cut("keyboard")})),_this._register(_this._textAreaInput.onType(function(e){e.replaceCharCnt?_this._viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):_this._viewController.type("keyboard",e.text)})),_this._register(_this._textAreaInput.onSelectionChangeRequest(function(modelSelection){_this._viewController.setSelection("keyboard",modelSelection)})),_this._register(_this._textAreaInput.onCompositionStart(function(){var lineNumber=_this._selections[0].startLineNumber,column=_this._selections[0].startColumn;_this._context.privateViewEventBus.emit(new ViewRevealRangeRequestEvent("keyboard",new core_range.a(lineNumber,column,lineNumber,column),0,!0,1));var visibleRange=_this._viewHelper.visibleRangeForPositionRelativeToEditor(lineNumber,column);visibleRange&&(_this._visibleTextArea=new VisibleTextAreaData(_this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber),visibleRange.left,canUseZeroSizeTextarea?0:1),_this._render()),_this.textArea.setClassName("inputarea ime-input"),_this._viewController.compositionStart("keyboard")})),_this._register(_this._textAreaInput.onCompositionUpdate(function(e){browser.f?_this._visibleTextArea=_this._visibleTextArea.setWidth(0):_this._visibleTextArea=_this._visibleTextArea.setWidth(measureText(e.data,_this._fontInfo)),_this._render()})),_this._register(_this._textAreaInput.onCompositionEnd(function(){_this._visibleTextArea=null,_this._render(),_this.textArea.setClassName("inputarea"),_this._viewController.compositionEnd("keyboard")})),_this._register(_this._textAreaInput.onFocus(function(){_this._context.privateViewEventBus.emit(new ViewFocusChangedEvent(!0))})),_this._register(_this._textAreaInput.onBlur(function(){_this._context.privateViewEventBus.emit(new ViewFocusChangedEvent(!1))})),_this}return TextAreaHandler.prototype.dispose=function(){_super.prototype.dispose.call(this)},TextAreaHandler.prototype._getWordBeforePosition=function(position){for(var lineContent=this._context.model.getLineContent(position.lineNumber),wordSeparators=Object(wordCharacterClassifier.a)(this._context.configuration.options.get(92)),column=position.column,distance=0;column>1;){var charCode=lineContent.charCodeAt(column-2),charClass=wordSeparators.get(charCode);if(charClass!==0||distance>50)return lineContent.substring(column-1,position.column-1);distance++,column--}return lineContent.substring(0,position.column-1)},TextAreaHandler.prototype._getCharacterBeforePosition=function(position){if(position.column>1){var lineContent=this._context.model.getLineContent(position.lineNumber),charBefore=lineContent.charAt(position.column-2);if(!strings.A(charBefore.charCodeAt(0)))return charBefore}return""},TextAreaHandler.prototype._getAriaLabel=function(options){var accessibilitySupport=options.get(2);return accessibilitySupport===1?nls.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):options.get(4)},TextAreaHandler.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,layoutInfo=options.get(103);return this._accessibilitySupport=options.get(2),this._accessibilityPageSize=options.get(3),this._contentLeft=layoutInfo.contentLeft,this._contentWidth=layoutInfo.contentWidth,this._contentHeight=layoutInfo.contentHeight,this._fontInfo=options.get(32),this._lineHeight=options.get(47),this._emptySelectionClipboard=options.get(24),this._copyWithSyntaxHighlighting=options.get(14),this.textArea.setAttribute("aria-label",this._getAriaLabel(options)),platform.g&&e.hasChanged(65)&&(options.get(65)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0},TextAreaHandler.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},TextAreaHandler.prototype.onDecorationsChanged=function(e){return!0},TextAreaHandler.prototype.onFlushed=function(e){return!0},TextAreaHandler.prototype.onLinesChanged=function(e){return!0},TextAreaHandler.prototype.onLinesDeleted=function(e){return!0},TextAreaHandler.prototype.onLinesInserted=function(e){return!0},TextAreaHandler.prototype.onScrollChanged=function(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0},TextAreaHandler.prototype.onZonesChanged=function(e){return!0},TextAreaHandler.prototype.isFocused=function(){return this._textAreaInput.isFocused()},TextAreaHandler.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},TextAreaHandler.prototype.getLastRenderData=function(){return this._lastRenderPosition},TextAreaHandler.prototype.prepareRender=function(ctx){this._primaryCursorPosition=new core_position.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=ctx.visibleRangeForPosition(this._primaryCursorPosition)},TextAreaHandler.prototype.render=function(ctx){this._textAreaInput.writeScreenReaderContent("render"),this._render()},TextAreaHandler.prototype._render=function(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}var left=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(left<this._contentLeft||left>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}var top=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(top<0||top>this._contentHeight){this._renderAtTopLeft();return}if(platform.e){this._renderInsideEditor(this._primaryCursorPosition,top,left,canUseZeroSizeTextarea?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,top,left,canUseZeroSizeTextarea?0:1,canUseZeroSizeTextarea?0:1)},TextAreaHandler.prototype._renderInsideEditor=function(renderedPosition,top,left,width,height){this._lastRenderPosition=renderedPosition;var ta=this.textArea,tac=this.textAreaCover;config_configuration.a.applyFontInfo(ta,this._fontInfo),ta.setTop(top),ta.setLeft(left),ta.setWidth(width),ta.setHeight(height),tac.setTop(0),tac.setLeft(0),tac.setWidth(0),tac.setHeight(0)},TextAreaHandler.prototype._renderAtTopLeft=function(){this._lastRenderPosition=null;var ta=this.textArea,tac=this.textAreaCover;if(config_configuration.a.applyFontInfo(ta,this._fontInfo),ta.setTop(0),ta.setLeft(0),tac.setTop(0),tac.setLeft(0),canUseZeroSizeTextarea){ta.setWidth(0),ta.setHeight(0),tac.setWidth(0),tac.setHeight(0);return}ta.setWidth(1),ta.setHeight(1),tac.setWidth(1),tac.setHeight(1);var options=this._context.configuration.options;options.get(38)?tac.setClassName("monaco-editor-background textAreaCover "+margin_Margin.OUTER_CLASS_NAME):options.get(48).renderType!==0?tac.setClassName("monaco-editor-background textAreaCover "+lineNumbers_LineNumbersOverlay.CLASS_NAME):tac.setClassName("monaco-editor-background textAreaCover")},TextAreaHandler}(ViewPart);function measureText(text,fontInfo){var canvasElem=document.createElement("canvas"),context=canvasElem.getContext("2d");context.font=createFontString(fontInfo);var metrics=context.measureText(text);return browser.h?metrics.width+2:metrics.width}function createFontString(bareFontInfo){return doCreateFontString("normal",bareFontInfo.fontWeight,bareFontInfo.fontSize,bareFontInfo.lineHeight,bareFontInfo.fontFamily)}function doCreateFontString(fontStyle,fontWeight,fontSize,lineHeight,fontFamily){return fontStyle+" normal "+fontWeight+" "+fontSize+"px / "+lineHeight+"px "+fontFamily}var coreCommands=__webpack_require__(2250),viewController_ViewController=function(){function ViewController(configuration,viewModel,outgoingEvents,commandDelegate){this.configuration=configuration,this.viewModel=viewModel,this.outgoingEvents=outgoingEvents,this.commandDelegate=commandDelegate}return ViewController.prototype._execMouseCommand=function(editorCommand,args){args.source="mouse",this.commandDelegate.executeEditorCommand(editorCommand,args)},ViewController.prototype.paste=function(source,text,pasteOnNewLine,multicursorText){this.commandDelegate.paste(source,text,pasteOnNewLine,multicursorText)},ViewController.prototype.type=function(source,text){this.commandDelegate.type(source,text)},ViewController.prototype.replacePreviousChar=function(source,text,replaceCharCnt){this.commandDelegate.replacePreviousChar(source,text,replaceCharCnt)},ViewController.prototype.compositionStart=function(source){this.commandDelegate.compositionStart(source)},ViewController.prototype.compositionEnd=function(source){this.commandDelegate.compositionEnd(source)},ViewController.prototype.cut=function(source){this.commandDelegate.cut(source)},ViewController.prototype.setSelection=function(source,modelSelection){this.commandDelegate.executeEditorCommand(coreCommands.CoreNavigationCommands.SetSelection,{source,selection:modelSelection})},ViewController.prototype._validateViewColumn=function(viewPosition){var minColumn=this.viewModel.getLineMinColumn(viewPosition.lineNumber);return viewPosition.column<minColumn?new core_position.a(viewPosition.lineNumber,minColumn):viewPosition},ViewController.prototype._hasMulticursorModifier=function(data){switch(this.configuration.options.get(57)){case"altKey":return data.altKey;case"ctrlKey":return data.ctrlKey;case"metaKey":return data.metaKey}return!1},ViewController.prototype._hasNonMulticursorModifier=function(data){switch(this.configuration.options.get(57)){case"altKey":return data.ctrlKey||data.metaKey;case"ctrlKey":return data.altKey||data.metaKey;case"metaKey":return data.ctrlKey||data.altKey}return!1},ViewController.prototype.dispatchMouse=function(data){var selectionClipboardIsOn=platform.d&&this.configuration.options.get(77);data.middleButton&&!selectionClipboardIsOn?this._columnSelect(data.position,data.mouseColumn,data.inSelectionMode):data.startedOnLineNumbers?this._hasMulticursorModifier(data)?data.inSelectionMode?this._lastCursorLineSelect(data.position):this._createCursor(data.position,!0):data.inSelectionMode?this._lineSelectDrag(data.position):this._lineSelect(data.position):data.mouseDownCount>=4?this._selectAll():data.mouseDownCount===3?this._hasMulticursorModifier(data)?data.inSelectionMode?this._lastCursorLineSelectDrag(data.position):this._lastCursorLineSelect(data.position):data.inSelectionMode?this._lineSelectDrag(data.position):this._lineSelect(data.position):data.mouseDownCount===2?this._hasMulticursorModifier(data)?this._lastCursorWordSelect(data.position):data.inSelectionMode?this._wordSelectDrag(data.position):this._wordSelect(data.position):this._hasMulticursorModifier(data)?this._hasNonMulticursorModifier(data)||(data.shiftKey?this._columnSelect(data.position,data.mouseColumn,!0):data.inSelectionMode?this._lastCursorMoveToSelect(data.position):this._createCursor(data.position,!1)):data.inSelectionMode?data.altKey?this._columnSelect(data.position,data.mouseColumn,!0):this._moveToSelect(data.position):this.moveTo(data.position)},ViewController.prototype._usualArgs=function(viewPosition){return viewPosition=this._validateViewColumn(viewPosition),{position:this._convertViewToModelPosition(viewPosition),viewPosition}},ViewController.prototype.moveTo=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.MoveTo,this._usualArgs(viewPosition))},ViewController.prototype._moveToSelect=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.MoveToSelect,this._usualArgs(viewPosition))},ViewController.prototype._columnSelect=function(viewPosition,mouseColumn,doColumnSelect){viewPosition=this._validateViewColumn(viewPosition),this._execMouseCommand(coreCommands.CoreNavigationCommands.ColumnSelect,{position:this._convertViewToModelPosition(viewPosition),viewPosition,mouseColumn,doColumnSelect})},ViewController.prototype._createCursor=function(viewPosition,wholeLine){viewPosition=this._validateViewColumn(viewPosition),this._execMouseCommand(coreCommands.CoreNavigationCommands.CreateCursor,{position:this._convertViewToModelPosition(viewPosition),viewPosition,wholeLine})},ViewController.prototype._lastCursorMoveToSelect=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.LastCursorMoveToSelect,this._usualArgs(viewPosition))},ViewController.prototype._wordSelect=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.WordSelect,this._usualArgs(viewPosition))},ViewController.prototype._wordSelectDrag=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.WordSelectDrag,this._usualArgs(viewPosition))},ViewController.prototype._lastCursorWordSelect=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.LastCursorWordSelect,this._usualArgs(viewPosition))},ViewController.prototype._lineSelect=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.LineSelect,this._usualArgs(viewPosition))},ViewController.prototype._lineSelectDrag=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.LineSelectDrag,this._usualArgs(viewPosition))},ViewController.prototype._lastCursorLineSelect=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.LastCursorLineSelect,this._usualArgs(viewPosition))},ViewController.prototype._lastCursorLineSelectDrag=function(viewPosition){this._execMouseCommand(coreCommands.CoreNavigationCommands.LastCursorLineSelectDrag,this._usualArgs(viewPosition))},ViewController.prototype._selectAll=function(){this._execMouseCommand(coreCommands.CoreNavigationCommands.SelectAll,{})},ViewController.prototype._convertViewToModelPosition=function(viewPosition){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(viewPosition)},ViewController.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},ViewController.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},ViewController.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},ViewController.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},ViewController.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},ViewController.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},ViewController.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},ViewController.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},ViewController.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},ViewController.prototype.emitMouseWheel=function(e){this.outgoingEvents.emitMouseWheel(e)},ViewController}(),viewOutgoingEvents_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ViewOutgoingEvents=function(_super){viewOutgoingEvents_extends(ViewOutgoingEvents2,_super);function ViewOutgoingEvents2(viewModel){var _this=_super.call(this)||this;return _this.onDidScroll=null,_this.onDidGainFocus=null,_this.onDidLoseFocus=null,_this.onKeyDown=null,_this.onKeyUp=null,_this.onContextMenu=null,_this.onMouseMove=null,_this.onMouseLeave=null,_this.onMouseUp=null,_this.onMouseDown=null,_this.onMouseDrag=null,_this.onMouseDrop=null,_this.onMouseWheel=null,_this._viewModel=viewModel,_this}return ViewOutgoingEvents2.prototype.emitScrollChanged=function(e){this.onDidScroll&&this.onDidScroll(e)},ViewOutgoingEvents2.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},ViewOutgoingEvents2.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},ViewOutgoingEvents2.prototype.emitKeyDown=function(e){this.onKeyDown&&this.onKeyDown(e)},ViewOutgoingEvents2.prototype.emitKeyUp=function(e){this.onKeyUp&&this.onKeyUp(e)},ViewOutgoingEvents2.prototype.emitContextMenu=function(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents2.prototype.emitMouseMove=function(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents2.prototype.emitMouseLeave=function(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents2.prototype.emitMouseUp=function(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents2.prototype.emitMouseDown=function(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents2.prototype.emitMouseDrag=function(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents2.prototype.emitMouseDrop=function(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents2.prototype.emitMouseWheel=function(e){this.onMouseWheel&&this.onMouseWheel(e)},ViewOutgoingEvents2.prototype._convertViewToModelMouseEvent=function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e},ViewOutgoingEvents2.prototype._convertViewToModelMouseTarget=function(target){return ViewOutgoingEvents2.convertViewToModelMouseTarget(target,this._viewModel.coordinatesConverter)},ViewOutgoingEvents2.convertViewToModelMouseTarget=function(target,coordinatesConverter){return new viewOutgoingEvents_ExternalMouseTarget(target.element,target.type,target.mouseColumn,target.position?coordinatesConverter.convertViewPositionToModelPosition(target.position):null,target.range?coordinatesConverter.convertViewRangeToModelRange(target.range):null,target.detail)},ViewOutgoingEvents2}(lifecycle.a),viewOutgoingEvents_ExternalMouseTarget=function(){function ExternalMouseTarget(element,type,mouseColumn,position,range,detail){this.element=element,this.type=type,this.mouseColumn=mouseColumn,this.position=position,this.range=range,this.detail=detail}return ExternalMouseTarget.prototype.toString=function(){return mouseTarget_MouseTarget.toString(this)},ExternalMouseTarget}(),stringBuilder=__webpack_require__(3504),RenderedLinesCollection=function(){function RenderedLinesCollection2(createLine){this._createLine=createLine,this._set(1,[])}return RenderedLinesCollection2.prototype.flush=function(){this._set(1,[])},RenderedLinesCollection2.prototype._set=function(rendLineNumberStart,lines){this._lines=lines,this._rendLineNumberStart=rendLineNumberStart},RenderedLinesCollection2.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},RenderedLinesCollection2.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},RenderedLinesCollection2.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},RenderedLinesCollection2.prototype.getCount=function(){return this._lines.length},RenderedLinesCollection2.prototype.getLine=function(lineNumber){var lineIndex=lineNumber-this._rendLineNumberStart;if(lineIndex<0||lineIndex>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[lineIndex]},RenderedLinesCollection2.prototype.onLinesDeleted=function(deleteFromLineNumber,deleteToLineNumber){if(this.getCount()===0)return null;var startLineNumber=this.getStartLineNumber(),endLineNumber=this.getEndLineNumber();if(deleteToLineNumber<startLineNumber){var deleteCnt=deleteToLineNumber-deleteFromLineNumber+1;return this._rendLineNumberStart-=deleteCnt,null}if(deleteFromLineNumber>endLineNumber)return null;for(var deleteStartIndex=0,deleteCount=0,lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var lineIndex=lineNumber-this._rendLineNumberStart;deleteFromLineNumber<=lineNumber&&lineNumber<=deleteToLineNumber&&(deleteCount===0?(deleteStartIndex=lineIndex,deleteCount=1):deleteCount++)}if(deleteFromLineNumber<startLineNumber){var deleteAboveCount=0;deleteToLineNumber<startLineNumber?deleteAboveCount=deleteToLineNumber-deleteFromLineNumber+1:deleteAboveCount=startLineNumber-deleteFromLineNumber,this._rendLineNumberStart-=deleteAboveCount}var deleted=this._lines.splice(deleteStartIndex,deleteCount);return deleted},RenderedLinesCollection2.prototype.onLinesChanged=function(changeFromLineNumber,changeToLineNumber){if(this.getCount()===0)return!1;for(var startLineNumber=this.getStartLineNumber(),endLineNumber=this.getEndLineNumber(),someoneNotified=!1,changedLineNumber=changeFromLineNumber;changedLineNumber<=changeToLineNumber;changedLineNumber++)changedLineNumber>=startLineNumber&&changedLineNumber<=endLineNumber&&(this._lines[changedLineNumber-this._rendLineNumberStart].onContentChanged(),someoneNotified=!0);return someoneNotified},RenderedLinesCollection2.prototype.onLinesInserted=function(insertFromLineNumber,insertToLineNumber){if(this.getCount()===0)return null;var insertCnt=insertToLineNumber-insertFromLineNumber+1,startLineNumber=this.getStartLineNumber(),endLineNumber=this.getEndLineNumber();if(insertFromLineNumber<=startLineNumber)return this._rendLineNumberStart+=insertCnt,null;if(insertFromLineNumber>endLineNumber)return null;if(insertCnt+insertFromLineNumber>endLineNumber){var deleted=this._lines.splice(insertFromLineNumber-this._rendLineNumberStart,endLineNumber-insertFromLineNumber+1);return deleted}for(var newLines=[],i=0;i<insertCnt;i++)newLines[i]=this._createLine();var insertIndex=insertFromLineNumber-this._rendLineNumberStart,beforeLines=this._lines.slice(0,insertIndex),afterLines=this._lines.slice(insertIndex,this._lines.length-insertCnt),deletedLines=this._lines.slice(this._lines.length-insertCnt,this._lines.length);return this._lines=beforeLines.concat(newLines).concat(afterLines),deletedLines},RenderedLinesCollection2.prototype.onTokensChanged=function(ranges){if(this.getCount()===0)return!1;for(var startLineNumber=this.getStartLineNumber(),endLineNumber=this.getEndLineNumber(),notifiedSomeone=!1,i=0,len=ranges.length;i<len;i++){var rng=ranges[i];if(!(rng.toLineNumber<startLineNumber||rng.fromLineNumber>endLineNumber))for(var from=Math.max(startLineNumber,rng.fromLineNumber),to=Math.min(endLineNumber,rng.toLineNumber),lineNumber=from;lineNumber<=to;lineNumber++){var lineIndex=lineNumber-this._rendLineNumberStart;this._lines[lineIndex].onTokensChanged(),notifiedSomeone=!0}}return notifiedSomeone},RenderedLinesCollection2}(),viewLayer_VisibleLinesCollection=function(){function VisibleLinesCollection(host){var _this=this;this._host=host,this.domNode=this._createDomNode(),this._linesCollection=new RenderedLinesCollection(function(){return _this._host.createVisibleLine()})}return VisibleLinesCollection.prototype._createDomNode=function(){var domNode=Object(fastDomNode.b)(document.createElement("div"));return domNode.setClassName("view-layer"),domNode.setPosition("absolute"),domNode.domNode.setAttribute("role","presentation"),domNode.domNode.setAttribute("aria-hidden","true"),domNode},VisibleLinesCollection.prototype.onConfigurationChanged=function(e){return!!e.hasChanged(103)},VisibleLinesCollection.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},VisibleLinesCollection.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},VisibleLinesCollection.prototype.onLinesDeleted=function(e){var deleted=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(deleted)for(var i=0,len=deleted.length;i<len;i++){var lineDomNode=deleted[i].getDomNode();lineDomNode&&this.domNode.domNode.removeChild(lineDomNode)}return!0},VisibleLinesCollection.prototype.onLinesInserted=function(e){var deleted=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(deleted)for(var i=0,len=deleted.length;i<len;i++){var lineDomNode=deleted[i].getDomNode();lineDomNode&&this.domNode.domNode.removeChild(lineDomNode)}return!0},VisibleLinesCollection.prototype.onScrollChanged=function(e){return e.scrollTopChanged},VisibleLinesCollection.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},VisibleLinesCollection.prototype.onZonesChanged=function(e){return!0},VisibleLinesCollection.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},VisibleLinesCollection.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},VisibleLinesCollection.prototype.getVisibleLine=function(lineNumber){return this._linesCollection.getLine(lineNumber)},VisibleLinesCollection.prototype.renderLines=function(viewportData){var inp=this._linesCollection._get(),renderer=new viewLayer_ViewLayerRenderer(this.domNode.domNode,this._host,viewportData),ctx={rendLineNumberStart:inp.rendLineNumberStart,lines:inp.lines,linesLength:inp.lines.length},resCtx=renderer.render(ctx,viewportData.startLineNumber,viewportData.endLineNumber,viewportData.relativeVerticalOffset);this._linesCollection._set(resCtx.rendLineNumberStart,resCtx.lines)},VisibleLinesCollection}(),viewLayer_ViewLayerRenderer=function(){function ViewLayerRenderer(domNode,host,viewportData){this.domNode=domNode,this.host=host,this.viewportData=viewportData}return ViewLayerRenderer.prototype.render=function(inContext,startLineNumber,stopLineNumber,deltaTop){var ctx={rendLineNumberStart:inContext.rendLineNumberStart,lines:inContext.lines.slice(0),linesLength:inContext.linesLength};if(ctx.rendLineNumberStart+ctx.linesLength-1<startLineNumber||stopLineNumber<ctx.rendLineNumberStart){ctx.rendLineNumberStart=startLineNumber,ctx.linesLength=stopLineNumber-startLineNumber+1,ctx.lines=[];for(var x=startLineNumber;x<=stopLineNumber;x++)ctx.lines[x-startLineNumber]=this.host.createVisibleLine();return this._finishRendering(ctx,!0,deltaTop),ctx}if(this._renderUntouchedLines(ctx,Math.max(startLineNumber-ctx.rendLineNumberStart,0),Math.min(stopLineNumber-ctx.rendLineNumberStart,ctx.linesLength-1),deltaTop,startLineNumber),ctx.rendLineNumberStart>startLineNumber){var fromLineNumber=startLineNumber,toLineNumber=Math.min(stopLineNumber,ctx.rendLineNumberStart-1);fromLineNumber<=toLineNumber&&(this._insertLinesBefore(ctx,fromLineNumber,toLineNumber,deltaTop,startLineNumber),ctx.linesLength+=toLineNumber-fromLineNumber+1)}else if(ctx.rendLineNumberStart<startLineNumber){var removeCnt=Math.min(ctx.linesLength,startLineNumber-ctx.rendLineNumberStart);removeCnt>0&&(this._removeLinesBefore(ctx,removeCnt),ctx.linesLength-=removeCnt)}if(ctx.rendLineNumberStart=startLineNumber,ctx.rendLineNumberStart+ctx.linesLength-1<stopLineNumber){var fromLineNumber=ctx.rendLineNumberStart+ctx.linesLength,toLineNumber=stopLineNumber;fromLineNumber<=toLineNumber&&(this._insertLinesAfter(ctx,fromLineNumber,toLineNumber,deltaTop,startLineNumber),ctx.linesLength+=toLineNumber-fromLineNumber+1)}else if(ctx.rendLineNumberStart+ctx.linesLength-1>stopLineNumber){var fromLineNumber=Math.max(0,stopLineNumber-ctx.rendLineNumberStart+1),toLineNumber=ctx.linesLength-1,removeCnt=toLineNumber-fromLineNumber+1;removeCnt>0&&(this._removeLinesAfter(ctx,removeCnt),ctx.linesLength-=removeCnt)}return this._finishRendering(ctx,!1,deltaTop),ctx},ViewLayerRenderer.prototype._renderUntouchedLines=function(ctx,startIndex,endIndex,deltaTop,deltaLN){for(var rendLineNumberStart=ctx.rendLineNumberStart,lines=ctx.lines,i=startIndex;i<=endIndex;i++){var lineNumber=rendLineNumberStart+i;lines[i].layoutLine(lineNumber,deltaTop[lineNumber-deltaLN])}},ViewLayerRenderer.prototype._insertLinesBefore=function(ctx,fromLineNumber,toLineNumber,deltaTop,deltaLN){for(var newLines=[],newLinesLen=0,lineNumber=fromLineNumber;lineNumber<=toLineNumber;lineNumber++)newLines[newLinesLen++]=this.host.createVisibleLine();ctx.lines=newLines.concat(ctx.lines)},ViewLayerRenderer.prototype._removeLinesBefore=function(ctx,removeCount){for(var i=0;i<removeCount;i++){var lineDomNode=ctx.lines[i].getDomNode();lineDomNode&&this.domNode.removeChild(lineDomNode)}ctx.lines.splice(0,removeCount)},ViewLayerRenderer.prototype._insertLinesAfter=function(ctx,fromLineNumber,toLineNumber,deltaTop,deltaLN){for(var newLines=[],newLinesLen=0,lineNumber=fromLineNumber;lineNumber<=toLineNumber;lineNumber++)newLines[newLinesLen++]=this.host.createVisibleLine();ctx.lines=ctx.lines.concat(newLines)},ViewLayerRenderer.prototype._removeLinesAfter=function(ctx,removeCount){for(var removeIndex=ctx.linesLength-removeCount,i=0;i<removeCount;i++){var lineDomNode=ctx.lines[removeIndex+i].getDomNode();lineDomNode&&this.domNode.removeChild(lineDomNode)}ctx.lines.splice(removeIndex,removeCount)},ViewLayerRenderer.prototype._finishRenderingNewLines=function(ctx,domNodeIsEmpty,newLinesHTML,wasNew){var lastChild=this.domNode.lastChild;domNodeIsEmpty||!lastChild?this.domNode.innerHTML=newLinesHTML:lastChild.insertAdjacentHTML("afterend",newLinesHTML);for(var currChild=this.domNode.lastChild,i=ctx.linesLength-1;i>=0;i--){var line=ctx.lines[i];wasNew[i]&&(line.setDomNode(currChild),currChild=currChild.previousSibling)}},ViewLayerRenderer.prototype._finishRenderingInvalidLines=function(ctx,invalidLinesHTML,wasInvalid){var hugeDomNode=document.createElement("div");hugeDomNode.innerHTML=invalidLinesHTML;for(var i=0;i<ctx.linesLength;i++){var line=ctx.lines[i];if(wasInvalid[i]){var source=hugeDomNode.firstChild,lineDomNode=line.getDomNode();lineDomNode.parentNode.replaceChild(source,lineDomNode),line.setDomNode(source)}}},ViewLayerRenderer.prototype._finishRendering=function(ctx,domNodeIsEmpty,deltaTop){var sb=ViewLayerRenderer._sb,linesLength=ctx.linesLength,lines=ctx.lines,rendLineNumberStart=ctx.rendLineNumberStart,wasNew=[];{sb.reset();for(var hadNewLine=!1,i=0;i<linesLength;i++){var line=lines[i];wasNew[i]=!1;var lineDomNode=line.getDomNode();if(!lineDomNode){var renderResult=line.renderLine(i+rendLineNumberStart,deltaTop[i],this.viewportData,sb);renderResult&&(wasNew[i]=!0,hadNewLine=!0)}}hadNewLine&&this._finishRenderingNewLines(ctx,domNodeIsEmpty,sb.build(),wasNew)}{sb.reset();for(var hadInvalidLine=!1,wasInvalid=[],i=0;i<linesLength;i++){var line=lines[i];if(wasInvalid[i]=!1,!wasNew[i]){var renderResult=line.renderLine(i+rendLineNumberStart,deltaTop[i],this.viewportData,sb);renderResult&&(wasInvalid[i]=!0,hadInvalidLine=!0)}}hadInvalidLine&&this._finishRenderingInvalidLines(ctx,sb.build(),wasInvalid)}},ViewLayerRenderer._sb=Object(stringBuilder.a)(1e5),ViewLayerRenderer}(),viewOverlays_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),viewOverlays_ViewOverlays=function(_super){viewOverlays_extends(ViewOverlays,_super);function ViewOverlays(context){var _this=_super.call(this,context)||this;return _this._visibleLines=new viewLayer_VisibleLinesCollection(_this),_this.domNode=_this._visibleLines.domNode,_this._dynamicOverlays=[],_this._isFocused=!1,_this.domNode.setClassName("view-overlays"),_this}return ViewOverlays.prototype.shouldRender=function(){if(_super.prototype.shouldRender.call(this))return!0;for(var i=0,len=this._dynamicOverlays.length;i<len;i++){var dynamicOverlay=this._dynamicOverlays[i];if(dynamicOverlay.shouldRender())return!0}return!1},ViewOverlays.prototype.dispose=function(){_super.prototype.dispose.call(this);for(var i=0,len=this._dynamicOverlays.length;i<len;i++){var dynamicOverlay=this._dynamicOverlays[i];dynamicOverlay.dispose()}this._dynamicOverlays=[]},ViewOverlays.prototype.getDomNode=function(){return this.domNode},ViewOverlays.prototype.createVisibleLine=function(){return new viewOverlays_ViewOverlayLine(this._context.configuration,this._dynamicOverlays)},ViewOverlays.prototype.addDynamicOverlay=function(overlay){this._dynamicOverlays.push(overlay)},ViewOverlays.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);for(var startLineNumber=this._visibleLines.getStartLineNumber(),endLineNumber=this._visibleLines.getEndLineNumber(),lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var line=this._visibleLines.getVisibleLine(lineNumber);line.onConfigurationChanged(e)}return!0},ViewOverlays.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)},ViewOverlays.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!0},ViewOverlays.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},ViewOverlays.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},ViewOverlays.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},ViewOverlays.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||!0},ViewOverlays.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},ViewOverlays.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},ViewOverlays.prototype.prepareRender=function(ctx){for(var toRender=this._dynamicOverlays.filter(function(overlay){return overlay.shouldRender()}),i=0,len=toRender.length;i<len;i++){var dynamicOverlay=toRender[i];dynamicOverlay.prepareRender(ctx),dynamicOverlay.onDidRender()}},ViewOverlays.prototype.render=function(ctx){this._viewOverlaysRender(ctx),this.domNode.toggleClassName("focused",this._isFocused)},ViewOverlays.prototype._viewOverlaysRender=function(ctx){this._visibleLines.renderLines(ctx.viewportData)},ViewOverlays}(ViewPart),viewOverlays_ViewOverlayLine=function(){function ViewOverlayLine(configuration,dynamicOverlays){this._configuration=configuration,this._lineHeight=this._configuration.options.get(47),this._dynamicOverlays=dynamicOverlays,this._domNode=null,this._renderedContent=null}return ViewOverlayLine.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},ViewOverlayLine.prototype.setDomNode=function(domNode){this._domNode=Object(fastDomNode.b)(domNode)},ViewOverlayLine.prototype.onContentChanged=function(){},ViewOverlayLine.prototype.onTokensChanged=function(){},ViewOverlayLine.prototype.onConfigurationChanged=function(e){this._lineHeight=this._configuration.options.get(47)},ViewOverlayLine.prototype.renderLine=function(lineNumber,deltaTop,viewportData,sb){for(var result="",i=0,len=this._dynamicOverlays.length;i<len;i++){var dynamicOverlay=this._dynamicOverlays[i];result+=dynamicOverlay.render(viewportData.startLineNumber,lineNumber)}return this._renderedContent===result?!1:(this._renderedContent=result,sb.appendASCIIString('<div style="position:absolute;top:'),sb.appendASCIIString(String(deltaTop)),sb.appendASCIIString("px;width:100%;height:"),sb.appendASCIIString(String(this._lineHeight)),sb.appendASCIIString('px;">'),sb.appendASCIIString(result),sb.appendASCIIString("</div>"),!0)},ViewOverlayLine.prototype.layoutLine=function(lineNumber,deltaTop){this._domNode&&(this._domNode.setTop(deltaTop),this._domNode.setHeight(this._lineHeight))},ViewOverlayLine}(),ContentViewOverlays=function(_super){viewOverlays_extends(ContentViewOverlays2,_super);function ContentViewOverlays2(context){var _this=_super.call(this,context)||this,options=_this._context.configuration.options,layoutInfo=options.get(103);return _this._contentWidth=layoutInfo.contentWidth,_this.domNode.setHeight(0),_this}return ContentViewOverlays2.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,layoutInfo=options.get(103);return this._contentWidth=layoutInfo.contentWidth,_super.prototype.onConfigurationChanged.call(this,e)||!0},ContentViewOverlays2.prototype.onScrollChanged=function(e){return _super.prototype.onScrollChanged.call(this,e)||e.scrollWidthChanged},ContentViewOverlays2.prototype._viewOverlaysRender=function(ctx){_super.prototype._viewOverlaysRender.call(this,ctx),this.domNode.setWidth(Math.max(ctx.scrollWidth,this._contentWidth))},ContentViewOverlays2}(viewOverlays_ViewOverlays),viewOverlays_MarginViewOverlays=function(_super){viewOverlays_extends(MarginViewOverlays,_super);function MarginViewOverlays(context){var _this=_super.call(this,context)||this,options=_this._context.configuration.options,layoutInfo=options.get(103);return _this._contentLeft=layoutInfo.contentLeft,_this.domNode.setClassName("margin-view-overlays"),_this.domNode.setWidth(1),config_configuration.a.applyFontInfo(_this.domNode,options.get(32)),_this}return MarginViewOverlays.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options;config_configuration.a.applyFontInfo(this.domNode,options.get(32));var layoutInfo=options.get(103);return this._contentLeft=layoutInfo.contentLeft,_super.prototype.onConfigurationChanged.call(this,e)||!0},MarginViewOverlays.prototype.onScrollChanged=function(e){return _super.prototype.onScrollChanged.call(this,e)||e.scrollHeightChanged},MarginViewOverlays.prototype._viewOverlaysRender=function(ctx){_super.prototype._viewOverlaysRender.call(this,ctx);var height=Math.min(ctx.scrollHeight,1e6);this.domNode.setHeight(height),this.domNode.setWidth(this._contentLeft)},MarginViewOverlays}(viewOverlays_ViewOverlays),contentWidgets_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),Coordinate=function(){function Coordinate2(top,left){this.top=top,this.left=left}return Coordinate2}(),contentWidgets_ViewContentWidgets=function(_super){contentWidgets_extends(ViewContentWidgets,_super);function ViewContentWidgets(context,viewDomNode){var _this=_super.call(this,context)||this;return _this._viewDomNode=viewDomNode,_this._widgets={},_this.domNode=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(_this.domNode,1),_this.domNode.setClassName("contentWidgets"),_this.domNode.setPosition("absolute"),_this.domNode.setTop(0),_this.overflowingContentWidgetsDomNode=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(_this.overflowingContentWidgetsDomNode,2),_this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),_this}return ViewContentWidgets.prototype.dispose=function(){_super.prototype.dispose.call(this),this._widgets={}},ViewContentWidgets.prototype.onConfigurationChanged=function(e){for(var keys=Object.keys(this._widgets),_i=0,keys_1=keys;_i<keys_1.length;_i++){var widgetId=keys_1[_i];this._widgets[widgetId].onConfigurationChanged(e)}return!0},ViewContentWidgets.prototype.onDecorationsChanged=function(e){return!0},ViewContentWidgets.prototype.onFlushed=function(e){return!0},ViewContentWidgets.prototype.onLineMappingChanged=function(e){for(var keys=Object.keys(this._widgets),_i=0,keys_2=keys;_i<keys_2.length;_i++){var widgetId=keys_2[_i];this._widgets[widgetId].onLineMappingChanged(e)}return!0},ViewContentWidgets.prototype.onLinesChanged=function(e){return!0},ViewContentWidgets.prototype.onLinesDeleted=function(e){return!0},ViewContentWidgets.prototype.onLinesInserted=function(e){return!0},ViewContentWidgets.prototype.onScrollChanged=function(e){return!0},ViewContentWidgets.prototype.onZonesChanged=function(e){return!0},ViewContentWidgets.prototype.addWidget=function(_widget){var myWidget=new contentWidgets_Widget(this._context,this._viewDomNode,_widget);this._widgets[myWidget.id]=myWidget,myWidget.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(myWidget.domNode):this.domNode.appendChild(myWidget.domNode),this.setShouldRender()},ViewContentWidgets.prototype.setWidgetPosition=function(widget,position,range,preference){var myWidget=this._widgets[widget.getId()];myWidget.setPosition(position,range,preference),this.setShouldRender()},ViewContentWidgets.prototype.removeWidget=function(widget){var widgetId=widget.getId();if(this._widgets.hasOwnProperty(widgetId)){var myWidget=this._widgets[widgetId];delete this._widgets[widgetId];var domNode=myWidget.domNode.domNode;domNode.parentNode.removeChild(domNode),domNode.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},ViewContentWidgets.prototype.shouldSuppressMouseDownOnWidget=function(widgetId){return this._widgets.hasOwnProperty(widgetId)?this._widgets[widgetId].suppressMouseDown:!1},ViewContentWidgets.prototype.onBeforeRender=function(viewportData){for(var keys=Object.keys(this._widgets),_i=0,keys_3=keys;_i<keys_3.length;_i++){var widgetId=keys_3[_i];this._widgets[widgetId].onBeforeRender(viewportData)}},ViewContentWidgets.prototype.prepareRender=function(ctx){for(var keys=Object.keys(this._widgets),_i=0,keys_4=keys;_i<keys_4.length;_i++){var widgetId=keys_4[_i];this._widgets[widgetId].prepareRender(ctx)}},ViewContentWidgets.prototype.render=function(ctx){for(var keys=Object.keys(this._widgets),_i=0,keys_5=keys;_i<keys_5.length;_i++){var widgetId=keys_5[_i];this._widgets[widgetId].render(ctx)}},ViewContentWidgets}(ViewPart),contentWidgets_Widget=function(){function Widget(context,viewDomNode,actual){this._context=context,this._viewDomNode=viewDomNode,this._actual=actual,this.domNode=Object(fastDomNode.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;var options=this._context.configuration.options,layoutInfo=options.get(103);this._fixedOverflowWidgets=options.get(28),this._contentWidth=layoutInfo.contentWidth,this._contentLeft=layoutInfo.contentLeft,this._lineHeight=options.get(47),this._position=null,this._range=null,this._viewPosition=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return Widget.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options;if(this._lineHeight=options.get(47),e.hasChanged(103)){var layoutInfo=options.get(103);this._contentLeft=layoutInfo.contentLeft,this._contentWidth=layoutInfo.contentWidth,this._maxWidth=this._getMaxWidth()}},Widget.prototype.onLineMappingChanged=function(e){this._setPosition(this._position,this._range)},Widget.prototype._setPosition=function(position,range){if(this._position=position,this._range=range,this._viewPosition=null,this._viewRange=null,this._position){var validModelPosition=this._context.model.validateModelPosition(this._position);this._context.model.coordinatesConverter.modelPositionIsVisible(validModelPosition)&&(this._viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(validModelPosition))}if(this._range){var validModelRange=this._context.model.validateModelRange(this._range);this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(validModelRange)}},Widget.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},Widget.prototype.setPosition=function(position,range,preference){this._setPosition(position,range),this._preference=preference,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},Widget.prototype._layoutBoxInViewport=function(topLeft,bottomLeft,width,height,ctx){var aboveLineTop=topLeft.top,heightAboveLine=aboveLineTop,underLineTop=bottomLeft.top+this._lineHeight,heightUnderLine=ctx.viewportHeight-underLineTop,aboveTop=aboveLineTop-height,fitsAbove=heightAboveLine>=height,belowTop=underLineTop,fitsBelow=heightUnderLine>=height,actualAboveLeft=topLeft.left,actualBelowLeft=bottomLeft.left;return actualAboveLeft+width>ctx.scrollLeft+ctx.viewportWidth&&(actualAboveLeft=ctx.scrollLeft+ctx.viewportWidth-width),actualBelowLeft+width>ctx.scrollLeft+ctx.viewportWidth&&(actualBelowLeft=ctx.scrollLeft+ctx.viewportWidth-width),actualAboveLeft<ctx.scrollLeft&&(actualAboveLeft=ctx.scrollLeft),actualBelowLeft<ctx.scrollLeft&&(actualBelowLeft=ctx.scrollLeft),{fitsAbove,aboveTop,aboveLeft:actualAboveLeft,fitsBelow,belowTop,belowLeft:actualBelowLeft}},Widget.prototype._layoutBoxInPage=function(topLeft,bottomLeft,width,height,ctx){var aboveLeft0=topLeft.left-ctx.scrollLeft,belowLeft0=bottomLeft.left-ctx.scrollLeft,aboveTop=topLeft.top-height,belowTop=bottomLeft.top+this._lineHeight,aboveLeft=aboveLeft0+this._contentLeft,belowLeft=belowLeft0+this._contentLeft,domNodePosition=dom.B(this._viewDomNode.domNode),absoluteAboveTop=domNodePosition.top+aboveTop-dom.e.scrollY,absoluteBelowTop=domNodePosition.top+belowTop-dom.e.scrollY,absoluteAboveLeft=domNodePosition.left+aboveLeft-dom.e.scrollX,absoluteBelowLeft=domNodePosition.left+belowLeft-dom.e.scrollX,INNER_WIDTH=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,INNER_HEIGHT=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,TOP_PADDING=22,BOTTOM_PADDING=22,fitsAbove=absoluteAboveTop>=TOP_PADDING,fitsBelow=absoluteBelowTop+height<=INNER_HEIGHT-BOTTOM_PADDING;if(absoluteAboveLeft+width+20>INNER_WIDTH){var delta=absoluteAboveLeft-(INNER_WIDTH-width-20);absoluteAboveLeft-=delta,aboveLeft-=delta}if(absoluteBelowLeft+width+20>INNER_WIDTH){var delta=absoluteBelowLeft-(INNER_WIDTH-width-20);absoluteBelowLeft-=delta,belowLeft-=delta}if(absoluteAboveLeft<0){var delta=absoluteAboveLeft;absoluteAboveLeft-=delta,aboveLeft-=delta}if(absoluteBelowLeft<0){var delta=absoluteBelowLeft;absoluteBelowLeft-=delta,belowLeft-=delta}return this._fixedOverflowWidgets&&(aboveTop=absoluteAboveTop,belowTop=absoluteBelowTop,aboveLeft=absoluteAboveLeft,belowLeft=absoluteBelowLeft),{fitsAbove,aboveTop:Math.max(aboveTop,TOP_PADDING),aboveLeft,fitsBelow,belowTop,belowLeft}},Widget.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(topLeft){return new Coordinate(topLeft.top,topLeft.left+this._contentLeft)},Widget.prototype._getTopAndBottomLeft=function(ctx){if(!this._viewPosition)return[null,null];var visibleRangeForPosition=ctx.visibleRangeForPosition(this._viewPosition);if(!visibleRangeForPosition)return[null,null];var topForPosition=ctx.getVerticalOffsetForLineNumber(this._viewPosition.lineNumber)-ctx.scrollTop,topLeft=new Coordinate(topForPosition,visibleRangeForPosition.left),largestLineNumber=this._viewPosition.lineNumber,smallestLeft=visibleRangeForPosition.left;if(this._viewRange){var visibleRangesForRange=ctx.linesVisibleRangesForRange(this._viewRange,!1);if(visibleRangesForRange&&visibleRangesForRange.length>0)for(var i=visibleRangesForRange.length-1;i>=0;i--){var visibleRangesForLine=visibleRangesForRange[i];if(visibleRangesForLine.lineNumber>=largestLineNumber){visibleRangesForLine.lineNumber>largestLineNumber&&(largestLineNumber=visibleRangesForLine.lineNumber,smallestLeft=1073741824);for(var j=0,lenJ=visibleRangesForLine.ranges.length;j<lenJ;j++){var visibleRange=visibleRangesForLine.ranges[j];visibleRange.left<smallestLeft&&(smallestLeft=visibleRange.left)}}}}var topForBottomLine=ctx.getVerticalOffsetForLineNumber(largestLineNumber)-ctx.scrollTop,bottomLeft=new Coordinate(topForBottomLine,smallestLeft);return[topLeft,bottomLeft]},Widget.prototype._prepareRenderWidget=function(ctx){var _a=this._getTopAndBottomLeft(ctx),topLeft=_a[0],bottomLeft=_a[1];if(!topLeft||!bottomLeft)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){var domNode=this.domNode.domNode;this._cachedDomNodeClientWidth=domNode.clientWidth,this._cachedDomNodeClientHeight=domNode.clientHeight}var placement;if(this.allowEditorOverflow?placement=this._layoutBoxInPage(topLeft,bottomLeft,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,ctx):placement=this._layoutBoxInViewport(topLeft,bottomLeft,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,ctx),this._preference)for(var pass=1;pass<=2;pass++)for(var _i=0,_b=this._preference;_i<_b.length;_i++){var pref=_b[_i];if(pref===1){if(!placement)return null;if(pass===2||placement.fitsAbove)return new Coordinate(placement.aboveTop,placement.aboveLeft)}else if(pref===2){if(!placement)return null;if(pass===2||placement.fitsBelow)return new Coordinate(placement.belowTop,placement.belowLeft)}else return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(topLeft):topLeft}return null},Widget.prototype.onBeforeRender=function(viewportData){!this._viewPosition||!this._preference||this._viewPosition.lineNumber<viewportData.startLineNumber||this._viewPosition.lineNumber>viewportData.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)},Widget.prototype.prepareRender=function(ctx){this._renderData=this._prepareRenderWidget(ctx)},Widget.prototype.render=function(ctx){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"));return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+ctx.scrollTop-ctx.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)},Widget}(),currentLineHighlight=__webpack_require__(5765),arrays=__webpack_require__(2389),currentLineHighlight_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),isRenderedUsingBorder=!0,currentLineHighlight_AbstractLineHighlightOverlay=function(_super){currentLineHighlight_extends(AbstractLineHighlightOverlay,_super);function AbstractLineHighlightOverlay(context){var _this=_super.call(this)||this;_this._context=context;var options=_this._context.configuration.options,layoutInfo=options.get(103);return _this._lineHeight=options.get(47),_this._renderLineHighlight=options.get(69),_this._contentLeft=layoutInfo.contentLeft,_this._contentWidth=layoutInfo.contentWidth,_this._selectionIsEmpty=!0,_this._cursorLineNumbers=[],_this._selections=[],_this._renderData=null,_this._context.addEventHandler(_this),_this}return AbstractLineHighlightOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),_super.prototype.dispose.call(this)},AbstractLineHighlightOverlay.prototype._readFromSelections=function(){var hasChanged=!1,renderSelections=isRenderedUsingBorder?this._selections.slice(0,1):this._selections,cursorsLineNumbers=renderSelections.map(function(s){return s.positionLineNumber});cursorsLineNumbers.sort(function(a,b){return a-b}),arrays.g(this._cursorLineNumbers,cursorsLineNumbers)||(this._cursorLineNumbers=cursorsLineNumbers,hasChanged=!0);var selectionIsEmpty=renderSelections.every(function(s){return s.isEmpty()});return this._selectionIsEmpty!==selectionIsEmpty&&(this._selectionIsEmpty=selectionIsEmpty,hasChanged=!0),hasChanged},AbstractLineHighlightOverlay.prototype.onThemeChanged=function(e){return this._readFromSelections()},AbstractLineHighlightOverlay.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,layoutInfo=options.get(103);return this._lineHeight=options.get(47),this._renderLineHighlight=options.get(69),this._contentLeft=layoutInfo.contentLeft,this._contentWidth=layoutInfo.contentWidth,!0},AbstractLineHighlightOverlay.prototype.onCursorStateChanged=function(e){return this._selections=e.selections,this._readFromSelections()},AbstractLineHighlightOverlay.prototype.onFlushed=function(e){return!0},AbstractLineHighlightOverlay.prototype.onLinesDeleted=function(e){return!0},AbstractLineHighlightOverlay.prototype.onLinesInserted=function(e){return!0},AbstractLineHighlightOverlay.prototype.onScrollChanged=function(e){return e.scrollWidthChanged||e.scrollTopChanged},AbstractLineHighlightOverlay.prototype.onZonesChanged=function(e){return!0},AbstractLineHighlightOverlay.prototype.prepareRender=function(ctx){if(!this._shouldRenderThis()){this._renderData=null;return}for(var renderedLine=this._renderOne(ctx),visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,len=this._cursorLineNumbers.length,index=0,renderData=[],lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){for(var lineIndex=lineNumber-visibleStartLineNumber;index<len&&this._cursorLineNumbers[index]<lineNumber;)index++;index<len&&this._cursorLineNumbers[index]===lineNumber?renderData[lineIndex]=renderedLine:renderData[lineIndex]=""}this._renderData=renderData},AbstractLineHighlightOverlay.prototype.render=function(startLineNumber,lineNumber){if(!this._renderData)return"";var lineIndex=lineNumber-startLineNumber;return lineIndex>=this._renderData.length?"":this._renderData[lineIndex]},AbstractLineHighlightOverlay}(DynamicViewOverlay),CurrentLineHighlightOverlay=function(_super){currentLineHighlight_extends(CurrentLineHighlightOverlay2,_super);function CurrentLineHighlightOverlay2(){return _super!==null&&_super.apply(this,arguments)||this}return CurrentLineHighlightOverlay2.prototype._renderOne=function(ctx){var className="current-line"+(this._shouldRenderOther()?" current-line-both":"");return'<div class="'+className+'" style="width:'+Math.max(ctx.scrollWidth,this._contentWidth)+"px; height:"+this._lineHeight+'px;"></div>'},CurrentLineHighlightOverlay2.prototype._shouldRenderThis=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty},CurrentLineHighlightOverlay2.prototype._shouldRenderOther=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"},CurrentLineHighlightOverlay2}(currentLineHighlight_AbstractLineHighlightOverlay),CurrentLineMarginHighlightOverlay=function(_super){currentLineHighlight_extends(CurrentLineMarginHighlightOverlay2,_super);function CurrentLineMarginHighlightOverlay2(){return _super!==null&&_super.apply(this,arguments)||this}return CurrentLineMarginHighlightOverlay2.prototype._renderOne=function(ctx){var className="current-line current-line-margin"+(this._shouldRenderOther()?" current-line-margin-both":"");return'<div class="'+className+'" style="width:'+this._contentLeft+"px; height:"+this._lineHeight+'px;"></div>'},CurrentLineMarginHighlightOverlay2.prototype._shouldRenderThis=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"},CurrentLineMarginHighlightOverlay2.prototype._shouldRenderOther=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty},CurrentLineMarginHighlightOverlay2}(currentLineHighlight_AbstractLineHighlightOverlay);Object(common_themeService.e)(function(theme,collector){isRenderedUsingBorder=!1;var lineHighlight=theme.getColor(editorColorRegistry.i);if(lineHighlight&&(collector.addRule(".monaco-editor .view-overlays .current-line { background-color: "+lineHighlight+"; }"),collector.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+lineHighlight+"; border: none; }")),!lineHighlight||lineHighlight.isTransparent()||theme.defines(editorColorRegistry.j)){var lineHighlightBorder=theme.getColor(editorColorRegistry.j);lineHighlightBorder&&(isRenderedUsingBorder=!0,collector.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+lineHighlightBorder+"; }"),collector.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+lineHighlightBorder+"; }"),theme.type==="hc"&&(collector.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),collector.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var decorations_decorations=__webpack_require__(5766),decorations_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),decorations_DecorationsOverlay=function(_super){decorations_extends(DecorationsOverlay,_super);function DecorationsOverlay(context){var _this=_super.call(this)||this;_this._context=context;var options=_this._context.configuration.options;return _this._lineHeight=options.get(47),_this._typicalHalfwidthCharacterWidth=options.get(32).typicalHalfwidthCharacterWidth,_this._renderResult=null,_this._context.addEventHandler(_this),_this}return DecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,_super.prototype.dispose.call(this)},DecorationsOverlay.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options;return this._lineHeight=options.get(47),this._typicalHalfwidthCharacterWidth=options.get(32).typicalHalfwidthCharacterWidth,!0},DecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},DecorationsOverlay.prototype.onFlushed=function(e){return!0},DecorationsOverlay.prototype.onLinesChanged=function(e){return!0},DecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},DecorationsOverlay.prototype.onLinesInserted=function(e){return!0},DecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},DecorationsOverlay.prototype.onZonesChanged=function(e){return!0},DecorationsOverlay.prototype.prepareRender=function(ctx){for(var _decorations=ctx.getDecorationsInViewport(),decorations=[],decorationsLen=0,i=0,len=_decorations.length;i<len;i++){var d=_decorations[i];d.options.className&&(decorations[decorationsLen++]=d)}decorations=decorations.sort(function(a,b){if(a.options.zIndex<b.options.zIndex)return-1;if(a.options.zIndex>b.options.zIndex)return 1;var aClassName=a.options.className,bClassName=b.options.className;return aClassName<bClassName?-1:aClassName>bClassName?1:core_range.a.compareRangesUsingStarts(a.range,b.range)});for(var visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,output=[],lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){var lineIndex=lineNumber-visibleStartLineNumber;output[lineIndex]=""}this._renderWholeLineDecorations(ctx,decorations,output),this._renderNormalDecorations(ctx,decorations,output),this._renderResult=output},DecorationsOverlay.prototype._renderWholeLineDecorations=function(ctx,decorations,output){for(var lineHeight=String(this._lineHeight),visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,i=0,lenI=decorations.length;i<lenI;i++){var d=decorations[i];if(d.options.isWholeLine)for(var decorationOutput='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+lineHeight+'px;"></div>',startLineNumber=Math.max(d.range.startLineNumber,visibleStartLineNumber),endLineNumber=Math.min(d.range.endLineNumber,visibleEndLineNumber),j=startLineNumber;j<=endLineNumber;j++){var lineIndex=j-visibleStartLineNumber;output[lineIndex]+=decorationOutput}}},DecorationsOverlay.prototype._renderNormalDecorations=function(ctx,decorations,output){for(var lineHeight=String(this._lineHeight),visibleStartLineNumber=ctx.visibleRange.startLineNumber,prevClassName=null,prevShowIfCollapsed=!1,prevRange=null,i=0,lenI=decorations.length;i<lenI;i++){var d=decorations[i];if(!d.options.isWholeLine){var className=d.options.className,showIfCollapsed=!!d.options.showIfCollapsed,range=d.range;if(showIfCollapsed&&range.endColumn===1&&range.endLineNumber!==range.startLineNumber&&(range=new core_range.a(range.startLineNumber,range.startColumn,range.endLineNumber-1,this._context.model.getLineMaxColumn(range.endLineNumber-1))),prevClassName===className&&prevShowIfCollapsed===showIfCollapsed&&core_range.a.areIntersectingOrTouching(prevRange,range)){prevRange=core_range.a.plusRange(prevRange,range);continue}prevClassName!==null&&this._renderNormalDecoration(ctx,prevRange,prevClassName,prevShowIfCollapsed,lineHeight,visibleStartLineNumber,output),prevClassName=className,prevShowIfCollapsed=showIfCollapsed,prevRange=range}}prevClassName!==null&&this._renderNormalDecoration(ctx,prevRange,prevClassName,prevShowIfCollapsed,lineHeight,visibleStartLineNumber,output)},DecorationsOverlay.prototype._renderNormalDecoration=function(ctx,range,className,showIfCollapsed,lineHeight,visibleStartLineNumber,output){var linesVisibleRanges=ctx.linesVisibleRangesForRange(range,className==="findMatch");if(linesVisibleRanges)for(var j=0,lenJ=linesVisibleRanges.length;j<lenJ;j++){var lineVisibleRanges=linesVisibleRanges[j];if(!lineVisibleRanges.outsideRenderedLine){var lineIndex=lineVisibleRanges.lineNumber-visibleStartLineNumber;if(showIfCollapsed&&lineVisibleRanges.ranges.length===1){var singleVisibleRange=lineVisibleRanges.ranges[0];singleVisibleRange.width===0&&(lineVisibleRanges.ranges[0]=new HorizontalRange(singleVisibleRange.left,this._typicalHalfwidthCharacterWidth))}for(var k=0,lenK=lineVisibleRanges.ranges.length;k<lenK;k++){var visibleRange=lineVisibleRanges.ranges[k],decorationOutput='<div class="cdr '+className+'" style="left:'+String(visibleRange.left)+"px;width:"+String(visibleRange.width)+"px;height:"+lineHeight+'px;"></div>';output[lineIndex]+=decorationOutput}}}},DecorationsOverlay.prototype.render=function(startLineNumber,lineNumber){if(!this._renderResult)return"";var lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]},DecorationsOverlay}(DynamicViewOverlay),scrollableElement=__webpack_require__(3105),editorScrollbar_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),editorScrollbar_EditorScrollbar=function(_super){editorScrollbar_extends(EditorScrollbar,_super);function EditorScrollbar(context,linesContent,viewDomNode,overflowGuardDomNode){var _this=_super.call(this,context)||this,options=_this._context.configuration.options,scrollbar=options.get(74),mouseWheelScrollSensitivity=options.get(54),fastScrollSensitivity=options.get(26),scrollbarOptions={listenOnDomNode:viewDomNode.domNode,className:"editor-scrollable "+Object(common_themeService.d)(context.theme.type),useShadows:!1,lazyRender:!0,vertical:scrollbar.vertical,horizontal:scrollbar.horizontal,verticalHasArrows:scrollbar.verticalHasArrows,horizontalHasArrows:scrollbar.horizontalHasArrows,verticalScrollbarSize:scrollbar.verticalScrollbarSize,verticalSliderSize:scrollbar.verticalSliderSize,horizontalScrollbarSize:scrollbar.horizontalScrollbarSize,horizontalSliderSize:scrollbar.horizontalSliderSize,handleMouseWheel:scrollbar.handleMouseWheel,alwaysConsumeMouseWheel:scrollbar.alwaysConsumeMouseWheel,arrowSize:scrollbar.arrowSize,mouseWheelScrollSensitivity,fastScrollSensitivity};_this.scrollbar=_this._register(new scrollableElement.c(linesContent.domNode,scrollbarOptions,_this._context.viewLayout.scrollable)),viewPart_PartFingerprints.write(_this.scrollbar.getDomNode(),5),_this.scrollbarDomNode=Object(fastDomNode.b)(_this.scrollbar.getDomNode()),_this.scrollbarDomNode.setPosition("absolute"),_this._setLayout();var onBrowserDesperateReveal=function(domNode,lookAtScrollTop,lookAtScrollLeft){var newScrollPosition={};if(lookAtScrollTop){var deltaTop=domNode.scrollTop;deltaTop&&(newScrollPosition.scrollTop=_this._context.viewLayout.getCurrentScrollTop()+deltaTop,domNode.scrollTop=0)}if(lookAtScrollLeft){var deltaLeft=domNode.scrollLeft;deltaLeft&&(newScrollPosition.scrollLeft=_this._context.viewLayout.getCurrentScrollLeft()+deltaLeft,domNode.scrollLeft=0)}_this._context.viewLayout.setScrollPositionNow(newScrollPosition)};return _this._register(dom.j(viewDomNode.domNode,"scroll",function(e){return onBrowserDesperateReveal(viewDomNode.domNode,!0,!0)})),_this._register(dom.j(linesContent.domNode,"scroll",function(e){return onBrowserDesperateReveal(linesContent.domNode,!0,!1)})),_this._register(dom.j(overflowGuardDomNode.domNode,"scroll",function(e){return onBrowserDesperateReveal(overflowGuardDomNode.domNode,!0,!1)})),_this._register(dom.j(_this.scrollbarDomNode.domNode,"scroll",function(e){return onBrowserDesperateReveal(_this.scrollbarDomNode.domNode,!0,!1)})),_this}return EditorScrollbar.prototype.dispose=function(){_super.prototype.dispose.call(this)},EditorScrollbar.prototype._setLayout=function(){var options=this._context.configuration.options,layoutInfo=options.get(103);this.scrollbarDomNode.setLeft(layoutInfo.contentLeft);var minimap=options.get(52),side=minimap.side;side==="right"?this.scrollbarDomNode.setWidth(layoutInfo.contentWidth+layoutInfo.minimapWidth):this.scrollbarDomNode.setWidth(layoutInfo.contentWidth),this.scrollbarDomNode.setHeight(layoutInfo.contentHeight)},EditorScrollbar.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},EditorScrollbar.prototype.getDomNode=function(){return this.scrollbarDomNode},EditorScrollbar.prototype.delegateVerticalScrollbarMouseDown=function(browserEvent){this.scrollbar.delegateVerticalScrollbarMouseDown(browserEvent)},EditorScrollbar.prototype.onConfigurationChanged=function(e){if(e.hasChanged(74)||e.hasChanged(54)||e.hasChanged(26)){var options=this._context.configuration.options,scrollbar=options.get(74),mouseWheelScrollSensitivity=options.get(54),fastScrollSensitivity=options.get(26),newOpts={handleMouseWheel:scrollbar.handleMouseWheel,mouseWheelScrollSensitivity,fastScrollSensitivity};this.scrollbar.updateOptions(newOpts)}return e.hasChanged(103)&&this._setLayout(),!0},EditorScrollbar.prototype.onScrollChanged=function(e){return!0},EditorScrollbar.prototype.onThemeChanged=function(e){return this.scrollbar.updateClassName("editor-scrollable "+Object(common_themeService.d)(this._context.theme.type)),!0},EditorScrollbar.prototype.prepareRender=function(ctx){},EditorScrollbar.prototype.render=function(ctx){this.scrollbar.renderNow()},EditorScrollbar}(ViewPart),glyphMargin=__webpack_require__(5767),glyphMargin_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),DecorationToRender=function(){function DecorationToRender2(startLineNumber,endLineNumber,className){this.startLineNumber=+startLineNumber,this.endLineNumber=+endLineNumber,this.className=String(className)}return DecorationToRender2}(),DedupOverlay=function(_super){glyphMargin_extends(DedupOverlay2,_super);function DedupOverlay2(){return _super!==null&&_super.apply(this,arguments)||this}return DedupOverlay2.prototype._render=function(visibleStartLineNumber,visibleEndLineNumber,decorations){for(var output=[],lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){var lineIndex=lineNumber-visibleStartLineNumber;output[lineIndex]=[]}if(decorations.length===0)return output;decorations.sort(function(a,b){return a.className===b.className?a.startLineNumber===b.startLineNumber?a.endLineNumber-b.endLineNumber:a.startLineNumber-b.startLineNumber:a.className<b.className?-1:1});for(var prevClassName=null,prevEndLineIndex=0,i=0,len=decorations.length;i<len;i++){var d=decorations[i],className=d.className,startLineIndex=Math.max(d.startLineNumber,visibleStartLineNumber)-visibleStartLineNumber,endLineIndex=Math.min(d.endLineNumber,visibleEndLineNumber)-visibleStartLineNumber;prevClassName===className?(startLineIndex=Math.max(prevEndLineIndex+1,startLineIndex),prevEndLineIndex=Math.max(prevEndLineIndex,endLineIndex)):(prevClassName=className,prevEndLineIndex=endLineIndex);for(var i_1=startLineIndex;i_1<=prevEndLineIndex;i_1++)output[i_1].push(prevClassName)}return output},DedupOverlay2}(DynamicViewOverlay),GlyphMarginOverlay=function(_super){glyphMargin_extends(GlyphMarginOverlay2,_super);function GlyphMarginOverlay2(context){var _this=_super.call(this)||this;_this._context=context;var options=_this._context.configuration.options,layoutInfo=options.get(103);return _this._lineHeight=options.get(47),_this._glyphMargin=options.get(38),_this._glyphMarginLeft=layoutInfo.glyphMarginLeft,_this._glyphMarginWidth=layoutInfo.glyphMarginWidth,_this._renderResult=null,_this._context.addEventHandler(_this),_this}return GlyphMarginOverlay2.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,_super.prototype.dispose.call(this)},GlyphMarginOverlay2.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,layoutInfo=options.get(103);return this._lineHeight=options.get(47),this._glyphMargin=options.get(38),this._glyphMarginLeft=layoutInfo.glyphMarginLeft,this._glyphMarginWidth=layoutInfo.glyphMarginWidth,!0},GlyphMarginOverlay2.prototype.onDecorationsChanged=function(e){return!0},GlyphMarginOverlay2.prototype.onFlushed=function(e){return!0},GlyphMarginOverlay2.prototype.onLinesChanged=function(e){return!0},GlyphMarginOverlay2.prototype.onLinesDeleted=function(e){return!0},GlyphMarginOverlay2.prototype.onLinesInserted=function(e){return!0},GlyphMarginOverlay2.prototype.onScrollChanged=function(e){return e.scrollTopChanged},GlyphMarginOverlay2.prototype.onZonesChanged=function(e){return!0},GlyphMarginOverlay2.prototype._getDecorations=function(ctx){for(var decorations=ctx.getDecorationsInViewport(),r=[],rLen=0,i=0,len=decorations.length;i<len;i++){var d=decorations[i],glyphMarginClassName=d.options.glyphMarginClassName;glyphMarginClassName&&(r[rLen++]=new DecorationToRender(d.range.startLineNumber,d.range.endLineNumber,glyphMarginClassName))}return r},GlyphMarginOverlay2.prototype.prepareRender=function(ctx){if(!this._glyphMargin){this._renderResult=null;return}for(var visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,toRender=this._render(visibleStartLineNumber,visibleEndLineNumber,this._getDecorations(ctx)),lineHeight=this._lineHeight.toString(),left=this._glyphMarginLeft.toString(),width=this._glyphMarginWidth.toString(),common='" style="left:'+left+"px;width:"+width+"px;height:"+lineHeight+'px;"></div>',output=[],lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){var lineIndex=lineNumber-visibleStartLineNumber,classNames=toRender[lineIndex];classNames.length===0?output[lineIndex]="":output[lineIndex]='<div class="cgmr codicon '+classNames.join(" ")+common}this._renderResult=output},GlyphMarginOverlay2.prototype.render=function(startLineNumber,lineNumber){if(!this._renderResult)return"";var lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]},GlyphMarginOverlay2}(DedupOverlay),indentGuides=__webpack_require__(5768),indentGuides_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),indentGuides_IndentGuidesOverlay=function(_super){indentGuides_extends(IndentGuidesOverlay,_super);function IndentGuidesOverlay(context){var _this=_super.call(this)||this;_this._context=context,_this._primaryLineNumber=0;var options=_this._context.configuration.options,wrappingInfo=options.get(104),fontInfo=options.get(32);return _this._lineHeight=options.get(47),_this._spaceWidth=fontInfo.spaceWidth,_this._enabled=options.get(67),_this._activeIndentEnabled=options.get(41),_this._maxIndentLeft=wrappingInfo.wrappingColumn===-1?-1:wrappingInfo.wrappingColumn*fontInfo.typicalHalfwidthCharacterWidth,_this._renderResult=null,_this._context.addEventHandler(_this),_this}return IndentGuidesOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,_super.prototype.dispose.call(this)},IndentGuidesOverlay.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,wrappingInfo=options.get(104),fontInfo=options.get(32);return this._lineHeight=options.get(47),this._spaceWidth=fontInfo.spaceWidth,this._enabled=options.get(67),this._activeIndentEnabled=options.get(41),this._maxIndentLeft=wrappingInfo.wrappingColumn===-1?-1:wrappingInfo.wrappingColumn*fontInfo.typicalHalfwidthCharacterWidth,!0},IndentGuidesOverlay.prototype.onCursorStateChanged=function(e){var selection=e.selections[0],newPrimaryLineNumber=selection.isEmpty()?selection.positionLineNumber:0;return this._primaryLineNumber!==newPrimaryLineNumber?(this._primaryLineNumber=newPrimaryLineNumber,!0):!1},IndentGuidesOverlay.prototype.onDecorationsChanged=function(e){return!0},IndentGuidesOverlay.prototype.onFlushed=function(e){return!0},IndentGuidesOverlay.prototype.onLinesChanged=function(e){return!0},IndentGuidesOverlay.prototype.onLinesDeleted=function(e){return!0},IndentGuidesOverlay.prototype.onLinesInserted=function(e){return!0},IndentGuidesOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},IndentGuidesOverlay.prototype.onZonesChanged=function(e){return!0},IndentGuidesOverlay.prototype.onLanguageConfigurationChanged=function(e){return!0},IndentGuidesOverlay.prototype.prepareRender=function(ctx){if(!this._enabled){this._renderResult=null;return}var visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,indentSize=this._context.model.getOptions().indentSize,indentWidth=indentSize*this._spaceWidth,scrollWidth=ctx.scrollWidth,lineHeight=this._lineHeight,indents=this._context.model.getLinesIndentGuides(visibleStartLineNumber,visibleEndLineNumber),activeIndentStartLineNumber=0,activeIndentEndLineNumber=0,activeIndentLevel=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var activeIndentInfo=this._context.model.getActiveIndentGuide(this._primaryLineNumber,visibleStartLineNumber,visibleEndLineNumber);activeIndentStartLineNumber=activeIndentInfo.startLineNumber,activeIndentEndLineNumber=activeIndentInfo.endLineNumber,activeIndentLevel=activeIndentInfo.indent}for(var output=[],lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){for(var containsActiveIndentGuide=activeIndentStartLineNumber<=lineNumber&&lineNumber<=activeIndentEndLineNumber,lineIndex=lineNumber-visibleStartLineNumber,indent=indents[lineIndex],result="",leftMostVisiblePosition=ctx.visibleRangeForPosition(new core_position.a(lineNumber,1)),left=leftMostVisiblePosition?leftMostVisiblePosition.left:0,i=1;i<=indent;i++){var className=containsActiveIndentGuide&&i===activeIndentLevel?"cigra":"cigr";if(result+='<div class="'+className+'" style="left:'+left+"px;height:"+lineHeight+"px;width:"+indentWidth+'px"></div>',left+=indentWidth,left>scrollWidth||this._maxIndentLeft>0&&left>this._maxIndentLeft)break}output[lineIndex]=result}this._renderResult=output},IndentGuidesOverlay.prototype.render=function(startLineNumber,lineNumber){if(!this._renderResult)return"";var lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]},IndentGuidesOverlay}(DynamicViewOverlay);Object(common_themeService.e)(function(theme,collector){var editorIndentGuidesColor=theme.getColor(editorColorRegistry.h);editorIndentGuidesColor&&collector.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+editorIndentGuidesColor+" inset; }");var editorActiveIndentGuidesColor=theme.getColor(editorColorRegistry.a)||editorIndentGuidesColor;editorActiveIndentGuidesColor&&collector.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+editorActiveIndentGuidesColor+" inset; }")});var viewLines=__webpack_require__(5769),viewLines_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),viewLines_LastRenderedData=function(){function LastRenderedData(){this._currentVisibleRange=new core_range.a(1,1,1,1)}return LastRenderedData.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},LastRenderedData.prototype.setCurrentVisibleRange=function(currentVisibleRange){this._currentVisibleRange=currentVisibleRange},LastRenderedData}(),HorizontalRevealRequest=function(){function HorizontalRevealRequest2(lineNumber,startColumn,endColumn,startScrollTop,stopScrollTop,scrollType){this.lineNumber=lineNumber,this.startColumn=startColumn,this.endColumn=endColumn,this.startScrollTop=startScrollTop,this.stopScrollTop=stopScrollTop,this.scrollType=scrollType}return HorizontalRevealRequest2}(),viewLines_ViewLines=function(_super){viewLines_extends(ViewLines,_super);function ViewLines(context,linesContent){var _this=_super.call(this,context)||this;_this._linesContent=linesContent,_this._textRangeRestingSpot=document.createElement("div"),_this._visibleLines=new viewLayer_VisibleLinesCollection(_this),_this.domNode=_this._visibleLines.domNode;var conf=_this._context.configuration,options=_this._context.configuration.options,fontInfo=options.get(32),wrappingInfo=options.get(104);return _this._lineHeight=options.get(47),_this._typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,_this._isViewportWrapping=wrappingInfo.isViewportWrapping,_this._revealHorizontalRightPadding=options.get(71),_this._cursorSurroundingLines=options.get(18),_this._cursorSurroundingLinesStyle=options.get(19),_this._canUseLayerHinting=!options.get(21),_this._viewLineOptions=new ViewLineOptions(conf,_this._context.theme.type),viewPart_PartFingerprints.write(_this.domNode,7),_this.domNode.setClassName("view-lines"),config_configuration.a.applyFontInfo(_this.domNode,fontInfo),_this._maxLineWidth=0,_this._asyncUpdateLineWidths=new common_async.d(function(){_this._updateLineWidthsSlow()},200),_this._lastRenderedData=new viewLines_LastRenderedData,_this._horizontalRevealRequest=null,_this}return ViewLines.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),_super.prototype.dispose.call(this)},ViewLines.prototype.getDomNode=function(){return this.domNode},ViewLines.prototype.createVisibleLine=function(){return new viewLine_ViewLine(this._viewLineOptions)},ViewLines.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(104)&&(this._maxLineWidth=0);var options=this._context.configuration.options,fontInfo=options.get(32),wrappingInfo=options.get(104);return this._lineHeight=options.get(47),this._typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this._isViewportWrapping=wrappingInfo.isViewportWrapping,this._revealHorizontalRightPadding=options.get(71),this._cursorSurroundingLines=options.get(18),this._cursorSurroundingLinesStyle=options.get(19),this._canUseLayerHinting=!options.get(21),config_configuration.a.applyFontInfo(this.domNode,fontInfo),this._onOptionsMaybeChanged(),e.hasChanged(103)&&(this._maxLineWidth=0),!0},ViewLines.prototype._onOptionsMaybeChanged=function(){var conf=this._context.configuration,newViewLineOptions=new ViewLineOptions(conf,this._context.theme.type);if(!this._viewLineOptions.equals(newViewLineOptions)){this._viewLineOptions=newViewLineOptions;for(var startLineNumber=this._visibleLines.getStartLineNumber(),endLineNumber=this._visibleLines.getEndLineNumber(),lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var line=this._visibleLines.getVisibleLine(lineNumber);line.onOptionsChanged(this._viewLineOptions)}return!0}return!1},ViewLines.prototype.onCursorStateChanged=function(e){for(var rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber(),r=!1,lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++)r=this._visibleLines.getVisibleLine(lineNumber).onSelectionChanged()||r;return r},ViewLines.prototype.onDecorationsChanged=function(e){for(var rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber(),lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++)this._visibleLines.getVisibleLine(lineNumber).onDecorationsChanged();return!0},ViewLines.prototype.onFlushed=function(e){var shouldRender=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,shouldRender},ViewLines.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},ViewLines.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},ViewLines.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},ViewLines.prototype.onRevealRangeRequest=function(e){var desiredScrollTop=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.verticalType),newScrollPosition=this._context.viewLayout.validateScrollPosition({scrollTop:desiredScrollTop});e.revealHorizontal?e.range.startLineNumber!==e.range.endLineNumber?newScrollPosition={scrollTop:newScrollPosition.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new HorizontalRevealRequest(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),newScrollPosition.scrollTop,e.scrollType):this._horizontalRevealRequest=null;var scrollTopDelta=Math.abs(this._context.viewLayout.getCurrentScrollTop()-newScrollPosition.scrollTop);return e.scrollType===0&&scrollTopDelta>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(newScrollPosition):this._context.viewLayout.setScrollPositionNow(newScrollPosition),!0},ViewLines.prototype.onScrollChanged=function(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){var min=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),max=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<min||e.scrollTop>max)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0},ViewLines.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},ViewLines.prototype.onZonesChanged=function(e){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(e)},ViewLines.prototype.onThemeChanged=function(e){return this._onOptionsMaybeChanged()},ViewLines.prototype.getPositionFromDOMInfo=function(spanNode,offset){var viewLineDomNode=this._getViewLineDomNode(spanNode);if(viewLineDomNode===null)return null;var lineNumber=this._getLineNumberFor(viewLineDomNode);if(lineNumber===-1||lineNumber<1||lineNumber>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(lineNumber)===1)return new core_position.a(lineNumber,1);var rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();if(lineNumber<rendStartLineNumber||lineNumber>rendEndLineNumber)return null;var column=this._visibleLines.getVisibleLine(lineNumber).getColumnOfNodeOffset(lineNumber,spanNode,offset),minColumn=this._context.model.getLineMinColumn(lineNumber);return column<minColumn&&(column=minColumn),new core_position.a(lineNumber,column)},ViewLines.prototype._getViewLineDomNode=function(node){for(;node&&node.nodeType===1;){if(node.className===viewLine_ViewLine.CLASS_NAME)return node;node=node.parentElement}return null},ViewLines.prototype._getLineNumberFor=function(domNode){for(var startLineNumber=this._visibleLines.getStartLineNumber(),endLineNumber=this._visibleLines.getEndLineNumber(),lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var line=this._visibleLines.getVisibleLine(lineNumber);if(domNode===line.getDomNode())return lineNumber}return-1},ViewLines.prototype.getLineWidth=function(lineNumber){var rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();return lineNumber<rendStartLineNumber||lineNumber>rendEndLineNumber?-1:this._visibleLines.getVisibleLine(lineNumber).getWidth()},ViewLines.prototype.linesVisibleRangesForRange=function(_range,includeNewLines){if(this.shouldRender())return null;var originalEndLineNumber=_range.endLineNumber,range=core_range.a.intersectRanges(_range,this._lastRenderedData.getCurrentVisibleRange());if(!range)return null;var visibleRanges=[],visibleRangesLen=0,domReadingContext=new DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),nextLineModelLineNumber=0;includeNewLines&&(nextLineModelLineNumber=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(range.startLineNumber,1)).lineNumber);for(var rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber(),lineNumber=range.startLineNumber;lineNumber<=range.endLineNumber;lineNumber++)if(!(lineNumber<rendStartLineNumber||lineNumber>rendEndLineNumber)){var startColumn=lineNumber===range.startLineNumber?range.startColumn:1,endColumn=lineNumber===range.endLineNumber?range.endColumn:this._context.model.getLineMaxColumn(lineNumber),visibleRangesForLine=this._visibleLines.getVisibleLine(lineNumber).getVisibleRangesForRange(startColumn,endColumn,domReadingContext);if(visibleRangesForLine){if(includeNewLines&&lineNumber<originalEndLineNumber){var currentLineModelLineNumber=nextLineModelLineNumber;nextLineModelLineNumber=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(lineNumber+1,1)).lineNumber,currentLineModelLineNumber!==nextLineModelLineNumber&&(visibleRangesForLine.ranges[visibleRangesForLine.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}visibleRanges[visibleRangesLen++]=new LineVisibleRanges(visibleRangesForLine.outsideRenderedLine,lineNumber,visibleRangesForLine.ranges)}}return visibleRangesLen===0?null:visibleRanges},ViewLines.prototype._visibleRangesForLineRange=function(lineNumber,startColumn,endColumn){return this.shouldRender()||lineNumber<this._visibleLines.getStartLineNumber()||lineNumber>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(lineNumber).getVisibleRangesForRange(startColumn,endColumn,new DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))},ViewLines.prototype.visibleRangeForPosition=function(position){var visibleRanges=this._visibleRangesForLineRange(position.lineNumber,position.column,position.column);return visibleRanges?new HorizontalPosition(visibleRanges.outsideRenderedLine,visibleRanges.ranges[0].left):null},ViewLines.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},ViewLines.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},ViewLines.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},ViewLines.prototype._updateLineWidths=function(fast){for(var rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber(),localMaxLineWidth=1,allWidthsComputed=!0,lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++){var visibleLine=this._visibleLines.getVisibleLine(lineNumber);if(fast&&!visibleLine.getWidthIsFast()){allWidthsComputed=!1;continue}localMaxLineWidth=Math.max(localMaxLineWidth,visibleLine.getWidth())}return allWidthsComputed&&rendStartLineNumber===1&&rendEndLineNumber===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(localMaxLineWidth),allWidthsComputed},ViewLines.prototype.prepareRender=function(){throw new Error("Not supported")},ViewLines.prototype.render=function(){throw new Error("Not supported")},ViewLines.prototype.renderText=function(viewportData){if(this._visibleLines.renderLines(viewportData),this._lastRenderedData.setCurrentVisibleRange(viewportData.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var revealLineNumber=this._horizontalRevealRequest.lineNumber,revealStartColumn=this._horizontalRevealRequest.startColumn,revealEndColumn=this._horizontalRevealRequest.endColumn,scrollType=this._horizontalRevealRequest.scrollType;if(viewportData.startLineNumber<=revealLineNumber&&revealLineNumber<=viewportData.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var newScrollLeft=this._computeScrollLeftToRevealRange(revealLineNumber,revealStartColumn,revealEndColumn),isViewportWrapping=this._isViewportWrapping;isViewportWrapping||this._ensureMaxLineWidth(newScrollLeft.maxHorizontalOffset),scrollType===0?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:newScrollLeft.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:newScrollLeft.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");var adjustedScrollTop=this._context.viewLayout.getCurrentScrollTop()-viewportData.bigNumbersDelta;this._linesContent.setTop(-adjustedScrollTop),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},ViewLines.prototype._ensureMaxLineWidth=function(lineWidth){var iLineWidth=Math.ceil(lineWidth);this._maxLineWidth<iLineWidth&&(this._maxLineWidth=iLineWidth,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},ViewLines.prototype._computeScrollTopToRevealRange=function(viewport,source,range,verticalType){var viewportStartY=viewport.top,viewportHeight=viewport.height,viewportEndY=viewportStartY+viewportHeight,boxStartY,boxEndY;boxStartY=this._context.viewLayout.getVerticalOffsetForLineNumber(range.startLineNumber),boxEndY=this._context.viewLayout.getVerticalOffsetForLineNumber(range.endLineNumber)+this._lineHeight;var shouldIgnoreScrollOff=source==="mouse"&&this._cursorSurroundingLinesStyle==="default";if(!shouldIgnoreScrollOff){var context=Math.min(viewportHeight/this._lineHeight/2,this._cursorSurroundingLines);boxStartY-=context*this._lineHeight,boxEndY+=Math.max(0,context-1)*this._lineHeight}(verticalType===0||verticalType===4)&&(boxEndY+=this._lineHeight);var newScrollTop;if(boxEndY-boxStartY>viewportHeight)newScrollTop=boxStartY;else if(verticalType===1||verticalType===2)if(verticalType===2&&viewportStartY<=boxStartY&&boxEndY<=viewportEndY)newScrollTop=viewportStartY;else{var boxMiddleY=(boxStartY+boxEndY)/2;newScrollTop=Math.max(0,boxMiddleY-viewportHeight/2)}else newScrollTop=this._computeMinimumScrolling(viewportStartY,viewportEndY,boxStartY,boxEndY,verticalType===3,verticalType===4);return newScrollTop},ViewLines.prototype._computeScrollLeftToRevealRange=function(lineNumber,startColumn,endColumn){var maxHorizontalOffset=0,viewport=this._context.viewLayout.getCurrentViewport(),viewportStartX=viewport.left,viewportEndX=viewportStartX+viewport.width,visibleRanges=this._visibleRangesForLineRange(lineNumber,startColumn,endColumn),boxStartX=1073741824,boxEndX=0;if(!visibleRanges)return{scrollLeft:viewportStartX,maxHorizontalOffset};for(var _i=0,_a=visibleRanges.ranges;_i<_a.length;_i++){var visibleRange=_a[_i];visibleRange.left<boxStartX&&(boxStartX=visibleRange.left),visibleRange.left+visibleRange.width>boxEndX&&(boxEndX=visibleRange.left+visibleRange.width)}maxHorizontalOffset=boxEndX,boxStartX=Math.max(0,boxStartX-ViewLines.HORIZONTAL_EXTRA_PX),boxEndX+=this._revealHorizontalRightPadding;var newScrollLeft=this._computeMinimumScrolling(viewportStartX,viewportEndX,boxStartX,boxEndX);return{scrollLeft:newScrollLeft,maxHorizontalOffset}},ViewLines.prototype._computeMinimumScrolling=function(viewportStart,viewportEnd,boxStart,boxEnd,revealAtStart,revealAtEnd){viewportStart=viewportStart|0,viewportEnd=viewportEnd|0,boxStart=boxStart|0,boxEnd=boxEnd|0,revealAtStart=!!revealAtStart,revealAtEnd=!!revealAtEnd;var viewportLength=viewportEnd-viewportStart,boxLength=boxEnd-boxStart;if(boxLength<viewportLength){if(revealAtStart)return boxStart;if(revealAtEnd)return Math.max(0,boxEnd-viewportLength);if(boxStart<viewportStart)return boxStart;if(boxEnd>viewportEnd)return Math.max(0,boxEnd-viewportLength)}else return boxStart;return viewportStart},ViewLines.HORIZONTAL_EXTRA_PX=30,ViewLines}(ViewPart),linesDecorations=__webpack_require__(5770),linesDecorations_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),linesDecorations_LinesDecorationsOverlay=function(_super){linesDecorations_extends(LinesDecorationsOverlay,_super);function LinesDecorationsOverlay(context){var _this=_super.call(this)||this;_this._context=context;var options=_this._context.configuration.options,layoutInfo=options.get(103);return _this._decorationsLeft=layoutInfo.decorationsLeft,_this._decorationsWidth=layoutInfo.decorationsWidth,_this._renderResult=null,_this._context.addEventHandler(_this),_this}return LinesDecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,_super.prototype.dispose.call(this)},LinesDecorationsOverlay.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,layoutInfo=options.get(103);return this._decorationsLeft=layoutInfo.decorationsLeft,this._decorationsWidth=layoutInfo.decorationsWidth,!0},LinesDecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},LinesDecorationsOverlay.prototype.onFlushed=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesChanged=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesInserted=function(e){return!0},LinesDecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},LinesDecorationsOverlay.prototype.onZonesChanged=function(e){return!0},LinesDecorationsOverlay.prototype._getDecorations=function(ctx){for(var decorations=ctx.getDecorationsInViewport(),r=[],rLen=0,i=0,len=decorations.length;i<len;i++){var d=decorations[i],linesDecorationsClassName=d.options.linesDecorationsClassName;linesDecorationsClassName&&(r[rLen++]=new DecorationToRender(d.range.startLineNumber,d.range.endLineNumber,linesDecorationsClassName))}return r},LinesDecorationsOverlay.prototype.prepareRender=function(ctx){for(var visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,toRender=this._render(visibleStartLineNumber,visibleEndLineNumber,this._getDecorations(ctx)),left=this._decorationsLeft.toString(),width=this._decorationsWidth.toString(),common='" style="left:'+left+"px;width:"+width+'px;"></div>',output=[],lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){for(var lineIndex=lineNumber-visibleStartLineNumber,classNames=toRender[lineIndex],lineOutput="",i=0,len=classNames.length;i<len;i++)lineOutput+='<div class="cldr '+classNames[i]+common;output[lineIndex]=lineOutput}this._renderResult=output},LinesDecorationsOverlay.prototype.render=function(startLineNumber,lineNumber){return this._renderResult?this._renderResult[lineNumber-startLineNumber]:""},LinesDecorationsOverlay}(DedupOverlay),marginDecorations=__webpack_require__(5771),marginDecorations_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),marginDecorations_MarginViewLineDecorationsOverlay=function(_super){marginDecorations_extends(MarginViewLineDecorationsOverlay,_super);function MarginViewLineDecorationsOverlay(context){var _this=_super.call(this)||this;return _this._context=context,_this._renderResult=null,_this._context.addEventHandler(_this),_this}return MarginViewLineDecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,_super.prototype.dispose.call(this)},MarginViewLineDecorationsOverlay.prototype.onConfigurationChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onFlushed=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesInserted=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},MarginViewLineDecorationsOverlay.prototype.onZonesChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype._getDecorations=function(ctx){for(var decorations=ctx.getDecorationsInViewport(),r=[],rLen=0,i=0,len=decorations.length;i<len;i++){var d=decorations[i],marginClassName=d.options.marginClassName;marginClassName&&(r[rLen++]=new DecorationToRender(d.range.startLineNumber,d.range.endLineNumber,marginClassName))}return r},MarginViewLineDecorationsOverlay.prototype.prepareRender=function(ctx){for(var visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,toRender=this._render(visibleStartLineNumber,visibleEndLineNumber,this._getDecorations(ctx)),output=[],lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){for(var lineIndex=lineNumber-visibleStartLineNumber,classNames=toRender[lineIndex],lineOutput="",i=0,len=classNames.length;i<len;i++)lineOutput+='<div class="cmdr '+classNames[i]+'" style=""></div>';output[lineIndex]=lineOutput}this._renderResult=output},MarginViewLineDecorationsOverlay.prototype.render=function(startLineNumber,lineNumber){return this._renderResult?this._renderResult[lineNumber-startLineNumber]:""},MarginViewLineDecorationsOverlay}(DedupOverlay),minimap_minimap=__webpack_require__(5772),RGBA8=function(){function RGBA82(r,g,b,a){this.r=RGBA82._clamp(r),this.g=RGBA82._clamp(g),this.b=RGBA82._clamp(b),this.a=RGBA82._clamp(a)}return RGBA82._clamp=function(c){return c<0?0:c>255?255:c|0},RGBA82.Empty=new RGBA82(0,0,0,0),RGBA82}(),modes=__webpack_require__(2240),minimapTokensColorTracker_MinimapTokensColorTracker=function(){function MinimapTokensColorTracker(){var _this=this;this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._updateColorMap(),modes.A.onDidChange(function(e){e.changedColorMap&&_this._updateColorMap()})}return MinimapTokensColorTracker.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new MinimapTokensColorTracker),this._INSTANCE},MinimapTokensColorTracker.prototype._updateColorMap=function(){var colorMap=modes.A.getColorMap();if(!colorMap){this._colors=[RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[RGBA8.Empty];for(var colorId=1;colorId<colorMap.length;colorId++){var source=colorMap[colorId].rgba;this._colors[colorId]=new RGBA8(source.r,source.g,source.b,Math.round(source.a*255))}var backgroundLuminosity=colorMap[2].getRelativeLuminance();this._backgroundIsLight=backgroundLuminosity>=.5,this._onDidChange.fire(void 0)},MinimapTokensColorTracker.prototype.getColor=function(colorId){return(colorId<1||colorId>=this._colors.length)&&(colorId=2),this._colors[colorId]},MinimapTokensColorTracker.prototype.backgroundIsLight=function(){return this._backgroundIsLight},MinimapTokensColorTracker._INSTANCE=null,MinimapTokensColorTracker}(),colorRegistry=__webpack_require__(2623),allCharCodes=function(){for(var v=[],i=32;i<=126;i++)v.push(i);return v.push(65533),v}(),getCharIndex=function(chCode,fontScale){return chCode-=32,chCode<0||chCode>96?fontScale<=2?(chCode+96)%96:96-1:chCode},minimapCharRenderer_MinimapCharRenderer=function(){function MinimapCharRenderer(charData,scale){this.scale=scale,this.charDataNormal=MinimapCharRenderer.soften(charData,12/15),this.charDataLight=MinimapCharRenderer.soften(charData,50/60)}return MinimapCharRenderer.soften=function(input,ratio){for(var result=new Uint8ClampedArray(input.length),i=0,len=input.length;i<len;i++)result[i]=input[i]*ratio;return result},MinimapCharRenderer.prototype.renderChar=function(target,dx,dy,chCode,color,backgroundColor,fontScale,useLighterFont){var charWidth=1*this.scale,charHeight=2*this.scale;if(dx+charWidth>target.width||dy+charHeight>target.height){console.warn("bad render request outside image data");return}for(var charData=useLighterFont?this.charDataLight:this.charDataNormal,charIndex=getCharIndex(chCode,fontScale),destWidth=target.width*4,backgroundR=backgroundColor.r,backgroundG=backgroundColor.g,backgroundB=backgroundColor.b,deltaR=color.r-backgroundR,deltaG=color.g-backgroundG,deltaB=color.b-backgroundB,dest=target.data,sourceOffset=charIndex*charWidth*charHeight,row=dy*destWidth+dx*4,y=0;y<charHeight;y++){for(var column=row,x=0;x<charWidth;x++){var c=charData[sourceOffset++]/255;dest[column++]=backgroundR+deltaR*c,dest[column++]=backgroundG+deltaG*c,dest[column++]=backgroundB+deltaB*c,column++}row+=destWidth}},MinimapCharRenderer.prototype.blockRenderChar=function(target,dx,dy,color,backgroundColor,useLighterFont){var charWidth=1*this.scale,charHeight=2*this.scale;if(dx+charWidth>target.width||dy+charHeight>target.height){console.warn("bad render request outside image data");return}for(var destWidth=target.width*4,c=.5,backgroundR=backgroundColor.r,backgroundG=backgroundColor.g,backgroundB=backgroundColor.b,deltaR=color.r-backgroundR,deltaG=color.g-backgroundG,deltaB=color.b-backgroundB,colorR=backgroundR+deltaR*c,colorG=backgroundG+deltaG*c,colorB=backgroundB+deltaB*c,dest=target.data,row=dy*destWidth+dx*4,y=0;y<charHeight;y++){for(var column=row,x=0;x<charWidth;x++)dest[column++]=colorR,dest[column++]=colorG,dest[column++]=colorB,column++;row+=destWidth}},MinimapCharRenderer}(),functional=__webpack_require__(3363),charTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},decodeData=function(str){for(var output=new Uint8ClampedArray(str.length/2),i=0;i<str.length;i+=2)output[i>>1]=charTable[str[i]]<<4|charTable[str[i+1]]&15;return output},prebakedMiniMaps={1:Object(functional.a)(function(){return decodeData("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")}),2:Object(functional.a)(function(){return decodeData("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")})},minimapCharRendererFactory_MinimapCharRendererFactory=function(){function MinimapCharRendererFactory(){}return MinimapCharRendererFactory.create=function(scale,fontFamily){if(this.lastCreated&&scale===this.lastCreated.scale&&fontFamily===this.lastFontFamily)return this.lastCreated;var factory;return prebakedMiniMaps[scale]?factory=new minimapCharRenderer_MinimapCharRenderer(prebakedMiniMaps[scale](),scale):factory=MinimapCharRendererFactory.createFromSampleData(MinimapCharRendererFactory.createSampleData(fontFamily).data,scale),this.lastFontFamily=fontFamily,this.lastCreated=factory,factory},MinimapCharRendererFactory.createSampleData=function(fontFamily){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.style.height="16px",canvas.height=16,canvas.width=96*10,canvas.style.width=96*10+"px",ctx.fillStyle="#ffffff",ctx.font="bold 16px "+fontFamily,ctx.textBaseline="middle";for(var x=0,_i=0,allCharCodes_1=allCharCodes;_i<allCharCodes_1.length;_i++){var code=allCharCodes_1[_i];ctx.fillText(String.fromCharCode(code),x,16/2),x+=10}return ctx.getImageData(0,0,96*10,16)},MinimapCharRendererFactory.createFromSampleData=function(source,scale){var expectedLength=61440;if(source.length!==expectedLength)throw new Error("Unexpected source in MinimapCharRenderer");var charData=MinimapCharRendererFactory._downsample(source,scale);return new minimapCharRenderer_MinimapCharRenderer(charData,scale)},MinimapCharRendererFactory._downsampleChar=function(source,sourceOffset,dest,destOffset,scale){for(var width=1*scale,height=2*scale,targetIndex=destOffset,brightest=0,y=0;y<height;y++)for(var sourceY1=y/height*16,sourceY2=(y+1)/height*16,x=0;x<width;x++){for(var sourceX1=x/width*10,sourceX2=(x+1)/width*10,value=0,samples=0,sy=sourceY1;sy<sourceY2;sy++)for(var sourceRow=sourceOffset+Math.floor(sy)*3840,yBalance=1-(sy-Math.floor(sy)),sx=sourceX1;sx<sourceX2;sx++){var xBalance=1-(sx-Math.floor(sx)),sourceIndex=sourceRow+Math.floor(sx)*4,weight=xBalance*yBalance;samples+=weight,value+=source[sourceIndex]*source[sourceIndex+3]/255*weight}var final=value/samples;brightest=Math.max(brightest,final),dest[targetIndex++]=final}return brightest},MinimapCharRendererFactory._downsample=function(data,scale){for(var pixelsPerCharacter=2*scale*1*scale,resultLen=pixelsPerCharacter*96,result=new Uint8ClampedArray(resultLen),resultOffset=0,sourceOffset=0,brightest=0,charIndex=0;charIndex<96;charIndex++)brightest=Math.max(brightest,this._downsampleChar(data,sourceOffset,result,resultOffset,scale)),resultOffset+=pixelsPerCharacter,sourceOffset+=10*4;if(brightest>0)for(var adjust=255/brightest,i=0;i<resultLen;i++)result[i]*=adjust;return result},MinimapCharRendererFactory}(),common_model=__webpack_require__(2819),minimap_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function getMinimapLineHeight(renderMinimap,scale){return renderMinimap===1?2*scale:(2+1)*scale}function getMinimapCharWidth(renderMinimap,scale){return 1*scale}var MOUSE_DRAG_RESET_DISTANCE=140,GUTTER_DECORATION_WIDTH=2,minimap_MinimapOptions=function(){function MinimapOptions(configuration){var _this=this,options=configuration.options,pixelRatio=options.get(101),layoutInfo=options.get(103),fontInfo=options.get(32);this.renderMinimap=layoutInfo.renderMinimap|0,this.scrollBeyondLastLine=options.get(76);var minimapOpts=options.get(52);this.showSlider=minimapOpts.showSlider,this.fontScale=Math.round(minimapOpts.scale*pixelRatio),this.charRenderer=Object(functional.a)(function(){return minimapCharRendererFactory_MinimapCharRendererFactory.create(_this.fontScale,fontInfo.fontFamily)}),this.pixelRatio=pixelRatio,this.typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this.lineHeight=options.get(47),this.minimapLeft=layoutInfo.minimapLeft,this.minimapWidth=layoutInfo.minimapWidth,this.minimapHeight=layoutInfo.height,this.canvasInnerWidth=Math.max(1,Math.floor(pixelRatio*this.minimapWidth)),this.canvasInnerHeight=Math.max(1,Math.floor(pixelRatio*this.minimapHeight)),this.canvasOuterWidth=this.canvasInnerWidth/pixelRatio,this.canvasOuterHeight=this.canvasInnerHeight/pixelRatio}return MinimapOptions.prototype.equals=function(other){return this.renderMinimap===other.renderMinimap&&this.scrollBeyondLastLine===other.scrollBeyondLastLine&&this.showSlider===other.showSlider&&this.pixelRatio===other.pixelRatio&&this.typicalHalfwidthCharacterWidth===other.typicalHalfwidthCharacterWidth&&this.lineHeight===other.lineHeight&&this.fontScale===other.fontScale&&this.minimapLeft===other.minimapLeft&&this.minimapWidth===other.minimapWidth&&this.minimapHeight===other.minimapHeight&&this.canvasInnerWidth===other.canvasInnerWidth&&this.canvasInnerHeight===other.canvasInnerHeight&&this.canvasOuterWidth===other.canvasOuterWidth&&this.canvasOuterHeight===other.canvasOuterHeight},MinimapOptions}(),MinimapLayout=function(){function MinimapLayout2(scrollTop,scrollHeight,computedSliderRatio,sliderTop,sliderHeight,startLineNumber,endLineNumber){this.scrollTop=scrollTop,this.scrollHeight=scrollHeight,this._computedSliderRatio=computedSliderRatio,this.sliderTop=sliderTop,this.sliderHeight=sliderHeight,this.startLineNumber=startLineNumber,this.endLineNumber=endLineNumber}return MinimapLayout2.prototype.getDesiredScrollTopFromDelta=function(delta){var desiredSliderPosition=this.sliderTop+delta;return Math.round(desiredSliderPosition/this._computedSliderRatio)},MinimapLayout2.prototype.getDesiredScrollTopFromTouchLocation=function(pageY){return Math.round((pageY-this.sliderHeight/2)/this._computedSliderRatio)},MinimapLayout2.create=function(options,viewportStartLineNumber,viewportEndLineNumber,viewportHeight,viewportContainsWhitespaceGaps,lineCount,scrollTop,scrollHeight,previousLayout){var pixelRatio=options.pixelRatio,minimapLineHeight=getMinimapLineHeight(options.renderMinimap,options.fontScale),minimapLinesFitting=Math.floor(options.canvasInnerHeight/minimapLineHeight),lineHeight=options.lineHeight,sliderHeight;if(viewportContainsWhitespaceGaps&&viewportEndLineNumber!==lineCount){var viewportLineCount=viewportEndLineNumber-viewportStartLineNumber+1;sliderHeight=Math.floor(viewportLineCount*minimapLineHeight/pixelRatio)}else{var expectedViewportLineCount=viewportHeight/lineHeight;sliderHeight=Math.floor(expectedViewportLineCount*minimapLineHeight/pixelRatio)}var maxMinimapSliderTop;options.scrollBeyondLastLine?maxMinimapSliderTop=(lineCount-1)*minimapLineHeight/pixelRatio:maxMinimapSliderTop=Math.max(0,lineCount*minimapLineHeight/pixelRatio-sliderHeight),maxMinimapSliderTop=Math.min(options.minimapHeight-sliderHeight,maxMinimapSliderTop);var computedSliderRatio=maxMinimapSliderTop/(scrollHeight-viewportHeight),sliderTop=scrollTop*computedSliderRatio,extraLinesAtTheBottom=0;if(options.scrollBeyondLastLine){var expectedViewportLineCount=viewportHeight/lineHeight;extraLinesAtTheBottom=expectedViewportLineCount}if(minimapLinesFitting>=lineCount+extraLinesAtTheBottom){var startLineNumber=1,endLineNumber=lineCount;return new MinimapLayout2(scrollTop,scrollHeight,computedSliderRatio,sliderTop,sliderHeight,startLineNumber,endLineNumber)}else{var startLineNumber=Math.max(1,Math.floor(viewportStartLineNumber-sliderTop*pixelRatio/minimapLineHeight));previousLayout&&previousLayout.scrollHeight===scrollHeight&&(previousLayout.scrollTop>scrollTop&&(startLineNumber=Math.min(startLineNumber,previousLayout.startLineNumber)),previousLayout.scrollTop<scrollTop&&(startLineNumber=Math.max(startLineNumber,previousLayout.startLineNumber)));var endLineNumber=Math.min(lineCount,startLineNumber+minimapLinesFitting-1);return new MinimapLayout2(scrollTop,scrollHeight,computedSliderRatio,sliderTop,sliderHeight,startLineNumber,endLineNumber)}},MinimapLayout2}(),MinimapLine=function(){function MinimapLine2(dy){this.dy=dy}return MinimapLine2.prototype.onContentChanged=function(){this.dy=-1},MinimapLine2.prototype.onTokensChanged=function(){this.dy=-1},MinimapLine2.INVALID=new MinimapLine2(-1),MinimapLine2}(),minimap_RenderData=function(){function RenderData(renderedLayout,imageData,lines){this.renderedLayout=renderedLayout,this._imageData=imageData,this._renderedLines=new RenderedLinesCollection(function(){return MinimapLine.INVALID}),this._renderedLines._set(renderedLayout.startLineNumber,lines)}return RenderData.prototype.linesEquals=function(layout){if(!this.scrollEquals(layout))return!1;for(var tmp=this._renderedLines._get(),lines=tmp.lines,i=0,len=lines.length;i<len;i++)if(lines[i].dy===-1)return!1;return!0},RenderData.prototype.scrollEquals=function(layout){return this.renderedLayout.startLineNumber===layout.startLineNumber&&this.renderedLayout.endLineNumber===layout.endLineNumber},RenderData.prototype._get=function(){var tmp=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:tmp.rendLineNumberStart,lines:tmp.lines}},RenderData.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},RenderData}(),MinimapBuffers=function(){function MinimapBuffers2(ctx,WIDTH,HEIGHT,background){this._backgroundFillData=MinimapBuffers2._createBackgroundFillData(WIDTH,HEIGHT,background),this._buffers=[ctx.createImageData(WIDTH,HEIGHT),ctx.createImageData(WIDTH,HEIGHT)],this._lastUsedBuffer=0}return MinimapBuffers2.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var result=this._buffers[this._lastUsedBuffer];return result.data.set(this._backgroundFillData),result},MinimapBuffers2._createBackgroundFillData=function(WIDTH,HEIGHT,background){for(var backgroundR=background.r,backgroundG=background.g,backgroundB=background.b,result=new Uint8ClampedArray(WIDTH*HEIGHT*4),offset=0,i=0;i<HEIGHT;i++)for(var j=0;j<WIDTH;j++)result[offset]=backgroundR,result[offset+1]=backgroundG,result[offset+2]=backgroundB,result[offset+3]=255,offset+=4;return result},MinimapBuffers2}(),minimap_Minimap=function(_super){minimap_extends(Minimap,_super);function Minimap(context){var _this=_super.call(this,context)||this;return _this._selections=[],_this._renderDecorations=!1,_this._gestureInProgress=!1,_this._options=new minimap_MinimapOptions(_this._context.configuration),_this._lastRenderData=null,_this._buffers=null,_this._selectionColor=_this._context.theme.getColor(colorRegistry.Ib),_this._domNode=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(_this._domNode,8),_this._domNode.setClassName(_this._getMinimapDomNodeClassName()),_this._domNode.setPosition("absolute"),_this._domNode.setAttribute("role","presentation"),_this._domNode.setAttribute("aria-hidden","true"),_this._shadow=Object(fastDomNode.b)(document.createElement("div")),_this._shadow.setClassName("minimap-shadow-hidden"),_this._domNode.appendChild(_this._shadow),_this._canvas=Object(fastDomNode.b)(document.createElement("canvas")),_this._canvas.setPosition("absolute"),_this._canvas.setLeft(0),_this._domNode.appendChild(_this._canvas),_this._decorationsCanvas=Object(fastDomNode.b)(document.createElement("canvas")),_this._decorationsCanvas.setPosition("absolute"),_this._decorationsCanvas.setClassName("minimap-decorations-layer"),_this._decorationsCanvas.setLeft(0),_this._domNode.appendChild(_this._decorationsCanvas),_this._slider=Object(fastDomNode.b)(document.createElement("div")),_this._slider.setPosition("absolute"),_this._slider.setClassName("minimap-slider"),_this._slider.setLayerHinting(!0),_this._slider.setContain("strict"),_this._domNode.appendChild(_this._slider),_this._sliderHorizontal=Object(fastDomNode.b)(document.createElement("div")),_this._sliderHorizontal.setPosition("absolute"),_this._sliderHorizontal.setClassName("minimap-slider-horizontal"),_this._slider.appendChild(_this._sliderHorizontal),_this._tokensColorTracker=minimapTokensColorTracker_MinimapTokensColorTracker.getInstance(),_this._applyLayout(),_this._mouseDownListener=dom.o(_this._domNode.domNode,"mousedown",function(e){e.preventDefault();var renderMinimap=_this._options.renderMinimap;if(renderMinimap!==0&&_this._lastRenderData){var minimapLineHeight=getMinimapLineHeight(renderMinimap,_this._options.fontScale),internalOffsetY=_this._options.pixelRatio*e.browserEvent.offsetY,lineIndex=Math.floor(internalOffsetY/minimapLineHeight),lineNumber=lineIndex+_this._lastRenderData.renderedLayout.startLineNumber;lineNumber=Math.min(lineNumber,_this._context.model.getLineCount()),_this._context.privateViewEventBus.emit(new ViewRevealRangeRequestEvent("mouse",new core_range.a(lineNumber,1,lineNumber,1),1,!1,0))}}),_this._sliderMouseMoveMonitor=new globalMouseMoveMonitor.a,_this._sliderMouseDownListener=dom.o(_this._slider.domNode,"mousedown",function(e){if(e.preventDefault(),e.stopPropagation(),e.leftButton&&_this._lastRenderData){var initialMousePosition_1=e.posy,initialMouseOrthogonalPosition_1=e.posx,initialSliderState_1=_this._lastRenderData.renderedLayout;_this._slider.toggleClassName("active",!0),_this._sliderMouseMoveMonitor.startMonitoring(globalMouseMoveMonitor.b,function(mouseMoveData){var mouseOrthogonalDelta=Math.abs(mouseMoveData.posx-initialMouseOrthogonalPosition_1);if(platform.h&&mouseOrthogonalDelta>MOUSE_DRAG_RESET_DISTANCE){_this._context.viewLayout.setScrollPositionNow({scrollTop:initialSliderState_1.scrollTop});return}var mouseDelta=mouseMoveData.posy-initialMousePosition_1;_this._context.viewLayout.setScrollPositionNow({scrollTop:initialSliderState_1.getDesiredScrollTopFromDelta(mouseDelta)})},function(){_this._slider.toggleClassName("active",!1)})}}),_this._gestureDisposable=touch.b.addTarget(_this._domNode.domNode),_this._sliderTouchStartListener=dom.j(_this._domNode.domNode,touch.a.Start,function(e){e.preventDefault(),e.stopPropagation(),_this._lastRenderData&&(_this._slider.toggleClassName("active",!0),_this._gestureInProgress=!0,_this.scrollDueToTouchEvent(e))}),_this._sliderTouchMoveListener=dom.o(_this._domNode.domNode,touch.a.Change,function(e){e.preventDefault(),e.stopPropagation(),_this._lastRenderData&&_this._gestureInProgress&&_this.scrollDueToTouchEvent(e)}),_this._sliderTouchEndListener=dom.o(_this._domNode.domNode,touch.a.End,function(e){e.preventDefault(),e.stopPropagation(),_this._gestureInProgress=!1,_this._slider.toggleClassName("active",!1)}),_this}return Minimap.prototype.scrollDueToTouchEvent=function(touch2){var startY=this._domNode.domNode.getBoundingClientRect().top,scrollTop=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(touch2.pageY-startY);this._context.viewLayout.setScrollPositionNow({scrollTop})},Minimap.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),_super.prototype.dispose.call(this)},Minimap.prototype._getMinimapDomNodeClassName=function(){return this._options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"},Minimap.prototype.getDomNode=function(){return this._domNode},Minimap.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},Minimap.prototype._getBuffer=function(){return this._buffers||(this._buffers=new MinimapBuffers(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers.getBuffer()},Minimap.prototype._onOptionsMaybeChanged=function(){var opts=new minimap_MinimapOptions(this._context.configuration);return this._options.equals(opts)?!1:(this._options=opts,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},Minimap.prototype.onConfigurationChanged=function(e){return this._onOptionsMaybeChanged()},Minimap.prototype.onCursorStateChanged=function(e){return this._selections=e.selections,this._renderDecorations=!0,!0},Minimap.prototype.onFlushed=function(e){return this._lastRenderData=null,!0},Minimap.prototype.onLinesChanged=function(e){return this._lastRenderData?this._lastRenderData.onLinesChanged(e):!1},Minimap.prototype.onLinesDeleted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e),!0},Minimap.prototype.onLinesInserted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e),!0},Minimap.prototype.onScrollChanged=function(e){return this._renderDecorations=!0,!0},Minimap.prototype.onTokensChanged=function(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1},Minimap.prototype.onTokensColorsChanged=function(e){return this._lastRenderData=null,this._buffers=null,!0},Minimap.prototype.onZonesChanged=function(e){return this._lastRenderData=null,!0},Minimap.prototype.onDecorationsChanged=function(e){return this._renderDecorations=!0,!0},Minimap.prototype.onThemeChanged=function(e){return this._context.model.invalidateMinimapColorCache(),this._selectionColor=this._context.theme.getColor(colorRegistry.Ib),this._renderDecorations=!0,!0},Minimap.prototype.prepareRender=function(ctx){},Minimap.prototype.render=function(renderingCtx){var renderMinimap=this._options.renderMinimap;if(renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}renderingCtx.scrollLeft+renderingCtx.viewportWidth>=renderingCtx.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var layout=MinimapLayout.create(this._options,renderingCtx.visibleRange.startLineNumber,renderingCtx.visibleRange.endLineNumber,renderingCtx.viewportHeight,renderingCtx.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),renderingCtx.scrollTop,renderingCtx.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(layout.sliderTop),this._slider.setHeight(layout.sliderHeight);var scrollLeftChars=renderingCtx.scrollLeft/this._options.typicalHalfwidthCharacterWidth,horizontalSliderLeft=Math.min(this._options.minimapWidth,Math.round(scrollLeftChars*getMinimapCharWidth(this._options.renderMinimap,this._options.fontScale)/this._options.pixelRatio));this._sliderHorizontal.setLeft(horizontalSliderLeft),this._sliderHorizontal.setWidth(this._options.minimapWidth-horizontalSliderLeft),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(layout.sliderHeight),this.renderDecorations(layout),this._lastRenderData=this.renderLines(layout)},Minimap.prototype.renderDecorations=function(layout){if(this._renderDecorations){this._renderDecorations=!1;var decorations=this._context.model.getDecorationsInViewport(new core_range.a(layout.startLineNumber,1,layout.endLineNumber,this._context.model.getLineMaxColumn(layout.endLineNumber))),_a=this._options,renderMinimap=_a.renderMinimap,canvasInnerWidth=_a.canvasInnerWidth,canvasInnerHeight=_a.canvasInnerHeight,lineHeight=getMinimapLineHeight(renderMinimap,this._options.fontScale),characterWidth=getMinimapCharWidth(renderMinimap,this._options.fontScale),tabSize=this._context.model.getOptions().tabSize,canvasContext=this._decorationsCanvas.domNode.getContext("2d");canvasContext.clearRect(0,0,canvasInnerWidth,canvasInnerHeight);for(var lineOffsetMap=new Map,i=0;i<this._selections.length;i++)for(var selection=this._selections[i],line=selection.startLineNumber;line<=selection.endLineNumber;line++)this.renderDecorationOnLine(canvasContext,lineOffsetMap,selection,this._selectionColor,layout,line,lineHeight,lineHeight,tabSize,characterWidth);for(var i=0;i<decorations.length;i++){var decoration=decorations[i];if(decoration.options.minimap)for(var decorationColor=decoration.options.minimap.getColor(this._context.theme),line=decoration.range.startLineNumber;line<=decoration.range.endLineNumber;line++)switch(decoration.options.minimap.position){case common_model.c.Inline:this.renderDecorationOnLine(canvasContext,lineOffsetMap,decoration.range,decorationColor,layout,line,lineHeight,lineHeight,tabSize,characterWidth);continue;case common_model.c.Gutter:var y=(line-layout.startLineNumber)*lineHeight,x=2;this.renderDecoration(canvasContext,decorationColor,x,y,GUTTER_DECORATION_WIDTH,lineHeight);continue}}}},Minimap.prototype.renderDecorationOnLine=function(canvasContext,lineOffsetMap,decorationRange,decorationColor,layout,lineNumber,height,lineHeight,tabSize,charWidth){var y=(lineNumber-layout.startLineNumber)*lineHeight;if(!(y+height<0||y>this._options.canvasOuterHeight)){var lineIndexToXOffset=lineOffsetMap.get(lineNumber),isFirstDecorationForLine=!lineIndexToXOffset;if(!lineIndexToXOffset){var lineData=this._context.model.getLineContent(lineNumber);lineIndexToXOffset=[editorOptions.f];for(var i=1;i<lineData.length+1;i++){var charCode=lineData.charCodeAt(i-1),dx=charCode===9?tabSize*charWidth:strings.z(charCode)?2*charWidth:charWidth;lineIndexToXOffset[i]=lineIndexToXOffset[i-1]+dx}lineOffsetMap.set(lineNumber,lineIndexToXOffset)}var startColumn=decorationRange.startColumn,endColumn=decorationRange.endColumn,startLineNumber=decorationRange.startLineNumber,endLineNumber=decorationRange.endLineNumber,x=startLineNumber===lineNumber?lineIndexToXOffset[startColumn-1]:editorOptions.f,endColumnForLine=endLineNumber>lineNumber?lineIndexToXOffset.length-1:endColumn-1;if(endColumnForLine>0){var width=lineIndexToXOffset[endColumnForLine]-x||2;this.renderDecoration(canvasContext,decorationColor,x,y,width,height)}isFirstDecorationForLine&&this.renderLineHighlight(canvasContext,decorationColor,y,height)}},Minimap.prototype.renderLineHighlight=function(canvasContext,decorationColor,y,height){canvasContext.fillStyle=decorationColor&&decorationColor.transparent(.5).toString()||"",canvasContext.fillRect(editorOptions.f,y,canvasContext.canvas.width,height)},Minimap.prototype.renderDecoration=function(canvasContext,decorationColor,x,y,width,height){canvasContext.fillStyle=decorationColor&&decorationColor.toString()||"",canvasContext.fillRect(x,y,width,height)},Minimap.prototype.renderLines=function(layout){var renderMinimap=this._options.renderMinimap,charRenderer=this._options.charRenderer(),startLineNumber=layout.startLineNumber,endLineNumber=layout.endLineNumber,minimapLineHeight=getMinimapLineHeight(renderMinimap,this._options.fontScale);if(this._lastRenderData&&this._lastRenderData.linesEquals(layout)){var _lastData=this._lastRenderData._get();return new minimap_RenderData(layout,_lastData.imageData,_lastData.lines)}for(var imageData=this._getBuffer(),_a=Minimap._renderUntouchedLines(imageData,startLineNumber,endLineNumber,minimapLineHeight,this._lastRenderData),_dirtyY1=_a[0],_dirtyY2=_a[1],needed=_a[2],lineInfo=this._context.model.getMinimapLinesRenderingData(startLineNumber,endLineNumber,needed),tabSize=lineInfo.tabSize,background=this._tokensColorTracker.getColor(2),useLighterFont=this._tokensColorTracker.backgroundIsLight(),dy=0,renderedLines=[],lineIndex=0,lineCount=endLineNumber-startLineNumber+1;lineIndex<lineCount;lineIndex++)needed[lineIndex]&&Minimap._renderLine(imageData,background,useLighterFont,renderMinimap,this._tokensColorTracker,charRenderer,dy,tabSize,lineInfo.data[lineIndex],this._options.fontScale),renderedLines[lineIndex]=new MinimapLine(dy),dy+=minimapLineHeight;var dirtyY1=_dirtyY1===-1?0:_dirtyY1,dirtyY2=_dirtyY2===-1?imageData.height:_dirtyY2,dirtyHeight=dirtyY2-dirtyY1,ctx=this._canvas.domNode.getContext("2d");return ctx.putImageData(imageData,0,0,0,dirtyY1,imageData.width,dirtyHeight),new minimap_RenderData(layout,imageData,renderedLines)},Minimap._renderUntouchedLines=function(target,startLineNumber,endLineNumber,minimapLineHeight,lastRenderData){var needed=[];if(!lastRenderData){for(var i=0,len=endLineNumber-startLineNumber+1;i<len;i++)needed[i]=!0;return[-1,-1,needed]}for(var _lastData=lastRenderData._get(),lastTargetData=_lastData.imageData.data,lastStartLineNumber=_lastData.rendLineNumberStart,lastLines=_lastData.lines,lastLinesLength=lastLines.length,WIDTH=target.width,targetData=target.data,maxDestPixel=(endLineNumber-startLineNumber+1)*minimapLineHeight*WIDTH*4,dirtyPixel1=-1,dirtyPixel2=-1,copySourceStart=-1,copySourceEnd=-1,copyDestStart=-1,copyDestEnd=-1,dest_dy=0,lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var lineIndex=lineNumber-startLineNumber,lastLineIndex=lineNumber-lastStartLineNumber,source_dy=lastLineIndex>=0&&lastLineIndex<lastLinesLength?lastLines[lastLineIndex].dy:-1;if(source_dy===-1){needed[lineIndex]=!0,dest_dy+=minimapLineHeight;continue}var sourceStart=source_dy*WIDTH*4,sourceEnd=(source_dy+minimapLineHeight)*WIDTH*4,destStart=dest_dy*WIDTH*4,destEnd=(dest_dy+minimapLineHeight)*WIDTH*4;copySourceEnd===sourceStart&&copyDestEnd===destStart?(copySourceEnd=sourceEnd,copyDestEnd=destEnd):(copySourceStart!==-1&&(targetData.set(lastTargetData.subarray(copySourceStart,copySourceEnd),copyDestStart),dirtyPixel1===-1&&copySourceStart===0&&copySourceStart===copyDestStart&&(dirtyPixel1=copySourceEnd),dirtyPixel2===-1&&copySourceEnd===maxDestPixel&&copySourceStart===copyDestStart&&(dirtyPixel2=copySourceStart)),copySourceStart=sourceStart,copySourceEnd=sourceEnd,copyDestStart=destStart,copyDestEnd=destEnd),needed[lineIndex]=!1,dest_dy+=minimapLineHeight}copySourceStart!==-1&&(targetData.set(lastTargetData.subarray(copySourceStart,copySourceEnd),copyDestStart),dirtyPixel1===-1&&copySourceStart===0&&copySourceStart===copyDestStart&&(dirtyPixel1=copySourceEnd),dirtyPixel2===-1&&copySourceEnd===maxDestPixel&&copySourceStart===copyDestStart&&(dirtyPixel2=copySourceStart));var dirtyY1=dirtyPixel1===-1?-1:dirtyPixel1/(WIDTH*4),dirtyY2=dirtyPixel2===-1?-1:dirtyPixel2/(WIDTH*4);return[dirtyY1,dirtyY2,needed]},Minimap._renderLine=function(target,backgroundColor,useLighterFont,renderMinimap,colorTracker,minimapCharRenderer,dy,tabSize,lineData,fontScale){for(var content=lineData.content,tokens=lineData.tokens,charWidth=getMinimapCharWidth(renderMinimap,fontScale),maxDx=target.width-charWidth,dx=editorOptions.f,charIndex=0,tabsCharDelta=0,tokenIndex=0,tokensLen=tokens.getCount();tokenIndex<tokensLen;tokenIndex++)for(var tokenEndIndex=tokens.getEndOffset(tokenIndex),tokenColorId=tokens.getForeground(tokenIndex),tokenColor=colorTracker.getColor(tokenColorId);charIndex<tokenEndIndex;charIndex++){if(dx>maxDx)return;var charCode=content.charCodeAt(charIndex);if(charCode===9){var insertSpacesCount=tabSize-(charIndex+tabsCharDelta)%tabSize;tabsCharDelta+=insertSpacesCount-1,dx+=insertSpacesCount*charWidth}else if(charCode===32)dx+=charWidth;else for(var count=strings.z(charCode)?2:1,i=0;i<count;i++)if(renderMinimap===2?minimapCharRenderer.blockRenderChar(target,dx,dy,tokenColor,backgroundColor,useLighterFont):minimapCharRenderer.renderChar(target,dx,dy,charCode,tokenColor,backgroundColor,fontScale,useLighterFont),dx+=charWidth,dx>maxDx)return}},Minimap}(ViewPart);Object(common_themeService.e)(function(theme,collector){var sliderBackground=theme.getColor(colorRegistry.Xb);if(sliderBackground){var halfSliderBackground=sliderBackground.transparent(.5);collector.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+halfSliderBackground+"; }")}var sliderHoverBackground=theme.getColor(colorRegistry.Yb);if(sliderHoverBackground){var halfSliderHoverBackground=sliderHoverBackground.transparent(.5);collector.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+halfSliderHoverBackground+"; }")}var sliderActiveBackground=theme.getColor(colorRegistry.Wb);if(sliderActiveBackground){var halfSliderActiveBackground=sliderActiveBackground.transparent(.5);collector.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+halfSliderActiveBackground+"; }")}var shadow=theme.getColor(colorRegistry.Vb);shadow&&collector.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+shadow+" -6px 0 6px -6px inset; }")});var overlayWidgets=__webpack_require__(5773),overlayWidgets_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),overlayWidgets_ViewOverlayWidgets=function(_super){overlayWidgets_extends(ViewOverlayWidgets,_super);function ViewOverlayWidgets(context){var _this=_super.call(this,context)||this,options=_this._context.configuration.options,layoutInfo=options.get(103);return _this._widgets={},_this._verticalScrollbarWidth=layoutInfo.verticalScrollbarWidth,_this._minimapWidth=layoutInfo.minimapWidth,_this._horizontalScrollbarHeight=layoutInfo.horizontalScrollbarHeight,_this._editorHeight=layoutInfo.height,_this._editorWidth=layoutInfo.width,_this._domNode=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(_this._domNode,4),_this._domNode.setClassName("overlayWidgets"),_this}return ViewOverlayWidgets.prototype.dispose=function(){_super.prototype.dispose.call(this),this._widgets={}},ViewOverlayWidgets.prototype.getDomNode=function(){return this._domNode},ViewOverlayWidgets.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,layoutInfo=options.get(103);return this._verticalScrollbarWidth=layoutInfo.verticalScrollbarWidth,this._minimapWidth=layoutInfo.minimapWidth,this._horizontalScrollbarHeight=layoutInfo.horizontalScrollbarHeight,this._editorHeight=layoutInfo.height,this._editorWidth=layoutInfo.width,!0},ViewOverlayWidgets.prototype.addWidget=function(widget){var domNode=Object(fastDomNode.b)(widget.getDomNode());this._widgets[widget.getId()]={widget,preference:null,domNode},domNode.setPosition("absolute"),domNode.setAttribute("widgetId",widget.getId()),this._domNode.appendChild(domNode),this.setShouldRender()},ViewOverlayWidgets.prototype.setWidgetPosition=function(widget,preference){var widgetData=this._widgets[widget.getId()];return widgetData.preference===preference?!1:(widgetData.preference=preference,this.setShouldRender(),!0)},ViewOverlayWidgets.prototype.removeWidget=function(widget){var widgetId=widget.getId();if(this._widgets.hasOwnProperty(widgetId)){var widgetData=this._widgets[widgetId],domNode=widgetData.domNode.domNode;delete this._widgets[widgetId],domNode.parentNode.removeChild(domNode),this.setShouldRender()}},ViewOverlayWidgets.prototype._renderWidget=function(widgetData){var domNode=widgetData.domNode;if(widgetData.preference===null){domNode.unsetTop();return}if(widgetData.preference===0)domNode.setTop(0),domNode.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(widgetData.preference===1){var widgetHeight=domNode.domNode.clientHeight;domNode.setTop(this._editorHeight-widgetHeight-2*this._horizontalScrollbarHeight),domNode.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else widgetData.preference===2&&(domNode.setTop(0),domNode.domNode.style.right="50%")},ViewOverlayWidgets.prototype.prepareRender=function(ctx){},ViewOverlayWidgets.prototype.render=function(ctx){this._domNode.setWidth(this._editorWidth);for(var keys=Object.keys(this._widgets),i=0,len=keys.length;i<len;i++){var widgetId=keys[i];this._renderWidget(this._widgets[widgetId])}},ViewOverlayWidgets}(ViewPart),common_color=__webpack_require__(2663),decorationsOverviewRuler_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),decorationsOverviewRuler_Settings=function(){function Settings(config,theme){var options=config.options;this.lineHeight=options.get(47),this.pixelRatio=options.get(101),this.overviewRulerLanes=options.get(61),this.renderBorder=options.get(60);var borderColor=theme.getColor(editorColorRegistry.l);this.borderColor=borderColor?borderColor.toString():null,this.hideCursor=options.get(40);var cursorColor=theme.getColor(editorColorRegistry.g);this.cursorColor=cursorColor?cursorColor.transparent(.7).toString():null,this.themeType=theme.type;var minimapOpts=options.get(52),minimapEnabled=minimapOpts.enabled,minimapSide=minimapOpts.side,backgroundColor=minimapEnabled?modes.A.getDefaultBackground():null;backgroundColor===null||minimapSide==="left"?this.backgroundColor=null:this.backgroundColor=common_color.a.Format.CSS.formatHex(backgroundColor);var layoutInfo=options.get(103),position=layoutInfo.overviewRuler;this.top=position.top,this.right=position.right,this.domWidth=position.width,this.domHeight=position.height,this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;var _a=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),x=_a[0],w=_a[1];this.x=x,this.w=w}return Settings.prototype._initLanes=function(canvasLeftOffset,canvasWidth,laneCount){var remainingWidth=canvasWidth-canvasLeftOffset;if(laneCount>=3){var leftWidth=Math.floor(remainingWidth/3),rightWidth=Math.floor(remainingWidth/3),centerWidth=remainingWidth-leftWidth-rightWidth,leftOffset=canvasLeftOffset,centerOffset=leftOffset+leftWidth,rightOffset=leftOffset+leftWidth+centerWidth;return[[0,leftOffset,centerOffset,leftOffset,rightOffset,leftOffset,centerOffset,leftOffset],[0,leftWidth,centerWidth,leftWidth+centerWidth,rightWidth,leftWidth+centerWidth+rightWidth,centerWidth+rightWidth,leftWidth+centerWidth+rightWidth]]}else if(laneCount===2){var leftWidth=Math.floor(remainingWidth/2),rightWidth=remainingWidth-leftWidth,leftOffset=canvasLeftOffset,rightOffset=leftOffset+leftWidth;return[[0,leftOffset,leftOffset,leftOffset,rightOffset,leftOffset,leftOffset,leftOffset],[0,leftWidth,leftWidth,leftWidth,rightWidth,leftWidth+rightWidth,leftWidth+rightWidth,leftWidth+rightWidth]]}else{var offset=canvasLeftOffset,width=remainingWidth;return[[0,offset,offset,offset,offset,offset,offset,offset],[0,width,width,width,width,width,width,width]]}},Settings.prototype.equals=function(other){return this.lineHeight===other.lineHeight&&this.pixelRatio===other.pixelRatio&&this.overviewRulerLanes===other.overviewRulerLanes&&this.renderBorder===other.renderBorder&&this.borderColor===other.borderColor&&this.hideCursor===other.hideCursor&&this.cursorColor===other.cursorColor&&this.themeType===other.themeType&&this.backgroundColor===other.backgroundColor&&this.top===other.top&&this.right===other.right&&this.domWidth===other.domWidth&&this.domHeight===other.domHeight&&this.canvasWidth===other.canvasWidth&&this.canvasHeight===other.canvasHeight},Settings}(),decorationsOverviewRuler_DecorationsOverviewRuler=function(_super){decorationsOverviewRuler_extends(DecorationsOverviewRuler,_super);function DecorationsOverviewRuler(context){var _this=_super.call(this,context)||this;return _this._domNode=Object(fastDomNode.b)(document.createElement("canvas")),_this._domNode.setClassName("decorationsOverviewRuler"),_this._domNode.setPosition("absolute"),_this._domNode.setLayerHinting(!0),_this._domNode.setContain("strict"),_this._domNode.setAttribute("aria-hidden","true"),_this._updateSettings(!1),_this._tokensColorTrackerListener=modes.A.onDidChange(function(e){e.changedColorMap&&_this._updateSettings(!0)}),_this._cursorPositions=[],_this}return DecorationsOverviewRuler.prototype.dispose=function(){_super.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},DecorationsOverviewRuler.prototype._updateSettings=function(renderNow){var newSettings=new decorationsOverviewRuler_Settings(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(newSettings)?!1:(this._settings=newSettings,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,renderNow&&this._render(),!0)},DecorationsOverviewRuler.prototype.onConfigurationChanged=function(e){return this._updateSettings(!1)},DecorationsOverviewRuler.prototype.onCursorStateChanged=function(e){this._cursorPositions=[];for(var i=0,len=e.selections.length;i<len;i++)this._cursorPositions[i]=e.selections[i].getPosition();return this._cursorPositions.sort(core_position.a.compare),!0},DecorationsOverviewRuler.prototype.onDecorationsChanged=function(e){return!0},DecorationsOverviewRuler.prototype.onFlushed=function(e){return!0},DecorationsOverviewRuler.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},DecorationsOverviewRuler.prototype.onZonesChanged=function(e){return!0},DecorationsOverviewRuler.prototype.onThemeChanged=function(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},DecorationsOverviewRuler.prototype.getDomNode=function(){return this._domNode.domNode},DecorationsOverviewRuler.prototype.prepareRender=function(ctx){},DecorationsOverviewRuler.prototype.render=function(editorCtx){this._render()},DecorationsOverviewRuler.prototype._render=function(){var canvasWidth=this._settings.canvasWidth,canvasHeight=this._settings.canvasHeight,lineHeight=this._settings.lineHeight,viewLayout=this._context.viewLayout,outerHeight=this._context.viewLayout.getScrollHeight(),heightRatio=canvasHeight/outerHeight,decorations=this._context.model.getAllOverviewRulerDecorations(this._context.theme),minDecorationHeight=6*this._settings.pixelRatio|0,halfMinDecorationHeight=minDecorationHeight/2|0,canvasCtx=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?canvasCtx.clearRect(0,0,canvasWidth,canvasHeight):(canvasCtx.fillStyle=this._settings.backgroundColor,canvasCtx.fillRect(0,0,canvasWidth,canvasHeight));var x=this._settings.x,w=this._settings.w,colors=Object.keys(decorations);colors.sort();for(var cIndex=0,cLen=colors.length;cIndex<cLen;cIndex++){var color=colors[cIndex],colorDecorations=decorations[color];canvasCtx.fillStyle=color;for(var prevLane=0,prevY1=0,prevY2=0,i=0,len=colorDecorations.length;i<len;i++){var lane=colorDecorations[3*i],startLineNumber=colorDecorations[3*i+1],endLineNumber=colorDecorations[3*i+2],y1=viewLayout.getVerticalOffsetForLineNumber(startLineNumber)*heightRatio|0,y2=(viewLayout.getVerticalOffsetForLineNumber(endLineNumber)+lineHeight)*heightRatio|0,height=y2-y1;if(height<minDecorationHeight){var yCenter=(y1+y2)/2|0;yCenter<halfMinDecorationHeight?yCenter=halfMinDecorationHeight:yCenter+halfMinDecorationHeight>canvasHeight&&(yCenter=canvasHeight-halfMinDecorationHeight),y1=yCenter-halfMinDecorationHeight,y2=yCenter+halfMinDecorationHeight}y1>prevY2+1||lane!==prevLane?(i!==0&&canvasCtx.fillRect(x[prevLane],prevY1,w[prevLane],prevY2-prevY1),prevLane=lane,prevY1=y1,prevY2=y2):y2>prevY2&&(prevY2=y2)}canvasCtx.fillRect(x[prevLane],prevY1,w[prevLane],prevY2-prevY1)}if(!this._settings.hideCursor&&this._settings.cursorColor){var cursorHeight=2*this._settings.pixelRatio|0,halfCursorHeight=cursorHeight/2|0,cursorX=this._settings.x[7],cursorW=this._settings.w[7];canvasCtx.fillStyle=this._settings.cursorColor;for(var prevY1=-100,prevY2=-100,i=0,len=this._cursorPositions.length;i<len;i++){var cursor=this._cursorPositions[i],yCenter=viewLayout.getVerticalOffsetForLineNumber(cursor.lineNumber)*heightRatio|0;yCenter<halfCursorHeight?yCenter=halfCursorHeight:yCenter+halfCursorHeight>canvasHeight&&(yCenter=canvasHeight-halfCursorHeight);var y1=yCenter-halfCursorHeight,y2=y1+cursorHeight;y1>prevY2+1?(i!==0&&canvasCtx.fillRect(cursorX,prevY1,cursorW,prevY2-prevY1),prevY1=y1,prevY2=y2):y2>prevY2&&(prevY2=y2)}canvasCtx.fillRect(cursorX,prevY1,cursorW,prevY2-prevY1)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(canvasCtx.beginPath(),canvasCtx.lineWidth=1,canvasCtx.strokeStyle=this._settings.borderColor,canvasCtx.moveTo(0,0),canvasCtx.lineTo(0,canvasHeight),canvasCtx.stroke(),canvasCtx.moveTo(0,0),canvasCtx.lineTo(canvasWidth,0),canvasCtx.stroke())},DecorationsOverviewRuler}(ViewPart),overviewZoneManager=__webpack_require__(3877),overviewRuler_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),overviewRuler_OverviewRuler=function(_super){overviewRuler_extends(OverviewRuler,_super);function OverviewRuler(context,cssClassName){var _this=_super.call(this)||this;_this._context=context;var options=_this._context.configuration.options;return _this._domNode=Object(fastDomNode.b)(document.createElement("canvas")),_this._domNode.setClassName(cssClassName),_this._domNode.setPosition("absolute"),_this._domNode.setLayerHinting(!0),_this._domNode.setContain("strict"),_this._zoneManager=new overviewZoneManager.b(function(lineNumber){return _this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber)}),_this._zoneManager.setDOMWidth(0),_this._zoneManager.setDOMHeight(0),_this._zoneManager.setOuterHeight(_this._context.viewLayout.getScrollHeight()),_this._zoneManager.setLineHeight(options.get(47)),_this._zoneManager.setPixelRatio(options.get(101)),_this._context.addEventHandler(_this),_this}return OverviewRuler.prototype.dispose=function(){this._context.removeEventHandler(this),_super.prototype.dispose.call(this)},OverviewRuler.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options;return e.hasChanged(47)&&(this._zoneManager.setLineHeight(options.get(47)),this._render()),e.hasChanged(101)&&(this._zoneManager.setPixelRatio(options.get(101)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},OverviewRuler.prototype.onFlushed=function(e){return this._render(),!0},OverviewRuler.prototype.onScrollChanged=function(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0},OverviewRuler.prototype.onZonesChanged=function(e){return this._render(),!0},OverviewRuler.prototype.getDomNode=function(){return this._domNode.domNode},OverviewRuler.prototype.setLayout=function(position){this._domNode.setTop(position.top),this._domNode.setRight(position.right);var hasChanged=!1;hasChanged=this._zoneManager.setDOMWidth(position.width)||hasChanged,hasChanged=this._zoneManager.setDOMHeight(position.height)||hasChanged,hasChanged&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},OverviewRuler.prototype.setZones=function(zones){this._zoneManager.setZones(zones),this._render()},OverviewRuler.prototype._render=function(){if(this._zoneManager.getOuterHeight()===0)return!1;var width=this._zoneManager.getCanvasWidth(),height=this._zoneManager.getCanvasHeight(),colorZones=this._zoneManager.resolveColorZones(),id2Color=this._zoneManager.getId2Color(),ctx=this._domNode.domNode.getContext("2d");return ctx.clearRect(0,0,width,height),colorZones.length>0&&this._renderOneLane(ctx,colorZones,id2Color,width),!0},OverviewRuler.prototype._renderOneLane=function(ctx,colorZones,id2Color,width){for(var currentColorId=0,currentFrom=0,currentTo=0,_i=0,colorZones_1=colorZones;_i<colorZones_1.length;_i++){var zone=colorZones_1[_i],zoneColorId=zone.colorId,zoneFrom=zone.from,zoneTo=zone.to;zoneColorId!==currentColorId?(ctx.fillRect(0,currentFrom,width,currentTo-currentFrom),currentColorId=zoneColorId,ctx.fillStyle=id2Color[currentColorId],currentFrom=zoneFrom,currentTo=zoneTo):currentTo>=zoneFrom?currentTo=Math.max(currentTo,zoneTo):(ctx.fillRect(0,currentFrom,width,currentTo-currentFrom),currentFrom=zoneFrom,currentTo=zoneTo)}ctx.fillRect(0,currentFrom,width,currentTo-currentFrom)},OverviewRuler}(ViewEventHandler),rulers_rulers=__webpack_require__(5774),rulers_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),rulers_Rulers=function(_super){rulers_extends(Rulers,_super);function Rulers(context){var _this=_super.call(this,context)||this;_this.domNode=Object(fastDomNode.b)(document.createElement("div")),_this.domNode.setAttribute("role","presentation"),_this.domNode.setAttribute("aria-hidden","true"),_this.domNode.setClassName("view-rulers"),_this._renderedRulers=[];var options=_this._context.configuration.options;return _this._rulers=options.get(73),_this._typicalHalfwidthCharacterWidth=options.get(32).typicalHalfwidthCharacterWidth,_this}return Rulers.prototype.dispose=function(){_super.prototype.dispose.call(this)},Rulers.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options;return this._rulers=options.get(73),this._typicalHalfwidthCharacterWidth=options.get(32).typicalHalfwidthCharacterWidth,!0},Rulers.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},Rulers.prototype.prepareRender=function(ctx){},Rulers.prototype._ensureRulersCount=function(){var currentCount=this._renderedRulers.length,desiredCount=this._rulers.length;if(currentCount!==desiredCount){if(currentCount<desiredCount){for(var tabSize=this._context.model.getOptions().tabSize,rulerWidth=tabSize,addCount=desiredCount-currentCount;addCount>0;){var node=Object(fastDomNode.b)(document.createElement("div"));node.setClassName("view-ruler"),node.setWidth(rulerWidth),this.domNode.appendChild(node),this._renderedRulers.push(node),addCount--}return}for(var removeCount=currentCount-desiredCount;removeCount>0;){var node=this._renderedRulers.pop();this.domNode.removeChild(node),removeCount--}}},Rulers.prototype.render=function(ctx){this._ensureRulersCount();for(var i=0,len=this._rulers.length;i<len;i++){var node=this._renderedRulers[i];node.setHeight(Math.min(ctx.scrollHeight,1e6)),node.setLeft(this._rulers[i]*this._typicalHalfwidthCharacterWidth)}},Rulers}(ViewPart);Object(common_themeService.e)(function(theme,collector){var rulerColor=theme.getColor(editorColorRegistry.m);rulerColor&&collector.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+rulerColor+" inset; }")});var scrollDecoration_scrollDecoration=__webpack_require__(5775),scrollDecoration_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),scrollDecoration_ScrollDecorationViewPart=function(_super){scrollDecoration_extends(ScrollDecorationViewPart,_super);function ScrollDecorationViewPart(context){var _this=_super.call(this,context)||this;_this._scrollTop=0,_this._width=0,_this._updateWidth(),_this._shouldShow=!1;var options=_this._context.configuration.options,scrollbar=options.get(74);return _this._useShadows=scrollbar.useShadows,_this._domNode=Object(fastDomNode.b)(document.createElement("div")),_this._domNode.setAttribute("role","presentation"),_this._domNode.setAttribute("aria-hidden","true"),_this}return ScrollDecorationViewPart.prototype.dispose=function(){_super.prototype.dispose.call(this)},ScrollDecorationViewPart.prototype._updateShouldShow=function(){var newShouldShow=this._useShadows&&this._scrollTop>0;return this._shouldShow!==newShouldShow?(this._shouldShow=newShouldShow,!0):!1},ScrollDecorationViewPart.prototype.getDomNode=function(){return this._domNode},ScrollDecorationViewPart.prototype._updateWidth=function(){var options=this._context.configuration.options,layoutInfo=options.get(103);layoutInfo.renderMinimap===0||layoutInfo.minimapWidth>0&&layoutInfo.minimapLeft===0?this._width=layoutInfo.width:this._width=layoutInfo.width-layoutInfo.minimapWidth-layoutInfo.verticalScrollbarWidth},ScrollDecorationViewPart.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,scrollbar=options.get(74);return this._useShadows=scrollbar.useShadows,this._updateWidth(),this._updateShouldShow(),!0},ScrollDecorationViewPart.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},ScrollDecorationViewPart.prototype.prepareRender=function(ctx){},ScrollDecorationViewPart.prototype.render=function(ctx){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},ScrollDecorationViewPart}(ViewPart);Object(common_themeService.e)(function(theme,collector){var shadow=theme.getColor(colorRegistry.Vb);shadow&&collector.addRule(".monaco-editor .scroll-decoration { box-shadow: "+shadow+" 0 6px 6px -6px inset; }")});var selections_selections=__webpack_require__(5776),selections_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),HorizontalRangeWithStyle=function(){function HorizontalRangeWithStyle2(other){this.left=other.left,this.width=other.width,this.startStyle=null,this.endStyle=null}return HorizontalRangeWithStyle2}(),LineVisibleRangesWithStyle=function(){function LineVisibleRangesWithStyle2(lineNumber,ranges){this.lineNumber=lineNumber,this.ranges=ranges}return LineVisibleRangesWithStyle2}();function toStyledRange(item){return new HorizontalRangeWithStyle(item)}function toStyled(item){return new LineVisibleRangesWithStyle(item.lineNumber,item.ranges.map(toStyledRange))}var isIEWithZoomingIssuesNearRoundedBorders=browser.f,SelectionsOverlay=function(_super){selections_extends(SelectionsOverlay2,_super);function SelectionsOverlay2(context){var _this=_super.call(this)||this;_this._previousFrameVisibleRangesWithStyle=[],_this._context=context;var options=_this._context.configuration.options;return _this._lineHeight=options.get(47),_this._roundedSelection=options.get(72),_this._typicalHalfwidthCharacterWidth=options.get(32).typicalHalfwidthCharacterWidth,_this._selections=[],_this._renderResult=null,_this._context.addEventHandler(_this),_this}return SelectionsOverlay2.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,_super.prototype.dispose.call(this)},SelectionsOverlay2.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options;return this._lineHeight=options.get(47),this._roundedSelection=options.get(72),this._typicalHalfwidthCharacterWidth=options.get(32).typicalHalfwidthCharacterWidth,!0},SelectionsOverlay2.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),!0},SelectionsOverlay2.prototype.onDecorationsChanged=function(e){return!0},SelectionsOverlay2.prototype.onFlushed=function(e){return!0},SelectionsOverlay2.prototype.onLinesChanged=function(e){return!0},SelectionsOverlay2.prototype.onLinesDeleted=function(e){return!0},SelectionsOverlay2.prototype.onLinesInserted=function(e){return!0},SelectionsOverlay2.prototype.onScrollChanged=function(e){return e.scrollTopChanged},SelectionsOverlay2.prototype.onZonesChanged=function(e){return!0},SelectionsOverlay2.prototype._visibleRangesHaveGaps=function(linesVisibleRanges){for(var i=0,len=linesVisibleRanges.length;i<len;i++){var lineVisibleRanges=linesVisibleRanges[i];if(lineVisibleRanges.ranges.length>1)return!0}return!1},SelectionsOverlay2.prototype._enrichVisibleRangesWithStyle=function(viewport,linesVisibleRanges,previousFrame){var epsilon=this._typicalHalfwidthCharacterWidth/4,previousFrameTop=null,previousFrameBottom=null;if(previousFrame&&previousFrame.length>0&&linesVisibleRanges.length>0){var topLineNumber=linesVisibleRanges[0].lineNumber;if(topLineNumber===viewport.startLineNumber)for(var i=0;!previousFrameTop&&i<previousFrame.length;i++)previousFrame[i].lineNumber===topLineNumber&&(previousFrameTop=previousFrame[i].ranges[0]);var bottomLineNumber=linesVisibleRanges[linesVisibleRanges.length-1].lineNumber;if(bottomLineNumber===viewport.endLineNumber)for(var i=previousFrame.length-1;!previousFrameBottom&&i>=0;i--)previousFrame[i].lineNumber===bottomLineNumber&&(previousFrameBottom=previousFrame[i].ranges[0]);previousFrameTop&&!previousFrameTop.startStyle&&(previousFrameTop=null),previousFrameBottom&&!previousFrameBottom.startStyle&&(previousFrameBottom=null)}for(var i=0,len=linesVisibleRanges.length;i<len;i++){var curLineRange=linesVisibleRanges[i].ranges[0],curLeft=curLineRange.left,curRight=curLineRange.left+curLineRange.width,startStyle={top:0,bottom:0},endStyle={top:0,bottom:0};if(i>0){var prevLeft=linesVisibleRanges[i-1].ranges[0].left,prevRight=linesVisibleRanges[i-1].ranges[0].left+linesVisibleRanges[i-1].ranges[0].width;abs(curLeft-prevLeft)<epsilon?startStyle.top=2:curLeft>prevLeft&&(startStyle.top=1),abs(curRight-prevRight)<epsilon?endStyle.top=2:prevLeft<curRight&&curRight<prevRight&&(endStyle.top=1)}else previousFrameTop&&(startStyle.top=previousFrameTop.startStyle.top,endStyle.top=previousFrameTop.endStyle.top);if(i+1<len){var nextLeft=linesVisibleRanges[i+1].ranges[0].left,nextRight=linesVisibleRanges[i+1].ranges[0].left+linesVisibleRanges[i+1].ranges[0].width;abs(curLeft-nextLeft)<epsilon?startStyle.bottom=2:nextLeft<curLeft&&curLeft<nextRight&&(startStyle.bottom=1),abs(curRight-nextRight)<epsilon?endStyle.bottom=2:curRight<nextRight&&(endStyle.bottom=1)}else previousFrameBottom&&(startStyle.bottom=previousFrameBottom.startStyle.bottom,endStyle.bottom=previousFrameBottom.endStyle.bottom);curLineRange.startStyle=startStyle,curLineRange.endStyle=endStyle}},SelectionsOverlay2.prototype._getVisibleRangesWithStyle=function(selection,ctx,previousFrame){var _linesVisibleRanges=ctx.linesVisibleRangesForRange(selection,!0)||[],linesVisibleRanges=_linesVisibleRanges.map(toStyled),visibleRangesHaveGaps=this._visibleRangesHaveGaps(linesVisibleRanges);return!isIEWithZoomingIssuesNearRoundedBorders&&!visibleRangesHaveGaps&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(ctx.visibleRange,linesVisibleRanges,previousFrame),linesVisibleRanges},SelectionsOverlay2.prototype._createSelectionPiece=function(top,height,className,left,width){return'<div class="cslr '+className+'" style="top:'+top.toString()+"px;left:"+left.toString()+"px;width:"+width.toString()+"px;height:"+height+'px;"></div>'},SelectionsOverlay2.prototype._actualRenderOneSelection=function(output2,visibleStartLineNumber,hasMultipleSelections,visibleRanges){if(visibleRanges.length!==0)for(var visibleRangesHaveStyle=!!visibleRanges[0].ranges[0].startStyle,fullLineHeight=this._lineHeight.toString(),reducedLineHeight=(this._lineHeight-1).toString(),firstLineNumber=visibleRanges[0].lineNumber,lastLineNumber=visibleRanges[visibleRanges.length-1].lineNumber,i=0,len=visibleRanges.length;i<len;i++){for(var lineVisibleRanges=visibleRanges[i],lineNumber=lineVisibleRanges.lineNumber,lineIndex=lineNumber-visibleStartLineNumber,lineHeight=hasMultipleSelections&&(lineNumber===lastLineNumber||lineNumber===firstLineNumber)?reducedLineHeight:fullLineHeight,top_1=hasMultipleSelections&&lineNumber===firstLineNumber?1:0,innerCornerOutput="",restOfSelectionOutput="",j=0,lenJ=lineVisibleRanges.ranges.length;j<lenJ;j++){var visibleRange=lineVisibleRanges.ranges[j];if(visibleRangesHaveStyle){var startStyle=visibleRange.startStyle,endStyle=visibleRange.endStyle;if(startStyle.top===1||startStyle.bottom===1){innerCornerOutput+=this._createSelectionPiece(top_1,lineHeight,SelectionsOverlay2.SELECTION_CLASS_NAME,visibleRange.left-SelectionsOverlay2.ROUNDED_PIECE_WIDTH,SelectionsOverlay2.ROUNDED_PIECE_WIDTH);var className_1=SelectionsOverlay2.EDITOR_BACKGROUND_CLASS_NAME;startStyle.top===1&&(className_1+=" "+SelectionsOverlay2.SELECTION_TOP_RIGHT),startStyle.bottom===1&&(className_1+=" "+SelectionsOverlay2.SELECTION_BOTTOM_RIGHT),innerCornerOutput+=this._createSelectionPiece(top_1,lineHeight,className_1,visibleRange.left-SelectionsOverlay2.ROUNDED_PIECE_WIDTH,SelectionsOverlay2.ROUNDED_PIECE_WIDTH)}if(endStyle.top===1||endStyle.bottom===1){innerCornerOutput+=this._createSelectionPiece(top_1,lineHeight,SelectionsOverlay2.SELECTION_CLASS_NAME,visibleRange.left+visibleRange.width,SelectionsOverlay2.ROUNDED_PIECE_WIDTH);var className_2=SelectionsOverlay2.EDITOR_BACKGROUND_CLASS_NAME;endStyle.top===1&&(className_2+=" "+SelectionsOverlay2.SELECTION_TOP_LEFT),endStyle.bottom===1&&(className_2+=" "+SelectionsOverlay2.SELECTION_BOTTOM_LEFT),innerCornerOutput+=this._createSelectionPiece(top_1,lineHeight,className_2,visibleRange.left+visibleRange.width,SelectionsOverlay2.ROUNDED_PIECE_WIDTH)}}var className=SelectionsOverlay2.SELECTION_CLASS_NAME;if(visibleRangesHaveStyle){var startStyle=visibleRange.startStyle,endStyle=visibleRange.endStyle;startStyle.top===0&&(className+=" "+SelectionsOverlay2.SELECTION_TOP_LEFT),startStyle.bottom===0&&(className+=" "+SelectionsOverlay2.SELECTION_BOTTOM_LEFT),endStyle.top===0&&(className+=" "+SelectionsOverlay2.SELECTION_TOP_RIGHT),endStyle.bottom===0&&(className+=" "+SelectionsOverlay2.SELECTION_BOTTOM_RIGHT)}restOfSelectionOutput+=this._createSelectionPiece(top_1,lineHeight,className,visibleRange.left,visibleRange.width)}output2[lineIndex][0]+=innerCornerOutput,output2[lineIndex][1]+=restOfSelectionOutput}},SelectionsOverlay2.prototype.prepareRender=function(ctx){for(var output=[],visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){var lineIndex=lineNumber-visibleStartLineNumber;output[lineIndex]=["",""]}for(var thisFrameVisibleRangesWithStyle=[],i=0,len=this._selections.length;i<len;i++){var selection=this._selections[i];if(selection.isEmpty()){thisFrameVisibleRangesWithStyle[i]=null;continue}var visibleRangesWithStyle=this._getVisibleRangesWithStyle(selection,ctx,this._previousFrameVisibleRangesWithStyle[i]);thisFrameVisibleRangesWithStyle[i]=visibleRangesWithStyle,this._actualRenderOneSelection(output,visibleStartLineNumber,this._selections.length>1,visibleRangesWithStyle)}this._previousFrameVisibleRangesWithStyle=thisFrameVisibleRangesWithStyle,this._renderResult=output.map(function(_a){var internalCorners=_a[0],restOfSelection=_a[1];return internalCorners+restOfSelection})},SelectionsOverlay2.prototype.render=function(startLineNumber,lineNumber){if(!this._renderResult)return"";var lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]},SelectionsOverlay2.SELECTION_CLASS_NAME="selected-text",SelectionsOverlay2.SELECTION_TOP_LEFT="top-left-radius",SelectionsOverlay2.SELECTION_BOTTOM_LEFT="bottom-left-radius",SelectionsOverlay2.SELECTION_TOP_RIGHT="top-right-radius",SelectionsOverlay2.SELECTION_BOTTOM_RIGHT="bottom-right-radius",SelectionsOverlay2.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",SelectionsOverlay2.ROUNDED_PIECE_WIDTH=10,SelectionsOverlay2}(DynamicViewOverlay);Object(common_themeService.e)(function(theme,collector){var editorSelectionColor=theme.getColor(colorRegistry.K);editorSelectionColor&&collector.addRule(".monaco-editor .focused .selected-text { background-color: "+editorSelectionColor+"; }");var editorInactiveSelectionColor=theme.getColor(colorRegistry.F);editorInactiveSelectionColor&&collector.addRule(".monaco-editor .selected-text { background-color: "+editorInactiveSelectionColor+"; }");var editorSelectionForegroundColor=theme.getColor(colorRegistry.L);editorSelectionForegroundColor&&collector.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+editorSelectionForegroundColor+"; }")});function abs(n){return n<0?-n:n}var viewCursors=__webpack_require__(5777),ViewCursorRenderData=function(){function ViewCursorRenderData2(top,left,width,height,textContent,textContentClassName){this.top=top,this.left=left,this.width=width,this.height=height,this.textContent=textContent,this.textContentClassName=textContentClassName}return ViewCursorRenderData2}(),viewCursor_ViewCursor=function(){function ViewCursor(context){this._context=context;var options=this._context.configuration.options,fontInfo=options.get(32);this._cursorStyle=options.get(17),this._lineHeight=options.get(47),this._typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(options.get(20),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(fastDomNode.b)(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),config_configuration.a.applyFontInfo(this._domNode,fontInfo),this._domNode.setDisplay("none"),this._position=new core_position.a(1,1),this._lastRenderedContent="",this._renderData=null}return ViewCursor.prototype.getDomNode=function(){return this._domNode},ViewCursor.prototype.getPosition=function(){return this._position},ViewCursor.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},ViewCursor.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},ViewCursor.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,fontInfo=options.get(32);return this._cursorStyle=options.get(17),this._lineHeight=options.get(47),this._typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(options.get(20),this._typicalHalfwidthCharacterWidth),config_configuration.a.applyFontInfo(this._domNode,fontInfo),!0},ViewCursor.prototype.onCursorPositionChanged=function(position){return this._position=position,!0},ViewCursor.prototype._prepareRender=function(ctx){var textContent="";if(this._cursorStyle===editorOptions.g.Line||this._cursorStyle===editorOptions.g.LineThin){var visibleRange=ctx.visibleRangeForPosition(this._position);if(!visibleRange||visibleRange.outsideRenderedLine)return null;var width_1;if(this._cursorStyle===editorOptions.g.Line){if(width_1=dom.u(this._lineCursorWidth>0?this._lineCursorWidth:2),width_1>2){var lineContent_1=this._context.model.getLineContent(this._position.lineNumber),nextCharLength_1=strings.F(lineContent_1,this._position.column-1);textContent=lineContent_1.substr(this._position.column-1,nextCharLength_1)}}else width_1=dom.u(1);var left=visibleRange.left;width_1>=2&&left>=1&&(left-=1);var top_1=ctx.getVerticalOffsetForLineNumber(this._position.lineNumber)-ctx.bigNumbersDelta;return new ViewCursorRenderData(top_1,left,width_1,this._lineHeight,textContent,"")}var lineContent=this._context.model.getLineContent(this._position.lineNumber),nextCharLength=strings.F(lineContent,this._position.column-1),visibleRangeForCharacter=ctx.linesVisibleRangesForRange(new core_range.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+nextCharLength),!1);if(!visibleRangeForCharacter||visibleRangeForCharacter.length===0)return null;var firstVisibleRangeForCharacter=visibleRangeForCharacter[0];if(firstVisibleRangeForCharacter.outsideRenderedLine||firstVisibleRangeForCharacter.ranges.length===0)return null;var range=firstVisibleRangeForCharacter.ranges[0],width=range.width<1?this._typicalHalfwidthCharacterWidth:range.width,textContentClassName="";if(this._cursorStyle===editorOptions.g.Block){var lineData=this._context.model.getViewLineData(this._position.lineNumber);textContent=lineContent.substr(this._position.column-1,nextCharLength);var tokenIndex=lineData.tokens.findTokenIndexAtOffset(this._position.column-1);textContentClassName=lineData.tokens.getClassName(tokenIndex)}var top=ctx.getVerticalOffsetForLineNumber(this._position.lineNumber)-ctx.bigNumbersDelta,height=this._lineHeight;return(this._cursorStyle===editorOptions.g.Underline||this._cursorStyle===editorOptions.g.UnderlineThin)&&(top+=this._lineHeight-2,height=2),new ViewCursorRenderData(top,range.left,width,height,textContent,textContentClassName)},ViewCursor.prototype.prepareRender=function(ctx){this._renderData=this._prepareRender(ctx)},ViewCursor.prototype.render=function(ctx){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},ViewCursor}(),viewCursors_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),viewCursors_ViewCursors=function(_super){viewCursors_extends(ViewCursors,_super);function ViewCursors(context){var _this=_super.call(this,context)||this,options=_this._context.configuration.options;return _this._readOnly=options.get(65),_this._cursorBlinking=options.get(15),_this._cursorStyle=options.get(17),_this._cursorSmoothCaretAnimation=options.get(16),_this._selectionIsEmpty=!0,_this._isVisible=!1,_this._primaryCursor=new viewCursor_ViewCursor(_this._context),_this._secondaryCursors=[],_this._renderData=[],_this._domNode=Object(fastDomNode.b)(document.createElement("div")),_this._domNode.setAttribute("role","presentation"),_this._domNode.setAttribute("aria-hidden","true"),_this._updateDomClassName(),_this._domNode.appendChild(_this._primaryCursor.getDomNode()),_this._startCursorBlinkAnimation=new common_async.e,_this._cursorFlatBlinkInterval=new common_async.c,_this._blinkingEnabled=!1,_this._editorHasFocus=!1,_this._updateBlinking(),_this}return ViewCursors.prototype.dispose=function(){_super.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},ViewCursors.prototype.getDomNode=function(){return this._domNode},ViewCursors.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options;this._readOnly=options.get(65),this._cursorBlinking=options.get(15),this._cursorStyle=options.get(17),this._cursorSmoothCaretAnimation=options.get(16),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(var i=0,len=this._secondaryCursors.length;i<len;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0},ViewCursors.prototype._onCursorPositionChanged=function(position,secondaryPositions){if(this._primaryCursor.onCursorPositionChanged(position),this._updateBlinking(),this._secondaryCursors.length<secondaryPositions.length)for(var addCnt=secondaryPositions.length-this._secondaryCursors.length,i=0;i<addCnt;i++){var newCursor=new viewCursor_ViewCursor(this._context);this._domNode.domNode.insertBefore(newCursor.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(newCursor)}else if(this._secondaryCursors.length>secondaryPositions.length)for(var removeCnt=this._secondaryCursors.length-secondaryPositions.length,i=0;i<removeCnt;i++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var i=0;i<secondaryPositions.length;i++)this._secondaryCursors[i].onCursorPositionChanged(secondaryPositions[i])},ViewCursors.prototype.onCursorStateChanged=function(e){for(var positions=[],i=0,len=e.selections.length;i<len;i++)positions[i]=e.selections[i].getPosition();this._onCursorPositionChanged(positions[0],positions.slice(1));var selectionIsEmpty=e.selections[0].isEmpty();return this._selectionIsEmpty!==selectionIsEmpty&&(this._selectionIsEmpty=selectionIsEmpty,this._updateDomClassName()),!0},ViewCursors.prototype.onDecorationsChanged=function(e){return!0},ViewCursors.prototype.onFlushed=function(e){return!0},ViewCursors.prototype.onFocusChanged=function(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1},ViewCursors.prototype.onLinesChanged=function(e){return!0},ViewCursors.prototype.onLinesDeleted=function(e){return!0},ViewCursors.prototype.onLinesInserted=function(e){return!0},ViewCursors.prototype.onScrollChanged=function(e){return!0},ViewCursors.prototype.onTokensChanged=function(e){var shouldRender=function(position){for(var i=0,len=e.ranges.length;i<len;i++)if(e.ranges[i].fromLineNumber<=position.lineNumber&&position.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(shouldRender(this._primaryCursor.getPosition()))return!0;for(var _i=0,_a=this._secondaryCursors;_i<_a.length;_i++){var secondaryCursor=_a[_i];if(shouldRender(secondaryCursor.getPosition()))return!0}return!1},ViewCursors.prototype.onZonesChanged=function(e){return!0},ViewCursors.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},ViewCursors.prototype._updateBlinking=function(){var _this=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var blinkingStyle=this._getCursorBlinking(),isHidden=blinkingStyle===0,isSolid=blinkingStyle===5;isHidden?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!isHidden&&!isSolid&&(blinkingStyle===1?this._cursorFlatBlinkInterval.cancelAndSet(function(){_this._isVisible?_this._hide():_this._show()},ViewCursors.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){_this._blinkingEnabled=!0,_this._updateDomClassName()},ViewCursors.BLINK_INTERVAL))},ViewCursors.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},ViewCursors.prototype._getClassName=function(){var result="cursors-layer";switch(this._selectionIsEmpty||(result+=" has-selection"),this._cursorStyle){case editorOptions.g.Line:result+=" cursor-line-style";break;case editorOptions.g.Block:result+=" cursor-block-style";break;case editorOptions.g.Underline:result+=" cursor-underline-style";break;case editorOptions.g.LineThin:result+=" cursor-line-thin-style";break;case editorOptions.g.BlockOutline:result+=" cursor-block-outline-style";break;case editorOptions.g.UnderlineThin:result+=" cursor-underline-thin-style";break;default:result+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:result+=" cursor-blink";break;case 2:result+=" cursor-smooth";break;case 3:result+=" cursor-phase";break;case 4:result+=" cursor-expand";break;case 5:result+=" cursor-solid";break;default:result+=" cursor-solid"}else result+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(result+=" cursor-smooth-caret-animation"),result},ViewCursors.prototype._show=function(){this._primaryCursor.show();for(var i=0,len=this._secondaryCursors.length;i<len;i++)this._secondaryCursors[i].show();this._isVisible=!0},ViewCursors.prototype._hide=function(){this._primaryCursor.hide();for(var i=0,len=this._secondaryCursors.length;i<len;i++)this._secondaryCursors[i].hide();this._isVisible=!1},ViewCursors.prototype.prepareRender=function(ctx){this._primaryCursor.prepareRender(ctx);for(var i=0,len=this._secondaryCursors.length;i<len;i++)this._secondaryCursors[i].prepareRender(ctx)},ViewCursors.prototype.render=function(ctx){var renderData=[],renderDataLen=0,primaryRenderData=this._primaryCursor.render(ctx);primaryRenderData&&(renderData[renderDataLen++]=primaryRenderData);for(var i=0,len=this._secondaryCursors.length;i<len;i++){var secondaryRenderData=this._secondaryCursors[i].render(ctx);secondaryRenderData&&(renderData[renderDataLen++]=secondaryRenderData)}this._renderData=renderData},ViewCursors.prototype.getLastRenderData=function(){return this._renderData},ViewCursors.BLINK_INTERVAL=500,ViewCursors}(ViewPart);Object(common_themeService.e)(function(theme,collector){var caret=theme.getColor(editorColorRegistry.g);if(caret){var caretBackground=theme.getColor(editorColorRegistry.f);caretBackground||(caretBackground=caret.opposite()),collector.addRule(".monaco-editor .cursor { background-color: "+caret+"; border-color: "+caret+"; color: "+caretBackground+"; }"),theme.type==="hc"&&collector.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+caretBackground+"; border-right: 1px solid "+caretBackground+"; }")}});var viewZones_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),invalidFunc=function(){throw new Error("Invalid change accessor")},viewZones_ViewZones=function(_super){viewZones_extends(ViewZones,_super);function ViewZones(context){var _this=_super.call(this,context)||this,options=_this._context.configuration.options,layoutInfo=options.get(103);return _this._lineHeight=options.get(47),_this._contentWidth=layoutInfo.contentWidth,_this._contentLeft=layoutInfo.contentLeft,_this.domNode=Object(fastDomNode.b)(document.createElement("div")),_this.domNode.setClassName("view-zones"),_this.domNode.setPosition("absolute"),_this.domNode.setAttribute("role","presentation"),_this.domNode.setAttribute("aria-hidden","true"),_this.marginDomNode=Object(fastDomNode.b)(document.createElement("div")),_this.marginDomNode.setClassName("margin-view-zones"),_this.marginDomNode.setPosition("absolute"),_this.marginDomNode.setAttribute("role","presentation"),_this.marginDomNode.setAttribute("aria-hidden","true"),_this._zones={},_this}return ViewZones.prototype.dispose=function(){_super.prototype.dispose.call(this),this._zones={}},ViewZones.prototype._recomputeWhitespacesProps=function(){for(var _this=this,whitespaces=this._context.viewLayout.getWhitespaces(),oldWhitespaces=new Map,_i=0,whitespaces_1=whitespaces;_i<whitespaces_1.length;_i++){var whitespace=whitespaces_1[_i];oldWhitespaces.set(whitespace.id,whitespace)}return this._context.viewLayout.changeWhitespace(function(whitespaceAccessor){for(var hadAChange=!1,keys=Object.keys(_this._zones),i=0,len=keys.length;i<len;i++){var id=keys[i],zone=_this._zones[id],props=_this._computeWhitespaceProps(zone.delegate),oldWhitespace=oldWhitespaces.get(id);oldWhitespace&&(oldWhitespace.afterLineNumber!==props.afterViewLineNumber||oldWhitespace.height!==props.heightInPx)&&(whitespaceAccessor.changeOneWhitespace(id,props.afterViewLineNumber,props.heightInPx),_this._safeCallOnComputedHeight(zone.delegate,props.heightInPx),hadAChange=!0)}return hadAChange})},ViewZones.prototype.onConfigurationChanged=function(e){var options=this._context.configuration.options,layoutInfo=options.get(103);return this._lineHeight=options.get(47),this._contentWidth=layoutInfo.contentWidth,this._contentLeft=layoutInfo.contentLeft,e.hasChanged(47)&&this._recomputeWhitespacesProps(),!0},ViewZones.prototype.onLineMappingChanged=function(e){var hadAChange=this._recomputeWhitespacesProps();return hadAChange&&this._context.viewLayout.onHeightMaybeChanged(),hadAChange},ViewZones.prototype.onLinesDeleted=function(e){return!0},ViewZones.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},ViewZones.prototype.onZonesChanged=function(e){return!0},ViewZones.prototype.onLinesInserted=function(e){return!0},ViewZones.prototype._getZoneOrdinal=function(zone){return typeof zone.afterColumn<"u"?zone.afterColumn:1e4},ViewZones.prototype._computeWhitespaceProps=function(zone){if(zone.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(zone),minWidthInPx:this._minWidthInPixels(zone)};var zoneAfterModelPosition;if(typeof zone.afterColumn<"u")zoneAfterModelPosition=this._context.model.validateModelPosition({lineNumber:zone.afterLineNumber,column:zone.afterColumn});else{var validAfterLineNumber=this._context.model.validateModelPosition({lineNumber:zone.afterLineNumber,column:1}).lineNumber;zoneAfterModelPosition=new core_position.a(validAfterLineNumber,this._context.model.getModelLineMaxColumn(validAfterLineNumber))}var zoneBeforeModelPosition;zoneAfterModelPosition.column===this._context.model.getModelLineMaxColumn(zoneAfterModelPosition.lineNumber)?zoneBeforeModelPosition=this._context.model.validateModelPosition({lineNumber:zoneAfterModelPosition.lineNumber+1,column:1}):zoneBeforeModelPosition=this._context.model.validateModelPosition({lineNumber:zoneAfterModelPosition.lineNumber,column:zoneAfterModelPosition.column+1});var viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(zoneAfterModelPosition),isVisible=this._context.model.coordinatesConverter.modelPositionIsVisible(zoneBeforeModelPosition);return{afterViewLineNumber:viewPosition.lineNumber,heightInPx:isVisible?this._heightInPixels(zone):0,minWidthInPx:this._minWidthInPixels(zone)}},ViewZones.prototype.changeViewZones=function(callback){var _this=this;return this._context.viewLayout.changeWhitespace(function(whitespaceAccessor){var zonesHaveChanged=!1,changeAccessor={addZone:function(zone){return zonesHaveChanged=!0,_this._addZone(whitespaceAccessor,zone)},removeZone:function(id){id&&(zonesHaveChanged=_this._removeZone(whitespaceAccessor,id)||zonesHaveChanged)},layoutZone:function(id){id&&(zonesHaveChanged=_this._layoutZone(whitespaceAccessor,id)||zonesHaveChanged)}};return safeInvoke1Arg(callback,changeAccessor),changeAccessor.addZone=invalidFunc,changeAccessor.removeZone=invalidFunc,changeAccessor.layoutZone=invalidFunc,zonesHaveChanged})},ViewZones.prototype._addZone=function(whitespaceAccessor,zone){var props=this._computeWhitespaceProps(zone),whitespaceId=whitespaceAccessor.insertWhitespace(props.afterViewLineNumber,this._getZoneOrdinal(zone),props.heightInPx,props.minWidthInPx),myZone={whitespaceId,delegate:zone,isVisible:!1,domNode:Object(fastDomNode.b)(zone.domNode),marginDomNode:zone.marginDomNode?Object(fastDomNode.b)(zone.marginDomNode):null};return this._safeCallOnComputedHeight(myZone.delegate,props.heightInPx),myZone.domNode.setPosition("absolute"),myZone.domNode.domNode.style.width="100%",myZone.domNode.setDisplay("none"),myZone.domNode.setAttribute("monaco-view-zone",myZone.whitespaceId),this.domNode.appendChild(myZone.domNode),myZone.marginDomNode&&(myZone.marginDomNode.setPosition("absolute"),myZone.marginDomNode.domNode.style.width="100%",myZone.marginDomNode.setDisplay("none"),myZone.marginDomNode.setAttribute("monaco-view-zone",myZone.whitespaceId),this.marginDomNode.appendChild(myZone.marginDomNode)),this._zones[myZone.whitespaceId]=myZone,this.setShouldRender(),myZone.whitespaceId},ViewZones.prototype._removeZone=function(whitespaceAccessor,id){if(this._zones.hasOwnProperty(id)){var zone=this._zones[id];return delete this._zones[id],whitespaceAccessor.removeWhitespace(zone.whitespaceId),zone.domNode.removeAttribute("monaco-visible-view-zone"),zone.domNode.removeAttribute("monaco-view-zone"),zone.domNode.domNode.parentNode.removeChild(zone.domNode.domNode),zone.marginDomNode&&(zone.marginDomNode.removeAttribute("monaco-visible-view-zone"),zone.marginDomNode.removeAttribute("monaco-view-zone"),zone.marginDomNode.domNode.parentNode.removeChild(zone.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},ViewZones.prototype._layoutZone=function(whitespaceAccessor,id){if(this._zones.hasOwnProperty(id)){var zone=this._zones[id],props=this._computeWhitespaceProps(zone.delegate);return whitespaceAccessor.changeOneWhitespace(zone.whitespaceId,props.afterViewLineNumber,props.heightInPx),this._safeCallOnComputedHeight(zone.delegate,props.heightInPx),this.setShouldRender(),!0}return!1},ViewZones.prototype.shouldSuppressMouseDownOnViewZone=function(id){if(this._zones.hasOwnProperty(id)){var zone=this._zones[id];return!!zone.delegate.suppressMouseDown}return!1},ViewZones.prototype._heightInPixels=function(zone){return typeof zone.heightInPx=="number"?zone.heightInPx:typeof zone.heightInLines=="number"?this._lineHeight*zone.heightInLines:this._lineHeight},ViewZones.prototype._minWidthInPixels=function(zone){return typeof zone.minWidthInPx=="number"?zone.minWidthInPx:0},ViewZones.prototype._safeCallOnComputedHeight=function(zone,height){if(typeof zone.onComputedHeight=="function")try{zone.onComputedHeight(height)}catch(e){Object(errors.e)(e)}},ViewZones.prototype._safeCallOnDomNodeTop=function(zone,top){if(typeof zone.onDomNodeTop=="function")try{zone.onDomNodeTop(top)}catch(e){Object(errors.e)(e)}},ViewZones.prototype.prepareRender=function(ctx){},ViewZones.prototype.render=function(ctx){for(var visibleWhitespaces=ctx.viewportData.whitespaceViewportData,visibleZones={},hasVisibleZone=!1,i=0,len=visibleWhitespaces.length;i<len;i++)visibleZones[visibleWhitespaces[i].id]=visibleWhitespaces[i],hasVisibleZone=!0;for(var keys=Object.keys(this._zones),i=0,len=keys.length;i<len;i++){var id=keys[i],zone=this._zones[id],newTop=0,newHeight=0,newDisplay="none";visibleZones.hasOwnProperty(id)?(newTop=visibleZones[id].verticalOffset-ctx.bigNumbersDelta,newHeight=visibleZones[id].height,newDisplay="block",zone.isVisible||(zone.domNode.setAttribute("monaco-visible-view-zone","true"),zone.isVisible=!0),this._safeCallOnDomNodeTop(zone.delegate,ctx.getScrolledTopFromAbsoluteTop(visibleZones[id].verticalOffset))):(zone.isVisible&&(zone.domNode.removeAttribute("monaco-visible-view-zone"),zone.isVisible=!1),this._safeCallOnDomNodeTop(zone.delegate,ctx.getScrolledTopFromAbsoluteTop(-1e6))),zone.domNode.setTop(newTop),zone.domNode.setHeight(newHeight),zone.domNode.setDisplay(newDisplay),zone.marginDomNode&&(zone.marginDomNode.setTop(newTop),zone.marginDomNode.setHeight(newHeight),zone.marginDomNode.setDisplay(newDisplay))}hasVisibleZone&&(this.domNode.setWidth(Math.max(ctx.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},ViewZones}(ViewPart);function safeInvoke1Arg(func,arg1){try{return func(arg1)}catch(e){Object(errors.e)(e)}}var ViewContext=function(){function ViewContext2(configuration,theme,model,privateViewEventBus){this.configuration=configuration,this.theme=theme,this.model=model,this.viewLayout=model.viewLayout,this.privateViewEventBus=privateViewEventBus}return ViewContext2.prototype.addEventHandler=function(eventHandler){this.privateViewEventBus.addEventHandler(eventHandler)},ViewContext2.prototype.removeEventHandler=function(eventHandler){this.privateViewEventBus.removeEventHandler(eventHandler)},ViewContext2}(),ViewEventDispatcher=function(){function ViewEventDispatcher2(eventHandlerGateKeeper){this._eventHandlerGateKeeper=eventHandlerGateKeeper,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return ViewEventDispatcher2.prototype.addEventHandler=function(eventHandler){for(var i=0,len=this._eventHandlers.length;i<len;i++)this._eventHandlers[i]===eventHandler&&console.warn("Detected duplicate listener in ViewEventDispatcher",eventHandler);this._eventHandlers.push(eventHandler)},ViewEventDispatcher2.prototype.removeEventHandler=function(eventHandler){for(var i=0;i<this._eventHandlers.length;i++)if(this._eventHandlers[i]===eventHandler){this._eventHandlers.splice(i,1);break}},ViewEventDispatcher2.prototype.emit=function(event){this._eventQueue?this._eventQueue.push(event):this._eventQueue=[event],this._isConsumingQueue||this.consumeQueue()},ViewEventDispatcher2.prototype.emitMany=function(events){this._eventQueue?this._eventQueue=this._eventQueue.concat(events):this._eventQueue=events,this._isConsumingQueue||this.consumeQueue()},ViewEventDispatcher2.prototype.consumeQueue=function(){var _this=this;this._eventHandlerGateKeeper(function(){try{_this._isConsumingQueue=!0,_this._doConsumeQueue()}finally{_this._isConsumingQueue=!1}})},ViewEventDispatcher2.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var events=this._eventQueue;this._eventQueue=null;for(var eventHandlers=this._eventHandlers.slice(0),i=0,len=eventHandlers.length;i<len;i++)eventHandlers[i].handleEvents(events)}},ViewEventDispatcher2}(),viewLinesViewportData_ViewportData=function(){function ViewportData(selections,partialData,whitespaceViewportData,model){this.selections=selections,this.startLineNumber=partialData.startLineNumber|0,this.endLineNumber=partialData.endLineNumber|0,this.relativeVerticalOffset=partialData.relativeVerticalOffset,this.bigNumbersDelta=partialData.bigNumbersDelta|0,this.whitespaceViewportData=whitespaceViewportData,this._model=model,this.visibleRange=new core_range.a(partialData.startLineNumber,this._model.getLineMinColumn(partialData.startLineNumber),partialData.endLineNumber,this._model.getLineMaxColumn(partialData.endLineNumber))}return ViewportData.prototype.getViewLineRenderingData=function(lineNumber){return this._model.getViewLineRenderingData(this.visibleRange,lineNumber)},ViewportData.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},ViewportData}(),viewImpl_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),viewImpl_View=function(_super){viewImpl_extends(View,_super);function View(commandDelegate,configuration,themeService,model,cursor,outgoingEvents){var _this=_super.call(this)||this;_this._cursor=cursor,_this._renderAnimationFrame=null,_this.outgoingEvents=outgoingEvents;var viewController=new viewController_ViewController(configuration,model,_this.outgoingEvents,commandDelegate);_this.eventDispatcher=new ViewEventDispatcher(function(callback){return _this._renderOnce(callback)}),_this.eventDispatcher.addEventHandler(_this),_this._context=new ViewContext(configuration,themeService.getTheme(),model,_this.eventDispatcher),_this._register(themeService.onThemeChange(function(theme){_this._context.theme=theme,_this.eventDispatcher.emit(new ViewThemeChangedEvent),_this.render(!0,!1)})),_this.viewParts=[],_this._textAreaHandler=new textAreaHandler_TextAreaHandler(_this._context,viewController,_this.createTextAreaHandlerHelper()),_this.viewParts.push(_this._textAreaHandler),_this.linesContent=Object(fastDomNode.b)(document.createElement("div")),_this.linesContent.setClassName("lines-content monaco-editor-background"),_this.linesContent.setPosition("absolute"),_this.domNode=Object(fastDomNode.b)(document.createElement("div")),_this.domNode.setClassName(_this.getEditorClassName()),_this.overflowGuardContainer=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(_this.overflowGuardContainer,3),_this.overflowGuardContainer.setClassName("overflow-guard"),_this._scrollbar=new editorScrollbar_EditorScrollbar(_this._context,_this.linesContent,_this.domNode,_this.overflowGuardContainer),_this.viewParts.push(_this._scrollbar),_this.viewLines=new viewLines_ViewLines(_this._context,_this.linesContent),_this.viewZones=new viewZones_ViewZones(_this._context),_this.viewParts.push(_this.viewZones);var decorationsOverviewRuler=new decorationsOverviewRuler_DecorationsOverviewRuler(_this._context);_this.viewParts.push(decorationsOverviewRuler);var scrollDecoration=new scrollDecoration_ScrollDecorationViewPart(_this._context);_this.viewParts.push(scrollDecoration);var contentViewOverlays=new ContentViewOverlays(_this._context);_this.viewParts.push(contentViewOverlays),contentViewOverlays.addDynamicOverlay(new CurrentLineHighlightOverlay(_this._context)),contentViewOverlays.addDynamicOverlay(new SelectionsOverlay(_this._context)),contentViewOverlays.addDynamicOverlay(new indentGuides_IndentGuidesOverlay(_this._context)),contentViewOverlays.addDynamicOverlay(new decorations_DecorationsOverlay(_this._context));var marginViewOverlays=new viewOverlays_MarginViewOverlays(_this._context);_this.viewParts.push(marginViewOverlays),marginViewOverlays.addDynamicOverlay(new CurrentLineMarginHighlightOverlay(_this._context)),marginViewOverlays.addDynamicOverlay(new GlyphMarginOverlay(_this._context)),marginViewOverlays.addDynamicOverlay(new marginDecorations_MarginViewLineDecorationsOverlay(_this._context)),marginViewOverlays.addDynamicOverlay(new linesDecorations_LinesDecorationsOverlay(_this._context)),marginViewOverlays.addDynamicOverlay(new lineNumbers_LineNumbersOverlay(_this._context));var margin=new margin_Margin(_this._context);margin.getDomNode().appendChild(_this.viewZones.marginDomNode),margin.getDomNode().appendChild(marginViewOverlays.getDomNode()),_this.viewParts.push(margin),_this.contentWidgets=new contentWidgets_ViewContentWidgets(_this._context,_this.domNode),_this.viewParts.push(_this.contentWidgets),_this.viewCursors=new viewCursors_ViewCursors(_this._context),_this.viewParts.push(_this.viewCursors),_this.overlayWidgets=new overlayWidgets_ViewOverlayWidgets(_this._context),_this.viewParts.push(_this.overlayWidgets);var rulers=new rulers_Rulers(_this._context);_this.viewParts.push(rulers);var minimap=new minimap_Minimap(_this._context);if(_this.viewParts.push(minimap),decorationsOverviewRuler){var overviewRulerData=_this._scrollbar.getOverviewRulerLayoutInfo();overviewRulerData.parent.insertBefore(decorationsOverviewRuler.getDomNode(),overviewRulerData.insertBefore)}return _this.linesContent.appendChild(contentViewOverlays.getDomNode()),_this.linesContent.appendChild(rulers.domNode),_this.linesContent.appendChild(_this.viewZones.domNode),_this.linesContent.appendChild(_this.viewLines.getDomNode()),_this.linesContent.appendChild(_this.contentWidgets.domNode),_this.linesContent.appendChild(_this.viewCursors.getDomNode()),_this.overflowGuardContainer.appendChild(margin.getDomNode()),_this.overflowGuardContainer.appendChild(_this._scrollbar.getDomNode()),_this.overflowGuardContainer.appendChild(scrollDecoration.getDomNode()),_this.overflowGuardContainer.appendChild(_this._textAreaHandler.textArea),_this.overflowGuardContainer.appendChild(_this._textAreaHandler.textAreaCover),_this.overflowGuardContainer.appendChild(_this.overlayWidgets.getDomNode()),_this.overflowGuardContainer.appendChild(minimap.getDomNode()),_this.domNode.appendChild(_this.overflowGuardContainer),_this.domNode.appendChild(_this.contentWidgets.overflowingContentWidgetsDomNode),_this._applyLayout(),_this.pointerHandler=_this._register(new pointerHandler_PointerHandler(_this._context,viewController,_this.createPointerHandlerHelper())),_this._register(model.addEventListener(function(events){_this.eventDispatcher.emitMany(events)})),_this._register(_this._cursor.addEventListener(function(events){_this.eventDispatcher.emitMany(events)})),_this}return View.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},View.prototype.createPointerHandlerHelper=function(){var _this=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){_this.focus()},getLastRenderData:function(){var lastViewCursorsRenderData=_this.viewCursors.getLastRenderData()||[],lastTextareaPosition=_this._textAreaHandler.getLastRenderData();return new PointerHandlerLastRenderData(lastViewCursorsRenderData,lastTextareaPosition)},shouldSuppressMouseDownOnViewZone:function(viewZoneId){return _this.viewZones.shouldSuppressMouseDownOnViewZone(viewZoneId)},shouldSuppressMouseDownOnWidget:function(widgetId){return _this.contentWidgets.shouldSuppressMouseDownOnWidget(widgetId)},getPositionFromDOMInfo:function(spanNode,offset){return _this._flushAccumulatedAndRenderNow(),_this.viewLines.getPositionFromDOMInfo(spanNode,offset)},visibleRangeForPosition:function(lineNumber,column){return _this._flushAccumulatedAndRenderNow(),_this.viewLines.visibleRangeForPosition(new core_position.a(lineNumber,column))},getLineWidth:function(lineNumber){return _this._flushAccumulatedAndRenderNow(),_this.viewLines.getLineWidth(lineNumber)}}},View.prototype.createTextAreaHandlerHelper=function(){var _this=this;return{visibleRangeForPositionRelativeToEditor:function(lineNumber,column){return _this._flushAccumulatedAndRenderNow(),_this.viewLines.visibleRangeForPosition(new core_position.a(lineNumber,column))}}},View.prototype._applyLayout=function(){var options=this._context.configuration.options,layoutInfo=options.get(103);this.domNode.setWidth(layoutInfo.width),this.domNode.setHeight(layoutInfo.height),this.overflowGuardContainer.setWidth(layoutInfo.width),this.overflowGuardContainer.setHeight(layoutInfo.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},View.prototype.getEditorClassName=function(){var focused=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(100)+" "+Object(common_themeService.d)(this._context.theme.type)+focused},View.prototype.onConfigurationChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._applyLayout(),!1},View.prototype.onFocusChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(e.isFocused),e.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},View.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},View.prototype.onThemeChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),!1},View.prototype.dispose=function(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.viewLines.dispose();for(var i=0,len=this.viewParts.length;i<len;i++)this.viewParts[i].dispose();this.viewParts=[],_super.prototype.dispose.call(this)},View.prototype._renderOnce=function(callback){var r=safeInvokeNoArg(callback);return this._scheduleRender(),r},View.prototype._scheduleRender=function(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=dom.R(this._onRenderScheduled.bind(this),100))},View.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},View.prototype._renderNow=function(){var _this=this;safeInvokeNoArg(function(){return _this._actualRender()})},View.prototype._getViewPartsToRender=function(){for(var result=[],resultLen=0,i=0,len=this.viewParts.length;i<len;i++){var viewPart=this.viewParts[i];viewPart.shouldRender()&&(result[resultLen++]=viewPart)}return result},View.prototype._actualRender=function(){if(dom.K(this.domNode.domNode)){var viewPartsToRender=this._getViewPartsToRender();if(!(!this.viewLines.shouldRender()&&viewPartsToRender.length===0)){var partialViewportData=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(partialViewportData.startLineNumber,partialViewportData.endLineNumber,partialViewportData.centeredLineNumber);var viewportData=new viewLinesViewportData_ViewportData(this._cursor.getViewSelections(),partialViewportData,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(viewportData),this.viewLines.shouldRender()&&(this.viewLines.renderText(viewportData),this.viewLines.onDidRender(),viewPartsToRender=this._getViewPartsToRender());for(var renderingContext=new RenderingContext(this._context.viewLayout,viewportData,this.viewLines),i=0,len=viewPartsToRender.length;i<len;i++){var viewPart=viewPartsToRender[i];viewPart.prepareRender(renderingContext)}for(var i=0,len=viewPartsToRender.length;i<len;i++){var viewPart=viewPartsToRender[i];viewPart.render(renderingContext),viewPart.onDidRender()}}}},View.prototype.delegateVerticalScrollbarMouseDown=function(browserEvent){this._scrollbar.delegateVerticalScrollbarMouseDown(browserEvent)},View.prototype.restoreState=function(scrollPosition){this._context.viewLayout.setScrollPositionNow({scrollTop:scrollPosition.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:scrollPosition.scrollLeft})},View.prototype.getOffsetForColumn=function(modelLineNumber,modelColumn){var modelPosition=this._context.model.validateModelPosition({lineNumber:modelLineNumber,column:modelColumn}),viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);this._flushAccumulatedAndRenderNow();var visibleRange=this.viewLines.visibleRangeForPosition(new core_position.a(viewPosition.lineNumber,viewPosition.column));return visibleRange?visibleRange.left:-1},View.prototype.getTargetAtClientPoint=function(clientX,clientY){var mouseTarget=this.pointerHandler.getTargetAtClientPoint(clientX,clientY);return mouseTarget?ViewOutgoingEvents.convertViewToModelMouseTarget(mouseTarget,this._context.model.coordinatesConverter):null},View.prototype.createOverviewRuler=function(cssClassName){return new overviewRuler_OverviewRuler(this._context,cssClassName)},View.prototype.change=function(callback){var _this=this;return this._renderOnce(function(){var zonesHaveChanged=_this.viewZones.changeViewZones(callback);return zonesHaveChanged&&(_this._context.viewLayout.onHeightMaybeChanged(),_this._context.privateViewEventBus.emit(new ViewZonesChangedEvent)),zonesHaveChanged})},View.prototype.render=function(now,everything){if(everything){this.viewLines.forceShouldRender();for(var i=0,len=this.viewParts.length;i<len;i++){var viewPart=this.viewParts[i];viewPart.forceShouldRender()}}now?this._flushAccumulatedAndRenderNow():this._scheduleRender()},View.prototype.focus=function(){this._textAreaHandler.focusTextArea()},View.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},View.prototype.addContentWidget=function(widgetData){this.contentWidgets.addWidget(widgetData.widget),this.layoutContentWidget(widgetData),this._scheduleRender()},View.prototype.layoutContentWidget=function(widgetData){var newPosition=widgetData.position?widgetData.position.position:null,newRange=widgetData.position&&widgetData.position.range||null,newPreference=widgetData.position?widgetData.position.preference:null;this.contentWidgets.setWidgetPosition(widgetData.widget,newPosition,newRange,newPreference),this._scheduleRender()},View.prototype.removeContentWidget=function(widgetData){this.contentWidgets.removeWidget(widgetData.widget),this._scheduleRender()},View.prototype.addOverlayWidget=function(widgetData){this.overlayWidgets.addWidget(widgetData.widget),this.layoutOverlayWidget(widgetData),this._scheduleRender()},View.prototype.layoutOverlayWidget=function(widgetData){var newPreference=widgetData.position?widgetData.position.preference:null,shouldRender=this.overlayWidgets.setWidgetPosition(widgetData.widget,newPreference);shouldRender&&this._scheduleRender()},View.prototype.removeOverlayWidget=function(widgetData){this.overlayWidgets.removeWidget(widgetData.widget),this._scheduleRender()},View}(ViewEventHandler);function safeInvokeNoArg(func){try{return func()}catch(e){Object(errors.e)(e)}}var oneCursor_OneCursor=function(){function OneCursor(context){this._selTrackedRange=null,this._trackSelection=!0,this._setState(context,new cursorCommon.f(new core_range.a(1,1,1,1),0,new core_position.a(1,1),0),new cursorCommon.f(new core_range.a(1,1,1,1),0,new core_position.a(1,1),0))}return OneCursor.prototype.dispose=function(context){this._removeTrackedRange(context)},OneCursor.prototype.startTrackingSelection=function(context){this._trackSelection=!0,this._updateTrackedRange(context)},OneCursor.prototype.stopTrackingSelection=function(context){this._trackSelection=!1,this._removeTrackedRange(context)},OneCursor.prototype._updateTrackedRange=function(context){this._trackSelection&&(this._selTrackedRange=context.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))},OneCursor.prototype._removeTrackedRange=function(context){this._selTrackedRange=context.model._setTrackedRange(this._selTrackedRange,null,0)},OneCursor.prototype.asCursorState=function(){return new cursorCommon.d(this.modelState,this.viewState)},OneCursor.prototype.readSelectionFromMarkers=function(context){var range=context.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new core_selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn):new core_selection.a(range.endLineNumber,range.endColumn,range.startLineNumber,range.startColumn)},OneCursor.prototype.ensureValidState=function(context){this._setState(context,this.modelState,this.viewState)},OneCursor.prototype.setState=function(context,modelState,viewState){this._setState(context,modelState,viewState)},OneCursor.prototype._setState=function(context,modelState,viewState){if(modelState){var selectionStart=context.model.validateRange(modelState.selectionStart),selectionStartLeftoverVisibleColumns=modelState.selectionStart.equalsRange(selectionStart)?modelState.selectionStartLeftoverVisibleColumns:0,position=context.model.validatePosition(modelState.position),leftoverVisibleColumns=modelState.position.equals(position)?modelState.leftoverVisibleColumns:0;modelState=new cursorCommon.f(selectionStart,selectionStartLeftoverVisibleColumns,position,leftoverVisibleColumns)}else{if(!viewState)return;var selectionStart=context.model.validateRange(context.convertViewRangeToModelRange(viewState.selectionStart)),position=context.model.validatePosition(context.convertViewPositionToModelPosition(viewState.position.lineNumber,viewState.position.column));modelState=new cursorCommon.f(selectionStart,viewState.selectionStartLeftoverVisibleColumns,position,viewState.leftoverVisibleColumns)}if(viewState){var viewSelectionStart=context.validateViewRange(viewState.selectionStart,modelState.selectionStart),viewPosition=context.validateViewPosition(viewState.position,modelState.position);viewState=new cursorCommon.f(viewSelectionStart,modelState.selectionStartLeftoverVisibleColumns,viewPosition,modelState.leftoverVisibleColumns)}else{var viewSelectionStart1=context.convertModelPositionToViewPosition(new core_position.a(modelState.selectionStart.startLineNumber,modelState.selectionStart.startColumn)),viewSelectionStart2=context.convertModelPositionToViewPosition(new core_position.a(modelState.selectionStart.endLineNumber,modelState.selectionStart.endColumn)),viewSelectionStart=new core_range.a(viewSelectionStart1.lineNumber,viewSelectionStart1.column,viewSelectionStart2.lineNumber,viewSelectionStart2.column),viewPosition=context.convertModelPositionToViewPosition(modelState.position);viewState=new cursorCommon.f(viewSelectionStart,modelState.selectionStartLeftoverVisibleColumns,viewPosition,modelState.leftoverVisibleColumns)}this.modelState=modelState,this.viewState=viewState,this._updateTrackedRange(context)},OneCursor}(),cursorCollection_CursorCollection=function(){function CursorCollection(context){this.context=context,this.primaryCursor=new oneCursor_OneCursor(context),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return CursorCollection.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},CursorCollection.prototype.startTrackingSelections=function(){this.primaryCursor.startTrackingSelection(this.context);for(var i=0,len=this.secondaryCursors.length;i<len;i++)this.secondaryCursors[i].startTrackingSelection(this.context)},CursorCollection.prototype.stopTrackingSelections=function(){this.primaryCursor.stopTrackingSelection(this.context);for(var i=0,len=this.secondaryCursors.length;i<len;i++)this.secondaryCursors[i].stopTrackingSelection(this.context)},CursorCollection.prototype.updateContext=function(context){this.context=context},CursorCollection.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var i=0,len=this.secondaryCursors.length;i<len;i++)this.secondaryCursors[i].ensureValidState(this.context)},CursorCollection.prototype.readSelectionFromMarkers=function(){var result=[];result[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].readSelectionFromMarkers(this.context);return result},CursorCollection.prototype.getAll=function(){var result=[];result[0]=this.primaryCursor.asCursorState();for(var i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].asCursorState();return result},CursorCollection.prototype.getViewPositions=function(){var result=[];result[0]=this.primaryCursor.viewState.position;for(var i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].viewState.position;return result},CursorCollection.prototype.getSelections=function(){var result=[];result[0]=this.primaryCursor.modelState.selection;for(var i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].modelState.selection;return result},CursorCollection.prototype.getViewSelections=function(){var result=[];result[0]=this.primaryCursor.viewState.selection;for(var i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].viewState.selection;return result},CursorCollection.prototype.setSelections=function(selections){this.setStates(cursorCommon.d.fromModelSelections(selections))},CursorCollection.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},CursorCollection.prototype.setStates=function(states){states!==null&&(this.primaryCursor.setState(this.context,states[0].modelState,states[0].viewState),this._setSecondaryStates(states.slice(1)))},CursorCollection.prototype._setSecondaryStates=function(secondaryStates){var secondaryCursorsLength=this.secondaryCursors.length,secondaryStatesLength=secondaryStates.length;if(secondaryCursorsLength<secondaryStatesLength)for(var createCnt=secondaryStatesLength-secondaryCursorsLength,i=0;i<createCnt;i++)this._addSecondaryCursor();else if(secondaryCursorsLength>secondaryStatesLength)for(var removeCnt=secondaryCursorsLength-secondaryStatesLength,i=0;i<removeCnt;i++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var i=0;i<secondaryStatesLength;i++)this.secondaryCursors[i].setState(this.context,secondaryStates[i].modelState,secondaryStates[i].viewState)},CursorCollection.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},CursorCollection.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new oneCursor_OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},CursorCollection.prototype.getLastAddedCursorIndex=function(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex},CursorCollection.prototype._removeSecondaryCursor=function(removeIndex){this.lastAddedCursorIndex>=removeIndex+1&&this.lastAddedCursorIndex--,this.secondaryCursors[removeIndex].dispose(this.context),this.secondaryCursors.splice(removeIndex,1)},CursorCollection.prototype._getAll=function(){var result=[];result[0]=this.primaryCursor;for(var i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i];return result},CursorCollection.prototype.normalize=function(){if(this.secondaryCursors.length!==0){for(var cursors=this._getAll(),sortedCursors=[],i=0,len=cursors.length;i<len;i++)sortedCursors.push({index:i,selection:cursors[i].modelState.selection});sortedCursors.sort(function(a,b){return a.selection.startLineNumber===b.selection.startLineNumber?a.selection.startColumn-b.selection.startColumn:a.selection.startLineNumber-b.selection.startLineNumber});for(var sortedCursorIndex=0;sortedCursorIndex<sortedCursors.length-1;sortedCursorIndex++){var current=sortedCursors[sortedCursorIndex],next=sortedCursors[sortedCursorIndex+1],currentSelection=current.selection,nextSelection=next.selection;if(this.context.config.multiCursorMergeOverlapping){var shouldMergeCursors=void 0;if(nextSelection.isEmpty()||currentSelection.isEmpty()?shouldMergeCursors=nextSelection.getStartPosition().isBeforeOrEqual(currentSelection.getEndPosition()):shouldMergeCursors=nextSelection.getStartPosition().isBefore(currentSelection.getEndPosition()),shouldMergeCursors){var winnerSortedCursorIndex=current.index<next.index?sortedCursorIndex:sortedCursorIndex+1,looserSortedCursorIndex=current.index<next.index?sortedCursorIndex+1:sortedCursorIndex,looserIndex=sortedCursors[looserSortedCursorIndex].index,winnerIndex=sortedCursors[winnerSortedCursorIndex].index,looserSelection=sortedCursors[looserSortedCursorIndex].selection,winnerSelection=sortedCursors[winnerSortedCursorIndex].selection;if(!looserSelection.equalsSelection(winnerSelection)){var resultingRange=looserSelection.plusRange(winnerSelection),looserSelectionIsLTR=looserSelection.selectionStartLineNumber===looserSelection.startLineNumber&&looserSelection.selectionStartColumn===looserSelection.startColumn,winnerSelectionIsLTR=winnerSelection.selectionStartLineNumber===winnerSelection.startLineNumber&&winnerSelection.selectionStartColumn===winnerSelection.startColumn,resultingSelectionIsLTR=void 0;looserIndex===this.lastAddedCursorIndex?(resultingSelectionIsLTR=looserSelectionIsLTR,this.lastAddedCursorIndex=winnerIndex):resultingSelectionIsLTR=winnerSelectionIsLTR;var resultingSelection=void 0;resultingSelectionIsLTR?resultingSelection=new core_selection.a(resultingRange.startLineNumber,resultingRange.startColumn,resultingRange.endLineNumber,resultingRange.endColumn):resultingSelection=new core_selection.a(resultingRange.endLineNumber,resultingRange.endColumn,resultingRange.startLineNumber,resultingRange.startColumn),sortedCursors[winnerSortedCursorIndex].selection=resultingSelection;var resultingState=cursorCommon.d.fromModelSelection(resultingSelection);cursors[winnerIndex].setState(this.context,resultingState.modelState,resultingState.viewState)}for(var _i=0,sortedCursors_1=sortedCursors;_i<sortedCursors_1.length;_i++){var sortedCursor=sortedCursors_1[_i];sortedCursor.index>looserIndex&&sortedCursor.index--}cursors.splice(looserIndex,1),sortedCursors.splice(looserSortedCursorIndex,1),this._removeSecondaryCursor(looserIndex-1),sortedCursorIndex--}}}}},CursorCollection}(),cursorDeleteOperations=__webpack_require__(3872),cursorTypeOperations=__webpack_require__(3603),editorCommon=__webpack_require__(3196),cursor_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function containsLineMappingChanged(events){for(var i=0,len=events.length;i<len;i++)if(events[i].type===6)return!0;return!1}var CursorStateChangedEvent=function(){function CursorStateChangedEvent2(selections,modelVersionId,oldSelections,oldModelVersionId,source,reason){this.selections=selections,this.modelVersionId=modelVersionId,this.oldSelections=oldSelections,this.oldModelVersionId=oldModelVersionId,this.source=source,this.reason=reason}return CursorStateChangedEvent2}(),CursorModelState=function(){function CursorModelState2(model,cursor){this.modelVersionId=model.getVersionId(),this.cursorState=cursor.getAll()}return CursorModelState2.prototype.equals=function(other){if(!other||this.modelVersionId!==other.modelVersionId||this.cursorState.length!==other.cursorState.length)return!1;for(var i=0,len=this.cursorState.length;i<len;i++)if(!this.cursorState[i].equals(other.cursorState[i]))return!1;return!0},CursorModelState2}(),cursor_AutoClosedAction=function(){function AutoClosedAction(model,autoClosedCharactersDecorations,autoClosedEnclosingDecorations){this._model=model,this._autoClosedCharactersDecorations=autoClosedCharactersDecorations,this._autoClosedEnclosingDecorations=autoClosedEnclosingDecorations}return AutoClosedAction.getAllAutoClosedCharacters=function(autoClosedActions){for(var autoClosedCharacters=[],_i=0,autoClosedActions_1=autoClosedActions;_i<autoClosedActions_1.length;_i++){var autoClosedAction=autoClosedActions_1[_i];autoClosedCharacters=autoClosedCharacters.concat(autoClosedAction.getAutoClosedCharactersRanges())}return autoClosedCharacters},AutoClosedAction.prototype.dispose=function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])},AutoClosedAction.prototype.getAutoClosedCharactersRanges=function(){for(var result=[],i=0;i<this._autoClosedCharactersDecorations.length;i++){var decorationRange=this._model.getDecorationRange(this._autoClosedCharactersDecorations[i]);decorationRange&&result.push(decorationRange)}return result},AutoClosedAction.prototype.isValid=function(selections){for(var enclosingRanges=[],i=0;i<this._autoClosedEnclosingDecorations.length;i++){var decorationRange=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(decorationRange&&(enclosingRanges.push(decorationRange),decorationRange.startLineNumber!==decorationRange.endLineNumber))return!1}enclosingRanges.sort(core_range.a.compareRangesUsingStarts),selections.sort(core_range.a.compareRangesUsingStarts);for(var i=0;i<selections.length;i++)if(i>=enclosingRanges.length||!enclosingRanges[i].strictContainsRange(selections[i]))return!1;return!0},AutoClosedAction}(),cursor_Cursor=function(_super){cursor_extends(Cursor,_super);function Cursor(configuration,model,viewModel){var _this=_super.call(this)||this;_this._onDidReachMaxCursorCount=_this._register(new common_event.a),_this.onDidReachMaxCursorCount=_this._onDidReachMaxCursorCount.event,_this._onDidAttemptReadOnlyEdit=_this._register(new common_event.a),_this.onDidAttemptReadOnlyEdit=_this._onDidAttemptReadOnlyEdit.event,_this._onDidChange=_this._register(new common_event.a),_this.onDidChange=_this._onDidChange.event,_this._configuration=configuration,_this._model=model,_this._knownModelVersionId=_this._model.getVersionId(),_this._viewModel=viewModel,_this.context=new cursorCommon.c(_this._configuration,_this._model,_this._viewModel),_this._cursors=new cursorCollection_CursorCollection(_this.context),_this._isHandling=!1,_this._isDoingComposition=!1,_this._selectionsWhenCompositionStarted=null,_this._columnSelectData=null,_this._autoClosedActions=[],_this._prevEditOperationType=0,_this._register(_this._model.onDidChangeRawContent(function(e){if(_this._knownModelVersionId=e.versionId,!_this._isHandling){var hadFlushEvent=e.containsEvent(1);_this._onModelContentChanged(hadFlushEvent)}})),_this._register(viewModel.addEventListener(function(events){containsLineMappingChanged(events)&&_this._knownModelVersionId===_this._model.getVersionId()&&_this.setStates("viewModel",0,_this.getAll())}));var updateCursorContext=function(){_this.context=new cursorCommon.c(_this._configuration,_this._model,_this._viewModel),_this._cursors.updateContext(_this.context)};return _this._register(_this._model.onDidChangeLanguage(function(e){updateCursorContext()})),_this._register(_this._model.onDidChangeLanguageConfiguration(function(){updateCursorContext()})),_this._register(_this._model.onDidChangeOptions(function(){updateCursorContext()})),_this._register(_this._configuration.onDidChange(function(e){cursorCommon.b.shouldRecreate(e)&&updateCursorContext()})),_this}return Cursor.prototype.dispose=function(){this._cursors.dispose(),this._autoClosedActions=Object(lifecycle.f)(this._autoClosedActions),_super.prototype.dispose.call(this)},Cursor.prototype._validateAutoClosedActions=function(){if(this._autoClosedActions.length>0)for(var selections=this._cursors.getSelections(),i=0;i<this._autoClosedActions.length;i++){var autoClosedAction=this._autoClosedActions[i];autoClosedAction.isValid(selections)||(autoClosedAction.dispose(),this._autoClosedActions.splice(i,1),i--)}},Cursor.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},Cursor.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},Cursor.prototype.getAll=function(){return this._cursors.getAll()},Cursor.prototype.setStates=function(source,reason,states){states!==null&&states.length>Cursor.MAX_CURSOR_COUNT&&(states=states.slice(0,Cursor.MAX_CURSOR_COUNT),this._onDidReachMaxCursorCount.fire(void 0));var oldState=new CursorModelState(this._model,this);this._cursors.setStates(states),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(source,reason,oldState)},Cursor.prototype.setColumnSelectData=function(columnSelectData){this._columnSelectData=columnSelectData},Cursor.prototype.reveal=function(source,horizontal,target,scrollType){this._revealRange(source,target,0,horizontal,scrollType)},Cursor.prototype.revealRange=function(source,revealHorizontal,viewRange,verticalType,scrollType){this.emitCursorRevealRange(source,viewRange,verticalType,revealHorizontal,scrollType)},Cursor.prototype.scrollTo=function(desiredScrollTop){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:desiredScrollTop})},Cursor.prototype.saveState=function(){for(var result=[],selections=this._cursors.getSelections(),i=0,len=selections.length;i<len;i++){var selection=selections[i];result.push({inSelectionMode:!selection.isEmpty(),selectionStart:{lineNumber:selection.selectionStartLineNumber,column:selection.selectionStartColumn},position:{lineNumber:selection.positionLineNumber,column:selection.positionColumn}})}return result},Cursor.prototype.restoreState=function(states){for(var desiredSelections=[],i=0,len=states.length;i<len;i++){var state=states[i],positionLineNumber=1,positionColumn=1;state.position&&state.position.lineNumber&&(positionLineNumber=state.position.lineNumber),state.position&&state.position.column&&(positionColumn=state.position.column);var selectionStartLineNumber=positionLineNumber,selectionStartColumn=positionColumn;state.selectionStart&&state.selectionStart.lineNumber&&(selectionStartLineNumber=state.selectionStart.lineNumber),state.selectionStart&&state.selectionStart.column&&(selectionStartColumn=state.selectionStart.column),desiredSelections.push({selectionStartLineNumber,selectionStartColumn,positionLineNumber,positionColumn})}this.setStates("restoreState",0,cursorCommon.d.fromModelSelections(desiredSelections)),this.reveal("restoreState",!0,0,1)},Cursor.prototype._onModelContentChanged=function(hadFlushEvent){if(this._prevEditOperationType=0,hadFlushEvent)this._cursors.dispose(),this._cursors=new cursorCollection_CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary("model",1,null);else{var selectionsFromMarkers=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",2,cursorCommon.d.fromModelSelections(selectionsFromMarkers))}},Cursor.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},Cursor.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var primaryCursor=this._cursors.getPrimaryCursor(),primaryPos=primaryCursor.viewState.selectionStart.getStartPosition(),viewLineNumber=primaryPos.lineNumber,viewVisualColumn=cursorCommon.a.visibleColumnFromColumn2(this.context.config,this.context.viewModel,primaryPos);return{isReal:!1,fromViewLineNumber:viewLineNumber,fromViewVisualColumn:viewVisualColumn,toViewLineNumber:viewLineNumber,toViewVisualColumn:viewVisualColumn}},Cursor.prototype.getSelections=function(){return this._cursors.getSelections()},Cursor.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},Cursor.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},Cursor.prototype.setSelections=function(source,selections){this.setStates(source,0,cursorCommon.d.fromModelSelections(selections))},Cursor.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType},Cursor.prototype.setPrevEditOperationType=function(type){this._prevEditOperationType=type},Cursor.prototype._pushAutoClosedAction=function(autoClosedCharactersRanges,autoClosedEnclosingRanges){for(var autoClosedCharactersDeltaDecorations=[],autoClosedEnclosingDeltaDecorations=[],i=0,len=autoClosedCharactersRanges.length;i<len;i++)autoClosedCharactersDeltaDecorations.push({range:autoClosedCharactersRanges[i],options:{inlineClassName:"auto-closed-character",stickiness:1}}),autoClosedEnclosingDeltaDecorations.push({range:autoClosedEnclosingRanges[i],options:{stickiness:1}});var autoClosedCharactersDecorations=this._model.deltaDecorations([],autoClosedCharactersDeltaDecorations),autoClosedEnclosingDecorations=this._model.deltaDecorations([],autoClosedEnclosingDeltaDecorations);this._autoClosedActions.push(new cursor_AutoClosedAction(this._model,autoClosedCharactersDecorations,autoClosedEnclosingDecorations))},Cursor.prototype._executeEditOperation=function(opResult){if(opResult){opResult.shouldPushStackElementBefore&&this._model.pushStackElement();var result=cursor_CommandExecutor.executeCommands(this._model,this._cursors.getSelections(),opResult.commands);if(result){this._interpretCommandResult(result);for(var autoClosedCharactersRanges=[],autoClosedEnclosingRanges=[],i=0;i<opResult.commands.length;i++){var command=opResult.commands[i];command instanceof cursorTypeOperations.b&&command.enclosingRange&&command.closeCharacterRange&&(autoClosedCharactersRanges.push(command.closeCharacterRange),autoClosedEnclosingRanges.push(command.enclosingRange))}autoClosedCharactersRanges.length>0&&this._pushAutoClosedAction(autoClosedCharactersRanges,autoClosedEnclosingRanges),this._prevEditOperationType=opResult.type}opResult.shouldPushStackElementAfter&&this._model.pushStackElement()}},Cursor.prototype._interpretCommandResult=function(cursorState){(!cursorState||cursorState.length===0)&&(cursorState=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(cursorState),this._cursors.normalize()},Cursor.prototype._emitStateChangedIfNecessary=function(source,reason,oldState){var newState=new CursorModelState(this._model,this);if(newState.equals(oldState))return!1;var selections=this._cursors.getSelections(),viewSelections=this._cursors.getViewSelections();try{var eventsCollector=this._beginEmit();eventsCollector.emit(new ViewCursorStateChangedEvent(viewSelections))}finally{this._endEmit()}if(!oldState||oldState.cursorState.length!==newState.cursorState.length||newState.cursorState.some(function(newCursorState,i){return!newCursorState.modelState.equals(oldState.cursorState[i].modelState)})){var oldSelections=oldState?oldState.cursorState.map(function(s){return s.modelState.selection}):null,oldModelVersionId=oldState?oldState.modelVersionId:0;this._onDidChange.fire(new CursorStateChangedEvent(selections,newState.modelVersionId,oldSelections,oldModelVersionId,source||"keyboard",reason))}return!0},Cursor.prototype._revealRange=function(source,revealTarget,verticalType,revealHorizontal,scrollType){var viewPositions=this._cursors.getViewPositions(),viewPosition=viewPositions[0];if(revealTarget===1)for(var i=1;i<viewPositions.length;i++)viewPositions[i].isBefore(viewPosition)&&(viewPosition=viewPositions[i]);else if(revealTarget===2)for(var i=1;i<viewPositions.length;i++)viewPosition.isBeforeOrEqual(viewPositions[i])&&(viewPosition=viewPositions[i]);else if(viewPositions.length>1)return;var viewRange=new core_range.a(viewPosition.lineNumber,viewPosition.column,viewPosition.lineNumber,viewPosition.column);this.emitCursorRevealRange(source,viewRange,verticalType,revealHorizontal,scrollType)},Cursor.prototype.emitCursorRevealRange=function(source,viewRange,verticalType,revealHorizontal,scrollType){try{var eventsCollector=this._beginEmit();eventsCollector.emit(new ViewRevealRangeRequestEvent(source,viewRange,verticalType,revealHorizontal,scrollType))}finally{this._endEmit()}},Cursor.prototype._findAutoClosingPairs=function(edits){if(!edits.length)return null;for(var indices=[],i=0,len=edits.length;i<len;i++){var edit=edits[i];if(!edit.text||edit.text.indexOf(`
`)>=0)return null;var m=edit.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!m)return null;var closeChar=m[1],autoClosingPairsCandidates=this.context.config.autoClosingPairsClose2.get(closeChar);if(!autoClosingPairsCandidates||autoClosingPairsCandidates.length!==1)return null;var openChar=autoClosingPairsCandidates[0].open,closeCharIndex=edit.text.length-m[2].length-1,openCharIndex=edit.text.lastIndexOf(openChar,closeCharIndex-1);if(openCharIndex===-1)return null;indices.push([openCharIndex,closeCharIndex])}return indices},Cursor.prototype.executeEdits=function(source,edits,cursorStateComputer){var _this=this,autoClosingIndices=null;source==="snippet"&&(autoClosingIndices=this._findAutoClosingPairs(edits)),autoClosingIndices&&(edits[0]._isTracked=!0);var autoClosedCharactersRanges=[],autoClosedEnclosingRanges=[],selections=this._model.pushEditOperations(this.getSelections(),edits,function(undoEdits){if(autoClosingIndices)for(var i=0,len=autoClosingIndices.length;i<len;i++){var _a=autoClosingIndices[i],openCharInnerIndex=_a[0],closeCharInnerIndex=_a[1],undoEdit=undoEdits[i],lineNumber=undoEdit.range.startLineNumber,openCharIndex=undoEdit.range.startColumn-1+openCharInnerIndex,closeCharIndex=undoEdit.range.startColumn-1+closeCharInnerIndex;autoClosedCharactersRanges.push(new core_range.a(lineNumber,closeCharIndex+1,lineNumber,closeCharIndex+2)),autoClosedEnclosingRanges.push(new core_range.a(lineNumber,openCharIndex+1,lineNumber,closeCharIndex+2))}var selections2=cursorStateComputer(undoEdits);return selections2&&(_this._isHandling=!0),selections2});selections&&(this._isHandling=!1,this.setSelections(source,selections)),autoClosedCharactersRanges.length>0&&this._pushAutoClosedAction(autoClosedCharactersRanges,autoClosedEnclosingRanges)},Cursor.prototype.trigger=function(source,handlerId,payload){var H=editorCommon.b;if(handlerId===H.CompositionStart){this._isDoingComposition=!0,this._selectionsWhenCompositionStarted=this.getSelections().slice(0);return}if(handlerId===H.CompositionEnd&&(this._isDoingComposition=!1),this._configuration.options.get(65)){this._onDidAttemptReadOnlyEdit.fire(void 0);return}var oldState=new CursorModelState(this._model,this),cursorChangeReason=0;handlerId!==H.Undo&&handlerId!==H.Redo&&this._cursors.stopTrackingSelections(),this._cursors.ensureValidState(),this._isHandling=!0;try{switch(handlerId){case H.Type:this._type(source,payload.text);break;case H.ReplacePreviousChar:this._replacePreviousChar(payload.text,payload.replaceCharCnt);break;case H.Paste:cursorChangeReason=4,this._paste(payload.text,payload.pasteOnNewLine,payload.multicursorText);break;case H.Cut:this._cut();break;case H.Undo:cursorChangeReason=5,this._interpretCommandResult(this._model.undo());break;case H.Redo:cursorChangeReason=6,this._interpretCommandResult(this._model.redo());break;case H.ExecuteCommand:this._externalExecuteCommand(payload);break;case H.ExecuteCommands:this._externalExecuteCommands(payload);break;case H.CompositionEnd:this._interpretCompositionEnd(source);break}}catch(err){Object(errors.e)(err)}this._isHandling=!1,handlerId!==H.Undo&&handlerId!==H.Redo&&this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(source,cursorChangeReason,oldState)&&this._revealRange(source,0,0,!0,0)},Cursor.prototype._interpretCompositionEnd=function(source){if(!this._isDoingComposition&&source==="keyboard"){var autoClosedCharacters=cursor_AutoClosedAction.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(cursorTypeOperations.a.compositionEndWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this._selectionsWhenCompositionStarted,this.getSelections(),autoClosedCharacters)),this._selectionsWhenCompositionStarted=null}},Cursor.prototype._type=function(source,text){if(!this._isDoingComposition&&source==="keyboard")for(var len=text.length,offset=0;offset<len;){var charLength=strings.F(text,offset),chr=text.substr(offset,charLength),autoClosedCharacters=cursor_AutoClosedAction.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(cursorTypeOperations.a.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),autoClosedCharacters,chr)),offset+=charLength}else this._executeEditOperation(cursorTypeOperations.a.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),text))},Cursor.prototype._replacePreviousChar=function(text,replaceCharCnt){this._executeEditOperation(cursorTypeOperations.a.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),text,replaceCharCnt))},Cursor.prototype._paste=function(text,pasteOnNewLine,multicursorText){this._executeEditOperation(cursorTypeOperations.a.paste(this.context.config,this.context.model,this.getSelections(),text,pasteOnNewLine,multicursorText))},Cursor.prototype._cut=function(){this._executeEditOperation(cursorDeleteOperations.a.cut(this.context.config,this.context.model,this.getSelections()))},Cursor.prototype._externalExecuteCommand=function(command){this._cursors.killSecondaryCursors(),this._executeEditOperation(new cursorCommon.e(0,[command],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},Cursor.prototype._externalExecuteCommands=function(commands){this._executeEditOperation(new cursorCommon.e(0,commands,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},Cursor.MAX_CURSOR_COUNT=1e4,Cursor}(viewEvents_ViewEventEmitter),cursor_CommandExecutor=function(){function CommandExecutor(){}return CommandExecutor.executeCommands=function(model,selectionsBefore,commands){for(var ctx={model,selectionsBefore,trackedRanges:[],trackedRangesDirection:[]},result=this._innerExecuteCommands(ctx,commands),i=0,len=ctx.trackedRanges.length;i<len;i++)ctx.model._setTrackedRange(ctx.trackedRanges[i],null,0);return result},CommandExecutor._innerExecuteCommands=function(ctx,commands){if(this._arrayIsEmpty(commands))return null;var commandsData=this._getEditOperations(ctx,commands);if(commandsData.operations.length===0)return null;var rawOperations=commandsData.operations,loserCursorsMap=this._getLoserCursorMap(rawOperations);if(loserCursorsMap.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var filteredOperations=[],i=0,len=rawOperations.length;i<len;i++)loserCursorsMap.hasOwnProperty(rawOperations[i].identifier.major.toString())||filteredOperations.push(rawOperations[i]);commandsData.hadTrackedEditOperation&&filteredOperations.length>0&&(filteredOperations[0]._isTracked=!0);var selectionsAfter=ctx.model.pushEditOperations(ctx.selectionsBefore,filteredOperations,function(inverseEditOperations){for(var groupedInverseEditOperations=[],i2=0;i2<ctx.selectionsBefore.length;i2++)groupedInverseEditOperations[i2]=[];for(var _i2=0,inverseEditOperations_1=inverseEditOperations;_i2<inverseEditOperations_1.length;_i2++){var op=inverseEditOperations_1[_i2];op.identifier&&groupedInverseEditOperations[op.identifier.major].push(op)}for(var minorBasedSorter=function(a,b){return a.identifier.minor-b.identifier.minor},cursorSelections=[],_loop_1=function(i3){groupedInverseEditOperations[i3].length>0?(groupedInverseEditOperations[i3].sort(minorBasedSorter),cursorSelections[i3]=commands[i3].computeCursorState(ctx.model,{getInverseEditOperations:function(){return groupedInverseEditOperations[i3]},getTrackedSelection:function(id){var idx=parseInt(id,10),range=ctx.model._getTrackedRange(ctx.trackedRanges[idx]);return ctx.trackedRangesDirection[idx]===0?new core_selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn):new core_selection.a(range.endLineNumber,range.endColumn,range.startLineNumber,range.startColumn)}})):cursorSelections[i3]=ctx.selectionsBefore[i3]},i2=0;i2<ctx.selectionsBefore.length;i2++)_loop_1(i2);return cursorSelections});selectionsAfter||(selectionsAfter=ctx.selectionsBefore);var losingCursors=[];for(var losingCursorIndex in loserCursorsMap)loserCursorsMap.hasOwnProperty(losingCursorIndex)&&losingCursors.push(parseInt(losingCursorIndex,10));losingCursors.sort(function(a,b){return b-a});for(var _i=0,losingCursors_1=losingCursors;_i<losingCursors_1.length;_i++){var losingCursor=losingCursors_1[_i];selectionsAfter.splice(losingCursor,1)}return selectionsAfter},CommandExecutor._arrayIsEmpty=function(commands){for(var i=0,len=commands.length;i<len;i++)if(commands[i])return!1;return!0},CommandExecutor._getEditOperations=function(ctx,commands){for(var operations=[],hadTrackedEditOperation=!1,i=0,len=commands.length;i<len;i++){var command=commands[i];if(command){var r=this._getEditOperationsFromCommand(ctx,i,command);operations=operations.concat(r.operations),hadTrackedEditOperation=hadTrackedEditOperation||r.hadTrackedEditOperation}}return{operations,hadTrackedEditOperation}},CommandExecutor._getEditOperationsFromCommand=function(ctx,majorIdentifier,command){var operations=[],operationMinor=0,addEditOperation=function(selection,text){selection.isEmpty()&&text===""||operations.push({identifier:{major:majorIdentifier,minor:operationMinor++},range:selection,text,forceMoveMarkers:!1,isAutoWhitespaceEdit:command.insertsAutoWhitespace})},hadTrackedEditOperation=!1,addTrackedEditOperation=function(selection,text){hadTrackedEditOperation=!0,addEditOperation(selection,text)},trackSelection=function(selection,trackPreviousOnEmpty){var stickiness;if(selection.isEmpty())if(typeof trackPreviousOnEmpty=="boolean")trackPreviousOnEmpty?stickiness=2:stickiness=3;else{var maxLineColumn=ctx.model.getLineMaxColumn(selection.startLineNumber);selection.startColumn===maxLineColumn?stickiness=2:stickiness=3}else stickiness=1;var l=ctx.trackedRanges.length,id=ctx.model._setTrackedRange(null,selection,stickiness);return ctx.trackedRanges[l]=id,ctx.trackedRangesDirection[l]=selection.getDirection(),l.toString()},editOperationBuilder={addEditOperation,addTrackedEditOperation,trackSelection};try{command.getEditOperations(ctx.model,editOperationBuilder)}catch(e){return Object(errors.e)(e),{operations:[],hadTrackedEditOperation:!1}}return{operations,hadTrackedEditOperation}},CommandExecutor._getLoserCursorMap=function(operations){operations=operations.slice(0),operations.sort(function(a,b){return-core_range.a.compareRangesUsingEnds(a.range,b.range)});for(var loserCursorsMap={},i=1;i<operations.length;i++){var previousOp=operations[i-1],currentOp=operations[i];if(previousOp.range.getStartPosition().isBefore(currentOp.range.getEndPosition())){var loserMajor=void 0;previousOp.identifier.major>currentOp.identifier.major?loserMajor=previousOp.identifier.major:loserMajor=currentOp.identifier.major,loserCursorsMap[loserMajor.toString()]=!0;for(var j=0;j<operations.length;j++)operations[j].identifier.major===loserMajor&&(operations.splice(j,1),j<i&&i--,j--);i>0&&i--}}return loserCursorsMap},CommandExecutor}(),editorAction=__webpack_require__(3878),editorContextKeys=__webpack_require__(2632),textToHtmlTokenizer=__webpack_require__(3879),scrollable=__webpack_require__(3871),PendingChanges=function(){function PendingChanges2(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}return PendingChanges2.prototype.insert=function(x){this._hasPending=!0,this._inserts.push(x)},PendingChanges2.prototype.change=function(x){this._hasPending=!0,this._changes.push(x)},PendingChanges2.prototype.remove=function(x){this._hasPending=!0,this._removes.push(x)},PendingChanges2.prototype.mustCommit=function(){return this._hasPending},PendingChanges2.prototype.commit=function(linesLayout){if(this._hasPending){var inserts=this._inserts,changes=this._changes,removes=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],linesLayout._commitPendingChanges(inserts,changes,removes)}},PendingChanges2}(),EditorWhitespace=function(){function EditorWhitespace2(id,afterLineNumber,ordinal,height,minWidth){this.id=id,this.afterLineNumber=afterLineNumber,this.ordinal=ordinal,this.height=height,this.minWidth=minWidth,this.prefixSum=0}return EditorWhitespace2}(),linesLayout_LinesLayout=function(){function LinesLayout(lineCount,lineHeight){this._instanceId=strings.N(++LinesLayout.INSTANCE_COUNT),this._pendingChanges=new PendingChanges,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=lineCount,this._lineHeight=lineHeight}return LinesLayout.findInsertionIndex=function(arr,afterLineNumber,ordinal){for(var low=0,high=arr.length;low<high;){var mid=low+high>>>1;afterLineNumber===arr[mid].afterLineNumber?ordinal<arr[mid].ordinal?high=mid:low=mid+1:afterLineNumber<arr[mid].afterLineNumber?high=mid:low=mid+1}return low},LinesLayout.prototype.setLineHeight=function(lineHeight){this._checkPendingChanges(),this._lineHeight=lineHeight},LinesLayout.prototype.onFlushed=function(lineCount){this._checkPendingChanges(),this._lineCount=lineCount},LinesLayout.prototype.changeWhitespace=function(callback){var _this=this;try{var accessor={insertWhitespace:function(afterLineNumber,ordinal,heightInPx,minWidth){afterLineNumber=afterLineNumber|0,ordinal=ordinal|0,heightInPx=heightInPx|0,minWidth=minWidth|0;var id=_this._instanceId+ ++_this._lastWhitespaceId;return _this._pendingChanges.insert(new EditorWhitespace(id,afterLineNumber,ordinal,heightInPx,minWidth)),id},changeOneWhitespace:function(id,newAfterLineNumber,newHeight){newAfterLineNumber=newAfterLineNumber|0,newHeight=newHeight|0,_this._pendingChanges.change({id,newAfterLineNumber,newHeight})},removeWhitespace:function(id){_this._pendingChanges.remove({id})}};return callback(accessor)}finally{this._pendingChanges.commit(this)}},LinesLayout.prototype._commitPendingChanges=function(inserts,changes,removes){if((inserts.length>0||removes.length>0)&&(this._minWidth=-1),inserts.length+changes.length+removes.length<=1){for(var _i=0,inserts_1=inserts;_i<inserts_1.length;_i++){var insert=inserts_1[_i];this._insertWhitespace(insert)}for(var _a=0,changes_1=changes;_a<changes_1.length;_a++){var change=changes_1[_a];this._changeOneWhitespace(change.id,change.newAfterLineNumber,change.newHeight)}for(var _b=0,removes_1=removes;_b<removes_1.length;_b++){var remove=removes_1[_b],index=this._findWhitespaceIndex(remove.id);index!==-1&&this._removeWhitespace(index)}return}for(var toRemove=new Set,_c=0,removes_2=removes;_c<removes_2.length;_c++){var remove=removes_2[_c];toRemove.add(remove.id)}for(var toChange=new Map,_d=0,changes_2=changes;_d<changes_2.length;_d++){var change=changes_2[_d];toChange.set(change.id,change)}var applyRemoveAndChange=function(whitespaces){for(var result2=[],_i2=0,whitespaces_1=whitespaces;_i2<whitespaces_1.length;_i2++){var whitespace=whitespaces_1[_i2];if(!toRemove.has(whitespace.id)){if(toChange.has(whitespace.id)){var change2=toChange.get(whitespace.id);whitespace.afterLineNumber=change2.newAfterLineNumber,whitespace.height=change2.newHeight}result2.push(whitespace)}}return result2},result=applyRemoveAndChange(this._arr).concat(applyRemoveAndChange(inserts));result.sort(function(a,b){return a.afterLineNumber===b.afterLineNumber?a.ordinal-b.ordinal:a.afterLineNumber-b.afterLineNumber}),this._arr=result,this._prefixSumValidIndex=-1},LinesLayout.prototype._checkPendingChanges=function(){this._pendingChanges.mustCommit()&&(console.warn("Commiting pending changes before change accessor leaves due to read access."),this._pendingChanges.commit(this))},LinesLayout.prototype._insertWhitespace=function(whitespace){var insertIndex=LinesLayout.findInsertionIndex(this._arr,whitespace.afterLineNumber,whitespace.ordinal);this._arr.splice(insertIndex,0,whitespace),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,insertIndex-1)},LinesLayout.prototype._findWhitespaceIndex=function(id){for(var arr=this._arr,i=0,len=arr.length;i<len;i++)if(arr[i].id===id)return i;return-1},LinesLayout.prototype._changeOneWhitespace=function(id,newAfterLineNumber,newHeight){var index=this._findWhitespaceIndex(id);if(index!==-1&&(this._arr[index].height!==newHeight&&(this._arr[index].height=newHeight,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,index-1)),this._arr[index].afterLineNumber!==newAfterLineNumber)){var whitespace=this._arr[index];this._removeWhitespace(index),whitespace.afterLineNumber=newAfterLineNumber,this._insertWhitespace(whitespace)}},LinesLayout.prototype._removeWhitespace=function(removeIndex){this._arr.splice(removeIndex,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,removeIndex-1)},LinesLayout.prototype.onLinesDeleted=function(fromLineNumber,toLineNumber){this._checkPendingChanges(),fromLineNumber=fromLineNumber|0,toLineNumber=toLineNumber|0,this._lineCount-=toLineNumber-fromLineNumber+1;for(var i=0,len=this._arr.length;i<len;i++){var afterLineNumber=this._arr[i].afterLineNumber;fromLineNumber<=afterLineNumber&&afterLineNumber<=toLineNumber?this._arr[i].afterLineNumber=fromLineNumber-1:afterLineNumber>toLineNumber&&(this._arr[i].afterLineNumber-=toLineNumber-fromLineNumber+1)}},LinesLayout.prototype.onLinesInserted=function(fromLineNumber,toLineNumber){this._checkPendingChanges(),fromLineNumber=fromLineNumber|0,toLineNumber=toLineNumber|0,this._lineCount+=toLineNumber-fromLineNumber+1;for(var i=0,len=this._arr.length;i<len;i++){var afterLineNumber=this._arr[i].afterLineNumber;fromLineNumber<=afterLineNumber&&(this._arr[i].afterLineNumber+=toLineNumber-fromLineNumber+1)}},LinesLayout.prototype.getWhitespacesTotalHeight=function(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)},LinesLayout.prototype.getWhitespacesAccumulatedHeight=function(index){this._checkPendingChanges(),index=index|0;var startIndex=Math.max(0,this._prefixSumValidIndex+1);startIndex===0&&(this._arr[0].prefixSum=this._arr[0].height,startIndex++);for(var i=startIndex;i<=index;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,index),this._arr[index].prefixSum},LinesLayout.prototype.getLinesTotalHeight=function(){this._checkPendingChanges();var linesHeight=this._lineHeight*this._lineCount,whitespacesHeight=this.getWhitespacesTotalHeight();return linesHeight+whitespacesHeight},LinesLayout.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(lineNumber){this._checkPendingChanges(),lineNumber=lineNumber|0;var lastWhitespaceBeforeLineNumber=this._findLastWhitespaceBeforeLineNumber(lineNumber);return lastWhitespaceBeforeLineNumber===-1?0:this.getWhitespacesAccumulatedHeight(lastWhitespaceBeforeLineNumber)},LinesLayout.prototype._findLastWhitespaceBeforeLineNumber=function(lineNumber){lineNumber=lineNumber|0;for(var arr=this._arr,low=0,high=arr.length-1;low<=high;){var delta=high-low|0,halfDelta=delta/2|0,mid=low+halfDelta|0;if(arr[mid].afterLineNumber<lineNumber){if(mid+1>=arr.length||arr[mid+1].afterLineNumber>=lineNumber)return mid;low=mid+1|0}else high=mid-1|0}return-1},LinesLayout.prototype._findFirstWhitespaceAfterLineNumber=function(lineNumber){lineNumber=lineNumber|0;var lastWhitespaceBeforeLineNumber=this._findLastWhitespaceBeforeLineNumber(lineNumber),firstWhitespaceAfterLineNumber=lastWhitespaceBeforeLineNumber+1;return firstWhitespaceAfterLineNumber<this._arr.length?firstWhitespaceAfterLineNumber:-1},LinesLayout.prototype.getFirstWhitespaceIndexAfterLineNumber=function(lineNumber){return this._checkPendingChanges(),lineNumber=lineNumber|0,this._findFirstWhitespaceAfterLineNumber(lineNumber)},LinesLayout.prototype.getVerticalOffsetForLineNumber=function(lineNumber){this._checkPendingChanges(),lineNumber=lineNumber|0;var previousLinesHeight;lineNumber>1?previousLinesHeight=this._lineHeight*(lineNumber-1):previousLinesHeight=0;var previousWhitespacesHeight=this.getWhitespaceAccumulatedHeightBeforeLineNumber(lineNumber);return previousLinesHeight+previousWhitespacesHeight},LinesLayout.prototype.getWhitespaceMinWidth=function(){if(this._checkPendingChanges(),this._minWidth===-1){for(var minWidth=0,i=0,len=this._arr.length;i<len;i++)minWidth=Math.max(minWidth,this._arr[i].minWidth);this._minWidth=minWidth}return this._minWidth},LinesLayout.prototype.isAfterLines=function(verticalOffset){this._checkPendingChanges();var totalHeight=this.getLinesTotalHeight();return verticalOffset>totalHeight},LinesLayout.prototype.getLineNumberAtOrAfterVerticalOffset=function(verticalOffset){if(this._checkPendingChanges(),verticalOffset=verticalOffset|0,verticalOffset<0)return 1;for(var linesCount=this._lineCount|0,lineHeight=this._lineHeight,minLineNumber=1,maxLineNumber=linesCount;minLineNumber<maxLineNumber;){var midLineNumber=(minLineNumber+maxLineNumber)/2|0,midLineNumberVerticalOffset=this.getVerticalOffsetForLineNumber(midLineNumber)|0;if(verticalOffset>=midLineNumberVerticalOffset+lineHeight)minLineNumber=midLineNumber+1;else{if(verticalOffset>=midLineNumberVerticalOffset)return midLineNumber;maxLineNumber=midLineNumber}}return minLineNumber>linesCount?linesCount:minLineNumber},LinesLayout.prototype.getLinesViewportData=function(verticalOffset1,verticalOffset2){this._checkPendingChanges(),verticalOffset1=verticalOffset1|0,verticalOffset2=verticalOffset2|0;var lineHeight=this._lineHeight,startLineNumber=this.getLineNumberAtOrAfterVerticalOffset(verticalOffset1)|0,startLineNumberVerticalOffset=this.getVerticalOffsetForLineNumber(startLineNumber)|0,endLineNumber=this._lineCount|0,whitespaceIndex=this.getFirstWhitespaceIndexAfterLineNumber(startLineNumber)|0,whitespaceCount=this.getWhitespacesCount()|0,currentWhitespaceHeight,currentWhitespaceAfterLineNumber;whitespaceIndex===-1?(whitespaceIndex=whitespaceCount,currentWhitespaceAfterLineNumber=endLineNumber+1,currentWhitespaceHeight=0):(currentWhitespaceAfterLineNumber=this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex)|0,currentWhitespaceHeight=this.getHeightForWhitespaceIndex(whitespaceIndex)|0);var currentVerticalOffset=startLineNumberVerticalOffset,currentLineRelativeOffset=currentVerticalOffset,STEP_SIZE=5e5,bigNumbersDelta=0;startLineNumberVerticalOffset>=STEP_SIZE&&(bigNumbersDelta=Math.floor(startLineNumberVerticalOffset/STEP_SIZE)*STEP_SIZE,bigNumbersDelta=Math.floor(bigNumbersDelta/lineHeight)*lineHeight,currentLineRelativeOffset-=bigNumbersDelta);for(var linesOffsets=[],verticalCenter=verticalOffset1+(verticalOffset2-verticalOffset1)/2,centeredLineNumber=-1,lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){if(centeredLineNumber===-1){var currentLineTop=currentVerticalOffset,currentLineBottom=currentVerticalOffset+lineHeight;(currentLineTop<=verticalCenter&&verticalCenter<currentLineBottom||currentLineTop>verticalCenter)&&(centeredLineNumber=lineNumber)}for(currentVerticalOffset+=lineHeight,linesOffsets[lineNumber-startLineNumber]=currentLineRelativeOffset,currentLineRelativeOffset+=lineHeight;currentWhitespaceAfterLineNumber===lineNumber;)currentLineRelativeOffset+=currentWhitespaceHeight,currentVerticalOffset+=currentWhitespaceHeight,whitespaceIndex++,whitespaceIndex>=whitespaceCount?currentWhitespaceAfterLineNumber=endLineNumber+1:(currentWhitespaceAfterLineNumber=this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex)|0,currentWhitespaceHeight=this.getHeightForWhitespaceIndex(whitespaceIndex)|0);if(currentVerticalOffset>=verticalOffset2){endLineNumber=lineNumber;break}}centeredLineNumber===-1&&(centeredLineNumber=endLineNumber);var endLineNumberVerticalOffset=this.getVerticalOffsetForLineNumber(endLineNumber)|0,completelyVisibleStartLineNumber=startLineNumber,completelyVisibleEndLineNumber=endLineNumber;return completelyVisibleStartLineNumber<completelyVisibleEndLineNumber&&startLineNumberVerticalOffset<verticalOffset1&&completelyVisibleStartLineNumber++,completelyVisibleStartLineNumber<completelyVisibleEndLineNumber&&endLineNumberVerticalOffset+lineHeight>verticalOffset2&&completelyVisibleEndLineNumber--,{bigNumbersDelta,startLineNumber,endLineNumber,relativeVerticalOffset:linesOffsets,centeredLineNumber,completelyVisibleStartLineNumber,completelyVisibleEndLineNumber}},LinesLayout.prototype.getVerticalOffsetForWhitespaceIndex=function(whitespaceIndex){this._checkPendingChanges(),whitespaceIndex=whitespaceIndex|0;var afterLineNumber=this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex),previousLinesHeight;afterLineNumber>=1?previousLinesHeight=this._lineHeight*afterLineNumber:previousLinesHeight=0;var previousWhitespacesHeight;return whitespaceIndex>0?previousWhitespacesHeight=this.getWhitespacesAccumulatedHeight(whitespaceIndex-1):previousWhitespacesHeight=0,previousLinesHeight+previousWhitespacesHeight},LinesLayout.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(verticalOffset){this._checkPendingChanges(),verticalOffset=verticalOffset|0;var minWhitespaceIndex=0,maxWhitespaceIndex=this.getWhitespacesCount()-1;if(maxWhitespaceIndex<0)return-1;var maxWhitespaceVerticalOffset=this.getVerticalOffsetForWhitespaceIndex(maxWhitespaceIndex),maxWhitespaceHeight=this.getHeightForWhitespaceIndex(maxWhitespaceIndex);if(verticalOffset>=maxWhitespaceVerticalOffset+maxWhitespaceHeight)return-1;for(;minWhitespaceIndex<maxWhitespaceIndex;){var midWhitespaceIndex=Math.floor((minWhitespaceIndex+maxWhitespaceIndex)/2),midWhitespaceVerticalOffset=this.getVerticalOffsetForWhitespaceIndex(midWhitespaceIndex),midWhitespaceHeight=this.getHeightForWhitespaceIndex(midWhitespaceIndex);if(verticalOffset>=midWhitespaceVerticalOffset+midWhitespaceHeight)minWhitespaceIndex=midWhitespaceIndex+1;else{if(verticalOffset>=midWhitespaceVerticalOffset)return midWhitespaceIndex;maxWhitespaceIndex=midWhitespaceIndex}}return minWhitespaceIndex},LinesLayout.prototype.getWhitespaceAtVerticalOffset=function(verticalOffset){this._checkPendingChanges(),verticalOffset=verticalOffset|0;var candidateIndex=this.getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset);if(candidateIndex<0||candidateIndex>=this.getWhitespacesCount())return null;var candidateTop=this.getVerticalOffsetForWhitespaceIndex(candidateIndex);if(candidateTop>verticalOffset)return null;var candidateHeight=this.getHeightForWhitespaceIndex(candidateIndex),candidateId=this.getIdForWhitespaceIndex(candidateIndex),candidateAfterLineNumber=this.getAfterLineNumberForWhitespaceIndex(candidateIndex);return{id:candidateId,afterLineNumber:candidateAfterLineNumber,verticalOffset:candidateTop,height:candidateHeight}},LinesLayout.prototype.getWhitespaceViewportData=function(verticalOffset1,verticalOffset2){this._checkPendingChanges(),verticalOffset1=verticalOffset1|0,verticalOffset2=verticalOffset2|0;var startIndex=this.getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset1),endIndex=this.getWhitespacesCount()-1;if(startIndex<0)return[];for(var result=[],i=startIndex;i<=endIndex;i++){var top_1=this.getVerticalOffsetForWhitespaceIndex(i),height=this.getHeightForWhitespaceIndex(i);if(top_1>=verticalOffset2)break;result.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:top_1,height})}return result},LinesLayout.prototype.getWhitespaces=function(){return this._checkPendingChanges(),this._arr.slice(0)},LinesLayout.prototype.getWhitespacesCount=function(){return this._checkPendingChanges(),this._arr.length},LinesLayout.prototype.getIdForWhitespaceIndex=function(index){return this._checkPendingChanges(),index=index|0,this._arr[index].id},LinesLayout.prototype.getAfterLineNumberForWhitespaceIndex=function(index){return this._checkPendingChanges(),index=index|0,this._arr[index].afterLineNumber},LinesLayout.prototype.getHeightForWhitespaceIndex=function(index){return this._checkPendingChanges(),index=index|0,this._arr[index].height},LinesLayout.INSTANCE_COUNT=0,LinesLayout}(),viewModel_viewModel=__webpack_require__(3197),viewLayout_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),SMOOTH_SCROLLING_TIME=125,viewLayout_ViewLayout=function(_super){viewLayout_extends(ViewLayout,_super);function ViewLayout(configuration,lineCount,scheduleAtNextAnimationFrame){var _this=_super.call(this)||this;_this._configuration=configuration;var options=_this._configuration.options,layoutInfo=options.get(103);return _this._linesLayout=new linesLayout_LinesLayout(lineCount,options.get(47)),_this.scrollable=_this._register(new scrollable.a(0,scheduleAtNextAnimationFrame)),_this._configureSmoothScrollDuration(),_this.scrollable.setScrollDimensions({width:layoutInfo.contentWidth,height:layoutInfo.contentHeight}),_this.onDidScroll=_this.scrollable.onScroll,_this._updateHeight(),_this}return ViewLayout.prototype.dispose=function(){_super.prototype.dispose.call(this)},ViewLayout.prototype.onHeightMaybeChanged=function(){this._updateHeight()},ViewLayout.prototype._configureSmoothScrollDuration=function(){this.scrollable.setSmoothScrollDuration(this._configuration.options.get(83)?SMOOTH_SCROLLING_TIME:0)},ViewLayout.prototype.onConfigurationChanged=function(e){var options=this._configuration.options;if(e.hasChanged(47)&&this._linesLayout.setLineHeight(options.get(47)),e.hasChanged(103)){var layoutInfo=options.get(103),width=layoutInfo.contentWidth,height=layoutInfo.contentHeight,scrollDimensions=this.scrollable.getScrollDimensions(),scrollWidth=scrollDimensions.scrollWidth,scrollHeight=this._getTotalHeight(width,height,scrollWidth);this.scrollable.setScrollDimensions({width,height,scrollHeight})}else this._updateHeight();e.hasChanged(83)&&this._configureSmoothScrollDuration()},ViewLayout.prototype.onFlushed=function(lineCount){this._linesLayout.onFlushed(lineCount)},ViewLayout.prototype.onLinesDeleted=function(fromLineNumber,toLineNumber){this._linesLayout.onLinesDeleted(fromLineNumber,toLineNumber)},ViewLayout.prototype.onLinesInserted=function(fromLineNumber,toLineNumber){this._linesLayout.onLinesInserted(fromLineNumber,toLineNumber)},ViewLayout.prototype._getHorizontalScrollbarHeight=function(width,scrollWidth){var options=this._configuration.options,scrollbar=options.get(74);return scrollbar.horizontal===2||width>=scrollWidth?0:scrollbar.horizontalScrollbarSize},ViewLayout.prototype._getTotalHeight=function(width,height,scrollWidth){var options=this._configuration.options,result=this._linesLayout.getLinesTotalHeight();return options.get(76)?result+=height-options.get(47):result+=this._getHorizontalScrollbarHeight(width,scrollWidth),Math.max(height,result)},ViewLayout.prototype._updateHeight=function(){var scrollDimensions=this.scrollable.getScrollDimensions(),width=scrollDimensions.width,height=scrollDimensions.height,scrollWidth=scrollDimensions.scrollWidth,scrollHeight=this._getTotalHeight(width,height,scrollWidth);this.scrollable.setScrollDimensions({scrollHeight})},ViewLayout.prototype.getCurrentViewport=function(){var scrollDimensions=this.scrollable.getScrollDimensions(),currentScrollPosition=this.scrollable.getCurrentScrollPosition();return new viewModel_viewModel.f(currentScrollPosition.scrollTop,currentScrollPosition.scrollLeft,scrollDimensions.width,scrollDimensions.height)},ViewLayout.prototype.getFutureViewport=function(){var scrollDimensions=this.scrollable.getScrollDimensions(),currentScrollPosition=this.scrollable.getFutureScrollPosition();return new viewModel_viewModel.f(currentScrollPosition.scrollTop,currentScrollPosition.scrollLeft,scrollDimensions.width,scrollDimensions.height)},ViewLayout.prototype._computeScrollWidth=function(maxLineWidth,viewportWidth){var options=this._configuration.options,wrappingInfo=options.get(104),isViewportWrapping=wrappingInfo.isViewportWrapping;if(!isViewportWrapping){var extraHorizontalSpace=options.get(75)*options.get(32).typicalHalfwidthCharacterWidth,whitespaceMinWidth=this._linesLayout.getWhitespaceMinWidth();return Math.max(maxLineWidth+extraHorizontalSpace,viewportWidth,whitespaceMinWidth)}return Math.max(maxLineWidth,viewportWidth)},ViewLayout.prototype.onMaxLineWidthChanged=function(maxLineWidth){var newScrollWidth=this._computeScrollWidth(maxLineWidth,this.getCurrentViewport().width);this.scrollable.setScrollDimensions({scrollWidth:newScrollWidth}),this._updateHeight()},ViewLayout.prototype.saveState=function(){var currentScrollPosition=this.scrollable.getFutureScrollPosition(),scrollTop=currentScrollPosition.scrollTop,firstLineNumberInViewport=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(scrollTop),whitespaceAboveFirstLine=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(firstLineNumberInViewport);return{scrollTop,scrollTopWithoutViewZones:scrollTop-whitespaceAboveFirstLine,scrollLeft:currentScrollPosition.scrollLeft}},ViewLayout.prototype.changeWhitespace=function(callback){return this._linesLayout.changeWhitespace(callback)},ViewLayout.prototype.getVerticalOffsetForLineNumber=function(lineNumber){return this._linesLayout.getVerticalOffsetForLineNumber(lineNumber)},ViewLayout.prototype.isAfterLines=function(verticalOffset){return this._linesLayout.isAfterLines(verticalOffset)},ViewLayout.prototype.getLineNumberAtVerticalOffset=function(verticalOffset){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(verticalOffset)},ViewLayout.prototype.getWhitespaceAtVerticalOffset=function(verticalOffset){return this._linesLayout.getWhitespaceAtVerticalOffset(verticalOffset)},ViewLayout.prototype.getLinesViewportData=function(){var visibleBox=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(visibleBox.top,visibleBox.top+visibleBox.height)},ViewLayout.prototype.getLinesViewportDataAtScrollTop=function(scrollTop){var scrollDimensions=this.scrollable.getScrollDimensions();return scrollTop+scrollDimensions.height>scrollDimensions.scrollHeight&&(scrollTop=scrollDimensions.scrollHeight-scrollDimensions.height),scrollTop<0&&(scrollTop=0),this._linesLayout.getLinesViewportData(scrollTop,scrollTop+scrollDimensions.height)},ViewLayout.prototype.getWhitespaceViewportData=function(){var visibleBox=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(visibleBox.top,visibleBox.top+visibleBox.height)},ViewLayout.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},ViewLayout.prototype.getScrollWidth=function(){var scrollDimensions=this.scrollable.getScrollDimensions();return scrollDimensions.scrollWidth},ViewLayout.prototype.getScrollHeight=function(){var scrollDimensions=this.scrollable.getScrollDimensions();return scrollDimensions.scrollHeight},ViewLayout.prototype.getCurrentScrollLeft=function(){var currentScrollPosition=this.scrollable.getCurrentScrollPosition();return currentScrollPosition.scrollLeft},ViewLayout.prototype.getCurrentScrollTop=function(){var currentScrollPosition=this.scrollable.getCurrentScrollPosition();return currentScrollPosition.scrollTop},ViewLayout.prototype.validateScrollPosition=function(scrollPosition){return this.scrollable.validateScrollPosition(scrollPosition)},ViewLayout.prototype.setScrollPositionNow=function(position){this.scrollable.setScrollPositionNow(position)},ViewLayout.prototype.setScrollPositionSmooth=function(position){this.scrollable.setScrollPositionSmooth(position)},ViewLayout.prototype.deltaScrollNow=function(deltaScrollLeft,deltaScrollTop){var currentScrollPosition=this.scrollable.getCurrentScrollPosition();this.scrollable.setScrollPositionNow({scrollLeft:currentScrollPosition.scrollLeft+deltaScrollLeft,scrollTop:currentScrollPosition.scrollTop+deltaScrollTop})},ViewLayout}(lifecycle.a),characterClassifier=__webpack_require__(3235),uint=__webpack_require__(3493),prefixSumComputer=__webpack_require__(3505),textModel=__webpack_require__(2720),OutputPosition=function(){function OutputPosition2(outputLineIndex,outputOffset){this.outputLineIndex=outputLineIndex,this.outputOffset=outputOffset}return OutputPosition2}(),splitLinesCollection_CoordinatesConverter=function(){function CoordinatesConverter(lines){this._lines=lines}return CoordinatesConverter.prototype.convertViewPositionToModelPosition=function(viewPosition){return this._lines.convertViewPositionToModelPosition(viewPosition.lineNumber,viewPosition.column)},CoordinatesConverter.prototype.convertViewRangeToModelRange=function(viewRange){var start=this._lines.convertViewPositionToModelPosition(viewRange.startLineNumber,viewRange.startColumn),end=this._lines.convertViewPositionToModelPosition(viewRange.endLineNumber,viewRange.endColumn);return new core_range.a(start.lineNumber,start.column,end.lineNumber,end.column)},CoordinatesConverter.prototype.validateViewPosition=function(viewPosition,expectedModelPosition){return this._lines.validateViewPosition(viewPosition.lineNumber,viewPosition.column,expectedModelPosition)},CoordinatesConverter.prototype.validateViewRange=function(viewRange,expectedModelRange){var validViewStart=this._lines.validateViewPosition(viewRange.startLineNumber,viewRange.startColumn,expectedModelRange.getStartPosition()),validViewEnd=this._lines.validateViewPosition(viewRange.endLineNumber,viewRange.endColumn,expectedModelRange.getEndPosition());return new core_range.a(validViewStart.lineNumber,validViewStart.column,validViewEnd.lineNumber,validViewEnd.column)},CoordinatesConverter.prototype.convertModelPositionToViewPosition=function(modelPosition){return this._lines.convertModelPositionToViewPosition(modelPosition.lineNumber,modelPosition.column)},CoordinatesConverter.prototype.convertModelRangeToViewRange=function(modelRange){return this._lines.convertModelRangeToViewRange(modelRange)},CoordinatesConverter.prototype.modelPositionIsVisible=function(modelPosition){return this._lines.modelPositionIsVisible(modelPosition.lineNumber,modelPosition.column)},CoordinatesConverter}(),splitLinesCollection_SplitLinesCollection=function(){function SplitLinesCollection(model,linePositionMapperFactory,tabSize,wrappingColumn,columnsForFullWidthChar,wrappingIndent){this.model=model,this._validModelVersionId=-1,this.tabSize=tabSize,this.wrappingColumn=wrappingColumn,this.columnsForFullWidthChar=columnsForFullWidthChar,this.wrappingIndent=wrappingIndent,this.linePositionMapperFactory=linePositionMapperFactory,this._constructLines(!0)}return SplitLinesCollection.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},SplitLinesCollection.prototype.createCoordinatesConverter=function(){return new splitLinesCollection_CoordinatesConverter(this)},SplitLinesCollection.prototype._ensureValidState=function(){var modelVersion=this.model.getVersionId();if(modelVersion!==this._validModelVersionId)throw new Error("ViewModel is out of sync with Model!");this.lines.length!==this.model.getLineCount()&&this._constructLines(!1)},SplitLinesCollection.prototype._constructLines=function(resetHiddenAreas){var _this=this;this.lines=[],resetHiddenAreas&&(this.hiddenAreasIds=[]);for(var linesContent=this.model.getLinesContent(),lineCount=linesContent.length,values=new Uint32Array(lineCount),hiddenAreas=this.hiddenAreasIds.map(function(areaId){return _this.model.getDecorationRange(areaId)}).sort(core_range.a.compareRangesUsingStarts),hiddenAreaStart=1,hiddenAreaEnd=0,hiddenAreaIdx=-1,nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:lineCount+2,i=0;i<lineCount;i++){var lineNumber=i+1;lineNumber===nextLineNumberToUpdateHiddenArea&&(hiddenAreaIdx++,hiddenAreaStart=hiddenAreas[hiddenAreaIdx].startLineNumber,hiddenAreaEnd=hiddenAreas[hiddenAreaIdx].endLineNumber,nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:lineCount+2);var isInHiddenArea=lineNumber>=hiddenAreaStart&&lineNumber<=hiddenAreaEnd,line=createSplitLine(this.linePositionMapperFactory,linesContent[i],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!isInHiddenArea);values[i]=line.getViewLineCount(),this.lines[i]=line}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new prefixSumComputer.b(values)},SplitLinesCollection.prototype.getHiddenAreas=function(){var _this=this;return this.hiddenAreasIds.map(function(decId){return _this.model.getDecorationRange(decId)})},SplitLinesCollection.prototype._reduceRanges=function(_ranges){var _this=this;if(_ranges.length===0)return[];for(var ranges=_ranges.map(function(r){return _this.model.validateRange(r)}).sort(core_range.a.compareRangesUsingStarts),result=[],currentRangeStart=ranges[0].startLineNumber,currentRangeEnd=ranges[0].endLineNumber,i=1,len=ranges.length;i<len;i++){var range=ranges[i];range.startLineNumber>currentRangeEnd+1?(result.push(new core_range.a(currentRangeStart,1,currentRangeEnd,1)),currentRangeStart=range.startLineNumber,currentRangeEnd=range.endLineNumber):range.endLineNumber>currentRangeEnd&&(currentRangeEnd=range.endLineNumber)}return result.push(new core_range.a(currentRangeStart,1,currentRangeEnd,1)),result},SplitLinesCollection.prototype.setHiddenAreas=function(_ranges){var _this=this,newRanges=this._reduceRanges(_ranges),oldRanges=this.hiddenAreasIds.map(function(areaId){return _this.model.getDecorationRange(areaId)}).sort(core_range.a.compareRangesUsingStarts);if(newRanges.length===oldRanges.length){for(var hasDifference=!1,i=0;i<newRanges.length;i++)if(!newRanges[i].equalsRange(oldRanges[i])){hasDifference=!0;break}if(!hasDifference)return!1}for(var newDecorations=[],_i=0,newRanges_1=newRanges;_i<newRanges_1.length;_i++){var newRange=newRanges_1[_i];newDecorations.push({range:newRange,options:textModel.a.EMPTY})}this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,newDecorations);for(var hiddenAreas=newRanges,hiddenAreaStart=1,hiddenAreaEnd=0,hiddenAreaIdx=-1,nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:this.lines.length+2,hasVisibleLine=!1,i=0;i<this.lines.length;i++){var lineNumber=i+1;lineNumber===nextLineNumberToUpdateHiddenArea&&(hiddenAreaIdx++,hiddenAreaStart=hiddenAreas[hiddenAreaIdx].startLineNumber,hiddenAreaEnd=hiddenAreas[hiddenAreaIdx].endLineNumber,nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:this.lines.length+2);var lineChanged=!1;if(lineNumber>=hiddenAreaStart&&lineNumber<=hiddenAreaEnd?this.lines[i].isVisible()&&(this.lines[i]=this.lines[i].setVisible(!1),lineChanged=!0):(hasVisibleLine=!0,this.lines[i].isVisible()||(this.lines[i]=this.lines[i].setVisible(!0),lineChanged=!0)),lineChanged){var newOutputLineCount=this.lines[i].getViewLineCount();this.prefixSumComputer.changeValue(i,newOutputLineCount)}}return hasVisibleLine||this.setHiddenAreas([]),!0},SplitLinesCollection.prototype.modelPositionIsVisible=function(modelLineNumber,_modelColumn){return modelLineNumber<1||modelLineNumber>this.lines.length?!1:this.lines[modelLineNumber-1].isVisible()},SplitLinesCollection.prototype.setTabSize=function(newTabSize){return this.tabSize===newTabSize?!1:(this.tabSize=newTabSize,this._constructLines(!1),!0)},SplitLinesCollection.prototype.setWrappingSettings=function(wrappingIndent,wrappingColumn,columnsForFullWidthChar){return this.wrappingIndent===wrappingIndent&&this.wrappingColumn===wrappingColumn&&this.columnsForFullWidthChar===columnsForFullWidthChar?!1:(this.wrappingIndent=wrappingIndent,this.wrappingColumn=wrappingColumn,this.columnsForFullWidthChar=columnsForFullWidthChar,this._constructLines(!1),!0)},SplitLinesCollection.prototype.onModelFlushed=function(){this._constructLines(!0)},SplitLinesCollection.prototype.onModelLinesDeleted=function(versionId,fromLineNumber,toLineNumber){if(versionId<=this._validModelVersionId)return null;var outputFromLineNumber=fromLineNumber===1?1:this.prefixSumComputer.getAccumulatedValue(fromLineNumber-2)+1,outputToLineNumber=this.prefixSumComputer.getAccumulatedValue(toLineNumber-1);return this.lines.splice(fromLineNumber-1,toLineNumber-fromLineNumber+1),this.prefixSumComputer.removeValues(fromLineNumber-1,toLineNumber-fromLineNumber+1),new ViewLinesDeletedEvent(outputFromLineNumber,outputToLineNumber)},SplitLinesCollection.prototype.onModelLinesInserted=function(versionId,fromLineNumber,_toLineNumber,text){if(versionId<=this._validModelVersionId)return null;for(var hiddenAreas=this.getHiddenAreas(),isInHiddenArea=!1,testPosition=new core_position.a(fromLineNumber,1),_i=0,hiddenAreas_1=hiddenAreas;_i<hiddenAreas_1.length;_i++){var hiddenArea=hiddenAreas_1[_i];if(hiddenArea.containsPosition(testPosition)){isInHiddenArea=!0;break}}for(var outputFromLineNumber=fromLineNumber===1?1:this.prefixSumComputer.getAccumulatedValue(fromLineNumber-2)+1,totalOutputLineCount=0,insertLines=[],insertPrefixSumValues=new Uint32Array(text.length),i=0,len=text.length;i<len;i++){var line=createSplitLine(this.linePositionMapperFactory,text[i],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!isInHiddenArea);insertLines.push(line);var outputLineCount=line.getViewLineCount();totalOutputLineCount+=outputLineCount,insertPrefixSumValues[i]=outputLineCount}return this.lines=this.lines.slice(0,fromLineNumber-1).concat(insertLines).concat(this.lines.slice(fromLineNumber-1)),this.prefixSumComputer.insertValues(fromLineNumber-1,insertPrefixSumValues),new ViewLinesInsertedEvent(outputFromLineNumber,outputFromLineNumber+totalOutputLineCount-1)},SplitLinesCollection.prototype.onModelLineChanged=function(versionId,lineNumber,newText){if(versionId<=this._validModelVersionId)return[!1,null,null,null];var lineIndex=lineNumber-1,oldOutputLineCount=this.lines[lineIndex].getViewLineCount(),isVisible=this.lines[lineIndex].isVisible(),line=createSplitLine(this.linePositionMapperFactory,newText,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,isVisible);this.lines[lineIndex]=line;var newOutputLineCount=this.lines[lineIndex].getViewLineCount(),lineMappingChanged=!1,changeFrom=0,changeTo=-1,insertFrom=0,insertTo=-1,deleteFrom=0,deleteTo=-1;oldOutputLineCount>newOutputLineCount?(changeFrom=lineNumber===1?1:this.prefixSumComputer.getAccumulatedValue(lineNumber-2)+1,changeTo=changeFrom+newOutputLineCount-1,deleteFrom=changeTo+1,deleteTo=deleteFrom+(oldOutputLineCount-newOutputLineCount)-1,lineMappingChanged=!0):oldOutputLineCount<newOutputLineCount?(changeFrom=lineNumber===1?1:this.prefixSumComputer.getAccumulatedValue(lineNumber-2)+1,changeTo=changeFrom+oldOutputLineCount-1,insertFrom=changeTo+1,insertTo=insertFrom+(newOutputLineCount-oldOutputLineCount)-1,lineMappingChanged=!0):(changeFrom=lineNumber===1?1:this.prefixSumComputer.getAccumulatedValue(lineNumber-2)+1,changeTo=changeFrom+newOutputLineCount-1),this.prefixSumComputer.changeValue(lineIndex,newOutputLineCount);var viewLinesChangedEvent=changeFrom<=changeTo?new ViewLinesChangedEvent(changeFrom,changeTo):null,viewLinesInsertedEvent=insertFrom<=insertTo?new ViewLinesInsertedEvent(insertFrom,insertTo):null,viewLinesDeletedEvent=deleteFrom<=deleteTo?new ViewLinesDeletedEvent(deleteFrom,deleteTo):null;return[lineMappingChanged,viewLinesChangedEvent,viewLinesInsertedEvent,viewLinesDeletedEvent]},SplitLinesCollection.prototype.acceptVersionId=function(versionId){this._validModelVersionId=versionId,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])},SplitLinesCollection.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},SplitLinesCollection.prototype._toValidViewLineNumber=function(viewLineNumber){if(viewLineNumber<1)return 1;var viewLineCount=this.getViewLineCount();return viewLineNumber>viewLineCount?viewLineCount:viewLineNumber},SplitLinesCollection.prototype.warmUpLookupCache=function(viewStartLineNumber,viewEndLineNumber){this.prefixSumComputer.warmUpCache(viewStartLineNumber-1,viewEndLineNumber-1)},SplitLinesCollection.prototype.getActiveIndentGuide=function(viewLineNumber,minLineNumber,maxLineNumber){this._ensureValidState(),viewLineNumber=this._toValidViewLineNumber(viewLineNumber),minLineNumber=this._toValidViewLineNumber(minLineNumber),maxLineNumber=this._toValidViewLineNumber(maxLineNumber);var modelPosition=this.convertViewPositionToModelPosition(viewLineNumber,this.getViewLineMinColumn(viewLineNumber)),modelMinPosition=this.convertViewPositionToModelPosition(minLineNumber,this.getViewLineMinColumn(minLineNumber)),modelMaxPosition=this.convertViewPositionToModelPosition(maxLineNumber,this.getViewLineMinColumn(maxLineNumber)),result=this.model.getActiveIndentGuide(modelPosition.lineNumber,modelMinPosition.lineNumber,modelMaxPosition.lineNumber),viewStartPosition=this.convertModelPositionToViewPosition(result.startLineNumber,1),viewEndPosition=this.convertModelPositionToViewPosition(result.endLineNumber,this.model.getLineMaxColumn(result.endLineNumber));return{startLineNumber:viewStartPosition.lineNumber,endLineNumber:viewEndPosition.lineNumber,indent:result.indent}},SplitLinesCollection.prototype.getViewLinesIndentGuides=function(viewStartLineNumber,viewEndLineNumber){this._ensureValidState(),viewStartLineNumber=this._toValidViewLineNumber(viewStartLineNumber),viewEndLineNumber=this._toValidViewLineNumber(viewEndLineNumber);for(var modelStart=this.convertViewPositionToModelPosition(viewStartLineNumber,this.getViewLineMinColumn(viewStartLineNumber)),modelEnd=this.convertViewPositionToModelPosition(viewEndLineNumber,this.getViewLineMaxColumn(viewEndLineNumber)),result=[],resultRepeatCount=[],resultRepeatOption=[],modelStartLineIndex=modelStart.lineNumber-1,modelEndLineIndex=modelEnd.lineNumber-1,reqStart=null,modelLineIndex=modelStartLineIndex;modelLineIndex<=modelEndLineIndex;modelLineIndex++){var line=this.lines[modelLineIndex];if(line.isVisible()){var viewLineStartIndex=line.getViewLineNumberOfModelPosition(0,modelLineIndex===modelStartLineIndex?modelStart.column:1),viewLineEndIndex=line.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(modelLineIndex+1)),count=viewLineEndIndex-viewLineStartIndex+1,option=0;count>1&&line.getViewLineMinColumn(this.model,modelLineIndex+1,viewLineEndIndex)===1&&(option=viewLineStartIndex===0?1:2),resultRepeatCount.push(count),resultRepeatOption.push(option),reqStart===null&&(reqStart=new core_position.a(modelLineIndex+1,0))}else reqStart!==null&&(result=result.concat(this.model.getLinesIndentGuides(reqStart.lineNumber,modelLineIndex)),reqStart=null)}reqStart!==null&&(result=result.concat(this.model.getLinesIndentGuides(reqStart.lineNumber,modelEnd.lineNumber)),reqStart=null);for(var viewLineCount=viewEndLineNumber-viewStartLineNumber+1,viewIndents=new Array(viewLineCount),currIndex=0,i=0,len=result.length;i<len;i++){var value=result[i],count=Math.min(viewLineCount-currIndex,resultRepeatCount[i]),option=resultRepeatOption[i],blockAtIndex=void 0;option===2?blockAtIndex=0:option===1?blockAtIndex=1:blockAtIndex=count;for(var j=0;j<count;j++)j===blockAtIndex&&(value=0),viewIndents[currIndex++]=value}return viewIndents},SplitLinesCollection.prototype.getViewLineContent=function(viewLineNumber){this._ensureValidState(),viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineContent(this.model,lineIndex+1,remainder)},SplitLinesCollection.prototype.getViewLineLength=function(viewLineNumber){this._ensureValidState(),viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineLength(this.model,lineIndex+1,remainder)},SplitLinesCollection.prototype.getViewLineMinColumn=function(viewLineNumber){this._ensureValidState(),viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineMinColumn(this.model,lineIndex+1,remainder)},SplitLinesCollection.prototype.getViewLineMaxColumn=function(viewLineNumber){this._ensureValidState(),viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineMaxColumn(this.model,lineIndex+1,remainder)},SplitLinesCollection.prototype.getViewLineData=function(viewLineNumber){this._ensureValidState(),viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineData(this.model,lineIndex+1,remainder)},SplitLinesCollection.prototype.getViewLinesData=function(viewStartLineNumber,viewEndLineNumber,needed){this._ensureValidState(),viewStartLineNumber=this._toValidViewLineNumber(viewStartLineNumber),viewEndLineNumber=this._toValidViewLineNumber(viewEndLineNumber);for(var start=this.prefixSumComputer.getIndexOf(viewStartLineNumber-1),viewLineNumber=viewStartLineNumber,startModelLineIndex=start.index,startRemainder=start.remainder,result=[],modelLineIndex=startModelLineIndex,len=this.model.getLineCount();modelLineIndex<len;modelLineIndex++){var line=this.lines[modelLineIndex];if(line.isVisible()){var fromViewLineIndex=modelLineIndex===startModelLineIndex?startRemainder:0,remainingViewLineCount=line.getViewLineCount()-fromViewLineIndex,lastLine=!1;viewLineNumber+remainingViewLineCount>viewEndLineNumber&&(lastLine=!0,remainingViewLineCount=viewEndLineNumber-viewLineNumber+1);var toViewLineIndex=fromViewLineIndex+remainingViewLineCount;if(line.getViewLinesData(this.model,modelLineIndex+1,fromViewLineIndex,toViewLineIndex,viewLineNumber-viewStartLineNumber,needed,result),viewLineNumber+=remainingViewLineCount,lastLine)break}}return result},SplitLinesCollection.prototype.validateViewPosition=function(viewLineNumber,viewColumn,expectedModelPosition){this._ensureValidState(),viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder,line=this.lines[lineIndex],minColumn=line.getViewLineMinColumn(this.model,lineIndex+1,remainder),maxColumn=line.getViewLineMaxColumn(this.model,lineIndex+1,remainder);viewColumn<minColumn&&(viewColumn=minColumn),viewColumn>maxColumn&&(viewColumn=maxColumn);var computedModelColumn=line.getModelColumnOfViewPosition(remainder,viewColumn),computedModelPosition=this.model.validatePosition(new core_position.a(lineIndex+1,computedModelColumn));return computedModelPosition.equals(expectedModelPosition)?new core_position.a(viewLineNumber,viewColumn):this.convertModelPositionToViewPosition(expectedModelPosition.lineNumber,expectedModelPosition.column)},SplitLinesCollection.prototype.convertViewPositionToModelPosition=function(viewLineNumber,viewColumn){this._ensureValidState(),viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder,inputColumn=this.lines[lineIndex].getModelColumnOfViewPosition(remainder,viewColumn);return this.model.validatePosition(new core_position.a(lineIndex+1,inputColumn))},SplitLinesCollection.prototype.convertModelPositionToViewPosition=function(_modelLineNumber,_modelColumn){this._ensureValidState();for(var validPosition=this.model.validatePosition(new core_position.a(_modelLineNumber,_modelColumn)),inputLineNumber=validPosition.lineNumber,inputColumn=validPosition.column,lineIndex=inputLineNumber-1,lineIndexChanged=!1;lineIndex>0&&!this.lines[lineIndex].isVisible();)lineIndex--,lineIndexChanged=!0;if(lineIndex===0&&!this.lines[lineIndex].isVisible())return new core_position.a(1,1);var deltaLineNumber=1+(lineIndex===0?0:this.prefixSumComputer.getAccumulatedValue(lineIndex-1)),r;return lineIndexChanged?r=this.lines[lineIndex].getViewPositionOfModelPosition(deltaLineNumber,this.model.getLineMaxColumn(lineIndex+1)):r=this.lines[inputLineNumber-1].getViewPositionOfModelPosition(deltaLineNumber,inputColumn),r},SplitLinesCollection.prototype.convertModelRangeToViewRange=function(modelRange){var start=this.convertModelPositionToViewPosition(modelRange.startLineNumber,modelRange.startColumn),end=this.convertModelPositionToViewPosition(modelRange.endLineNumber,modelRange.endColumn);return modelRange.startLineNumber===modelRange.endLineNumber&&start.lineNumber!==end.lineNumber&&end.column===this.getViewLineMinColumn(end.lineNumber)?new core_range.a(start.lineNumber,start.column,end.lineNumber-1,this.getViewLineMaxColumn(end.lineNumber-1)):new core_range.a(start.lineNumber,start.column,end.lineNumber,end.column)},SplitLinesCollection.prototype._getViewLineNumberForModelPosition=function(inputLineNumber,inputColumn){var lineIndex=inputLineNumber-1;if(this.lines[lineIndex].isVisible()){var deltaLineNumber_1=1+(lineIndex===0?0:this.prefixSumComputer.getAccumulatedValue(lineIndex-1));return this.lines[lineIndex].getViewLineNumberOfModelPosition(deltaLineNumber_1,inputColumn)}for(;lineIndex>0&&!this.lines[lineIndex].isVisible();)lineIndex--;if(lineIndex===0&&!this.lines[lineIndex].isVisible())return 1;var deltaLineNumber=1+(lineIndex===0?0:this.prefixSumComputer.getAccumulatedValue(lineIndex-1));return this.lines[lineIndex].getViewLineNumberOfModelPosition(deltaLineNumber,this.model.getLineMaxColumn(lineIndex+1))},SplitLinesCollection.prototype.getAllOverviewRulerDecorations=function(ownerId,filterOutValidation,theme){for(var decorations=this.model.getOverviewRulerDecorations(ownerId,filterOutValidation),result=new OverviewRulerDecorations,_i=0,decorations_1=decorations;_i<decorations_1.length;_i++){var decoration=decorations_1[_i],opts=decoration.options.overviewRuler,lane=opts?opts.position:0;if(lane!==0){var color=opts.getColor(theme),viewStartLineNumber=this._getViewLineNumberForModelPosition(decoration.range.startLineNumber,decoration.range.startColumn),viewEndLineNumber=this._getViewLineNumberForModelPosition(decoration.range.endLineNumber,decoration.range.endColumn);result.accept(color,viewStartLineNumber,viewEndLineNumber,lane)}}return result.result},SplitLinesCollection.prototype.getDecorationsInRange=function(range,ownerId,filterOutValidation){var modelStart=this.convertViewPositionToModelPosition(range.startLineNumber,range.startColumn),modelEnd=this.convertViewPositionToModelPosition(range.endLineNumber,range.endColumn);if(modelEnd.lineNumber-modelStart.lineNumber<=range.endLineNumber-range.startLineNumber)return this.model.getDecorationsInRange(new core_range.a(modelStart.lineNumber,1,modelEnd.lineNumber,modelEnd.column),ownerId,filterOutValidation);for(var result=[],modelStartLineIndex=modelStart.lineNumber-1,modelEndLineIndex=modelEnd.lineNumber-1,reqStart=null,modelLineIndex=modelStartLineIndex;modelLineIndex<=modelEndLineIndex;modelLineIndex++){var line=this.lines[modelLineIndex];if(line.isVisible())reqStart===null&&(reqStart=new core_position.a(modelLineIndex+1,modelLineIndex===modelStartLineIndex?modelStart.column:1));else if(reqStart!==null){var maxLineColumn=this.model.getLineMaxColumn(modelLineIndex);result=result.concat(this.model.getDecorationsInRange(new core_range.a(reqStart.lineNumber,reqStart.column,modelLineIndex,maxLineColumn),ownerId,filterOutValidation)),reqStart=null}}reqStart!==null&&(result=result.concat(this.model.getDecorationsInRange(new core_range.a(reqStart.lineNumber,reqStart.column,modelEnd.lineNumber,modelEnd.column),ownerId,filterOutValidation)),reqStart=null),result.sort(function(a,b){var res=core_range.a.compareRangesUsingStarts(a.range,b.range);return res===0?a.id<b.id?-1:a.id>b.id?1:0:res});for(var finalResult=[],finalResultLen=0,prevDecId=null,_i=0,result_1=result;_i<result_1.length;_i++){var dec=result_1[_i],decId=dec.id;prevDecId!==decId&&(prevDecId=decId,finalResult[finalResultLen++]=dec)}return finalResult},SplitLinesCollection}(),splitLinesCollection_VisibleIdentitySplitLine=function(){function VisibleIdentitySplitLine(){}return VisibleIdentitySplitLine.prototype.isVisible=function(){return!0},VisibleIdentitySplitLine.prototype.setVisible=function(isVisible){return isVisible?this:InvisibleIdentitySplitLine.INSTANCE},VisibleIdentitySplitLine.prototype.getViewLineCount=function(){return 1},VisibleIdentitySplitLine.prototype.getViewLineContent=function(model,modelLineNumber,_outputLineIndex){return model.getLineContent(modelLineNumber)},VisibleIdentitySplitLine.prototype.getViewLineLength=function(model,modelLineNumber,_outputLineIndex){return model.getLineLength(modelLineNumber)},VisibleIdentitySplitLine.prototype.getViewLineMinColumn=function(model,modelLineNumber,_outputLineIndex){return model.getLineMinColumn(modelLineNumber)},VisibleIdentitySplitLine.prototype.getViewLineMaxColumn=function(model,modelLineNumber,_outputLineIndex){return model.getLineMaxColumn(modelLineNumber)},VisibleIdentitySplitLine.prototype.getViewLineData=function(model,modelLineNumber,_outputLineIndex){var lineTokens=model.getLineTokens(modelLineNumber),lineContent=lineTokens.getLineContent();return new viewModel_viewModel.c(lineContent,!1,1,lineContent.length+1,lineTokens.inflate())},VisibleIdentitySplitLine.prototype.getViewLinesData=function(model,modelLineNumber,_fromOuputLineIndex,_toOutputLineIndex,globalStartIndex,needed,result){if(!needed[globalStartIndex]){result[globalStartIndex]=null;return}result[globalStartIndex]=this.getViewLineData(model,modelLineNumber,0)},VisibleIdentitySplitLine.prototype.getModelColumnOfViewPosition=function(_outputLineIndex,outputColumn){return outputColumn},VisibleIdentitySplitLine.prototype.getViewPositionOfModelPosition=function(deltaLineNumber,inputColumn){return new core_position.a(deltaLineNumber,inputColumn)},VisibleIdentitySplitLine.prototype.getViewLineNumberOfModelPosition=function(deltaLineNumber,_inputColumn){return deltaLineNumber},VisibleIdentitySplitLine.INSTANCE=new VisibleIdentitySplitLine,VisibleIdentitySplitLine}(),InvisibleIdentitySplitLine=function(){function InvisibleIdentitySplitLine2(){}return InvisibleIdentitySplitLine2.prototype.isVisible=function(){return!1},InvisibleIdentitySplitLine2.prototype.setVisible=function(isVisible){return isVisible?splitLinesCollection_VisibleIdentitySplitLine.INSTANCE:this},InvisibleIdentitySplitLine2.prototype.getViewLineCount=function(){return 0},InvisibleIdentitySplitLine2.prototype.getViewLineContent=function(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")},InvisibleIdentitySplitLine2.prototype.getViewLineLength=function(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")},InvisibleIdentitySplitLine2.prototype.getViewLineMinColumn=function(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")},InvisibleIdentitySplitLine2.prototype.getViewLineMaxColumn=function(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")},InvisibleIdentitySplitLine2.prototype.getViewLineData=function(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")},InvisibleIdentitySplitLine2.prototype.getViewLinesData=function(_model,_modelLineNumber,_fromOuputLineIndex,_toOutputLineIndex,_globalStartIndex,_needed,_result){throw new Error("Not supported")},InvisibleIdentitySplitLine2.prototype.getModelColumnOfViewPosition=function(_outputLineIndex,_outputColumn){throw new Error("Not supported")},InvisibleIdentitySplitLine2.prototype.getViewPositionOfModelPosition=function(_deltaLineNumber,_inputColumn){throw new Error("Not supported")},InvisibleIdentitySplitLine2.prototype.getViewLineNumberOfModelPosition=function(_deltaLineNumber,_inputColumn){throw new Error("Not supported")},InvisibleIdentitySplitLine2.INSTANCE=new InvisibleIdentitySplitLine2,InvisibleIdentitySplitLine2}(),splitLinesCollection_SplitLine=function(){function SplitLine(positionMapper,isVisible){this.positionMapper=positionMapper,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=isVisible}return SplitLine.prototype.isVisible=function(){return this._isVisible},SplitLine.prototype.setVisible=function(isVisible){return this._isVisible=isVisible,this},SplitLine.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},SplitLine.prototype.getInputStartOffsetOfOutputLineIndex=function(outputLineIndex){return this.positionMapper.getInputOffsetOfOutputPosition(outputLineIndex,0)},SplitLine.prototype.getInputEndOffsetOfOutputLineIndex=function(model,modelLineNumber,outputLineIndex){return outputLineIndex+1===this.outputLineCount?model.getLineMaxColumn(modelLineNumber)-1:this.positionMapper.getInputOffsetOfOutputPosition(outputLineIndex+1,0)},SplitLine.prototype.getViewLineContent=function(model,modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");var startOffset=this.getInputStartOffsetOfOutputLineIndex(outputLineIndex),endOffset=this.getInputEndOffsetOfOutputLineIndex(model,modelLineNumber,outputLineIndex),r=model.getValueInRange({startLineNumber:modelLineNumber,startColumn:startOffset+1,endLineNumber:modelLineNumber,endColumn:endOffset+1});return outputLineIndex>0&&(r=this.wrappedIndent+r),r},SplitLine.prototype.getViewLineLength=function(model,modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");var startOffset=this.getInputStartOffsetOfOutputLineIndex(outputLineIndex),endOffset=this.getInputEndOffsetOfOutputLineIndex(model,modelLineNumber,outputLineIndex),r=endOffset-startOffset;return outputLineIndex>0&&(r=this.wrappedIndent.length+r),r},SplitLine.prototype.getViewLineMinColumn=function(_model,_modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");return outputLineIndex>0?this.wrappedIndentLength+1:1},SplitLine.prototype.getViewLineMaxColumn=function(model,modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(model,modelLineNumber,outputLineIndex).length+1},SplitLine.prototype.getViewLineData=function(model,modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");var startOffset=this.getInputStartOffsetOfOutputLineIndex(outputLineIndex),endOffset=this.getInputEndOffsetOfOutputLineIndex(model,modelLineNumber,outputLineIndex),lineContent=model.getValueInRange({startLineNumber:modelLineNumber,startColumn:startOffset+1,endLineNumber:modelLineNumber,endColumn:endOffset+1});outputLineIndex>0&&(lineContent=this.wrappedIndent+lineContent);var minColumn=outputLineIndex>0?this.wrappedIndentLength+1:1,maxColumn=lineContent.length+1,continuesWithWrappedLine=outputLineIndex+1<this.getViewLineCount(),deltaStartIndex=0;outputLineIndex>0&&(deltaStartIndex=this.wrappedIndentLength);var lineTokens=model.getLineTokens(modelLineNumber);return new viewModel_viewModel.c(lineContent,continuesWithWrappedLine,minColumn,maxColumn,lineTokens.sliceAndInflate(startOffset,endOffset,deltaStartIndex))},SplitLine.prototype.getViewLinesData=function(model,modelLineNumber,fromOuputLineIndex,toOutputLineIndex,globalStartIndex,needed,result){if(!this._isVisible)throw new Error("Not supported");for(var outputLineIndex=fromOuputLineIndex;outputLineIndex<toOutputLineIndex;outputLineIndex++){var globalIndex=globalStartIndex+outputLineIndex-fromOuputLineIndex;if(!needed[globalIndex]){result[globalIndex]=null;continue}result[globalIndex]=this.getViewLineData(model,modelLineNumber,outputLineIndex)}},SplitLine.prototype.getModelColumnOfViewPosition=function(outputLineIndex,outputColumn){if(!this._isVisible)throw new Error("Not supported");var adjustedColumn=outputColumn-1;return outputLineIndex>0&&(adjustedColumn<this.wrappedIndentLength?adjustedColumn=0:adjustedColumn-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(outputLineIndex,adjustedColumn)+1},SplitLine.prototype.getViewPositionOfModelPosition=function(deltaLineNumber,inputColumn){if(!this._isVisible)throw new Error("Not supported");var r=this.positionMapper.getOutputPositionOfInputOffset(inputColumn-1),outputLineIndex=r.outputLineIndex,outputColumn=r.outputOffset+1;return outputLineIndex>0&&(outputColumn+=this.wrappedIndentLength),new core_position.a(deltaLineNumber+outputLineIndex,outputColumn)},SplitLine.prototype.getViewLineNumberOfModelPosition=function(deltaLineNumber,inputColumn){if(!this._isVisible)throw new Error("Not supported");var r=this.positionMapper.getOutputPositionOfInputOffset(inputColumn-1);return deltaLineNumber+r.outputLineIndex},SplitLine}();function createSplitLine(linePositionMapperFactory,text,tabSize,wrappingColumn,columnsForFullWidthChar,wrappingIndent,isVisible){var positionMapper=linePositionMapperFactory.createLineMapping(text,tabSize,wrappingColumn,columnsForFullWidthChar,wrappingIndent);return positionMapper===null?isVisible?splitLinesCollection_VisibleIdentitySplitLine.INSTANCE:InvisibleIdentitySplitLine.INSTANCE:new splitLinesCollection_SplitLine(positionMapper,isVisible)}var IdentityCoordinatesConverter=function(){function IdentityCoordinatesConverter2(lines){this._lines=lines}return IdentityCoordinatesConverter2.prototype._validPosition=function(pos){return this._lines.model.validatePosition(pos)},IdentityCoordinatesConverter2.prototype._validRange=function(range){return this._lines.model.validateRange(range)},IdentityCoordinatesConverter2.prototype.convertViewPositionToModelPosition=function(viewPosition){return this._validPosition(viewPosition)},IdentityCoordinatesConverter2.prototype.convertViewRangeToModelRange=function(viewRange){return this._validRange(viewRange)},IdentityCoordinatesConverter2.prototype.validateViewPosition=function(_viewPosition,expectedModelPosition){return this._validPosition(expectedModelPosition)},IdentityCoordinatesConverter2.prototype.validateViewRange=function(_viewRange,expectedModelRange){return this._validRange(expectedModelRange)},IdentityCoordinatesConverter2.prototype.convertModelPositionToViewPosition=function(modelPosition){return this._validPosition(modelPosition)},IdentityCoordinatesConverter2.prototype.convertModelRangeToViewRange=function(modelRange){return this._validRange(modelRange)},IdentityCoordinatesConverter2.prototype.modelPositionIsVisible=function(modelPosition){var lineCount=this._lines.model.getLineCount();return!(modelPosition.lineNumber<1||modelPosition.lineNumber>lineCount)},IdentityCoordinatesConverter2}(),splitLinesCollection_IdentityLinesCollection=function(){function IdentityLinesCollection(model){this.model=model}return IdentityLinesCollection.prototype.dispose=function(){},IdentityLinesCollection.prototype.createCoordinatesConverter=function(){return new IdentityCoordinatesConverter(this)},IdentityLinesCollection.prototype.getHiddenAreas=function(){return[]},IdentityLinesCollection.prototype.setHiddenAreas=function(_ranges){return!1},IdentityLinesCollection.prototype.setTabSize=function(_newTabSize){return!1},IdentityLinesCollection.prototype.setWrappingSettings=function(_wrappingIndent,_wrappingColumn,_columnsForFullWidthChar){return!1},IdentityLinesCollection.prototype.onModelFlushed=function(){},IdentityLinesCollection.prototype.onModelLinesDeleted=function(_versionId,fromLineNumber,toLineNumber){return new ViewLinesDeletedEvent(fromLineNumber,toLineNumber)},IdentityLinesCollection.prototype.onModelLinesInserted=function(_versionId,fromLineNumber,toLineNumber,_text){return new ViewLinesInsertedEvent(fromLineNumber,toLineNumber)},IdentityLinesCollection.prototype.onModelLineChanged=function(_versionId,lineNumber,_newText){return[!1,new ViewLinesChangedEvent(lineNumber,lineNumber),null,null]},IdentityLinesCollection.prototype.acceptVersionId=function(_versionId){},IdentityLinesCollection.prototype.getViewLineCount=function(){return this.model.getLineCount()},IdentityLinesCollection.prototype.warmUpLookupCache=function(_viewStartLineNumber,_viewEndLineNumber){},IdentityLinesCollection.prototype.getActiveIndentGuide=function(viewLineNumber,_minLineNumber,_maxLineNumber){return{startLineNumber:viewLineNumber,endLineNumber:viewLineNumber,indent:0}},IdentityLinesCollection.prototype.getViewLinesIndentGuides=function(viewStartLineNumber,viewEndLineNumber){for(var viewLineCount=viewEndLineNumber-viewStartLineNumber+1,result=new Array(viewLineCount),i=0;i<viewLineCount;i++)result[i]=0;return result},IdentityLinesCollection.prototype.getViewLineContent=function(viewLineNumber){return this.model.getLineContent(viewLineNumber)},IdentityLinesCollection.prototype.getViewLineLength=function(viewLineNumber){return this.model.getLineLength(viewLineNumber)},IdentityLinesCollection.prototype.getViewLineMinColumn=function(viewLineNumber){return this.model.getLineMinColumn(viewLineNumber)},IdentityLinesCollection.prototype.getViewLineMaxColumn=function(viewLineNumber){return this.model.getLineMaxColumn(viewLineNumber)},IdentityLinesCollection.prototype.getViewLineData=function(viewLineNumber){var lineTokens=this.model.getLineTokens(viewLineNumber),lineContent=lineTokens.getLineContent();return new viewModel_viewModel.c(lineContent,!1,1,lineContent.length+1,lineTokens.inflate())},IdentityLinesCollection.prototype.getViewLinesData=function(viewStartLineNumber,viewEndLineNumber,needed){var lineCount=this.model.getLineCount();viewStartLineNumber=Math.min(Math.max(1,viewStartLineNumber),lineCount),viewEndLineNumber=Math.min(Math.max(1,viewEndLineNumber),lineCount);for(var result=[],lineNumber=viewStartLineNumber;lineNumber<=viewEndLineNumber;lineNumber++){var idx=lineNumber-viewStartLineNumber;needed[idx]||(result[idx]=null),result[idx]=this.getViewLineData(lineNumber)}return result},IdentityLinesCollection.prototype.getAllOverviewRulerDecorations=function(ownerId,filterOutValidation,theme){for(var decorations=this.model.getOverviewRulerDecorations(ownerId,filterOutValidation),result=new OverviewRulerDecorations,_i=0,decorations_2=decorations;_i<decorations_2.length;_i++){var decoration=decorations_2[_i],opts=decoration.options.overviewRuler,lane=opts?opts.position:0;if(lane!==0){var color=opts.getColor(theme),viewStartLineNumber=decoration.range.startLineNumber,viewEndLineNumber=decoration.range.endLineNumber;result.accept(color,viewStartLineNumber,viewEndLineNumber,lane)}}return result.result},IdentityLinesCollection.prototype.getDecorationsInRange=function(range,ownerId,filterOutValidation){return this.model.getDecorationsInRange(range,ownerId,filterOutValidation)},IdentityLinesCollection}(),OverviewRulerDecorations=function(){function OverviewRulerDecorations2(){this.result=Object.create(null)}return OverviewRulerDecorations2.prototype.accept=function(color,startLineNumber,endLineNumber,lane){var prev=this.result[color];if(prev){var prevLane=prev[prev.length-3],prevEndLineNumber=prev[prev.length-1];if(prevLane===lane&&prevEndLineNumber+1>=startLineNumber){endLineNumber>prevEndLineNumber&&(prev[prev.length-1]=endLineNumber);return}prev.push(lane,startLineNumber,endLineNumber)}else this.result[color]=[lane,startLineNumber,endLineNumber]},OverviewRulerDecorations2}(),characterHardWrappingLineMapper_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),WrappingCharacterClassifier=function(_super){characterHardWrappingLineMapper_extends(WrappingCharacterClassifier2,_super);function WrappingCharacterClassifier2(BREAK_BEFORE,BREAK_AFTER,BREAK_OBTRUSIVE){for(var _this=_super.call(this,0)||this,i=0;i<BREAK_BEFORE.length;i++)_this.set(BREAK_BEFORE.charCodeAt(i),1);for(var i=0;i<BREAK_AFTER.length;i++)_this.set(BREAK_AFTER.charCodeAt(i),2);for(var i=0;i<BREAK_OBTRUSIVE.length;i++)_this.set(BREAK_OBTRUSIVE.charCodeAt(i),3);return _this}return WrappingCharacterClassifier2.prototype.get=function(charCode){return charCode>=12352&&charCode<=12543||charCode>=13312&&charCode<=19903||charCode>=19968&&charCode<=40959?4:_super.prototype.get.call(this,charCode)},WrappingCharacterClassifier2}(characterClassifier.a),characterHardWrappingLineMapper_CharacterHardWrappingLineMapperFactory=function(){function CharacterHardWrappingLineMapperFactory(breakBeforeChars,breakAfterChars,breakObtrusiveChars){this.classifier=new WrappingCharacterClassifier(breakBeforeChars,breakAfterChars,breakObtrusiveChars)}return CharacterHardWrappingLineMapperFactory.nextVisibleColumn=function(currentVisibleColumn,tabSize,isTab,columnSize){return currentVisibleColumn=+currentVisibleColumn,tabSize=+tabSize,columnSize=+columnSize,isTab?currentVisibleColumn+(tabSize-currentVisibleColumn%tabSize):currentVisibleColumn+columnSize},CharacterHardWrappingLineMapperFactory.prototype.createLineMapping=function(lineText,tabSize,breakingColumn,columnsForFullWidthChar,hardWrappingIndent){if(breakingColumn===-1)return null;tabSize=+tabSize,breakingColumn=+breakingColumn,columnsForFullWidthChar=+columnsForFullWidthChar,hardWrappingIndent=+hardWrappingIndent;var wrappedTextIndentVisibleColumn=0,wrappedTextIndent="",firstNonWhitespaceIndex=-1;if(hardWrappingIndent!==0&&(firstNonWhitespaceIndex=strings.q(lineText),firstNonWhitespaceIndex!==-1)){wrappedTextIndent=lineText.substring(0,firstNonWhitespaceIndex);for(var i=0;i<firstNonWhitespaceIndex;i++)wrappedTextIndentVisibleColumn=CharacterHardWrappingLineMapperFactory.nextVisibleColumn(wrappedTextIndentVisibleColumn,tabSize,lineText.charCodeAt(i)===9,1);var numberOfAdditionalTabs=0;hardWrappingIndent===2?numberOfAdditionalTabs=1:hardWrappingIndent===3&&(numberOfAdditionalTabs=2);for(var i=0;i<numberOfAdditionalTabs;i++)wrappedTextIndent+="	",wrappedTextIndentVisibleColumn=CharacterHardWrappingLineMapperFactory.nextVisibleColumn(wrappedTextIndentVisibleColumn,tabSize,!0,1);wrappedTextIndentVisibleColumn+columnsForFullWidthChar>breakingColumn&&(wrappedTextIndent="",wrappedTextIndentVisibleColumn=0)}for(var classifier=this.classifier,lastBreakingOffset=0,breakingLengths=[],breakingLengthsIndex=0,visibleColumn=0,niceBreakOffset=-1,niceBreakVisibleColumn=0,obtrusiveBreakOffset=-1,obtrusiveBreakVisibleColumn=0,len=lineText.length,i=0;i<len;i++){var charCode=lineText.charCodeAt(i),charCodeIsTab=charCode===9,charCodeClass=classifier.get(charCode);if(strings.B(charCode)){visibleColumn=visibleColumn+1;continue}if(charCodeClass===1&&(niceBreakOffset=i,niceBreakVisibleColumn=wrappedTextIndentVisibleColumn),charCodeClass===4&&i>0){var prevCode=lineText.charCodeAt(i-1),prevClass=classifier.get(prevCode);prevClass!==1&&(niceBreakOffset=i,niceBreakVisibleColumn=wrappedTextIndentVisibleColumn)}var charColumnSize=1;if(strings.z(charCode)&&(charColumnSize=columnsForFullWidthChar),visibleColumn=CharacterHardWrappingLineMapperFactory.nextVisibleColumn(visibleColumn,tabSize,charCodeIsTab,charColumnSize),visibleColumn>breakingColumn&&i!==0){var breakBeforeOffset=void 0,restoreVisibleColumnFrom=void 0;niceBreakOffset!==-1&&niceBreakVisibleColumn<=breakingColumn?(breakBeforeOffset=niceBreakOffset,restoreVisibleColumnFrom=niceBreakVisibleColumn):obtrusiveBreakOffset!==-1&&obtrusiveBreakVisibleColumn<=breakingColumn?(breakBeforeOffset=obtrusiveBreakOffset,restoreVisibleColumnFrom=obtrusiveBreakVisibleColumn):(breakBeforeOffset=i,restoreVisibleColumnFrom=wrappedTextIndentVisibleColumn),breakingLengths[breakingLengthsIndex++]=breakBeforeOffset-lastBreakingOffset,lastBreakingOffset=breakBeforeOffset,visibleColumn=CharacterHardWrappingLineMapperFactory.nextVisibleColumn(restoreVisibleColumnFrom,tabSize,charCodeIsTab,charColumnSize),niceBreakOffset=-1,niceBreakVisibleColumn=0,obtrusiveBreakOffset=-1,obtrusiveBreakVisibleColumn=0}if(niceBreakOffset!==-1&&(niceBreakVisibleColumn=CharacterHardWrappingLineMapperFactory.nextVisibleColumn(niceBreakVisibleColumn,tabSize,charCodeIsTab,charColumnSize)),obtrusiveBreakOffset!==-1&&(obtrusiveBreakVisibleColumn=CharacterHardWrappingLineMapperFactory.nextVisibleColumn(obtrusiveBreakVisibleColumn,tabSize,charCodeIsTab,charColumnSize)),charCodeClass===2&&(hardWrappingIndent===0||i>=firstNonWhitespaceIndex)&&(niceBreakOffset=i+1,niceBreakVisibleColumn=wrappedTextIndentVisibleColumn),charCodeClass===4&&i<len-1){var nextCode=lineText.charCodeAt(i+1),nextClass=classifier.get(nextCode);nextClass!==2&&(niceBreakOffset=i+1,niceBreakVisibleColumn=wrappedTextIndentVisibleColumn)}charCodeClass===3&&(obtrusiveBreakOffset=i+1,obtrusiveBreakVisibleColumn=wrappedTextIndentVisibleColumn)}return breakingLengthsIndex===0?null:(breakingLengths[breakingLengthsIndex++]=len-lastBreakingOffset,new characterHardWrappingLineMapper_CharacterHardWrappingLineMapping(new prefixSumComputer.a(Object(uint.b)(breakingLengths)),wrappedTextIndent))},CharacterHardWrappingLineMapperFactory}(),characterHardWrappingLineMapper_CharacterHardWrappingLineMapping=function(){function CharacterHardWrappingLineMapping(prefixSums,wrappedLinesIndent){this._prefixSums=prefixSums,this._wrappedLinesIndent=wrappedLinesIndent}return CharacterHardWrappingLineMapping.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},CharacterHardWrappingLineMapping.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},CharacterHardWrappingLineMapping.prototype.getInputOffsetOfOutputPosition=function(outputLineIndex,outputOffset){return outputLineIndex===0?outputOffset:this._prefixSums.getAccumulatedValue(outputLineIndex-1)+outputOffset},CharacterHardWrappingLineMapping.prototype.getOutputPositionOfInputOffset=function(inputOffset){var r=this._prefixSums.getIndexOf(inputOffset);return new OutputPosition(r.index,r.remainder)},CharacterHardWrappingLineMapping}(),viewModelDecorations_ViewModelDecorations=function(){function ViewModelDecorations(editorId,model,configuration,linesCollection,coordinatesConverter){this.editorId=editorId,this.model=model,this.configuration=configuration,this._linesCollection=linesCollection,this._coordinatesConverter=coordinatesConverter,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}return ViewModelDecorations.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},ViewModelDecorations.prototype.dispose=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},ViewModelDecorations.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},ViewModelDecorations.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},ViewModelDecorations.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},ViewModelDecorations.prototype._getOrCreateViewModelDecoration=function(modelDecoration){var id=modelDecoration.id,r=this._decorationsCache[id];if(!r){var modelRange=modelDecoration.range,options=modelDecoration.options,viewRange=void 0;if(options.isWholeLine){var start=this._coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelRange.startLineNumber,1)),end=this._coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelRange.endLineNumber,this.model.getLineMaxColumn(modelRange.endLineNumber)));viewRange=new core_range.a(start.lineNumber,start.column,end.lineNumber,end.column)}else viewRange=this._coordinatesConverter.convertModelRangeToViewRange(modelRange);r=new viewModel_viewModel.e(viewRange,options),this._decorationsCache[id]=r}return r},ViewModelDecorations.prototype.getDecorationsViewportData=function(viewRange){var cacheIsValid=this._cachedModelDecorationsResolver!==null;return cacheIsValid=cacheIsValid&&viewRange.equalsRange(this._cachedModelDecorationsResolverViewRange),cacheIsValid||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(viewRange),this._cachedModelDecorationsResolverViewRange=viewRange),this._cachedModelDecorationsResolver},ViewModelDecorations.prototype._getDecorationsViewportData=function(viewportRange){for(var modelDecorations=this._linesCollection.getDecorationsInRange(viewportRange,this.editorId,this.configuration.options.get(65)),startLineNumber=viewportRange.startLineNumber,endLineNumber=viewportRange.endLineNumber,decorationsInViewport=[],decorationsInViewportLen=0,inlineDecorations=[],j=startLineNumber;j<=endLineNumber;j++)inlineDecorations[j-startLineNumber]=[];for(var i=0,len=modelDecorations.length;i<len;i++){var modelDecoration=modelDecorations[i],decorationOptions=modelDecoration.options,viewModelDecoration=this._getOrCreateViewModelDecoration(modelDecoration),viewRange=viewModelDecoration.range;if(decorationsInViewport[decorationsInViewportLen++]=viewModelDecoration,decorationOptions.inlineClassName)for(var inlineDecoration=new viewModel_viewModel.a(viewRange,decorationOptions.inlineClassName,decorationOptions.inlineClassNameAffectsLetterSpacing?3:0),intersectedStartLineNumber=Math.max(startLineNumber,viewRange.startLineNumber),intersectedEndLineNumber=Math.min(endLineNumber,viewRange.endLineNumber),j=intersectedStartLineNumber;j<=intersectedEndLineNumber;j++)inlineDecorations[j-startLineNumber].push(inlineDecoration);if(decorationOptions.beforeContentClassName&&startLineNumber<=viewRange.startLineNumber&&viewRange.startLineNumber<=endLineNumber){var inlineDecoration=new viewModel_viewModel.a(new core_range.a(viewRange.startLineNumber,viewRange.startColumn,viewRange.startLineNumber,viewRange.startColumn),decorationOptions.beforeContentClassName,1);inlineDecorations[viewRange.startLineNumber-startLineNumber].push(inlineDecoration)}if(decorationOptions.afterContentClassName&&startLineNumber<=viewRange.endLineNumber&&viewRange.endLineNumber<=endLineNumber){var inlineDecoration=new viewModel_viewModel.a(new core_range.a(viewRange.endLineNumber,viewRange.endColumn,viewRange.endLineNumber,viewRange.endColumn),decorationOptions.afterContentClassName,2);inlineDecorations[viewRange.endLineNumber-startLineNumber].push(inlineDecoration)}}return{decorations:decorationsInViewport,inlineDecorations}},ViewModelDecorations}(),viewModelImpl_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),USE_IDENTITY_LINES_COLLECTION=!0,viewModelImpl_ViewModel=function(_super){viewModelImpl_extends(ViewModel,_super);function ViewModel(editorId,configuration,model,scheduleAtNextAnimationFrame){var _this=_super.call(this)||this;if(_this.editorId=editorId,_this.configuration=configuration,_this.model=model,_this._tokenizeViewportSoon=_this._register(new common_async.d(function(){return _this.tokenizeViewport()},50)),_this.hasFocus=!1,_this.viewportStartLine=-1,_this.viewportStartLineTrackedRange=null,_this.viewportStartLineDelta=0,USE_IDENTITY_LINES_COLLECTION&&_this.model.isTooLargeForTokenization())_this.lines=new splitLinesCollection_IdentityLinesCollection(_this.model);else{var options=_this.configuration.options,wrappingInfo=options.get(104),fontInfo=options.get(32),wordWrapBreakAfterCharacters=options.get(94),wordWrapBreakBeforeCharacters=options.get(95),wordWrapBreakObtrusiveCharacters=options.get(96),wrappingIndent=options.get(99),hardWrappingLineMapperFactory=new characterHardWrappingLineMapper_CharacterHardWrappingLineMapperFactory(wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters);_this.lines=new splitLinesCollection_SplitLinesCollection(_this.model,hardWrappingLineMapperFactory,_this.model.getOptions().tabSize,wrappingInfo.wrappingColumn,fontInfo.typicalFullwidthCharacterWidth/fontInfo.typicalHalfwidthCharacterWidth,wrappingIndent)}return _this.coordinatesConverter=_this.lines.createCoordinatesConverter(),_this.viewLayout=_this._register(new viewLayout_ViewLayout(_this.configuration,_this.getLineCount(),scheduleAtNextAnimationFrame)),_this._register(_this.viewLayout.onDidScroll(function(e){e.scrollTopChanged&&_this._tokenizeViewportSoon.schedule();try{var eventsCollector=_this._beginEmit();eventsCollector.emit(new ViewScrollChangedEvent(e))}finally{_this._endEmit()}})),_this.decorations=new viewModelDecorations_ViewModelDecorations(_this.editorId,_this.model,_this.configuration,_this.lines,_this.coordinatesConverter),_this._registerModelEvents(),_this._register(_this.configuration.onDidChange(function(e){try{var eventsCollector=_this._beginEmit();_this._onConfigurationChanged(eventsCollector,e)}finally{_this._endEmit()}})),_this._register(minimapTokensColorTracker_MinimapTokensColorTracker.getInstance().onDidChange(function(){try{var eventsCollector=_this._beginEmit();eventsCollector.emit(new ViewTokensColorsChangedEvent)}finally{_this._endEmit()}})),_this}return ViewModel.prototype.dispose=function(){_super.prototype.dispose.call(this),this.decorations.dispose(),this.lines.dispose(),this.invalidateMinimapColorCache(),this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,null,1)},ViewModel.prototype.tokenizeViewport=function(){var linesViewportData=this.viewLayout.getLinesViewportData(),startPosition=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(linesViewportData.startLineNumber,1)),endPosition=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(linesViewportData.endLineNumber,1));this.model.tokenizeViewport(startPosition.lineNumber,endPosition.lineNumber)},ViewModel.prototype.setHasFocus=function(hasFocus){this.hasFocus=hasFocus},ViewModel.prototype._onConfigurationChanged=function(eventsCollector,e){var previousViewportStartModelPosition=null;if(this.viewportStartLine!==-1){var previousViewportStartViewPosition=new core_position.a(this.viewportStartLine,this.getLineMinColumn(this.viewportStartLine));previousViewportStartModelPosition=this.coordinatesConverter.convertViewPositionToModelPosition(previousViewportStartViewPosition)}var restorePreviousViewportStart=!1,options=this.configuration.options,wrappingInfo=options.get(104),fontInfo=options.get(32),wrappingIndent=options.get(99);if(this.lines.setWrappingSettings(wrappingIndent,wrappingInfo.wrappingColumn,fontInfo.typicalFullwidthCharacterWidth/fontInfo.typicalHalfwidthCharacterWidth)&&(eventsCollector.emit(new ViewFlushedEvent),eventsCollector.emit(new ViewLineMappingChangedEvent),eventsCollector.emit(new ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(restorePreviousViewportStart=!0)),e.hasChanged(65)&&(this.decorations.reset(),eventsCollector.emit(new ViewDecorationsChangedEvent)),eventsCollector.emit(new ViewConfigurationChangedEvent(e)),this.viewLayout.onConfigurationChanged(e),restorePreviousViewportStart&&previousViewportStartModelPosition){var viewPosition=this.coordinatesConverter.convertModelPositionToViewPosition(previousViewportStartModelPosition),viewPositionTop=this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);this.viewLayout.setScrollPositionNow({scrollTop:viewPositionTop+this.viewportStartLineDelta})}},ViewModel.prototype._registerModelEvents=function(){var _this=this;this._register(this.model.onDidChangeRawContentFast(function(e){try{for(var eventsCollector=_this._beginEmit(),hadOtherModelChange=!1,hadModelLineChangeThatChangedLineMapping=!1,changes=e.changes,versionId=e.versionId,j=0,lenJ=changes.length;j<lenJ;j++){var change=changes[j];switch(change.changeType){case 1:{_this.lines.onModelFlushed(),eventsCollector.emit(new ViewFlushedEvent),_this.decorations.reset(),_this.viewLayout.onFlushed(_this.getLineCount()),hadOtherModelChange=!0;break}case 3:{var linesDeletedEvent=_this.lines.onModelLinesDeleted(versionId,change.fromLineNumber,change.toLineNumber);linesDeletedEvent!==null&&(eventsCollector.emit(linesDeletedEvent),_this.viewLayout.onLinesDeleted(linesDeletedEvent.fromLineNumber,linesDeletedEvent.toLineNumber)),hadOtherModelChange=!0;break}case 4:{var linesInsertedEvent=_this.lines.onModelLinesInserted(versionId,change.fromLineNumber,change.toLineNumber,change.detail);linesInsertedEvent!==null&&(eventsCollector.emit(linesInsertedEvent),_this.viewLayout.onLinesInserted(linesInsertedEvent.fromLineNumber,linesInsertedEvent.toLineNumber)),hadOtherModelChange=!0;break}case 2:{var _a=_this.lines.onModelLineChanged(versionId,change.lineNumber,change.detail),lineMappingChanged=_a[0],linesChangedEvent=_a[1],linesInsertedEvent=_a[2],linesDeletedEvent=_a[3];hadModelLineChangeThatChangedLineMapping=lineMappingChanged,linesChangedEvent&&eventsCollector.emit(linesChangedEvent),linesInsertedEvent&&(eventsCollector.emit(linesInsertedEvent),_this.viewLayout.onLinesInserted(linesInsertedEvent.fromLineNumber,linesInsertedEvent.toLineNumber)),linesDeletedEvent&&(eventsCollector.emit(linesDeletedEvent),_this.viewLayout.onLinesDeleted(linesDeletedEvent.fromLineNumber,linesDeletedEvent.toLineNumber));break}case 5:break}}_this.lines.acceptVersionId(versionId),_this.viewLayout.onHeightMaybeChanged(),!hadOtherModelChange&&hadModelLineChangeThatChangedLineMapping&&(eventsCollector.emit(new ViewLineMappingChangedEvent),eventsCollector.emit(new ViewDecorationsChangedEvent),_this.decorations.onLineMappingChanged())}finally{_this._endEmit()}if(_this.viewportStartLine=-1,_this.configuration.setMaxLineNumber(_this.model.getLineCount()),!_this.hasFocus&&_this.model.getAttachedEditorCount()>=2&&_this.viewportStartLineTrackedRange){var modelRange=_this.model._getTrackedRange(_this.viewportStartLineTrackedRange);if(modelRange){var viewPosition=_this.coordinatesConverter.convertModelPositionToViewPosition(modelRange.getStartPosition()),viewPositionTop=_this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);_this.viewLayout.setScrollPositionNow({scrollTop:viewPositionTop+_this.viewportStartLineDelta})}}})),this._register(this.model.onDidChangeTokens(function(e){for(var viewRanges=[],j=0,lenJ=e.ranges.length;j<lenJ;j++){var modelRange=e.ranges[j],viewStartLineNumber=_this.coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelRange.fromLineNumber,1)).lineNumber,viewEndLineNumber=_this.coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelRange.toLineNumber,_this.model.getLineMaxColumn(modelRange.toLineNumber))).lineNumber;viewRanges[j]={fromLineNumber:viewStartLineNumber,toLineNumber:viewEndLineNumber}}try{var eventsCollector=_this._beginEmit();eventsCollector.emit(new ViewTokensChangedEvent(viewRanges))}finally{_this._endEmit()}e.tokenizationSupportChanged&&_this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(function(e){try{var eventsCollector=_this._beginEmit();eventsCollector.emit(new ViewLanguageConfigurationEvent)}finally{_this._endEmit()}})),this._register(this.model.onDidChangeOptions(function(e){if(_this.lines.setTabSize(_this.model.getOptions().tabSize)){_this.decorations.onLineMappingChanged(),_this.viewLayout.onFlushed(_this.getLineCount());try{var eventsCollector=_this._beginEmit();eventsCollector.emit(new ViewFlushedEvent),eventsCollector.emit(new ViewLineMappingChangedEvent),eventsCollector.emit(new ViewDecorationsChangedEvent)}finally{_this._endEmit()}}})),this._register(this.model.onDidChangeDecorations(function(e){_this.decorations.onModelDecorationsChanged();try{var eventsCollector=_this._beginEmit();eventsCollector.emit(new ViewDecorationsChangedEvent)}finally{_this._endEmit()}}))},ViewModel.prototype.setHiddenAreas=function(ranges){try{var eventsCollector=this._beginEmit(),lineMappingChanged=this.lines.setHiddenAreas(ranges);lineMappingChanged&&(eventsCollector.emit(new ViewFlushedEvent),eventsCollector.emit(new ViewLineMappingChangedEvent),eventsCollector.emit(new ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._endEmit()}},ViewModel.prototype.getVisibleRanges=function(){var visibleViewRange=this.getCompletelyVisibleViewRange(),visibleRange=this.coordinatesConverter.convertViewRangeToModelRange(visibleViewRange),hiddenAreas=this.lines.getHiddenAreas();if(hiddenAreas.length===0)return[visibleRange];for(var result=[],resultLen=0,startLineNumber=visibleRange.startLineNumber,startColumn=visibleRange.startColumn,endLineNumber=visibleRange.endLineNumber,endColumn=visibleRange.endColumn,i=0,len=hiddenAreas.length;i<len;i++){var hiddenStartLineNumber=hiddenAreas[i].startLineNumber,hiddenEndLineNumber=hiddenAreas[i].endLineNumber;hiddenEndLineNumber<startLineNumber||hiddenStartLineNumber>endLineNumber||(startLineNumber<hiddenStartLineNumber&&(result[resultLen++]=new core_range.a(startLineNumber,startColumn,hiddenStartLineNumber-1,this.model.getLineMaxColumn(hiddenStartLineNumber-1))),startLineNumber=hiddenEndLineNumber+1,startColumn=1)}return(startLineNumber<endLineNumber||startLineNumber===endLineNumber&&startColumn<endColumn)&&(result[resultLen++]=new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn)),result},ViewModel.prototype.getCompletelyVisibleViewRange=function(){var partialData=this.viewLayout.getLinesViewportData(),startViewLineNumber=partialData.completelyVisibleStartLineNumber,endViewLineNumber=partialData.completelyVisibleEndLineNumber;return new core_range.a(startViewLineNumber,this.getLineMinColumn(startViewLineNumber),endViewLineNumber,this.getLineMaxColumn(endViewLineNumber))},ViewModel.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(scrollTop){var partialData=this.viewLayout.getLinesViewportDataAtScrollTop(scrollTop),startViewLineNumber=partialData.completelyVisibleStartLineNumber,endViewLineNumber=partialData.completelyVisibleEndLineNumber;return new core_range.a(startViewLineNumber,this.getLineMinColumn(startViewLineNumber),endViewLineNumber,this.getLineMaxColumn(endViewLineNumber))},ViewModel.prototype.saveState=function(){var compatViewState=this.viewLayout.saveState(),scrollTop=compatViewState.scrollTop,firstViewLineNumber=this.viewLayout.getLineNumberAtVerticalOffset(scrollTop),firstPosition=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(firstViewLineNumber,this.getLineMinColumn(firstViewLineNumber))),firstPositionDeltaTop=this.viewLayout.getVerticalOffsetForLineNumber(firstViewLineNumber)-scrollTop;return{scrollLeft:compatViewState.scrollLeft,firstPosition,firstPositionDeltaTop}},ViewModel.prototype.reduceRestoreState=function(state){if(typeof state.firstPosition>"u")return this._reduceRestoreStateCompatibility(state);var modelPosition=this.model.validatePosition(state.firstPosition),viewPosition=this.coordinatesConverter.convertModelPositionToViewPosition(modelPosition),scrollTop=this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber)-state.firstPositionDeltaTop;return{scrollLeft:state.scrollLeft,scrollTop}},ViewModel.prototype._reduceRestoreStateCompatibility=function(state){return{scrollLeft:state.scrollLeft,scrollTop:state.scrollTopWithoutViewZones}},ViewModel.prototype.getTabSize=function(){return this.model.getOptions().tabSize},ViewModel.prototype.getOptions=function(){return this.model.getOptions()},ViewModel.prototype.getLineCount=function(){return this.lines.getViewLineCount()},ViewModel.prototype.setViewport=function(startLineNumber,endLineNumber,centeredLineNumber){this.lines.warmUpLookupCache(startLineNumber,endLineNumber),this.viewportStartLine=startLineNumber;var position=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(startLineNumber,this.getLineMinColumn(startLineNumber)));this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column),1);var viewportStartLineTop=this.viewLayout.getVerticalOffsetForLineNumber(startLineNumber),scrollTop=this.viewLayout.getCurrentScrollTop();this.viewportStartLineDelta=scrollTop-viewportStartLineTop},ViewModel.prototype.getActiveIndentGuide=function(lineNumber,minLineNumber,maxLineNumber){return this.lines.getActiveIndentGuide(lineNumber,minLineNumber,maxLineNumber)},ViewModel.prototype.getLinesIndentGuides=function(startLineNumber,endLineNumber){return this.lines.getViewLinesIndentGuides(startLineNumber,endLineNumber)},ViewModel.prototype.getLineContent=function(lineNumber){return this.lines.getViewLineContent(lineNumber)},ViewModel.prototype.getLineLength=function(lineNumber){return this.lines.getViewLineLength(lineNumber)},ViewModel.prototype.getLineMinColumn=function(lineNumber){return this.lines.getViewLineMinColumn(lineNumber)},ViewModel.prototype.getLineMaxColumn=function(lineNumber){return this.lines.getViewLineMaxColumn(lineNumber)},ViewModel.prototype.getLineFirstNonWhitespaceColumn=function(lineNumber){var result=strings.q(this.getLineContent(lineNumber));return result===-1?0:result+1},ViewModel.prototype.getLineLastNonWhitespaceColumn=function(lineNumber){var result=strings.E(this.getLineContent(lineNumber));return result===-1?0:result+2},ViewModel.prototype.getDecorationsInViewport=function(visibleRange){return this.decorations.getDecorationsViewportData(visibleRange).decorations},ViewModel.prototype.getViewLineRenderingData=function(visibleRange,lineNumber){var mightContainRTL=this.model.mightContainRTL(),mightContainNonBasicASCII=this.model.mightContainNonBasicASCII(),tabSize=this.getTabSize(),lineData=this.lines.getViewLineData(lineNumber),allInlineDecorations=this.decorations.getDecorationsViewportData(visibleRange).inlineDecorations,inlineDecorations=allInlineDecorations[lineNumber-visibleRange.startLineNumber];return new viewModel_viewModel.d(lineData.minColumn,lineData.maxColumn,lineData.content,lineData.continuesWithWrappedLine,mightContainRTL,mightContainNonBasicASCII,lineData.tokens,inlineDecorations,tabSize)},ViewModel.prototype.getViewLineData=function(lineNumber){return this.lines.getViewLineData(lineNumber)},ViewModel.prototype.getMinimapLinesRenderingData=function(startLineNumber,endLineNumber,needed){var result=this.lines.getViewLinesData(startLineNumber,endLineNumber,needed);return new viewModel_viewModel.b(this.getTabSize(),result)},ViewModel.prototype.getAllOverviewRulerDecorations=function(theme){return this.lines.getAllOverviewRulerDecorations(this.editorId,this.configuration.options.get(65),theme)},ViewModel.prototype.invalidateOverviewRulerColorCache=function(){for(var decorations=this.model.getOverviewRulerDecorations(),_i=0,decorations_1=decorations;_i<decorations_1.length;_i++){var decoration=decorations_1[_i],opts=decoration.options.overviewRuler;opts&&opts.invalidateCachedColor()}},ViewModel.prototype.invalidateMinimapColorCache=function(){for(var decorations=this.model.getAllDecorations(),_i=0,decorations_2=decorations;_i<decorations_2.length;_i++){var decoration=decorations_2[_i],opts=decoration.options.minimap;opts&&opts.invalidateCachedColor()}},ViewModel.prototype.getValueInRange=function(range,eol){var modelRange=this.coordinatesConverter.convertViewRangeToModelRange(range);return this.model.getValueInRange(modelRange,eol)},ViewModel.prototype.getModelLineMaxColumn=function(modelLineNumber){return this.model.getLineMaxColumn(modelLineNumber)},ViewModel.prototype.validateModelPosition=function(position){return this.model.validatePosition(position)},ViewModel.prototype.validateModelRange=function(range){return this.model.validateRange(range)},ViewModel.prototype.deduceModelPositionRelativeToViewPosition=function(viewAnchorPosition,deltaOffset,lineFeedCnt){var modelAnchor=this.coordinatesConverter.convertViewPositionToModelPosition(viewAnchorPosition);this.model.getEOL().length===2&&(deltaOffset<0?deltaOffset-=lineFeedCnt:deltaOffset+=lineFeedCnt);var modelAnchorOffset=this.model.getOffsetAt(modelAnchor),resultOffset=modelAnchorOffset+deltaOffset;return this.model.getPositionAt(resultOffset)},ViewModel.prototype.getEOL=function(){return this.model.getEOL()},ViewModel.prototype.getPlainTextToCopy=function(ranges,emptySelectionClipboard,forceCRLF){var _this=this,newLineCharacter=forceCRLF?`\r
`:this.model.getEOL();ranges=ranges.slice(0),ranges.sort(core_range.a.compareRangesUsingStarts);for(var hasEmptyRange=!1,hasNonEmptyRange=!1,_i=0,ranges_1=ranges;_i<ranges_1.length;_i++){var range=ranges_1[_i];range.isEmpty()?hasEmptyRange=!0:hasNonEmptyRange=!0}if(!hasNonEmptyRange){if(!emptySelectionClipboard)return"";for(var modelLineNumbers=ranges.map(function(r){var viewLineStart=new core_position.a(r.startLineNumber,1);return _this.coordinatesConverter.convertViewPositionToModelPosition(viewLineStart).lineNumber}),result_1="",i=0;i<modelLineNumbers.length;i++)i>0&&modelLineNumbers[i-1]===modelLineNumbers[i]||(result_1+=this.model.getLineContent(modelLineNumbers[i])+newLineCharacter);return result_1}if(hasEmptyRange&&emptySelectionClipboard){for(var result_2=[],prevModelLineNumber=0,_a=0,ranges_2=ranges;_a<ranges_2.length;_a++){var range=ranges_2[_a],modelLineNumber=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(range.startLineNumber,1)).lineNumber;range.isEmpty()?modelLineNumber!==prevModelLineNumber&&result_2.push(this.model.getLineContent(modelLineNumber)):result_2.push(this.getValueInRange(range,forceCRLF?2:0)),prevModelLineNumber=modelLineNumber}return result_2.length===1?result_2[0]:result_2}for(var result=[],_b=0,ranges_3=ranges;_b<ranges_3.length;_b++){var range=ranges_3[_b];range.isEmpty()||result.push(this.getValueInRange(range,forceCRLF?2:0))}return result.length===1?result[0]:result},ViewModel.prototype.getHTMLToCopy=function(viewRanges,emptySelectionClipboard){if(this.model.getLanguageIdentifier().id===1||viewRanges.length!==1)return null;var range=this.coordinatesConverter.convertViewRangeToModelRange(viewRanges[0]);if(range.isEmpty()){if(!emptySelectionClipboard)return null;var lineNumber=range.startLineNumber;range=new core_range.a(lineNumber,this.model.getLineMinColumn(lineNumber),lineNumber,this.model.getLineMaxColumn(lineNumber))}var fontInfo=this.configuration.options.get(32),colorMap=this._getColorMap(),fontFamily=fontInfo.fontFamily===editorOptions.b.fontFamily?fontInfo.fontFamily:"'"+fontInfo.fontFamily+"', "+editorOptions.b.fontFamily;return'<div style="'+("color: "+colorMap[1]+";")+("background-color: "+colorMap[2]+";")+("font-family: "+fontFamily+";")+("font-weight: "+fontInfo.fontWeight+";")+("font-size: "+fontInfo.fontSize+"px;")+("line-height: "+fontInfo.lineHeight+"px;")+'white-space: pre;">'+this._getHTMLToCopy(range,colorMap)+"</div>"},ViewModel.prototype._getHTMLToCopy=function(modelRange,colorMap){for(var startLineNumber=modelRange.startLineNumber,startColumn=modelRange.startColumn,endLineNumber=modelRange.endLineNumber,endColumn=modelRange.endColumn,tabSize=this.getTabSize(),result="",lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var lineTokens=this.model.getLineTokens(lineNumber),lineContent=lineTokens.getLineContent(),startOffset=lineNumber===startLineNumber?startColumn-1:0,endOffset=lineNumber===endLineNumber?endColumn-1:lineContent.length;lineContent===""?result+="<br>":result+=Object(textToHtmlTokenizer.a)(lineContent,lineTokens.inflate(),colorMap,startOffset,endOffset,tabSize,platform.h)}return result},ViewModel.prototype._getColorMap=function(){var colorMap=modes.A.getColorMap(),result=["#000000"];if(colorMap)for(var i=1,len=colorMap.length;i<len;i++)result[i]=common_color.a.Format.CSS.formatHex(colorMap[i]);return result},ViewModel}(viewEvents_ViewEventEmitter),common_commands=__webpack_require__(2733),contextkey=__webpack_require__(2238),instantiation=__webpack_require__(2232),serviceCollection=__webpack_require__(3378),notification=__webpack_require__(2761),accessibility=__webpack_require__(3167),types=__webpack_require__(2631),codeEditorWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},EDITOR_ID=0,codeEditorWidget_ModelData=function(){function ModelData(model,viewModel,cursor,view,hasRealView,listenersToRemove){this.model=model,this.viewModel=viewModel,this.cursor=cursor,this.view=view,this.hasRealView=hasRealView,this.listenersToRemove=listenersToRemove}return ModelData.prototype.dispose=function(){Object(lifecycle.f)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},ModelData}(),codeEditorWidget_CodeEditorWidget=function(_super){codeEditorWidget_extends(CodeEditorWidget,_super);function CodeEditorWidget(domElement,options,codeEditorWidgetOptions,instantiationService,codeEditorService,commandService,contextKeyService,themeService,notificationService,accessibilityService){var _this=_super.call(this)||this;_this._onDidDispose=_this._register(new common_event.a),_this.onDidDispose=_this._onDidDispose.event,_this._onDidChangeModelContent=_this._register(new common_event.a),_this.onDidChangeModelContent=_this._onDidChangeModelContent.event,_this._onDidChangeModelLanguage=_this._register(new common_event.a),_this.onDidChangeModelLanguage=_this._onDidChangeModelLanguage.event,_this._onDidChangeModelLanguageConfiguration=_this._register(new common_event.a),_this.onDidChangeModelLanguageConfiguration=_this._onDidChangeModelLanguageConfiguration.event,_this._onDidChangeModelOptions=_this._register(new common_event.a),_this.onDidChangeModelOptions=_this._onDidChangeModelOptions.event,_this._onDidChangeModelDecorations=_this._register(new common_event.a),_this.onDidChangeModelDecorations=_this._onDidChangeModelDecorations.event,_this._onDidChangeConfiguration=_this._register(new common_event.a),_this.onDidChangeConfiguration=_this._onDidChangeConfiguration.event,_this._onDidChangeModel=_this._register(new common_event.a),_this.onDidChangeModel=_this._onDidChangeModel.event,_this._onDidChangeCursorPosition=_this._register(new common_event.a),_this.onDidChangeCursorPosition=_this._onDidChangeCursorPosition.event,_this._onDidChangeCursorSelection=_this._register(new common_event.a),_this.onDidChangeCursorSelection=_this._onDidChangeCursorSelection.event,_this._onDidAttemptReadOnlyEdit=_this._register(new common_event.a),_this.onDidAttemptReadOnlyEdit=_this._onDidAttemptReadOnlyEdit.event,_this._onDidLayoutChange=_this._register(new common_event.a),_this.onDidLayoutChange=_this._onDidLayoutChange.event,_this._editorTextFocus=_this._register(new codeEditorWidget_BooleanEventEmitter),_this.onDidFocusEditorText=_this._editorTextFocus.onDidChangeToTrue,_this.onDidBlurEditorText=_this._editorTextFocus.onDidChangeToFalse,_this._editorWidgetFocus=_this._register(new codeEditorWidget_BooleanEventEmitter),_this.onDidFocusEditorWidget=_this._editorWidgetFocus.onDidChangeToTrue,_this.onDidBlurEditorWidget=_this._editorWidgetFocus.onDidChangeToFalse,_this._onWillType=_this._register(new common_event.a),_this.onWillType=_this._onWillType.event,_this._onDidType=_this._register(new common_event.a),_this.onDidType=_this._onDidType.event,_this._onCompositionStart=_this._register(new common_event.a),_this.onCompositionStart=_this._onCompositionStart.event,_this._onCompositionEnd=_this._register(new common_event.a),_this.onCompositionEnd=_this._onCompositionEnd.event,_this._onDidPaste=_this._register(new common_event.a),_this.onDidPaste=_this._onDidPaste.event,_this._onMouseUp=_this._register(new common_event.a),_this.onMouseUp=_this._onMouseUp.event,_this._onMouseDown=_this._register(new common_event.a),_this.onMouseDown=_this._onMouseDown.event,_this._onMouseDrag=_this._register(new common_event.a),_this.onMouseDrag=_this._onMouseDrag.event,_this._onMouseDrop=_this._register(new common_event.a),_this.onMouseDrop=_this._onMouseDrop.event,_this._onContextMenu=_this._register(new common_event.a),_this.onContextMenu=_this._onContextMenu.event,_this._onMouseMove=_this._register(new common_event.a),_this.onMouseMove=_this._onMouseMove.event,_this._onMouseLeave=_this._register(new common_event.a),_this.onMouseLeave=_this._onMouseLeave.event,_this._onMouseWheel=_this._register(new common_event.a),_this.onMouseWheel=_this._onMouseWheel.event,_this._onKeyUp=_this._register(new common_event.a),_this.onKeyUp=_this._onKeyUp.event,_this._onKeyDown=_this._register(new common_event.a),_this.onKeyDown=_this._onKeyDown.event,_this._onDidScrollChange=_this._register(new common_event.a),_this.onDidScrollChange=_this._onDidScrollChange.event,_this._onDidChangeViewZones=_this._register(new common_event.a),_this.onDidChangeViewZones=_this._onDidChangeViewZones.event,_this._domElement=domElement,_this._id=++EDITOR_ID,_this._decorationTypeKeysToIds={},_this._decorationTypeSubtypes={},_this.isSimpleWidget=codeEditorWidgetOptions.isSimpleWidget||!1,_this._telemetryData=codeEditorWidgetOptions.telemetryData,options=options||{},_this._configuration=_this._register(_this._createConfiguration(options,accessibilityService)),_this._register(_this._configuration.onDidChange(function(e){_this._onDidChangeConfiguration.fire(e);var options2=_this._configuration.options;if(e.hasChanged(103)){var layoutInfo=options2.get(103);_this._onDidLayoutChange.fire(layoutInfo)}})),_this._contextKeyService=_this._register(contextKeyService.createScoped(_this._domElement)),_this._notificationService=notificationService,_this._codeEditorService=codeEditorService,_this._commandService=commandService,_this._themeService=themeService,_this._register(new codeEditorWidget_EditorContextKeysManager(_this,_this._contextKeyService)),_this._register(new codeEditorWidget_EditorModeContext(_this,_this._contextKeyService)),_this._instantiationService=instantiationService.createChild(new serviceCollection.a([contextkey.c,_this._contextKeyService])),_this._modelData=null,_this._contributions={},_this._actions={},_this._focusTracker=new codeEditorWidget_CodeEditorWidgetFocusTracker(domElement),_this._focusTracker.onChange(function(){_this._editorWidgetFocus.setValue(_this._focusTracker.hasFocus())}),_this._contentWidgets={},_this._overlayWidgets={};var contributions;Array.isArray(codeEditorWidgetOptions.contributions)?contributions=codeEditorWidgetOptions.contributions:contributions=editorExtensions.d.getEditorContributions();for(var _i=0,contributions_1=contributions;_i<contributions_1.length;_i++){var desc=contributions_1[_i];try{var contribution=_this._instantiationService.createInstance(desc.ctor,_this);_this._contributions[desc.id]=contribution}catch(err){Object(errors.e)(err)}}return editorExtensions.d.getEditorActions().forEach(function(action){var internalAction=new editorAction.a(action.id,action.label,action.alias,Object(types.n)(action.precondition),function(){return _this._instantiationService.invokeFunction(function(accessor){return Promise.resolve(action.runEditorCommand(accessor,_this,null))})},_this._contextKeyService);_this._actions[internalAction.id]=internalAction}),_this._codeEditorService.addCodeEditor(_this),_this}return CodeEditorWidget.prototype._createConfiguration=function(options,accessibilityService){return new config_configuration.a(this.isSimpleWidget,options,this._domElement,accessibilityService)},CodeEditorWidget.prototype.getId=function(){return this.getEditorType()+":"+this._id},CodeEditorWidget.prototype.getEditorType=function(){return editorCommon.a.ICodeEditor},CodeEditorWidget.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var keys=Object.keys(this._contributions),i=0,len=keys.length;i<len;i++){var contributionId=keys[i];this._contributions[contributionId].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),_super.prototype.dispose.call(this)},CodeEditorWidget.prototype.invokeWithinContext=function(fn){return this._instantiationService.invokeFunction(fn)},CodeEditorWidget.prototype.updateOptions=function(newOptions){this._configuration.updateOptions(newOptions)},CodeEditorWidget.prototype.getOptions=function(){return this._configuration.options},CodeEditorWidget.prototype.getOption=function(id){return this._configuration.options.get(id)},CodeEditorWidget.prototype.getRawOptions=function(){return this._configuration.getRawOptions()},CodeEditorWidget.prototype.getValue=function(options){if(options===void 0&&(options=null),!this._modelData)return"";var preserveBOM=!!(options&&options.preserveBOM),eolPreference=0;return options&&options.lineEnding&&options.lineEnding===`
`?eolPreference=1:options&&options.lineEnding&&options.lineEnding===`\r
`&&(eolPreference=2),this._modelData.model.getValue(eolPreference,preserveBOM)},CodeEditorWidget.prototype.setValue=function(newValue){this._modelData&&this._modelData.model.setValue(newValue)},CodeEditorWidget.prototype.getModel=function(){return this._modelData?this._modelData.model:null},CodeEditorWidget.prototype.setModel=function(_model){_model===void 0&&(_model=null);var model=_model;if(!(this._modelData===null&&model===null)&&!(this._modelData&&this._modelData.model===model)){var hasTextFocus=this.hasTextFocus(),detachedModel=this._detachModel();this._attachModel(model),hasTextFocus&&this.hasModel()&&this.focus();var e={oldModelUrl:detachedModel?detachedModel.uri:null,newModelUrl:model?model.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(e),this._postDetachModelCleanup(detachedModel)}},CodeEditorWidget.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var decorationType in this._decorationTypeSubtypes){var subTypes=this._decorationTypeSubtypes[decorationType];for(var subType in subTypes)this._removeDecorationType(decorationType+"-"+subType)}this._decorationTypeSubtypes={}}},CodeEditorWidget.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},CodeEditorWidget.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},CodeEditorWidget._getVerticalOffsetForPosition=function(modelData,modelLineNumber,modelColumn){var modelPosition=modelData.model.validatePosition({lineNumber:modelLineNumber,column:modelColumn}),viewPosition=modelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);return modelData.viewModel.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber)},CodeEditorWidget.prototype.getTopForLineNumber=function(lineNumber){return this._modelData?CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,lineNumber,1):-1},CodeEditorWidget.prototype.getTopForPosition=function(lineNumber,column){return this._modelData?CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,lineNumber,column):-1},CodeEditorWidget.prototype.setHiddenAreas=function(ranges){this._modelData&&this._modelData.viewModel.setHiddenAreas(ranges.map(function(r){return core_range.a.lift(r)}))},CodeEditorWidget.prototype.getVisibleColumnFromPosition=function(rawPosition){if(!this._modelData)return rawPosition.column;var position=this._modelData.model.validatePosition(rawPosition),tabSize=this._modelData.model.getOptions().tabSize;return cursorCommon.a.visibleColumnFromColumn(this._modelData.model.getLineContent(position.lineNumber),position.column,tabSize)+1},CodeEditorWidget.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},CodeEditorWidget.prototype.setPosition=function(position){if(this._modelData){if(!core_position.a.isIPosition(position))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:position.lineNumber,selectionStartColumn:position.column,positionLineNumber:position.lineNumber,positionColumn:position.column}])}},CodeEditorWidget.prototype._sendRevealRange=function(modelRange,verticalType,revealHorizontal,scrollType){if(this._modelData){if(!core_range.a.isIRange(modelRange))throw new Error("Invalid arguments");var validatedModelRange=this._modelData.model.validateRange(modelRange),viewRange=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(validatedModelRange);this._modelData.cursor.emitCursorRevealRange("api",viewRange,verticalType,revealHorizontal,scrollType)}},CodeEditorWidget.prototype.revealLine=function(lineNumber,scrollType){scrollType===void 0&&(scrollType=0),this._revealLine(lineNumber,0,scrollType)},CodeEditorWidget.prototype.revealLineInCenter=function(lineNumber,scrollType){scrollType===void 0&&(scrollType=0),this._revealLine(lineNumber,1,scrollType)},CodeEditorWidget.prototype.revealLineInCenterIfOutsideViewport=function(lineNumber,scrollType){scrollType===void 0&&(scrollType=0),this._revealLine(lineNumber,2,scrollType)},CodeEditorWidget.prototype._revealLine=function(lineNumber,revealType,scrollType){if(typeof lineNumber!="number")throw new Error("Invalid arguments");this._sendRevealRange(new core_range.a(lineNumber,1,lineNumber,1),revealType,!1,scrollType)},CodeEditorWidget.prototype.revealPosition=function(position,scrollType){scrollType===void 0&&(scrollType=0),this._revealPosition(position,0,!0,scrollType)},CodeEditorWidget.prototype.revealPositionInCenter=function(position,scrollType){scrollType===void 0&&(scrollType=0),this._revealPosition(position,1,!0,scrollType)},CodeEditorWidget.prototype.revealPositionInCenterIfOutsideViewport=function(position,scrollType){scrollType===void 0&&(scrollType=0),this._revealPosition(position,2,!0,scrollType)},CodeEditorWidget.prototype._revealPosition=function(position,verticalType,revealHorizontal,scrollType){if(!core_position.a.isIPosition(position))throw new Error("Invalid arguments");this._sendRevealRange(new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column),verticalType,revealHorizontal,scrollType)},CodeEditorWidget.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},CodeEditorWidget.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},CodeEditorWidget.prototype.setSelection=function(something){var isSelection=core_selection.a.isISelection(something),isRange=core_range.a.isIRange(something);if(!isSelection&&!isRange)throw new Error("Invalid arguments");if(isSelection)this._setSelectionImpl(something);else if(isRange){var selection={selectionStartLineNumber:something.startLineNumber,selectionStartColumn:something.startColumn,positionLineNumber:something.endLineNumber,positionColumn:something.endColumn};this._setSelectionImpl(selection)}},CodeEditorWidget.prototype._setSelectionImpl=function(sel){if(this._modelData){var selection=new core_selection.a(sel.selectionStartLineNumber,sel.selectionStartColumn,sel.positionLineNumber,sel.positionColumn);this._modelData.cursor.setSelections("api",[selection])}},CodeEditorWidget.prototype.revealLines=function(startLineNumber,endLineNumber,scrollType){scrollType===void 0&&(scrollType=0),this._revealLines(startLineNumber,endLineNumber,0,scrollType)},CodeEditorWidget.prototype.revealLinesInCenter=function(startLineNumber,endLineNumber,scrollType){scrollType===void 0&&(scrollType=0),this._revealLines(startLineNumber,endLineNumber,1,scrollType)},CodeEditorWidget.prototype.revealLinesInCenterIfOutsideViewport=function(startLineNumber,endLineNumber,scrollType){scrollType===void 0&&(scrollType=0),this._revealLines(startLineNumber,endLineNumber,2,scrollType)},CodeEditorWidget.prototype._revealLines=function(startLineNumber,endLineNumber,verticalType,scrollType){if(typeof startLineNumber!="number"||typeof endLineNumber!="number")throw new Error("Invalid arguments");this._sendRevealRange(new core_range.a(startLineNumber,1,endLineNumber,1),verticalType,!1,scrollType)},CodeEditorWidget.prototype.revealRange=function(range,scrollType,revealVerticalInCenter,revealHorizontal){scrollType===void 0&&(scrollType=0),revealVerticalInCenter===void 0&&(revealVerticalInCenter=!1),revealHorizontal===void 0&&(revealHorizontal=!0),this._revealRange(range,revealVerticalInCenter?1:0,revealHorizontal,scrollType)},CodeEditorWidget.prototype.revealRangeInCenter=function(range,scrollType){scrollType===void 0&&(scrollType=0),this._revealRange(range,1,!0,scrollType)},CodeEditorWidget.prototype.revealRangeInCenterIfOutsideViewport=function(range,scrollType){scrollType===void 0&&(scrollType=0),this._revealRange(range,2,!0,scrollType)},CodeEditorWidget.prototype.revealRangeAtTop=function(range,scrollType){scrollType===void 0&&(scrollType=0),this._revealRange(range,3,!0,scrollType)},CodeEditorWidget.prototype._revealRange=function(range,verticalType,revealHorizontal,scrollType){if(!core_range.a.isIRange(range))throw new Error("Invalid arguments");this._sendRevealRange(core_range.a.lift(range),verticalType,revealHorizontal,scrollType)},CodeEditorWidget.prototype.setSelections=function(ranges,source){if(source===void 0&&(source="api"),!!this._modelData){if(!ranges||ranges.length===0)throw new Error("Invalid arguments");for(var i=0,len=ranges.length;i<len;i++)if(!core_selection.a.isISelection(ranges[i]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(source,ranges)}},CodeEditorWidget.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},CodeEditorWidget.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},CodeEditorWidget.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},CodeEditorWidget.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},CodeEditorWidget.prototype.setScrollLeft=function(newScrollLeft){if(this._modelData){if(typeof newScrollLeft!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:newScrollLeft})}},CodeEditorWidget.prototype.setScrollTop=function(newScrollTop){if(this._modelData){if(typeof newScrollTop!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:newScrollTop})}},CodeEditorWidget.prototype.setScrollPosition=function(position){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(position)},CodeEditorWidget.prototype.saveViewState=function(){if(!this._modelData)return null;for(var contributionsState={},keys=Object.keys(this._contributions),_i=0,keys_1=keys;_i<keys_1.length;_i++){var id=keys_1[_i],contribution=this._contributions[id];typeof contribution.saveViewState=="function"&&(contributionsState[id]=contribution.saveViewState())}var cursorState=this._modelData.cursor.saveState(),viewState=this._modelData.viewModel.saveState();return{cursorState,viewState,contributionsState}},CodeEditorWidget.prototype.restoreViewState=function(s){if(!(!this._modelData||!this._modelData.hasRealView)){var codeEditorState=s;if(codeEditorState&&codeEditorState.cursorState&&codeEditorState.viewState){var cursorState=codeEditorState.cursorState;Array.isArray(cursorState)?this._modelData.cursor.restoreState(cursorState):this._modelData.cursor.restoreState([cursorState]);for(var contributionsState=codeEditorState.contributionsState||{},keys=Object.keys(this._contributions),i=0,len=keys.length;i<len;i++){var id=keys[i],contribution=this._contributions[id];typeof contribution.restoreViewState=="function"&&contribution.restoreViewState(contributionsState[id])}var reducedState=this._modelData.viewModel.reduceRestoreState(codeEditorState.viewState);this._modelData.view.restoreState(reducedState)}}},CodeEditorWidget.prototype.getContribution=function(id){return this._contributions[id]||null},CodeEditorWidget.prototype.getActions=function(){for(var result=[],keys=Object.keys(this._actions),i=0,len=keys.length;i<len;i++){var id=keys[i];result.push(this._actions[id])}return result},CodeEditorWidget.prototype.getSupportedActions=function(){var result=this.getActions();return result=result.filter(function(action){return action.isSupported()}),result},CodeEditorWidget.prototype.getAction=function(id){return this._actions[id]||null},CodeEditorWidget.prototype.trigger=function(source,handlerId,payload){if(payload=payload||{},handlerId===editorCommon.b.Type){if(!this._modelData||typeof payload.text!="string"||payload.text.length===0)return;source==="keyboard"&&this._onWillType.fire(payload.text),this._modelData.cursor.trigger(source,handlerId,payload),source==="keyboard"&&this._onDidType.fire(payload.text);return}if(handlerId===editorCommon.b.Paste){if(!this._modelData||typeof payload.text!="string"||payload.text.length===0)return;var startPosition=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(source,handlerId,payload);var endPosition=this._modelData.cursor.getSelection().getStartPosition();source==="keyboard"&&this._onDidPaste.fire(new core_range.a(startPosition.lineNumber,startPosition.column,endPosition.lineNumber,endPosition.column));return}handlerId===editorCommon.b.CompositionStart&&this._onCompositionStart.fire(),handlerId===editorCommon.b.CompositionEnd&&this._onCompositionEnd.fire();var action=this.getAction(handlerId);if(action){Promise.resolve(action.run()).then(void 0,errors.e);return}this._modelData&&(this._triggerEditorCommand(source,handlerId,payload)||this._modelData.cursor.trigger(source,handlerId,payload))},CodeEditorWidget.prototype._triggerEditorCommand=function(source,handlerId,payload){var _this=this,command=editorExtensions.d.getEditorCommand(handlerId);return command?(payload=payload||{},payload.source=source,this._instantiationService.invokeFunction(function(accessor){Promise.resolve(command.runEditorCommand(accessor,_this,payload)).then(void 0,errors.e)}),!0):!1},CodeEditorWidget.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},CodeEditorWidget.prototype.pushUndoStop=function(){return!this._modelData||this._configuration.options.get(65)?!1:(this._modelData.model.pushStackElement(),!0)},CodeEditorWidget.prototype.executeEdits=function(source,edits,endCursorState){if(!this._modelData||this._configuration.options.get(65))return!1;var cursorStateComputer;return endCursorState?Array.isArray(endCursorState)?cursorStateComputer=function(){return endCursorState}:cursorStateComputer=endCursorState:cursorStateComputer=function(){return null},this._modelData.cursor.executeEdits(source,edits,cursorStateComputer),!0},CodeEditorWidget.prototype.executeCommand=function(source,command){this._modelData&&this._modelData.cursor.trigger(source,editorCommon.b.ExecuteCommand,command)},CodeEditorWidget.prototype.executeCommands=function(source,commands){this._modelData&&this._modelData.cursor.trigger(source,editorCommon.b.ExecuteCommands,commands)},CodeEditorWidget.prototype.changeDecorations=function(callback){return this._modelData?this._modelData.model.changeDecorations(callback,this._id):null},CodeEditorWidget.prototype.getLineDecorations=function(lineNumber){return this._modelData?this._modelData.model.getLineDecorations(lineNumber,this._id,this._configuration.options.get(65)):null},CodeEditorWidget.prototype.deltaDecorations=function(oldDecorations,newDecorations){return this._modelData?oldDecorations.length===0&&newDecorations.length===0?oldDecorations:this._modelData.model.deltaDecorations(oldDecorations,newDecorations,this._id):[]},CodeEditorWidget.prototype.removeDecorations=function(decorationTypeKey){var oldDecorationsIds=this._decorationTypeKeysToIds[decorationTypeKey];oldDecorationsIds&&this.deltaDecorations(oldDecorationsIds,[]),this._decorationTypeKeysToIds.hasOwnProperty(decorationTypeKey)&&delete this._decorationTypeKeysToIds[decorationTypeKey],this._decorationTypeSubtypes.hasOwnProperty(decorationTypeKey)&&delete this._decorationTypeSubtypes[decorationTypeKey]},CodeEditorWidget.prototype.getLayoutInfo=function(){var options=this._configuration.options,layoutInfo=options.get(103);return layoutInfo},CodeEditorWidget.prototype.createOverviewRuler=function(cssClassName){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(cssClassName)},CodeEditorWidget.prototype.getDomNode=function(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode},CodeEditorWidget.prototype.delegateVerticalScrollbarMouseDown=function(browserEvent){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(browserEvent)},CodeEditorWidget.prototype.layout=function(dimension){this._configuration.observeReferenceElement(dimension),this.render()},CodeEditorWidget.prototype.focus=function(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()},CodeEditorWidget.prototype.hasTextFocus=function(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()},CodeEditorWidget.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},CodeEditorWidget.prototype.addContentWidget=function(widget){var widgetData={widget,position:widget.getPosition()};this._contentWidgets.hasOwnProperty(widget.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[widget.getId()]=widgetData,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(widgetData)},CodeEditorWidget.prototype.layoutContentWidget=function(widget){var widgetId=widget.getId();if(this._contentWidgets.hasOwnProperty(widgetId)){var widgetData=this._contentWidgets[widgetId];widgetData.position=widget.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(widgetData)}},CodeEditorWidget.prototype.removeContentWidget=function(widget){var widgetId=widget.getId();if(this._contentWidgets.hasOwnProperty(widgetId)){var widgetData=this._contentWidgets[widgetId];delete this._contentWidgets[widgetId],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(widgetData)}},CodeEditorWidget.prototype.addOverlayWidget=function(widget){var widgetData={widget,position:widget.getPosition()};this._overlayWidgets.hasOwnProperty(widget.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[widget.getId()]=widgetData,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(widgetData)},CodeEditorWidget.prototype.layoutOverlayWidget=function(widget){var widgetId=widget.getId();if(this._overlayWidgets.hasOwnProperty(widgetId)){var widgetData=this._overlayWidgets[widgetId];widgetData.position=widget.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(widgetData)}},CodeEditorWidget.prototype.removeOverlayWidget=function(widget){var widgetId=widget.getId();if(this._overlayWidgets.hasOwnProperty(widgetId)){var widgetData=this._overlayWidgets[widgetId];delete this._overlayWidgets[widgetId],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(widgetData)}},CodeEditorWidget.prototype.changeViewZones=function(callback){if(!(!this._modelData||!this._modelData.hasRealView)){var hasChanges=this._modelData.view.change(callback);hasChanges&&this._onDidChangeViewZones.fire()}},CodeEditorWidget.prototype.getTargetAtClientPoint=function(clientX,clientY){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(clientX,clientY)},CodeEditorWidget.prototype.getScrolledVisiblePosition=function(rawPosition){if(!this._modelData||!this._modelData.hasRealView)return null;var position=this._modelData.model.validatePosition(rawPosition),options=this._configuration.options,layoutInfo=options.get(103),top=CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,position.lineNumber,position.column)-this.getScrollTop(),left=this._modelData.view.getOffsetForColumn(position.lineNumber,position.column)+layoutInfo.glyphMarginWidth+layoutInfo.lineNumbersWidth+layoutInfo.decorationsWidth-this.getScrollLeft();return{top,left,height:options.get(47)}},CodeEditorWidget.prototype.getOffsetForColumn=function(lineNumber,column){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(lineNumber,column)},CodeEditorWidget.prototype.render=function(forceRedraw){forceRedraw===void 0&&(forceRedraw=!1),!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.render(!0,forceRedraw)},CodeEditorWidget.prototype.applyFontInfo=function(target){config_configuration.a.applyFontInfoSlow(target,this._configuration.options.get(32))},CodeEditorWidget.prototype._attachModel=function(model){var _this=this;if(!model){this._modelData=null;return}var listenersToRemove=[];this._domElement.setAttribute("data-mode-id",model.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(model.isDominatedByLongLines()),this._configuration.setMaxLineNumber(model.getLineCount()),model.onBeforeAttached();var viewModel=new viewModelImpl_ViewModel(this._id,this._configuration,model,function(callback){return dom.T(callback)});listenersToRemove.push(model.onDidChangeDecorations(function(e){return _this._onDidChangeModelDecorations.fire(e)})),listenersToRemove.push(model.onDidChangeLanguage(function(e){_this._domElement.setAttribute("data-mode-id",model.getLanguageIdentifier().language),_this._onDidChangeModelLanguage.fire(e)})),listenersToRemove.push(model.onDidChangeLanguageConfiguration(function(e){return _this._onDidChangeModelLanguageConfiguration.fire(e)})),listenersToRemove.push(model.onDidChangeContent(function(e){return _this._onDidChangeModelContent.fire(e)})),listenersToRemove.push(model.onDidChangeOptions(function(e){return _this._onDidChangeModelOptions.fire(e)})),listenersToRemove.push(model.onWillDispose(function(){return _this.setModel(null)}));var cursor=new cursor_Cursor(this._configuration,model,viewModel);listenersToRemove.push(cursor.onDidReachMaxCursorCount(function(){_this._notificationService.warn(nls.a("cursors.maximum","The number of cursors has been limited to {0}.",cursor_Cursor.MAX_CURSOR_COUNT))})),listenersToRemove.push(cursor.onDidAttemptReadOnlyEdit(function(){_this._onDidAttemptReadOnlyEdit.fire(void 0)})),listenersToRemove.push(cursor.onDidChange(function(e){for(var positions=[],i2=0,len2=e.selections.length;i2<len2;i2++)positions[i2]=e.selections[i2].getPosition();var e1={position:positions[0],secondaryPositions:positions.slice(1),reason:e.reason,source:e.source};_this._onDidChangeCursorPosition.fire(e1);var e2={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};_this._onDidChangeCursorSelection.fire(e2)}));var _a=this._createView(viewModel,cursor),view=_a[0],hasRealView=_a[1];if(hasRealView){this._domElement.appendChild(view.domNode.domNode);for(var keys=Object.keys(this._contentWidgets),i=0,len=keys.length;i<len;i++){var widgetId=keys[i];view.addContentWidget(this._contentWidgets[widgetId])}keys=Object.keys(this._overlayWidgets);for(var i=0,len=keys.length;i<len;i++){var widgetId=keys[i];view.addOverlayWidget(this._overlayWidgets[widgetId])}view.render(!1,!0),view.domNode.domNode.setAttribute("data-uri",model.uri.toString())}this._modelData=new codeEditorWidget_ModelData(model,viewModel,cursor,view,hasRealView,listenersToRemove)},CodeEditorWidget.prototype._createView=function(viewModel,cursor){var _this=this,commandDelegate;this.isSimpleWidget?commandDelegate={executeEditorCommand:function(editorCommand,args){editorCommand.runCoreEditorCommand(cursor,args)},paste:function(source,text,pasteOnNewLine,multicursorText){_this.trigger(source,editorCommon.b.Paste,{text,pasteOnNewLine,multicursorText})},type:function(source,text){_this.trigger(source,editorCommon.b.Type,{text})},replacePreviousChar:function(source,text,replaceCharCnt){_this.trigger(source,editorCommon.b.ReplacePreviousChar,{text,replaceCharCnt})},compositionStart:function(source){_this.trigger(source,editorCommon.b.CompositionStart,void 0)},compositionEnd:function(source){_this.trigger(source,editorCommon.b.CompositionEnd,void 0)},cut:function(source){_this.trigger(source,editorCommon.b.Cut,void 0)}}:commandDelegate={executeEditorCommand:function(editorCommand,args){editorCommand.runCoreEditorCommand(cursor,args)},paste:function(source,text,pasteOnNewLine,multicursorText){_this._commandService.executeCommand(editorCommon.b.Paste,{text,pasteOnNewLine,multicursorText})},type:function(source,text){_this._commandService.executeCommand(editorCommon.b.Type,{text})},replacePreviousChar:function(source,text,replaceCharCnt){_this._commandService.executeCommand(editorCommon.b.ReplacePreviousChar,{text,replaceCharCnt})},compositionStart:function(source){_this._commandService.executeCommand(editorCommon.b.CompositionStart,{})},compositionEnd:function(source){_this._commandService.executeCommand(editorCommon.b.CompositionEnd,{})},cut:function(source){_this._commandService.executeCommand(editorCommon.b.Cut,{})}};var viewOutgoingEvents=new ViewOutgoingEvents(viewModel);viewOutgoingEvents.onDidScroll=function(e){return _this._onDidScrollChange.fire(e)},viewOutgoingEvents.onDidGainFocus=function(){return _this._editorTextFocus.setValue(!0)},viewOutgoingEvents.onDidLoseFocus=function(){return _this._editorTextFocus.setValue(!1)},viewOutgoingEvents.onContextMenu=function(e){return _this._onContextMenu.fire(e)},viewOutgoingEvents.onMouseDown=function(e){return _this._onMouseDown.fire(e)},viewOutgoingEvents.onMouseUp=function(e){return _this._onMouseUp.fire(e)},viewOutgoingEvents.onMouseDrag=function(e){return _this._onMouseDrag.fire(e)},viewOutgoingEvents.onMouseDrop=function(e){return _this._onMouseDrop.fire(e)},viewOutgoingEvents.onKeyUp=function(e){return _this._onKeyUp.fire(e)},viewOutgoingEvents.onMouseMove=function(e){return _this._onMouseMove.fire(e)},viewOutgoingEvents.onMouseLeave=function(e){return _this._onMouseLeave.fire(e)},viewOutgoingEvents.onMouseWheel=function(e){return _this._onMouseWheel.fire(e)},viewOutgoingEvents.onKeyDown=function(e){return _this._onKeyDown.fire(e)};var view=new viewImpl_View(commandDelegate,this._configuration,this._themeService,viewModel,cursor,viewOutgoingEvents);return[view,!0]},CodeEditorWidget.prototype._postDetachModelCleanup=function(detachedModel){detachedModel&&detachedModel.removeAllDecorationsWithOwnerId(this._id)},CodeEditorWidget.prototype._detachModel=function(){if(!this._modelData)return null;var model=this._modelData.model,removeDomNode=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),removeDomNode&&this._domElement.removeChild(removeDomNode),model},CodeEditorWidget.prototype._removeDecorationType=function(key){this._codeEditorService.removeDecorationType(key)},CodeEditorWidget.prototype.hasModel=function(){return this._modelData!==null},CodeEditorWidget=__decorate([__param(3,instantiation.a),__param(4,services_codeEditorService.a),__param(5,common_commands.b),__param(6,contextkey.c),__param(7,common_themeService.c),__param(8,notification.a),__param(9,accessibility.b)],CodeEditorWidget),CodeEditorWidget}(lifecycle.a),codeEditorWidget_BooleanEventEmitter=function(_super){codeEditorWidget_extends(BooleanEventEmitter,_super);function BooleanEventEmitter(){var _this=_super.call(this)||this;return _this._onDidChangeToTrue=_this._register(new common_event.a),_this.onDidChangeToTrue=_this._onDidChangeToTrue.event,_this._onDidChangeToFalse=_this._register(new common_event.a),_this.onDidChangeToFalse=_this._onDidChangeToFalse.event,_this._value=0,_this}return BooleanEventEmitter.prototype.setValue=function(_value){var value=_value?2:1;this._value!==value&&(this._value=value,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())},BooleanEventEmitter}(lifecycle.a),codeEditorWidget_EditorContextKeysManager=function(_super){codeEditorWidget_extends(EditorContextKeysManager,_super);function EditorContextKeysManager(editor,contextKeyService){var _this=_super.call(this)||this;return _this._editor=editor,contextKeyService.createKey("editorId",editor.getId()),_this._editorFocus=editorContextKeys.a.focus.bindTo(contextKeyService),_this._textInputFocus=editorContextKeys.a.textInputFocus.bindTo(contextKeyService),_this._editorTextFocus=editorContextKeys.a.editorTextFocus.bindTo(contextKeyService),_this._editorTabMovesFocus=editorContextKeys.a.tabMovesFocus.bindTo(contextKeyService),_this._editorReadonly=editorContextKeys.a.readOnly.bindTo(contextKeyService),_this._hasMultipleSelections=editorContextKeys.a.hasMultipleSelections.bindTo(contextKeyService),_this._hasNonEmptySelection=editorContextKeys.a.hasNonEmptySelection.bindTo(contextKeyService),_this._canUndo=editorContextKeys.a.canUndo.bindTo(contextKeyService),_this._canRedo=editorContextKeys.a.canRedo.bindTo(contextKeyService),_this._register(_this._editor.onDidChangeConfiguration(function(){return _this._updateFromConfig()})),_this._register(_this._editor.onDidChangeCursorSelection(function(){return _this._updateFromSelection()})),_this._register(_this._editor.onDidFocusEditorWidget(function(){return _this._updateFromFocus()})),_this._register(_this._editor.onDidBlurEditorWidget(function(){return _this._updateFromFocus()})),_this._register(_this._editor.onDidFocusEditorText(function(){return _this._updateFromFocus()})),_this._register(_this._editor.onDidBlurEditorText(function(){return _this._updateFromFocus()})),_this._register(_this._editor.onDidChangeModel(function(){return _this._updateFromModel()})),_this._register(_this._editor.onDidChangeConfiguration(function(){return _this._updateFromModel()})),_this._updateFromConfig(),_this._updateFromSelection(),_this._updateFromFocus(),_this._updateFromModel(),_this}return EditorContextKeysManager.prototype._updateFromConfig=function(){var options=this._editor.getOptions();this._editorTabMovesFocus.set(options.get(102)),this._editorReadonly.set(options.get(65))},EditorContextKeysManager.prototype._updateFromSelection=function(){var selections=this._editor.getSelections();selections?(this._hasMultipleSelections.set(selections.length>1),this._hasNonEmptySelection.set(selections.some(function(s){return!s.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},EditorContextKeysManager.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},EditorContextKeysManager.prototype._updateFromModel=function(){var model=this._editor.getModel();this._canUndo.set(!!(model&&model.canUndo())),this._canRedo.set(!!(model&&model.canRedo()))},EditorContextKeysManager}(lifecycle.a),codeEditorWidget_EditorModeContext=function(_super){codeEditorWidget_extends(EditorModeContext,_super);function EditorModeContext(_editor,_contextKeyService){var _this=_super.call(this)||this;_this._editor=_editor,_this._contextKeyService=_contextKeyService,_this._langId=editorContextKeys.a.languageId.bindTo(_contextKeyService),_this._hasCompletionItemProvider=editorContextKeys.a.hasCompletionItemProvider.bindTo(_contextKeyService),_this._hasCodeActionsProvider=editorContextKeys.a.hasCodeActionsProvider.bindTo(_contextKeyService),_this._hasCodeLensProvider=editorContextKeys.a.hasCodeLensProvider.bindTo(_contextKeyService),_this._hasDefinitionProvider=editorContextKeys.a.hasDefinitionProvider.bindTo(_contextKeyService),_this._hasDeclarationProvider=editorContextKeys.a.hasDeclarationProvider.bindTo(_contextKeyService),_this._hasImplementationProvider=editorContextKeys.a.hasImplementationProvider.bindTo(_contextKeyService),_this._hasTypeDefinitionProvider=editorContextKeys.a.hasTypeDefinitionProvider.bindTo(_contextKeyService),_this._hasHoverProvider=editorContextKeys.a.hasHoverProvider.bindTo(_contextKeyService),_this._hasDocumentHighlightProvider=editorContextKeys.a.hasDocumentHighlightProvider.bindTo(_contextKeyService),_this._hasDocumentSymbolProvider=editorContextKeys.a.hasDocumentSymbolProvider.bindTo(_contextKeyService),_this._hasReferenceProvider=editorContextKeys.a.hasReferenceProvider.bindTo(_contextKeyService),_this._hasRenameProvider=editorContextKeys.a.hasRenameProvider.bindTo(_contextKeyService),_this._hasSignatureHelpProvider=editorContextKeys.a.hasSignatureHelpProvider.bindTo(_contextKeyService),_this._hasDocumentFormattingProvider=editorContextKeys.a.hasDocumentFormattingProvider.bindTo(_contextKeyService),_this._hasDocumentSelectionFormattingProvider=editorContextKeys.a.hasDocumentSelectionFormattingProvider.bindTo(_contextKeyService),_this._hasMultipleDocumentFormattingProvider=editorContextKeys.a.hasMultipleDocumentFormattingProvider.bindTo(_contextKeyService),_this._hasMultipleDocumentSelectionFormattingProvider=editorContextKeys.a.hasMultipleDocumentSelectionFormattingProvider.bindTo(_contextKeyService),_this._isInWalkThrough=editorContextKeys.a.isInEmbeddedEditor.bindTo(_contextKeyService);var update=function(){return _this._update()};return _this._register(_editor.onDidChangeModel(update)),_this._register(_editor.onDidChangeModelLanguage(update)),_this._register(modes.d.onDidChange(update)),_this._register(modes.a.onDidChange(update)),_this._register(modes.b.onDidChange(update)),_this._register(modes.f.onDidChange(update)),_this._register(modes.e.onDidChange(update)),_this._register(modes.o.onDidChange(update)),_this._register(modes.B.onDidChange(update)),_this._register(modes.n.onDidChange(update)),_this._register(modes.i.onDidChange(update)),_this._register(modes.k.onDidChange(update)),_this._register(modes.s.onDidChange(update)),_this._register(modes.t.onDidChange(update)),_this._register(modes.g.onDidChange(update)),_this._register(modes.j.onDidChange(update)),_this._register(modes.w.onDidChange(update)),update(),_this}return EditorModeContext.prototype.dispose=function(){_super.prototype.dispose.call(this)},EditorModeContext.prototype.reset=function(){var _this=this;this._contextKeyService.bufferChangeEvents(function(){_this._langId.reset(),_this._hasCompletionItemProvider.reset(),_this._hasCodeActionsProvider.reset(),_this._hasCodeLensProvider.reset(),_this._hasDefinitionProvider.reset(),_this._hasDeclarationProvider.reset(),_this._hasImplementationProvider.reset(),_this._hasTypeDefinitionProvider.reset(),_this._hasHoverProvider.reset(),_this._hasDocumentHighlightProvider.reset(),_this._hasDocumentSymbolProvider.reset(),_this._hasReferenceProvider.reset(),_this._hasRenameProvider.reset(),_this._hasDocumentFormattingProvider.reset(),_this._hasDocumentSelectionFormattingProvider.reset(),_this._hasSignatureHelpProvider.reset(),_this._isInWalkThrough.reset()})},EditorModeContext.prototype._update=function(){var _this=this,model=this._editor.getModel();if(!model){this.reset();return}this._contextKeyService.bufferChangeEvents(function(){_this._langId.set(model.getLanguageIdentifier().language),_this._hasCompletionItemProvider.set(modes.d.has(model)),_this._hasCodeActionsProvider.set(modes.a.has(model)),_this._hasCodeLensProvider.set(modes.b.has(model)),_this._hasDefinitionProvider.set(modes.f.has(model)),_this._hasDeclarationProvider.set(modes.e.has(model)),_this._hasImplementationProvider.set(modes.o.has(model)),_this._hasTypeDefinitionProvider.set(modes.B.has(model)),_this._hasHoverProvider.set(modes.n.has(model)),_this._hasDocumentHighlightProvider.set(modes.i.has(model)),_this._hasDocumentSymbolProvider.set(modes.k.has(model)),_this._hasReferenceProvider.set(modes.s.has(model)),_this._hasRenameProvider.set(modes.t.has(model)),_this._hasSignatureHelpProvider.set(modes.w.has(model)),_this._hasDocumentFormattingProvider.set(modes.g.has(model)||modes.j.has(model)),_this._hasDocumentSelectionFormattingProvider.set(modes.j.has(model)),_this._hasMultipleDocumentFormattingProvider.set(modes.g.all(model).length+modes.j.all(model).length>1),_this._hasMultipleDocumentSelectionFormattingProvider.set(modes.j.all(model).length>1),_this._isInWalkThrough.set(model.uri.scheme===network.b.walkThroughSnippet)})},EditorModeContext}(lifecycle.a),codeEditorWidget_CodeEditorWidgetFocusTracker=function(_super){codeEditorWidget_extends(CodeEditorWidgetFocusTracker,_super);function CodeEditorWidgetFocusTracker(domElement){var _this=_super.call(this)||this;return _this._onChange=_this._register(new common_event.a),_this.onChange=_this._onChange.event,_this._hasFocus=!1,_this._domFocusTracker=_this._register(dom.W(domElement)),_this._register(_this._domFocusTracker.onDidFocus(function(){_this._hasFocus=!0,_this._onChange.fire(void 0)})),_this._register(_this._domFocusTracker.onDidBlur(function(){_this._hasFocus=!1,_this._onChange.fire(void 0)})),_this}return CodeEditorWidgetFocusTracker.prototype.hasFocus=function(){return this._hasFocus},CodeEditorWidgetFocusTracker}(lifecycle.a),squigglyStart=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),squigglyEnd=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function getSquigglySVGData(color){return squigglyStart+encodeURIComponent(color.toString())+squigglyEnd}var dotdotdotStart=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),dotdotdotEnd=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function getDotDotDotSVGData(color){return dotdotdotStart+encodeURIComponent(color.toString())+dotdotdotEnd}Object(common_themeService.e)(function(theme,collector){var errorBorderColor=theme.getColor(colorRegistry.p);errorBorderColor&&collector.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+errorBorderColor+"; }");var errorForeground=theme.getColor(colorRegistry.q);errorForeground&&collector.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+getSquigglySVGData(errorForeground)+'") repeat-x bottom left; }');var warningBorderColor=theme.getColor(colorRegistry.O);warningBorderColor&&collector.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+warningBorderColor+"; }");var warningForeground=theme.getColor(colorRegistry.P);warningForeground&&collector.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+getSquigglySVGData(warningForeground)+'") repeat-x bottom left; }');var infoBorderColor=theme.getColor(colorRegistry.G);infoBorderColor&&collector.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+infoBorderColor+"; }");var infoForeground=theme.getColor(colorRegistry.H);infoForeground&&collector.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+getSquigglySVGData(infoForeground)+'") repeat-x bottom left; }');var hintBorderColor=theme.getColor(colorRegistry.y);hintBorderColor&&collector.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+hintBorderColor+"; }");var hintForeground=theme.getColor(colorRegistry.z);hintForeground&&collector.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+getDotDotDotSVGData(hintForeground)+'") no-repeat bottom left; }');var unnecessaryForeground=theme.getColor(editorColorRegistry.o);unnecessaryForeground&&collector.addRule(".monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: "+unnecessaryForeground.rgba.a+"; }");var unnecessaryBorder=theme.getColor(editorColorRegistry.n);unnecessaryBorder&&collector.addRule(".monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed "+unnecessaryBorder+"; }");var deprecatedForeground=theme.getColor(colorRegistry.x)||"inherit";collector.addRule(".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: "+deprecatedForeground+"}")})},2662:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FastDomNode}),__webpack_require__.d(__webpack_exports__,"b",function(){return createFastDomNode});var _dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2124),FastDomNode=function(){function FastDomNode2(domNode){this.domNode=domNode,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._layerHint=!1,this._contain="none"}return FastDomNode2.prototype.setMaxWidth=function(maxWidth){this._maxWidth!==maxWidth&&(this._maxWidth=maxWidth,this.domNode.style.maxWidth=this._maxWidth+"px")},FastDomNode2.prototype.setWidth=function(width){this._width!==width&&(this._width=width,this.domNode.style.width=this._width+"px")},FastDomNode2.prototype.setHeight=function(height){this._height!==height&&(this._height=height,this.domNode.style.height=this._height+"px")},FastDomNode2.prototype.setTop=function(top){this._top!==top&&(this._top=top,this.domNode.style.top=this._top+"px")},FastDomNode2.prototype.unsetTop=function(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")},FastDomNode2.prototype.setLeft=function(left){this._left!==left&&(this._left=left,this.domNode.style.left=this._left+"px")},FastDomNode2.prototype.setBottom=function(bottom){this._bottom!==bottom&&(this._bottom=bottom,this.domNode.style.bottom=this._bottom+"px")},FastDomNode2.prototype.setRight=function(right){this._right!==right&&(this._right=right,this.domNode.style.right=this._right+"px")},FastDomNode2.prototype.setFontFamily=function(fontFamily){this._fontFamily!==fontFamily&&(this._fontFamily=fontFamily,this.domNode.style.fontFamily=this._fontFamily)},FastDomNode2.prototype.setFontWeight=function(fontWeight){this._fontWeight!==fontWeight&&(this._fontWeight=fontWeight,this.domNode.style.fontWeight=this._fontWeight)},FastDomNode2.prototype.setFontSize=function(fontSize){this._fontSize!==fontSize&&(this._fontSize=fontSize,this.domNode.style.fontSize=this._fontSize+"px")},FastDomNode2.prototype.setFontFeatureSettings=function(fontFeatureSettings){this._fontFeatureSettings!==fontFeatureSettings&&(this._fontFeatureSettings=fontFeatureSettings,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)},FastDomNode2.prototype.setLineHeight=function(lineHeight){this._lineHeight!==lineHeight&&(this._lineHeight=lineHeight,this.domNode.style.lineHeight=this._lineHeight+"px")},FastDomNode2.prototype.setLetterSpacing=function(letterSpacing){this._letterSpacing!==letterSpacing&&(this._letterSpacing=letterSpacing,this.domNode.style.letterSpacing=this._letterSpacing+"px")},FastDomNode2.prototype.setClassName=function(className){this._className!==className&&(this._className=className,this.domNode.className=this._className)},FastDomNode2.prototype.toggleClassName=function(className,shouldHaveIt){_dom_js__WEBPACK_IMPORTED_MODULE_0__.V(this.domNode,className,shouldHaveIt),this._className=this.domNode.className},FastDomNode2.prototype.setDisplay=function(display){this._display!==display&&(this._display=display,this.domNode.style.display=this._display)},FastDomNode2.prototype.setPosition=function(position){this._position!==position&&(this._position=position,this.domNode.style.position=this._position)},FastDomNode2.prototype.setVisibility=function(visibility){this._visibility!==visibility&&(this._visibility=visibility,this.domNode.style.visibility=this._visibility)},FastDomNode2.prototype.setLayerHinting=function(layerHint){this._layerHint!==layerHint&&(this._layerHint=layerHint,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")},FastDomNode2.prototype.setContain=function(contain){this._contain!==contain&&(this._contain=contain,this.domNode.style.contain=this._contain)},FastDomNode2.prototype.setAttribute=function(name,value){this.domNode.setAttribute(name,value)},FastDomNode2.prototype.removeAttribute=function(name){this.domNode.removeAttribute(name)},FastDomNode2.prototype.appendChild=function(child){this.domNode.appendChild(child.domNode)},FastDomNode2.prototype.removeChild=function(child){this.domNode.removeChild(child.domNode)},FastDomNode2}();function createFastDomNode(domNode){return new FastDomNode(domNode)}},2663:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return RGBA}),__webpack_require__.d(__webpack_exports__,"b",function(){return HSVA}),__webpack_require__.d(__webpack_exports__,"a",function(){return Color});function roundFloat(number,decimalPoints){var decimal=Math.pow(10,decimalPoints);return Math.round(number*decimal)/decimal}var RGBA=function(){function RGBA2(r,g,b,a){a===void 0&&(a=1),this.r=Math.min(255,Math.max(0,r))|0,this.g=Math.min(255,Math.max(0,g))|0,this.b=Math.min(255,Math.max(0,b))|0,this.a=roundFloat(Math.max(Math.min(1,a),0),3)}return RGBA2.equals=function(a,b){return a.r===b.r&&a.g===b.g&&a.b===b.b&&a.a===b.a},RGBA2}(),HSLA=function(){function HSLA2(h,s,l,a){this.h=Math.max(Math.min(360,h),0)|0,this.s=roundFloat(Math.max(Math.min(1,s),0),3),this.l=roundFloat(Math.max(Math.min(1,l),0),3),this.a=roundFloat(Math.max(Math.min(1,a),0),3)}return HSLA2.equals=function(a,b){return a.h===b.h&&a.s===b.s&&a.l===b.l&&a.a===b.a},HSLA2.fromRGBA=function(rgba){var r=rgba.r/255,g=rgba.g/255,b=rgba.b/255,a=rgba.a,max=Math.max(r,g,b),min=Math.min(r,g,b),h=0,s=0,l=(min+max)/2,chroma=max-min;if(chroma>0){switch(s=Math.min(l<=.5?chroma/(2*l):chroma/(2-2*l),1),max){case r:h=(g-b)/chroma+(g<b?6:0);break;case g:h=(b-r)/chroma+2;break;case b:h=(r-g)/chroma+4;break}h*=60,h=Math.round(h)}return new HSLA2(h,s,l,a)},HSLA2._hue2rgb=function(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+(q-p)*6*t:t<1/2?q:t<2/3?p+(q-p)*(2/3-t)*6:p},HSLA2.toRGBA=function(hsla){var h=hsla.h/360,s=hsla.s,l=hsla.l,a=hsla.a,r,g,b;if(s===0)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=HSLA2._hue2rgb(p,q,h+1/3),g=HSLA2._hue2rgb(p,q,h),b=HSLA2._hue2rgb(p,q,h-1/3)}return new RGBA(Math.round(r*255),Math.round(g*255),Math.round(b*255),a)},HSLA2}(),HSVA=function(){function HSVA2(h,s,v,a){this.h=Math.max(Math.min(360,h),0)|0,this.s=roundFloat(Math.max(Math.min(1,s),0),3),this.v=roundFloat(Math.max(Math.min(1,v),0),3),this.a=roundFloat(Math.max(Math.min(1,a),0),3)}return HSVA2.equals=function(a,b){return a.h===b.h&&a.s===b.s&&a.v===b.v&&a.a===b.a},HSVA2.fromRGBA=function(rgba){var r=rgba.r/255,g=rgba.g/255,b=rgba.b/255,cmax=Math.max(r,g,b),cmin=Math.min(r,g,b),delta=cmax-cmin,s=cmax===0?0:delta/cmax,m;return delta===0?m=0:cmax===r?m=((g-b)/delta%6+6)%6:cmax===g?m=(b-r)/delta+2:m=(r-g)/delta+4,new HSVA2(Math.round(m*60),s,cmax,rgba.a)},HSVA2.toRGBA=function(hsva){var h=hsva.h,s=hsva.s,v=hsva.v,a=hsva.a,c=v*s,x=c*(1-Math.abs(h/60%2-1)),m=v-c,_a=[0,0,0],r=_a[0],g=_a[1],b=_a[2];return h<60?(r=c,g=x):h<120?(r=x,g=c):h<180?(g=c,b=x):h<240?(g=x,b=c):h<300?(r=x,b=c):h<360&&(r=c,b=x),r=Math.round((r+m)*255),g=Math.round((g+m)*255),b=Math.round((b+m)*255),new RGBA(r,g,b,a)},HSVA2}(),Color=function(){function Color2(arg){if(arg)if(arg instanceof RGBA)this.rgba=arg;else if(arg instanceof HSLA)this._hsla=arg,this.rgba=HSLA.toRGBA(arg);else if(arg instanceof HSVA)this._hsva=arg,this.rgba=HSVA.toRGBA(arg);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}return Color2.fromHex=function(hex){return Color2.Format.CSS.parseHex(hex)||Color2.red},Object.defineProperty(Color2.prototype,"hsla",{get:function(){return this._hsla?this._hsla:HSLA.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(Color2.prototype,"hsva",{get:function(){return this._hsva?this._hsva:HSVA.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Color2.prototype.equals=function(other){return!!other&&RGBA.equals(this.rgba,other.rgba)&&HSLA.equals(this.hsla,other.hsla)&&HSVA.equals(this.hsva,other.hsva)},Color2.prototype.getRelativeLuminance=function(){var R=Color2._relativeLuminanceForComponent(this.rgba.r),G=Color2._relativeLuminanceForComponent(this.rgba.g),B=Color2._relativeLuminanceForComponent(this.rgba.b),luminance=.2126*R+.7152*G+.0722*B;return roundFloat(luminance,4)},Color2._relativeLuminanceForComponent=function(color){var c=color/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)},Color2.prototype.isLighter=function(){var yiq=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return yiq>=128},Color2.prototype.isLighterThan=function(another){var lum1=this.getRelativeLuminance(),lum2=another.getRelativeLuminance();return lum1>lum2},Color2.prototype.isDarkerThan=function(another){var lum1=this.getRelativeLuminance(),lum2=another.getRelativeLuminance();return lum1<lum2},Color2.prototype.lighten=function(factor){return new Color2(new HSLA(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*factor,this.hsla.a))},Color2.prototype.darken=function(factor){return new Color2(new HSLA(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*factor,this.hsla.a))},Color2.prototype.transparent=function(factor){var _a=this.rgba,r=_a.r,g=_a.g,b=_a.b,a=_a.a;return new Color2(new RGBA(r,g,b,a*factor))},Color2.prototype.isTransparent=function(){return this.rgba.a===0},Color2.prototype.isOpaque=function(){return this.rgba.a===1},Color2.prototype.opposite=function(){return new Color2(new RGBA(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},Color2.prototype.toString=function(){return""+Color2.Format.CSS.format(this)},Color2.getLighterColor=function(of,relative,factor){if(of.isLighterThan(relative))return of;factor=factor||.5;var lum1=of.getRelativeLuminance(),lum2=relative.getRelativeLuminance();return factor=factor*(lum2-lum1)/lum2,of.lighten(factor)},Color2.getDarkerColor=function(of,relative,factor){if(of.isDarkerThan(relative))return of;factor=factor||.5;var lum1=of.getRelativeLuminance(),lum2=relative.getRelativeLuminance();return factor=factor*(lum1-lum2)/lum1,of.darken(factor)},Color2.white=new Color2(new RGBA(255,255,255,1)),Color2.black=new Color2(new RGBA(0,0,0,1)),Color2.red=new Color2(new RGBA(255,0,0,1)),Color2.blue=new Color2(new RGBA(0,0,255,1)),Color2.cyan=new Color2(new RGBA(0,255,255,1)),Color2.lightgrey=new Color2(new RGBA(211,211,211,1)),Color2.transparent=new Color2(new RGBA(0,0,0,0)),Color2}();(function(Color2){var Format;(function(Format2){var CSS;(function(CSS2){function formatRGB(color){return color.rgba.a===1?"rgb("+color.rgba.r+", "+color.rgba.g+", "+color.rgba.b+")":Color2.Format.CSS.formatRGBA(color)}CSS2.formatRGB=formatRGB;function formatRGBA(color){return"rgba("+color.rgba.r+", "+color.rgba.g+", "+color.rgba.b+", "+ +color.rgba.a.toFixed(2)+")"}CSS2.formatRGBA=formatRGBA;function formatHSL(color){return color.hsla.a===1?"hsl("+color.hsla.h+", "+(color.hsla.s*100).toFixed(2)+"%, "+(color.hsla.l*100).toFixed(2)+"%)":Color2.Format.CSS.formatHSLA(color)}CSS2.formatHSL=formatHSL;function formatHSLA(color){return"hsla("+color.hsla.h+", "+(color.hsla.s*100).toFixed(2)+"%, "+(color.hsla.l*100).toFixed(2)+"%, "+color.hsla.a.toFixed(2)+")"}CSS2.formatHSLA=formatHSLA;function _toTwoDigitHex(n){var r=n.toString(16);return r.length!==2?"0"+r:r}function formatHex(color){return"#"+_toTwoDigitHex(color.rgba.r)+_toTwoDigitHex(color.rgba.g)+_toTwoDigitHex(color.rgba.b)}CSS2.formatHex=formatHex;function formatHexA(color,compact){return compact===void 0&&(compact=!1),compact&&color.rgba.a===1?Color2.Format.CSS.formatHex(color):"#"+_toTwoDigitHex(color.rgba.r)+_toTwoDigitHex(color.rgba.g)+_toTwoDigitHex(color.rgba.b)+_toTwoDigitHex(Math.round(color.rgba.a*255))}CSS2.formatHexA=formatHexA;function format(color){return color.isOpaque()?Color2.Format.CSS.formatHex(color):Color2.Format.CSS.formatRGBA(color)}CSS2.format=format;function parseHex(hex){var length=hex.length;if(length===0||hex.charCodeAt(0)!==35)return null;if(length===7){var r=16*_parseHexDigit(hex.charCodeAt(1))+_parseHexDigit(hex.charCodeAt(2)),g=16*_parseHexDigit(hex.charCodeAt(3))+_parseHexDigit(hex.charCodeAt(4)),b=16*_parseHexDigit(hex.charCodeAt(5))+_parseHexDigit(hex.charCodeAt(6));return new Color2(new RGBA(r,g,b,1))}if(length===9){var r=16*_parseHexDigit(hex.charCodeAt(1))+_parseHexDigit(hex.charCodeAt(2)),g=16*_parseHexDigit(hex.charCodeAt(3))+_parseHexDigit(hex.charCodeAt(4)),b=16*_parseHexDigit(hex.charCodeAt(5))+_parseHexDigit(hex.charCodeAt(6)),a=16*_parseHexDigit(hex.charCodeAt(7))+_parseHexDigit(hex.charCodeAt(8));return new Color2(new RGBA(r,g,b,a/255))}if(length===4){var r=_parseHexDigit(hex.charCodeAt(1)),g=_parseHexDigit(hex.charCodeAt(2)),b=_parseHexDigit(hex.charCodeAt(3));return new Color2(new RGBA(16*r+r,16*g+g,16*b+b))}if(length===5){var r=_parseHexDigit(hex.charCodeAt(1)),g=_parseHexDigit(hex.charCodeAt(2)),b=_parseHexDigit(hex.charCodeAt(3)),a=_parseHexDigit(hex.charCodeAt(4));return new Color2(new RGBA(16*r+r,16*g+g,16*b+b,(16*a+a)/255))}return null}CSS2.parseHex=parseHex;function _parseHexDigit(charCode){switch(charCode){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(CSS=Format2.CSS||(Format2.CSS={}))})(Format=Color2.Format||(Color2.Format={}))})(Color||(Color={}))},2664:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StopWatch});var _platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2236),hasPerformanceNow=_platform_js__WEBPACK_IMPORTED_MODULE_0__.b.performance&&typeof _platform_js__WEBPACK_IMPORTED_MODULE_0__.b.performance.now=="function",StopWatch=function(){function StopWatch2(highResolution){this._highResolution=hasPerformanceNow&&highResolution,this._startTime=this._now(),this._stopTime=-1}return StopWatch2.create=function(highResolution){return highResolution===void 0&&(highResolution=!0),new StopWatch2(highResolution)},StopWatch2.prototype.stop=function(){this._stopTime=this._now()},StopWatch2.prototype.elapsed=function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime},StopWatch2.prototype._now=function(){return this._highResolution?_platform_js__WEBPACK_IMPORTED_MODULE_0__.b.performance.now():new Date().getTime()},StopWatch2}()},2712:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DiffNavigator});var _base_common_assert_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3489),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2033),_base_common_objects_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2734),_common_core_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2056),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),defaultOptions={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},DiffNavigator=function(_super){__extends(DiffNavigator2,_super);function DiffNavigator2(editor,options){options===void 0&&(options={});var _this=_super.call(this)||this;return _this._onDidUpdate=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),_this._editor=editor,_this._options=_base_common_objects_js__WEBPACK_IMPORTED_MODULE_3__.g(options,defaultOptions,!1),_this.disposed=!1,_this.nextIdx=-1,_this.ranges=[],_this.ignoreSelectionChange=!1,_this.revealFirst=!!_this._options.alwaysRevealFirst,_this._register(_this._editor.onDidDispose(function(){return _this.dispose()})),_this._register(_this._editor.onDidUpdateDiff(function(){return _this._onDiffUpdated()})),_this._options.followsCaret&&_this._register(_this._editor.getModifiedEditor().onDidChangeCursorPosition(function(e){_this.ignoreSelectionChange||(_this.nextIdx=-1)})),_this._options.alwaysRevealFirst&&_this._register(_this._editor.getModifiedEditor().onDidChangeModel(function(e){_this.revealFirst=!0})),_this._init(),_this}return DiffNavigator2.prototype._init=function(){var changes=this._editor.getLineChanges()},DiffNavigator2.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},DiffNavigator2.prototype._compute=function(lineChanges){var _this=this;this.ranges=[],lineChanges&&lineChanges.forEach(function(lineChange){!_this._options.ignoreCharChanges&&lineChange.charChanges?lineChange.charChanges.forEach(function(charChange){_this.ranges.push({rhs:!0,range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(charChange.modifiedStartLineNumber,charChange.modifiedStartColumn,charChange.modifiedEndLineNumber,charChange.modifiedEndColumn)})}):_this.ranges.push({rhs:!0,range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(lineChange.modifiedStartLineNumber,1,lineChange.modifiedStartLineNumber,1)})}),this.ranges.sort(function(left,right){return left.range.getStartPosition().isBeforeOrEqual(right.range.getStartPosition())?-1:right.range.getStartPosition().isBeforeOrEqual(left.range.getStartPosition())?1:0}),this._onDidUpdate.fire(this)},DiffNavigator2.prototype._initIdx=function(fwd){var found=!1,position=this._editor.getPosition();if(!position){this.nextIdx=0;return}for(var i=0,len=this.ranges.length;i<len&&!found;i++){var range=this.ranges[i].range;position.isBeforeOrEqual(range.getStartPosition())&&(this.nextIdx=i+(fwd?0:-1),found=!0)}found||(this.nextIdx=fwd?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},DiffNavigator2.prototype._move=function(fwd,scrollType){if(_base_common_assert_js__WEBPACK_IMPORTED_MODULE_0__.a(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(fwd):fwd?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var info=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var pos=info.range.getStartPosition();this._editor.setPosition(pos),this._editor.revealPositionInCenter(pos,scrollType)}finally{this.ignoreSelectionChange=!1}}},DiffNavigator2.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},DiffNavigator2.prototype.next=function(scrollType){scrollType===void 0&&(scrollType=0),this._move(!0,scrollType)},DiffNavigator2.prototype.previous=function(scrollType){scrollType===void 0&&(scrollType=0),this._move(!1,scrollType)},DiffNavigator2.prototype.dispose=function(){_super.prototype.dispose.call(this),this.ranges=[],this.disposed=!0},DiffNavigator2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a)},2717:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return diffEditorWidget_DiffEditorWidget});var media_diffEditor=__webpack_require__(5806),nls=__webpack_require__(2069),dom=__webpack_require__(2124),fastDomNode=__webpack_require__(2662),sash=__webpack_require__(3375),common_async=__webpack_require__(2237),common_event=__webpack_require__(2106),lifecycle=__webpack_require__(2033),objects=__webpack_require__(2734),configuration=__webpack_require__(3175),editorState=__webpack_require__(3177),services_codeEditorService=__webpack_require__(2732),codeEditorWidget=__webpack_require__(2653),diffReview=__webpack_require__(5807),actionbar=__webpack_require__(3239),scrollableElement=__webpack_require__(3105),common_actions=__webpack_require__(3113),editorExtensions=__webpack_require__(2099),editorOptions=__webpack_require__(2784),core_lineTokens=__webpack_require__(3283),position=__webpack_require__(2233),editorColorRegistry=__webpack_require__(2804),viewLineRenderer=__webpack_require__(3377),viewModel=__webpack_require__(3197),contextkey=__webpack_require__(2238),colorRegistry=__webpack_require__(2623),common_themeService=__webpack_require__(2235),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),DIFF_LINES_PADDING=3,DiffEntry=function(){function DiffEntry2(originalLineStart,originalLineEnd,modifiedLineStart,modifiedLineEnd){this.originalLineStart=originalLineStart,this.originalLineEnd=originalLineEnd,this.modifiedLineStart=modifiedLineStart,this.modifiedLineEnd=modifiedLineEnd}return DiffEntry2.prototype.getType=function(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0},DiffEntry2}(),Diff=function(){function Diff2(entries){this.entries=entries}return Diff2}(),diffReview_DiffReview=function(_super){__extends(DiffReview,_super);function DiffReview(diffEditor){var _this=_super.call(this)||this;return _this._width=0,_this._diffEditor=diffEditor,_this._isVisible=!1,_this.shadow=Object(fastDomNode.b)(document.createElement("div")),_this.shadow.setClassName("diff-review-shadow"),_this.actionBarContainer=Object(fastDomNode.b)(document.createElement("div")),_this.actionBarContainer.setClassName("diff-review-actions"),_this._actionBar=_this._register(new actionbar.a(_this.actionBarContainer.domNode)),_this._actionBar.push(new common_actions.a("diffreview.close",nls.a("label.close","Close"),"close-diff-review",!0,function(){return _this.hide(),Promise.resolve(null)}),{label:!1,icon:!0}),_this.domNode=Object(fastDomNode.b)(document.createElement("div")),_this.domNode.setClassName("diff-review monaco-editor-background"),_this._content=Object(fastDomNode.b)(document.createElement("div")),_this._content.setClassName("diff-review-content"),_this.scrollbar=_this._register(new scrollableElement.a(_this._content.domNode,{})),_this.domNode.domNode.appendChild(_this.scrollbar.getDomNode()),_this._register(diffEditor.onDidUpdateDiff(function(){_this._isVisible&&(_this._diffs=_this._compute(),_this._render())})),_this._register(diffEditor.getModifiedEditor().onDidChangeCursorPosition(function(){_this._isVisible&&_this._render()})),_this._register(diffEditor.getOriginalEditor().onDidFocusEditorWidget(function(){_this._isVisible&&_this.hide()})),_this._register(diffEditor.getModifiedEditor().onDidFocusEditorWidget(function(){_this._isVisible&&_this.hide()})),_this._register(dom.o(_this.domNode.domNode,"click",function(e){e.preventDefault();var row=dom.x(e.target,"diff-review-row");row&&_this._goToRow(row)})),_this._register(dom.o(_this.domNode.domNode,"keydown",function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),_this._goToRow(_this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),_this._goToRow(_this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),_this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),_this.accept())})),_this._diffs=[],_this._currentDiff=null,_this}return DiffReview.prototype.prev=function(){var index=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var currentIndex=-1,i=0,len=this._diffs.length;i<len;i++)if(this._diffs[i]===this._currentDiff){currentIndex=i;break}index=this._diffs.length+currentIndex-1}else index=this._findDiffIndex(this._diffEditor.getPosition());this._diffs.length!==0&&(index=index%this._diffs.length,this._diffEditor.setPosition(new position.a(this._diffs[index].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},DiffReview.prototype.next=function(){var index=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var currentIndex=-1,i=0,len=this._diffs.length;i<len;i++)if(this._diffs[i]===this._currentDiff){currentIndex=i;break}index=currentIndex+1}else index=this._findDiffIndex(this._diffEditor.getPosition());this._diffs.length!==0&&(index=index%this._diffs.length,this._diffEditor.setPosition(new position.a(this._diffs[index].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},DiffReview.prototype.accept=function(){var jumpToLineNumber=-1,current=this._getCurrentFocusedRow();if(current){var lineNumber=parseInt(current.getAttribute("data-line"),10);isNaN(lineNumber)||(jumpToLineNumber=lineNumber)}this.hide(),jumpToLineNumber!==-1&&(this._diffEditor.setPosition(new position.a(jumpToLineNumber,1)),this._diffEditor.revealPosition(new position.a(jumpToLineNumber,1),1))},DiffReview.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},DiffReview.prototype._getPrevRow=function(){var current=this._getCurrentFocusedRow();return current?current.previousElementSibling?current.previousElementSibling:current:this._getFirstRow()},DiffReview.prototype._getNextRow=function(){var current=this._getCurrentFocusedRow();return current?current.nextElementSibling?current.nextElementSibling:current:this._getFirstRow()},DiffReview.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},DiffReview.prototype._getCurrentFocusedRow=function(){var result=document.activeElement;return result&&/diff-review-row/.test(result.className)?result:null},DiffReview.prototype._goToRow=function(row){var prev=this._getCurrentFocusedRow();row.tabIndex=0,row.focus(),prev&&prev!==row&&(prev.tabIndex=-1),this.scrollbar.scanDomNode()},DiffReview.prototype.isVisible=function(){return this._isVisible},DiffReview.prototype.layout=function(top,width,height){this._width=width,this.shadow.setTop(top-6),this.shadow.setWidth(width),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(top),this.domNode.setWidth(width),this.domNode.setHeight(height),this._content.setHeight(height),this._content.setWidth(width),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},DiffReview.prototype._compute=function(){var lineChanges=this._diffEditor.getLineChanges();if(!lineChanges||lineChanges.length===0)return[];var originalModel=this._diffEditor.getOriginalEditor().getModel(),modifiedModel=this._diffEditor.getModifiedEditor().getModel();return!originalModel||!modifiedModel?[]:DiffReview._mergeAdjacent(lineChanges,originalModel.getLineCount(),modifiedModel.getLineCount())},DiffReview._mergeAdjacent=function(lineChanges,originalLineCount,modifiedLineCount){if(!lineChanges||lineChanges.length===0)return[];for(var diffs=[],diffsLength=0,i=0,len=lineChanges.length;i<len;i++){var lineChange=lineChanges[i],originalStart=lineChange.originalStartLineNumber,originalEnd=lineChange.originalEndLineNumber,modifiedStart=lineChange.modifiedStartLineNumber,modifiedEnd=lineChange.modifiedEndLineNumber,r_1=[],rLength_1=0;{var originalEqualAbove=originalEnd===0?originalStart:originalStart-1,modifiedEqualAbove=modifiedEnd===0?modifiedStart:modifiedStart-1,minOriginal=1,minModified=1;if(i>0){var prevLineChange=lineChanges[i-1];prevLineChange.originalEndLineNumber===0?minOriginal=prevLineChange.originalStartLineNumber+1:minOriginal=prevLineChange.originalEndLineNumber+1,prevLineChange.modifiedEndLineNumber===0?minModified=prevLineChange.modifiedStartLineNumber+1:minModified=prevLineChange.modifiedEndLineNumber+1}var fromOriginal=originalEqualAbove-DIFF_LINES_PADDING+1,fromModified=modifiedEqualAbove-DIFF_LINES_PADDING+1;if(fromOriginal<minOriginal){var delta=minOriginal-fromOriginal;fromOriginal=fromOriginal+delta,fromModified=fromModified+delta}if(fromModified<minModified){var delta=minModified-fromModified;fromOriginal=fromOriginal+delta,fromModified=fromModified+delta}r_1[rLength_1++]=new DiffEntry(fromOriginal,originalEqualAbove,fromModified,modifiedEqualAbove)}originalEnd!==0&&(r_1[rLength_1++]=new DiffEntry(originalStart,originalEnd,0,0)),modifiedEnd!==0&&(r_1[rLength_1++]=new DiffEntry(0,0,modifiedStart,modifiedEnd));{var originalEqualBelow=originalEnd===0?originalStart+1:originalEnd+1,modifiedEqualBelow=modifiedEnd===0?modifiedStart+1:modifiedEnd+1,maxOriginal=originalLineCount,maxModified=modifiedLineCount;if(i+1<len){var nextLineChange=lineChanges[i+1];nextLineChange.originalEndLineNumber===0?maxOriginal=nextLineChange.originalStartLineNumber:maxOriginal=nextLineChange.originalStartLineNumber-1,nextLineChange.modifiedEndLineNumber===0?maxModified=nextLineChange.modifiedStartLineNumber:maxModified=nextLineChange.modifiedStartLineNumber-1}var toOriginal=originalEqualBelow+DIFF_LINES_PADDING-1,toModified=modifiedEqualBelow+DIFF_LINES_PADDING-1;if(toOriginal>maxOriginal){var delta=maxOriginal-toOriginal;toOriginal=toOriginal+delta,toModified=toModified+delta}if(toModified>maxModified){var delta=maxModified-toModified;toOriginal=toOriginal+delta,toModified=toModified+delta}r_1[rLength_1++]=new DiffEntry(originalEqualBelow,toOriginal,modifiedEqualBelow,toModified)}diffs[diffsLength++]=new Diff(r_1)}for(var curr=diffs[0].entries,r=[],rLength=0,i=1,len=diffs.length;i<len;i++){var thisDiff=diffs[i].entries,currLast=curr[curr.length-1],thisFirst=thisDiff[0];if(currLast.getType()===0&&thisFirst.getType()===0&&thisFirst.originalLineStart<=currLast.originalLineEnd){curr[curr.length-1]=new DiffEntry(currLast.originalLineStart,thisFirst.originalLineEnd,currLast.modifiedLineStart,thisFirst.modifiedLineEnd),curr=curr.concat(thisDiff.slice(1));continue}r[rLength++]=new Diff(curr),curr=thisDiff}return r[rLength++]=new Diff(curr),r},DiffReview.prototype._findDiffIndex=function(pos){for(var lineNumber=pos.lineNumber,i=0,len=this._diffs.length;i<len;i++){var diff=this._diffs[i].entries,lastModifiedLine=diff[diff.length-1].modifiedLineEnd;if(lineNumber<=lastModifiedLine)return i}return 0},DiffReview.prototype._render=function(){var originalOptions=this._diffEditor.getOriginalEditor().getOptions(),modifiedOptions=this._diffEditor.getModifiedEditor().getOptions(),originalModel=this._diffEditor.getOriginalEditor().getModel(),modifiedModel=this._diffEditor.getModifiedEditor().getModel(),originalModelOpts=originalModel.getOptions(),modifiedModelOpts=modifiedModel.getOptions();if(!this._isVisible||!originalModel||!modifiedModel){dom.t(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}var diffIndex=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[diffIndex]!==this._currentDiff){this._currentDiff=this._diffs[diffIndex];var diffs=this._diffs[diffIndex].entries,container=document.createElement("div");container.className="diff-review-table",container.setAttribute("role","list"),configuration.a.applyFontInfoSlow(container,modifiedOptions.get(32));for(var minOriginalLine=0,maxOriginalLine=0,minModifiedLine=0,maxModifiedLine=0,i=0,len=diffs.length;i<len;i++){var diffEntry=diffs[i],originalLineStart=diffEntry.originalLineStart,originalLineEnd=diffEntry.originalLineEnd,modifiedLineStart=diffEntry.modifiedLineStart,modifiedLineEnd=diffEntry.modifiedLineEnd;originalLineStart!==0&&(minOriginalLine===0||originalLineStart<minOriginalLine)&&(minOriginalLine=originalLineStart),originalLineEnd!==0&&(maxOriginalLine===0||originalLineEnd>maxOriginalLine)&&(maxOriginalLine=originalLineEnd),modifiedLineStart!==0&&(minModifiedLine===0||modifiedLineStart<minModifiedLine)&&(minModifiedLine=modifiedLineStart),modifiedLineEnd!==0&&(maxModifiedLine===0||modifiedLineEnd>maxModifiedLine)&&(maxModifiedLine=modifiedLineEnd)}var header=document.createElement("div");header.className="diff-review-row";var cell=document.createElement("div");cell.className="diff-review-cell diff-review-summary";var originalChangedLinesCnt=maxOriginalLine-minOriginalLine+1,modifiedChangedLinesCnt=maxModifiedLine-minModifiedLine+1;cell.appendChild(document.createTextNode(diffIndex+1+"/"+this._diffs.length+": @@ -"+minOriginalLine+","+originalChangedLinesCnt+" +"+minModifiedLine+","+modifiedChangedLinesCnt+" @@")),header.setAttribute("data-line",String(minModifiedLine));var getAriaLines=function(lines){return lines===0?nls.a("no_lines","no lines"):lines===1?nls.a("one_line","1 line"):nls.a("more_lines","{0} lines",lines)},originalChangedLinesCntAria=getAriaLines(originalChangedLinesCnt),modifiedChangedLinesCntAria=getAriaLines(modifiedChangedLinesCnt);header.setAttribute("aria-label",nls.a({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",diffIndex+1,this._diffs.length,minOriginalLine,originalChangedLinesCntAria,minModifiedLine,modifiedChangedLinesCntAria)),header.appendChild(cell),header.setAttribute("role","listitem"),container.appendChild(header);for(var modLine=minModifiedLine,i=0,len=diffs.length;i<len;i++){var diffEntry=diffs[i];DiffReview._renderSection(container,diffEntry,modLine,this._width,originalOptions,originalModel,originalModelOpts,modifiedOptions,modifiedModel,modifiedModelOpts),diffEntry.modifiedLineStart!==0&&(modLine=diffEntry.modifiedLineEnd)}dom.t(this._content.domNode),this._content.domNode.appendChild(container),this.scrollbar.scanDomNode()}},DiffReview._renderSection=function(dest,diffEntry,modLine,width,originalOptions,originalModel,originalModelOpts,modifiedOptions,modifiedModel,modifiedModelOpts){var type=diffEntry.getType(),rowClassName="diff-review-row",lineNumbersExtraClassName="",spacerClassName="diff-review-spacer";switch(type){case 1:rowClassName="diff-review-row line-insert",lineNumbersExtraClassName=" char-insert",spacerClassName="diff-review-spacer insert-sign";break;case 2:rowClassName="diff-review-row line-delete",lineNumbersExtraClassName=" char-delete",spacerClassName="diff-review-spacer delete-sign";break}for(var originalLineStart=diffEntry.originalLineStart,originalLineEnd=diffEntry.originalLineEnd,modifiedLineStart=diffEntry.modifiedLineStart,modifiedLineEnd=diffEntry.modifiedLineEnd,cnt=Math.max(modifiedLineEnd-modifiedLineStart,originalLineEnd-originalLineStart),originalLayoutInfo=originalOptions.get(103),originalLineNumbersWidth=originalLayoutInfo.glyphMarginWidth+originalLayoutInfo.lineNumbersWidth,modifiedLayoutInfo=modifiedOptions.get(103),modifiedLineNumbersWidth=10+modifiedLayoutInfo.glyphMarginWidth+modifiedLayoutInfo.lineNumbersWidth,i=0;i<=cnt;i++){var originalLine=originalLineStart===0?0:originalLineStart+i,modifiedLine=modifiedLineStart===0?0:modifiedLineStart+i,row=document.createElement("div");row.style.minWidth=width+"px",row.className=rowClassName,row.setAttribute("role","listitem"),modifiedLine!==0&&(modLine=modifiedLine),row.setAttribute("data-line",String(modLine));var cell=document.createElement("div");cell.className="diff-review-cell",row.appendChild(cell);var originalLineNumber=document.createElement("span");originalLineNumber.style.width=originalLineNumbersWidth+"px",originalLineNumber.style.minWidth=originalLineNumbersWidth+"px",originalLineNumber.className="diff-review-line-number"+lineNumbersExtraClassName,originalLine!==0?originalLineNumber.appendChild(document.createTextNode(String(originalLine))):originalLineNumber.innerHTML="&#160;",cell.appendChild(originalLineNumber);var modifiedLineNumber=document.createElement("span");modifiedLineNumber.style.width=modifiedLineNumbersWidth+"px",modifiedLineNumber.style.minWidth=modifiedLineNumbersWidth+"px",modifiedLineNumber.style.paddingRight="10px",modifiedLineNumber.className="diff-review-line-number"+lineNumbersExtraClassName,modifiedLine!==0?modifiedLineNumber.appendChild(document.createTextNode(String(modifiedLine))):modifiedLineNumber.innerHTML="&#160;",cell.appendChild(modifiedLineNumber);var spacer=document.createElement("span");spacer.className=spacerClassName,spacer.innerHTML="&#160;&#160;",cell.appendChild(spacer);var lineContent=void 0;modifiedLine!==0?(cell.insertAdjacentHTML("beforeend",this._renderLine(modifiedModel,modifiedOptions,modifiedModelOpts.tabSize,modifiedLine)),lineContent=modifiedModel.getLineContent(modifiedLine)):(cell.insertAdjacentHTML("beforeend",this._renderLine(originalModel,originalOptions,originalModelOpts.tabSize,originalLine)),lineContent=originalModel.getLineContent(originalLine)),lineContent.length===0&&(lineContent=nls.a("blankLine","blank"));var ariaLabel="";switch(type){case 0:ariaLabel=nls.a("equalLine","original {0}, modified {1}: {2}",originalLine,modifiedLine,lineContent);break;case 1:ariaLabel=nls.a("insertLine","+ modified {0}: {1}",modifiedLine,lineContent);break;case 2:ariaLabel=nls.a("deleteLine","- original {0}: {1}",originalLine,lineContent);break}row.setAttribute("aria-label",ariaLabel),dest.appendChild(row)}},DiffReview._renderLine=function(model,options,tabSize,lineNumber){var lineContent=model.getLineContent(lineNumber),fontInfo=options.get(32),defaultMetadata=(16384|2<<23)>>>0,tokens=new Uint32Array(2);tokens[0]=lineContent.length,tokens[1]=defaultMetadata;var lineTokens=new core_lineTokens.a(tokens,lineContent),isBasicASCII=viewModel.d.isBasicASCII(lineContent,model.mightContainNonBasicASCII()),containsRTL=viewModel.d.containsRTL(lineContent,isBasicASCII,model.mightContainRTL()),r=Object(viewLineRenderer.e)(new viewLineRenderer.c(fontInfo.isMonospace&&!options.get(22),fontInfo.canUseHalfwidthRightwardsArrow,lineContent,!1,isBasicASCII,containsRTL,0,lineTokens,[],tabSize,fontInfo.spaceWidth,options.get(84),options.get(70),options.get(66),options.get(33)!==editorOptions.d.OFF,null));return r.html},DiffReview}(lifecycle.a);Object(common_themeService.e)(function(theme,collector){var lineNumbers=theme.getColor(editorColorRegistry.k);lineNumbers&&collector.addRule(".monaco-diff-editor .diff-review-line-number { color: "+lineNumbers+"; }");var shadow=theme.getColor(colorRegistry.Vb);shadow&&collector.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+shadow+" 0 -6px 6px -6px inset; }")});var diffReview_DiffReviewNext=function(_super){__extends(DiffReviewNext,_super);function DiffReviewNext(){return _super.call(this,{id:"editor.action.diffReview.next",label:nls.a("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:contextkey.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return DiffReviewNext.prototype.run=function(accessor,editor){var diffEditor=findFocusedDiffEditor(accessor);diffEditor&&diffEditor.diffReviewNext()},DiffReviewNext}(editorExtensions.b),diffReview_DiffReviewPrev=function(_super){__extends(DiffReviewPrev,_super);function DiffReviewPrev(){return _super.call(this,{id:"editor.action.diffReview.prev",label:nls.a("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:contextkey.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return DiffReviewPrev.prototype.run=function(accessor,editor){var diffEditor=findFocusedDiffEditor(accessor);diffEditor&&diffEditor.diffReviewPrev()},DiffReviewPrev}(editorExtensions.b);function findFocusedDiffEditor(accessor){for(var codeEditorService=accessor.get(services_codeEditorService.a),diffEditors=codeEditorService.listDiffEditors(),i=0,len=diffEditors.length;i<len;i++){var diffEditor=diffEditors[i];if(diffEditor.hasWidgetFocus())return diffEditor}return null}Object(editorExtensions.f)(diffReview_DiffReviewNext),Object(editorExtensions.f)(diffReview_DiffReviewPrev);var range=__webpack_require__(2056),stringBuilder=__webpack_require__(3504),editorCommon=__webpack_require__(3196),textModel=__webpack_require__(2720),services_editorWorkerService=__webpack_require__(3166),overviewZoneManager=__webpack_require__(3877),lineDecorations=__webpack_require__(3503),instantiation=__webpack_require__(2232),serviceCollection=__webpack_require__(3378),notification=__webpack_require__(2761),contextView=__webpack_require__(3114),inlineDiffMargin_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},inlineDiffMargin_InlineDiffMargin=function(_super){inlineDiffMargin_extends(InlineDiffMargin,_super);function InlineDiffMargin(_viewZoneId,_marginDomNode,editor,diff,_contextMenuService,_clipboardService){var _this=_super.call(this)||this;_this._viewZoneId=_viewZoneId,_this._marginDomNode=_marginDomNode,_this.editor=editor,_this.diff=diff,_this._contextMenuService=_contextMenuService,_this._clipboardService=_clipboardService,_this._visibility=!1,_this._marginDomNode.style.zIndex="10",_this._diffActions=document.createElement("div"),_this._diffActions.className="lightbulb-glyph",_this._diffActions.style.position="absolute";var lineHeight=editor.getOption(47),lineFeed=editor.getModel().getEOL();_this._diffActions.style.right="0px",_this._diffActions.style.visibility="hidden",_this._diffActions.style.height=lineHeight+"px",_this._diffActions.style.lineHeight=lineHeight+"px",_this._marginDomNode.appendChild(_this._diffActions);var actions=[];actions.push(new common_actions.a("diff.clipboard.copyDeletedContent",diff.originalEndLineNumber>diff.modifiedStartLineNumber?nls.a("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):nls.a("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,function(){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this._clipboardService.writeText(diff.originalContent.join(lineFeed)+lineFeed)];case 1:return _a.sent(),[2]}})})}));var currentLineNumberOffset=0,copyLineAction=void 0;diff.originalEndLineNumber>diff.modifiedStartLineNumber&&(copyLineAction=new common_actions.a("diff.clipboard.copyDeletedLineContent",nls.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",diff.originalStartLineNumber),void 0,!0,function(){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this._clipboardService.writeText(diff.originalContent[currentLineNumberOffset])];case 1:return _a.sent(),[2]}})})}),actions.push(copyLineAction));var readOnly=editor.getOption(65);readOnly||actions.push(new common_actions.a("diff.inline.revertChange",nls.a("diff.inline.revertChange.label","Revert this change"),void 0,!0,function(){return __awaiter(_this,void 0,void 0,function(){var column,column;return __generator(this,function(_a){return diff.modifiedEndLineNumber===0?(column=editor.getModel().getLineMaxColumn(diff.modifiedStartLineNumber),editor.executeEdits("diffEditor",[{range:new range.a(diff.modifiedStartLineNumber,column,diff.modifiedStartLineNumber,column),text:lineFeed+diff.originalContent.join(lineFeed)}])):(column=editor.getModel().getLineMaxColumn(diff.modifiedEndLineNumber),editor.executeEdits("diffEditor",[{range:new range.a(diff.modifiedStartLineNumber,1,diff.modifiedEndLineNumber,column),text:diff.originalContent.join(lineFeed)}])),[2]})})}));var showContextMenu=function(x,y){_this._contextMenuService.showContextMenu({getAnchor:function(){return{x,y}},getActions:function(){return copyLineAction&&(copyLineAction.label=nls.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",diff.originalStartLineNumber+currentLineNumberOffset)),actions},autoSelectFirstItem:!0})};return _this._register(dom.o(_this._diffActions,"mousedown",function(e){var _a=dom.B(_this._diffActions),top=_a.top,height=_a.height,pad=Math.floor(lineHeight/3);e.preventDefault(),showContextMenu(e.posx,top+height+pad)})),_this._register(editor.onMouseMove(function(e){if(e.target.type===8||e.target.type===5){var viewZoneId=e.target.detail.viewZoneId;viewZoneId===_this._viewZoneId?(_this.visibility=!0,currentLineNumberOffset=_this._updateLightBulbPosition(_this._marginDomNode,e.event.browserEvent.y,lineHeight)):_this.visibility=!1}else _this.visibility=!1})),_this._register(editor.onMouseDown(function(e){if(e.event.rightButton&&(e.target.type===8||e.target.type===5)){var viewZoneId=e.target.detail.viewZoneId;viewZoneId===_this._viewZoneId&&(e.event.preventDefault(),currentLineNumberOffset=_this._updateLightBulbPosition(_this._marginDomNode,e.event.browserEvent.y,lineHeight),showContextMenu(e.event.posx,e.event.posy+lineHeight))}})),_this}return Object.defineProperty(InlineDiffMargin.prototype,"visibility",{get:function(){return this._visibility},set:function(_visibility){this._visibility!==_visibility&&(this._visibility=_visibility,_visibility?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")},enumerable:!0,configurable:!0}),InlineDiffMargin.prototype._updateLightBulbPosition=function(marginDomNode,y,lineHeight){var top=dom.B(marginDomNode).top,offset=y-top,lineNumberOffset=Math.floor(offset/lineHeight),newTop=lineNumberOffset*lineHeight;return this._diffActions.style.top=newTop+"px",lineNumberOffset},InlineDiffMargin}(lifecycle.a),errors=__webpack_require__(2176),progress=__webpack_require__(3194),diffEditorWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},diffEditorWidget_VisualEditorState=function(){function VisualEditorState(_contextMenuService,_clipboardService){this._contextMenuService=_contextMenuService,this._clipboardService=_clipboardService,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return VisualEditorState.prototype.getForeignViewZones=function(allViewZones){var _this=this;return allViewZones.filter(function(z){return!_this._zonesMap[String(z.id)]})},VisualEditorState.prototype.clean=function(editor){var _this=this;this._zones.length>0&&editor.changeViewZones(function(viewChangeAccessor){for(var i=0,length_1=_this._zones.length;i<length_1;i++)viewChangeAccessor.removeZone(_this._zones[i])}),this._zones=[],this._zonesMap={},this._decorations=editor.deltaDecorations(this._decorations,[])},VisualEditorState.prototype.apply=function(editor,overviewRuler,newDecorations,restoreScrollState){var _this=this,scrollState=restoreScrollState?editorState.c.capture(editor):null;editor.changeViewZones(function(viewChangeAccessor){for(var i=0,length_2=_this._zones.length;i<length_2;i++)viewChangeAccessor.removeZone(_this._zones[i]);for(var i=0,length_3=_this.inlineDiffMargins.length;i<length_3;i++)_this.inlineDiffMargins[i].dispose();_this._zones=[],_this._zonesMap={},_this.inlineDiffMargins=[];for(var i=0,length_4=newDecorations.zones.length;i<length_4;i++){var viewZone=newDecorations.zones[i];viewZone.suppressMouseDown=!0;var zoneId=viewChangeAccessor.addZone(viewZone);_this._zones.push(zoneId),_this._zonesMap[String(zoneId)]=!0,newDecorations.zones[i].diff&&viewZone.marginDomNode&&_this._clipboardService&&(viewZone.suppressMouseDown=!1,_this.inlineDiffMargins.push(new inlineDiffMargin_InlineDiffMargin(zoneId,viewZone.marginDomNode,editor,newDecorations.zones[i].diff,_this._contextMenuService,_this._clipboardService)))}}),scrollState&&scrollState.restore(editor),this._decorations=editor.deltaDecorations(this._decorations,newDecorations.decorations),overviewRuler&&overviewRuler.setZones(newDecorations.overviewZones)},VisualEditorState}(),DIFF_EDITOR_ID=0,diffEditorWidget_DiffEditorWidget=function(_super){diffEditorWidget_extends(DiffEditorWidget,_super);function DiffEditorWidget(domElement,options,clipboardService,editorWorkerService,contextKeyService,instantiationService,codeEditorService,themeService,notificationService,contextMenuService,_editorProgressService){var _this=_super.call(this)||this;_this._editorProgressService=_editorProgressService,_this._onDidDispose=_this._register(new common_event.a),_this.onDidDispose=_this._onDidDispose.event,_this._onDidUpdateDiff=_this._register(new common_event.a),_this.onDidUpdateDiff=_this._onDidUpdateDiff.event,_this._lastOriginalWarning=null,_this._lastModifiedWarning=null,_this._editorWorkerService=editorWorkerService,_this._codeEditorService=codeEditorService,_this._contextKeyService=_this._register(contextKeyService.createScoped(domElement)),_this._contextKeyService.createKey("isInDiffEditor",!0),_this._themeService=themeService,_this._notificationService=notificationService,_this.id=++DIFF_EDITOR_ID,_this._state=0,_this._updatingDiffProgress=null,_this._domElement=domElement,options=options||{},_this._renderSideBySide=!0,typeof options.renderSideBySide<"u"&&(_this._renderSideBySide=options.renderSideBySide),_this._maxComputationTime=5e3,typeof options.maxComputationTime<"u"&&(_this._maxComputationTime=options.maxComputationTime),_this._ignoreTrimWhitespace=!0,typeof options.ignoreTrimWhitespace<"u"&&(_this._ignoreTrimWhitespace=options.ignoreTrimWhitespace),_this._renderIndicators=!0,typeof options.renderIndicators<"u"&&(_this._renderIndicators=options.renderIndicators),_this._originalIsEditable=!1,typeof options.originalEditable<"u"&&(_this._originalIsEditable=!!options.originalEditable),_this._updateDecorationsRunner=_this._register(new common_async.d(function(){return _this._updateDecorations()},0)),_this._containerDomElement=document.createElement("div"),_this._containerDomElement.className=DiffEditorWidget._getClassName(_this._themeService.getTheme(),_this._renderSideBySide),_this._containerDomElement.style.position="relative",_this._containerDomElement.style.height="100%",_this._domElement.appendChild(_this._containerDomElement),_this._overviewViewportDomElement=Object(fastDomNode.b)(document.createElement("div")),_this._overviewViewportDomElement.setClassName("diffViewport"),_this._overviewViewportDomElement.setPosition("absolute"),_this._overviewDomElement=document.createElement("div"),_this._overviewDomElement.className="diffOverview",_this._overviewDomElement.style.position="absolute",_this._overviewDomElement.appendChild(_this._overviewViewportDomElement.domNode),_this._register(dom.o(_this._overviewDomElement,"mousedown",function(e){_this.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),_this._containerDomElement.appendChild(_this._overviewDomElement),_this._originalDomNode=document.createElement("div"),_this._originalDomNode.className="editor original",_this._originalDomNode.style.position="absolute",_this._originalDomNode.style.height="100%",_this._containerDomElement.appendChild(_this._originalDomNode),_this._modifiedDomNode=document.createElement("div"),_this._modifiedDomNode.className="editor modified",_this._modifiedDomNode.style.position="absolute",_this._modifiedDomNode.style.height="100%",_this._containerDomElement.appendChild(_this._modifiedDomNode),_this._beginUpdateDecorationsTimeout=-1,_this._currentlyChangingViewZones=!1,_this._diffComputationToken=0,_this._originalEditorState=new diffEditorWidget_VisualEditorState(contextMenuService,clipboardService),_this._modifiedEditorState=new diffEditorWidget_VisualEditorState(contextMenuService,clipboardService),_this._isVisible=!0,_this._isHandlingScrollEvent=!1,_this._width=0,_this._height=0,_this._reviewHeight=0,_this._diffComputationResult=null;var leftContextKeyService=_this._contextKeyService.createScoped();leftContextKeyService.createKey("isInDiffLeftEditor",!0);var leftServices=new serviceCollection.a;leftServices.set(contextkey.c,leftContextKeyService);var leftScopedInstantiationService=instantiationService.createChild(leftServices),rightContextKeyService=_this._contextKeyService.createScoped();rightContextKeyService.createKey("isInDiffRightEditor",!0);var rightServices=new serviceCollection.a;rightServices.set(contextkey.c,rightContextKeyService);var rightScopedInstantiationService=instantiationService.createChild(rightServices);_this.originalEditor=_this._createLeftHandSideEditor(options,leftScopedInstantiationService),_this.modifiedEditor=_this._createRightHandSideEditor(options,rightScopedInstantiationService),_this._originalOverviewRuler=null,_this._modifiedOverviewRuler=null,_this._reviewPane=new diffReview_DiffReview(_this),_this._containerDomElement.appendChild(_this._reviewPane.domNode.domNode),_this._containerDomElement.appendChild(_this._reviewPane.shadow.domNode),_this._containerDomElement.appendChild(_this._reviewPane.actionBarContainer.domNode),options.automaticLayout?(_this._measureDomElementToken=new common_async.c,_this._measureDomElementToken.cancelAndSet(function(){return _this._measureDomElement(!1)},100)):_this._measureDomElementToken=null,_this._enableSplitViewResizing=!0,typeof options.enableSplitViewResizing<"u"&&(_this._enableSplitViewResizing=options.enableSplitViewResizing),_this._renderSideBySide?_this._setStrategy(new diffEditorWidget_DiffEditorWidgetSideBySide(_this._createDataSource(),_this._enableSplitViewResizing)):_this._setStrategy(new diffEditorWidget_DiffEditorWidgetInline(_this._createDataSource(),_this._enableSplitViewResizing)),_this._register(themeService.onThemeChange(function(t){_this._strategy&&_this._strategy.applyColors(t)&&_this._updateDecorationsRunner.schedule(),_this._containerDomElement.className=DiffEditorWidget._getClassName(_this._themeService.getTheme(),_this._renderSideBySide)}));for(var contributions=editorExtensions.d.getDiffEditorContributions(),_i=0,contributions_1=contributions;_i<contributions_1.length;_i++){var desc=contributions_1[_i];try{_this._register(instantiationService.createInstance(desc.ctor,_this))}catch(err){Object(errors.e)(err)}}return _this._codeEditorService.addDiffEditor(_this),_this}return DiffEditorWidget.prototype._setState=function(newState){this._state!==newState&&(this._state=newState,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))},DiffEditorWidget.prototype.hasWidgetFocus=function(){return dom.I(document.activeElement,this._domElement)},DiffEditorWidget.prototype.diffReviewNext=function(){this._reviewPane.next()},DiffEditorWidget.prototype.diffReviewPrev=function(){this._reviewPane.prev()},DiffEditorWidget._getClassName=function(theme,renderSideBySide){var result="monaco-diff-editor monaco-editor-background ";return renderSideBySide&&(result+="side-by-side "),result+=Object(common_themeService.d)(theme.type),result},DiffEditorWidget.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},DiffEditorWidget.prototype._createLeftHandSideEditor=function(options,instantiationService){var _this=this,editor=this._createInnerEditor(instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(options,this._originalIsEditable));return this._register(editor.onDidScrollChange(function(e){_this._isHandlingScrollEvent||!e.scrollTopChanged&&!e.scrollLeftChanged&&!e.scrollHeightChanged||(_this._isHandlingScrollEvent=!0,_this.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),_this._isHandlingScrollEvent=!1,_this._layoutOverviewViewport())})),this._register(editor.onDidChangeViewZones(function(){_this._onViewZonesChanged()})),this._register(editor.onDidChangeModelContent(function(){_this._isVisible&&_this._beginUpdateDecorationsSoon()})),editor},DiffEditorWidget.prototype._createRightHandSideEditor=function(options,instantiationService){var _this=this,editor=this._createInnerEditor(instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(options));return this._register(editor.onDidScrollChange(function(e){_this._isHandlingScrollEvent||!e.scrollTopChanged&&!e.scrollLeftChanged&&!e.scrollHeightChanged||(_this._isHandlingScrollEvent=!0,_this.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),_this._isHandlingScrollEvent=!1,_this._layoutOverviewViewport())})),this._register(editor.onDidChangeViewZones(function(){_this._onViewZonesChanged()})),this._register(editor.onDidChangeConfiguration(function(e){e.hasChanged(32)&&editor.getModel()&&_this._onViewZonesChanged()})),this._register(editor.onDidChangeModelContent(function(){_this._isVisible&&_this._beginUpdateDecorationsSoon()})),this._register(editor.onDidChangeModelOptions(function(e){e.tabSize&&_this._updateDecorationsRunner.schedule()})),editor},DiffEditorWidget.prototype._createInnerEditor=function(instantiationService,container,options){return instantiationService.createInstance(codeEditorWidget.a,container,options,{})},DiffEditorWidget.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._measureDomElementToken&&this._measureDomElementToken.dispose(),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),_super.prototype.dispose.call(this)},DiffEditorWidget.prototype.getId=function(){return this.getEditorType()+":"+this.id},DiffEditorWidget.prototype.getEditorType=function(){return editorCommon.a.IDiffEditor},DiffEditorWidget.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},DiffEditorWidget.prototype.getOriginalEditor=function(){return this.originalEditor},DiffEditorWidget.prototype.getModifiedEditor=function(){return this.modifiedEditor},DiffEditorWidget.prototype.updateOptions=function(newOptions){var renderSideBySideChanged=!1;typeof newOptions.renderSideBySide<"u"&&this._renderSideBySide!==newOptions.renderSideBySide&&(this._renderSideBySide=newOptions.renderSideBySide,renderSideBySideChanged=!0),typeof newOptions.maxComputationTime<"u"&&(this._maxComputationTime=newOptions.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());var beginUpdateDecorations=!1;typeof newOptions.ignoreTrimWhitespace<"u"&&this._ignoreTrimWhitespace!==newOptions.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=newOptions.ignoreTrimWhitespace,beginUpdateDecorations=!0),typeof newOptions.renderIndicators<"u"&&this._renderIndicators!==newOptions.renderIndicators&&(this._renderIndicators=newOptions.renderIndicators,beginUpdateDecorations=!0),beginUpdateDecorations&&this._beginUpdateDecorations(),typeof newOptions.originalEditable<"u"&&(this._originalIsEditable=!!newOptions.originalEditable),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(newOptions)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(newOptions,this._originalIsEditable)),typeof newOptions.enableSplitViewResizing<"u"&&(this._enableSplitViewResizing=newOptions.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),renderSideBySideChanged&&(this._renderSideBySide?this._setStrategy(new diffEditorWidget_DiffEditorWidgetSideBySide(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new diffEditorWidget_DiffEditorWidgetInline(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=DiffEditorWidget._getClassName(this._themeService.getTheme(),this._renderSideBySide))},DiffEditorWidget.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},DiffEditorWidget.prototype.setModel=function(model){if(model&&(!model.original||!model.modified))throw new Error(model.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(model?model.original:null),this.modifiedEditor.setModel(model?model.modified:null),this._updateDecorationsRunner.cancel(),model&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),model&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()},DiffEditorWidget.prototype.getDomNode=function(){return this._domElement},DiffEditorWidget.prototype.getVisibleColumnFromPosition=function(position2){return this.modifiedEditor.getVisibleColumnFromPosition(position2)},DiffEditorWidget.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},DiffEditorWidget.prototype.setPosition=function(position2){this.modifiedEditor.setPosition(position2)},DiffEditorWidget.prototype.revealLine=function(lineNumber,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealLine(lineNumber,scrollType)},DiffEditorWidget.prototype.revealLineInCenter=function(lineNumber,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealLineInCenter(lineNumber,scrollType)},DiffEditorWidget.prototype.revealLineInCenterIfOutsideViewport=function(lineNumber,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(lineNumber,scrollType)},DiffEditorWidget.prototype.revealPosition=function(position2,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealPosition(position2,scrollType)},DiffEditorWidget.prototype.revealPositionInCenter=function(position2,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealPositionInCenter(position2,scrollType)},DiffEditorWidget.prototype.revealPositionInCenterIfOutsideViewport=function(position2,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(position2,scrollType)},DiffEditorWidget.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},DiffEditorWidget.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},DiffEditorWidget.prototype.setSelection=function(something){this.modifiedEditor.setSelection(something)},DiffEditorWidget.prototype.setSelections=function(ranges){this.modifiedEditor.setSelections(ranges)},DiffEditorWidget.prototype.revealLines=function(startLineNumber,endLineNumber,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealLines(startLineNumber,endLineNumber,scrollType)},DiffEditorWidget.prototype.revealLinesInCenter=function(startLineNumber,endLineNumber,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealLinesInCenter(startLineNumber,endLineNumber,scrollType)},DiffEditorWidget.prototype.revealLinesInCenterIfOutsideViewport=function(startLineNumber,endLineNumber,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(startLineNumber,endLineNumber,scrollType)},DiffEditorWidget.prototype.revealRange=function(range2,scrollType,revealVerticalInCenter,revealHorizontal){scrollType===void 0&&(scrollType=0),revealVerticalInCenter===void 0&&(revealVerticalInCenter=!1),revealHorizontal===void 0&&(revealHorizontal=!0),this.modifiedEditor.revealRange(range2,scrollType,revealVerticalInCenter,revealHorizontal)},DiffEditorWidget.prototype.revealRangeInCenter=function(range2,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealRangeInCenter(range2,scrollType)},DiffEditorWidget.prototype.revealRangeInCenterIfOutsideViewport=function(range2,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(range2,scrollType)},DiffEditorWidget.prototype.revealRangeAtTop=function(range2,scrollType){scrollType===void 0&&(scrollType=0),this.modifiedEditor.revealRangeAtTop(range2,scrollType)},DiffEditorWidget.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},DiffEditorWidget.prototype.saveViewState=function(){var originalViewState=this.originalEditor.saveViewState(),modifiedViewState=this.modifiedEditor.saveViewState();return{original:originalViewState,modified:modifiedViewState}},DiffEditorWidget.prototype.restoreViewState=function(s){if(s.original&&s.modified){var diffEditorState=s;this.originalEditor.restoreViewState(diffEditorState.original),this.modifiedEditor.restoreViewState(diffEditorState.modified)}},DiffEditorWidget.prototype.layout=function(dimension){this._measureDomElement(!1,dimension)},DiffEditorWidget.prototype.focus=function(){this.modifiedEditor.focus()},DiffEditorWidget.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},DiffEditorWidget.prototype.trigger=function(source,handlerId,payload){this.modifiedEditor.trigger(source,handlerId,payload)},DiffEditorWidget.prototype.changeDecorations=function(callback){return this.modifiedEditor.changeDecorations(callback)},DiffEditorWidget.prototype._measureDomElement=function(forceDoLayoutCall,dimensions){if(dimensions=dimensions||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight},dimensions.width<=0){this._width=0,this._height=0,this._reviewHeight=0;return}!forceDoLayoutCall&&dimensions.width===this._width&&dimensions.height===this._height||(this._width=dimensions.width,this._height=dimensions.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout())},DiffEditorWidget.prototype._layoutOverviewRulers=function(){if(!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){var freeSpace=DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH-2*DiffEditorWidget.ONE_OVERVIEW_WIDTH,layoutInfo=this.modifiedEditor.getLayoutInfo();layoutInfo&&(this._originalOverviewRuler.setLayout({top:0,width:DiffEditorWidget.ONE_OVERVIEW_WIDTH,right:freeSpace+DiffEditorWidget.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:DiffEditorWidget.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))}},DiffEditorWidget.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},DiffEditorWidget.prototype._beginUpdateDecorationsSoon=function(){var _this=this;this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return _this._beginUpdateDecorations()},DiffEditorWidget.UPDATE_DIFF_DECORATIONS_DELAY)},DiffEditorWidget._equals=function(a,b){return!a&&!b?!0:!a||!b?!1:a.toString()===b.toString()},DiffEditorWidget.prototype._beginUpdateDecorations=function(){var _this=this;this._beginUpdateDecorationsTimeout=-1;var currentOriginalModel=this.originalEditor.getModel(),currentModifiedModel=this.modifiedEditor.getModel();if(!(!currentOriginalModel||!currentModifiedModel)){this._diffComputationToken++;var currentToken=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(currentOriginalModel.uri,currentModifiedModel.uri)){(!DiffEditorWidget._equals(currentOriginalModel.uri,this._lastOriginalWarning)||!DiffEditorWidget._equals(currentModifiedModel.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=currentOriginalModel.uri,this._lastModifiedWarning=currentModifiedModel.uri,this._notificationService.warn(nls.a("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._editorWorkerService.computeDiff(currentOriginalModel.uri,currentModifiedModel.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(function(result){currentToken===_this._diffComputationToken&&currentOriginalModel===_this.originalEditor.getModel()&&currentModifiedModel===_this.modifiedEditor.getModel()&&(_this._setState(2),_this._diffComputationResult=result,_this._updateDecorationsRunner.schedule(),_this._onDidUpdateDiff.fire())},function(error){currentToken===_this._diffComputationToken&&currentOriginalModel===_this.originalEditor.getModel()&&currentModifiedModel===_this.modifiedEditor.getModel()&&(_this._setState(2),_this._diffComputationResult=null,_this._updateDecorationsRunner.schedule())})}},DiffEditorWidget.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},DiffEditorWidget.prototype._updateDecorations=function(){if(!(!this.originalEditor.getModel()||!this.modifiedEditor.getModel()||!this._originalOverviewRuler||!this._modifiedOverviewRuler)){var lineChanges=this._diffComputationResult?this._diffComputationResult.changes:[],foreignOriginal=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),foreignModified=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),diffDecorations=this._strategy.getEditorsDiffDecorations(lineChanges,this._ignoreTrimWhitespace,this._renderIndicators,foreignOriginal,foreignModified,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,diffDecorations.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,diffDecorations.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},DiffEditorWidget.prototype._adjustOptionsForSubEditor=function(options){var clonedOptions=objects.c(options||{});return clonedOptions.inDiffEditor=!0,clonedOptions.wordWrap="off",clonedOptions.wordWrapMinified=!1,clonedOptions.automaticLayout=!1,clonedOptions.scrollbar=clonedOptions.scrollbar||{},clonedOptions.scrollbar.vertical="visible",clonedOptions.folding=!1,clonedOptions.codeLens=!1,clonedOptions.fixedOverflowWidgets=!0,clonedOptions.minimap||(clonedOptions.minimap={}),clonedOptions.minimap.enabled=!1,clonedOptions},DiffEditorWidget.prototype._adjustOptionsForLeftHandSide=function(options,isEditable){var result=this._adjustOptionsForSubEditor(options);return result.readOnly=!isEditable,result.extraEditorClassName="original-in-monaco-diff-editor",result},DiffEditorWidget.prototype._adjustOptionsForRightHandSide=function(options){var result=this._adjustOptionsForSubEditor(options);return result.revealHorizontalRightPadding=editorOptions.e.revealHorizontalRightPadding.defaultValue+DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,result.scrollbar.verticalHasArrows=!1,result.extraEditorClassName="modified-in-monaco-diff-editor",result},DiffEditorWidget.prototype.doLayout=function(){this._measureDomElement(!0)},DiffEditorWidget.prototype._doLayout=function(){var splitPoint=this._strategy.layout();this._originalDomNode.style.width=splitPoint+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-splitPoint+"px",this._modifiedDomNode.style.left=splitPoint+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=this._height-this._reviewHeight+"px",this._overviewDomElement.style.width=DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:splitPoint,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-splitPoint-DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},DiffEditorWidget.prototype._layoutOverviewViewport=function(){var layout=this._computeOverviewViewport();layout?(this._overviewViewportDomElement.setTop(layout.top),this._overviewViewportDomElement.setHeight(layout.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},DiffEditorWidget.prototype._computeOverviewViewport=function(){var layoutInfo=this.modifiedEditor.getLayoutInfo();if(!layoutInfo)return null;var scrollTop=this.modifiedEditor.getScrollTop(),scrollHeight=this.modifiedEditor.getScrollHeight(),computedAvailableSize=Math.max(0,layoutInfo.contentHeight),computedRepresentableSize=Math.max(0,computedAvailableSize-2*0),computedRatio=scrollHeight>0?computedRepresentableSize/scrollHeight:0,computedSliderSize=Math.max(0,Math.floor(layoutInfo.contentHeight*computedRatio)),computedSliderPosition=Math.floor(scrollTop*computedRatio);return{height:computedSliderSize,top:computedSliderPosition}},DiffEditorWidget.prototype._createDataSource=function(){var _this=this;return{getWidth:function(){return _this._width},getHeight:function(){return _this._height-_this._reviewHeight},getContainerDomNode:function(){return _this._containerDomElement},relayoutEditors:function(){_this._doLayout()},getOriginalEditor:function(){return _this.originalEditor},getModifiedEditor:function(){return _this.modifiedEditor}}},DiffEditorWidget.prototype._setStrategy=function(newStrategy){this._strategy&&this._strategy.dispose(),this._strategy=newStrategy,newStrategy.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._measureDomElement(!0)},DiffEditorWidget.prototype._getLineChangeAtOrBeforeLineNumber=function(lineNumber,startLineNumberExtractor){var lineChanges=this._diffComputationResult?this._diffComputationResult.changes:[];if(lineChanges.length===0||lineNumber<startLineNumberExtractor(lineChanges[0]))return null;for(var min=0,max=lineChanges.length-1;min<max;){var mid=Math.floor((min+max)/2),midStart=startLineNumberExtractor(lineChanges[mid]),midEnd=mid+1<=max?startLineNumberExtractor(lineChanges[mid+1]):1073741824;lineNumber<midStart?max=mid-1:lineNumber>=midEnd?min=mid+1:(min=mid,max=mid)}return lineChanges[min]},DiffEditorWidget.prototype._getEquivalentLineForOriginalLineNumber=function(lineNumber){var lineChange=this._getLineChangeAtOrBeforeLineNumber(lineNumber,function(lineChange2){return lineChange2.originalStartLineNumber});if(!lineChange)return lineNumber;var originalEquivalentLineNumber=lineChange.originalStartLineNumber+(lineChange.originalEndLineNumber>0?-1:0),modifiedEquivalentLineNumber=lineChange.modifiedStartLineNumber+(lineChange.modifiedEndLineNumber>0?-1:0),lineChangeOriginalLength=lineChange.originalEndLineNumber>0?lineChange.originalEndLineNumber-lineChange.originalStartLineNumber+1:0,lineChangeModifiedLength=lineChange.modifiedEndLineNumber>0?lineChange.modifiedEndLineNumber-lineChange.modifiedStartLineNumber+1:0,delta=lineNumber-originalEquivalentLineNumber;return delta<=lineChangeOriginalLength?modifiedEquivalentLineNumber+Math.min(delta,lineChangeModifiedLength):modifiedEquivalentLineNumber+lineChangeModifiedLength-lineChangeOriginalLength+delta},DiffEditorWidget.prototype._getEquivalentLineForModifiedLineNumber=function(lineNumber){var lineChange=this._getLineChangeAtOrBeforeLineNumber(lineNumber,function(lineChange2){return lineChange2.modifiedStartLineNumber});if(!lineChange)return lineNumber;var originalEquivalentLineNumber=lineChange.originalStartLineNumber+(lineChange.originalEndLineNumber>0?-1:0),modifiedEquivalentLineNumber=lineChange.modifiedStartLineNumber+(lineChange.modifiedEndLineNumber>0?-1:0),lineChangeOriginalLength=lineChange.originalEndLineNumber>0?lineChange.originalEndLineNumber-lineChange.originalStartLineNumber+1:0,lineChangeModifiedLength=lineChange.modifiedEndLineNumber>0?lineChange.modifiedEndLineNumber-lineChange.modifiedStartLineNumber+1:0,delta=lineNumber-modifiedEquivalentLineNumber;return delta<=lineChangeModifiedLength?originalEquivalentLineNumber+Math.min(delta,lineChangeOriginalLength):originalEquivalentLineNumber+lineChangeOriginalLength-lineChangeModifiedLength+delta},DiffEditorWidget.prototype.getDiffLineInformationForOriginal=function(lineNumber){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(lineNumber)}:null},DiffEditorWidget.prototype.getDiffLineInformationForModified=function(lineNumber){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(lineNumber)}:null},DiffEditorWidget.ONE_OVERVIEW_WIDTH=15,DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH=30,DiffEditorWidget.UPDATE_DIFF_DECORATIONS_DELAY=200,DiffEditorWidget=__decorate([__param(3,services_editorWorkerService.a),__param(4,contextkey.c),__param(5,instantiation.a),__param(6,services_codeEditorService.a),__param(7,common_themeService.c),__param(8,notification.a),__param(9,contextView.a),__param(10,progress.a)],DiffEditorWidget),DiffEditorWidget}(lifecycle.a),diffEditorWidget_DiffEditorWidgetStyle=function(_super){diffEditorWidget_extends(DiffEditorWidgetStyle,_super);function DiffEditorWidgetStyle(dataSource){var _this=_super.call(this)||this;return _this._dataSource=dataSource,_this._insertColor=null,_this._removeColor=null,_this}return DiffEditorWidgetStyle.prototype.applyColors=function(theme){var newInsertColor=(theme.getColor(colorRegistry.j)||colorRegistry.g).transparent(2),newRemoveColor=(theme.getColor(colorRegistry.l)||colorRegistry.h).transparent(2),hasChanges=!newInsertColor.equals(this._insertColor)||!newRemoveColor.equals(this._removeColor);return this._insertColor=newInsertColor,this._removeColor=newRemoveColor,hasChanges},DiffEditorWidgetStyle.prototype.getEditorsDiffDecorations=function(lineChanges,ignoreTrimWhitespace,renderIndicators,originalWhitespaces,modifiedWhitespaces,originalEditor,modifiedEditor){modifiedWhitespaces=modifiedWhitespaces.sort(function(a,b){return a.afterLineNumber-b.afterLineNumber}),originalWhitespaces=originalWhitespaces.sort(function(a,b){return a.afterLineNumber-b.afterLineNumber});var zones=this._getViewZones(lineChanges,originalWhitespaces,modifiedWhitespaces,originalEditor,modifiedEditor,renderIndicators),originalDecorations=this._getOriginalEditorDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor),modifiedDecorations=this._getModifiedEditorDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor);return{original:{decorations:originalDecorations.decorations,overviewZones:originalDecorations.overviewZones,zones:zones.original},modified:{decorations:modifiedDecorations.decorations,overviewZones:modifiedDecorations.overviewZones,zones:zones.modified}}},DiffEditorWidgetStyle}(lifecycle.a),ForeignViewZonesIterator=function(){function ForeignViewZonesIterator2(source){this._source=source,this._index=-1,this.current=null,this.advance()}return ForeignViewZonesIterator2.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},ForeignViewZonesIterator2}(),ViewZonesComputer=function(){function ViewZonesComputer2(lineChanges,originalForeignVZ,originalLineHeight,modifiedForeignVZ,modifiedLineHeight){this.lineChanges=lineChanges,this.originalForeignVZ=originalForeignVZ,this.originalLineHeight=originalLineHeight,this.modifiedForeignVZ=modifiedForeignVZ,this.modifiedLineHeight=modifiedLineHeight}return ViewZonesComputer2.prototype.getViewZones=function(){for(var result={original:[],modified:[]},lineChangeModifiedLength=0,lineChangeOriginalLength=0,originalEquivalentLineNumber=0,modifiedEquivalentLineNumber=0,originalEndEquivalentLineNumber=0,modifiedEndEquivalentLineNumber=0,sortMyViewZones=function(a,b){return a.afterLineNumber-b.afterLineNumber},addAndCombineIfPossible=function(destination,item){if(item.domNode===null&&destination.length>0){var lastItem=destination[destination.length-1];if(lastItem.afterLineNumber===item.afterLineNumber&&lastItem.domNode===null){lastItem.heightInLines+=item.heightInLines;return}}destination.push(item)},modifiedForeignVZ=new ForeignViewZonesIterator(this.modifiedForeignVZ),originalForeignVZ=new ForeignViewZonesIterator(this.originalForeignVZ),i=0,length_5=this.lineChanges.length;i<=length_5;i++){var lineChange=i<length_5?this.lineChanges[i]:null;lineChange!==null?(originalEquivalentLineNumber=lineChange.originalStartLineNumber+(lineChange.originalEndLineNumber>0?-1:0),modifiedEquivalentLineNumber=lineChange.modifiedStartLineNumber+(lineChange.modifiedEndLineNumber>0?-1:0),lineChangeOriginalLength=lineChange.originalEndLineNumber>0?lineChange.originalEndLineNumber-lineChange.originalStartLineNumber+1:0,lineChangeModifiedLength=lineChange.modifiedEndLineNumber>0?lineChange.modifiedEndLineNumber-lineChange.modifiedStartLineNumber+1:0,originalEndEquivalentLineNumber=Math.max(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber),modifiedEndEquivalentLineNumber=Math.max(lineChange.modifiedStartLineNumber,lineChange.modifiedEndLineNumber)):(originalEquivalentLineNumber+=1e7+lineChangeOriginalLength,modifiedEquivalentLineNumber+=1e7+lineChangeModifiedLength,originalEndEquivalentLineNumber=originalEquivalentLineNumber,modifiedEndEquivalentLineNumber=modifiedEquivalentLineNumber);for(var stepOriginal=[],stepModified=[];modifiedForeignVZ.current&&modifiedForeignVZ.current.afterLineNumber<=modifiedEndEquivalentLineNumber;){var viewZoneLineNumber=void 0;modifiedForeignVZ.current.afterLineNumber<=modifiedEquivalentLineNumber?viewZoneLineNumber=originalEquivalentLineNumber-modifiedEquivalentLineNumber+modifiedForeignVZ.current.afterLineNumber:viewZoneLineNumber=originalEndEquivalentLineNumber;var marginDomNode=null;lineChange&&lineChange.modifiedStartLineNumber<=modifiedForeignVZ.current.afterLineNumber&&modifiedForeignVZ.current.afterLineNumber<=lineChange.modifiedEndLineNumber&&(marginDomNode=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),stepOriginal.push({afterLineNumber:viewZoneLineNumber,heightInLines:modifiedForeignVZ.current.height/this.modifiedLineHeight,domNode:null,marginDomNode}),modifiedForeignVZ.advance()}for(;originalForeignVZ.current&&originalForeignVZ.current.afterLineNumber<=originalEndEquivalentLineNumber;){var viewZoneLineNumber=void 0;originalForeignVZ.current.afterLineNumber<=originalEquivalentLineNumber?viewZoneLineNumber=modifiedEquivalentLineNumber-originalEquivalentLineNumber+originalForeignVZ.current.afterLineNumber:viewZoneLineNumber=modifiedEndEquivalentLineNumber,stepModified.push({afterLineNumber:viewZoneLineNumber,heightInLines:originalForeignVZ.current.height/this.originalLineHeight,domNode:null}),originalForeignVZ.advance()}if(lineChange!==null&&isChangeOrInsert(lineChange)){var r=this._produceOriginalFromDiff(lineChange,lineChangeOriginalLength,lineChangeModifiedLength);r&&stepOriginal.push(r)}if(lineChange!==null&&isChangeOrDelete(lineChange)){var r=this._produceModifiedFromDiff(lineChange,lineChangeOriginalLength,lineChangeModifiedLength);r&&stepModified.push(r)}var stepOriginalIndex=0,stepModifiedIndex=0;for(stepOriginal=stepOriginal.sort(sortMyViewZones),stepModified=stepModified.sort(sortMyViewZones);stepOriginalIndex<stepOriginal.length&&stepModifiedIndex<stepModified.length;){var original=stepOriginal[stepOriginalIndex],modified=stepModified[stepModifiedIndex],originalDelta=original.afterLineNumber-originalEquivalentLineNumber,modifiedDelta=modified.afterLineNumber-modifiedEquivalentLineNumber;originalDelta<modifiedDelta?(addAndCombineIfPossible(result.original,original),stepOriginalIndex++):modifiedDelta<originalDelta?(addAndCombineIfPossible(result.modified,modified),stepModifiedIndex++):original.shouldNotShrink?(addAndCombineIfPossible(result.original,original),stepOriginalIndex++):modified.shouldNotShrink?(addAndCombineIfPossible(result.modified,modified),stepModifiedIndex++):original.heightInLines>=modified.heightInLines?(original.heightInLines-=modified.heightInLines,stepModifiedIndex++):(modified.heightInLines-=original.heightInLines,stepOriginalIndex++)}for(;stepOriginalIndex<stepOriginal.length;)addAndCombineIfPossible(result.original,stepOriginal[stepOriginalIndex]),stepOriginalIndex++;for(;stepModifiedIndex<stepModified.length;)addAndCombineIfPossible(result.modified,stepModified[stepModifiedIndex]),stepModifiedIndex++}return{original:ViewZonesComputer2._ensureDomNodes(result.original),modified:ViewZonesComputer2._ensureDomNodes(result.modified)}},ViewZonesComputer2._ensureDomNodes=function(zones){return zones.map(function(z){return z.domNode||(z.domNode=createFakeLinesDiv()),z})},ViewZonesComputer2}();function createDecoration(startLineNumber,startColumn,endLineNumber,endColumn,options){return{range:new range.a(startLineNumber,startColumn,endLineNumber,endColumn),options}}var DECORATIONS={charDelete:textModel.a.register({className:"char-delete"}),charDeleteWholeLine:textModel.a.register({className:"char-delete",isWholeLine:!0}),charInsert:textModel.a.register({className:"char-insert"}),charInsertWholeLine:textModel.a.register({className:"char-insert",isWholeLine:!0}),lineInsert:textModel.a.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:textModel.a.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:textModel.a.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:textModel.a.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:textModel.a.register({marginClassName:"line-delete"})},diffEditorWidget_DiffEditorWidgetSideBySide=function(_super){diffEditorWidget_extends(DiffEditorWidgetSideBySide,_super);function DiffEditorWidgetSideBySide(dataSource,enableSplitViewResizing){var _this=_super.call(this,dataSource)||this;return _this._disableSash=enableSplitViewResizing===!1,_this._sashRatio=null,_this._sashPosition=null,_this._startSashPosition=null,_this._sash=_this._register(new sash.a(_this._dataSource.getContainerDomNode(),_this)),_this._disableSash&&(_this._sash.state=0),_this._sash.onDidStart(function(){return _this.onSashDragStart()}),_this._sash.onDidChange(function(e){return _this.onSashDrag(e)}),_this._sash.onDidEnd(function(){return _this.onSashDragEnd()}),_this._sash.onDidReset(function(){return _this.onSashReset()}),_this}return DiffEditorWidgetSideBySide.prototype.setEnableSplitViewResizing=function(enableSplitViewResizing){var newDisableSash=enableSplitViewResizing===!1;this._disableSash!==newDisableSash&&(this._disableSash=newDisableSash,this._sash.state=this._disableSash?0:3)},DiffEditorWidgetSideBySide.prototype.layout=function(sashRatio){sashRatio===void 0&&(sashRatio=this._sashRatio);var w=this._dataSource.getWidth(),contentWidth=w-diffEditorWidget_DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,sashPosition=Math.floor((sashRatio||.5)*contentWidth),midPoint=Math.floor(.5*contentWidth);return sashPosition=this._disableSash?midPoint:sashPosition||midPoint,contentWidth>DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH*2?(sashPosition<DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH&&(sashPosition=DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH),sashPosition>contentWidth-DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH&&(sashPosition=contentWidth-DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH)):sashPosition=midPoint,this._sashPosition!==sashPosition&&(this._sashPosition=sashPosition,this._sash.layout()),this._sashPosition},DiffEditorWidgetSideBySide.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},DiffEditorWidgetSideBySide.prototype.onSashDrag=function(e){var w=this._dataSource.getWidth(),contentWidth=w-diffEditorWidget_DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,sashPosition=this.layout((this._startSashPosition+(e.currentX-e.startX))/contentWidth);this._sashRatio=sashPosition/contentWidth,this._dataSource.relayoutEditors()},DiffEditorWidgetSideBySide.prototype.onSashDragEnd=function(){this._sash.layout()},DiffEditorWidgetSideBySide.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},DiffEditorWidgetSideBySide.prototype.getVerticalSashTop=function(sash2){return 0},DiffEditorWidgetSideBySide.prototype.getVerticalSashLeft=function(sash2){return this._sashPosition},DiffEditorWidgetSideBySide.prototype.getVerticalSashHeight=function(sash2){return this._dataSource.getHeight()},DiffEditorWidgetSideBySide.prototype._getViewZones=function(lineChanges,originalForeignVZ,modifiedForeignVZ,originalEditor,modifiedEditor){var c=new SideBySideViewZonesComputer(lineChanges,originalForeignVZ,originalEditor.getOption(47),modifiedForeignVZ,modifiedEditor.getOption(47));return c.getViewZones()},DiffEditorWidgetSideBySide.prototype._getOriginalEditorDecorations=function(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor){for(var overviewZoneColor=String(this._removeColor),result={decorations:[],overviewZones:[]},originalModel=originalEditor.getModel(),i=0,length_6=lineChanges.length;i<length_6;i++){var lineChange=lineChanges[i];if(isChangeOrDelete(lineChange)&&(result.decorations.push({range:new range.a(lineChange.originalStartLineNumber,1,lineChange.originalEndLineNumber,1073741824),options:renderIndicators?DECORATIONS.lineDeleteWithSign:DECORATIONS.lineDelete}),(!isChangeOrInsert(lineChange)||!lineChange.charChanges)&&result.decorations.push(createDecoration(lineChange.originalStartLineNumber,1,lineChange.originalEndLineNumber,1073741824,DECORATIONS.charDeleteWholeLine)),result.overviewZones.push(new overviewZoneManager.a(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber,overviewZoneColor)),lineChange.charChanges))for(var j=0,lengthJ=lineChange.charChanges.length;j<lengthJ;j++){var charChange=lineChange.charChanges[j];if(isChangeOrDelete(charChange))if(ignoreTrimWhitespace)for(var lineNumber=charChange.originalStartLineNumber;lineNumber<=charChange.originalEndLineNumber;lineNumber++){var startColumn=void 0,endColumn=void 0;lineNumber===charChange.originalStartLineNumber?startColumn=charChange.originalStartColumn:startColumn=originalModel.getLineFirstNonWhitespaceColumn(lineNumber),lineNumber===charChange.originalEndLineNumber?endColumn=charChange.originalEndColumn:endColumn=originalModel.getLineLastNonWhitespaceColumn(lineNumber),result.decorations.push(createDecoration(lineNumber,startColumn,lineNumber,endColumn,DECORATIONS.charDelete))}else result.decorations.push(createDecoration(charChange.originalStartLineNumber,charChange.originalStartColumn,charChange.originalEndLineNumber,charChange.originalEndColumn,DECORATIONS.charDelete))}}return result},DiffEditorWidgetSideBySide.prototype._getModifiedEditorDecorations=function(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor){for(var overviewZoneColor=String(this._insertColor),result={decorations:[],overviewZones:[]},modifiedModel=modifiedEditor.getModel(),i=0,length_7=lineChanges.length;i<length_7;i++){var lineChange=lineChanges[i];if(isChangeOrInsert(lineChange)&&(result.decorations.push({range:new range.a(lineChange.modifiedStartLineNumber,1,lineChange.modifiedEndLineNumber,1073741824),options:renderIndicators?DECORATIONS.lineInsertWithSign:DECORATIONS.lineInsert}),(!isChangeOrDelete(lineChange)||!lineChange.charChanges)&&result.decorations.push(createDecoration(lineChange.modifiedStartLineNumber,1,lineChange.modifiedEndLineNumber,1073741824,DECORATIONS.charInsertWholeLine)),result.overviewZones.push(new overviewZoneManager.a(lineChange.modifiedStartLineNumber,lineChange.modifiedEndLineNumber,overviewZoneColor)),lineChange.charChanges))for(var j=0,lengthJ=lineChange.charChanges.length;j<lengthJ;j++){var charChange=lineChange.charChanges[j];if(isChangeOrInsert(charChange))if(ignoreTrimWhitespace)for(var lineNumber=charChange.modifiedStartLineNumber;lineNumber<=charChange.modifiedEndLineNumber;lineNumber++){var startColumn=void 0,endColumn=void 0;lineNumber===charChange.modifiedStartLineNumber?startColumn=charChange.modifiedStartColumn:startColumn=modifiedModel.getLineFirstNonWhitespaceColumn(lineNumber),lineNumber===charChange.modifiedEndLineNumber?endColumn=charChange.modifiedEndColumn:endColumn=modifiedModel.getLineLastNonWhitespaceColumn(lineNumber),result.decorations.push(createDecoration(lineNumber,startColumn,lineNumber,endColumn,DECORATIONS.charInsert))}else result.decorations.push(createDecoration(charChange.modifiedStartLineNumber,charChange.modifiedStartColumn,charChange.modifiedEndLineNumber,charChange.modifiedEndColumn,DECORATIONS.charInsert))}}return result},DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH=100,DiffEditorWidgetSideBySide}(diffEditorWidget_DiffEditorWidgetStyle),SideBySideViewZonesComputer=function(_super){diffEditorWidget_extends(SideBySideViewZonesComputer2,_super);function SideBySideViewZonesComputer2(lineChanges,originalForeignVZ,originalLineHeight,modifiedForeignVZ,modifiedLineHeight){return _super.call(this,lineChanges,originalForeignVZ,originalLineHeight,modifiedForeignVZ,modifiedLineHeight)||this}return SideBySideViewZonesComputer2.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},SideBySideViewZonesComputer2.prototype._produceOriginalFromDiff=function(lineChange,lineChangeOriginalLength,lineChangeModifiedLength){return lineChangeModifiedLength>lineChangeOriginalLength?{afterLineNumber:Math.max(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber),heightInLines:lineChangeModifiedLength-lineChangeOriginalLength,domNode:null}:null},SideBySideViewZonesComputer2.prototype._produceModifiedFromDiff=function(lineChange,lineChangeOriginalLength,lineChangeModifiedLength){return lineChangeOriginalLength>lineChangeModifiedLength?{afterLineNumber:Math.max(lineChange.modifiedStartLineNumber,lineChange.modifiedEndLineNumber),heightInLines:lineChangeOriginalLength-lineChangeModifiedLength,domNode:null}:null},SideBySideViewZonesComputer2}(ViewZonesComputer),diffEditorWidget_DiffEditorWidgetInline=function(_super){diffEditorWidget_extends(DiffEditorWidgetInline,_super);function DiffEditorWidgetInline(dataSource,enableSplitViewResizing){var _this=_super.call(this,dataSource)||this;return _this.decorationsLeft=dataSource.getOriginalEditor().getLayoutInfo().decorationsLeft,_this._register(dataSource.getOriginalEditor().onDidLayoutChange(function(layoutInfo){_this.decorationsLeft!==layoutInfo.decorationsLeft&&(_this.decorationsLeft=layoutInfo.decorationsLeft,dataSource.relayoutEditors())})),_this}return DiffEditorWidgetInline.prototype.setEnableSplitViewResizing=function(enableSplitViewResizing){},DiffEditorWidgetInline.prototype._getViewZones=function(lineChanges,originalForeignVZ,modifiedForeignVZ,originalEditor,modifiedEditor,renderIndicators){var computer=new diffEditorWidget_InlineViewZonesComputer(lineChanges,originalForeignVZ,modifiedForeignVZ,originalEditor,modifiedEditor,renderIndicators);return computer.getViewZones()},DiffEditorWidgetInline.prototype._getOriginalEditorDecorations=function(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor){for(var overviewZoneColor=String(this._removeColor),result={decorations:[],overviewZones:[]},i=0,length_8=lineChanges.length;i<length_8;i++){var lineChange=lineChanges[i];isChangeOrDelete(lineChange)&&(result.decorations.push({range:new range.a(lineChange.originalStartLineNumber,1,lineChange.originalEndLineNumber,1073741824),options:DECORATIONS.lineDeleteMargin}),result.overviewZones.push(new overviewZoneManager.a(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber,overviewZoneColor)))}return result},DiffEditorWidgetInline.prototype._getModifiedEditorDecorations=function(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor){for(var overviewZoneColor=String(this._insertColor),result={decorations:[],overviewZones:[]},modifiedModel=modifiedEditor.getModel(),i=0,length_9=lineChanges.length;i<length_9;i++){var lineChange=lineChanges[i];if(isChangeOrInsert(lineChange))if(result.decorations.push({range:new range.a(lineChange.modifiedStartLineNumber,1,lineChange.modifiedEndLineNumber,1073741824),options:renderIndicators?DECORATIONS.lineInsertWithSign:DECORATIONS.lineInsert}),result.overviewZones.push(new overviewZoneManager.a(lineChange.modifiedStartLineNumber,lineChange.modifiedEndLineNumber,overviewZoneColor)),lineChange.charChanges)for(var j=0,lengthJ=lineChange.charChanges.length;j<lengthJ;j++){var charChange=lineChange.charChanges[j];if(isChangeOrInsert(charChange))if(ignoreTrimWhitespace)for(var lineNumber=charChange.modifiedStartLineNumber;lineNumber<=charChange.modifiedEndLineNumber;lineNumber++){var startColumn=void 0,endColumn=void 0;lineNumber===charChange.modifiedStartLineNumber?startColumn=charChange.modifiedStartColumn:startColumn=modifiedModel.getLineFirstNonWhitespaceColumn(lineNumber),lineNumber===charChange.modifiedEndLineNumber?endColumn=charChange.modifiedEndColumn:endColumn=modifiedModel.getLineLastNonWhitespaceColumn(lineNumber),result.decorations.push(createDecoration(lineNumber,startColumn,lineNumber,endColumn,DECORATIONS.charInsert))}else result.decorations.push(createDecoration(charChange.modifiedStartLineNumber,charChange.modifiedStartColumn,charChange.modifiedEndLineNumber,charChange.modifiedEndColumn,DECORATIONS.charInsert))}else result.decorations.push(createDecoration(lineChange.modifiedStartLineNumber,1,lineChange.modifiedEndLineNumber,1073741824,DECORATIONS.charInsertWholeLine))}return result},DiffEditorWidgetInline.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},DiffEditorWidgetInline}(diffEditorWidget_DiffEditorWidgetStyle),diffEditorWidget_InlineViewZonesComputer=function(_super){diffEditorWidget_extends(InlineViewZonesComputer,_super);function InlineViewZonesComputer(lineChanges,originalForeignVZ,modifiedForeignVZ,originalEditor,modifiedEditor,renderIndicators){var _this=_super.call(this,lineChanges,originalForeignVZ,originalEditor.getOption(47),modifiedForeignVZ,modifiedEditor.getOption(47))||this;return _this.originalModel=originalEditor.getModel(),_this.modifiedEditorOptions=modifiedEditor.getOptions(),_this.modifiedEditorTabSize=modifiedEditor.getModel().getOptions().tabSize,_this.renderIndicators=renderIndicators,_this}return InlineViewZonesComputer.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var result=document.createElement("div");return result.className="inline-added-margin-view-zone",result},InlineViewZonesComputer.prototype._produceOriginalFromDiff=function(lineChange,lineChangeOriginalLength,lineChangeModifiedLength){var marginDomNode=document.createElement("div");return marginDomNode.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber),heightInLines:lineChangeModifiedLength,domNode:document.createElement("div"),marginDomNode}},InlineViewZonesComputer.prototype._produceModifiedFromDiff=function(lineChange,lineChangeOriginalLength,lineChangeModifiedLength){var decorations=[];if(lineChange.charChanges)for(var j=0,lengthJ=lineChange.charChanges.length;j<lengthJ;j++){var charChange=lineChange.charChanges[j];isChangeOrDelete(charChange)&&decorations.push(new viewModel.a(new range.a(charChange.originalStartLineNumber,charChange.originalStartColumn,charChange.originalEndLineNumber,charChange.originalEndColumn),"char-delete",0))}for(var sb=Object(stringBuilder.a)(1e4),marginHTML=[],layoutInfo=this.modifiedEditorOptions.get(103),fontInfo=this.modifiedEditorOptions.get(32),lineDecorationsWidth=layoutInfo.decorationsWidth,lineHeight=this.modifiedEditorOptions.get(47),typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,maxCharsPerLine=0,originalContent=[],lineNumber=lineChange.originalStartLineNumber;lineNumber<=lineChange.originalEndLineNumber;lineNumber++)if(maxCharsPerLine=Math.max(maxCharsPerLine,this._renderOriginalLine(lineNumber-lineChange.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,lineNumber,decorations,sb)),originalContent.push(this.originalModel.getLineContent(lineNumber)),this.renderIndicators){var index=lineNumber-lineChange.originalStartLineNumber;marginHTML=marginHTML.concat(['<div class="delete-sign" style="position:absolute;top:'+index*lineHeight+"px;width:"+lineDecorationsWidth+"px;height:"+lineHeight+'px;right:0;"></div>'])}maxCharsPerLine+=this.modifiedEditorOptions.get(75);var domNode=document.createElement("div");domNode.className="view-lines line-delete",domNode.innerHTML=sb.build(),configuration.a.applyFontInfoSlow(domNode,fontInfo);var marginDomNode=document.createElement("div");return marginDomNode.className="inline-deleted-margin-view-zone",marginDomNode.innerHTML=marginHTML.join(""),configuration.a.applyFontInfoSlow(marginDomNode,fontInfo),{shouldNotShrink:!0,afterLineNumber:lineChange.modifiedEndLineNumber===0?lineChange.modifiedStartLineNumber:lineChange.modifiedStartLineNumber-1,heightInLines:lineChangeOriginalLength,minWidthInPx:maxCharsPerLine*typicalHalfwidthCharacterWidth,domNode,marginDomNode,diff:{originalStartLineNumber:lineChange.originalStartLineNumber,originalEndLineNumber:lineChange.originalEndLineNumber,modifiedStartLineNumber:lineChange.modifiedStartLineNumber,modifiedEndLineNumber:lineChange.modifiedEndLineNumber,originalContent}}},InlineViewZonesComputer.prototype._renderOriginalLine=function(count,originalModel,options,tabSize,lineNumber,decorations,sb){var lineTokens=originalModel.getLineTokens(lineNumber),lineContent=lineTokens.getLineContent(),fontInfo=options.get(32),actualDecorations=lineDecorations.a.filter(decorations,lineNumber,1,lineContent.length+1);sb.appendASCIIString('<div class="view-line'),decorations.length===0&&sb.appendASCIIString(" char-delete"),sb.appendASCIIString('" style="top:'),sb.appendASCIIString(String(count*options.get(47))),sb.appendASCIIString('px;width:1000000px;">');var isBasicASCII=viewModel.d.isBasicASCII(lineContent,originalModel.mightContainNonBasicASCII()),containsRTL=viewModel.d.containsRTL(lineContent,isBasicASCII,originalModel.mightContainRTL()),output=Object(viewLineRenderer.d)(new viewLineRenderer.c(fontInfo.isMonospace&&!options.get(22),fontInfo.canUseHalfwidthRightwardsArrow,lineContent,!1,isBasicASCII,containsRTL,0,lineTokens,actualDecorations,tabSize,fontInfo.spaceWidth,options.get(84),options.get(70),options.get(66),options.get(33)!==editorOptions.d.OFF,null),sb);sb.appendASCIIString("</div>");var absoluteOffsets=output.characterMapping.getAbsoluteOffsets();return absoluteOffsets.length>0?absoluteOffsets[absoluteOffsets.length-1]:0},InlineViewZonesComputer}(ViewZonesComputer);function isChangeOrInsert(lineChange){return lineChange.modifiedEndLineNumber>0}function isChangeOrDelete(lineChange){return lineChange.originalEndLineNumber>0}function createFakeLinesDiv(){var r=document.createElement("div");return r.className="diagonal-fill",r}Object(common_themeService.e)(function(theme,collector){var added=theme.getColor(colorRegistry.j);added&&(collector.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+added+"; }"),collector.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+added+"; }"),collector.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+added+"; }"));var removed=theme.getColor(colorRegistry.l);removed&&(collector.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+removed+"; }"),collector.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+removed+"; }"),collector.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+removed+"; }"));var addedOutline=theme.getColor(colorRegistry.k);addedOutline&&collector.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+(theme.type==="hc"?"dashed":"solid")+" "+addedOutline+"; }");var removedOutline=theme.getColor(colorRegistry.m);removedOutline&&collector.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+(theme.type==="hc"?"dashed":"solid")+" "+removedOutline+"; }");var shadow=theme.getColor(colorRegistry.Vb);shadow&&collector.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+shadow+"; }");var border=theme.getColor(colorRegistry.i);border&&collector.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+border+"; }")})},2720:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return textModel_TextModel}),__webpack_require__.d(__webpack_exports__,"a",function(){return textModel_ModelDecorationOptions});var errors=__webpack_require__(2176),common_event=__webpack_require__(2106),lifecycle=__webpack_require__(2033),strings=__webpack_require__(2123),uri=__webpack_require__(2640),editorOptions=__webpack_require__(2784),core_position=__webpack_require__(2233),core_range=__webpack_require__(2056),selection=__webpack_require__(2629),model=__webpack_require__(2819),EditStackElement=function(){function EditStackElement2(beforeVersionId,beforeCursorState){this.beforeVersionId=beforeVersionId,this.beforeCursorState=beforeCursorState,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}return EditStackElement2.prototype.undo=function(model2){for(var i=this.editOperations.length-1;i>=0;i--)this.editOperations[i]={operations:model2.applyEdits(this.editOperations[i].operations)}},EditStackElement2.prototype.redo=function(model2){for(var i=0;i<this.editOperations.length;i++)this.editOperations[i]={operations:model2.applyEdits(this.editOperations[i].operations)}},EditStackElement2}();function getModelEOL(model2){var eol=model2.getEOL();return eol===`
`?0:1}var EOLStackElement=function(){function EOLStackElement2(beforeVersionId,setEOL){this.beforeVersionId=beforeVersionId,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=setEOL}return EOLStackElement2.prototype.undo=function(model2){var redoEOL=getModelEOL(model2);model2.setEOL(this.eol),this.eol=redoEOL},EOLStackElement2.prototype.redo=function(model2){var undoEOL=getModelEOL(model2);model2.setEOL(this.eol),this.eol=undoEOL},EOLStackElement2}(),editStack_EditStack=function(){function EditStack(model2){this.model=model2,this.currentOpenStackElement=null,this.past=[],this.future=[]}return EditStack.prototype.pushStackElement=function(){this.currentOpenStackElement!==null&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},EditStack.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},EditStack.prototype.pushEOL=function(eol){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var prevEOL=getModelEOL(this.model),stackElement=new EOLStackElement(this.model.getAlternativeVersionId(),prevEOL);this.model.setEOL(eol),stackElement.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=stackElement,this.pushStackElement()},EditStack.prototype.pushEditOperation=function(beforeCursorState,editOperations,cursorStateComputer){this.future=[];var stackElement=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof EditStackElement?stackElement=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(stackElement=new EditStackElement(this.model.getAlternativeVersionId(),beforeCursorState),this.currentOpenStackElement=stackElement);var inverseEditOperation={operations:this.model.applyEdits(editOperations)};return stackElement.editOperations.push(inverseEditOperation),stackElement.afterCursorState=EditStack._computeCursorState(cursorStateComputer,inverseEditOperation.operations),stackElement.afterVersionId=this.model.getVersionId(),stackElement.afterCursorState},EditStack._computeCursorState=function(cursorStateComputer,inverseEditOperations){try{return cursorStateComputer?cursorStateComputer(inverseEditOperations):null}catch(e){return Object(errors.e)(e),null}},EditStack.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var pastStackElement=this.past.pop();try{pastStackElement.undo(this.model)}catch(e){return Object(errors.e)(e),this.clear(),null}return this.future.push(pastStackElement),{selections:pastStackElement.beforeCursorState,recordedVersionId:pastStackElement.beforeVersionId}}return null},EditStack.prototype.canUndo=function(){return this.past.length>0||this.currentOpenStackElement!==null},EditStack.prototype.redo=function(){if(this.future.length>0){var futureStackElement=this.future.pop();try{futureStackElement.redo(this.model)}catch(e){return Object(errors.e)(e),this.clear(),null}return this.past.push(futureStackElement),{selections:futureStackElement.afterCursorState,recordedVersionId:futureStackElement.afterVersionId}}return null},EditStack.prototype.canRedo=function(){return this.future.length>0},EditStack}(),SpacesDiffResult=function(){function SpacesDiffResult2(){this.spacesDiff=0,this.looksLikeAlignment=!1}return SpacesDiffResult2}();function spacesDiff(a,aLength,b,bLength,result){result.spacesDiff=0,result.looksLikeAlignment=!1;var i;for(i=0;i<aLength&&i<bLength;i++){var aCharCode=a.charCodeAt(i),bCharCode=b.charCodeAt(i);if(aCharCode!==bCharCode)break}for(var aSpacesCnt=0,aTabsCount=0,j=i;j<aLength;j++){var aCharCode=a.charCodeAt(j);aCharCode===32?aSpacesCnt++:aTabsCount++}for(var bSpacesCnt=0,bTabsCount=0,j=i;j<bLength;j++){var bCharCode=b.charCodeAt(j);bCharCode===32?bSpacesCnt++:bTabsCount++}if(!(aSpacesCnt>0&&aTabsCount>0)&&!(bSpacesCnt>0&&bTabsCount>0)){var tabsDiff=Math.abs(aTabsCount-bTabsCount),spacesDiff2=Math.abs(aSpacesCnt-bSpacesCnt);if(tabsDiff===0){result.spacesDiff=spacesDiff2,spacesDiff2>0&&0<=bSpacesCnt-1&&bSpacesCnt-1<a.length&&bSpacesCnt<b.length&&b.charCodeAt(bSpacesCnt)!==32&&a.charCodeAt(bSpacesCnt-1)===32&&(result.looksLikeAlignment=!0);return}if(spacesDiff2%tabsDiff===0){result.spacesDiff=spacesDiff2/tabsDiff;return}}}function guessIndentation(source,defaultTabSize,defaultInsertSpaces){for(var linesCount=Math.min(source.getLineCount(),1e4),linesIndentedWithTabsCount=0,linesIndentedWithSpacesCount=0,previousLineText="",previousLineIndentation=0,ALLOWED_TAB_SIZE_GUESSES=[2,4,6,8,3,5,7],MAX_ALLOWED_TAB_SIZE_GUESS=8,spacesDiffCount=[0,0,0,0,0,0,0,0,0],tmp=new SpacesDiffResult,lineNumber=1;lineNumber<=linesCount;lineNumber++){for(var currentLineLength=source.getLineLength(lineNumber),currentLineText=source.getLineContent(lineNumber),useCurrentLineText=currentLineLength<=65536,currentLineHasContent=!1,currentLineIndentation=0,currentLineSpacesCount=0,currentLineTabsCount=0,j=0,lenJ=currentLineLength;j<lenJ;j++){var charCode=useCurrentLineText?currentLineText.charCodeAt(j):source.getLineCharCode(lineNumber,j);if(charCode===9)currentLineTabsCount++;else if(charCode===32)currentLineSpacesCount++;else{currentLineHasContent=!0,currentLineIndentation=j;break}}if(currentLineHasContent&&(currentLineTabsCount>0?linesIndentedWithTabsCount++:currentLineSpacesCount>1&&linesIndentedWithSpacesCount++,spacesDiff(previousLineText,previousLineIndentation,currentLineText,currentLineIndentation,tmp),!(tmp.looksLikeAlignment&&!(defaultInsertSpaces&&defaultTabSize===tmp.spacesDiff)))){var currentSpacesDiff=tmp.spacesDiff;currentSpacesDiff<=MAX_ALLOWED_TAB_SIZE_GUESS&&spacesDiffCount[currentSpacesDiff]++,previousLineText=currentLineText,previousLineIndentation=currentLineIndentation}}var insertSpaces=defaultInsertSpaces;linesIndentedWithTabsCount!==linesIndentedWithSpacesCount&&(insertSpaces=linesIndentedWithTabsCount<linesIndentedWithSpacesCount);var tabSize=defaultTabSize;if(insertSpaces){var tabSizeScore_1=insertSpaces?0:.1*linesCount;ALLOWED_TAB_SIZE_GUESSES.forEach(function(possibleTabSize){var possibleTabSizeScore=spacesDiffCount[possibleTabSize];possibleTabSizeScore>tabSizeScore_1&&(tabSizeScore_1=possibleTabSizeScore,tabSize=possibleTabSize)}),tabSize===4&&spacesDiffCount[4]>0&&spacesDiffCount[2]>0&&spacesDiffCount[2]>=spacesDiffCount[4]/2&&(tabSize=2)}return{insertSpaces,tabSize}}function getNodeColor(node){return(node.metadata&1)>>>0}function setNodeColor(node,color){node.metadata=node.metadata&254|color<<0}function getNodeIsVisited(node){return(node.metadata&2)>>>1===1}function setNodeIsVisited(node,value){node.metadata=node.metadata&253|(value?1:0)<<1}function getNodeIsForValidation(node){return(node.metadata&4)>>>2===1}function setNodeIsForValidation(node,value){node.metadata=node.metadata&251|(value?1:0)<<2}function getNodeIsInOverviewRuler(node){return(node.metadata&8)>>>3===1}function setNodeIsInOverviewRuler(node,value){node.metadata=node.metadata&247|(value?1:0)<<3}function getNodeStickiness(node){return(node.metadata&48)>>>4}function _setNodeStickiness(node,stickiness){node.metadata=node.metadata&207|stickiness<<4}function getCollapseOnReplaceEdit(node){return(node.metadata&64)>>>6===1}function setCollapseOnReplaceEdit(node,value){node.metadata=node.metadata&191|(value?1:0)<<6}var IntervalNode=function(){function IntervalNode2(id,start,end){this.metadata=0,this.parent=this,this.left=this,this.right=this,setNodeColor(this,1),this.start=start,this.end=end,this.delta=0,this.maxEnd=end,this.id=id,this.ownerId=0,this.options=null,setNodeIsForValidation(this,!1),_setNodeStickiness(this,1),setNodeIsInOverviewRuler(this,!1),setCollapseOnReplaceEdit(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=start,this.cachedAbsoluteEnd=end,this.range=null,setNodeIsVisited(this,!1)}return IntervalNode2.prototype.reset=function(versionId,start,end,range){this.start=start,this.end=end,this.maxEnd=end,this.cachedVersionId=versionId,this.cachedAbsoluteStart=start,this.cachedAbsoluteEnd=end,this.range=range},IntervalNode2.prototype.setOptions=function(options){this.options=options;var className=this.options.className;setNodeIsForValidation(this,className==="squiggly-error"||className==="squiggly-warning"||className==="squiggly-info"),_setNodeStickiness(this,this.options.stickiness),setNodeIsInOverviewRuler(this,!!(this.options.overviewRuler&&this.options.overviewRuler.color)),setCollapseOnReplaceEdit(this,this.options.collapseOnReplaceEdit)},IntervalNode2.prototype.setCachedOffsets=function(absoluteStart,absoluteEnd,cachedVersionId){this.cachedVersionId!==cachedVersionId&&(this.range=null),this.cachedVersionId=cachedVersionId,this.cachedAbsoluteStart=absoluteStart,this.cachedAbsoluteEnd=absoluteEnd},IntervalNode2.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},IntervalNode2}(),SENTINEL=new IntervalNode(null,0,0);SENTINEL.parent=SENTINEL,SENTINEL.left=SENTINEL,SENTINEL.right=SENTINEL,setNodeColor(SENTINEL,0);var IntervalTree=function(){function IntervalTree2(){this.root=SENTINEL,this.requestNormalizeDelta=!1}return IntervalTree2.prototype.intervalSearch=function(start,end,filterOwnerId,filterOutValidation,cachedVersionId){return this.root===SENTINEL?[]:intervalSearch(this,start,end,filterOwnerId,filterOutValidation,cachedVersionId)},IntervalTree2.prototype.search=function(filterOwnerId,filterOutValidation,cachedVersionId){return this.root===SENTINEL?[]:search(this,filterOwnerId,filterOutValidation,cachedVersionId)},IntervalTree2.prototype.collectNodesFromOwner=function(ownerId){return collectNodesFromOwner(this,ownerId)},IntervalTree2.prototype.collectNodesPostOrder=function(){return collectNodesPostOrder(this)},IntervalTree2.prototype.insert=function(node){rbTreeInsert(this,node),this._normalizeDeltaIfNecessary()},IntervalTree2.prototype.delete=function(node){rbTreeDelete(this,node),this._normalizeDeltaIfNecessary()},IntervalTree2.prototype.resolveNode=function(node,cachedVersionId){for(var initialNode=node,delta=0;node!==this.root;)node===node.parent.right&&(delta+=node.parent.delta),node=node.parent;var nodeStart=initialNode.start+delta,nodeEnd=initialNode.end+delta;initialNode.setCachedOffsets(nodeStart,nodeEnd,cachedVersionId)},IntervalTree2.prototype.acceptReplace=function(offset,length,textLength,forceMoveMarkers){for(var nodesOfInterest=searchForEditing(this,offset,offset+length),i=0,len=nodesOfInterest.length;i<len;i++){var node=nodesOfInterest[i];rbTreeDelete(this,node)}this._normalizeDeltaIfNecessary(),noOverlapReplace(this,offset,offset+length,textLength),this._normalizeDeltaIfNecessary();for(var i=0,len=nodesOfInterest.length;i<len;i++){var node=nodesOfInterest[i];node.start=node.cachedAbsoluteStart,node.end=node.cachedAbsoluteEnd,nodeAcceptEdit(node,offset,offset+length,textLength,forceMoveMarkers),node.maxEnd=node.end,rbTreeInsert(this,node)}this._normalizeDeltaIfNecessary()},IntervalTree2.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,normalizeDelta(this))},IntervalTree2}();function normalizeDelta(T){for(var node=T.root,delta=0;node!==SENTINEL;){if(node.left!==SENTINEL&&!getNodeIsVisited(node.left)){node=node.left;continue}if(node.right!==SENTINEL&&!getNodeIsVisited(node.right)){delta+=node.delta,node=node.right;continue}node.start=delta+node.start,node.end=delta+node.end,node.delta=0,recomputeMaxEnd(node),setNodeIsVisited(node,!0),setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),node=node.parent}setNodeIsVisited(T.root,!1)}function adjustMarkerBeforeColumn(markerOffset,markerStickToPreviousCharacter,checkOffset,moveSemantics){return markerOffset<checkOffset?!0:markerOffset>checkOffset||moveSemantics===1?!1:moveSemantics===2?!0:markerStickToPreviousCharacter}function nodeAcceptEdit(node,start,end,textLength,forceMoveMarkers){var nodeStickiness=getNodeStickiness(node),startStickToPreviousCharacter=nodeStickiness===0||nodeStickiness===2,endStickToPreviousCharacter=nodeStickiness===1||nodeStickiness===2,deletingCnt=end-start,insertingCnt=textLength,commonLength=Math.min(deletingCnt,insertingCnt),nodeStart=node.start,startDone=!1,nodeEnd=node.end,endDone=!1;start<=nodeStart&&nodeEnd<=end&&getCollapseOnReplaceEdit(node)&&(node.start=start,startDone=!0,node.end=start,endDone=!0);{var moveSemantics=forceMoveMarkers?1:deletingCnt>0?2:0;!startDone&&adjustMarkerBeforeColumn(nodeStart,startStickToPreviousCharacter,start,moveSemantics)&&(startDone=!0),!endDone&&adjustMarkerBeforeColumn(nodeEnd,endStickToPreviousCharacter,start,moveSemantics)&&(endDone=!0)}if(commonLength>0&&!forceMoveMarkers){var moveSemantics=deletingCnt>insertingCnt?2:0;!startDone&&adjustMarkerBeforeColumn(nodeStart,startStickToPreviousCharacter,start+commonLength,moveSemantics)&&(startDone=!0),!endDone&&adjustMarkerBeforeColumn(nodeEnd,endStickToPreviousCharacter,start+commonLength,moveSemantics)&&(endDone=!0)}{var moveSemantics=forceMoveMarkers?1:0;!startDone&&adjustMarkerBeforeColumn(nodeStart,startStickToPreviousCharacter,end,moveSemantics)&&(node.start=start+insertingCnt,startDone=!0),!endDone&&adjustMarkerBeforeColumn(nodeEnd,endStickToPreviousCharacter,end,moveSemantics)&&(node.end=start+insertingCnt,endDone=!0)}var deltaColumn=insertingCnt-deletingCnt;startDone||(node.start=Math.max(0,nodeStart+deltaColumn)),endDone||(node.end=Math.max(0,nodeEnd+deltaColumn)),node.start>node.end&&(node.end=node.start)}function searchForEditing(T,start,end){for(var node=T.root,delta=0,nodeMaxEnd=0,nodeStart=0,nodeEnd=0,result=[],resultLen=0;node!==SENTINEL;){if(getNodeIsVisited(node)){setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),node=node.parent;continue}if(!getNodeIsVisited(node.left)){if(nodeMaxEnd=delta+node.maxEnd,nodeMaxEnd<start){setNodeIsVisited(node,!0);continue}if(node.left!==SENTINEL){node=node.left;continue}}if(nodeStart=delta+node.start,nodeStart>end){setNodeIsVisited(node,!0);continue}if(nodeEnd=delta+node.end,nodeEnd>=start&&(node.setCachedOffsets(nodeStart,nodeEnd,0),result[resultLen++]=node),setNodeIsVisited(node,!0),node.right!==SENTINEL&&!getNodeIsVisited(node.right)){delta+=node.delta,node=node.right;continue}}return setNodeIsVisited(T.root,!1),result}function noOverlapReplace(T,start,end,textLength){for(var node=T.root,delta=0,nodeMaxEnd=0,nodeStart=0,editDelta=textLength-(end-start);node!==SENTINEL;){if(getNodeIsVisited(node)){setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),recomputeMaxEnd(node),node=node.parent;continue}if(!getNodeIsVisited(node.left)){if(nodeMaxEnd=delta+node.maxEnd,nodeMaxEnd<start){setNodeIsVisited(node,!0);continue}if(node.left!==SENTINEL){node=node.left;continue}}if(nodeStart=delta+node.start,nodeStart>end){node.start+=editDelta,node.end+=editDelta,node.delta+=editDelta,(node.delta<-1073741824||node.delta>1073741824)&&(T.requestNormalizeDelta=!0),setNodeIsVisited(node,!0);continue}if(setNodeIsVisited(node,!0),node.right!==SENTINEL&&!getNodeIsVisited(node.right)){delta+=node.delta,node=node.right;continue}}setNodeIsVisited(T.root,!1)}function collectNodesFromOwner(T,ownerId){for(var node=T.root,result=[],resultLen=0;node!==SENTINEL;){if(getNodeIsVisited(node)){setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node=node.parent;continue}if(node.left!==SENTINEL&&!getNodeIsVisited(node.left)){node=node.left;continue}if(node.ownerId===ownerId&&(result[resultLen++]=node),setNodeIsVisited(node,!0),node.right!==SENTINEL&&!getNodeIsVisited(node.right)){node=node.right;continue}}return setNodeIsVisited(T.root,!1),result}function collectNodesPostOrder(T){for(var node=T.root,result=[],resultLen=0;node!==SENTINEL;){if(getNodeIsVisited(node)){setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node=node.parent;continue}if(node.left!==SENTINEL&&!getNodeIsVisited(node.left)){node=node.left;continue}if(node.right!==SENTINEL&&!getNodeIsVisited(node.right)){node=node.right;continue}result[resultLen++]=node,setNodeIsVisited(node,!0)}return setNodeIsVisited(T.root,!1),result}function search(T,filterOwnerId,filterOutValidation,cachedVersionId){for(var node=T.root,delta=0,nodeStart=0,nodeEnd=0,result=[],resultLen=0;node!==SENTINEL;){if(getNodeIsVisited(node)){setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),node=node.parent;continue}if(node.left!==SENTINEL&&!getNodeIsVisited(node.left)){node=node.left;continue}nodeStart=delta+node.start,nodeEnd=delta+node.end,node.setCachedOffsets(nodeStart,nodeEnd,cachedVersionId);var include=!0;if(filterOwnerId&&node.ownerId&&node.ownerId!==filterOwnerId&&(include=!1),filterOutValidation&&getNodeIsForValidation(node)&&(include=!1),include&&(result[resultLen++]=node),setNodeIsVisited(node,!0),node.right!==SENTINEL&&!getNodeIsVisited(node.right)){delta+=node.delta,node=node.right;continue}}return setNodeIsVisited(T.root,!1),result}function intervalSearch(T,intervalStart,intervalEnd,filterOwnerId,filterOutValidation,cachedVersionId){for(var node=T.root,delta=0,nodeMaxEnd=0,nodeStart=0,nodeEnd=0,result=[],resultLen=0;node!==SENTINEL;){if(getNodeIsVisited(node)){setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),node=node.parent;continue}if(!getNodeIsVisited(node.left)){if(nodeMaxEnd=delta+node.maxEnd,nodeMaxEnd<intervalStart){setNodeIsVisited(node,!0);continue}if(node.left!==SENTINEL){node=node.left;continue}}if(nodeStart=delta+node.start,nodeStart>intervalEnd){setNodeIsVisited(node,!0);continue}if(nodeEnd=delta+node.end,nodeEnd>=intervalStart){node.setCachedOffsets(nodeStart,nodeEnd,cachedVersionId);var include=!0;filterOwnerId&&node.ownerId&&node.ownerId!==filterOwnerId&&(include=!1),filterOutValidation&&getNodeIsForValidation(node)&&(include=!1),include&&(result[resultLen++]=node)}if(setNodeIsVisited(node,!0),node.right!==SENTINEL&&!getNodeIsVisited(node.right)){delta+=node.delta,node=node.right;continue}}return setNodeIsVisited(T.root,!1),result}function rbTreeInsert(T,newNode){if(T.root===SENTINEL)return newNode.parent=SENTINEL,newNode.left=SENTINEL,newNode.right=SENTINEL,setNodeColor(newNode,0),T.root=newNode,T.root;treeInsert(T,newNode),recomputeMaxEndWalkToRoot(newNode.parent);for(var x=newNode;x!==T.root&&getNodeColor(x.parent)===1;)if(x.parent===x.parent.parent.left){var y=x.parent.parent.right;getNodeColor(y)===1?(setNodeColor(x.parent,0),setNodeColor(y,0),setNodeColor(x.parent.parent,1),x=x.parent.parent):(x===x.parent.right&&(x=x.parent,leftRotate(T,x)),setNodeColor(x.parent,0),setNodeColor(x.parent.parent,1),rightRotate(T,x.parent.parent))}else{var y=x.parent.parent.left;getNodeColor(y)===1?(setNodeColor(x.parent,0),setNodeColor(y,0),setNodeColor(x.parent.parent,1),x=x.parent.parent):(x===x.parent.left&&(x=x.parent,rightRotate(T,x)),setNodeColor(x.parent,0),setNodeColor(x.parent.parent,1),leftRotate(T,x.parent.parent))}return setNodeColor(T.root,0),newNode}function treeInsert(T,z){for(var delta=0,x=T.root,zAbsoluteStart=z.start,zAbsoluteEnd=z.end;;){var cmp=intervalCompare(zAbsoluteStart,zAbsoluteEnd,x.start+delta,x.end+delta);if(cmp<0)if(x.left===SENTINEL){z.start-=delta,z.end-=delta,z.maxEnd-=delta,x.left=z;break}else x=x.left;else if(x.right===SENTINEL){z.start-=delta+x.delta,z.end-=delta+x.delta,z.maxEnd-=delta+x.delta,x.right=z;break}else delta+=x.delta,x=x.right}z.parent=x,z.left=SENTINEL,z.right=SENTINEL,setNodeColor(z,1)}function rbTreeDelete(T,z){var x,y;if(z.left===SENTINEL?(x=z.right,y=z,x.delta+=z.delta,(x.delta<-1073741824||x.delta>1073741824)&&(T.requestNormalizeDelta=!0),x.start+=z.delta,x.end+=z.delta):z.right===SENTINEL?(x=z.left,y=z):(y=leftest(z.right),x=y.right,x.start+=y.delta,x.end+=y.delta,x.delta+=y.delta,(x.delta<-1073741824||x.delta>1073741824)&&(T.requestNormalizeDelta=!0),y.start+=z.delta,y.end+=z.delta,y.delta=z.delta,(y.delta<-1073741824||y.delta>1073741824)&&(T.requestNormalizeDelta=!0)),y===T.root){T.root=x,setNodeColor(x,0),z.detach(),resetSentinel(),recomputeMaxEnd(x),T.root.parent=SENTINEL;return}var yWasRed=getNodeColor(y)===1;if(y===y.parent.left?y.parent.left=x:y.parent.right=x,y===z?x.parent=y.parent:(y.parent===z?x.parent=y:x.parent=y.parent,y.left=z.left,y.right=z.right,y.parent=z.parent,setNodeColor(y,getNodeColor(z)),z===T.root?T.root=y:z===z.parent.left?z.parent.left=y:z.parent.right=y,y.left!==SENTINEL&&(y.left.parent=y),y.right!==SENTINEL&&(y.right.parent=y)),z.detach(),yWasRed){recomputeMaxEndWalkToRoot(x.parent),y!==z&&(recomputeMaxEndWalkToRoot(y),recomputeMaxEndWalkToRoot(y.parent)),resetSentinel();return}recomputeMaxEndWalkToRoot(x),recomputeMaxEndWalkToRoot(x.parent),y!==z&&(recomputeMaxEndWalkToRoot(y),recomputeMaxEndWalkToRoot(y.parent));for(var w;x!==T.root&&getNodeColor(x)===0;)x===x.parent.left?(w=x.parent.right,getNodeColor(w)===1&&(setNodeColor(w,0),setNodeColor(x.parent,1),leftRotate(T,x.parent),w=x.parent.right),getNodeColor(w.left)===0&&getNodeColor(w.right)===0?(setNodeColor(w,1),x=x.parent):(getNodeColor(w.right)===0&&(setNodeColor(w.left,0),setNodeColor(w,1),rightRotate(T,w),w=x.parent.right),setNodeColor(w,getNodeColor(x.parent)),setNodeColor(x.parent,0),setNodeColor(w.right,0),leftRotate(T,x.parent),x=T.root)):(w=x.parent.left,getNodeColor(w)===1&&(setNodeColor(w,0),setNodeColor(x.parent,1),rightRotate(T,x.parent),w=x.parent.left),getNodeColor(w.left)===0&&getNodeColor(w.right)===0?(setNodeColor(w,1),x=x.parent):(getNodeColor(w.left)===0&&(setNodeColor(w.right,0),setNodeColor(w,1),leftRotate(T,w),w=x.parent.left),setNodeColor(w,getNodeColor(x.parent)),setNodeColor(x.parent,0),setNodeColor(w.left,0),rightRotate(T,x.parent),x=T.root));setNodeColor(x,0),resetSentinel()}function leftest(node){for(;node.left!==SENTINEL;)node=node.left;return node}function resetSentinel(){SENTINEL.parent=SENTINEL,SENTINEL.delta=0,SENTINEL.start=0,SENTINEL.end=0}function leftRotate(T,x){var y=x.right;y.delta+=x.delta,(y.delta<-1073741824||y.delta>1073741824)&&(T.requestNormalizeDelta=!0),y.start+=x.delta,y.end+=x.delta,x.right=y.left,y.left!==SENTINEL&&(y.left.parent=x),y.parent=x.parent,x.parent===SENTINEL?T.root=y:x===x.parent.left?x.parent.left=y:x.parent.right=y,y.left=x,x.parent=y,recomputeMaxEnd(x),recomputeMaxEnd(y)}function rightRotate(T,y){var x=y.left;y.delta-=x.delta,(y.delta<-1073741824||y.delta>1073741824)&&(T.requestNormalizeDelta=!0),y.start-=x.delta,y.end-=x.delta,y.left=x.right,x.right!==SENTINEL&&(x.right.parent=y),x.parent=y.parent,y.parent===SENTINEL?T.root=x:y===y.parent.right?y.parent.right=x:y.parent.left=x,x.right=y,y.parent=x,recomputeMaxEnd(y),recomputeMaxEnd(x)}function computeMaxEnd(node){var maxEnd=node.end;if(node.left!==SENTINEL){var leftMaxEnd=node.left.maxEnd;leftMaxEnd>maxEnd&&(maxEnd=leftMaxEnd)}if(node.right!==SENTINEL){var rightMaxEnd=node.right.maxEnd+node.delta;rightMaxEnd>maxEnd&&(maxEnd=rightMaxEnd)}return maxEnd}function recomputeMaxEnd(node){node.maxEnd=computeMaxEnd(node)}function recomputeMaxEndWalkToRoot(node){for(;node!==SENTINEL;){var maxEnd=computeMaxEnd(node);if(node.maxEnd===maxEnd)return;node.maxEnd=maxEnd,node=node.parent}}function intervalCompare(aStart,aEnd,bStart,bEnd){return aStart===bStart?aEnd-bEnd:aStart-bStart}var TreeNode=function(){function TreeNode2(piece,color){this.piece=piece,this.color=color,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return TreeNode2.prototype.next=function(){if(this.right!==rbTreeBase_SENTINEL)return rbTreeBase_leftest(this.right);for(var node=this;node.parent!==rbTreeBase_SENTINEL&&node.parent.left!==node;)node=node.parent;return node.parent===rbTreeBase_SENTINEL?rbTreeBase_SENTINEL:node.parent},TreeNode2.prototype.prev=function(){if(this.left!==rbTreeBase_SENTINEL)return righttest(this.left);for(var node=this;node.parent!==rbTreeBase_SENTINEL&&node.parent.right!==node;)node=node.parent;return node.parent===rbTreeBase_SENTINEL?rbTreeBase_SENTINEL:node.parent},TreeNode2.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},TreeNode2}(),rbTreeBase_SENTINEL=new TreeNode(null,0);rbTreeBase_SENTINEL.parent=rbTreeBase_SENTINEL,rbTreeBase_SENTINEL.left=rbTreeBase_SENTINEL,rbTreeBase_SENTINEL.right=rbTreeBase_SENTINEL,rbTreeBase_SENTINEL.color=0;function rbTreeBase_leftest(node){for(;node.left!==rbTreeBase_SENTINEL;)node=node.left;return node}function righttest(node){for(;node.right!==rbTreeBase_SENTINEL;)node=node.right;return node}function calculateSize(node){return node===rbTreeBase_SENTINEL?0:node.size_left+node.piece.length+calculateSize(node.right)}function calculateLF(node){return node===rbTreeBase_SENTINEL?0:node.lf_left+node.piece.lineFeedCnt+calculateLF(node.right)}function rbTreeBase_resetSentinel(){rbTreeBase_SENTINEL.parent=rbTreeBase_SENTINEL}function rbTreeBase_leftRotate(tree,x){var y=x.right;y.size_left+=x.size_left+(x.piece?x.piece.length:0),y.lf_left+=x.lf_left+(x.piece?x.piece.lineFeedCnt:0),x.right=y.left,y.left!==rbTreeBase_SENTINEL&&(y.left.parent=x),y.parent=x.parent,x.parent===rbTreeBase_SENTINEL?tree.root=y:x.parent.left===x?x.parent.left=y:x.parent.right=y,y.left=x,x.parent=y}function rbTreeBase_rightRotate(tree,y){var x=y.left;y.left=x.right,x.right!==rbTreeBase_SENTINEL&&(x.right.parent=y),x.parent=y.parent,y.size_left-=x.size_left+(x.piece?x.piece.length:0),y.lf_left-=x.lf_left+(x.piece?x.piece.lineFeedCnt:0),y.parent===rbTreeBase_SENTINEL?tree.root=x:y===y.parent.right?y.parent.right=x:y.parent.left=x,x.right=y,y.parent=x}function rbDelete(tree,z){var x,y;if(z.left===rbTreeBase_SENTINEL?(y=z,x=y.right):z.right===rbTreeBase_SENTINEL?(y=z,x=y.left):(y=rbTreeBase_leftest(z.right),x=y.right),y===tree.root){tree.root=x,x.color=0,z.detach(),rbTreeBase_resetSentinel(),tree.root.parent=rbTreeBase_SENTINEL;return}var yWasRed=y.color===1;if(y===y.parent.left?y.parent.left=x:y.parent.right=x,y===z?(x.parent=y.parent,recomputeTreeMetadata(tree,x)):(y.parent===z?x.parent=y:x.parent=y.parent,recomputeTreeMetadata(tree,x),y.left=z.left,y.right=z.right,y.parent=z.parent,y.color=z.color,z===tree.root?tree.root=y:z===z.parent.left?z.parent.left=y:z.parent.right=y,y.left!==rbTreeBase_SENTINEL&&(y.left.parent=y),y.right!==rbTreeBase_SENTINEL&&(y.right.parent=y),y.size_left=z.size_left,y.lf_left=z.lf_left,recomputeTreeMetadata(tree,y)),z.detach(),x.parent.left===x){var newSizeLeft=calculateSize(x),newLFLeft=calculateLF(x);if(newSizeLeft!==x.parent.size_left||newLFLeft!==x.parent.lf_left){var delta=newSizeLeft-x.parent.size_left,lf_delta=newLFLeft-x.parent.lf_left;x.parent.size_left=newSizeLeft,x.parent.lf_left=newLFLeft,updateTreeMetadata(tree,x.parent,delta,lf_delta)}}if(recomputeTreeMetadata(tree,x.parent),yWasRed){rbTreeBase_resetSentinel();return}for(var w;x!==tree.root&&x.color===0;)x===x.parent.left?(w=x.parent.right,w.color===1&&(w.color=0,x.parent.color=1,rbTreeBase_leftRotate(tree,x.parent),w=x.parent.right),w.left.color===0&&w.right.color===0?(w.color=1,x=x.parent):(w.right.color===0&&(w.left.color=0,w.color=1,rbTreeBase_rightRotate(tree,w),w=x.parent.right),w.color=x.parent.color,x.parent.color=0,w.right.color=0,rbTreeBase_leftRotate(tree,x.parent),x=tree.root)):(w=x.parent.left,w.color===1&&(w.color=0,x.parent.color=1,rbTreeBase_rightRotate(tree,x.parent),w=x.parent.left),w.left.color===0&&w.right.color===0?(w.color=1,x=x.parent):(w.left.color===0&&(w.right.color=0,w.color=1,rbTreeBase_leftRotate(tree,w),w=x.parent.left),w.color=x.parent.color,x.parent.color=0,w.left.color=0,rbTreeBase_rightRotate(tree,x.parent),x=tree.root));x.color=0,rbTreeBase_resetSentinel()}function fixInsert(tree,x){for(recomputeTreeMetadata(tree,x);x!==tree.root&&x.parent.color===1;)if(x.parent===x.parent.parent.left){var y=x.parent.parent.right;y.color===1?(x.parent.color=0,y.color=0,x.parent.parent.color=1,x=x.parent.parent):(x===x.parent.right&&(x=x.parent,rbTreeBase_leftRotate(tree,x)),x.parent.color=0,x.parent.parent.color=1,rbTreeBase_rightRotate(tree,x.parent.parent))}else{var y=x.parent.parent.left;y.color===1?(x.parent.color=0,y.color=0,x.parent.parent.color=1,x=x.parent.parent):(x===x.parent.left&&(x=x.parent,rbTreeBase_rightRotate(tree,x)),x.parent.color=0,x.parent.parent.color=1,rbTreeBase_leftRotate(tree,x.parent.parent))}tree.root.color=0}function updateTreeMetadata(tree,x,delta,lineFeedCntDelta){for(;x!==tree.root&&x!==rbTreeBase_SENTINEL;)x.parent.left===x&&(x.parent.size_left+=delta,x.parent.lf_left+=lineFeedCntDelta),x=x.parent}function recomputeTreeMetadata(tree,x){var delta=0,lf_delta=0;if(x!==tree.root){if(delta===0){for(;x!==tree.root&&x===x.parent.right;)x=x.parent;if(x===tree.root)return;x=x.parent,delta=calculateSize(x.left)-x.size_left,lf_delta=calculateLF(x.left)-x.lf_left,x.size_left+=delta,x.lf_left+=lf_delta}for(;x!==tree.root&&(delta!==0||lf_delta!==0);)x.parent.left===x&&(x.parent.size_left+=delta,x.parent.lf_left+=lf_delta),x=x.parent}}var textModelSearch=__webpack_require__(3492),AverageBufferSize=65535;function createUintArray(arr){var r;return arr[arr.length-1]<65536?r=new Uint16Array(arr.length):r=new Uint32Array(arr.length),r.set(arr,0),r}var LineStarts=function(){function LineStarts2(lineStarts,cr,lf,crlf,isBasicASCII){this.lineStarts=lineStarts,this.cr=cr,this.lf=lf,this.crlf=crlf,this.isBasicASCII=isBasicASCII}return LineStarts2}();function createLineStartsFast(str,readonly){readonly===void 0&&(readonly=!0);for(var r=[0],rLength=1,i=0,len=str.length;i<len;i++){var chr=str.charCodeAt(i);chr===13?i+1<len&&str.charCodeAt(i+1)===10?(r[rLength++]=i+2,i++):r[rLength++]=i+1:chr===10&&(r[rLength++]=i+1)}return readonly?createUintArray(r):r}function createLineStarts(r,str){r.length=0,r[0]=0;for(var rLength=1,cr=0,lf=0,crlf=0,isBasicASCII=!0,i=0,len=str.length;i<len;i++){var chr=str.charCodeAt(i);chr===13?i+1<len&&str.charCodeAt(i+1)===10?(crlf++,r[rLength++]=i+2,i++):(cr++,r[rLength++]=i+1):chr===10?(lf++,r[rLength++]=i+1):isBasicASCII&&chr!==9&&(chr<32||chr>126)&&(isBasicASCII=!1)}var result=new LineStarts(createUintArray(r),cr,lf,crlf,isBasicASCII);return r.length=0,result}var Piece=function(){function Piece2(bufferIndex,start,end,lineFeedCnt,length){this.bufferIndex=bufferIndex,this.start=start,this.end=end,this.lineFeedCnt=lineFeedCnt,this.length=length}return Piece2}(),StringBuffer=function(){function StringBuffer2(buffer,lineStarts){this.buffer=buffer,this.lineStarts=lineStarts}return StringBuffer2}(),PieceTreeSearchCache=function(){function PieceTreeSearchCache2(limit){this._limit=limit,this._cache=[]}return PieceTreeSearchCache2.prototype.get=function(offset){for(var i=this._cache.length-1;i>=0;i--){var nodePos=this._cache[i];if(nodePos.nodeStartOffset<=offset&&nodePos.nodeStartOffset+nodePos.node.piece.length>=offset)return nodePos}return null},PieceTreeSearchCache2.prototype.get2=function(lineNumber){for(var i=this._cache.length-1;i>=0;i--){var nodePos=this._cache[i];if(nodePos.nodeStartLineNumber&&nodePos.nodeStartLineNumber<lineNumber&&nodePos.nodeStartLineNumber+nodePos.node.piece.lineFeedCnt>=lineNumber)return nodePos}return null},PieceTreeSearchCache2.prototype.set=function(nodePosition){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(nodePosition)},PieceTreeSearchCache2.prototype.valdiate=function(offset){for(var hasInvalidVal=!1,tmp=this._cache,i=0;i<tmp.length;i++){var nodePos=tmp[i];if(nodePos.node.parent===null||nodePos.nodeStartOffset>=offset){tmp[i]=null,hasInvalidVal=!0;continue}}if(hasInvalidVal){for(var newArr=[],_i=0,tmp_1=tmp;_i<tmp_1.length;_i++){var entry=tmp_1[_i];entry!==null&&newArr.push(entry)}this._cache=newArr}},PieceTreeSearchCache2}(),pieceTreeBase_PieceTreeBase=function(){function PieceTreeBase(chunks,eol,eolNormalized){this.create(chunks,eol,eolNormalized)}return PieceTreeBase.prototype.create=function(chunks,eol,eolNormalized){this._buffers=[new StringBuffer("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=rbTreeBase_SENTINEL,this._lineCnt=1,this._length=0,this._EOL=eol,this._EOLLength=eol.length,this._EOLNormalized=eolNormalized;for(var lastNode=null,i=0,len=chunks.length;i<len;i++)if(chunks[i].buffer.length>0){chunks[i].lineStarts||(chunks[i].lineStarts=createLineStartsFast(chunks[i].buffer));var piece=new Piece(i+1,{line:0,column:0},{line:chunks[i].lineStarts.length-1,column:chunks[i].buffer.length-chunks[i].lineStarts[chunks[i].lineStarts.length-1]},chunks[i].lineStarts.length-1,chunks[i].buffer.length);this._buffers.push(chunks[i]),lastNode=this.rbInsertRight(lastNode,piece)}this._searchCache=new PieceTreeSearchCache(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()},PieceTreeBase.prototype.normalizeEOL=function(eol){var _this=this,averageBufferSize=AverageBufferSize,min=averageBufferSize-Math.floor(averageBufferSize/3),max=min*2,tempChunk="",tempChunkLen=0,chunks=[];if(this.iterate(this.root,function(node){var str=_this.getNodeContent(node),len=str.length;if(tempChunkLen<=min||tempChunkLen+len<max)return tempChunk+=str,tempChunkLen+=len,!0;var text2=tempChunk.replace(/\r\n|\r|\n/g,eol);return chunks.push(new StringBuffer(text2,createLineStartsFast(text2))),tempChunk=str,tempChunkLen=len,!0}),tempChunkLen>0){var text=tempChunk.replace(/\r\n|\r|\n/g,eol);chunks.push(new StringBuffer(text,createLineStartsFast(text)))}this.create(chunks,eol,!0)},PieceTreeBase.prototype.getEOL=function(){return this._EOL},PieceTreeBase.prototype.setEOL=function(newEOL){this._EOL=newEOL,this._EOLLength=this._EOL.length,this.normalizeEOL(newEOL)},PieceTreeBase.prototype.getOffsetAt=function(lineNumber,column){for(var leftLen=0,x=this.root;x!==rbTreeBase_SENTINEL;)if(x.left!==rbTreeBase_SENTINEL&&x.lf_left+1>=lineNumber)x=x.left;else if(x.lf_left+x.piece.lineFeedCnt+1>=lineNumber){leftLen+=x.size_left;var accumualtedValInCurrentIndex=this.getAccumulatedValue(x,lineNumber-x.lf_left-2);return leftLen+=accumualtedValInCurrentIndex+column-1}else lineNumber-=x.lf_left+x.piece.lineFeedCnt,leftLen+=x.size_left+x.piece.length,x=x.right;return leftLen},PieceTreeBase.prototype.getPositionAt=function(offset){offset=Math.floor(offset),offset=Math.max(0,offset);for(var x=this.root,lfCnt=0,originalOffset=offset;x!==rbTreeBase_SENTINEL;)if(x.size_left!==0&&x.size_left>=offset)x=x.left;else if(x.size_left+x.piece.length>=offset){var out=this.getIndexOf(x,offset-x.size_left);if(lfCnt+=x.lf_left+out.index,out.index===0){var lineStartOffset=this.getOffsetAt(lfCnt+1,1),column=originalOffset-lineStartOffset;return new core_position.a(lfCnt+1,column+1)}return new core_position.a(lfCnt+1,out.remainder+1)}else if(offset-=x.size_left+x.piece.length,lfCnt+=x.lf_left+x.piece.lineFeedCnt,x.right===rbTreeBase_SENTINEL){var lineStartOffset=this.getOffsetAt(lfCnt+1,1),column=originalOffset-offset-lineStartOffset;return new core_position.a(lfCnt+1,column+1)}else x=x.right;return new core_position.a(1,1)},PieceTreeBase.prototype.getValueInRange=function(range,eol){if(range.startLineNumber===range.endLineNumber&&range.startColumn===range.endColumn)return"";var startPosition=this.nodeAt2(range.startLineNumber,range.startColumn),endPosition=this.nodeAt2(range.endLineNumber,range.endColumn),value=this.getValueInRange2(startPosition,endPosition);return eol?eol!==this._EOL||!this._EOLNormalized?value.replace(/\r\n|\r|\n/g,eol):eol===this.getEOL()&&this._EOLNormalized?value:value.replace(/\r\n|\r|\n/g,eol):value},PieceTreeBase.prototype.getValueInRange2=function(startPosition,endPosition){if(startPosition.node===endPosition.node){var node=startPosition.node,buffer_1=this._buffers[node.piece.bufferIndex].buffer,startOffset_1=this.offsetInBuffer(node.piece.bufferIndex,node.piece.start);return buffer_1.substring(startOffset_1+startPosition.remainder,startOffset_1+endPosition.remainder)}var x=startPosition.node,buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start),ret=buffer.substring(startOffset+startPosition.remainder,startOffset+x.piece.length);for(x=x.next();x!==rbTreeBase_SENTINEL;){var buffer_2=this._buffers[x.piece.bufferIndex].buffer,startOffset_2=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);if(x===endPosition.node){ret+=buffer_2.substring(startOffset_2,startOffset_2+endPosition.remainder);break}else ret+=buffer_2.substr(startOffset_2,x.piece.length);x=x.next()}return ret},PieceTreeBase.prototype.getLinesContent=function(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)},PieceTreeBase.prototype.getLength=function(){return this._length},PieceTreeBase.prototype.getLineCount=function(){return this._lineCnt},PieceTreeBase.prototype.getLineContent=function(lineNumber){return this._lastVisitedLine.lineNumber===lineNumber?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=lineNumber,lineNumber===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(lineNumber):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(lineNumber,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(lineNumber).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)},PieceTreeBase.prototype.getLineCharCode=function(lineNumber,index){var nodePos=this.nodeAt2(lineNumber,index+1);if(nodePos.remainder===nodePos.node.piece.length){var matchingNode=nodePos.node.next();if(!matchingNode)return 0;var buffer=this._buffers[matchingNode.piece.bufferIndex],startOffset=this.offsetInBuffer(matchingNode.piece.bufferIndex,matchingNode.piece.start);return buffer.buffer.charCodeAt(startOffset)}else{var buffer=this._buffers[nodePos.node.piece.bufferIndex],startOffset=this.offsetInBuffer(nodePos.node.piece.bufferIndex,nodePos.node.piece.start),targetOffset=startOffset+nodePos.remainder;return buffer.buffer.charCodeAt(targetOffset)}},PieceTreeBase.prototype.getLineLength=function(lineNumber){if(lineNumber===this.getLineCount()){var startOffset=this.getOffsetAt(lineNumber,1);return this.getLength()-startOffset}return this.getOffsetAt(lineNumber+1,1)-this.getOffsetAt(lineNumber,1)-this._EOLLength},PieceTreeBase.prototype.findMatchesInNode=function(node,searcher,startLineNumber,startColumn,startCursor,endCursor,searchData,captureMatches,limitResultCount,resultLen,result){var buffer=this._buffers[node.piece.bufferIndex],startOffsetInBuffer=this.offsetInBuffer(node.piece.bufferIndex,node.piece.start),start=this.offsetInBuffer(node.piece.bufferIndex,startCursor),end=this.offsetInBuffer(node.piece.bufferIndex,endCursor),m,ret={line:0,column:0},searchText,offsetInBuffer;searcher._wordSeparators?(searchText=buffer.buffer.substring(start,end),offsetInBuffer=function(offset){return offset+start},searcher.reset(-1)):(searchText=buffer.buffer,offsetInBuffer=function(offset){return offset},searcher.reset(start));do if(m=searcher.next(searchText),m){if(offsetInBuffer(m.index)>=end)return resultLen;this.positionInBuffer(node,offsetInBuffer(m.index)-startOffsetInBuffer,ret);var lineFeedCnt=this.getLineFeedCnt(node.piece.bufferIndex,startCursor,ret),retStartColumn=ret.line===startCursor.line?ret.column-startCursor.column+startColumn:ret.column+1,retEndColumn=retStartColumn+m[0].length;if(result[resultLen++]=Object(textModelSearch.d)(new core_range.a(startLineNumber+lineFeedCnt,retStartColumn,startLineNumber+lineFeedCnt,retEndColumn),m,captureMatches),offsetInBuffer(m.index)+m[0].length>=end||resultLen>=limitResultCount)return resultLen}while(m);return resultLen},PieceTreeBase.prototype.findMatchesLineByLine=function(searchRange,searchData,captureMatches,limitResultCount){var result=[],resultLen=0,searcher=new textModelSearch.b(searchData.wordSeparators,searchData.regex),startPosition=this.nodeAt2(searchRange.startLineNumber,searchRange.startColumn);if(startPosition===null)return[];var endPosition=this.nodeAt2(searchRange.endLineNumber,searchRange.endColumn);if(endPosition===null)return[];var start=this.positionInBuffer(startPosition.node,startPosition.remainder),end=this.positionInBuffer(endPosition.node,endPosition.remainder);if(startPosition.node===endPosition.node)return this.findMatchesInNode(startPosition.node,searcher,searchRange.startLineNumber,searchRange.startColumn,start,end,searchData,captureMatches,limitResultCount,resultLen,result),result;for(var startLineNumber=searchRange.startLineNumber,currentNode=startPosition.node;currentNode!==endPosition.node;){var lineBreakCnt=this.getLineFeedCnt(currentNode.piece.bufferIndex,start,currentNode.piece.end);if(lineBreakCnt>=1){var lineStarts=this._buffers[currentNode.piece.bufferIndex].lineStarts,startOffsetInBuffer=this.offsetInBuffer(currentNode.piece.bufferIndex,currentNode.piece.start),nextLineStartOffset=lineStarts[start.line+lineBreakCnt],startColumn_1=startLineNumber===searchRange.startLineNumber?searchRange.startColumn:1;if(resultLen=this.findMatchesInNode(currentNode,searcher,startLineNumber,startColumn_1,start,this.positionInBuffer(currentNode,nextLineStartOffset-startOffsetInBuffer),searchData,captureMatches,limitResultCount,resultLen,result),resultLen>=limitResultCount)return result;startLineNumber+=lineBreakCnt}var startColumn_2=startLineNumber===searchRange.startLineNumber?searchRange.startColumn-1:0;if(startLineNumber===searchRange.endLineNumber){var text=this.getLineContent(startLineNumber).substring(startColumn_2,searchRange.endColumn-1);return resultLen=this._findMatchesInLine(searchData,searcher,text,searchRange.endLineNumber,startColumn_2,resultLen,result,captureMatches,limitResultCount),result}if(resultLen=this._findMatchesInLine(searchData,searcher,this.getLineContent(startLineNumber).substr(startColumn_2),startLineNumber,startColumn_2,resultLen,result,captureMatches,limitResultCount),resultLen>=limitResultCount)return result;startLineNumber++,startPosition=this.nodeAt2(startLineNumber,1),currentNode=startPosition.node,start=this.positionInBuffer(startPosition.node,startPosition.remainder)}if(startLineNumber===searchRange.endLineNumber){var startColumn_3=startLineNumber===searchRange.startLineNumber?searchRange.startColumn-1:0,text=this.getLineContent(startLineNumber).substring(startColumn_3,searchRange.endColumn-1);return resultLen=this._findMatchesInLine(searchData,searcher,text,searchRange.endLineNumber,startColumn_3,resultLen,result,captureMatches,limitResultCount),result}var startColumn=startLineNumber===searchRange.startLineNumber?searchRange.startColumn:1;return resultLen=this.findMatchesInNode(endPosition.node,searcher,startLineNumber,startColumn,start,end,searchData,captureMatches,limitResultCount,resultLen,result),result},PieceTreeBase.prototype._findMatchesInLine=function(searchData,searcher,text,lineNumber,deltaOffset,resultLen,result,captureMatches,limitResultCount){var wordSeparators=searchData.wordSeparators;if(!captureMatches&&searchData.simpleSearch){for(var searchString=searchData.simpleSearch,searchStringLen=searchString.length,textLength=text.length,lastMatchIndex=-searchStringLen;(lastMatchIndex=text.indexOf(searchString,lastMatchIndex+searchStringLen))!==-1;)if((!wordSeparators||Object(textModelSearch.e)(wordSeparators,text,textLength,lastMatchIndex,searchStringLen))&&(result[resultLen++]=new model.b(new core_range.a(lineNumber,lastMatchIndex+1+deltaOffset,lineNumber,lastMatchIndex+1+searchStringLen+deltaOffset),null),resultLen>=limitResultCount))return resultLen;return resultLen}var m;searcher.reset(0);do if(m=searcher.next(text),m&&(result[resultLen++]=Object(textModelSearch.d)(new core_range.a(lineNumber,m.index+1+deltaOffset,lineNumber,m.index+1+m[0].length+deltaOffset),m,captureMatches),resultLen>=limitResultCount))return resultLen;while(m);return resultLen},PieceTreeBase.prototype.insert=function(offset,value,eolNormalized){if(eolNormalized===void 0&&(eolNormalized=!1),this._EOLNormalized=this._EOLNormalized&&eolNormalized,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==rbTreeBase_SENTINEL){var _a=this.nodeAt(offset),node=_a.node,remainder=_a.remainder,nodeStartOffset=_a.nodeStartOffset,piece=node.piece,bufferIndex=piece.bufferIndex,insertPosInBuffer=this.positionInBuffer(node,remainder);if(node.piece.bufferIndex===0&&piece.end.line===this._lastChangeBufferPos.line&&piece.end.column===this._lastChangeBufferPos.column&&nodeStartOffset+piece.length===offset&&value.length<AverageBufferSize){this.appendToNode(node,value),this.computeBufferMetadata();return}if(nodeStartOffset===offset)this.insertContentToNodeLeft(value,node),this._searchCache.valdiate(offset);else if(nodeStartOffset+node.piece.length>offset){var nodesToDel=[],newRightPiece=new Piece(piece.bufferIndex,insertPosInBuffer,piece.end,this.getLineFeedCnt(piece.bufferIndex,insertPosInBuffer,piece.end),this.offsetInBuffer(bufferIndex,piece.end)-this.offsetInBuffer(bufferIndex,insertPosInBuffer));if(this.shouldCheckCRLF()&&this.endWithCR(value)){var headOfRight=this.nodeCharCodeAt(node,remainder);if(headOfRight===10){var newStart={line:newRightPiece.start.line+1,column:0};newRightPiece=new Piece(newRightPiece.bufferIndex,newStart,newRightPiece.end,this.getLineFeedCnt(newRightPiece.bufferIndex,newStart,newRightPiece.end),newRightPiece.length-1),value+=`
`}}if(this.shouldCheckCRLF()&&this.startWithLF(value)){var tailOfLeft=this.nodeCharCodeAt(node,remainder-1);if(tailOfLeft===13){var previousPos=this.positionInBuffer(node,remainder-1);this.deleteNodeTail(node,previousPos),value="\r"+value,node.piece.length===0&&nodesToDel.push(node)}else this.deleteNodeTail(node,insertPosInBuffer)}else this.deleteNodeTail(node,insertPosInBuffer);var newPieces=this.createNewPieces(value);newRightPiece.length>0&&this.rbInsertRight(node,newRightPiece);for(var tmpNode=node,k=0;k<newPieces.length;k++)tmpNode=this.rbInsertRight(tmpNode,newPieces[k]);this.deleteNodes(nodesToDel)}else this.insertContentToNodeRight(value,node)}else for(var pieces=this.createNewPieces(value),node=this.rbInsertLeft(null,pieces[0]),k=1;k<pieces.length;k++)node=this.rbInsertRight(node,pieces[k]);this.computeBufferMetadata()},PieceTreeBase.prototype.delete=function(offset,cnt){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(cnt<=0||this.root===rbTreeBase_SENTINEL)){var startPosition=this.nodeAt(offset),endPosition=this.nodeAt(offset+cnt),startNode=startPosition.node,endNode=endPosition.node;if(startNode===endNode){var startSplitPosInBuffer_1=this.positionInBuffer(startNode,startPosition.remainder),endSplitPosInBuffer_1=this.positionInBuffer(startNode,endPosition.remainder);if(startPosition.nodeStartOffset===offset){if(cnt===startNode.piece.length){var next=startNode.next();rbDelete(this,startNode),this.validateCRLFWithPrevNode(next),this.computeBufferMetadata();return}this.deleteNodeHead(startNode,endSplitPosInBuffer_1),this._searchCache.valdiate(offset),this.validateCRLFWithPrevNode(startNode),this.computeBufferMetadata();return}if(startPosition.nodeStartOffset+startNode.piece.length===offset+cnt){this.deleteNodeTail(startNode,startSplitPosInBuffer_1),this.validateCRLFWithNextNode(startNode),this.computeBufferMetadata();return}this.shrinkNode(startNode,startSplitPosInBuffer_1,endSplitPosInBuffer_1),this.computeBufferMetadata();return}var nodesToDel=[],startSplitPosInBuffer=this.positionInBuffer(startNode,startPosition.remainder);this.deleteNodeTail(startNode,startSplitPosInBuffer),this._searchCache.valdiate(offset),startNode.piece.length===0&&nodesToDel.push(startNode);var endSplitPosInBuffer=this.positionInBuffer(endNode,endPosition.remainder);this.deleteNodeHead(endNode,endSplitPosInBuffer),endNode.piece.length===0&&nodesToDel.push(endNode);for(var secondNode=startNode.next(),node=secondNode;node!==rbTreeBase_SENTINEL&&node!==endNode;node=node.next())nodesToDel.push(node);var prev=startNode.piece.length===0?startNode.prev():startNode;this.deleteNodes(nodesToDel),this.validateCRLFWithNextNode(prev),this.computeBufferMetadata()}},PieceTreeBase.prototype.insertContentToNodeLeft=function(value,node){var nodesToDel=[];if(this.shouldCheckCRLF()&&this.endWithCR(value)&&this.startWithLF(node)){var piece=node.piece,newStart={line:piece.start.line+1,column:0},nPiece=new Piece(piece.bufferIndex,newStart,piece.end,this.getLineFeedCnt(piece.bufferIndex,newStart,piece.end),piece.length-1);node.piece=nPiece,value+=`
`,updateTreeMetadata(this,node,-1,-1),node.piece.length===0&&nodesToDel.push(node)}for(var newPieces=this.createNewPieces(value),newNode=this.rbInsertLeft(node,newPieces[newPieces.length-1]),k=newPieces.length-2;k>=0;k--)newNode=this.rbInsertLeft(newNode,newPieces[k]);this.validateCRLFWithPrevNode(newNode),this.deleteNodes(nodesToDel)},PieceTreeBase.prototype.insertContentToNodeRight=function(value,node){this.adjustCarriageReturnFromNext(value,node)&&(value+=`
`);for(var newPieces=this.createNewPieces(value),newNode=this.rbInsertRight(node,newPieces[0]),tmpNode=newNode,k=1;k<newPieces.length;k++)tmpNode=this.rbInsertRight(tmpNode,newPieces[k]);this.validateCRLFWithPrevNode(newNode)},PieceTreeBase.prototype.positionInBuffer=function(node,remainder,ret){for(var piece=node.piece,bufferIndex=node.piece.bufferIndex,lineStarts=this._buffers[bufferIndex].lineStarts,startOffset=lineStarts[piece.start.line]+piece.start.column,offset=startOffset+remainder,low=piece.start.line,high=piece.end.line,mid=0,midStop=0,midStart=0;low<=high&&(mid=low+(high-low)/2|0,midStart=lineStarts[mid],mid!==high);)if(midStop=lineStarts[mid+1],offset<midStart)high=mid-1;else if(offset>=midStop)low=mid+1;else break;return ret?(ret.line=mid,ret.column=offset-midStart,null):{line:mid,column:offset-midStart}},PieceTreeBase.prototype.getLineFeedCnt=function(bufferIndex,start,end){if(end.column===0)return end.line-start.line;var lineStarts=this._buffers[bufferIndex].lineStarts;if(end.line===lineStarts.length-1)return end.line-start.line;var nextLineStartOffset=lineStarts[end.line+1],endOffset=lineStarts[end.line]+end.column;if(nextLineStartOffset>endOffset+1)return end.line-start.line;var previousCharOffset=endOffset-1,buffer=this._buffers[bufferIndex].buffer;return buffer.charCodeAt(previousCharOffset)===13?end.line-start.line+1:end.line-start.line},PieceTreeBase.prototype.offsetInBuffer=function(bufferIndex,cursor){var lineStarts=this._buffers[bufferIndex].lineStarts;return lineStarts[cursor.line]+cursor.column},PieceTreeBase.prototype.deleteNodes=function(nodes){for(var i=0;i<nodes.length;i++)rbDelete(this,nodes[i])},PieceTreeBase.prototype.createNewPieces=function(text){if(text.length>AverageBufferSize){for(var newPieces=[];text.length>AverageBufferSize;){var lastChar=text.charCodeAt(AverageBufferSize-1),splitText=void 0;lastChar===13||lastChar>=55296&&lastChar<=56319?(splitText=text.substring(0,AverageBufferSize-1),text=text.substring(AverageBufferSize-1)):(splitText=text.substring(0,AverageBufferSize),text=text.substring(AverageBufferSize));var lineStarts_1=createLineStartsFast(splitText);newPieces.push(new Piece(this._buffers.length,{line:0,column:0},{line:lineStarts_1.length-1,column:splitText.length-lineStarts_1[lineStarts_1.length-1]},lineStarts_1.length-1,splitText.length)),this._buffers.push(new StringBuffer(splitText,lineStarts_1))}var lineStarts_2=createLineStartsFast(text);return newPieces.push(new Piece(this._buffers.length,{line:0,column:0},{line:lineStarts_2.length-1,column:text.length-lineStarts_2[lineStarts_2.length-1]},lineStarts_2.length-1,text.length)),this._buffers.push(new StringBuffer(text,lineStarts_2)),newPieces}var startOffset=this._buffers[0].buffer.length,lineStarts=createLineStartsFast(text,!1),start=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===startOffset&&startOffset!==0&&this.startWithLF(text)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},start=this._lastChangeBufferPos;for(var i=0;i<lineStarts.length;i++)lineStarts[i]+=startOffset+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(lineStarts.slice(1)),this._buffers[0].buffer+="_"+text,startOffset+=1}else{if(startOffset!==0)for(var i=0;i<lineStarts.length;i++)lineStarts[i]+=startOffset;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(lineStarts.slice(1)),this._buffers[0].buffer+=text}var endOffset=this._buffers[0].buffer.length,endIndex=this._buffers[0].lineStarts.length-1,endColumn=endOffset-this._buffers[0].lineStarts[endIndex],endPos={line:endIndex,column:endColumn},newPiece=new Piece(0,start,endPos,this.getLineFeedCnt(0,start,endPos),endOffset-startOffset);return this._lastChangeBufferPos=endPos,[newPiece]},PieceTreeBase.prototype.getLineRawContent=function(lineNumber,endOffset){endOffset===void 0&&(endOffset=0);var x=this.root,ret="",cache=this._searchCache.get2(lineNumber);if(cache){x=cache.node;var prevAccumualtedValue=this.getAccumulatedValue(x,lineNumber-cache.nodeStartLineNumber-1),buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);if(cache.nodeStartLineNumber+x.piece.lineFeedCnt===lineNumber)ret=buffer.substring(startOffset+prevAccumualtedValue,startOffset+x.piece.length);else{var accumualtedValue=this.getAccumulatedValue(x,lineNumber-cache.nodeStartLineNumber);return buffer.substring(startOffset+prevAccumualtedValue,startOffset+accumualtedValue-endOffset)}}else for(var nodeStartOffset=0,originalLineNumber=lineNumber;x!==rbTreeBase_SENTINEL;)if(x.left!==rbTreeBase_SENTINEL&&x.lf_left>=lineNumber-1)x=x.left;else if(x.lf_left+x.piece.lineFeedCnt>lineNumber-1){var prevAccumualtedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-2),accumualtedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-1),buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);return nodeStartOffset+=x.size_left,this._searchCache.set({node:x,nodeStartOffset,nodeStartLineNumber:originalLineNumber-(lineNumber-1-x.lf_left)}),buffer.substring(startOffset+prevAccumualtedValue,startOffset+accumualtedValue-endOffset)}else if(x.lf_left+x.piece.lineFeedCnt===lineNumber-1){var prevAccumualtedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-2),buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);ret=buffer.substring(startOffset+prevAccumualtedValue,startOffset+x.piece.length);break}else lineNumber-=x.lf_left+x.piece.lineFeedCnt,nodeStartOffset+=x.size_left+x.piece.length,x=x.right;for(x=x.next();x!==rbTreeBase_SENTINEL;){var buffer=this._buffers[x.piece.bufferIndex].buffer;if(x.piece.lineFeedCnt>0){var accumualtedValue=this.getAccumulatedValue(x,0),startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);return ret+=buffer.substring(startOffset,startOffset+accumualtedValue-endOffset),ret}else{var startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);ret+=buffer.substr(startOffset,x.piece.length)}x=x.next()}return ret},PieceTreeBase.prototype.computeBufferMetadata=function(){for(var x=this.root,lfCnt=1,len=0;x!==rbTreeBase_SENTINEL;)lfCnt+=x.lf_left+x.piece.lineFeedCnt,len+=x.size_left+x.piece.length,x=x.right;this._lineCnt=lfCnt,this._length=len,this._searchCache.valdiate(this._length)},PieceTreeBase.prototype.getIndexOf=function(node,accumulatedValue){var piece=node.piece,pos=this.positionInBuffer(node,accumulatedValue),lineCnt=pos.line-piece.start.line;if(this.offsetInBuffer(piece.bufferIndex,piece.end)-this.offsetInBuffer(piece.bufferIndex,piece.start)===accumulatedValue){var realLineCnt=this.getLineFeedCnt(node.piece.bufferIndex,piece.start,pos);if(realLineCnt!==lineCnt)return{index:realLineCnt,remainder:0}}return{index:lineCnt,remainder:pos.column}},PieceTreeBase.prototype.getAccumulatedValue=function(node,index){if(index<0)return 0;var piece=node.piece,lineStarts=this._buffers[piece.bufferIndex].lineStarts,expectedLineStartIndex=piece.start.line+index+1;return expectedLineStartIndex>piece.end.line?lineStarts[piece.end.line]+piece.end.column-lineStarts[piece.start.line]-piece.start.column:lineStarts[expectedLineStartIndex]-lineStarts[piece.start.line]-piece.start.column},PieceTreeBase.prototype.deleteNodeTail=function(node,pos){var piece=node.piece,originalLFCnt=piece.lineFeedCnt,originalEndOffset=this.offsetInBuffer(piece.bufferIndex,piece.end),newEnd=pos,newEndOffset=this.offsetInBuffer(piece.bufferIndex,newEnd),newLineFeedCnt=this.getLineFeedCnt(piece.bufferIndex,piece.start,newEnd),lf_delta=newLineFeedCnt-originalLFCnt,size_delta=newEndOffset-originalEndOffset,newLength=piece.length+size_delta;node.piece=new Piece(piece.bufferIndex,piece.start,newEnd,newLineFeedCnt,newLength),updateTreeMetadata(this,node,size_delta,lf_delta)},PieceTreeBase.prototype.deleteNodeHead=function(node,pos){var piece=node.piece,originalLFCnt=piece.lineFeedCnt,originalStartOffset=this.offsetInBuffer(piece.bufferIndex,piece.start),newStart=pos,newLineFeedCnt=this.getLineFeedCnt(piece.bufferIndex,newStart,piece.end),newStartOffset=this.offsetInBuffer(piece.bufferIndex,newStart),lf_delta=newLineFeedCnt-originalLFCnt,size_delta=originalStartOffset-newStartOffset,newLength=piece.length+size_delta;node.piece=new Piece(piece.bufferIndex,newStart,piece.end,newLineFeedCnt,newLength),updateTreeMetadata(this,node,size_delta,lf_delta)},PieceTreeBase.prototype.shrinkNode=function(node,start,end){var piece=node.piece,originalStartPos=piece.start,originalEndPos=piece.end,oldLength=piece.length,oldLFCnt=piece.lineFeedCnt,newEnd=start,newLineFeedCnt=this.getLineFeedCnt(piece.bufferIndex,piece.start,newEnd),newLength=this.offsetInBuffer(piece.bufferIndex,start)-this.offsetInBuffer(piece.bufferIndex,originalStartPos);node.piece=new Piece(piece.bufferIndex,piece.start,newEnd,newLineFeedCnt,newLength),updateTreeMetadata(this,node,newLength-oldLength,newLineFeedCnt-oldLFCnt);var newPiece=new Piece(piece.bufferIndex,end,originalEndPos,this.getLineFeedCnt(piece.bufferIndex,end,originalEndPos),this.offsetInBuffer(piece.bufferIndex,originalEndPos)-this.offsetInBuffer(piece.bufferIndex,end)),newNode=this.rbInsertRight(node,newPiece);this.validateCRLFWithPrevNode(newNode)},PieceTreeBase.prototype.appendToNode=function(node,value){this.adjustCarriageReturnFromNext(value,node)&&(value+=`
`);var hitCRLF=this.shouldCheckCRLF()&&this.startWithLF(value)&&this.endWithCR(node),startOffset=this._buffers[0].buffer.length;this._buffers[0].buffer+=value;for(var lineStarts=createLineStartsFast(value,!1),i=0;i<lineStarts.length;i++)lineStarts[i]+=startOffset;if(hitCRLF){var prevStartOffset=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:startOffset-prevStartOffset}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(lineStarts.slice(1));var endIndex=this._buffers[0].lineStarts.length-1,endColumn=this._buffers[0].buffer.length-this._buffers[0].lineStarts[endIndex],newEnd={line:endIndex,column:endColumn},newLength=node.piece.length+value.length,oldLineFeedCnt=node.piece.lineFeedCnt,newLineFeedCnt=this.getLineFeedCnt(0,node.piece.start,newEnd),lf_delta=newLineFeedCnt-oldLineFeedCnt;node.piece=new Piece(node.piece.bufferIndex,node.piece.start,newEnd,newLineFeedCnt,newLength),this._lastChangeBufferPos=newEnd,updateTreeMetadata(this,node,value.length,lf_delta)},PieceTreeBase.prototype.nodeAt=function(offset){var x=this.root,cache=this._searchCache.get(offset);if(cache)return{node:cache.node,nodeStartOffset:cache.nodeStartOffset,remainder:offset-cache.nodeStartOffset};for(var nodeStartOffset=0;x!==rbTreeBase_SENTINEL;)if(x.size_left>offset)x=x.left;else if(x.size_left+x.piece.length>=offset){nodeStartOffset+=x.size_left;var ret={node:x,remainder:offset-x.size_left,nodeStartOffset};return this._searchCache.set(ret),ret}else offset-=x.size_left+x.piece.length,nodeStartOffset+=x.size_left+x.piece.length,x=x.right;return null},PieceTreeBase.prototype.nodeAt2=function(lineNumber,column){for(var x=this.root,nodeStartOffset=0;x!==rbTreeBase_SENTINEL;)if(x.left!==rbTreeBase_SENTINEL&&x.lf_left>=lineNumber-1)x=x.left;else if(x.lf_left+x.piece.lineFeedCnt>lineNumber-1){var prevAccumualtedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-2),accumualtedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-1);return nodeStartOffset+=x.size_left,{node:x,remainder:Math.min(prevAccumualtedValue+column-1,accumualtedValue),nodeStartOffset}}else if(x.lf_left+x.piece.lineFeedCnt===lineNumber-1){var prevAccumualtedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-2);if(prevAccumualtedValue+column-1<=x.piece.length)return{node:x,remainder:prevAccumualtedValue+column-1,nodeStartOffset};column-=x.piece.length-prevAccumualtedValue;break}else lineNumber-=x.lf_left+x.piece.lineFeedCnt,nodeStartOffset+=x.size_left+x.piece.length,x=x.right;for(x=x.next();x!==rbTreeBase_SENTINEL;){if(x.piece.lineFeedCnt>0){var accumualtedValue=this.getAccumulatedValue(x,0),nodeStartOffset_1=this.offsetOfNode(x);return{node:x,remainder:Math.min(column-1,accumualtedValue),nodeStartOffset:nodeStartOffset_1}}else if(x.piece.length>=column-1){var nodeStartOffset_2=this.offsetOfNode(x);return{node:x,remainder:column-1,nodeStartOffset:nodeStartOffset_2}}else column-=x.piece.length;x=x.next()}return null},PieceTreeBase.prototype.nodeCharCodeAt=function(node,offset){if(node.piece.lineFeedCnt<1)return-1;var buffer=this._buffers[node.piece.bufferIndex],newOffset=this.offsetInBuffer(node.piece.bufferIndex,node.piece.start)+offset;return buffer.buffer.charCodeAt(newOffset)},PieceTreeBase.prototype.offsetOfNode=function(node){if(!node)return 0;for(var pos=node.size_left;node!==this.root;)node.parent.right===node&&(pos+=node.parent.size_left+node.parent.piece.length),node=node.parent;return pos},PieceTreeBase.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&this._EOL===`
`)},PieceTreeBase.prototype.startWithLF=function(val){if(typeof val=="string")return val.charCodeAt(0)===10;if(val===rbTreeBase_SENTINEL||val.piece.lineFeedCnt===0)return!1;var piece=val.piece,lineStarts=this._buffers[piece.bufferIndex].lineStarts,line=piece.start.line,startOffset=lineStarts[line]+piece.start.column;if(line===lineStarts.length-1)return!1;var nextLineOffset=lineStarts[line+1];return nextLineOffset>startOffset+1?!1:this._buffers[piece.bufferIndex].buffer.charCodeAt(startOffset)===10},PieceTreeBase.prototype.endWithCR=function(val){return typeof val=="string"?val.charCodeAt(val.length-1)===13:val===rbTreeBase_SENTINEL||val.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(val,val.piece.length-1)===13},PieceTreeBase.prototype.validateCRLFWithPrevNode=function(nextNode){if(this.shouldCheckCRLF()&&this.startWithLF(nextNode)){var node=nextNode.prev();this.endWithCR(node)&&this.fixCRLF(node,nextNode)}},PieceTreeBase.prototype.validateCRLFWithNextNode=function(node){if(this.shouldCheckCRLF()&&this.endWithCR(node)){var nextNode=node.next();this.startWithLF(nextNode)&&this.fixCRLF(node,nextNode)}},PieceTreeBase.prototype.fixCRLF=function(prev,next){var nodesToDel=[],lineStarts=this._buffers[prev.piece.bufferIndex].lineStarts,newEnd;prev.piece.end.column===0?newEnd={line:prev.piece.end.line-1,column:lineStarts[prev.piece.end.line]-lineStarts[prev.piece.end.line-1]-1}:newEnd={line:prev.piece.end.line,column:prev.piece.end.column-1};var prevNewLength=prev.piece.length-1,prevNewLFCnt=prev.piece.lineFeedCnt-1;prev.piece=new Piece(prev.piece.bufferIndex,prev.piece.start,newEnd,prevNewLFCnt,prevNewLength),updateTreeMetadata(this,prev,-1,-1),prev.piece.length===0&&nodesToDel.push(prev);var newStart={line:next.piece.start.line+1,column:0},newLength=next.piece.length-1,newLineFeedCnt=this.getLineFeedCnt(next.piece.bufferIndex,newStart,next.piece.end);next.piece=new Piece(next.piece.bufferIndex,newStart,next.piece.end,newLineFeedCnt,newLength),updateTreeMetadata(this,next,-1,-1),next.piece.length===0&&nodesToDel.push(next);var pieces=this.createNewPieces(`\r
`);this.rbInsertRight(prev,pieces[0]);for(var i=0;i<nodesToDel.length;i++)rbDelete(this,nodesToDel[i])},PieceTreeBase.prototype.adjustCarriageReturnFromNext=function(value,node){if(this.shouldCheckCRLF()&&this.endWithCR(value)){var nextNode=node.next();if(this.startWithLF(nextNode)){if(value+=`
`,nextNode.piece.length===1)rbDelete(this,nextNode);else{var piece=nextNode.piece,newStart={line:piece.start.line+1,column:0},newLength=piece.length-1,newLineFeedCnt=this.getLineFeedCnt(piece.bufferIndex,newStart,piece.end);nextNode.piece=new Piece(piece.bufferIndex,newStart,piece.end,newLineFeedCnt,newLength),updateTreeMetadata(this,nextNode,-1,-1)}return!0}}return!1},PieceTreeBase.prototype.iterate=function(node,callback){if(node===rbTreeBase_SENTINEL)return callback(rbTreeBase_SENTINEL);var leftRet=this.iterate(node.left,callback);return leftRet&&callback(node)&&this.iterate(node.right,callback)},PieceTreeBase.prototype.getNodeContent=function(node){if(node===rbTreeBase_SENTINEL)return"";var buffer=this._buffers[node.piece.bufferIndex],currentContent,piece=node.piece,startOffset=this.offsetInBuffer(piece.bufferIndex,piece.start),endOffset=this.offsetInBuffer(piece.bufferIndex,piece.end);return currentContent=buffer.buffer.substring(startOffset,endOffset),currentContent},PieceTreeBase.prototype.rbInsertRight=function(node,p){var z=new TreeNode(p,1);z.left=rbTreeBase_SENTINEL,z.right=rbTreeBase_SENTINEL,z.parent=rbTreeBase_SENTINEL,z.size_left=0,z.lf_left=0;var x=this.root;if(x===rbTreeBase_SENTINEL)this.root=z,z.color=0;else if(node.right===rbTreeBase_SENTINEL)node.right=z,z.parent=node;else{var nextNode=rbTreeBase_leftest(node.right);nextNode.left=z,z.parent=nextNode}return fixInsert(this,z),z},PieceTreeBase.prototype.rbInsertLeft=function(node,p){var z=new TreeNode(p,1);if(z.left=rbTreeBase_SENTINEL,z.right=rbTreeBase_SENTINEL,z.parent=rbTreeBase_SENTINEL,z.size_left=0,z.lf_left=0,this.root===rbTreeBase_SENTINEL)this.root=z,z.color=0;else if(node.left===rbTreeBase_SENTINEL)node.left=z,z.parent=node;else{var prevNode=righttest(node.left);prevNode.right=z,z.parent=prevNode}return fixInsert(this,z),z},PieceTreeBase.prototype.getContentOfSubTree=function(node){var _this=this,str="";return this.iterate(node,function(node2){return str+=_this.getNodeContent(node2),!0}),str},PieceTreeBase}(),pieceTreeTextBuffer_PieceTreeTextBuffer=function(){function PieceTreeTextBuffer(chunks,BOM,eol,containsRTL,isBasicASCII,eolNormalized){this._BOM=BOM,this._mightContainNonBasicASCII=!isBasicASCII,this._mightContainRTL=containsRTL,this._pieceTree=new pieceTreeBase_PieceTreeBase(chunks,eol,eolNormalized)}return PieceTreeTextBuffer.prototype.mightContainRTL=function(){return this._mightContainRTL},PieceTreeTextBuffer.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},PieceTreeTextBuffer.prototype.getBOM=function(){return this._BOM},PieceTreeTextBuffer.prototype.getEOL=function(){return this._pieceTree.getEOL()},PieceTreeTextBuffer.prototype.getOffsetAt=function(lineNumber,column){return this._pieceTree.getOffsetAt(lineNumber,column)},PieceTreeTextBuffer.prototype.getPositionAt=function(offset){return this._pieceTree.getPositionAt(offset)},PieceTreeTextBuffer.prototype.getRangeAt=function(start,length){var end=start+length,startPosition=this.getPositionAt(start),endPosition=this.getPositionAt(end);return new core_range.a(startPosition.lineNumber,startPosition.column,endPosition.lineNumber,endPosition.column)},PieceTreeTextBuffer.prototype.getValueInRange=function(range,eol){if(eol===void 0&&(eol=0),range.isEmpty())return"";var lineEnding=this._getEndOfLine(eol);return this._pieceTree.getValueInRange(range,lineEnding)},PieceTreeTextBuffer.prototype.getValueLengthInRange=function(range,eol){if(eol===void 0&&(eol=0),range.isEmpty())return 0;if(range.startLineNumber===range.endLineNumber)return range.endColumn-range.startColumn;var startOffset=this.getOffsetAt(range.startLineNumber,range.startColumn),endOffset=this.getOffsetAt(range.endLineNumber,range.endColumn);return endOffset-startOffset},PieceTreeTextBuffer.prototype.getCharacterCountInRange=function(range,eol){if(eol===void 0&&(eol=0),this._mightContainNonBasicASCII){for(var result=0,fromLineNumber=range.startLineNumber,toLineNumber=range.endLineNumber,lineNumber=fromLineNumber;lineNumber<=toLineNumber;lineNumber++)for(var lineContent=this.getLineContent(lineNumber),fromOffset=lineNumber===fromLineNumber?range.startColumn-1:0,toOffset=lineNumber===toLineNumber?range.endColumn-1:lineContent.length,offset=fromOffset;offset<toOffset;offset++)strings.A(lineContent.charCodeAt(offset))?(result=result+1,offset=offset+1):result=result+1;return result+=this._getEndOfLine(eol).length*(toLineNumber-fromLineNumber),result}return this.getValueLengthInRange(range,eol)},PieceTreeTextBuffer.prototype.getLength=function(){return this._pieceTree.getLength()},PieceTreeTextBuffer.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},PieceTreeTextBuffer.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},PieceTreeTextBuffer.prototype.getLineContent=function(lineNumber){return this._pieceTree.getLineContent(lineNumber)},PieceTreeTextBuffer.prototype.getLineCharCode=function(lineNumber,index){return this._pieceTree.getLineCharCode(lineNumber,index)},PieceTreeTextBuffer.prototype.getLineLength=function(lineNumber){return this._pieceTree.getLineLength(lineNumber)},PieceTreeTextBuffer.prototype.getLineFirstNonWhitespaceColumn=function(lineNumber){var result=strings.q(this.getLineContent(lineNumber));return result===-1?0:result+1},PieceTreeTextBuffer.prototype.getLineLastNonWhitespaceColumn=function(lineNumber){var result=strings.E(this.getLineContent(lineNumber));return result===-1?0:result+2},PieceTreeTextBuffer.prototype._getEndOfLine=function(eol){switch(eol){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL()}throw new Error("Unknown EOL preference")},PieceTreeTextBuffer.prototype.setEOL=function(newEOL){this._pieceTree.setEOL(newEOL)},PieceTreeTextBuffer.prototype.applyEdits=function(rawOperations,recordTrimAutoWhitespace){for(var mightContainRTL=this._mightContainRTL,mightContainNonBasicASCII=this._mightContainNonBasicASCII,canReduceOperations=!0,operations=[],i=0;i<rawOperations.length;i++){var op=rawOperations[i];canReduceOperations&&op._isTracked&&(canReduceOperations=!1);var validatedRange=op.range;!mightContainRTL&&op.text&&(mightContainRTL=strings.i(op.text)),!mightContainNonBasicASCII&&op.text&&(mightContainNonBasicASCII=!strings.w(op.text)),operations[i]={sortIndex:i,identifier:op.identifier||null,range:validatedRange,rangeOffset:this.getOffsetAt(validatedRange.startLineNumber,validatedRange.startColumn),rangeLength:this.getValueLengthInRange(validatedRange),lines:op.text?op.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:!!op.forceMoveMarkers,isAutoWhitespaceEdit:op.isAutoWhitespaceEdit||!1}}operations.sort(PieceTreeTextBuffer._sortOpsAscending);for(var hasTouchingRanges=!1,i=0,count=operations.length-1;i<count;i++){var rangeEnd=operations[i].range.getEndPosition(),nextRangeStart=operations[i+1].range.getStartPosition();if(nextRangeStart.isBeforeOrEqual(rangeEnd)){if(nextRangeStart.isBefore(rangeEnd))throw new Error("Overlapping ranges are not allowed!");hasTouchingRanges=!0}}canReduceOperations&&(operations=this._reduceOperations(operations));for(var reverseRanges=PieceTreeTextBuffer._getInverseEditRanges(operations),newTrimAutoWhitespaceCandidates=[],i=0;i<operations.length;i++){var op=operations[i],reverseRange=reverseRanges[i];if(recordTrimAutoWhitespace&&op.isAutoWhitespaceEdit&&op.range.isEmpty())for(var lineNumber=reverseRange.startLineNumber;lineNumber<=reverseRange.endLineNumber;lineNumber++){var currentLineContent="";lineNumber===reverseRange.startLineNumber&&(currentLineContent=this.getLineContent(op.range.startLineNumber),strings.q(currentLineContent)!==-1)||newTrimAutoWhitespaceCandidates.push({lineNumber,oldContent:currentLineContent})}}for(var reverseOperations=[],i=0;i<operations.length;i++){var op=operations[i],reverseRange=reverseRanges[i];reverseOperations[i]={sortIndex:op.sortIndex,identifier:op.identifier,range:reverseRange,text:this.getValueInRange(op.range),forceMoveMarkers:op.forceMoveMarkers}}hasTouchingRanges||reverseOperations.sort(function(a,b){return a.sortIndex-b.sortIndex}),this._mightContainRTL=mightContainRTL,this._mightContainNonBasicASCII=mightContainNonBasicASCII;var contentChanges=this._doApplyEdits(operations),trimAutoWhitespaceLineNumbers=null;if(recordTrimAutoWhitespace&&newTrimAutoWhitespaceCandidates.length>0){newTrimAutoWhitespaceCandidates.sort(function(a,b){return b.lineNumber-a.lineNumber}),trimAutoWhitespaceLineNumbers=[];for(var i=0,len=newTrimAutoWhitespaceCandidates.length;i<len;i++){var lineNumber=newTrimAutoWhitespaceCandidates[i].lineNumber;if(!(i>0&&newTrimAutoWhitespaceCandidates[i-1].lineNumber===lineNumber)){var prevContent=newTrimAutoWhitespaceCandidates[i].oldContent,lineContent=this.getLineContent(lineNumber);lineContent.length===0||lineContent===prevContent||strings.q(lineContent)!==-1||trimAutoWhitespaceLineNumbers.push(lineNumber)}}}return new model.a(reverseOperations,contentChanges,trimAutoWhitespaceLineNumbers)},PieceTreeTextBuffer.prototype._reduceOperations=function(operations){return operations.length<1e3?operations:[this._toSingleEditOperation(operations)]},PieceTreeTextBuffer.prototype._toSingleEditOperation=function(operations){for(var forceMoveMarkers=!1,firstEditRange=operations[0].range,lastEditRange=operations[operations.length-1].range,entireEditRange=new core_range.a(firstEditRange.startLineNumber,firstEditRange.startColumn,lastEditRange.endLineNumber,lastEditRange.endColumn),lastEndLineNumber=firstEditRange.startLineNumber,lastEndColumn=firstEditRange.startColumn,result=[],i=0,len=operations.length;i<len;i++){var operation=operations[i],range=operation.range;forceMoveMarkers=forceMoveMarkers||operation.forceMoveMarkers;for(var lineNumber=lastEndLineNumber;lineNumber<range.startLineNumber;lineNumber++)lineNumber===lastEndLineNumber?result.push(this.getLineContent(lineNumber).substring(lastEndColumn-1)):(result.push(`
`),result.push(this.getLineContent(lineNumber)));if(range.startLineNumber===lastEndLineNumber?result.push(this.getLineContent(range.startLineNumber).substring(lastEndColumn-1,range.startColumn-1)):(result.push(`
`),result.push(this.getLineContent(range.startLineNumber).substring(0,range.startColumn-1))),operation.lines)for(var j=0,lenJ=operation.lines.length;j<lenJ;j++)j!==0&&result.push(`
`),result.push(operation.lines[j]);lastEndLineNumber=operation.range.endLineNumber,lastEndColumn=operation.range.endColumn}return{sortIndex:0,identifier:operations[0].identifier,range:entireEditRange,rangeOffset:this.getOffsetAt(entireEditRange.startLineNumber,entireEditRange.startColumn),rangeLength:this.getValueLengthInRange(entireEditRange,0),lines:result.join("").split(`
`),forceMoveMarkers,isAutoWhitespaceEdit:!1}},PieceTreeTextBuffer.prototype._doApplyEdits=function(operations){operations.sort(PieceTreeTextBuffer._sortOpsDescending);for(var contentChanges=[],i=0;i<operations.length;i++){var op=operations[i],startLineNumber=op.range.startLineNumber,startColumn=op.range.startColumn,endLineNumber=op.range.endLineNumber,endColumn=op.range.endColumn;if(!(startLineNumber===endLineNumber&&startColumn===endColumn&&(!op.lines||op.lines.length===0))){var deletingLinesCnt=endLineNumber-startLineNumber,insertingLinesCnt=op.lines?op.lines.length-1:0,editingLinesCnt=Math.min(deletingLinesCnt,insertingLinesCnt),text=op.lines?op.lines.join(this.getEOL()):"";if(text?(this._pieceTree.delete(op.rangeOffset,op.rangeLength),this._pieceTree.insert(op.rangeOffset,text,!0)):this._pieceTree.delete(op.rangeOffset,op.rangeLength),editingLinesCnt<insertingLinesCnt){for(var newLinesContent=[],j=editingLinesCnt+1;j<=insertingLinesCnt;j++)newLinesContent.push(op.lines[j]);newLinesContent[newLinesContent.length-1]=this.getLineContent(startLineNumber+insertingLinesCnt-1)}var contentChangeRange=new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn);contentChanges.push({range:contentChangeRange,rangeLength:op.rangeLength,text,rangeOffset:op.rangeOffset,forceMoveMarkers:op.forceMoveMarkers})}}return contentChanges},PieceTreeTextBuffer.prototype.findMatchesLineByLine=function(searchRange,searchData,captureMatches,limitResultCount){return this._pieceTree.findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount)},PieceTreeTextBuffer._getInverseEditRanges=function(operations){for(var result=[],prevOpEndLineNumber=0,prevOpEndColumn=0,prevOp=null,i=0,len=operations.length;i<len;i++){var op=operations[i],startLineNumber=void 0,startColumn=void 0;prevOp?prevOp.range.endLineNumber===op.range.startLineNumber?(startLineNumber=prevOpEndLineNumber,startColumn=prevOpEndColumn+(op.range.startColumn-prevOp.range.endColumn)):(startLineNumber=prevOpEndLineNumber+(op.range.startLineNumber-prevOp.range.endLineNumber),startColumn=op.range.startColumn):(startLineNumber=op.range.startLineNumber,startColumn=op.range.startColumn);var resultRange=void 0;if(op.lines&&op.lines.length>0){var lineCount=op.lines.length,firstLine=op.lines[0],lastLine=op.lines[lineCount-1];lineCount===1?resultRange=new core_range.a(startLineNumber,startColumn,startLineNumber,startColumn+firstLine.length):resultRange=new core_range.a(startLineNumber,startColumn,startLineNumber+lineCount-1,lastLine.length+1)}else resultRange=new core_range.a(startLineNumber,startColumn,startLineNumber,startColumn);prevOpEndLineNumber=resultRange.endLineNumber,prevOpEndColumn=resultRange.endColumn,result.push(resultRange),prevOp=op}return result},PieceTreeTextBuffer._sortOpsAscending=function(a,b){var r=core_range.a.compareRangesUsingEnds(a.range,b.range);return r===0?a.sortIndex-b.sortIndex:r},PieceTreeTextBuffer._sortOpsDescending=function(a,b){var r=core_range.a.compareRangesUsingEnds(a.range,b.range);return r===0?b.sortIndex-a.sortIndex:-r},PieceTreeTextBuffer}(),pieceTreeTextBufferBuilder_PieceTreeTextBufferFactory=function(){function PieceTreeTextBufferFactory(_chunks,_bom,_cr,_lf,_crlf,_containsRTL,_isBasicASCII,_normalizeEOL){this._chunks=_chunks,this._bom=_bom,this._cr=_cr,this._lf=_lf,this._crlf=_crlf,this._containsRTL=_containsRTL,this._isBasicASCII=_isBasicASCII,this._normalizeEOL=_normalizeEOL}return PieceTreeTextBufferFactory.prototype._getEOL=function(defaultEOL){var totalEOLCount=this._cr+this._lf+this._crlf,totalCRCount=this._cr+this._crlf;return totalEOLCount===0?defaultEOL===1?`
`:`\r
`:totalCRCount>totalEOLCount/2?`\r
`:`
`},PieceTreeTextBufferFactory.prototype.create=function(defaultEOL){var eol=this._getEOL(defaultEOL),chunks=this._chunks;if(this._normalizeEOL&&(eol===`\r
`&&(this._cr>0||this._lf>0)||eol===`
`&&(this._cr>0||this._crlf>0)))for(var i=0,len=chunks.length;i<len;i++){var str=chunks[i].buffer.replace(/\r\n|\r|\n/g,eol),newLineStart=createLineStartsFast(str);chunks[i]=new StringBuffer(str,newLineStart)}return new pieceTreeTextBuffer_PieceTreeTextBuffer(chunks,this._bom,eol,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},PieceTreeTextBufferFactory}(),pieceTreeTextBufferBuilder_PieceTreeTextBufferBuilder=function(){function PieceTreeTextBufferBuilder(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}return PieceTreeTextBufferBuilder.prototype.acceptChunk=function(chunk){if(chunk.length!==0){this.chunks.length===0&&strings.Q(chunk)&&(this.BOM=strings.a,chunk=chunk.substr(1));var lastChar=chunk.charCodeAt(chunk.length-1);lastChar===13||lastChar>=55296&&lastChar<=56319?(this._acceptChunk1(chunk.substr(0,chunk.length-1),!1),this._hasPreviousChar=!0,this._previousChar=lastChar):(this._acceptChunk1(chunk,!1),this._hasPreviousChar=!1,this._previousChar=lastChar)}},PieceTreeTextBufferBuilder.prototype._acceptChunk1=function(chunk,allowEmptyStrings){!allowEmptyStrings&&chunk.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+chunk):this._acceptChunk2(chunk))},PieceTreeTextBufferBuilder.prototype._acceptChunk2=function(chunk){var lineStarts=createLineStarts(this._tmpLineStarts,chunk);this.chunks.push(new StringBuffer(chunk,lineStarts.lineStarts)),this.cr+=lineStarts.cr,this.lf+=lineStarts.lf,this.crlf+=lineStarts.crlf,this.isBasicASCII&&(this.isBasicASCII=lineStarts.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=strings.i(chunk))},PieceTreeTextBufferBuilder.prototype.finish=function(normalizeEOL){return normalizeEOL===void 0&&(normalizeEOL=!0),this._finish(),new pieceTreeTextBufferBuilder_PieceTreeTextBufferFactory(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,normalizeEOL)},PieceTreeTextBufferBuilder.prototype._finish=function(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var lastChunk=this.chunks[this.chunks.length-1];lastChunk.buffer+=String.fromCharCode(this._previousChar);var newLineStarts=createLineStartsFast(lastChunk.buffer);lastChunk.lineStarts=newLineStarts,this._previousChar===13&&this.cr++}},PieceTreeTextBufferBuilder}(),ModelRawFlush=function(){function ModelRawFlush2(){this.changeType=1}return ModelRawFlush2}(),ModelRawLineChanged=function(){function ModelRawLineChanged2(lineNumber,detail){this.changeType=2,this.lineNumber=lineNumber,this.detail=detail}return ModelRawLineChanged2}(),ModelRawLinesDeleted=function(){function ModelRawLinesDeleted2(fromLineNumber,toLineNumber){this.changeType=3,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber}return ModelRawLinesDeleted2}(),ModelRawLinesInserted=function(){function ModelRawLinesInserted2(fromLineNumber,toLineNumber,detail){this.changeType=4,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber,this.detail=detail}return ModelRawLinesInserted2}(),ModelRawEOLChanged=function(){function ModelRawEOLChanged2(){this.changeType=5}return ModelRawEOLChanged2}(),ModelRawContentChangedEvent=function(){function ModelRawContentChangedEvent2(changes,versionId,isUndoing,isRedoing){this.changes=changes,this.versionId=versionId,this.isUndoing=isUndoing,this.isRedoing=isRedoing}return ModelRawContentChangedEvent2.prototype.containsEvent=function(type){for(var i=0,len=this.changes.length;i<len;i++){var change=this.changes[i];if(change.changeType===type)return!0}return!1},ModelRawContentChangedEvent2.merge=function(a,b){var changes=[].concat(a.changes).concat(b.changes),versionId=b.versionId,isUndoing=a.isUndoing||b.isUndoing,isRedoing=a.isRedoing||b.isRedoing;return new ModelRawContentChangedEvent2(changes,versionId,isUndoing,isRedoing)},ModelRawContentChangedEvent2}(),InternalModelContentChangeEvent=function(){function InternalModelContentChangeEvent2(rawContentChangedEvent,contentChangedEvent){this.rawContentChangedEvent=rawContentChangedEvent,this.contentChangedEvent=contentChangedEvent}return InternalModelContentChangeEvent2.prototype.merge=function(other){var rawContentChangedEvent=ModelRawContentChangedEvent.merge(this.rawContentChangedEvent,other.rawContentChangedEvent),contentChangedEvent=InternalModelContentChangeEvent2._mergeChangeEvents(this.contentChangedEvent,other.contentChangedEvent);return new InternalModelContentChangeEvent2(rawContentChangedEvent,contentChangedEvent)},InternalModelContentChangeEvent2._mergeChangeEvents=function(a,b){var changes=[].concat(a.changes).concat(b.changes),eol=b.eol,versionId=b.versionId,isUndoing=a.isUndoing||b.isUndoing,isRedoing=a.isRedoing||b.isRedoing,isFlush=a.isFlush||b.isFlush;return{changes,eol,versionId,isUndoing,isRedoing,isFlush}},InternalModelContentChangeEvent2}(),arrays=__webpack_require__(2389),core_lineTokens=__webpack_require__(3283),modes=__webpack_require__(2240),nullMode=__webpack_require__(3165),stopwatch=__webpack_require__(2664),tokensStore=__webpack_require__(3494),platform=__webpack_require__(2236),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),textModelTokens_TokenizationStateStore=function(){function TokenizationStateStore(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}return TokenizationStateStore.prototype._reset=function(initialState){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,initialState&&this._setBeginState(0,initialState)},TokenizationStateStore.prototype.flush=function(initialState){this._reset(initialState)},Object.defineProperty(TokenizationStateStore.prototype,"invalidLineStartIndex",{get:function(){return this._invalidLineStartIndex},enumerable:!0,configurable:!0}),TokenizationStateStore.prototype._invalidateLine=function(lineIndex){lineIndex<this._len&&(this._valid[lineIndex]=!1),lineIndex<this._invalidLineStartIndex&&(this._invalidLineStartIndex=lineIndex)},TokenizationStateStore.prototype._isValid=function(lineIndex){return lineIndex<this._len?this._valid[lineIndex]:!1},TokenizationStateStore.prototype.getBeginState=function(lineIndex){return lineIndex<this._len?this._beginState[lineIndex]:null},TokenizationStateStore.prototype._ensureLine=function(lineIndex){for(;lineIndex>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++},TokenizationStateStore.prototype._deleteLines=function(start,deleteCount){deleteCount!==0&&(start+deleteCount>this._len&&(deleteCount=this._len-start),this._beginState.splice(start,deleteCount),this._valid.splice(start,deleteCount),this._len-=deleteCount)},TokenizationStateStore.prototype._insertLines=function(insertIndex,insertCount){if(insertCount!==0){for(var beginState=[],valid=[],i=0;i<insertCount;i++)beginState[i]=null,valid[i]=!1;this._beginState=arrays.a(this._beginState,insertIndex,beginState),this._valid=arrays.a(this._valid,insertIndex,valid),this._len+=insertCount}},TokenizationStateStore.prototype._setValid=function(lineIndex,valid){this._ensureLine(lineIndex),this._valid[lineIndex]=valid},TokenizationStateStore.prototype._setBeginState=function(lineIndex,beginState){this._ensureLine(lineIndex),this._beginState[lineIndex]=beginState},TokenizationStateStore.prototype.setEndState=function(linesLength,lineIndex,endState){if(this._setValid(lineIndex,!0),this._invalidLineStartIndex=lineIndex+1,lineIndex!==linesLength-1){var previousEndState=this.getBeginState(lineIndex+1);if(previousEndState===null||!endState.equals(previousEndState)){this._setBeginState(lineIndex+1,endState),this._invalidateLine(lineIndex+1);return}for(var i=lineIndex+1;i<linesLength&&this._isValid(i);)i++;this._invalidLineStartIndex=i}},TokenizationStateStore.prototype.setFakeTokens=function(lineIndex){this._setValid(lineIndex,!1)},TokenizationStateStore.prototype.applyEdits=function(range,eolCount){for(var deletingLinesCnt=range.endLineNumber-range.startLineNumber,insertingLinesCnt=eolCount,editingLinesCnt=Math.min(deletingLinesCnt,insertingLinesCnt),j=editingLinesCnt;j>=0;j--)this._invalidateLine(range.startLineNumber+j-1);this._acceptDeleteRange(range),this._acceptInsertText(new core_position.a(range.startLineNumber,range.startColumn),eolCount)},TokenizationStateStore.prototype._acceptDeleteRange=function(range){var firstLineIndex=range.startLineNumber-1;firstLineIndex>=this._len||this._deleteLines(range.startLineNumber,range.endLineNumber-range.startLineNumber)},TokenizationStateStore.prototype._acceptInsertText=function(position,eolCount){var lineIndex=position.lineNumber-1;lineIndex>=this._len||this._insertLines(position.lineNumber,eolCount)},TokenizationStateStore}(),textModelTokens_TextModelTokenization=function(_super){__extends(TextModelTokenization,_super);function TextModelTokenization(textModel){var _this=_super.call(this)||this;return _this._isDisposed=!1,_this._textModel=textModel,_this._tokenizationStateStore=new textModelTokens_TokenizationStateStore,_this._tokenizationSupport=null,_this._register(modes.A.onDidChange(function(e){var languageIdentifier=_this._textModel.getLanguageIdentifier();e.changedLanguages.indexOf(languageIdentifier.language)!==-1&&(_this._resetTokenizationState(),_this._textModel.clearTokens())})),_this._register(_this._textModel.onDidChangeRawContentFast(function(e){if(e.containsEvent(1)){_this._resetTokenizationState();return}})),_this._register(_this._textModel.onDidChangeContentFast(function(e){for(var i=0,len=e.changes.length;i<len;i++){var change=e.changes[i],eolCount=Object(tokensStore.f)(change.text)[0];_this._tokenizationStateStore.applyEdits(change.range,eolCount)}_this._beginBackgroundTokenization()})),_this._register(_this._textModel.onDidChangeAttached(function(){_this._beginBackgroundTokenization()})),_this._register(_this._textModel.onDidChangeLanguage(function(){_this._resetTokenizationState(),_this._textModel.clearTokens()})),_this._resetTokenizationState(),_this}return TextModelTokenization.prototype.dispose=function(){this._isDisposed=!0,_super.prototype.dispose.call(this)},TextModelTokenization.prototype._resetTokenizationState=function(){var _a=initializeTokenization(this._textModel),tokenizationSupport=_a[0],initialState=_a[1];this._tokenizationSupport=tokenizationSupport,this._tokenizationStateStore.flush(initialState),this._beginBackgroundTokenization()},TextModelTokenization.prototype._beginBackgroundTokenization=function(){var _this=this;this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&platform.i(function(){_this._isDisposed||_this._revalidateTokensNow()})},TextModelTokenization.prototype._revalidateTokensNow=function(toLineNumber){toLineNumber===void 0&&(toLineNumber=this._textModel.getLineCount());for(var MAX_ALLOWED_TIME=1,builder=new tokensStore.b,sw=stopwatch.a.create(!1);this._hasLinesToTokenize()&&!(sw.elapsed()>MAX_ALLOWED_TIME);){var tokenizedLineNumber=this._tokenizeOneInvalidLine(builder);if(tokenizedLineNumber>=toLineNumber)break}this._beginBackgroundTokenization(),this._textModel.setTokens(builder.tokens)},TextModelTokenization.prototype.tokenizeViewport=function(startLineNumber,endLineNumber){var builder=new tokensStore.b;this._tokenizeViewport(builder,startLineNumber,endLineNumber),this._textModel.setTokens(builder.tokens)},TextModelTokenization.prototype.reset=function(){this._resetTokenizationState(),this._textModel.clearTokens()},TextModelTokenization.prototype.forceTokenization=function(lineNumber){var builder=new tokensStore.b;this._updateTokensUntilLine(builder,lineNumber),this._textModel.setTokens(builder.tokens)},TextModelTokenization.prototype.isCheapToTokenize=function(lineNumber){if(!this._tokenizationSupport)return!0;var firstInvalidLineNumber=this._tokenizationStateStore.invalidLineStartIndex+1;return lineNumber>firstInvalidLineNumber?!1:lineNumber<firstInvalidLineNumber||this._textModel.getLineLength(lineNumber)<2048},TextModelTokenization.prototype._hasLinesToTokenize=function(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1},TextModelTokenization.prototype._tokenizeOneInvalidLine=function(builder){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;var lineNumber=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(builder,lineNumber),lineNumber},TextModelTokenization.prototype._updateTokensUntilLine=function(builder,lineNumber){if(this._tokenizationSupport)for(var languageIdentifier=this._textModel.getLanguageIdentifier(),linesLength=this._textModel.getLineCount(),endLineIndex=lineNumber-1,lineIndex=this._tokenizationStateStore.invalidLineStartIndex;lineIndex<=endLineIndex;lineIndex++){var text=this._textModel.getLineContent(lineIndex+1),lineStartState=this._tokenizationStateStore.getBeginState(lineIndex),r=safeTokenize(languageIdentifier,this._tokenizationSupport,text,lineStartState);builder.add(lineIndex+1,r.tokens),this._tokenizationStateStore.setEndState(linesLength,lineIndex,r.endState),lineIndex=this._tokenizationStateStore.invalidLineStartIndex-1}},TextModelTokenization.prototype._tokenizeViewport=function(builder,startLineNumber,endLineNumber){if(this._tokenizationSupport&&!(endLineNumber<=this._tokenizationStateStore.invalidLineStartIndex)){if(startLineNumber<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(builder,endLineNumber);return}for(var nonWhitespaceColumn=this._textModel.getLineFirstNonWhitespaceColumn(startLineNumber),fakeLines=[],initialState=null,i=startLineNumber-1;nonWhitespaceColumn>0&&i>=1;i--){var newNonWhitespaceIndex=this._textModel.getLineFirstNonWhitespaceColumn(i);if(newNonWhitespaceIndex!==0&&newNonWhitespaceIndex<nonWhitespaceColumn){if(initialState=this._tokenizationStateStore.getBeginState(i-1),initialState)break;fakeLines.push(this._textModel.getLineContent(i)),nonWhitespaceColumn=newNonWhitespaceIndex}}initialState||(initialState=this._tokenizationSupport.getInitialState());for(var languageIdentifier=this._textModel.getLanguageIdentifier(),state=initialState,i=fakeLines.length-1;i>=0;i--){var r=safeTokenize(languageIdentifier,this._tokenizationSupport,fakeLines[i],state);state=r.endState}for(var lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var text=this._textModel.getLineContent(lineNumber),r=safeTokenize(languageIdentifier,this._tokenizationSupport,text,state);builder.add(lineNumber,r.tokens),this._tokenizationStateStore.setFakeTokens(lineNumber-1),state=r.endState}}},TextModelTokenization}(lifecycle.a);function initializeTokenization(textModel){var languageIdentifier=textModel.getLanguageIdentifier(),tokenizationSupport=textModel.isTooLargeForTokenization()?null:modes.A.get(languageIdentifier.language),initialState=null;if(tokenizationSupport)try{initialState=tokenizationSupport.getInitialState()}catch(e){Object(errors.e)(e),tokenizationSupport=null}return[tokenizationSupport,initialState]}function safeTokenize(languageIdentifier,tokenizationSupport,text,state){var r=null;if(tokenizationSupport)try{r=tokenizationSupport.tokenize2(text,state.clone(),0)}catch(e){Object(errors.e)(e)}return r||(r=Object(nullMode.e)(languageIdentifier.id,text,state,0)),core_lineTokens.a.convertToEndOffset(r.tokens,text.length),r}var wordHelper=__webpack_require__(3366),languageConfigurationRegistry=__webpack_require__(2810),supports=__webpack_require__(3495),richEditBrackets=__webpack_require__(3496),types=__webpack_require__(2631),common_color=__webpack_require__(2663),textModel_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function createTextBufferBuilder(){return new pieceTreeTextBufferBuilder_PieceTreeTextBufferBuilder}function createTextBufferFactory(text){var builder=createTextBufferBuilder();return builder.acceptChunk(text),builder.finish()}function createTextBuffer(value,defaultEOL){var factory=typeof value=="string"?createTextBufferFactory(value):value;return factory.create(defaultEOL)}var MODEL_ID=0,LIMIT_FIND_COUNT=999,LONG_LINE_BOUNDARY=1e4,invalidFunc=function(){throw new Error("Invalid change accessor")},textModel_TextModel=function(_super){textModel_extends(TextModel,_super);function TextModel(source,creationOptions,languageIdentifier,associatedResource){associatedResource===void 0&&(associatedResource=null);var _this=_super.call(this)||this;_this._onWillDispose=_this._register(new common_event.a),_this.onWillDispose=_this._onWillDispose.event,_this._onDidChangeDecorations=_this._register(new textModel_DidChangeDecorationsEmitter),_this.onDidChangeDecorations=_this._onDidChangeDecorations.event,_this._onDidChangeLanguage=_this._register(new common_event.a),_this.onDidChangeLanguage=_this._onDidChangeLanguage.event,_this._onDidChangeLanguageConfiguration=_this._register(new common_event.a),_this.onDidChangeLanguageConfiguration=_this._onDidChangeLanguageConfiguration.event,_this._onDidChangeTokens=_this._register(new common_event.a),_this.onDidChangeTokens=_this._onDidChangeTokens.event,_this._onDidChangeOptions=_this._register(new common_event.a),_this.onDidChangeOptions=_this._onDidChangeOptions.event,_this._onDidChangeAttached=_this._register(new common_event.a),_this.onDidChangeAttached=_this._onDidChangeAttached.event,_this._eventEmitter=_this._register(new textModel_DidChangeContentEmitter),MODEL_ID++,_this.id="$model"+MODEL_ID,_this.isForSimpleWidget=creationOptions.isForSimpleWidget,typeof associatedResource>"u"||associatedResource===null?_this._associatedResource=uri.a.parse("inmemory://model/"+MODEL_ID):_this._associatedResource=associatedResource,_this._attachedEditorCount=0,_this._buffer=createTextBuffer(source,creationOptions.defaultEOL),_this._options=TextModel.resolveOptions(_this._buffer,creationOptions);var bufferLineCount=_this._buffer.getLineCount(),bufferTextLength=_this._buffer.getValueLengthInRange(new core_range.a(1,1,bufferLineCount,_this._buffer.getLineLength(bufferLineCount)+1),0);return creationOptions.largeFileOptimizations?_this._isTooLargeForTokenization=bufferTextLength>TextModel.LARGE_FILE_SIZE_THRESHOLD||bufferLineCount>TextModel.LARGE_FILE_LINE_COUNT_THRESHOLD:_this._isTooLargeForTokenization=!1,_this._isTooLargeForSyncing=bufferTextLength>TextModel.MODEL_SYNC_LIMIT,_this._versionId=1,_this._alternativeVersionId=1,_this._isDisposed=!1,_this._isDisposing=!1,_this._languageIdentifier=languageIdentifier||nullMode.a,_this._languageRegistryListener=languageConfigurationRegistry.a.onDidChange(function(e){e.languageIdentifier.id===_this._languageIdentifier.id&&_this._onDidChangeLanguageConfiguration.fire({})}),_this._instanceId=strings.N(MODEL_ID),_this._lastDecorationId=0,_this._decorations=Object.create(null),_this._decorationsTree=new textModel_DecorationsTrees,_this._commandManager=new editStack_EditStack(_this),_this._isUndoing=!1,_this._isRedoing=!1,_this._trimAutoWhitespaceLines=null,_this._tokens=new tokensStore.d,_this._tokens2=new tokensStore.e,_this._tokenization=new textModelTokens_TextModelTokenization(_this),_this}return TextModel.createFromString=function(text,options,languageIdentifier,uri2){return options===void 0&&(options=TextModel.DEFAULT_CREATION_OPTIONS),languageIdentifier===void 0&&(languageIdentifier=null),uri2===void 0&&(uri2=null),new TextModel(text,options,languageIdentifier,uri2)},TextModel.resolveOptions=function(textBuffer,options){if(options.detectIndentation){var guessedIndentation=guessIndentation(textBuffer,options.tabSize,options.insertSpaces);return new model.e({tabSize:guessedIndentation.tabSize,indentSize:guessedIndentation.tabSize,insertSpaces:guessedIndentation.insertSpaces,trimAutoWhitespace:options.trimAutoWhitespace,defaultEOL:options.defaultEOL})}return new model.e({tabSize:options.tabSize,indentSize:options.indentSize,insertSpaces:options.insertSpaces,trimAutoWhitespace:options.trimAutoWhitespace,defaultEOL:options.defaultEOL})},TextModel.prototype.onDidChangeRawContentFast=function(listener){return this._eventEmitter.fastEvent(function(e){return listener(e.rawContentChangedEvent)})},TextModel.prototype.onDidChangeRawContent=function(listener){return this._eventEmitter.slowEvent(function(e){return listener(e.rawContentChangedEvent)})},TextModel.prototype.onDidChangeContentFast=function(listener){return this._eventEmitter.fastEvent(function(e){return listener(e.contentChangedEvent)})},TextModel.prototype.onDidChangeContent=function(listener){return this._eventEmitter.slowEvent(function(e){return listener(e.contentChangedEvent)})},TextModel.prototype.dispose=function(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,_super.prototype.dispose.call(this),this._isDisposing=!1},TextModel.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},TextModel.prototype._emitContentChangedEvent=function(rawChange,change){this._isDisposing||this._eventEmitter.fire(new InternalModelContentChangeEvent(rawChange,change))},TextModel.prototype.setValue=function(value){if(this._assertNotDisposed(),value!==null){var textBuffer=createTextBuffer(value,this._options.defaultEOL);this.setValueFromTextBuffer(textBuffer)}},TextModel.prototype._createContentChanged2=function(range,rangeOffset,rangeLength,text,isUndoing,isRedoing,isFlush){return{changes:[{range,rangeOffset,rangeLength,text}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing,isRedoing,isFlush}},TextModel.prototype.setValueFromTextBuffer=function(textBuffer){if(this._assertNotDisposed(),textBuffer!==null){var oldFullModelRange=this.getFullModelRange(),oldModelValueLength=this.getValueLengthInRange(oldFullModelRange),endLineNumber=this.getLineCount(),endColumn=this.getLineMaxColumn(endLineNumber);this._buffer=textBuffer,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new textModel_DecorationsTrees,this._commandManager=new editStack_EditStack(this),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new ModelRawContentChangedEvent([new ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new core_range.a(1,1,endLineNumber,endColumn),0,oldModelValueLength,this.getValue(),!1,!1,!0))}},TextModel.prototype.setEOL=function(eol){this._assertNotDisposed();var newEOL=eol===1?`\r
`:`
`;if(this._buffer.getEOL()!==newEOL){var oldFullModelRange=this.getFullModelRange(),oldModelValueLength=this.getValueLengthInRange(oldFullModelRange),endLineNumber=this.getLineCount(),endColumn=this.getLineMaxColumn(endLineNumber);this._onBeforeEOLChange(),this._buffer.setEOL(newEOL),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new ModelRawContentChangedEvent([new ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new core_range.a(1,1,endLineNumber,endColumn),0,oldModelValueLength,this.getValue(),!1,!1,!1))}},TextModel.prototype._onBeforeEOLChange=function(){var versionId=this.getVersionId(),allDecorations=this._decorationsTree.search(0,!1,!1,versionId);this._ensureNodesHaveRanges(allDecorations)},TextModel.prototype._onAfterEOLChange=function(){for(var versionId=this.getVersionId(),allDecorations=this._decorationsTree.collectNodesPostOrder(),i=0,len=allDecorations.length;i<len;i++){var node=allDecorations[i],delta=node.cachedAbsoluteStart-node.start,startOffset=this._buffer.getOffsetAt(node.range.startLineNumber,node.range.startColumn),endOffset=this._buffer.getOffsetAt(node.range.endLineNumber,node.range.endColumn);node.cachedAbsoluteStart=startOffset,node.cachedAbsoluteEnd=endOffset,node.cachedVersionId=versionId,node.start=startOffset-delta,node.end=endOffset-delta,recomputeMaxEnd(node)}},TextModel.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)},TextModel.prototype.onBeforeDetached=function(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)},TextModel.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},TextModel.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount},TextModel.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing},TextModel.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},TextModel.prototype.isDisposed=function(){return this._isDisposed},TextModel.prototype.isDominatedByLongLines=function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var smallLineCharCount=0,longLineCharCount=0,lineCount=this._buffer.getLineCount(),lineNumber=1;lineNumber<=lineCount;lineNumber++){var lineLength=this._buffer.getLineLength(lineNumber);lineLength>=LONG_LINE_BOUNDARY?longLineCharCount+=lineLength:smallLineCharCount+=lineLength}return longLineCharCount>smallLineCharCount},Object.defineProperty(TextModel.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),TextModel.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},TextModel.prototype.getFormattingOptions=function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}},TextModel.prototype.updateOptions=function(_newOpts){this._assertNotDisposed();var tabSize=typeof _newOpts.tabSize<"u"?_newOpts.tabSize:this._options.tabSize,indentSize=typeof _newOpts.indentSize<"u"?_newOpts.indentSize:this._options.indentSize,insertSpaces=typeof _newOpts.insertSpaces<"u"?_newOpts.insertSpaces:this._options.insertSpaces,trimAutoWhitespace=typeof _newOpts.trimAutoWhitespace<"u"?_newOpts.trimAutoWhitespace:this._options.trimAutoWhitespace,newOpts=new model.e({tabSize,indentSize,insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace});if(!this._options.equals(newOpts)){var e=this._options.createChangeEvent(newOpts);this._options=newOpts,this._onDidChangeOptions.fire(e)}},TextModel.prototype.detectIndentation=function(defaultInsertSpaces,defaultTabSize){this._assertNotDisposed();var guessedIndentation=guessIndentation(this._buffer,defaultTabSize,defaultInsertSpaces);this.updateOptions({insertSpaces:guessedIndentation.insertSpaces,tabSize:guessedIndentation.tabSize,indentSize:guessedIndentation.tabSize})},TextModel._normalizeIndentationFromWhitespace=function(str,indentSize,insertSpaces){for(var spacesCnt=0,i=0;i<str.length;i++)str.charAt(i)==="	"?spacesCnt+=indentSize:spacesCnt++;var result="";if(!insertSpaces){var tabsCnt=Math.floor(spacesCnt/indentSize);spacesCnt=spacesCnt%indentSize;for(var i=0;i<tabsCnt;i++)result+="	"}for(var i=0;i<spacesCnt;i++)result+=" ";return result},TextModel.normalizeIndentation=function(str,indentSize,insertSpaces){var firstNonWhitespaceIndex=strings.q(str);return firstNonWhitespaceIndex===-1&&(firstNonWhitespaceIndex=str.length),TextModel._normalizeIndentationFromWhitespace(str.substring(0,firstNonWhitespaceIndex),indentSize,insertSpaces)+str.substring(firstNonWhitespaceIndex)},TextModel.prototype.normalizeIndentation=function(str){return this._assertNotDisposed(),TextModel.normalizeIndentation(str,this._options.indentSize,this._options.insertSpaces)},TextModel.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},TextModel.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()},TextModel.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()},TextModel.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},TextModel.prototype.getOffsetAt=function(rawPosition){this._assertNotDisposed();var position=this._validatePosition(rawPosition.lineNumber,rawPosition.column,!1);return this._buffer.getOffsetAt(position.lineNumber,position.column)},TextModel.prototype.getPositionAt=function(rawOffset){this._assertNotDisposed();var offset=Math.min(this._buffer.getLength(),Math.max(0,rawOffset));return this._buffer.getPositionAt(offset)},TextModel.prototype._increaseVersionId=function(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId},TextModel.prototype._overwriteAlternativeVersionId=function(newAlternativeVersionId){this._alternativeVersionId=newAlternativeVersionId},TextModel.prototype.getValue=function(eol,preserveBOM){preserveBOM===void 0&&(preserveBOM=!1),this._assertNotDisposed();var fullModelRange=this.getFullModelRange(),fullModelValue=this.getValueInRange(fullModelRange,eol);return preserveBOM?this._buffer.getBOM()+fullModelValue:fullModelValue},TextModel.prototype.getValueLength=function(eol,preserveBOM){preserveBOM===void 0&&(preserveBOM=!1),this._assertNotDisposed();var fullModelRange=this.getFullModelRange(),fullModelValue=this.getValueLengthInRange(fullModelRange,eol);return preserveBOM?this._buffer.getBOM().length+fullModelValue:fullModelValue},TextModel.prototype.getValueInRange=function(rawRange,eol){return eol===void 0&&(eol=0),this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(rawRange),eol)},TextModel.prototype.getValueLengthInRange=function(rawRange,eol){return eol===void 0&&(eol=0),this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(rawRange),eol)},TextModel.prototype.getCharacterCountInRange=function(rawRange,eol){return eol===void 0&&(eol=0),this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(rawRange),eol)},TextModel.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()},TextModel.prototype.getLineContent=function(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(lineNumber)},TextModel.prototype.getLineLength=function(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(lineNumber)},TextModel.prototype.getLinesContent=function(){return this._assertNotDisposed(),this._buffer.getLinesContent()},TextModel.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()},TextModel.prototype.getLineMinColumn=function(lineNumber){return this._assertNotDisposed(),1},TextModel.prototype.getLineMaxColumn=function(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(lineNumber)+1},TextModel.prototype.getLineFirstNonWhitespaceColumn=function(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(lineNumber)},TextModel.prototype.getLineLastNonWhitespaceColumn=function(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(lineNumber)},TextModel.prototype._validateRangeRelaxedNoAllocations=function(range){var linesCount=this._buffer.getLineCount(),initialStartLineNumber=range.startLineNumber,initialStartColumn=range.startColumn,startLineNumber,startColumn;if(initialStartLineNumber<1)startLineNumber=1,startColumn=1;else if(initialStartLineNumber>linesCount)startLineNumber=linesCount,startColumn=this.getLineMaxColumn(startLineNumber);else if(startLineNumber=initialStartLineNumber|0,initialStartColumn<=1)startColumn=1;else{var maxColumn=this.getLineMaxColumn(startLineNumber);initialStartColumn>=maxColumn?startColumn=maxColumn:startColumn=initialStartColumn|0}var initialEndLineNumber=range.endLineNumber,initialEndColumn=range.endColumn,endLineNumber,endColumn;if(initialEndLineNumber<1)endLineNumber=1,endColumn=1;else if(initialEndLineNumber>linesCount)endLineNumber=linesCount,endColumn=this.getLineMaxColumn(endLineNumber);else if(endLineNumber=initialEndLineNumber|0,initialEndColumn<=1)endColumn=1;else{var maxColumn=this.getLineMaxColumn(endLineNumber);initialEndColumn>=maxColumn?endColumn=maxColumn:endColumn=initialEndColumn|0}return initialStartLineNumber===startLineNumber&&initialStartColumn===startColumn&&initialEndLineNumber===endLineNumber&&initialEndColumn===endColumn&&range instanceof core_range.a&&!(range instanceof selection.a)?range:new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn)},TextModel.prototype._isValidPosition=function(lineNumber,column,strict){if(typeof lineNumber!="number"||typeof column!="number"||isNaN(lineNumber)||isNaN(column)||lineNumber<1||column<1||(lineNumber|0)!==lineNumber||(column|0)!==column)return!1;var lineCount=this._buffer.getLineCount();if(lineNumber>lineCount)return!1;var maxColumn=this.getLineMaxColumn(lineNumber);if(column>maxColumn)return!1;if(strict){var charStartOffset=strings.s(this._buffer.getLineContent(lineNumber),column-1)[0];if(column!==charStartOffset+1)return!1}return!0},TextModel.prototype._validatePosition=function(_lineNumber,_column,strict){var lineNumber=Math.floor(typeof _lineNumber=="number"&&!isNaN(_lineNumber)?_lineNumber:1),column=Math.floor(typeof _column=="number"&&!isNaN(_column)?_column:1),lineCount=this._buffer.getLineCount();if(lineNumber<1)return new core_position.a(1,1);if(lineNumber>lineCount)return new core_position.a(lineCount,this.getLineMaxColumn(lineCount));if(column<=1)return new core_position.a(lineNumber,1);var maxColumn=this.getLineMaxColumn(lineNumber);if(column>=maxColumn)return new core_position.a(lineNumber,maxColumn);if(strict){var charStartOffset=strings.s(this._buffer.getLineContent(lineNumber),column-1)[0];if(column!==charStartOffset+1)return new core_position.a(lineNumber,charStartOffset+1)}return new core_position.a(lineNumber,column)},TextModel.prototype.validatePosition=function(position){return this._assertNotDisposed(),position instanceof core_position.a&&this._isValidPosition(position.lineNumber,position.column,!0)?position:this._validatePosition(position.lineNumber,position.column,!0)},TextModel.prototype._isValidRange=function(range,strict){var startLineNumber=range.startLineNumber,startColumn=range.startColumn,endLineNumber=range.endLineNumber,endColumn=range.endColumn;if(!this._isValidPosition(startLineNumber,startColumn,!1)||!this._isValidPosition(endLineNumber,endColumn,!1))return!1;if(strict){var startLineContent=this._buffer.getLineContent(startLineNumber);if(startColumn<startLineContent.length+1){var charStartOffset=strings.s(startLineContent,startColumn-1)[0];if(startColumn!==charStartOffset+1)return!1}if(endColumn>=2){var endLineContent=endLineNumber===startLineNumber?startLineContent:this._buffer.getLineContent(endLineNumber),_a=strings.s(endLineContent,endColumn-2),charEndOffset=_a[1];if(endColumn!==charEndOffset+1)return!1}return!0}return!0},TextModel.prototype.validateRange=function(_range){if(this._assertNotDisposed(),_range instanceof core_range.a&&!(_range instanceof selection.a)&&this._isValidRange(_range,!0))return _range;var start=this._validatePosition(_range.startLineNumber,_range.startColumn,!1),end=this._validatePosition(_range.endLineNumber,_range.endColumn,!1),startLineNumber=start.lineNumber,startColumn=start.column,endLineNumber=end.lineNumber,endColumn=end.column,isEmpty=startLineNumber===endLineNumber&&startColumn===endColumn,startLineContent=this._buffer.getLineContent(startLineNumber);if(startColumn<startLineContent.length+1){var charStartOffset=strings.s(startLineContent,startColumn-1)[0];if(startColumn!==charStartOffset+1){if(isEmpty)return new core_range.a(startLineNumber,charStartOffset+1,startLineNumber,charStartOffset+1);startColumn=charStartOffset+1}}if(endColumn>=2){var endLineContent=endLineNumber===startLineNumber?startLineContent:this._buffer.getLineContent(endLineNumber),_a=strings.s(endLineContent,endColumn-2),charEndOffset=_a[1];endColumn!==charEndOffset+1&&(endColumn=charEndOffset+1)}return new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn)},TextModel.prototype.modifyPosition=function(rawPosition,offset){this._assertNotDisposed();var candidate=this.getOffsetAt(rawPosition)+offset;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,candidate)))},TextModel.prototype.getFullModelRange=function(){this._assertNotDisposed();var lineCount=this.getLineCount();return new core_range.a(1,1,lineCount,this.getLineMaxColumn(lineCount))},TextModel.prototype.findMatchesLineByLine=function(searchRange,searchData,captureMatches,limitResultCount){return this._buffer.findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount)},TextModel.prototype.findMatches=function(searchString,rawSearchScope,isRegex,matchCase,wordSeparators,captureMatches,limitResultCount){limitResultCount===void 0&&(limitResultCount=LIMIT_FIND_COUNT),this._assertNotDisposed();var searchRange;if(core_range.a.isIRange(rawSearchScope)?searchRange=this.validateRange(rawSearchScope):searchRange=this.getFullModelRange(),!isRegex&&searchString.indexOf(`
`)<0){var searchParams=new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchData=searchParams.parseSearchRequest();return searchData?this.findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount):[]}return textModelSearch.c.findMatches(this,new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchRange,captureMatches,limitResultCount)},TextModel.prototype.findNextMatch=function(searchString,rawSearchStart,isRegex,matchCase,wordSeparators,captureMatches){this._assertNotDisposed();var searchStart=this.validatePosition(rawSearchStart);if(!isRegex&&searchString.indexOf(`
`)<0){var searchParams=new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchData=searchParams.parseSearchRequest();if(!searchData)return null;var lineCount=this.getLineCount(),searchRange=new core_range.a(searchStart.lineNumber,searchStart.column,lineCount,this.getLineMaxColumn(lineCount)),ret=this.findMatchesLineByLine(searchRange,searchData,captureMatches,1);return textModelSearch.c.findNextMatch(this,new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchStart,captureMatches),ret.length>0||(searchRange=new core_range.a(1,1,searchStart.lineNumber,this.getLineMaxColumn(searchStart.lineNumber)),ret=this.findMatchesLineByLine(searchRange,searchData,captureMatches,1),ret.length>0)?ret[0]:null}return textModelSearch.c.findNextMatch(this,new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchStart,captureMatches)},TextModel.prototype.findPreviousMatch=function(searchString,rawSearchStart,isRegex,matchCase,wordSeparators,captureMatches){this._assertNotDisposed();var searchStart=this.validatePosition(rawSearchStart);return textModelSearch.c.findPreviousMatch(this,new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchStart,captureMatches)},TextModel.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},TextModel.prototype.pushEOL=function(eol){var currentEOL=this.getEOL()===`
`?0:1;if(currentEOL!==eol)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._commandManager.pushEOL(eol)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},TextModel.prototype.pushEditOperations=function(beforeCursorState,editOperations,cursorStateComputer){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(beforeCursorState,editOperations,cursorStateComputer)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},TextModel.prototype._pushEditOperations=function(beforeCursorState,editOperations,cursorStateComputer){var _this=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var incomingEdits=editOperations.map(function(op){return{range:_this.validateRange(op.range),text:op.text}}),editsAreNearCursors=!0,i=0,len=beforeCursorState.length;i<len;i++){for(var sel=beforeCursorState[i],foundEditNearSel=!1,j=0,lenJ=incomingEdits.length;j<lenJ;j++){var editRange=incomingEdits[j].range,selIsAbove=editRange.startLineNumber>sel.endLineNumber,selIsBelow=sel.startLineNumber>editRange.endLineNumber;if(!selIsAbove&&!selIsBelow){foundEditNearSel=!0;break}}if(!foundEditNearSel){editsAreNearCursors=!1;break}}if(editsAreNearCursors)for(var i=0,len=this._trimAutoWhitespaceLines.length;i<len;i++){for(var trimLineNumber=this._trimAutoWhitespaceLines[i],maxLineColumn=this.getLineMaxColumn(trimLineNumber),allowTrimLine=!0,j=0,lenJ=incomingEdits.length;j<lenJ;j++){var editRange=incomingEdits[j].range,editText=incomingEdits[j].text;if(!(trimLineNumber<editRange.startLineNumber||trimLineNumber>editRange.endLineNumber)&&!(trimLineNumber===editRange.startLineNumber&&editRange.startColumn===maxLineColumn&&editRange.isEmpty()&&editText&&editText.length>0&&editText.charAt(0)===`
`)&&!(trimLineNumber===editRange.startLineNumber&&editRange.startColumn===1&&editRange.isEmpty()&&editText&&editText.length>0&&editText.charAt(editText.length-1)===`
`)){allowTrimLine=!1;break}}allowTrimLine&&editOperations.push({range:new core_range.a(trimLineNumber,1,trimLineNumber,maxLineColumn),text:null})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(beforeCursorState,editOperations,cursorStateComputer)},TextModel.prototype.applyEdits=function(rawOperations){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._applyEdits(rawOperations)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},TextModel.prototype._applyEdits=function(rawOperations){for(var i=0,len=rawOperations.length;i<len;i++)rawOperations[i].range=this.validateRange(rawOperations[i].range);var oldLineCount=this._buffer.getLineCount(),result=this._buffer.applyEdits(rawOperations,this._options.trimAutoWhitespace),newLineCount=this._buffer.getLineCount(),contentChanges=result.changes;if(this._trimAutoWhitespaceLines=result.trimAutoWhitespaceLineNumbers,contentChanges.length!==0){for(var rawContentChanges=[],lineCount=oldLineCount,i=0,len=contentChanges.length;i<len;i++){var change=contentChanges[i],_a=Object(tokensStore.f)(change.text),eolCount=_a[0],firstLineLength=_a[1],lastLineLength=_a[2];this._tokens.acceptEdit(change.range,eolCount,firstLineLength),this._tokens2.acceptEdit(change.range,eolCount,firstLineLength,lastLineLength,change.text.length>0?change.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(change.rangeOffset,change.rangeLength,change.text.length,change.forceMoveMarkers);for(var startLineNumber=change.range.startLineNumber,endLineNumber=change.range.endLineNumber,deletingLinesCnt=endLineNumber-startLineNumber,insertingLinesCnt=eolCount,editingLinesCnt=Math.min(deletingLinesCnt,insertingLinesCnt),changeLineCountDelta=insertingLinesCnt-deletingLinesCnt,j=editingLinesCnt;j>=0;j--){var editLineNumber=startLineNumber+j,currentEditLineNumber=newLineCount-lineCount-changeLineCountDelta+editLineNumber;rawContentChanges.push(new ModelRawLineChanged(editLineNumber,this.getLineContent(currentEditLineNumber)))}if(editingLinesCnt<deletingLinesCnt){var spliceStartLineNumber=startLineNumber+editingLinesCnt;rawContentChanges.push(new ModelRawLinesDeleted(spliceStartLineNumber+1,endLineNumber))}if(editingLinesCnt<insertingLinesCnt){for(var spliceLineNumber=startLineNumber+editingLinesCnt,cnt=insertingLinesCnt-editingLinesCnt,fromLineNumber=newLineCount-lineCount-cnt+spliceLineNumber+1,newLines=[],i_1=0;i_1<cnt;i_1++){var lineNumber=fromLineNumber+i_1;newLines[lineNumber-fromLineNumber]=this.getLineContent(lineNumber)}rawContentChanges.push(new ModelRawLinesInserted(spliceLineNumber+1,startLineNumber+insertingLinesCnt,newLines))}lineCount+=changeLineCountDelta}this._increaseVersionId(),this._emitContentChangedEvent(new ModelRawContentChangedEvent(rawContentChanges,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:contentChanges,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return result.reverseEdits},TextModel.prototype._undo=function(){this._isUndoing=!0;var r=this._commandManager.undo();return this._isUndoing=!1,r?(this._overwriteAlternativeVersionId(r.recordedVersionId),r.selections):null},TextModel.prototype.undo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._undo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},TextModel.prototype.canUndo=function(){return this._commandManager.canUndo()},TextModel.prototype._redo=function(){this._isRedoing=!0;var r=this._commandManager.redo();return this._isRedoing=!1,r?(this._overwriteAlternativeVersionId(r.recordedVersionId),r.selections):null},TextModel.prototype.redo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._redo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},TextModel.prototype.canRedo=function(){return this._commandManager.canRedo()},TextModel.prototype.changeDecorations=function(callback,ownerId){ownerId===void 0&&(ownerId=0),this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(ownerId,callback)}finally{this._onDidChangeDecorations.endDeferredEmit()}},TextModel.prototype._changeDecorations=function(ownerId,callback){var _this=this,changeAccessor={addDecoration:function(range,options){return _this._onDidChangeDecorations.fire(),_this._deltaDecorationsImpl(ownerId,[],[{range,options}])[0]},changeDecoration:function(id,newRange){_this._onDidChangeDecorations.fire(),_this._changeDecorationImpl(id,newRange)},changeDecorationOptions:function(id,options){_this._onDidChangeDecorations.fire(),_this._changeDecorationOptionsImpl(id,_normalizeOptions(options))},removeDecoration:function(id){_this._onDidChangeDecorations.fire(),_this._deltaDecorationsImpl(ownerId,[id],[])},deltaDecorations:function(oldDecorations,newDecorations){return oldDecorations.length===0&&newDecorations.length===0?[]:(_this._onDidChangeDecorations.fire(),_this._deltaDecorationsImpl(ownerId,oldDecorations,newDecorations))}},result=null;try{result=callback(changeAccessor)}catch(e){Object(errors.e)(e)}return changeAccessor.addDecoration=invalidFunc,changeAccessor.changeDecoration=invalidFunc,changeAccessor.changeDecorationOptions=invalidFunc,changeAccessor.removeDecoration=invalidFunc,changeAccessor.deltaDecorations=invalidFunc,result},TextModel.prototype.deltaDecorations=function(oldDecorations,newDecorations,ownerId){if(ownerId===void 0&&(ownerId=0),this._assertNotDisposed(),oldDecorations||(oldDecorations=[]),oldDecorations.length===0&&newDecorations.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._deltaDecorationsImpl(ownerId,oldDecorations,newDecorations)}finally{this._onDidChangeDecorations.endDeferredEmit()}},TextModel.prototype._getTrackedRange=function(id){return this.getDecorationRange(id)},TextModel.prototype._setTrackedRange=function(id,newRange,newStickiness){var node=id?this._decorations[id]:null;if(!node)return newRange?this._deltaDecorationsImpl(0,[],[{range:newRange,options:TRACKED_RANGE_OPTIONS[newStickiness]}])[0]:null;if(!newRange)return this._decorationsTree.delete(node),delete this._decorations[node.id],null;var range=this._validateRangeRelaxedNoAllocations(newRange),startOffset=this._buffer.getOffsetAt(range.startLineNumber,range.startColumn),endOffset=this._buffer.getOffsetAt(range.endLineNumber,range.endColumn);return this._decorationsTree.delete(node),node.reset(this.getVersionId(),startOffset,endOffset,range),node.setOptions(TRACKED_RANGE_OPTIONS[newStickiness]),this._decorationsTree.insert(node),node.id},TextModel.prototype.removeAllDecorationsWithOwnerId=function(ownerId){if(!this._isDisposed)for(var nodes=this._decorationsTree.collectNodesFromOwner(ownerId),i=0,len=nodes.length;i<len;i++){var node=nodes[i];this._decorationsTree.delete(node),delete this._decorations[node.id]}},TextModel.prototype.getDecorationOptions=function(decorationId){var node=this._decorations[decorationId];return node?node.options:null},TextModel.prototype.getDecorationRange=function(decorationId){var node=this._decorations[decorationId];if(!node)return null;var versionId=this.getVersionId();return node.cachedVersionId!==versionId&&this._decorationsTree.resolveNode(node,versionId),node.range===null&&(node.range=this._getRangeAt(node.cachedAbsoluteStart,node.cachedAbsoluteEnd)),node.range},TextModel.prototype.getLineDecorations=function(lineNumber,ownerId,filterOutValidation){return ownerId===void 0&&(ownerId=0),filterOutValidation===void 0&&(filterOutValidation=!1),lineNumber<1||lineNumber>this.getLineCount()?[]:this.getLinesDecorations(lineNumber,lineNumber,ownerId,filterOutValidation)},TextModel.prototype.getLinesDecorations=function(_startLineNumber,_endLineNumber,ownerId,filterOutValidation){ownerId===void 0&&(ownerId=0),filterOutValidation===void 0&&(filterOutValidation=!1);var lineCount=this.getLineCount(),startLineNumber=Math.min(lineCount,Math.max(1,_startLineNumber)),endLineNumber=Math.min(lineCount,Math.max(1,_endLineNumber)),endColumn=this.getLineMaxColumn(endLineNumber);return this._getDecorationsInRange(new core_range.a(startLineNumber,1,endLineNumber,endColumn),ownerId,filterOutValidation)},TextModel.prototype.getDecorationsInRange=function(range,ownerId,filterOutValidation){ownerId===void 0&&(ownerId=0),filterOutValidation===void 0&&(filterOutValidation=!1);var validatedRange=this.validateRange(range);return this._getDecorationsInRange(validatedRange,ownerId,filterOutValidation)},TextModel.prototype.getOverviewRulerDecorations=function(ownerId,filterOutValidation){ownerId===void 0&&(ownerId=0),filterOutValidation===void 0&&(filterOutValidation=!1);var versionId=this.getVersionId(),result=this._decorationsTree.search(ownerId,filterOutValidation,!0,versionId);return this._ensureNodesHaveRanges(result)},TextModel.prototype.getAllDecorations=function(ownerId,filterOutValidation){ownerId===void 0&&(ownerId=0),filterOutValidation===void 0&&(filterOutValidation=!1);var versionId=this.getVersionId(),result=this._decorationsTree.search(ownerId,filterOutValidation,!1,versionId);return this._ensureNodesHaveRanges(result)},TextModel.prototype._getDecorationsInRange=function(filterRange,filterOwnerId,filterOutValidation){var startOffset=this._buffer.getOffsetAt(filterRange.startLineNumber,filterRange.startColumn),endOffset=this._buffer.getOffsetAt(filterRange.endLineNumber,filterRange.endColumn),versionId=this.getVersionId(),result=this._decorationsTree.intervalSearch(startOffset,endOffset,filterOwnerId,filterOutValidation,versionId);return this._ensureNodesHaveRanges(result)},TextModel.prototype._ensureNodesHaveRanges=function(nodes){for(var i=0,len=nodes.length;i<len;i++){var node=nodes[i];node.range===null&&(node.range=this._getRangeAt(node.cachedAbsoluteStart,node.cachedAbsoluteEnd))}return nodes},TextModel.prototype._getRangeAt=function(start,end){return this._buffer.getRangeAt(start,end-start)},TextModel.prototype._changeDecorationImpl=function(decorationId,_range){var node=this._decorations[decorationId];if(node){var range=this._validateRangeRelaxedNoAllocations(_range),startOffset=this._buffer.getOffsetAt(range.startLineNumber,range.startColumn),endOffset=this._buffer.getOffsetAt(range.endLineNumber,range.endColumn);this._decorationsTree.delete(node),node.reset(this.getVersionId(),startOffset,endOffset,range),this._decorationsTree.insert(node)}},TextModel.prototype._changeDecorationOptionsImpl=function(decorationId,options){var node=this._decorations[decorationId];if(node){var nodeWasInOverviewRuler=!!(node.options.overviewRuler&&node.options.overviewRuler.color),nodeIsInOverviewRuler=!!(options.overviewRuler&&options.overviewRuler.color);nodeWasInOverviewRuler!==nodeIsInOverviewRuler?(this._decorationsTree.delete(node),node.setOptions(options),this._decorationsTree.insert(node)):node.setOptions(options)}},TextModel.prototype._deltaDecorationsImpl=function(ownerId,oldDecorationsIds,newDecorations){for(var versionId=this.getVersionId(),oldDecorationsLen=oldDecorationsIds.length,oldDecorationIndex=0,newDecorationsLen=newDecorations.length,newDecorationIndex=0,result=new Array(newDecorationsLen);oldDecorationIndex<oldDecorationsLen||newDecorationIndex<newDecorationsLen;){var node=null;if(oldDecorationIndex<oldDecorationsLen){do node=this._decorations[oldDecorationsIds[oldDecorationIndex++]];while(!node&&oldDecorationIndex<oldDecorationsLen);node&&this._decorationsTree.delete(node)}if(newDecorationIndex<newDecorationsLen){if(!node){var internalDecorationId=++this._lastDecorationId,decorationId=this._instanceId+";"+internalDecorationId;node=new IntervalNode(decorationId,0,0),this._decorations[decorationId]=node}var newDecoration=newDecorations[newDecorationIndex],range=this._validateRangeRelaxedNoAllocations(newDecoration.range),options=_normalizeOptions(newDecoration.options),startOffset=this._buffer.getOffsetAt(range.startLineNumber,range.startColumn),endOffset=this._buffer.getOffsetAt(range.endLineNumber,range.endColumn);node.ownerId=ownerId,node.reset(versionId,startOffset,endOffset,range),node.setOptions(options),this._decorationsTree.insert(node),result[newDecorationIndex]=node.id,newDecorationIndex++}else node&&delete this._decorations[node.id]}return result},TextModel.prototype.setLineTokens=function(lineNumber,tokens){if(lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokens.setTokens(this._languageIdentifier.id,lineNumber-1,this._buffer.getLineLength(lineNumber),tokens)},TextModel.prototype.setTokens=function(tokens){if(tokens.length!==0){for(var ranges=[],i=0,len=tokens.length;i<len;i++){var element=tokens[i];ranges.push({fromLineNumber:element.startLineNumber,toLineNumber:element.startLineNumber+element.tokens.length-1});for(var j=0,lenJ=element.tokens.length;j<lenJ;j++)this.setLineTokens(element.startLineNumber+j,element.tokens[j])}this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges})}},TextModel.prototype.setSemanticTokens=function(tokens){this._tokens2.set(tokens),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})},TextModel.prototype.tokenizeViewport=function(startLineNumber,endLineNumber){startLineNumber=Math.max(1,startLineNumber),endLineNumber=Math.min(this._buffer.getLineCount(),endLineNumber),this._tokenization.tokenizeViewport(startLineNumber,endLineNumber)},TextModel.prototype.clearTokens=function(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})},TextModel.prototype._emitModelTokensChangedEvent=function(e){this._isDisposing||this._onDidChangeTokens.fire(e)},TextModel.prototype.resetTokenization=function(){this._tokenization.reset()},TextModel.prototype.forceTokenization=function(lineNumber){if(lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(lineNumber)},TextModel.prototype.isCheapToTokenize=function(lineNumber){return this._tokenization.isCheapToTokenize(lineNumber)},TextModel.prototype.tokenizeIfCheap=function(lineNumber){this.isCheapToTokenize(lineNumber)&&this.forceTokenization(lineNumber)},TextModel.prototype.getLineTokens=function(lineNumber){if(lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(lineNumber)},TextModel.prototype._getLineTokens=function(lineNumber){var lineText=this.getLineContent(lineNumber),syntacticTokens=this._tokens.getTokens(this._languageIdentifier.id,lineNumber-1,lineText);return this._tokens2.addSemanticTokens(lineNumber,syntacticTokens)},TextModel.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},TextModel.prototype.getModeId=function(){return this._languageIdentifier.language},TextModel.prototype.setMode=function(languageIdentifier){if(this._languageIdentifier.id!==languageIdentifier.id){var e={oldLanguage:this._languageIdentifier.language,newLanguage:languageIdentifier.language};this._languageIdentifier=languageIdentifier,this._onDidChangeLanguage.fire(e),this._onDidChangeLanguageConfiguration.fire({})}},TextModel.prototype.getLanguageIdAtPosition=function(lineNumber,column){var position=this.validatePosition(new core_position.a(lineNumber,column)),lineTokens=this.getLineTokens(position.lineNumber);return lineTokens.getLanguageId(lineTokens.findTokenIndexAtOffset(position.column-1))},TextModel.prototype.getWordAtPosition=function(_position){this._assertNotDisposed();var position=this.validatePosition(_position),lineContent=this.getLineContent(position.lineNumber),lineTokens=this._getLineTokens(position.lineNumber),tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),_a=TextModel._findLanguageBoundaries(lineTokens,tokenIndex),rbStartOffset=_a[0],rbEndOffset=_a[1],rightBiasedWord=Object(wordHelper.d)(position.column,languageConfigurationRegistry.a.getWordDefinition(lineTokens.getLanguageId(tokenIndex)),lineContent.substring(rbStartOffset,rbEndOffset),rbStartOffset);if(rightBiasedWord&&rightBiasedWord.startColumn<=_position.column&&_position.column<=rightBiasedWord.endColumn)return rightBiasedWord;if(tokenIndex>0&&rbStartOffset===position.column-1){var _b=TextModel._findLanguageBoundaries(lineTokens,tokenIndex-1),lbStartOffset=_b[0],lbEndOffset=_b[1],leftBiasedWord=Object(wordHelper.d)(position.column,languageConfigurationRegistry.a.getWordDefinition(lineTokens.getLanguageId(tokenIndex-1)),lineContent.substring(lbStartOffset,lbEndOffset),lbStartOffset);if(leftBiasedWord&&leftBiasedWord.startColumn<=_position.column&&_position.column<=leftBiasedWord.endColumn)return leftBiasedWord}return null},TextModel._findLanguageBoundaries=function(lineTokens,tokenIndex){for(var languageId=lineTokens.getLanguageId(tokenIndex),startOffset=0,i=tokenIndex;i>=0&&lineTokens.getLanguageId(i)===languageId;i--)startOffset=lineTokens.getStartOffset(i);for(var endOffset=lineTokens.getLineContent().length,i=tokenIndex,tokenCount=lineTokens.getCount();i<tokenCount&&lineTokens.getLanguageId(i)===languageId;i++)endOffset=lineTokens.getEndOffset(i);return[startOffset,endOffset]},TextModel.prototype.getWordUntilPosition=function(position){var wordAtPosition=this.getWordAtPosition(position);return wordAtPosition?{word:wordAtPosition.word.substr(0,position.column-wordAtPosition.startColumn),startColumn:wordAtPosition.startColumn,endColumn:position.column}:{word:"",startColumn:position.column,endColumn:position.column}},TextModel.prototype.findMatchingBracketUp=function(_bracket,_position){var bracket=_bracket.toLowerCase(),position=this.validatePosition(_position),lineTokens=this._getLineTokens(position.lineNumber),languageId=lineTokens.getLanguageId(lineTokens.findTokenIndexAtOffset(position.column-1)),bracketsSupport=languageConfigurationRegistry.a.getBracketsSupport(languageId);if(!bracketsSupport)return null;var data=bracketsSupport.textIsBracket[bracket];return data?this._findMatchingBracketUp(data,position):null},TextModel.prototype.matchBracket=function(position){return this._matchBracket(this.validatePosition(position))},TextModel.prototype._matchBracket=function(position){var lineNumber=position.lineNumber,lineTokens=this._getLineTokens(lineNumber),lineText=this._buffer.getLineContent(lineNumber),tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1);if(tokenIndex<0)return null;var currentModeBrackets=languageConfigurationRegistry.a.getBracketsSupport(lineTokens.getLanguageId(tokenIndex));if(currentModeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex))){for(var searchStartOffset=Math.max(0,position.column-1-currentModeBrackets.maxBracketLength),searchEndOffset=Math.min(lineText.length,position.column-1+currentModeBrackets.maxBracketLength),bestResult=null;;){var foundBracket=richEditBrackets.a.findNextBracketInRange(currentModeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(!foundBracket)break;if(foundBracket.startColumn<=position.column&&position.column<=foundBracket.endColumn){var foundBracketText=lineText.substring(foundBracket.startColumn-1,foundBracket.endColumn-1).toLowerCase(),r=this._matchFoundBracket(foundBracket,currentModeBrackets.textIsBracket[foundBracketText],currentModeBrackets.textIsOpenBracket[foundBracketText]);r&&(bestResult=r)}searchStartOffset=foundBracket.endColumn-1}if(bestResult)return bestResult}if(tokenIndex>0&&lineTokens.getStartOffset(tokenIndex)===position.column-1){var prevTokenIndex=tokenIndex-1,prevModeBrackets=languageConfigurationRegistry.a.getBracketsSupport(lineTokens.getLanguageId(prevTokenIndex));if(prevModeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(prevTokenIndex))){var searchStartOffset=Math.max(0,position.column-1-prevModeBrackets.maxBracketLength),searchEndOffset=Math.min(lineText.length,position.column-1+prevModeBrackets.maxBracketLength),foundBracket=richEditBrackets.a.findPrevBracketInRange(prevModeBrackets.reversedRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(foundBracket&&foundBracket.startColumn<=position.column&&position.column<=foundBracket.endColumn){var foundBracketText=lineText.substring(foundBracket.startColumn-1,foundBracket.endColumn-1).toLowerCase(),r=this._matchFoundBracket(foundBracket,prevModeBrackets.textIsBracket[foundBracketText],prevModeBrackets.textIsOpenBracket[foundBracketText]);if(r)return r}}}return null},TextModel.prototype._matchFoundBracket=function(foundBracket,data,isOpen){if(!data)return null;if(isOpen){var matched=this._findMatchingBracketDown(data,foundBracket.getEndPosition());if(matched)return[foundBracket,matched]}else{var matched=this._findMatchingBracketUp(data,foundBracket.getStartPosition());if(matched)return[foundBracket,matched]}return null},TextModel.prototype._findMatchingBracketUp=function(bracket,position){for(var languageId=bracket.languageIdentifier.id,reversedBracketRegex=bracket.reversedRegex,count=-1,searchPrevMatchingBracketInRange=function(lineNumber2,lineText2,searchStartOffset2,searchEndOffset2){for(;;){var r2=richEditBrackets.a.findPrevBracketInRange(reversedBracketRegex,lineNumber2,lineText2,searchStartOffset2,searchEndOffset2);if(!r2)break;var hitText=lineText2.substring(r2.startColumn-1,r2.endColumn-1).toLowerCase();if(bracket.isOpen(hitText)?count++:bracket.isClose(hitText)&&count--,count===0)return r2;searchEndOffset2=r2.startColumn-1}return null},lineNumber=position.lineNumber;lineNumber>=1;lineNumber--){var lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber),tokenIndex=tokenCount-1,searchStartOffset=lineText.length,searchEndOffset=lineText.length;lineNumber===position.lineNumber&&(tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1);for(var prevSearchInToken=!0;tokenIndex>=0;tokenIndex--){var searchInToken=lineTokens.getLanguageId(tokenIndex)===languageId&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken?searchStartOffset=lineTokens.getStartOffset(tokenIndex):(searchStartOffset=lineTokens.getStartOffset(tokenIndex),searchEndOffset=lineTokens.getEndOffset(tokenIndex));else if(prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=searchPrevMatchingBracketInRange(lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}prevSearchInToken=searchInToken}if(prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=searchPrevMatchingBracketInRange(lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}}return null},TextModel.prototype._findMatchingBracketDown=function(bracket,position){for(var languageId=bracket.languageIdentifier.id,bracketRegex=bracket.forwardRegex,count=1,searchNextMatchingBracketInRange=function(lineNumber2,lineText2,searchStartOffset2,searchEndOffset2){for(;;){var r2=richEditBrackets.a.findNextBracketInRange(bracketRegex,lineNumber2,lineText2,searchStartOffset2,searchEndOffset2);if(!r2)break;var hitText=lineText2.substring(r2.startColumn-1,r2.endColumn-1).toLowerCase();if(bracket.isOpen(hitText)?count++:bracket.isClose(hitText)&&count--,count===0)return r2;searchStartOffset2=r2.endColumn-1}return null},lineCount=this.getLineCount(),lineNumber=position.lineNumber;lineNumber<=lineCount;lineNumber++){var lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber),tokenIndex=0,searchStartOffset=0,searchEndOffset=0;lineNumber===position.lineNumber&&(tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1);for(var prevSearchInToken=!0;tokenIndex<tokenCount;tokenIndex++){var searchInToken=lineTokens.getLanguageId(tokenIndex)===languageId&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken||(searchStartOffset=lineTokens.getStartOffset(tokenIndex)),searchEndOffset=lineTokens.getEndOffset(tokenIndex);else if(prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=searchNextMatchingBracketInRange(lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}prevSearchInToken=searchInToken}if(prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=searchNextMatchingBracketInRange(lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}}return null},TextModel.prototype.findPrevBracket=function(_position){for(var position=this.validatePosition(_position),languageId=-1,modeBrackets=null,lineNumber=position.lineNumber;lineNumber>=1;lineNumber--){var lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber),tokenIndex=tokenCount-1,searchStartOffset=lineText.length,searchEndOffset=lineText.length;if(lineNumber===position.lineNumber){tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1;var tokenLanguageId=lineTokens.getLanguageId(tokenIndex);languageId!==tokenLanguageId&&(languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId))}for(var prevSearchInToken=!0;tokenIndex>=0;tokenIndex--){var tokenLanguageId=lineTokens.getLanguageId(tokenIndex);if(languageId!==tokenLanguageId){if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=richEditBrackets.a.findPrevBracketInRange(modeBrackets.reversedRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r);prevSearchInToken=!1}languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId)}var searchInToken=!!modeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken?searchStartOffset=lineTokens.getStartOffset(tokenIndex):(searchStartOffset=lineTokens.getStartOffset(tokenIndex),searchEndOffset=lineTokens.getEndOffset(tokenIndex));else if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=richEditBrackets.a.findPrevBracketInRange(modeBrackets.reversedRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r)}prevSearchInToken=searchInToken}if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=richEditBrackets.a.findPrevBracketInRange(modeBrackets.reversedRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r)}}return null},TextModel.prototype.findNextBracket=function(_position){for(var position=this.validatePosition(_position),lineCount=this.getLineCount(),languageId=-1,modeBrackets=null,lineNumber=position.lineNumber;lineNumber<=lineCount;lineNumber++){var lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber),tokenIndex=0,searchStartOffset=0,searchEndOffset=0;if(lineNumber===position.lineNumber){tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1;var tokenLanguageId=lineTokens.getLanguageId(tokenIndex);languageId!==tokenLanguageId&&(languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId))}for(var prevSearchInToken=!0;tokenIndex<tokenCount;tokenIndex++){var tokenLanguageId=lineTokens.getLanguageId(tokenIndex);if(languageId!==tokenLanguageId){if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=richEditBrackets.a.findNextBracketInRange(modeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r);prevSearchInToken=!1}languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId)}var searchInToken=!!modeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken||(searchStartOffset=lineTokens.getStartOffset(tokenIndex)),searchEndOffset=lineTokens.getEndOffset(tokenIndex);else if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=richEditBrackets.a.findNextBracketInRange(modeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r)}prevSearchInToken=searchInToken}if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=richEditBrackets.a.findNextBracketInRange(modeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r)}}return null},TextModel.prototype.findEnclosingBrackets=function(_position,maxDuration){var _this=this;maxDuration===void 0&&(maxDuration=1073741824);for(var position=this.validatePosition(_position),lineCount=this.getLineCount(),savedCounts=new Map,counts=[],resetCounts=function(languageId2,modeBrackets2){if(!savedCounts.has(languageId2)){for(var tmp=[],i=0,len=modeBrackets2?modeBrackets2.brackets.length:0;i<len;i++)tmp[i]=0;savedCounts.set(languageId2,tmp)}counts=savedCounts.get(languageId2)},searchInRange=function(modeBrackets2,lineNumber2,lineText2,searchStartOffset2,searchEndOffset2){for(;;){var r2=richEditBrackets.a.findNextBracketInRange(modeBrackets2.forwardRegex,lineNumber2,lineText2,searchStartOffset2,searchEndOffset2);if(!r2)break;var hitText=lineText2.substring(r2.startColumn-1,r2.endColumn-1).toLowerCase(),bracket=modeBrackets2.textIsBracket[hitText];if(bracket&&(bracket.isOpen(hitText)?counts[bracket.index]++:bracket.isClose(hitText)&&counts[bracket.index]--,counts[bracket.index]===-1))return _this._matchFoundBracket(r2,bracket,!1);searchStartOffset2=r2.endColumn-1}return null},languageId=-1,modeBrackets=null,startTime=Date.now(),lineNumber=position.lineNumber;lineNumber<=lineCount;lineNumber++){var elapsedTime=Date.now()-startTime;if(elapsedTime>maxDuration)return null;var lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber),tokenIndex=0,searchStartOffset=0,searchEndOffset=0;if(lineNumber===position.lineNumber){tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1;var tokenLanguageId=lineTokens.getLanguageId(tokenIndex);languageId!==tokenLanguageId&&(languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId),resetCounts(languageId,modeBrackets))}for(var prevSearchInToken=!0;tokenIndex<tokenCount;tokenIndex++){var tokenLanguageId=lineTokens.getLanguageId(tokenIndex);if(languageId!==tokenLanguageId){if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=searchInRange(modeBrackets,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r;prevSearchInToken=!1}languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId),resetCounts(languageId,modeBrackets)}var searchInToken=!!modeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken||(searchStartOffset=lineTokens.getStartOffset(tokenIndex)),searchEndOffset=lineTokens.getEndOffset(tokenIndex);else if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=searchInRange(modeBrackets,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}prevSearchInToken=searchInToken}if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){var r=searchInRange(modeBrackets,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}}return null},TextModel.prototype._toFoundBracket=function(modeBrackets,r){if(!r)return null;var text=this.getValueInRange(r);text=text.toLowerCase();var data=modeBrackets.textIsBracket[text];return data?{range:r,open:data.open,close:data.close,isOpen:modeBrackets.textIsOpenBracket[text]}:null},TextModel.computeIndentLevel=function(line,tabSize){for(var indent=0,i=0,len=line.length;i<len;){var chCode=line.charCodeAt(i);if(chCode===32)indent++;else if(chCode===9)indent=indent-indent%tabSize+tabSize;else break;i++}return i===len?-1:indent},TextModel.prototype._computeIndentLevel=function(lineIndex){return TextModel.computeIndentLevel(this._buffer.getLineContent(lineIndex+1),this._options.tabSize)},TextModel.prototype.getActiveIndentGuide=function(lineNumber,minLineNumber,maxLineNumber){var _this=this;this._assertNotDisposed();var lineCount=this.getLineCount();if(lineNumber<1||lineNumber>lineCount)throw new Error("Illegal value for lineNumber");for(var foldingRules=languageConfigurationRegistry.a.getFoldingRules(this._languageIdentifier.id),offSide=!!(foldingRules&&foldingRules.offSide),up_aboveContentLineIndex=-2,up_aboveContentLineIndent=-1,up_belowContentLineIndex=-2,up_belowContentLineIndent=-1,up_resolveIndents=function(lineNumber2){if(up_aboveContentLineIndex!==-1&&(up_aboveContentLineIndex===-2||up_aboveContentLineIndex>lineNumber2-1)){up_aboveContentLineIndex=-1,up_aboveContentLineIndent=-1;for(var lineIndex=lineNumber2-2;lineIndex>=0;lineIndex--){var indent_1=_this._computeIndentLevel(lineIndex);if(indent_1>=0){up_aboveContentLineIndex=lineIndex,up_aboveContentLineIndent=indent_1;break}}}if(up_belowContentLineIndex===-2){up_belowContentLineIndex=-1,up_belowContentLineIndent=-1;for(var lineIndex=lineNumber2;lineIndex<lineCount;lineIndex++){var indent_2=_this._computeIndentLevel(lineIndex);if(indent_2>=0){up_belowContentLineIndex=lineIndex,up_belowContentLineIndent=indent_2;break}}}},down_aboveContentLineIndex=-2,down_aboveContentLineIndent=-1,down_belowContentLineIndex=-2,down_belowContentLineIndent=-1,down_resolveIndents=function(lineNumber2){if(down_aboveContentLineIndex===-2){down_aboveContentLineIndex=-1,down_aboveContentLineIndent=-1;for(var lineIndex=lineNumber2-2;lineIndex>=0;lineIndex--){var indent_3=_this._computeIndentLevel(lineIndex);if(indent_3>=0){down_aboveContentLineIndex=lineIndex,down_aboveContentLineIndent=indent_3;break}}}if(down_belowContentLineIndex!==-1&&(down_belowContentLineIndex===-2||down_belowContentLineIndex<lineNumber2-1)){down_belowContentLineIndex=-1,down_belowContentLineIndent=-1;for(var lineIndex=lineNumber2;lineIndex<lineCount;lineIndex++){var indent_4=_this._computeIndentLevel(lineIndex);if(indent_4>=0){down_belowContentLineIndex=lineIndex,down_belowContentLineIndent=indent_4;break}}}},startLineNumber=0,goUp=!0,endLineNumber=0,goDown=!0,indent=0,distance=0;goUp||goDown;distance++){var upLineNumber=lineNumber-distance,downLineNumber=lineNumber+distance;if(distance!==0&&(upLineNumber<1||upLineNumber<minLineNumber)&&(goUp=!1),distance!==0&&(downLineNumber>lineCount||downLineNumber>maxLineNumber)&&(goDown=!1),distance>5e4&&(goUp=!1,goDown=!1),goUp){var upLineIndentLevel=void 0,currentIndent=this._computeIndentLevel(upLineNumber-1);if(currentIndent>=0?(up_belowContentLineIndex=upLineNumber-1,up_belowContentLineIndent=currentIndent,upLineIndentLevel=Math.ceil(currentIndent/this._options.indentSize)):(up_resolveIndents(upLineNumber),upLineIndentLevel=this._getIndentLevelForWhitespaceLine(offSide,up_aboveContentLineIndent,up_belowContentLineIndent)),distance===0){if(startLineNumber=upLineNumber,endLineNumber=downLineNumber,indent=upLineIndentLevel,indent===0)return{startLineNumber,endLineNumber,indent};continue}upLineIndentLevel>=indent?startLineNumber=upLineNumber:goUp=!1}if(goDown){var downLineIndentLevel=void 0,currentIndent=this._computeIndentLevel(downLineNumber-1);currentIndent>=0?(down_aboveContentLineIndex=downLineNumber-1,down_aboveContentLineIndent=currentIndent,downLineIndentLevel=Math.ceil(currentIndent/this._options.indentSize)):(down_resolveIndents(downLineNumber),downLineIndentLevel=this._getIndentLevelForWhitespaceLine(offSide,down_aboveContentLineIndent,down_belowContentLineIndent)),downLineIndentLevel>=indent?endLineNumber=downLineNumber:goDown=!1}}return{startLineNumber,endLineNumber,indent}},TextModel.prototype.getLinesIndentGuides=function(startLineNumber,endLineNumber){this._assertNotDisposed();var lineCount=this.getLineCount();if(startLineNumber<1||startLineNumber>lineCount)throw new Error("Illegal value for startLineNumber");if(endLineNumber<1||endLineNumber>lineCount)throw new Error("Illegal value for endLineNumber");for(var foldingRules=languageConfigurationRegistry.a.getFoldingRules(this._languageIdentifier.id),offSide=!!(foldingRules&&foldingRules.offSide),result=new Array(endLineNumber-startLineNumber+1),aboveContentLineIndex=-2,aboveContentLineIndent=-1,belowContentLineIndex=-2,belowContentLineIndent=-1,lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var resultIndex=lineNumber-startLineNumber,currentIndent=this._computeIndentLevel(lineNumber-1);if(currentIndent>=0){aboveContentLineIndex=lineNumber-1,aboveContentLineIndent=currentIndent,result[resultIndex]=Math.ceil(currentIndent/this._options.indentSize);continue}if(aboveContentLineIndex===-2){aboveContentLineIndex=-1,aboveContentLineIndent=-1;for(var lineIndex=lineNumber-2;lineIndex>=0;lineIndex--){var indent=this._computeIndentLevel(lineIndex);if(indent>=0){aboveContentLineIndex=lineIndex,aboveContentLineIndent=indent;break}}}if(belowContentLineIndex!==-1&&(belowContentLineIndex===-2||belowContentLineIndex<lineNumber-1)){belowContentLineIndex=-1,belowContentLineIndent=-1;for(var lineIndex=lineNumber;lineIndex<lineCount;lineIndex++){var indent=this._computeIndentLevel(lineIndex);if(indent>=0){belowContentLineIndex=lineIndex,belowContentLineIndent=indent;break}}}result[resultIndex]=this._getIndentLevelForWhitespaceLine(offSide,aboveContentLineIndent,belowContentLineIndent)}return result},TextModel.prototype._getIndentLevelForWhitespaceLine=function(offSide,aboveContentLineIndent,belowContentLineIndent){return aboveContentLineIndent===-1||belowContentLineIndent===-1?0:aboveContentLineIndent<belowContentLineIndent?1+Math.floor(aboveContentLineIndent/this._options.indentSize):aboveContentLineIndent===belowContentLineIndent?Math.ceil(belowContentLineIndent/this._options.indentSize):offSide?Math.ceil(belowContentLineIndent/this._options.indentSize):1+Math.floor(belowContentLineIndent/this._options.indentSize)},TextModel.MODEL_SYNC_LIMIT=50*1024*1024,TextModel.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,TextModel.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,TextModel.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:editorOptions.c.tabSize,indentSize:editorOptions.c.indentSize,insertSpaces:editorOptions.c.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:editorOptions.c.trimAutoWhitespace,largeFileOptimizations:editorOptions.c.largeFileOptimizations},TextModel}(lifecycle.a),textModel_DecorationsTrees=function(){function DecorationsTrees(){this._decorationsTree0=new IntervalTree,this._decorationsTree1=new IntervalTree}return DecorationsTrees.prototype.intervalSearch=function(start,end,filterOwnerId,filterOutValidation,cachedVersionId){var r0=this._decorationsTree0.intervalSearch(start,end,filterOwnerId,filterOutValidation,cachedVersionId),r1=this._decorationsTree1.intervalSearch(start,end,filterOwnerId,filterOutValidation,cachedVersionId);return r0.concat(r1)},DecorationsTrees.prototype.search=function(filterOwnerId,filterOutValidation,overviewRulerOnly,cachedVersionId){if(overviewRulerOnly)return this._decorationsTree1.search(filterOwnerId,filterOutValidation,cachedVersionId);var r0=this._decorationsTree0.search(filterOwnerId,filterOutValidation,cachedVersionId),r1=this._decorationsTree1.search(filterOwnerId,filterOutValidation,cachedVersionId);return r0.concat(r1)},DecorationsTrees.prototype.collectNodesFromOwner=function(ownerId){var r0=this._decorationsTree0.collectNodesFromOwner(ownerId),r1=this._decorationsTree1.collectNodesFromOwner(ownerId);return r0.concat(r1)},DecorationsTrees.prototype.collectNodesPostOrder=function(){var r0=this._decorationsTree0.collectNodesPostOrder(),r1=this._decorationsTree1.collectNodesPostOrder();return r0.concat(r1)},DecorationsTrees.prototype.insert=function(node){getNodeIsInOverviewRuler(node)?this._decorationsTree1.insert(node):this._decorationsTree0.insert(node)},DecorationsTrees.prototype.delete=function(node){getNodeIsInOverviewRuler(node)?this._decorationsTree1.delete(node):this._decorationsTree0.delete(node)},DecorationsTrees.prototype.resolveNode=function(node,cachedVersionId){getNodeIsInOverviewRuler(node)?this._decorationsTree1.resolveNode(node,cachedVersionId):this._decorationsTree0.resolveNode(node,cachedVersionId)},DecorationsTrees.prototype.acceptReplace=function(offset,length,textLength,forceMoveMarkers){this._decorationsTree0.acceptReplace(offset,length,textLength,forceMoveMarkers),this._decorationsTree1.acceptReplace(offset,length,textLength,forceMoveMarkers)},DecorationsTrees}();function cleanClassName(className){return className.replace(/[^a-z0-9\-_]/gi," ")}var DecorationOptions=function(){function DecorationOptions2(options){this.color=options.color||"",this.darkColor=options.darkColor||""}return DecorationOptions2}(),textModel_ModelDecorationOverviewRulerOptions=function(_super){textModel_extends(ModelDecorationOverviewRulerOptions,_super);function ModelDecorationOverviewRulerOptions(options){var _this=_super.call(this,options)||this;return _this._resolvedColor=null,_this.position=typeof options.position=="number"?options.position:model.d.Center,_this}return ModelDecorationOverviewRulerOptions.prototype.getColor=function(theme){return this._resolvedColor||(theme.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,theme):this._resolvedColor=this._resolveColor(this.color,theme)),this._resolvedColor},ModelDecorationOverviewRulerOptions.prototype.invalidateCachedColor=function(){this._resolvedColor=null},ModelDecorationOverviewRulerOptions.prototype._resolveColor=function(color,theme){if(typeof color=="string")return color;var c=color?theme.getColor(color.id):null;return c?c.toString():""},ModelDecorationOverviewRulerOptions}(DecorationOptions),textModel_ModelDecorationMinimapOptions=function(_super){textModel_extends(ModelDecorationMinimapOptions,_super);function ModelDecorationMinimapOptions(options){var _this=_super.call(this,options)||this;return _this.position=options.position,_this}return ModelDecorationMinimapOptions.prototype.getColor=function(theme){return this._resolvedColor||(theme.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,theme):this._resolvedColor=this._resolveColor(this.color,theme)),this._resolvedColor},ModelDecorationMinimapOptions.prototype.invalidateCachedColor=function(){this._resolvedColor=void 0},ModelDecorationMinimapOptions.prototype._resolveColor=function(color,theme){return typeof color=="string"?common_color.a.fromHex(color):theme.getColor(color.id)},ModelDecorationMinimapOptions}(DecorationOptions),textModel_ModelDecorationOptions=function(){function ModelDecorationOptions(options){this.stickiness=options.stickiness||0,this.zIndex=options.zIndex||0,this.className=options.className?cleanClassName(options.className):null,this.hoverMessage=Object(types.o)(options.hoverMessage),this.glyphMarginHoverMessage=Object(types.o)(options.glyphMarginHoverMessage),this.isWholeLine=options.isWholeLine||!1,this.showIfCollapsed=options.showIfCollapsed||!1,this.collapseOnReplaceEdit=options.collapseOnReplaceEdit||!1,this.overviewRuler=options.overviewRuler?new textModel_ModelDecorationOverviewRulerOptions(options.overviewRuler):null,this.minimap=options.minimap?new textModel_ModelDecorationMinimapOptions(options.minimap):null,this.glyphMarginClassName=options.glyphMarginClassName?cleanClassName(options.glyphMarginClassName):null,this.linesDecorationsClassName=options.linesDecorationsClassName?cleanClassName(options.linesDecorationsClassName):null,this.marginClassName=options.marginClassName?cleanClassName(options.marginClassName):null,this.inlineClassName=options.inlineClassName?cleanClassName(options.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=options.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=options.beforeContentClassName?cleanClassName(options.beforeContentClassName):null,this.afterContentClassName=options.afterContentClassName?cleanClassName(options.afterContentClassName):null}return ModelDecorationOptions.register=function(options){return new ModelDecorationOptions(options)},ModelDecorationOptions.createDynamic=function(options){return new ModelDecorationOptions(options)},ModelDecorationOptions}();textModel_ModelDecorationOptions.EMPTY=textModel_ModelDecorationOptions.register({});var TRACKED_RANGE_OPTIONS=[textModel_ModelDecorationOptions.register({stickiness:0}),textModel_ModelDecorationOptions.register({stickiness:1}),textModel_ModelDecorationOptions.register({stickiness:2}),textModel_ModelDecorationOptions.register({stickiness:3})];function _normalizeOptions(options){return options instanceof textModel_ModelDecorationOptions?options:textModel_ModelDecorationOptions.createDynamic(options)}var textModel_DidChangeDecorationsEmitter=function(_super){textModel_extends(DidChangeDecorationsEmitter,_super);function DidChangeDecorationsEmitter(){var _this=_super.call(this)||this;return _this._actual=_this._register(new common_event.a),_this.event=_this._actual.event,_this._deferredCnt=0,_this._shouldFire=!1,_this}return DidChangeDecorationsEmitter.prototype.beginDeferredEmit=function(){this._deferredCnt++},DidChangeDecorationsEmitter.prototype.endDeferredEmit=function(){this._deferredCnt--,this._deferredCnt===0&&this._shouldFire&&(this._shouldFire=!1,this._actual.fire({}))},DidChangeDecorationsEmitter.prototype.fire=function(){this._shouldFire=!0},DidChangeDecorationsEmitter}(lifecycle.a),textModel_DidChangeContentEmitter=function(_super){textModel_extends(DidChangeContentEmitter,_super);function DidChangeContentEmitter(){var _this=_super.call(this)||this;return _this._fastEmitter=_this._register(new common_event.a),_this.fastEvent=_this._fastEmitter.event,_this._slowEmitter=_this._register(new common_event.a),_this.slowEvent=_this._slowEmitter.event,_this._deferredCnt=0,_this._deferredEvent=null,_this}return DidChangeContentEmitter.prototype.beginDeferredEmit=function(){this._deferredCnt++},DidChangeContentEmitter.prototype.endDeferredEmit=function(){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){var e=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(e),this._slowEmitter.fire(e)}},DidChangeContentEmitter.prototype.fire=function(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)},DidChangeContentEmitter}(lifecycle.a)},2732:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ICodeEditorService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),ICodeEditorService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("codeEditorService")},2733:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return ICommandService}),__webpack_require__.d(__webpack_exports__,"a",function(){return CommandsRegistry});var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2033),_base_common_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2631),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2232),_base_common_event_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2106),_base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3232),_base_common_map_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2803),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},ICommandService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__.c)("commandService"),CommandsRegistry=new(function(){function class_1(){this._commands=new Map,this._onDidRegisterCommand=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a,this.onDidRegisterCommand=this._onDidRegisterCommand.event}return class_1.prototype.registerCommand=function(idOrCommand,handler){var _this=this;if(!idOrCommand)throw new Error("invalid command");if(typeof idOrCommand=="string"){if(!handler)throw new Error("invalid command");return this.registerCommand({id:idOrCommand,handler})}if(idOrCommand.description){for(var constraints_1=[],_i=0,_a=idOrCommand.description.args;_i<_a.length;_i++){var arg=_a[_i];constraints_1.push(arg.constraint)}var actualHandler_1=idOrCommand.handler;idOrCommand.handler=function(accessor){for(var args=[],_i2=1;_i2<arguments.length;_i2++)args[_i2-1]=arguments[_i2];return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_1__.m)(args,constraints_1),actualHandler_1.apply(void 0,__spreadArrays([accessor],args))}}var id=idOrCommand.id,commands=this._commands.get(id);commands||(commands=new _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_4__.a,this._commands.set(id,commands));var removeFn=commands.unshift(idOrCommand),ret=Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.h)(function(){var _a2;removeFn();var command=_this._commands.get(id);!((_a2=command)===null||_a2===void 0)&&_a2.isEmpty()&&_this._commands.delete(id)});return this._onDidRegisterCommand.fire(id),ret},class_1.prototype.registerCommandAlias=function(oldId,newId){return CommandsRegistry.registerCommand(oldId,function(accessor){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return(_a=accessor.get(ICommandService)).executeCommand.apply(_a,__spreadArrays([newId],args))})},class_1.prototype.getCommand=function(id){var list=this._commands.get(id);if(!(!list||list.isEmpty()))return list.iterator().next().value},class_1.prototype.getCommands=function(){for(var result=new Map,_i=0,_a=Object(_base_common_map_js__WEBPACK_IMPORTED_MODULE_5__.d)(this._commands);_i<_a.length;_i++){var key=_a[_i],command=this.getCommand(key);command&&result.set(key,command)}return result},class_1}())},2734:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return deepClone}),__webpack_require__.d(__webpack_exports__,"d",function(){return deepFreeze}),__webpack_require__.d(__webpack_exports__,"b",function(){return cloneAndChange}),__webpack_require__.d(__webpack_exports__,"g",function(){return mixin}),__webpack_require__.d(__webpack_exports__,"a",function(){return assign}),__webpack_require__.d(__webpack_exports__,"e",function(){return equals}),__webpack_require__.d(__webpack_exports__,"f",function(){return getOrDefault});var _types_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2631);function deepClone(obj){if(!obj||typeof obj!="object"||obj instanceof RegExp)return obj;var result=Array.isArray(obj)?[]:{};return Object.keys(obj).forEach(function(key){obj[key]&&typeof obj[key]=="object"?result[key]=deepClone(obj[key]):result[key]=obj[key]}),result}function deepFreeze(obj){if(!obj||typeof obj!="object")return obj;for(var stack=[obj];stack.length>0;){var obj_1=stack.shift();Object.freeze(obj_1);for(var key in obj_1)if(_hasOwnProperty.call(obj_1,key)){var prop=obj_1[key];typeof prop=="object"&&!Object.isFrozen(prop)&&stack.push(prop)}}return obj}var _hasOwnProperty=Object.prototype.hasOwnProperty;function cloneAndChange(obj,changer){return _cloneAndChange(obj,changer,new Set)}function _cloneAndChange(obj,changer,seen){if(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.l)(obj))return obj;var changed=changer(obj);if(typeof changed<"u")return changed;if(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.d)(obj)){for(var r1=[],_i=0,obj_2=obj;_i<obj_2.length;_i++){var e=obj_2[_i];r1.push(_cloneAndChange(e,changer,seen))}return r1}if(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(obj)){if(seen.has(obj))throw new Error("Cannot clone recursive data-structure");seen.add(obj);var r2={};for(var i2 in obj)_hasOwnProperty.call(obj,i2)&&(r2[i2]=_cloneAndChange(obj[i2],changer,seen));return seen.delete(obj),r2}return obj}function mixin(destination,source,overwrite){return overwrite===void 0&&(overwrite=!0),Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(destination)?(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(source)&&Object.keys(source).forEach(function(key){key in destination?overwrite&&(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(destination[key])&&Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(source[key])?mixin(destination[key],source[key],overwrite):destination[key]=source[key]):destination[key]=source[key]}),destination):source}function assign(destination){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];return sources.forEach(function(source){return Object.keys(source).forEach(function(key){return destination[key]=source[key]})}),destination}function equals(one,other){if(one===other)return!0;if(one==null||other===null||other===void 0||typeof one!=typeof other||typeof one!="object"||Array.isArray(one)!==Array.isArray(other))return!1;var i,key;if(Array.isArray(one)){if(one.length!==other.length)return!1;for(i=0;i<one.length;i++)if(!equals(one[i],other[i]))return!1}else{var oneKeys=[];for(key in one)oneKeys.push(key);oneKeys.sort();var otherKeys=[];for(key in other)otherKeys.push(key);if(otherKeys.sort(),!equals(oneKeys,otherKeys))return!1;for(i=0;i<oneKeys.length;i++)if(!equals(one[oneKeys[i]],other[oneKeys[i]]))return!1}return!0}function getOrDefault(obj,fn,defaultValue){var result=fn(obj);return typeof result>"u"?defaultValue:result}},2760:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IKeybindingService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IKeybindingService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("keybindingService")},2761:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return INotificationService}),__webpack_require__.d(__webpack_exports__,"b",function(){return NoOpNotification});var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3372),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2232),Severity=_base_common_severity_js__WEBPACK_IMPORTED_MODULE_0__.a,INotificationService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("notificationService"),NoOpNotification=function(){function NoOpNotification2(){}return NoOpNotification2}()},2768:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return KeyCodeUtils}),__webpack_require__.d(__webpack_exports__,"a",function(){return KeyChord}),__webpack_require__.d(__webpack_exports__,"f",function(){return createKeybinding}),__webpack_require__.d(__webpack_exports__,"e",function(){return SimpleKeybinding}),__webpack_require__.d(__webpack_exports__,"d",function(){return ResolvedKeybindingPart}),__webpack_require__.d(__webpack_exports__,"c",function(){return ResolvedKeybinding});var _errors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2176),KeyCodeStrMap=function(){function KeyCodeStrMap2(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return KeyCodeStrMap2.prototype.define=function(keyCode,str){this._keyCodeToStr[keyCode]=str,this._strToKeyCode[str.toLowerCase()]=keyCode},KeyCodeStrMap2.prototype.keyCodeToStr=function(keyCode){return this._keyCodeToStr[keyCode]},KeyCodeStrMap2.prototype.strToKeyCode=function(str){return this._strToKeyCode[str.toLowerCase()]||0},KeyCodeStrMap2}(),uiMap=new KeyCodeStrMap,userSettingsUSMap=new KeyCodeStrMap,userSettingsGeneralMap=new KeyCodeStrMap;(function(){function define(keyCode,uiLabel,usUserSettingsLabel,generalUserSettingsLabel){usUserSettingsLabel===void 0&&(usUserSettingsLabel=uiLabel),generalUserSettingsLabel===void 0&&(generalUserSettingsLabel=usUserSettingsLabel),uiMap.define(keyCode,uiLabel),userSettingsUSMap.define(keyCode,usUserSettingsLabel),userSettingsGeneralMap.define(keyCode,generalUserSettingsLabel)}define(0,"unknown"),define(1,"Backspace"),define(2,"Tab"),define(3,"Enter"),define(4,"Shift"),define(5,"Ctrl"),define(6,"Alt"),define(7,"PauseBreak"),define(8,"CapsLock"),define(9,"Escape"),define(10,"Space"),define(11,"PageUp"),define(12,"PageDown"),define(13,"End"),define(14,"Home"),define(15,"LeftArrow","Left"),define(16,"UpArrow","Up"),define(17,"RightArrow","Right"),define(18,"DownArrow","Down"),define(19,"Insert"),define(20,"Delete"),define(21,"0"),define(22,"1"),define(23,"2"),define(24,"3"),define(25,"4"),define(26,"5"),define(27,"6"),define(28,"7"),define(29,"8"),define(30,"9"),define(31,"A"),define(32,"B"),define(33,"C"),define(34,"D"),define(35,"E"),define(36,"F"),define(37,"G"),define(38,"H"),define(39,"I"),define(40,"J"),define(41,"K"),define(42,"L"),define(43,"M"),define(44,"N"),define(45,"O"),define(46,"P"),define(47,"Q"),define(48,"R"),define(49,"S"),define(50,"T"),define(51,"U"),define(52,"V"),define(53,"W"),define(54,"X"),define(55,"Y"),define(56,"Z"),define(57,"Meta"),define(58,"ContextMenu"),define(59,"F1"),define(60,"F2"),define(61,"F3"),define(62,"F4"),define(63,"F5"),define(64,"F6"),define(65,"F7"),define(66,"F8"),define(67,"F9"),define(68,"F10"),define(69,"F11"),define(70,"F12"),define(71,"F13"),define(72,"F14"),define(73,"F15"),define(74,"F16"),define(75,"F17"),define(76,"F18"),define(77,"F19"),define(78,"NumLock"),define(79,"ScrollLock"),define(80,";",";","OEM_1"),define(81,"=","=","OEM_PLUS"),define(82,",",",","OEM_COMMA"),define(83,"-","-","OEM_MINUS"),define(84,".",".","OEM_PERIOD"),define(85,"/","/","OEM_2"),define(86,"`","`","OEM_3"),define(110,"ABNT_C1"),define(111,"ABNT_C2"),define(87,"[","[","OEM_4"),define(88,"\\","\\","OEM_5"),define(89,"]","]","OEM_6"),define(90,"'","'","OEM_7"),define(91,"OEM_8"),define(92,"OEM_102"),define(93,"NumPad0"),define(94,"NumPad1"),define(95,"NumPad2"),define(96,"NumPad3"),define(97,"NumPad4"),define(98,"NumPad5"),define(99,"NumPad6"),define(100,"NumPad7"),define(101,"NumPad8"),define(102,"NumPad9"),define(103,"NumPad_Multiply"),define(104,"NumPad_Add"),define(105,"NumPad_Separator"),define(106,"NumPad_Subtract"),define(107,"NumPad_Decimal"),define(108,"NumPad_Divide")})();var KeyCodeUtils;(function(KeyCodeUtils2){function toString(keyCode){return uiMap.keyCodeToStr(keyCode)}KeyCodeUtils2.toString=toString;function fromString(key){return uiMap.strToKeyCode(key)}KeyCodeUtils2.fromString=fromString;function toUserSettingsUS(keyCode){return userSettingsUSMap.keyCodeToStr(keyCode)}KeyCodeUtils2.toUserSettingsUS=toUserSettingsUS;function toUserSettingsGeneral(keyCode){return userSettingsGeneralMap.keyCodeToStr(keyCode)}KeyCodeUtils2.toUserSettingsGeneral=toUserSettingsGeneral;function fromUserSettings(key){return userSettingsUSMap.strToKeyCode(key)||userSettingsGeneralMap.strToKeyCode(key)}KeyCodeUtils2.fromUserSettings=fromUserSettings})(KeyCodeUtils||(KeyCodeUtils={}));function KeyChord(firstPart,secondPart){var chordPart=(secondPart&65535)<<16>>>0;return(firstPart|chordPart)>>>0}function createKeybinding(keybinding,OS){if(keybinding===0)return null;var firstPart=(keybinding&65535)>>>0,chordPart=(keybinding&4294901760)>>>16;return chordPart!==0?new ChordKeybinding([createSimpleKeybinding(firstPart,OS),createSimpleKeybinding(chordPart,OS)]):new ChordKeybinding([createSimpleKeybinding(firstPart,OS)])}function createSimpleKeybinding(keybinding,OS){var ctrlCmd=!!(keybinding&2048),winCtrl=!!(keybinding&256),ctrlKey=OS===2?winCtrl:ctrlCmd,shiftKey=!!(keybinding&1024),altKey=!!(keybinding&512),metaKey=OS===2?ctrlCmd:winCtrl,keyCode=keybinding&255;return new SimpleKeybinding(ctrlKey,shiftKey,altKey,metaKey,keyCode)}var SimpleKeybinding=function(){function SimpleKeybinding2(ctrlKey,shiftKey,altKey,metaKey,keyCode){this.ctrlKey=ctrlKey,this.shiftKey=shiftKey,this.altKey=altKey,this.metaKey=metaKey,this.keyCode=keyCode}return SimpleKeybinding2.prototype.equals=function(other){return this.ctrlKey===other.ctrlKey&&this.shiftKey===other.shiftKey&&this.altKey===other.altKey&&this.metaKey===other.metaKey&&this.keyCode===other.keyCode},SimpleKeybinding2.prototype.isModifierKey=function(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4},SimpleKeybinding2.prototype.toChord=function(){return new ChordKeybinding([this])},SimpleKeybinding2.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57},SimpleKeybinding2}(),ChordKeybinding=function(){function ChordKeybinding2(parts){if(parts.length===0)throw Object(_errors_js__WEBPACK_IMPORTED_MODULE_0__.b)("parts");this.parts=parts}return ChordKeybinding2.prototype.equals=function(other){if(other===null||this.parts.length!==other.parts.length)return!1;for(var i=0;i<this.parts.length;i++)if(!this.parts[i].equals(other.parts[i]))return!1;return!0},ChordKeybinding2}(),ResolvedKeybindingPart=function(){function ResolvedKeybindingPart2(ctrlKey,shiftKey,altKey,metaKey,kbLabel,kbAriaLabel){this.ctrlKey=ctrlKey,this.shiftKey=shiftKey,this.altKey=altKey,this.metaKey=metaKey,this.keyLabel=kbLabel,this.keyAriaLabel=kbAriaLabel}return ResolvedKeybindingPart2}(),ResolvedKeybinding=function(){function ResolvedKeybinding2(){}return ResolvedKeybinding2}()},2784:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return MINIMAP_GUTTER_WIDTH}),__webpack_require__.d(__webpack_exports__,"a",function(){return ConfigurationChangedEvent}),__webpack_require__.d(__webpack_exports__,"h",function(){return ValidatedEditorOptions}),__webpack_require__.d(__webpack_exports__,"g",function(){return TextEditorCursorStyle}),__webpack_require__.d(__webpack_exports__,"d",function(){return EditorFontLigatures}),__webpack_require__.d(__webpack_exports__,"b",function(){return EDITOR_FONT_DEFAULTS}),__webpack_require__.d(__webpack_exports__,"c",function(){return EDITOR_MODEL_DEFAULTS}),__webpack_require__.d(__webpack_exports__,"i",function(){return editorOptionsRegistry}),__webpack_require__.d(__webpack_exports__,"e",function(){return EditorOptions});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2236),_model_wordHelper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3366),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},MINIMAP_GUTTER_WIDTH=8,ConfigurationChangedEvent=function(){function ConfigurationChangedEvent2(values){this._values=values}return ConfigurationChangedEvent2.prototype.hasChanged=function(id){return this._values[id]},ConfigurationChangedEvent2}(),ValidatedEditorOptions=function(){function ValidatedEditorOptions2(){this._values=[]}return ValidatedEditorOptions2.prototype._read=function(option){return this._values[option]},ValidatedEditorOptions2.prototype.get=function(id){return this._values[id]},ValidatedEditorOptions2.prototype._write=function(option,value){this._values[option]=value},ValidatedEditorOptions2}(),BaseEditorOption=function(){function BaseEditorOption2(id,name,defaultValue,schema){this.id=id,this.name=name,this.defaultValue=defaultValue,this.schema=schema}return BaseEditorOption2.prototype.compute=function(env,options,value){return value},BaseEditorOption2}(),ComputedEditorOption=function(){function ComputedEditorOption2(id,deps){deps===void 0&&(deps=null),this.schema=void 0,this.id=id,this.name="_never_",this.defaultValue=void 0,this.deps=deps}return ComputedEditorOption2.prototype.validate=function(input){return this.defaultValue},ComputedEditorOption2}(),SimpleEditorOption=function(){function SimpleEditorOption2(id,name,defaultValue,schema){this.id=id,this.name=name,this.defaultValue=defaultValue,this.schema=schema}return SimpleEditorOption2.prototype.validate=function(input){return typeof input>"u"?this.defaultValue:input},SimpleEditorOption2.prototype.compute=function(env,options,value){return value},SimpleEditorOption2}(),EditorBooleanOption=function(_super){__extends(EditorBooleanOption2,_super);function EditorBooleanOption2(id,name,defaultValue,schema){schema===void 0&&(schema=void 0);var _this=this;return typeof schema<"u"&&(schema.type="boolean",schema.default=defaultValue),_this=_super.call(this,id,name,defaultValue,schema)||this,_this}return EditorBooleanOption2.boolean=function(value,defaultValue){return typeof value>"u"?defaultValue:value==="false"?!1:!!value},EditorBooleanOption2.prototype.validate=function(input){return EditorBooleanOption2.boolean(input,this.defaultValue)},EditorBooleanOption2}(SimpleEditorOption),EditorIntOption=function(_super){__extends(EditorIntOption2,_super);function EditorIntOption2(id,name,defaultValue,minimum,maximum,schema){schema===void 0&&(schema=void 0);var _this=this;return typeof schema<"u"&&(schema.type="integer",schema.default=defaultValue,schema.minimum=minimum,schema.maximum=maximum),_this=_super.call(this,id,name,defaultValue,schema)||this,_this.minimum=minimum,_this.maximum=maximum,_this}return EditorIntOption2.clampedInt=function(value,defaultValue,minimum,maximum){var r;return typeof value>"u"?r=defaultValue:(r=parseInt(value,10),isNaN(r)&&(r=defaultValue)),r=Math.max(minimum,r),r=Math.min(maximum,r),r|0},EditorIntOption2.prototype.validate=function(input){return EditorIntOption2.clampedInt(input,this.defaultValue,this.minimum,this.maximum)},EditorIntOption2}(SimpleEditorOption),EditorFloatOption=function(_super){__extends(EditorFloatOption2,_super);function EditorFloatOption2(id,name,defaultValue,validationFn,schema){var _this=this;return typeof schema<"u"&&(schema.type="number",schema.default=defaultValue),_this=_super.call(this,id,name,defaultValue,schema)||this,_this.validationFn=validationFn,_this}return EditorFloatOption2.clamp=function(n,min,max){return n<min?min:n>max?max:n},EditorFloatOption2.float=function(value,defaultValue){if(typeof value=="number")return value;if(typeof value>"u")return defaultValue;var r=parseFloat(value);return isNaN(r)?defaultValue:r},EditorFloatOption2.prototype.validate=function(input){return this.validationFn(EditorFloatOption2.float(input,this.defaultValue))},EditorFloatOption2}(SimpleEditorOption),EditorStringOption=function(_super){__extends(EditorStringOption2,_super);function EditorStringOption2(id,name,defaultValue,schema){schema===void 0&&(schema=void 0);var _this=this;return typeof schema<"u"&&(schema.type="string",schema.default=defaultValue),_this=_super.call(this,id,name,defaultValue,schema)||this,_this}return EditorStringOption2.string=function(value,defaultValue){return typeof value!="string"?defaultValue:value},EditorStringOption2.prototype.validate=function(input){return EditorStringOption2.string(input,this.defaultValue)},EditorStringOption2}(SimpleEditorOption),EditorStringEnumOption=function(_super){__extends(EditorStringEnumOption2,_super);function EditorStringEnumOption2(id,name,defaultValue,allowedValues,schema){schema===void 0&&(schema=void 0);var _this=this;return typeof schema<"u"&&(schema.type="string",schema.enum=allowedValues,schema.default=defaultValue),_this=_super.call(this,id,name,defaultValue,schema)||this,_this._allowedValues=allowedValues,_this}return EditorStringEnumOption2.stringSet=function(value,defaultValue,allowedValues){return typeof value!="string"||allowedValues.indexOf(value)===-1?defaultValue:value},EditorStringEnumOption2.prototype.validate=function(input){return EditorStringEnumOption2.stringSet(input,this.defaultValue,this._allowedValues)},EditorStringEnumOption2}(SimpleEditorOption),EditorEnumOption=function(_super){__extends(EditorEnumOption2,_super);function EditorEnumOption2(id,name,defaultValue,defaultStringValue,allowedValues,convert,schema){schema===void 0&&(schema=void 0);var _this=this;return typeof schema<"u"&&(schema.type="string",schema.enum=allowedValues,schema.default=defaultStringValue),_this=_super.call(this,id,name,defaultValue,schema)||this,_this._allowedValues=allowedValues,_this._convert=convert,_this}return EditorEnumOption2.prototype.validate=function(input){return typeof input!="string"?this.defaultValue:this._allowedValues.indexOf(input)===-1?this.defaultValue:this._convert(input)},EditorEnumOption2}(BaseEditorOption);function _autoIndentFromString(autoIndent){switch(autoIndent){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var EditorAccessibilitySupport=function(_super){__extends(EditorAccessibilitySupport2,_super);function EditorAccessibilitySupport2(){return _super.call(this,2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")})||this}return EditorAccessibilitySupport2.prototype.validate=function(input){switch(input){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue},EditorAccessibilitySupport2.prototype.compute=function(env,options,value){return value===0?env.accessibilitySupport:value},EditorAccessibilitySupport2}(BaseEditorOption);function _cursorBlinkingStyleFromString(cursorBlinkingStyle){switch(cursorBlinkingStyle){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var TextEditorCursorStyle;(function(TextEditorCursorStyle2){TextEditorCursorStyle2[TextEditorCursorStyle2.Line=1]="Line",TextEditorCursorStyle2[TextEditorCursorStyle2.Block=2]="Block",TextEditorCursorStyle2[TextEditorCursorStyle2.Underline=3]="Underline",TextEditorCursorStyle2[TextEditorCursorStyle2.LineThin=4]="LineThin",TextEditorCursorStyle2[TextEditorCursorStyle2.BlockOutline=5]="BlockOutline",TextEditorCursorStyle2[TextEditorCursorStyle2.UnderlineThin=6]="UnderlineThin"})(TextEditorCursorStyle||(TextEditorCursorStyle={}));function _cursorStyleFromString(cursorStyle){switch(cursorStyle){case"line":return TextEditorCursorStyle.Line;case"block":return TextEditorCursorStyle.Block;case"underline":return TextEditorCursorStyle.Underline;case"line-thin":return TextEditorCursorStyle.LineThin;case"block-outline":return TextEditorCursorStyle.BlockOutline;case"underline-thin":return TextEditorCursorStyle.UnderlineThin}}var EditorClassName=function(_super){__extends(EditorClassName2,_super);function EditorClassName2(){return _super.call(this,100,[53,25])||this}return EditorClassName2.prototype.compute=function(env,options,_){var className="monaco-editor";return options.get(25)&&(className+=" "+options.get(25)),env.extraEditorClassName&&(className+=" "+env.extraEditorClassName),options.get(53)==="default"?className+=" mouse-default":options.get(53)==="copy"&&(className+=" mouse-copy"),options.get(81)&&(className+=" showUnused"),className},EditorClassName2}(ComputedEditorOption),EditorEmptySelectionClipboard=function(_super){__extends(EditorEmptySelectionClipboard2,_super);function EditorEmptySelectionClipboard2(){return _super.call(this,24,"emptySelectionClipboard",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})||this}return EditorEmptySelectionClipboard2.prototype.compute=function(env,options,value){return value&&env.emptySelectionClipboard},EditorEmptySelectionClipboard2}(EditorBooleanOption),EditorFind=function(_super){__extends(EditorFind2,_super);function EditorFind2(){var _this=this,defaults={seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0};return _this=_super.call(this,27,"find",defaults,{"editor.find.seedSearchStringFromSelection":{type:"boolean",default:defaults.seedSearchStringFromSelection,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:defaults.autoFindInSelection,enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.find.autoFindInSelection.never","Never turn on Find in selection automatically (default)"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.find.autoFindInSelection.always","Always turn on Find in selection automatically"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.find.autoFindInSelection.multiline","Turn on Find in selection automatically when multiple lines of content are selected.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.autoFindInSelection","Controls whether the find operation is carried out on selected text or the entire file in the editor.")},"editor.find.globalFindClipboard":{type:"boolean",default:defaults.globalFindClipboard,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.e},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:defaults.addExtraSpaceOnTop,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")}})||this,_this}return EditorFind2.prototype.validate=function(_input){if(typeof _input!="object")return this.defaultValue;var input=_input;return{seedSearchStringFromSelection:EditorBooleanOption.boolean(input.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof _input.autoFindInSelection=="boolean"?_input.autoFindInSelection?"always":"never":EditorStringEnumOption.stringSet(input.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:EditorBooleanOption.boolean(input.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:EditorBooleanOption.boolean(input.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop)}},EditorFind2}(BaseEditorOption),EditorFontLigatures=function(_super){__extends(EditorFontLigatures2,_super);function EditorFontLigatures2(){return _super.call(this,33,"fontLigatures",EditorFontLigatures2.OFF,{anyOf:[{type:"boolean",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontLigatures","Enables/Disables font ligatures.")},{type:"string",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontFeatureSettings","Explicit font-feature-settings.")}],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontLigaturesGeneral","Configures font ligatures."),default:!1})||this}return EditorFontLigatures2.prototype.validate=function(input){return typeof input>"u"?this.defaultValue:typeof input=="string"?input==="false"?EditorFontLigatures2.OFF:input==="true"?EditorFontLigatures2.ON:input:input?EditorFontLigatures2.ON:EditorFontLigatures2.OFF},EditorFontLigatures2.OFF='"liga" off, "calt" off',EditorFontLigatures2.ON='"liga" on, "calt" on',EditorFontLigatures2}(BaseEditorOption),EditorFontInfo=function(_super){__extends(EditorFontInfo2,_super);function EditorFontInfo2(){return _super.call(this,32)||this}return EditorFontInfo2.prototype.compute=function(env,options,_){return env.fontInfo},EditorFontInfo2}(ComputedEditorOption),EditorFontSize=function(_super){__extends(EditorFontSize2,_super);function EditorFontSize2(){return _super.call(this,34,"fontSize",EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:EDITOR_FONT_DEFAULTS.fontSize,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontSize","Controls the font size in pixels.")})||this}return EditorFontSize2.prototype.validate=function(input){var r=EditorFloatOption.float(input,this.defaultValue);return r===0?EDITOR_FONT_DEFAULTS.fontSize:EditorFloatOption.clamp(r,6,100)},EditorFontSize2.prototype.compute=function(env,options,value){return env.fontInfo.fontSize},EditorFontSize2}(SimpleEditorOption),EditorGoToLocation=function(_super){__extends(EditorGoToLocation2,_super);function EditorGoToLocation2(){var _this=this,defaults={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},jsonSubset={type:"string",enum:["peek","gotoAndPeek","goto"],default:defaults.multiple,enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]};return _this=_super.call(this,39,"gotoLocation",defaults,{"editor.gotoLocation.multiple":{deprecationMessage:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":__assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.multipleTypeDefinitions":__assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.multipleDeclarations":__assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.multipleImplementations":__assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.multipleReferences":__assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:defaults.alternativeDefinitionCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:defaults.alternativeTypeDefinitionCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:defaults.alternativeDeclarationCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:defaults.alternativeImplementationCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:defaults.alternativeReferenceCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})||this,_this}return EditorGoToLocation2.prototype.validate=function(_input){var _a,_b,_c,_d,_e;if(typeof _input!="object")return this.defaultValue;var input=_input;return{multiple:EditorStringEnumOption.stringSet(input.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(_a=input.multipleDefinitions,_a??EditorStringEnumOption.stringSet(input.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"])),multipleTypeDefinitions:(_b=input.multipleTypeDefinitions,_b??EditorStringEnumOption.stringSet(input.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"])),multipleDeclarations:(_c=input.multipleDeclarations,_c??EditorStringEnumOption.stringSet(input.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"])),multipleImplementations:(_d=input.multipleImplementations,_d??EditorStringEnumOption.stringSet(input.multipleImplementations,"peek",["peek","gotoAndPeek","goto"])),multipleReferences:(_e=input.multipleReferences,_e??EditorStringEnumOption.stringSet(input.multipleReferences,"peek",["peek","gotoAndPeek","goto"])),alternativeDefinitionCommand:EditorStringOption.string(input.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:EditorStringOption.string(input.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:EditorStringOption.string(input.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:EditorStringOption.string(input.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:EditorStringOption.string(input.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}},EditorGoToLocation2}(BaseEditorOption),EditorHover=function(_super){__extends(EditorHover2,_super);function EditorHover2(){var _this=this,defaults={enabled:!0,delay:300,sticky:!0};return _this=_super.call(this,42,"hover",defaults,{"editor.hover.enabled":{type:"boolean",default:defaults.enabled,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:defaults.delay,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:defaults.sticky,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")}})||this,_this}return EditorHover2.prototype.validate=function(_input){if(typeof _input!="object")return this.defaultValue;var input=_input;return{enabled:EditorBooleanOption.boolean(input.enabled,this.defaultValue.enabled),delay:EditorIntOption.clampedInt(input.delay,this.defaultValue.delay,0,1e4),sticky:EditorBooleanOption.boolean(input.sticky,this.defaultValue.sticky)}},EditorHover2}(BaseEditorOption),EditorLayoutInfoComputer=function(_super){__extends(EditorLayoutInfoComputer2,_super);function EditorLayoutInfoComputer2(){return _super.call(this,103,[38,46,29,52,74,48])||this}return EditorLayoutInfoComputer2.prototype.compute=function(env,options,_){return EditorLayoutInfoComputer2.computeLayout(options,{outerWidth:env.outerWidth,outerHeight:env.outerHeight,lineHeight:env.fontInfo.lineHeight,lineNumbersDigitCount:env.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:env.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:env.fontInfo.maxDigitWidth,pixelRatio:env.pixelRatio})},EditorLayoutInfoComputer2.computeLayout=function(options,env){var outerWidth=env.outerWidth|0,outerHeight=env.outerHeight|0,lineHeight=env.lineHeight|0,lineNumbersDigitCount=env.lineNumbersDigitCount|0,typicalHalfwidthCharacterWidth=env.typicalHalfwidthCharacterWidth,maxDigitWidth=env.maxDigitWidth,pixelRatio=env.pixelRatio,showGlyphMargin=options.get(38),showLineNumbers=options.get(48).renderType!==0,lineNumbersMinChars=options.get(49)|0,minimap=options.get(52),minimapEnabled=minimap.enabled,minimapSide=minimap.side,minimapRenderCharacters=minimap.renderCharacters,minimapScale=pixelRatio>=2?Math.round(minimap.scale*2):minimap.scale,minimapMaxColumn=minimap.maxColumn|0,scrollbar=options.get(74),verticalScrollbarWidth=scrollbar.verticalScrollbarSize|0,verticalScrollbarHasArrows=scrollbar.verticalHasArrows,scrollbarArrowSize=scrollbar.arrowSize|0,horizontalScrollbarHeight=scrollbar.horizontalScrollbarSize|0,rawLineDecorationsWidth=options.get(46),folding=options.get(29),lineDecorationsWidth;if(typeof rawLineDecorationsWidth=="string"&&/^\d+(\.\d+)?ch$/.test(rawLineDecorationsWidth)){var multiple=parseFloat(rawLineDecorationsWidth.substr(0,rawLineDecorationsWidth.length-2));lineDecorationsWidth=EditorIntOption.clampedInt(multiple*typicalHalfwidthCharacterWidth,0,0,1e3)}else lineDecorationsWidth=EditorIntOption.clampedInt(rawLineDecorationsWidth,0,0,1e3);folding&&(lineDecorationsWidth+=16);var lineNumbersWidth=0;if(showLineNumbers){var digitCount=Math.max(lineNumbersDigitCount,lineNumbersMinChars);lineNumbersWidth=Math.round(digitCount*maxDigitWidth)}var glyphMarginWidth=0;showGlyphMargin&&(glyphMarginWidth=lineHeight);var glyphMarginLeft=0,lineNumbersLeft=glyphMarginLeft+glyphMarginWidth,decorationsLeft=lineNumbersLeft+lineNumbersWidth,contentLeft=decorationsLeft+lineDecorationsWidth,remainingWidth=outerWidth-glyphMarginWidth-lineNumbersWidth-lineDecorationsWidth,renderMinimap,minimapLeft,minimapWidth,contentWidth;if(!minimapEnabled)minimapLeft=0,minimapWidth=0,renderMinimap=0,contentWidth=remainingWidth;else{var minimapCharWidth=minimapScale/pixelRatio;renderMinimap=minimapRenderCharacters?1:2,minimapWidth=Math.max(0,Math.floor((remainingWidth-verticalScrollbarWidth-2)*minimapCharWidth/(typicalHalfwidthCharacterWidth+minimapCharWidth)))+MINIMAP_GUTTER_WIDTH;var minimapColumns=minimapWidth/minimapCharWidth;minimapColumns>minimapMaxColumn&&(minimapWidth=Math.floor(minimapMaxColumn*minimapCharWidth)),contentWidth=remainingWidth-minimapWidth,minimapSide==="left"?(minimapLeft=0,glyphMarginLeft+=minimapWidth,lineNumbersLeft+=minimapWidth,decorationsLeft+=minimapWidth,contentLeft+=minimapWidth):minimapLeft=outerWidth-minimapWidth-verticalScrollbarWidth}var viewportColumn=Math.max(1,Math.floor((contentWidth-verticalScrollbarWidth-2)/typicalHalfwidthCharacterWidth)),verticalArrowSize=verticalScrollbarHasArrows?scrollbarArrowSize:0;return{width:outerWidth,height:outerHeight,glyphMarginLeft,glyphMarginWidth,glyphMarginHeight:outerHeight,lineNumbersLeft,lineNumbersWidth,lineNumbersHeight:outerHeight,decorationsLeft,decorationsWidth:lineDecorationsWidth,decorationsHeight:outerHeight,contentLeft,contentWidth,contentHeight:outerHeight,renderMinimap,minimapLeft,minimapWidth,viewportColumn,verticalScrollbarWidth,horizontalScrollbarHeight,overviewRuler:{top:verticalArrowSize,width:verticalScrollbarWidth,height:outerHeight-2*verticalArrowSize,right:0}}},EditorLayoutInfoComputer2}(ComputedEditorOption),EditorLightbulb=function(_super){__extends(EditorLightbulb2,_super);function EditorLightbulb2(){var _this=this,defaults={enabled:!0};return _this=_super.call(this,45,"lightbulb",defaults,{"editor.lightbulb.enabled":{type:"boolean",default:defaults.enabled,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("codeActions","Enables the code action lightbulb in the editor.")}})||this,_this}return EditorLightbulb2.prototype.validate=function(_input){if(typeof _input!="object")return this.defaultValue;var input=_input;return{enabled:EditorBooleanOption.boolean(input.enabled,this.defaultValue.enabled)}},EditorLightbulb2}(BaseEditorOption),EditorLineHeight=function(_super){__extends(EditorLineHeight2,_super);function EditorLineHeight2(){return _super.call(this,47,"lineHeight",EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")})||this}return EditorLineHeight2.prototype.compute=function(env,options,value){return env.fontInfo.lineHeight},EditorLineHeight2}(EditorIntOption),EditorMinimap=function(_super){__extends(EditorMinimap2,_super);function EditorMinimap2(){var _this=this,defaults={enabled:!0,side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};return _this=_super.call(this,52,"minimap",defaults,{"editor.minimap.enabled":{type:"boolean",default:defaults.enabled,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:defaults.side,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:defaults.showSlider,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:defaults.scale,minimum:1,maximum:3,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.scale","Scale of content drawn in the minimap.")},"editor.minimap.renderCharacters":{type:"boolean",default:defaults.renderCharacters,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:defaults.maxColumn,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})||this,_this}return EditorMinimap2.prototype.validate=function(_input){if(typeof _input!="object")return this.defaultValue;var input=_input;return{enabled:EditorBooleanOption.boolean(input.enabled,this.defaultValue.enabled),side:EditorStringEnumOption.stringSet(input.side,this.defaultValue.side,["right","left"]),showSlider:EditorStringEnumOption.stringSet(input.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:EditorBooleanOption.boolean(input.renderCharacters,this.defaultValue.renderCharacters),scale:EditorIntOption.clampedInt(input.scale,1,1,3),maxColumn:EditorIntOption.clampedInt(input.maxColumn,this.defaultValue.maxColumn,1,1e4)}},EditorMinimap2}(BaseEditorOption);function _multiCursorModifierFromString(multiCursorModifier){return multiCursorModifier==="ctrlCmd"?_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.e?"metaKey":"ctrlKey":"altKey"}var EditorParameterHints=function(_super){__extends(EditorParameterHints2,_super);function EditorParameterHints2(){var _this=this,defaults={enabled:!0,cycle:!1};return _this=_super.call(this,62,"parameterHints",defaults,{"editor.parameterHints.enabled":{type:"boolean",default:defaults.enabled,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:defaults.cycle,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})||this,_this}return EditorParameterHints2.prototype.validate=function(_input){if(typeof _input!="object")return this.defaultValue;var input=_input;return{enabled:EditorBooleanOption.boolean(input.enabled,this.defaultValue.enabled),cycle:EditorBooleanOption.boolean(input.cycle,this.defaultValue.cycle)}},EditorParameterHints2}(BaseEditorOption),EditorPixelRatio=function(_super){__extends(EditorPixelRatio2,_super);function EditorPixelRatio2(){return _super.call(this,101)||this}return EditorPixelRatio2.prototype.compute=function(env,options,_){return env.pixelRatio},EditorPixelRatio2}(ComputedEditorOption),EditorQuickSuggestions=function(_super){__extends(EditorQuickSuggestions2,_super);function EditorQuickSuggestions2(){var _this=this,defaults={other:!0,comments:!1,strings:!1};return _this=_super.call(this,63,"quickSuggestions",defaults,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:defaults.strings,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:defaults.comments,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:defaults.other,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:defaults,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestions","Controls whether suggestions should automatically show up while typing.")})||this,_this.defaultValue=defaults,_this}return EditorQuickSuggestions2.prototype.validate=function(_input){if(typeof _input=="boolean")return _input;if(typeof _input=="object"){var input=_input,opts={other:EditorBooleanOption.boolean(input.other,this.defaultValue.other),comments:EditorBooleanOption.boolean(input.comments,this.defaultValue.comments),strings:EditorBooleanOption.boolean(input.strings,this.defaultValue.strings)};return opts.other&&opts.comments&&opts.strings?!0:!opts.other&&!opts.comments&&!opts.strings?!1:opts}return this.defaultValue},EditorQuickSuggestions2}(BaseEditorOption),EditorRenderLineNumbersOption=function(_super){__extends(EditorRenderLineNumbersOption2,_super);function EditorRenderLineNumbersOption2(){return _super.call(this,48,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers.off","Line numbers are not rendered."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers.on","Line numbers are rendered as absolute number."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers","Controls the display of line numbers.")})||this}return EditorRenderLineNumbersOption2.prototype.validate=function(lineNumbers){var renderType=this.defaultValue.renderType,renderFn=this.defaultValue.renderFn;return typeof lineNumbers<"u"&&(typeof lineNumbers=="function"?(renderType=4,renderFn=lineNumbers):lineNumbers==="interval"?renderType=3:lineNumbers==="relative"?renderType=2:lineNumbers==="on"?renderType=1:renderType=0),{renderType,renderFn}},EditorRenderLineNumbersOption2}(BaseEditorOption),EditorRulers=function(_super){__extends(EditorRulers2,_super);function EditorRulers2(){var _this=this,defaults=[];return _this=_super.call(this,73,"rulers",defaults,{type:"array",items:{type:"number"},default:defaults,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})||this,_this}return EditorRulers2.prototype.validate=function(input){if(Array.isArray(input)){for(var rulers=[],_i=0,input_1=input;_i<input_1.length;_i++){var value=input_1[_i];rulers.push(EditorIntOption.clampedInt(value,0,0,1e4))}return rulers.sort(function(a,b){return a-b}),rulers}return this.defaultValue},EditorRulers2}(SimpleEditorOption);function _scrollbarVisibilityFromString(visibility,defaultValue){if(typeof visibility!="string")return defaultValue;switch(visibility){case"hidden":return 2;case"visible":return 3;default:return 1}}var EditorScrollbar=function(_super){__extends(EditorScrollbar2,_super);function EditorScrollbar2(){return _super.call(this,74,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0})||this}return EditorScrollbar2.prototype.validate=function(_input){if(typeof _input!="object")return this.defaultValue;var input=_input,horizontalScrollbarSize=EditorIntOption.clampedInt(input.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),verticalScrollbarSize=EditorIntOption.clampedInt(input.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:EditorIntOption.clampedInt(input.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:_scrollbarVisibilityFromString(input.vertical,this.defaultValue.vertical),horizontal:_scrollbarVisibilityFromString(input.horizontal,this.defaultValue.horizontal),useShadows:EditorBooleanOption.boolean(input.useShadows,this.defaultValue.useShadows),verticalHasArrows:EditorBooleanOption.boolean(input.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:EditorBooleanOption.boolean(input.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:EditorBooleanOption.boolean(input.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:EditorBooleanOption.boolean(input.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize,horizontalSliderSize:EditorIntOption.clampedInt(input.horizontalSliderSize,horizontalScrollbarSize,0,1e3),verticalScrollbarSize,verticalSliderSize:EditorIntOption.clampedInt(input.verticalSliderSize,verticalScrollbarSize,0,1e3)}},EditorScrollbar2}(BaseEditorOption),EditorSuggest=function(_super){__extends(EditorSuggest2,_super);function EditorSuggest2(){var _this=this,defaults={insertMode:"insert",insertHighlight:!1,filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,maxVisibleSuggestions:12,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0};return _this=_super.call(this,85,"suggest",defaults,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:defaults.insertMode,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.insertHighlight":{type:"boolean",default:defaults.insertHighlight,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.insertHighlight","Controls whether unexpected text modifications while accepting completions should be highlighted, e.g `insertMode` is `replace` but the completion only supports `insert`.")},"editor.suggest.filterGraceful":{type:"boolean",default:defaults.filterGraceful,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:defaults.localityBonus,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:defaults.shareSuggestSelections,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:defaults.snippetsPreventQuickSuggestions,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.snippetsPreventQuickSuggestions","Control whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:defaults.showIcons,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.maxVisibleSuggestions":{type:"number",default:defaults.maxVisibleSuggestions,minimum:1,maximum:15,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.maxVisibleSuggestions","Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")}})||this,_this}return EditorSuggest2.prototype.validate=function(_input){if(typeof _input!="object")return this.defaultValue;var input=_input;return{insertMode:EditorStringEnumOption.stringSet(input.insertMode,this.defaultValue.insertMode,["insert","replace"]),insertHighlight:EditorBooleanOption.boolean(input.insertHighlight,this.defaultValue.insertHighlight),filterGraceful:EditorBooleanOption.boolean(input.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:EditorBooleanOption.boolean(input.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:EditorBooleanOption.boolean(input.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:EditorBooleanOption.boolean(input.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:EditorBooleanOption.boolean(input.showIcons,this.defaultValue.showIcons),maxVisibleSuggestions:EditorIntOption.clampedInt(input.maxVisibleSuggestions,this.defaultValue.maxVisibleSuggestions,1,15),showMethods:EditorBooleanOption.boolean(input.showMethods,this.defaultValue.showMethods),showFunctions:EditorBooleanOption.boolean(input.showFunctions,this.defaultValue.showFunctions),showConstructors:EditorBooleanOption.boolean(input.showConstructors,this.defaultValue.showConstructors),showFields:EditorBooleanOption.boolean(input.showFields,this.defaultValue.showFields),showVariables:EditorBooleanOption.boolean(input.showVariables,this.defaultValue.showVariables),showClasses:EditorBooleanOption.boolean(input.showClasses,this.defaultValue.showClasses),showStructs:EditorBooleanOption.boolean(input.showStructs,this.defaultValue.showStructs),showInterfaces:EditorBooleanOption.boolean(input.showInterfaces,this.defaultValue.showInterfaces),showModules:EditorBooleanOption.boolean(input.showModules,this.defaultValue.showModules),showProperties:EditorBooleanOption.boolean(input.showProperties,this.defaultValue.showProperties),showEvents:EditorBooleanOption.boolean(input.showEvents,this.defaultValue.showEvents),showOperators:EditorBooleanOption.boolean(input.showOperators,this.defaultValue.showOperators),showUnits:EditorBooleanOption.boolean(input.showUnits,this.defaultValue.showUnits),showValues:EditorBooleanOption.boolean(input.showValues,this.defaultValue.showValues),showConstants:EditorBooleanOption.boolean(input.showConstants,this.defaultValue.showConstants),showEnums:EditorBooleanOption.boolean(input.showEnums,this.defaultValue.showEnums),showEnumMembers:EditorBooleanOption.boolean(input.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:EditorBooleanOption.boolean(input.showKeywords,this.defaultValue.showKeywords),showWords:EditorBooleanOption.boolean(input.showWords,this.defaultValue.showWords),showColors:EditorBooleanOption.boolean(input.showColors,this.defaultValue.showColors),showFiles:EditorBooleanOption.boolean(input.showFiles,this.defaultValue.showFiles),showReferences:EditorBooleanOption.boolean(input.showReferences,this.defaultValue.showReferences),showFolders:EditorBooleanOption.boolean(input.showFolders,this.defaultValue.showFolders),showTypeParameters:EditorBooleanOption.boolean(input.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:EditorBooleanOption.boolean(input.showSnippets,this.defaultValue.showSnippets)}},EditorSuggest2}(BaseEditorOption),EditorTabFocusMode=function(_super){__extends(EditorTabFocusMode2,_super);function EditorTabFocusMode2(){return _super.call(this,102,[65])||this}return EditorTabFocusMode2.prototype.compute=function(env,options,_){var readOnly=options.get(65);return readOnly?!0:env.tabFocusMode},EditorTabFocusMode2}(ComputedEditorOption);function _wrappingIndentFromString(wrappingIndent){switch(wrappingIndent){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}var EditorWrappingInfoComputer=function(_super){__extends(EditorWrappingInfoComputer2,_super);function EditorWrappingInfoComputer2(){return _super.call(this,104,[93,97,98,103,2])||this}return EditorWrappingInfoComputer2.prototype.compute=function(env,options,_){var wordWrap=options.get(93),wordWrapColumn=options.get(97),wordWrapMinified=options.get(98),layoutInfo=options.get(103),accessibilitySupport=options.get(2),bareWrappingInfo=null;return accessibilitySupport===2?bareWrappingInfo={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:wordWrapMinified&&env.isDominatedByLongLines?bareWrappingInfo={isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,layoutInfo.viewportColumn)}:wordWrap==="on"?bareWrappingInfo={isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,layoutInfo.viewportColumn)}:wordWrap==="bounded"?bareWrappingInfo={isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,layoutInfo.viewportColumn),wordWrapColumn)}:wordWrap==="wordWrapColumn"?bareWrappingInfo={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:wordWrapColumn}:bareWrappingInfo={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1},{isDominatedByLongLines:env.isDominatedByLongLines,isWordWrapMinified:bareWrappingInfo.isWordWrapMinified,isViewportWrapping:bareWrappingInfo.isViewportWrapping,wrappingColumn:bareWrappingInfo.wrappingColumn}},EditorWrappingInfoComputer2}(ComputedEditorOption),DEFAULT_WINDOWS_FONT_FAMILY="Consolas, 'Courier New', monospace",DEFAULT_MAC_FONT_FAMILY="Menlo, Monaco, 'Courier New', monospace",DEFAULT_LINUX_FONT_FAMILY="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",EDITOR_FONT_DEFAULTS={fontFamily:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.e?DEFAULT_MAC_FONT_FAMILY:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.d?DEFAULT_LINUX_FONT_FAMILY:DEFAULT_WINDOWS_FONT_FAMILY,fontWeight:"normal",fontSize:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.e?12:14,lineHeight:0,letterSpacing:0},EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},editorOptionsRegistry=[];function register(option){return editorOptionsRegistry[option.id]=option,option}var EditorOptions={acceptSuggestionOnCommitCharacter:register(new EditorBooleanOption(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:register(new EditorStringEnumOption(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:register(new EditorAccessibilitySupport),accessibilityPageSize:register(new EditorIntOption(3,"accessibilityPageSize",10,1,1073741824,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:register(new EditorStringOption(4,"ariaLabel",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:register(new EditorStringEnumOption(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingOvertype:register(new EditorStringEnumOption(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:register(new EditorStringEnumOption(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:register(new EditorEnumOption(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],_autoIndentFromString,{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.none","The editor will not insert indentation automatically."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.keep","The editor will keep the current line's indentation."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:register(new EditorBooleanOption(9,"automaticLayout",!1)),autoSurround:register(new EditorStringEnumOption(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoSurround.quotes","Surround with quotes but not brackets."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoSurround","Controls whether the editor should automatically surround selections.")})),codeLens:register(new EditorBooleanOption(11,"codeLens",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("codeLens","Controls whether the editor shows CodeLens.")})),colorDecorators:register(new EditorBooleanOption(12,"colorDecorators",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),contextmenu:register(new EditorBooleanOption(13,"contextmenu",!0)),copyWithSyntaxHighlighting:register(new EditorBooleanOption(14,"copyWithSyntaxHighlighting",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:register(new EditorEnumOption(15,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],_cursorBlinkingStyleFromString,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:register(new EditorBooleanOption(16,"cursorSmoothCaretAnimation",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:register(new EditorEnumOption(17,"cursorStyle",TextEditorCursorStyle.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],_cursorStyleFromString,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:register(new EditorIntOption(18,"cursorSurroundingLines",0,0,1073741824,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.")})),cursorSurroundingLinesStyle:register(new EditorStringEnumOption(19,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:register(new EditorIntOption(20,"cursorWidth",0,0,1073741824,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:register(new EditorBooleanOption(21,"disableLayerHinting",!1)),disableMonospaceOptimizations:register(new EditorBooleanOption(22,"disableMonospaceOptimizations",!1)),dragAndDrop:register(new EditorBooleanOption(23,"dragAndDrop",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:register(new EditorEmptySelectionClipboard),extraEditorClassName:register(new EditorStringOption(25,"extraEditorClassName","")),fastScrollSensitivity:register(new EditorFloatOption(26,"fastScrollSensitivity",5,function(x){return x<=0?5:x},{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:register(new EditorFind),fixedOverflowWidgets:register(new EditorBooleanOption(28,"fixedOverflowWidgets",!1)),folding:register(new EditorBooleanOption(29,"folding",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:register(new EditorStringEnumOption(30,"foldingStrategy","auto",["auto","indentation"],{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("foldingStrategy","Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.")})),fontFamily:register(new EditorStringOption(31,"fontFamily",EDITOR_FONT_DEFAULTS.fontFamily,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontFamily","Controls the font family.")})),fontInfo:register(new EditorFontInfo),fontLigatures2:register(new EditorFontLigatures),fontSize:register(new EditorFontSize),fontWeight:register(new EditorStringOption(35,"fontWeight",EDITOR_FONT_DEFAULTS.fontWeight,{enum:["normal","bold","100","200","300","400","500","600","700","800","900"],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontWeight","Controls the font weight.")})),formatOnPaste:register(new EditorBooleanOption(36,"formatOnPaste",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:register(new EditorBooleanOption(37,"formatOnType",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:register(new EditorBooleanOption(38,"glyphMargin",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:register(new EditorGoToLocation),hideCursorInOverviewRuler:register(new EditorBooleanOption(40,"hideCursorInOverviewRuler",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:register(new EditorBooleanOption(41,"highlightActiveIndentGuide",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")})),hover:register(new EditorHover),inDiffEditor:register(new EditorBooleanOption(43,"inDiffEditor",!1)),letterSpacing:register(new EditorFloatOption(44,"letterSpacing",EDITOR_FONT_DEFAULTS.letterSpacing,function(x){return EditorFloatOption.clamp(x,-5,20)},{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:register(new EditorLightbulb),lineDecorationsWidth:register(new SimpleEditorOption(46,"lineDecorationsWidth",10)),lineHeight:register(new EditorLineHeight),lineNumbers:register(new EditorRenderLineNumbersOption),lineNumbersMinChars:register(new EditorIntOption(49,"lineNumbersMinChars",5,1,300)),links:register(new EditorBooleanOption(50,"links",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:register(new EditorStringEnumOption(51,"matchBrackets","always",["always","near","never"],{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("matchBrackets","Highlight matching brackets.")})),minimap:register(new EditorMinimap),mouseStyle:register(new EditorStringEnumOption(53,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:register(new EditorFloatOption(54,"mouseWheelScrollSensitivity",1,function(x){return x===0?1:x},{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:register(new EditorBooleanOption(55,"mouseWheelZoom",!1,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:register(new EditorBooleanOption(56,"multiCursorMergeOverlapping",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:register(new EditorEnumOption(57,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],_multiCursorModifierFromString,{markdownEnumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:register(new EditorStringEnumOption(58,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorPaste.spread","Each cursor pastes a single line of the text."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:register(new EditorBooleanOption(59,"occurrencesHighlight",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:register(new EditorBooleanOption(60,"overviewRulerBorder",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:register(new EditorIntOption(61,"overviewRulerLanes",3,0,3)),parameterHints:register(new EditorParameterHints),quickSuggestions:register(new EditorQuickSuggestions),quickSuggestionsDelay:register(new EditorIntOption(64,"quickSuggestionsDelay",10,0,1073741824,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:register(new EditorBooleanOption(65,"readOnly",!1)),renderControlCharacters:register(new EditorBooleanOption(66,"renderControlCharacters",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderControlCharacters","Controls whether the editor should render control characters.")})),renderIndentGuides:register(new EditorBooleanOption(67,"renderIndentGuides",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderIndentGuides","Controls whether the editor should render indent guides.")})),renderFinalNewline:register(new EditorBooleanOption(68,"renderFinalNewline",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:register(new EditorStringEnumOption(69,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderWhitespace:register(new EditorStringEnumOption(70,"renderWhitespace","none",["none","boundary","selection","all"],{enumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderWhitespace.selection","Render whitespace characters only on selected text."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:register(new EditorIntOption(71,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:register(new EditorBooleanOption(72,"roundedSelection",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:register(new EditorRulers),scrollbar:register(new EditorScrollbar),scrollBeyondLastColumn:register(new EditorIntOption(75,"scrollBeyondLastColumn",5,0,1073741824,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:register(new EditorBooleanOption(76,"scrollBeyondLastLine",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),selectionClipboard:register(new EditorBooleanOption(77,"selectionClipboard",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.d})),selectionHighlight:register(new EditorBooleanOption(78,"selectionHighlight",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:register(new EditorBooleanOption(79,"selectOnLineNumbers",!0)),showFoldingControls:register(new EditorStringEnumOption(80,"showFoldingControls","mouseover",["always","mouseover"],{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showFoldingControls","Controls whether the fold controls on the gutter are automatically hidden.")})),showUnused:register(new EditorBooleanOption(81,"showUnused",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showUnused","Controls fading out of unused code.")})),snippetSuggestions:register(new EditorStringEnumOption(82,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions.none","Do not show snippet suggestions.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smoothScrolling:register(new EditorBooleanOption(83,"smoothScrolling",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:register(new EditorIntOption(84,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:register(new EditorSuggest),suggestFontSize:register(new EditorIntOption(86,"suggestFontSize",0,0,1e3,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:register(new EditorIntOption(87,"suggestLineHeight",0,0,1e3,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")})),suggestOnTriggerCharacters:register(new EditorBooleanOption(88,"suggestOnTriggerCharacters",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:register(new EditorStringEnumOption(89,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestSelection.first","Always select the first suggestion."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:register(new EditorStringEnumOption(90,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabCompletion.off","Disable tab completions."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabCompletion","Enables tab completions.")})),useTabStops:register(new EditorBooleanOption(91,"useTabStops",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:register(new EditorStringOption(92,"wordSeparators",_model_wordHelper_js__WEBPACK_IMPORTED_MODULE_2__.b,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:register(new EditorStringEnumOption(93,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordWrap.off","Lines will never wrap."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordWrap.on","Lines will wrap at the viewport width."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:register(new EditorStringOption(94,"wordWrapBreakAfterCharacters"," 	})]?|/&,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:register(new EditorStringOption(95,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapBreakObtrusiveCharacters:register(new EditorStringOption(96,"wordWrapBreakObtrusiveCharacters",".")),wordWrapColumn:register(new EditorIntOption(97,"wordWrapColumn",80,1,1073741824,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapMinified:register(new EditorBooleanOption(98,"wordWrapMinified",!0)),wrappingIndent:register(new EditorEnumOption(99,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],_wrappingIndentFromString,{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent","Controls the indentation of wrapped lines.")})),editorClassName:register(new EditorClassName),pixelRatio:register(new EditorPixelRatio),tabFocusMode:register(new EditorTabFocusMode),layoutInfo:register(new EditorLayoutInfoComputer),wrappingInfo:register(new EditorWrappingInfoComputer)}},2785:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return basenameOrAuthority}),__webpack_require__.d(__webpack_exports__,"e",function(){return isEqual}),__webpack_require__.d(__webpack_exports__,"b",function(){return basename}),__webpack_require__.d(__webpack_exports__,"d",function(){return dirname}),__webpack_require__.d(__webpack_exports__,"f",function(){return joinPath}),__webpack_require__.d(__webpack_exports__,"g",function(){return normalizePath}),__webpack_require__.d(__webpack_exports__,"h",function(){return relativePath}),__webpack_require__.d(__webpack_exports__,"a",function(){return DataUri});var _extpath_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3865),_path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3236),_uri_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2640),_strings_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2123),_network_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2814),_platform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2236),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function hasToIgnoreCase(resource){return resource&&resource.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file?!_platform_js__WEBPACK_IMPORTED_MODULE_5__.d:!0}function basenameOrAuthority(resource){return basename(resource)||resource.authority}function isEqualAuthority(a1,a2){return a1===a2||Object(_strings_js__WEBPACK_IMPORTED_MODULE_3__.n)(a1,a2)}function isEqual(first,second,ignoreCase){if(ignoreCase===void 0&&(ignoreCase=hasToIgnoreCase(first)),first===second)return!0;if(!first||!second||first.scheme!==second.scheme||!isEqualAuthority(first.authority,second.authority))return!1;var p1=first.path||"/",p2=second.path||"/";return p1===p2||ignoreCase&&Object(_strings_js__WEBPACK_IMPORTED_MODULE_3__.n)(p1||"/",p2||"/")}function basename(resource){return _path_js__WEBPACK_IMPORTED_MODULE_1__.posix.basename(resource.path)}function dirname(resource){if(resource.path.length===0)return resource;if(resource.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file)return _uri_js__WEBPACK_IMPORTED_MODULE_2__.a.file(_path_js__WEBPACK_IMPORTED_MODULE_1__.dirname(originalFSPath(resource)));var dirname2=_path_js__WEBPACK_IMPORTED_MODULE_1__.posix.dirname(resource.path);return resource.authority&&dirname2.length&&dirname2.charCodeAt(0)!==47&&(console.error('dirname("'+resource.toString+")) resulted in a relative path"),dirname2="/"),resource.with({path:dirname2})}function joinPath(resource){for(var _a,pathFragment=[],_i=1;_i<arguments.length;_i++)pathFragment[_i-1]=arguments[_i];var joinedPath;return resource.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file?joinedPath=_uri_js__WEBPACK_IMPORTED_MODULE_2__.a.file(_path_js__WEBPACK_IMPORTED_MODULE_1__.join.apply(_path_js__WEBPACK_IMPORTED_MODULE_1__,__spreadArrays([originalFSPath(resource)],pathFragment))).path:joinedPath=(_a=_path_js__WEBPACK_IMPORTED_MODULE_1__.posix).join.apply(_a,__spreadArrays([resource.path||"/"],pathFragment)),resource.with({path:joinedPath})}function normalizePath(resource){if(!resource.path.length)return resource;var normalizedPath;return resource.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file?normalizedPath=_uri_js__WEBPACK_IMPORTED_MODULE_2__.a.file(_path_js__WEBPACK_IMPORTED_MODULE_1__.normalize(originalFSPath(resource))).path:normalizedPath=_path_js__WEBPACK_IMPORTED_MODULE_1__.posix.normalize(resource.path),resource.with({path:normalizedPath})}function originalFSPath(uri){var value,uriPath=uri.path;return uri.authority&&uriPath.length>1&&uri.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file?value="//"+uri.authority+uriPath:_platform_js__WEBPACK_IMPORTED_MODULE_5__.h&&uriPath.charCodeAt(0)===47&&_extpath_js__WEBPACK_IMPORTED_MODULE_0__.b(uriPath.charCodeAt(1))&&uriPath.charCodeAt(2)===58?value=uriPath.substr(1):value=uriPath,_platform_js__WEBPACK_IMPORTED_MODULE_5__.h&&(value=value.replace(/\//g,"\\")),value}function relativePath(from,to,ignoreCase){if(ignoreCase===void 0&&(ignoreCase=hasToIgnoreCase(from)),!(from.scheme!==to.scheme||!isEqualAuthority(from.authority,to.authority))){if(from.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file){var relativePath_1=_path_js__WEBPACK_IMPORTED_MODULE_1__.relative(from.path,to.path);return _platform_js__WEBPACK_IMPORTED_MODULE_5__.h?_extpath_js__WEBPACK_IMPORTED_MODULE_0__.c(relativePath_1):relativePath_1}var fromPath=from.path||"/",toPath=to.path||"/";if(ignoreCase){for(var i=0,len=Math.min(fromPath.length,toPath.length);i<len&&!(fromPath.charCodeAt(i)!==toPath.charCodeAt(i)&&fromPath.charAt(i).toLowerCase()!==toPath.charAt(i).toLowerCase());i++);fromPath=toPath.substr(0,i)+fromPath.substr(i)}return _path_js__WEBPACK_IMPORTED_MODULE_1__.posix.relative(fromPath,toPath)}}var DataUri;(function(DataUri2){DataUri2.META_DATA_LABEL="label",DataUri2.META_DATA_DESCRIPTION="description",DataUri2.META_DATA_SIZE="size",DataUri2.META_DATA_MIME="mime";function parseMetaData(dataUri){var metadata=new Map,meta=dataUri.path.substring(dataUri.path.indexOf(";")+1,dataUri.path.lastIndexOf(";"));meta.split(";").forEach(function(property){var _a=property.split(":"),key=_a[0],value=_a[1];key&&value&&metadata.set(key,value)});var mime=dataUri.path.substring(0,dataUri.path.indexOf(";"));return mime&&metadata.set(DataUri2.META_DATA_MIME,mime),metadata}DataUri2.parseMetaData=parseMetaData})(DataUri||(DataUri={}))},2786:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IConfigurationService}),__webpack_require__.d(__webpack_exports__,"i",function(){return toValuesTree}),__webpack_require__.d(__webpack_exports__,"b",function(){return addToValueTree}),__webpack_require__.d(__webpack_exports__,"h",function(){return removeFromValueTree}),__webpack_require__.d(__webpack_exports__,"d",function(){return getConfigurationValue}),__webpack_require__.d(__webpack_exports__,"c",function(){return getConfigurationKeys}),__webpack_require__.d(__webpack_exports__,"e",function(){return getDefaultValues}),__webpack_require__.d(__webpack_exports__,"g",function(){return overrideIdentifierFromKey}),__webpack_require__.d(__webpack_exports__,"f",function(){return getMigratedSettingValue});var _registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2818),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2232),_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3280),IConfigurationService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("configurationService");function toValuesTree(properties,conflictReporter){var root=Object.create(null);for(var key in properties)addToValueTree(root,key,properties[key],conflictReporter);return root}function addToValueTree(settingsTreeRoot,key,value,conflictReporter){for(var segments=key.split("."),last=segments.pop(),curr=settingsTreeRoot,i=0;i<segments.length;i++){var s=segments[i],obj=curr[s];switch(typeof obj){case"undefined":obj=curr[s]=Object.create(null);break;case"object":break;default:conflictReporter("Ignoring "+key+" as "+segments.slice(0,i+1).join(".")+" is "+JSON.stringify(obj));return}curr=obj}typeof curr=="object"?curr[last]=value:conflictReporter("Ignoring "+key+" as "+segments.join(".")+" is "+JSON.stringify(curr))}function removeFromValueTree(valueTree,key){var segments=key.split(".");doRemoveFromValueTree(valueTree,segments)}function doRemoveFromValueTree(valueTree,segments){var first=segments.shift();if(segments.length===0){delete valueTree[first];return}if(Object.keys(valueTree).indexOf(first)!==-1){var value=valueTree[first];typeof value=="object"&&!Array.isArray(value)&&(doRemoveFromValueTree(value,segments),Object.keys(value).length===0&&delete valueTree[first])}}function getConfigurationValue(config,settingPath,defaultValue){function accessSetting(config2,path2){for(var current=config2,_i=0,path_1=path2;_i<path_1.length;_i++){var component=path_1[_i];if(typeof current!="object"||current===null)return;current=current[component]}return current}var path=settingPath.split("."),result=accessSetting(config,path);return typeof result>"u"?defaultValue:result}function getConfigurationKeys(){var properties=_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.as(_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_2__.a.Configuration).getConfigurationProperties();return Object.keys(properties)}function getDefaultValues(){var valueTreeRoot=Object.create(null),properties=_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.as(_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_2__.a.Configuration).getConfigurationProperties();for(var key in properties){var value=properties[key].default;addToValueTree(valueTreeRoot,key,value,function(message){return console.error("Conflict in default settings: "+message)})}return valueTreeRoot}function overrideIdentifierFromKey(key){return key.substring(1,key.length-1)}function getMigratedSettingValue(configurationService,currentSettingName,legacySettingName){var setting=configurationService.inspect(currentSettingName),legacySetting=configurationService.inspect(legacySettingName);return typeof setting.user<"u"||typeof setting.workspace<"u"||typeof setting.workspaceFolder<"u"?setting.value:typeof legacySetting.user<"u"||typeof legacySetting.workspace<"u"||typeof legacySetting.workspaceFolder<"u"?legacySetting.value:setting.default}},2787:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return CursorConfiguration}),__webpack_require__.d(__webpack_exports__,"f",function(){return SingleCursorState}),__webpack_require__.d(__webpack_exports__,"c",function(){return CursorContext}),__webpack_require__.d(__webpack_exports__,"d",function(){return CursorState}),__webpack_require__.d(__webpack_exports__,"e",function(){return EditOperationResult}),__webpack_require__.d(__webpack_exports__,"a",function(){return CursorColumns}),__webpack_require__.d(__webpack_exports__,"g",function(){return isQuote});var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2176),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2123),_core_position_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2233),_core_range_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2056),_core_selection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2629),_model_textModel_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2720),_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2810),autoCloseAlways=function(){return!0},autoCloseNever=function(){return!1},autoCloseBeforeWhitespace=function(chr){return chr===" "||chr==="	"};function appendEntry(target,key,value){target.has(key)?target.get(key).push(value):target.set(key,[value])}var CursorConfiguration=function(){function CursorConfiguration2(languageIdentifier,modelOptions,configuration){this._languageIdentifier=languageIdentifier;var options=configuration.options,layoutInfo=options.get(103);this.readOnly=options.get(65),this.tabSize=modelOptions.tabSize,this.indentSize=modelOptions.indentSize,this.insertSpaces=modelOptions.insertSpaces,this.lineHeight=options.get(47),this.pageSize=Math.max(1,Math.floor(layoutInfo.height/this.lineHeight)-2),this.useTabStops=options.get(91),this.wordSeparators=options.get(92),this.emptySelectionClipboard=options.get(24),this.copyWithSyntaxHighlighting=options.get(14),this.multiCursorMergeOverlapping=options.get(56),this.multiCursorPaste=options.get(58),this.autoClosingBrackets=options.get(5),this.autoClosingQuotes=options.get(7),this.autoClosingOvertype=options.get(6),this.autoSurround=options.get(10),this.autoIndent=options.get(8),this.autoClosingPairsOpen2=new Map,this.autoClosingPairsClose2=new Map,this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:CursorConfiguration2._getShouldAutoClose(languageIdentifier,this.autoClosingQuotes),bracket:CursorConfiguration2._getShouldAutoClose(languageIdentifier,this.autoClosingBrackets)};var autoClosingPairs=CursorConfiguration2._getAutoClosingPairs(languageIdentifier);if(autoClosingPairs)for(var _i=0,autoClosingPairs_1=autoClosingPairs;_i<autoClosingPairs_1.length;_i++){var pair=autoClosingPairs_1[_i];appendEntry(this.autoClosingPairsOpen2,pair.open.charAt(pair.open.length-1),pair),pair.close.length===1&&appendEntry(this.autoClosingPairsClose2,pair.close,pair)}var surroundingPairs=CursorConfiguration2._getSurroundingPairs(languageIdentifier);if(surroundingPairs)for(var _a=0,surroundingPairs_1=surroundingPairs;_a<surroundingPairs_1.length;_a++){var pair=surroundingPairs_1[_a];this.surroundingPairs[pair.open]=pair.close}}return CursorConfiguration2.shouldRecreate=function(e){return e.hasChanged(103)||e.hasChanged(92)||e.hasChanged(24)||e.hasChanged(56)||e.hasChanged(58)||e.hasChanged(5)||e.hasChanged(7)||e.hasChanged(6)||e.hasChanged(10)||e.hasChanged(91)||e.hasChanged(47)||e.hasChanged(65)},Object.defineProperty(CursorConfiguration2.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var electricChars=CursorConfiguration2._getElectricCharacters(this._languageIdentifier);if(electricChars)for(var _i=0,electricChars_1=electricChars;_i<electricChars_1.length;_i++){var char=electricChars_1[_i];this._electricChars[char]=!0}}return this._electricChars},enumerable:!0,configurable:!0}),CursorConfiguration2.prototype.normalizeIndentation=function(str){return _model_textModel_js__WEBPACK_IMPORTED_MODULE_5__.b.normalizeIndentation(str,this.indentSize,this.insertSpaces)},CursorConfiguration2._getElectricCharacters=function(languageIdentifier){try{return _modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__.a.getElectricCharacters(languageIdentifier.id)}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e),null}},CursorConfiguration2._getAutoClosingPairs=function(languageIdentifier){try{return _modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__.a.getAutoClosingPairs(languageIdentifier.id)}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e),null}},CursorConfiguration2._getShouldAutoClose=function(languageIdentifier,autoCloseConfig){switch(autoCloseConfig){case"beforeWhitespace":return autoCloseBeforeWhitespace;case"languageDefined":return CursorConfiguration2._getLanguageDefinedShouldAutoClose(languageIdentifier);case"always":return autoCloseAlways;case"never":return autoCloseNever}},CursorConfiguration2._getLanguageDefinedShouldAutoClose=function(languageIdentifier){try{var autoCloseBeforeSet_1=_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__.a.getAutoCloseBeforeSet(languageIdentifier.id);return function(c){return autoCloseBeforeSet_1.indexOf(c)!==-1}}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e),autoCloseNever}},CursorConfiguration2._getSurroundingPairs=function(languageIdentifier){try{return _modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__.a.getSurroundingPairs(languageIdentifier.id)}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e),null}},CursorConfiguration2}(),SingleCursorState=function(){function SingleCursorState2(selectionStart,selectionStartLeftoverVisibleColumns,position,leftoverVisibleColumns){this.selectionStart=selectionStart,this.selectionStartLeftoverVisibleColumns=selectionStartLeftoverVisibleColumns,this.position=position,this.leftoverVisibleColumns=leftoverVisibleColumns,this.selection=SingleCursorState2._computeSelection(this.selectionStart,this.position)}return SingleCursorState2.prototype.equals=function(other){return this.selectionStartLeftoverVisibleColumns===other.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===other.leftoverVisibleColumns&&this.position.equals(other.position)&&this.selectionStart.equalsRange(other.selectionStart)},SingleCursorState2.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},SingleCursorState2.prototype.move=function(inSelectionMode,lineNumber,column,leftoverVisibleColumns){return inSelectionMode?new SingleCursorState2(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,column),leftoverVisibleColumns):new SingleCursorState2(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column,lineNumber,column),leftoverVisibleColumns,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,column),leftoverVisibleColumns)},SingleCursorState2._computeSelection=function(selectionStart,position){var startLineNumber,startColumn,endLineNumber,endColumn;return selectionStart.isEmpty()?(startLineNumber=selectionStart.startLineNumber,startColumn=selectionStart.startColumn,endLineNumber=position.lineNumber,endColumn=position.column):position.isBeforeOrEqual(selectionStart.getStartPosition())?(startLineNumber=selectionStart.endLineNumber,startColumn=selectionStart.endColumn,endLineNumber=position.lineNumber,endColumn=position.column):(startLineNumber=selectionStart.startLineNumber,startColumn=selectionStart.startColumn,endLineNumber=position.lineNumber,endColumn=position.column),new _core_selection_js__WEBPACK_IMPORTED_MODULE_4__.a(startLineNumber,startColumn,endLineNumber,endColumn)},SingleCursorState2}(),CursorContext=function(){function CursorContext2(configuration,model,viewModel){this.model=model,this.viewModel=viewModel,this.config=new CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),configuration)}return CursorContext2.prototype.validateViewPosition=function(viewPosition,modelPosition){return this.viewModel.coordinatesConverter.validateViewPosition(viewPosition,modelPosition)},CursorContext2.prototype.validateViewRange=function(viewRange,expectedModelRange){return this.viewModel.coordinatesConverter.validateViewRange(viewRange,expectedModelRange)},CursorContext2.prototype.convertViewRangeToModelRange=function(viewRange){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(viewRange)},CursorContext2.prototype.convertViewPositionToModelPosition=function(lineNumber,column){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,column))},CursorContext2.prototype.convertModelPositionToViewPosition=function(modelPosition){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition)},CursorContext2.prototype.convertModelRangeToViewRange=function(modelRange){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(modelRange)},CursorContext2.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()},CursorContext2.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},CursorContext2.prototype.getCompletelyVisibleModelRange=function(){var viewRange=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(viewRange)},CursorContext2.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(scrollTop){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(scrollTop)},CursorContext2.prototype.getVerticalOffsetForViewLine=function(viewLineNumber){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(viewLineNumber)},CursorContext2}(),PartialModelCursorState=function(){function PartialModelCursorState2(modelState){this.modelState=modelState,this.viewState=null}return PartialModelCursorState2}(),PartialViewCursorState=function(){function PartialViewCursorState2(viewState){this.modelState=null,this.viewState=viewState}return PartialViewCursorState2}(),CursorState=function(){function CursorState2(modelState,viewState){this.modelState=modelState,this.viewState=viewState}return CursorState2.fromModelState=function(modelState){return new PartialModelCursorState(modelState)},CursorState2.fromViewState=function(viewState){return new PartialViewCursorState(viewState)},CursorState2.fromModelSelection=function(modelSelection){var selectionStartLineNumber=modelSelection.selectionStartLineNumber,selectionStartColumn=modelSelection.selectionStartColumn,positionLineNumber=modelSelection.positionLineNumber,positionColumn=modelSelection.positionColumn,modelState=new SingleCursorState(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(selectionStartLineNumber,selectionStartColumn,selectionStartLineNumber,selectionStartColumn),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(positionLineNumber,positionColumn),0);return CursorState2.fromModelState(modelState)},CursorState2.fromModelSelections=function(modelSelections){for(var states=[],i=0,len=modelSelections.length;i<len;i++)states[i]=this.fromModelSelection(modelSelections[i]);return states},CursorState2.prototype.equals=function(other){return this.viewState.equals(other.viewState)&&this.modelState.equals(other.modelState)},CursorState2}(),EditOperationResult=function(){function EditOperationResult2(type,commands,opts){this.type=type,this.commands=commands,this.shouldPushStackElementBefore=opts.shouldPushStackElementBefore,this.shouldPushStackElementAfter=opts.shouldPushStackElementAfter}return EditOperationResult2}(),CursorColumns=function(){function CursorColumns2(){}return CursorColumns2.visibleColumnFromColumn=function(lineContent,column,tabSize){for(var lineContentLength=lineContent.length,endOffset=column-1<lineContentLength?column-1:lineContentLength,result=0,i=0;i<endOffset;){var codePoint=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.v(lineContent,endOffset,i);if(i+=codePoint>=65536?2:1,codePoint===9)result=CursorColumns2.nextRenderTabStop(result,tabSize);else{for(var graphemeBreakType=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.t(codePoint);i<endOffset;){var nextCodePoint=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.v(lineContent,endOffset,i),nextGraphemeBreakType=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.t(nextCodePoint);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.b(graphemeBreakType,nextGraphemeBreakType))break;i+=nextCodePoint>=65536?2:1,graphemeBreakType=nextGraphemeBreakType}_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.z(codePoint)||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.x(codePoint)?result=result+2:result=result+1}}return result},CursorColumns2.visibleColumnFromColumn2=function(config,model,position){return this.visibleColumnFromColumn(model.getLineContent(position.lineNumber),position.column,config.tabSize)},CursorColumns2.columnFromVisibleColumn=function(lineContent,visibleColumn,tabSize){if(visibleColumn<=0)return 1;for(var lineLength=lineContent.length,beforeVisibleColumn=0,beforeColumn=1,i=0;i<lineLength;){var codePoint=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.v(lineContent,lineLength,i);i+=codePoint>=65536?2:1;var afterVisibleColumn=void 0;if(codePoint===9)afterVisibleColumn=CursorColumns2.nextRenderTabStop(beforeVisibleColumn,tabSize);else{for(var graphemeBreakType=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.t(codePoint);i<lineLength;){var nextCodePoint=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.v(lineContent,lineLength,i),nextGraphemeBreakType=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.t(nextCodePoint);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.b(graphemeBreakType,nextGraphemeBreakType))break;i+=nextCodePoint>=65536?2:1,graphemeBreakType=nextGraphemeBreakType}_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.z(codePoint)||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.x(codePoint)?afterVisibleColumn=beforeVisibleColumn+2:afterVisibleColumn=beforeVisibleColumn+1}var afterColumn=i+1;if(afterVisibleColumn>=visibleColumn){var beforeDelta=visibleColumn-beforeVisibleColumn,afterDelta=afterVisibleColumn-visibleColumn;return afterDelta<beforeDelta?afterColumn:beforeColumn}beforeVisibleColumn=afterVisibleColumn,beforeColumn=afterColumn}return lineLength+1},CursorColumns2.columnFromVisibleColumn2=function(config,model,lineNumber,visibleColumn){var result=this.columnFromVisibleColumn(model.getLineContent(lineNumber),visibleColumn,config.tabSize),minColumn=model.getLineMinColumn(lineNumber);if(result<minColumn)return minColumn;var maxColumn=model.getLineMaxColumn(lineNumber);return result>maxColumn?maxColumn:result},CursorColumns2.nextRenderTabStop=function(visibleColumn,tabSize){return visibleColumn+tabSize-visibleColumn%tabSize},CursorColumns2.nextIndentTabStop=function(visibleColumn,indentSize){return visibleColumn+indentSize-visibleColumn%indentSize},CursorColumns2.prevRenderTabStop=function(column,tabSize){return column-1-(column-1)%tabSize},CursorColumns2.prevIndentTabStop=function(column,indentSize){return column-1-(column-1)%indentSize},CursorColumns2}();function isQuote(ch){return ch==="'"||ch==='"'||ch==="`"}},2803:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return values}),__webpack_require__.d(__webpack_exports__,"d",function(){return keys}),__webpack_require__.d(__webpack_exports__,"c",function(){return TernarySearchTree}),__webpack_require__.d(__webpack_exports__,"b",function(){return ResourceMap}),__webpack_require__.d(__webpack_exports__,"a",function(){return LRUCache});var __extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function values(forEachable){var result=[];return forEachable.forEach(function(value){return result.push(value)}),result}function keys(map){var result=[];return map.forEach(function(_value,key){return result.push(key)}),result}var StringIterator=function(){function StringIterator2(){this._value="",this._pos=0}return StringIterator2.prototype.reset=function(key){return this._value=key,this._pos=0,this},StringIterator2.prototype.next=function(){return this._pos+=1,this},StringIterator2.prototype.hasNext=function(){return this._pos<this._value.length-1},StringIterator2.prototype.cmp=function(a){var aCode=a.charCodeAt(0),thisCode=this._value.charCodeAt(this._pos);return aCode-thisCode},StringIterator2.prototype.value=function(){return this._value[this._pos]},StringIterator2}(),PathIterator=function(){function PathIterator2(_splitOnBackslash){_splitOnBackslash===void 0&&(_splitOnBackslash=!0),this._splitOnBackslash=_splitOnBackslash}return PathIterator2.prototype.reset=function(key){return this._value=key.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},PathIterator2.prototype.hasNext=function(){return this._to<this._value.length},PathIterator2.prototype.next=function(){this._from=this._to;for(var justSeps=!0;this._to<this._value.length;this._to++){var ch=this._value.charCodeAt(this._to);if(ch===47||this._splitOnBackslash&&ch===92)if(justSeps)this._from++;else break;else justSeps=!1}return this},PathIterator2.prototype.cmp=function(a){for(var aPos=0,aLen=a.length,thisPos=this._from;aPos<aLen&&thisPos<this._to;){var cmp=a.charCodeAt(aPos)-this._value.charCodeAt(thisPos);if(cmp!==0)return cmp;aPos+=1,thisPos+=1}return aLen===this._to-this._from?0:aPos<aLen?-1:1},PathIterator2.prototype.value=function(){return this._value.substring(this._from,this._to)},PathIterator2}(),TernarySearchTreeNode=function(){function TernarySearchTreeNode2(){}return TernarySearchTreeNode2}(),TernarySearchTree=function(){function TernarySearchTree2(segments){this._iter=segments}return TernarySearchTree2.forPaths=function(){return new TernarySearchTree2(new PathIterator)},TernarySearchTree2.forStrings=function(){return new TernarySearchTree2(new StringIterator)},TernarySearchTree2.prototype.clear=function(){this._root=void 0},TernarySearchTree2.prototype.set=function(key,element){var iter=this._iter.reset(key),node;for(this._root||(this._root=new TernarySearchTreeNode,this._root.segment=iter.value()),node=this._root;;){var val=iter.cmp(node.segment);if(val>0)node.left||(node.left=new TernarySearchTreeNode,node.left.segment=iter.value()),node=node.left;else if(val<0)node.right||(node.right=new TernarySearchTreeNode,node.right.segment=iter.value()),node=node.right;else if(iter.hasNext())iter.next(),node.mid||(node.mid=new TernarySearchTreeNode,node.mid.segment=iter.value()),node=node.mid;else break}var oldElement=node.value;return node.value=element,node.key=key,oldElement},TernarySearchTree2.prototype.get=function(key){for(var iter=this._iter.reset(key),node=this._root;node;){var val=iter.cmp(node.segment);if(val>0)node=node.left;else if(val<0)node=node.right;else if(iter.hasNext())iter.next(),node=node.mid;else break}return node?node.value:void 0},TernarySearchTree2.prototype.findSubstr=function(key){for(var iter=this._iter.reset(key),node=this._root,candidate=void 0;node;){var val=iter.cmp(node.segment);if(val>0)node=node.left;else if(val<0)node=node.right;else if(iter.hasNext())iter.next(),candidate=node.value||candidate,node=node.mid;else break}return node&&node.value||candidate},TernarySearchTree2.prototype.forEach=function(callback){this._forEach(this._root,callback)},TernarySearchTree2.prototype._forEach=function(node,callback){node&&(this._forEach(node.left,callback),node.value&&callback(node.value,node.key),this._forEach(node.mid,callback),this._forEach(node.right,callback))},TernarySearchTree2}(),ResourceMap=function(){function ResourceMap2(){this.map=new Map,this.ignoreCase=!1}return ResourceMap2.prototype.set=function(resource,value){this.map.set(this.toKey(resource),value)},ResourceMap2.prototype.get=function(resource){return this.map.get(this.toKey(resource))},ResourceMap2.prototype.toKey=function(resource){var key=resource.toString();return this.ignoreCase&&(key=key.toLowerCase()),key},ResourceMap2}(),LinkedMap=function(){function LinkedMap2(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return LinkedMap2.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},Object.defineProperty(LinkedMap2.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),LinkedMap2.prototype.get=function(key,touch){touch===void 0&&(touch=0);var item=this._map.get(key);if(item)return touch!==0&&this.touch(item,touch),item.value},LinkedMap2.prototype.set=function(key,value,touch){touch===void 0&&(touch=0);var item=this._map.get(key);if(item)item.value=value,touch!==0&&this.touch(item,touch);else{switch(item={key,value,next:void 0,previous:void 0},touch){case 0:this.addItemLast(item);break;case 1:this.addItemFirst(item);break;case 2:this.addItemLast(item);break;default:this.addItemLast(item);break}this._map.set(key,item),this._size++}},LinkedMap2.prototype.delete=function(key){return!!this.remove(key)},LinkedMap2.prototype.remove=function(key){var item=this._map.get(key);if(item)return this._map.delete(key),this.removeItem(item),this._size--,item.value},LinkedMap2.prototype.forEach=function(callbackfn,thisArg){for(var current=this._head;current;)thisArg?callbackfn.bind(thisArg)(current.value,current.key,this):callbackfn(current.value,current.key,this),current=current.next},LinkedMap2.prototype.trimOld=function(newSize){if(!(newSize>=this.size)){if(newSize===0){this.clear();return}for(var current=this._head,currentSize=this.size;current&&currentSize>newSize;)this._map.delete(current.key),current=current.next,currentSize--;this._head=current,this._size=currentSize,current&&(current.previous=void 0)}},LinkedMap2.prototype.addItemFirst=function(item){if(!this._head&&!this._tail)this._tail=item;else if(this._head)item.next=this._head,this._head.previous=item;else throw new Error("Invalid list");this._head=item},LinkedMap2.prototype.addItemLast=function(item){if(!this._head&&!this._tail)this._head=item;else if(this._tail)item.previous=this._tail,this._tail.next=item;else throw new Error("Invalid list");this._tail=item},LinkedMap2.prototype.removeItem=function(item){if(item===this._head&&item===this._tail)this._head=void 0,this._tail=void 0;else if(item===this._head){if(!item.next)throw new Error("Invalid list");item.next.previous=void 0,this._head=item.next}else if(item===this._tail){if(!item.previous)throw new Error("Invalid list");item.previous.next=void 0,this._tail=item.previous}else{var next=item.next,previous=item.previous;if(!next||!previous)throw new Error("Invalid list");next.previous=previous,previous.next=next}item.next=void 0,item.previous=void 0},LinkedMap2.prototype.touch=function(item,touch){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(touch!==1&&touch!==2)){if(touch===1){if(item===this._head)return;var next=item.next,previous=item.previous;item===this._tail?(previous.next=void 0,this._tail=previous):(next.previous=previous,previous.next=next),item.previous=void 0,item.next=this._head,this._head.previous=item,this._head=item}else if(touch===2){if(item===this._tail)return;var next=item.next,previous=item.previous;item===this._head?(next.previous=void 0,this._head=next):(next.previous=previous,previous.next=next),item.next=void 0,item.previous=this._tail,this._tail.next=item,this._tail=item}}},LinkedMap2.prototype.toJSON=function(){var data=[];return this.forEach(function(value,key){data.push([key,value])}),data},LinkedMap2}(),LRUCache=function(_super){__extends(LRUCache2,_super);function LRUCache2(limit,ratio){ratio===void 0&&(ratio=1);var _this=_super.call(this)||this;return _this._limit=limit,_this._ratio=Math.min(Math.max(0,ratio),1),_this}return LRUCache2.prototype.get=function(key){return _super.prototype.get.call(this,key,2)},LRUCache2.prototype.peek=function(key){return _super.prototype.get.call(this,key,0)},LRUCache2.prototype.set=function(key,value){_super.prototype.set.call(this,key,value,2),this.checkTrim()},LRUCache2.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},LRUCache2}(LinkedMap)},2804:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",function(){return editorLineHighlight}),__webpack_require__.d(__webpack_exports__,"j",function(){return editorLineHighlightBorder}),__webpack_require__.d(__webpack_exports__,"g",function(){return editorCursorForeground}),__webpack_require__.d(__webpack_exports__,"f",function(){return editorCursorBackground}),__webpack_require__.d(__webpack_exports__,"h",function(){return editorIndentGuides}),__webpack_require__.d(__webpack_exports__,"a",function(){return editorActiveIndentGuides}),__webpack_require__.d(__webpack_exports__,"k",function(){return editorLineNumbers}),__webpack_require__.d(__webpack_exports__,"b",function(){return editorActiveLineNumber}),__webpack_require__.d(__webpack_exports__,"m",function(){return editorRuler}),__webpack_require__.d(__webpack_exports__,"e",function(){return editorCodeLensForeground}),__webpack_require__.d(__webpack_exports__,"c",function(){return editorBracketMatchBackground}),__webpack_require__.d(__webpack_exports__,"d",function(){return editorBracketMatchBorder}),__webpack_require__.d(__webpack_exports__,"l",function(){return editorOverviewRulerBorder}),__webpack_require__.d(__webpack_exports__,"n",function(){return editorUnnecessaryCodeBorder}),__webpack_require__.d(__webpack_exports__,"o",function(){return editorUnnecessaryCodeOpacity}),__webpack_require__.d(__webpack_exports__,"p",function(){return overviewRulerError}),__webpack_require__.d(__webpack_exports__,"r",function(){return overviewRulerWarning}),__webpack_require__.d(__webpack_exports__,"q",function(){return overviewRulerInfo});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2663),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2623),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2235),editorLineHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineHighlight","Background color for the highlight of line at the cursor position.")),editorLineHighlightBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),editorRangeHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),editorRangeHighlightBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editor.rangeHighlightBorder",{dark:null,light:null,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),editorSymbolHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editor.symbolHighlightBackground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.t,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.t,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),editorSymbolHighlightBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editor.symbolHighlightBorder",{dark:null,light:null,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),editorCursorForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorCursor.foreground",{dark:"#AEAFAD",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("caret","Color of the editor cursor.")),editorCursorBackground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorCursor.background",null,_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),editorWhitespaces=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorWhitespaces","Color of whitespace characters in the editor.")),editorIndentGuides=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorIndentGuide.background",{dark:editorWhitespaces,light:editorWhitespaces,hc:editorWhitespaces},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorIndentGuides","Color of the editor indentation guides.")),editorActiveIndentGuides=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorIndentGuide.activeBackground",{dark:editorWhitespaces,light:editorWhitespaces,hc:editorWhitespaces},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorActiveIndentGuide","Color of the active editor indentation guides.")),editorLineNumbers=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorLineNumbers","Color of editor line numbers.")),deprecatedEditorActiveLineNumber=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorActiveLineNumber","Color of editor active line number"),!1,_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),editorActiveLineNumber=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorLineNumber.activeForeground",{dark:deprecatedEditorActiveLineNumber,light:deprecatedEditorActiveLineNumber,hc:deprecatedEditorActiveLineNumber},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorActiveLineNumber","Color of editor active line number")),editorRuler=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorRuler.foreground",{dark:"#5A5A5A",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.lightgrey,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorRuler","Color of the editor rulers.")),editorCodeLensForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorCodeLensForeground","Foreground color of editor code lenses")),editorBracketMatchBackground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorBracketMatchBackground","Background color behind matching brackets")),editorBracketMatchBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.e},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorBracketMatchBorder","Color for matching brackets boxes")),editorOverviewRulerBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorOverviewRulerBorder","Color of the overview ruler border.")),editorGutter=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorGutter.background",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.o,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.o,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.o},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),editorUnnecessaryCodeBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorUnnecessaryCode.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#fff").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),editorUnnecessaryCodeOpacity=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorUnnecessaryCode.opacity",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#000a"),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#0007"),hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),overviewRulerError=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorOverviewRuler.errorForeground",{dark:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,18,18,.7)),light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,18,18,.7)),hc:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,50,50,1))},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRuleError","Overview ruler marker color for errors.")),overviewRulerWarning=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorOverviewRuler.warningForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.P,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.P,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.O},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRuleWarning","Overview ruler marker color for warnings.")),overviewRulerInfo=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Tb)("editorOverviewRuler.infoForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.H,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.H,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.G},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRuleInfo","Overview ruler marker color for infos."));Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__.e)(function(theme,collector){var background=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.o);background&&collector.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+background+"; }");var foreground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.x);foreground&&collector.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+foreground+"; }");var gutter=theme.getColor(editorGutter);gutter&&collector.addRule(".monaco-editor .margin { background-color: "+gutter+"; }");var rangeHighlight=theme.getColor(editorRangeHighlight);rangeHighlight&&collector.addRule(".monaco-editor .rangeHighlight { background-color: "+rangeHighlight+"; }");var rangeHighlightBorder=theme.getColor(editorRangeHighlightBorder);rangeHighlightBorder&&collector.addRule(".monaco-editor .rangeHighlight { border: 1px "+(theme.type==="hc"?"dotted":"solid")+" "+rangeHighlightBorder+"; }");var symbolHighlight=theme.getColor(editorSymbolHighlight);symbolHighlight&&collector.addRule(".monaco-editor .symbolHighlight { background-color: "+symbolHighlight+"; }");var symbolHighlightBorder=theme.getColor(editorSymbolHighlightBorder);symbolHighlightBorder&&collector.addRule(".monaco-editor .symbolHighlight { border: 1px "+(theme.type==="hc"?"dotted":"solid")+" "+symbolHighlightBorder+"; }");var invisibles=theme.getColor(editorWhitespaces);invisibles&&collector.addRule(".vs-whitespace { color: "+invisibles+" !important; }")})},2810:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LanguageConfigurationRegistry});var common_event=__webpack_require__(2106),lifecycle=__webpack_require__(2033),strings=__webpack_require__(2123),wordHelper=__webpack_require__(3366),languageConfiguration=__webpack_require__(3284),supports=__webpack_require__(3495),characterPair_CharacterPairSupport=function(){function CharacterPairSupport(config){if(config.autoClosingPairs?this._autoClosingPairs=config.autoClosingPairs.map(function(el){return new languageConfiguration.b(el)}):config.brackets?this._autoClosingPairs=config.brackets.map(function(b){return new languageConfiguration.b({open:b[0],close:b[1]})}):this._autoClosingPairs=[],config.__electricCharacterSupport&&config.__electricCharacterSupport.docComment){var docComment=config.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new languageConfiguration.b({open:docComment.open,close:docComment.close||""}))}this._autoCloseBefore=typeof config.autoCloseBefore=="string"?config.autoCloseBefore:CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=config.surroundingPairs||this._autoClosingPairs}return CharacterPairSupport.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},CharacterPairSupport.prototype.getAutoCloseBeforeSet=function(){return this._autoCloseBefore},CharacterPairSupport.shouldAutoClosePair=function(autoClosingPair,context,column){if(context.getTokenCount()===0)return!0;var tokenIndex=context.findTokenIndexAtOffset(column-2),standardTokenType=context.getStandardTokenType(tokenIndex);return autoClosingPair.isOK(standardTokenType)},CharacterPairSupport.prototype.getSurroundingPairs=function(){return this._surroundingPairs},CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`,CharacterPairSupport}(),richEditBrackets=__webpack_require__(3496),electricCharacter_BracketElectricCharacterSupport=function(){function BracketElectricCharacterSupport(richEditBrackets2){this._richEditBrackets=richEditBrackets2}return BracketElectricCharacterSupport.prototype.getElectricCharacters=function(){var result=[];if(this._richEditBrackets)for(var _i=0,_a=this._richEditBrackets.brackets;_i<_a.length;_i++)for(var bracket=_a[_i],_b=0,_c=bracket.close;_b<_c.length;_b++){var close_1=_c[_b],lastChar=close_1.charAt(close_1.length-1);result.push(lastChar)}return result=result.filter(function(item,pos,array){return array.indexOf(item)===pos}),result},BracketElectricCharacterSupport.prototype.onElectricCharacter=function(character,context,column){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;var tokenIndex=context.findTokenIndexAtOffset(column-1);if(Object(supports.b)(context.getStandardTokenType(tokenIndex)))return null;var reversedBracketRegex=this._richEditBrackets.reversedRegex,text=context.getLineContent().substring(0,column-1)+character,r=richEditBrackets.a.findPrevBracketInRange(reversedBracketRegex,1,text,0,text.length);if(!r)return null;var bracketText=text.substring(r.startColumn-1,r.endColumn-1);bracketText=bracketText.toLowerCase();var isOpen=this._richEditBrackets.textIsOpenBracket[bracketText];if(isOpen)return null;var textBeforeBracket=text.substring(0,r.startColumn-1);return/^\s*$/.test(textBeforeBracket)?{matchOpenBracket:bracketText}:null},BracketElectricCharacterSupport}(),IndentRulesSupport=function(){function IndentRulesSupport2(indentationRules){this._indentationRules=indentationRules}return IndentRulesSupport2.prototype.shouldIncrease=function(text){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(text))},IndentRulesSupport2.prototype.shouldDecrease=function(text){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(text))},IndentRulesSupport2.prototype.shouldIndentNextLine=function(text){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(text))},IndentRulesSupport2.prototype.shouldIgnore=function(text){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(text))},IndentRulesSupport2.prototype.getIndentMetadata=function(text){var ret=0;return this.shouldIncrease(text)&&(ret+=1),this.shouldDecrease(text)&&(ret+=2),this.shouldIndentNextLine(text)&&(ret+=4),this.shouldIgnore(text)&&(ret+=8),ret},IndentRulesSupport2}(),errors=__webpack_require__(2176),onEnter_OnEnterSupport=function(){function OnEnterSupport(opts){var _this=this;opts=opts||{},opts.brackets=opts.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],opts.brackets.forEach(function(bracket){var openRegExp=OnEnterSupport._createOpenBracketRegExp(bracket[0]),closeRegExp=OnEnterSupport._createCloseBracketRegExp(bracket[1]);openRegExp&&closeRegExp&&_this._brackets.push({open:bracket[0],openRegExp,close:bracket[1],closeRegExp})}),this._regExpRules=opts.onEnterRules||[]}return OnEnterSupport.prototype.onEnter=function(autoIndent,oneLineAboveText,beforeEnterText,afterEnterText){if(autoIndent>=3)for(var i=0,len=this._regExpRules.length;i<len;i++){var rule=this._regExpRules[i],regResult=[{reg:rule.beforeText,text:beforeEnterText},{reg:rule.afterText,text:afterEnterText},{reg:rule.oneLineAboveText,text:oneLineAboveText}].every(function(obj){return obj.reg?obj.reg.test(obj.text):!0});if(regResult)return rule.action}if(autoIndent>=2&&beforeEnterText.length>0&&afterEnterText.length>0)for(var i=0,len=this._brackets.length;i<len;i++){var bracket=this._brackets[i];if(bracket.openRegExp.test(beforeEnterText)&&bracket.closeRegExp.test(afterEnterText))return{indentAction:languageConfiguration.a.IndentOutdent}}if(autoIndent>=2&&beforeEnterText.length>0)for(var i=0,len=this._brackets.length;i<len;i++){var bracket=this._brackets[i];if(bracket.openRegExp.test(beforeEnterText))return{indentAction:languageConfiguration.a.Indent}}return null},OnEnterSupport._createOpenBracketRegExp=function(bracket){var str=strings.p(bracket);return/\B/.test(str.charAt(0))||(str="\\b"+str),str+="\\s*$",OnEnterSupport._safeRegExp(str)},OnEnterSupport._createCloseBracketRegExp=function(bracket){var str=strings.p(bracket);return/\B/.test(str.charAt(str.length-1))||(str=str+"\\b"),str="^\\s*"+str,OnEnterSupport._safeRegExp(str)},OnEnterSupport._safeRegExp=function(def){try{return new RegExp(def)}catch(err){return Object(errors.e)(err),null}},OnEnterSupport}(),languageConfigurationRegistry_RichEditSupport=function(){function RichEditSupport(languageIdentifier,previous,rawConf){this._languageIdentifier=languageIdentifier,this._brackets=null,this._electricCharacter=null;var prev=null;previous&&(prev=previous._conf),this._conf=RichEditSupport._mergeConf(prev,rawConf),this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new onEnter_OnEnterSupport(this._conf):null,this.comments=RichEditSupport._handleComments(this._conf),this.characterPair=new characterPair_CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||wordHelper.a,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}return Object.defineProperty(RichEditSupport.prototype,"brackets",{get:function(){return!this._brackets&&this._conf.brackets&&(this._brackets=new richEditBrackets.b(this._languageIdentifier,this._conf.brackets)),this._brackets},enumerable:!0,configurable:!0}),Object.defineProperty(RichEditSupport.prototype,"electricCharacter",{get:function(){return this._electricCharacter||(this._electricCharacter=new electricCharacter_BracketElectricCharacterSupport(this.brackets)),this._electricCharacter},enumerable:!0,configurable:!0}),RichEditSupport.prototype.onEnter=function(autoIndent,oneLineAboveText,beforeEnterText,afterEnterText){return this._onEnterSupport?this._onEnterSupport.onEnter(autoIndent,oneLineAboveText,beforeEnterText,afterEnterText):null},RichEditSupport._mergeConf=function(prev,current){return{comments:prev?current.comments||prev.comments:current.comments,brackets:prev?current.brackets||prev.brackets:current.brackets,wordPattern:prev?current.wordPattern||prev.wordPattern:current.wordPattern,indentationRules:prev?current.indentationRules||prev.indentationRules:current.indentationRules,onEnterRules:prev?current.onEnterRules||prev.onEnterRules:current.onEnterRules,autoClosingPairs:prev?current.autoClosingPairs||prev.autoClosingPairs:current.autoClosingPairs,surroundingPairs:prev?current.surroundingPairs||prev.surroundingPairs:current.surroundingPairs,autoCloseBefore:prev?current.autoCloseBefore||prev.autoCloseBefore:current.autoCloseBefore,folding:prev?current.folding||prev.folding:current.folding,__electricCharacterSupport:prev?current.__electricCharacterSupport||prev.__electricCharacterSupport:current.__electricCharacterSupport}},RichEditSupport._handleComments=function(conf){var commentRule=conf.comments;if(!commentRule)return null;var comments={};if(commentRule.lineComment&&(comments.lineCommentToken=commentRule.lineComment),commentRule.blockComment){var _a=commentRule.blockComment,blockStart=_a[0],blockEnd=_a[1];comments.blockCommentStartToken=blockStart,comments.blockCommentEndToken=blockEnd}return comments},RichEditSupport}(),LanguageConfigurationChangeEvent=function(){function LanguageConfigurationChangeEvent2(languageIdentifier){this.languageIdentifier=languageIdentifier}return LanguageConfigurationChangeEvent2}(),languageConfigurationRegistry_LanguageConfigurationRegistryImpl=function(){function LanguageConfigurationRegistryImpl(){this._entries=new Map,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event}return LanguageConfigurationRegistryImpl.prototype.register=function(languageIdentifier,configuration){var _this=this,previous=this._getRichEditSupport(languageIdentifier.id),current=new languageConfigurationRegistry_RichEditSupport(languageIdentifier,previous,configuration);return this._entries.set(languageIdentifier.id,current),this._onDidChange.fire(new LanguageConfigurationChangeEvent(languageIdentifier)),Object(lifecycle.h)(function(){_this._entries.get(languageIdentifier.id)===current&&(_this._entries.set(languageIdentifier.id,previous),_this._onDidChange.fire(new LanguageConfigurationChangeEvent(languageIdentifier)))})},LanguageConfigurationRegistryImpl.prototype._getRichEditSupport=function(languageId){return this._entries.get(languageId)},LanguageConfigurationRegistryImpl.prototype._getElectricCharacterSupport=function(languageId){var value=this._getRichEditSupport(languageId);return value&&value.electricCharacter||null},LanguageConfigurationRegistryImpl.prototype.getElectricCharacters=function(languageId){var electricCharacterSupport=this._getElectricCharacterSupport(languageId);return electricCharacterSupport?electricCharacterSupport.getElectricCharacters():[]},LanguageConfigurationRegistryImpl.prototype.onElectricCharacter=function(character,context,column){var scopedLineTokens=Object(supports.a)(context,column-1),electricCharacterSupport=this._getElectricCharacterSupport(scopedLineTokens.languageId);return electricCharacterSupport?electricCharacterSupport.onElectricCharacter(character,scopedLineTokens,column-scopedLineTokens.firstCharOffset):null},LanguageConfigurationRegistryImpl.prototype.getComments=function(languageId){var value=this._getRichEditSupport(languageId);return value&&value.comments||null},LanguageConfigurationRegistryImpl.prototype._getCharacterPairSupport=function(languageId){var value=this._getRichEditSupport(languageId);return value&&value.characterPair||null},LanguageConfigurationRegistryImpl.prototype.getAutoClosingPairs=function(languageId){var characterPairSupport=this._getCharacterPairSupport(languageId);return characterPairSupport?characterPairSupport.getAutoClosingPairs():[]},LanguageConfigurationRegistryImpl.prototype.getAutoCloseBeforeSet=function(languageId){var characterPairSupport=this._getCharacterPairSupport(languageId);return characterPairSupport?characterPairSupport.getAutoCloseBeforeSet():characterPair_CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED},LanguageConfigurationRegistryImpl.prototype.getSurroundingPairs=function(languageId){var characterPairSupport=this._getCharacterPairSupport(languageId);return characterPairSupport?characterPairSupport.getSurroundingPairs():[]},LanguageConfigurationRegistryImpl.prototype.shouldAutoClosePair=function(autoClosingPair,context,column){var scopedLineTokens=Object(supports.a)(context,column-1);return characterPair_CharacterPairSupport.shouldAutoClosePair(autoClosingPair,scopedLineTokens,column-scopedLineTokens.firstCharOffset)},LanguageConfigurationRegistryImpl.prototype.getWordDefinition=function(languageId){var value=this._getRichEditSupport(languageId);return value?Object(wordHelper.c)(value.wordDefinition||null):Object(wordHelper.c)(null)},LanguageConfigurationRegistryImpl.prototype.getFoldingRules=function(languageId){var value=this._getRichEditSupport(languageId);return value?value.foldingRules:{}},LanguageConfigurationRegistryImpl.prototype.getIndentRulesSupport=function(languageId){var value=this._getRichEditSupport(languageId);return value&&value.indentRulesSupport||null},LanguageConfigurationRegistryImpl.prototype.getPrecedingValidLine=function(model,lineNumber,indentRulesSupport){var languageID=model.getLanguageIdAtPosition(lineNumber,0);if(lineNumber>1){var lastLineNumber=void 0,resultLineNumber=-1;for(lastLineNumber=lineNumber-1;lastLineNumber>=1;lastLineNumber--){if(model.getLanguageIdAtPosition(lastLineNumber,0)!==languageID)return resultLineNumber;var text=model.getLineContent(lastLineNumber);if(indentRulesSupport.shouldIgnore(text)||/^\s+$/.test(text)||text===""){resultLineNumber=lastLineNumber;continue}return lastLineNumber}}return-1},LanguageConfigurationRegistryImpl.prototype.getInheritIndentForLine=function(autoIndent,model,lineNumber,honorIntentialIndent){if(honorIntentialIndent===void 0&&(honorIntentialIndent=!0),autoIndent<4)return null;var indentRulesSupport=this.getIndentRulesSupport(model.getLanguageIdentifier().id);if(!indentRulesSupport)return null;if(lineNumber<=1)return{indentation:"",action:null};var precedingUnIgnoredLine=this.getPrecedingValidLine(model,lineNumber,indentRulesSupport);if(precedingUnIgnoredLine<0)return null;if(precedingUnIgnoredLine<1)return{indentation:"",action:null};var precedingUnIgnoredLineContent=model.getLineContent(precedingUnIgnoredLine);if(indentRulesSupport.shouldIncrease(precedingUnIgnoredLineContent)||indentRulesSupport.shouldIndentNextLine(precedingUnIgnoredLineContent))return{indentation:strings.u(precedingUnIgnoredLineContent),action:languageConfiguration.a.Indent,line:precedingUnIgnoredLine};if(indentRulesSupport.shouldDecrease(precedingUnIgnoredLineContent))return{indentation:strings.u(precedingUnIgnoredLineContent),action:null,line:precedingUnIgnoredLine};if(precedingUnIgnoredLine===1)return{indentation:strings.u(model.getLineContent(precedingUnIgnoredLine)),action:null,line:precedingUnIgnoredLine};var previousLine=precedingUnIgnoredLine-1,previousLineIndentMetadata=indentRulesSupport.getIndentMetadata(model.getLineContent(previousLine));if(!(previousLineIndentMetadata&3)&&previousLineIndentMetadata&4){for(var stopLine=0,i=previousLine-1;i>0;i--)if(!indentRulesSupport.shouldIndentNextLine(model.getLineContent(i))){stopLine=i;break}return{indentation:strings.u(model.getLineContent(stopLine+1)),action:null,line:stopLine+1}}if(honorIntentialIndent)return{indentation:strings.u(model.getLineContent(precedingUnIgnoredLine)),action:null,line:precedingUnIgnoredLine};for(var i=precedingUnIgnoredLine;i>0;i--){var lineContent=model.getLineContent(i);if(indentRulesSupport.shouldIncrease(lineContent))return{indentation:strings.u(lineContent),action:languageConfiguration.a.Indent,line:i};if(indentRulesSupport.shouldIndentNextLine(lineContent)){for(var stopLine=0,j=i-1;j>0;j--)if(!indentRulesSupport.shouldIndentNextLine(model.getLineContent(i))){stopLine=j;break}return{indentation:strings.u(model.getLineContent(stopLine+1)),action:null,line:stopLine+1}}else if(indentRulesSupport.shouldDecrease(lineContent))return{indentation:strings.u(lineContent),action:null,line:i}}return{indentation:strings.u(model.getLineContent(1)),action:null,line:1}},LanguageConfigurationRegistryImpl.prototype.getGoodIndentForLine=function(autoIndent,virtualModel,languageId,lineNumber,indentConverter){if(autoIndent<4)return null;var richEditSupport=this._getRichEditSupport(languageId);if(!richEditSupport)return null;var indentRulesSupport=this.getIndentRulesSupport(languageId);if(!indentRulesSupport)return null;var indent=this.getInheritIndentForLine(autoIndent,virtualModel,lineNumber),lineContent=virtualModel.getLineContent(lineNumber);if(indent){var inheritLine=indent.line;if(inheritLine!==void 0){var enterResult=richEditSupport.onEnter(autoIndent,"",virtualModel.getLineContent(inheritLine),"");if(enterResult){var indentation=strings.u(virtualModel.getLineContent(inheritLine));return enterResult.removeText&&(indentation=indentation.substring(0,indentation.length-enterResult.removeText)),enterResult.indentAction===languageConfiguration.a.Indent||enterResult.indentAction===languageConfiguration.a.IndentOutdent?indentation=indentConverter.shiftIndent(indentation):enterResult.indentAction===languageConfiguration.a.Outdent&&(indentation=indentConverter.unshiftIndent(indentation)),indentRulesSupport.shouldDecrease(lineContent)&&(indentation=indentConverter.unshiftIndent(indentation)),enterResult.appendText&&(indentation+=enterResult.appendText),strings.u(indentation)}}return indentRulesSupport.shouldDecrease(lineContent)?indent.action===languageConfiguration.a.Indent?indent.indentation:indentConverter.unshiftIndent(indent.indentation):indent.action===languageConfiguration.a.Indent?indentConverter.shiftIndent(indent.indentation):indent.indentation}return null},LanguageConfigurationRegistryImpl.prototype.getIndentForEnter=function(autoIndent,model,range,indentConverter){if(autoIndent<4)return null;model.forceTokenization(range.startLineNumber);var lineTokens=model.getLineTokens(range.startLineNumber),scopedLineTokens=Object(supports.a)(lineTokens,range.startColumn-1),scopedLineText=scopedLineTokens.getLineContent(),embeddedLanguage=!1,beforeEnterText;scopedLineTokens.firstCharOffset>0&&lineTokens.getLanguageId(0)!==scopedLineTokens.languageId?(embeddedLanguage=!0,beforeEnterText=scopedLineText.substr(0,range.startColumn-1-scopedLineTokens.firstCharOffset)):beforeEnterText=lineTokens.getLineContent().substring(0,range.startColumn-1);var afterEnterText;if(range.isEmpty())afterEnterText=scopedLineText.substr(range.startColumn-1-scopedLineTokens.firstCharOffset);else{var endScopedLineTokens=this.getScopedLineTokens(model,range.endLineNumber,range.endColumn);afterEnterText=endScopedLineTokens.getLineContent().substr(range.endColumn-1-scopedLineTokens.firstCharOffset)}var indentRulesSupport=this.getIndentRulesSupport(scopedLineTokens.languageId);if(!indentRulesSupport)return null;var beforeEnterResult=beforeEnterText,beforeEnterIndent=strings.u(beforeEnterText),virtualModel={getLineTokens:function(lineNumber){return model.getLineTokens(lineNumber)},getLanguageIdentifier:function(){return model.getLanguageIdentifier()},getLanguageIdAtPosition:function(lineNumber,column){return model.getLanguageIdAtPosition(lineNumber,column)},getLineContent:function(lineNumber){return lineNumber===range.startLineNumber?beforeEnterResult:model.getLineContent(lineNumber)}},currentLineIndent=strings.u(lineTokens.getLineContent()),afterEnterAction=this.getInheritIndentForLine(autoIndent,virtualModel,range.startLineNumber+1);if(!afterEnterAction){var beforeEnter=embeddedLanguage?currentLineIndent:beforeEnterIndent;return{beforeEnter,afterEnter:beforeEnter}}var afterEnterIndent=embeddedLanguage?currentLineIndent:afterEnterAction.indentation;return afterEnterAction.action===languageConfiguration.a.Indent&&(afterEnterIndent=indentConverter.shiftIndent(afterEnterIndent)),indentRulesSupport.shouldDecrease(afterEnterText)&&(afterEnterIndent=indentConverter.unshiftIndent(afterEnterIndent)),{beforeEnter:embeddedLanguage?currentLineIndent:beforeEnterIndent,afterEnter:afterEnterIndent}},LanguageConfigurationRegistryImpl.prototype.getIndentActionForType=function(autoIndent,model,range,ch,indentConverter){if(autoIndent<4)return null;var scopedLineTokens=this.getScopedLineTokens(model,range.startLineNumber,range.startColumn),indentRulesSupport=this.getIndentRulesSupport(scopedLineTokens.languageId);if(!indentRulesSupport)return null;var scopedLineText=scopedLineTokens.getLineContent(),beforeTypeText=scopedLineText.substr(0,range.startColumn-1-scopedLineTokens.firstCharOffset),afterTypeText;if(range.isEmpty())afterTypeText=scopedLineText.substr(range.startColumn-1-scopedLineTokens.firstCharOffset);else{var endScopedLineTokens=this.getScopedLineTokens(model,range.endLineNumber,range.endColumn);afterTypeText=endScopedLineTokens.getLineContent().substr(range.endColumn-1-scopedLineTokens.firstCharOffset)}if(!indentRulesSupport.shouldDecrease(beforeTypeText+afterTypeText)&&indentRulesSupport.shouldDecrease(beforeTypeText+ch+afterTypeText)){var r=this.getInheritIndentForLine(autoIndent,model,range.startLineNumber,!1);if(!r)return null;var indentation=r.indentation;return r.action!==languageConfiguration.a.Indent&&(indentation=indentConverter.unshiftIndent(indentation)),indentation}return null},LanguageConfigurationRegistryImpl.prototype.getIndentMetadata=function(model,lineNumber){var indentRulesSupport=this.getIndentRulesSupport(model.getLanguageIdentifier().id);return!indentRulesSupport||lineNumber<1||lineNumber>model.getLineCount()?null:indentRulesSupport.getIndentMetadata(model.getLineContent(lineNumber))},LanguageConfigurationRegistryImpl.prototype.getEnterAction=function(autoIndent,model,range){var scopedLineTokens=this.getScopedLineTokens(model,range.startLineNumber,range.startColumn),richEditSupport=this._getRichEditSupport(scopedLineTokens.languageId);if(!richEditSupport)return null;var scopedLineText=scopedLineTokens.getLineContent(),beforeEnterText=scopedLineText.substr(0,range.startColumn-1-scopedLineTokens.firstCharOffset),afterEnterText;if(range.isEmpty())afterEnterText=scopedLineText.substr(range.startColumn-1-scopedLineTokens.firstCharOffset);else{var endScopedLineTokens=this.getScopedLineTokens(model,range.endLineNumber,range.endColumn);afterEnterText=endScopedLineTokens.getLineContent().substr(range.endColumn-1-scopedLineTokens.firstCharOffset)}var oneLineAboveText="";if(range.startLineNumber>1&&scopedLineTokens.firstCharOffset===0){var oneLineAboveScopedLineTokens=this.getScopedLineTokens(model,range.startLineNumber-1);oneLineAboveScopedLineTokens.languageId===scopedLineTokens.languageId&&(oneLineAboveText=oneLineAboveScopedLineTokens.getLineContent())}var enterResult=richEditSupport.onEnter(autoIndent,oneLineAboveText,beforeEnterText,afterEnterText);if(!enterResult)return null;var indentAction=enterResult.indentAction,appendText=enterResult.appendText,removeText=enterResult.removeText||0;appendText||(indentAction===languageConfiguration.a.Indent||indentAction===languageConfiguration.a.IndentOutdent?appendText="	":appendText="");var indentation=this.getIndentationAtPosition(model,range.startLineNumber,range.startColumn);return removeText&&(indentation=indentation.substring(0,indentation.length-removeText)),{indentAction,appendText,removeText,indentation}},LanguageConfigurationRegistryImpl.prototype.getIndentationAtPosition=function(model,lineNumber,column){var lineText=model.getLineContent(lineNumber),indentation=strings.u(lineText);return indentation.length>column-1&&(indentation=indentation.substring(0,column-1)),indentation},LanguageConfigurationRegistryImpl.prototype.getScopedLineTokens=function(model,lineNumber,columnNumber){model.forceTokenization(lineNumber);var lineTokens=model.getLineTokens(lineNumber),column=typeof columnNumber>"u"?model.getLineMaxColumn(lineNumber)-1:columnNumber-1;return Object(supports.a)(lineTokens,column)},LanguageConfigurationRegistryImpl.prototype.getBracketsSupport=function(languageId){var value=this._getRichEditSupport(languageId);return value&&value.brackets||null},LanguageConfigurationRegistryImpl}(),LanguageConfigurationRegistry=new languageConfigurationRegistry_LanguageConfigurationRegistryImpl},2813:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return StandardMouseEvent}),__webpack_require__.d(__webpack_exports__,"a",function(){return DragMouseEvent}),__webpack_require__.d(__webpack_exports__,"c",function(){return StandardWheelEvent});var _browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2642),_iframe_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3862),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2236),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),StandardMouseEvent=function(){function StandardMouseEvent2(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var iframeOffsets=_iframe_js__WEBPACK_IMPORTED_MODULE_1__.a.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=iframeOffsets.left,this.posy-=iframeOffsets.top}return StandardMouseEvent2.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},StandardMouseEvent2.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},StandardMouseEvent2}(),DragMouseEvent=function(_super){__extends(DragMouseEvent2,_super);function DragMouseEvent2(e){var _this=_super.call(this,e)||this;return _this.dataTransfer=e.dataTransfer,_this}return DragMouseEvent2}(StandardMouseEvent),StandardWheelEvent=function(){function StandardWheelEvent2(e,deltaX,deltaY){if(deltaX===void 0&&(deltaX=0),deltaY===void 0&&(deltaY=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=deltaY,this.deltaX=deltaX,e){var e1=e,e2=e;if(typeof e1.wheelDeltaY<"u")this.deltaY=e1.wheelDeltaY/120;else if(typeof e2.VERTICAL_AXIS<"u"&&e2.axis===e2.VERTICAL_AXIS)this.deltaY=-e2.detail/3;else if(e.type==="wheel"){var ev=e;ev.deltaMode===ev.DOM_DELTA_LINE?this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof e1.wheelDeltaX<"u")_browser_js__WEBPACK_IMPORTED_MODULE_0__.k&&_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.h?this.deltaX=-(e1.wheelDeltaX/120):this.deltaX=e1.wheelDeltaX/120;else if(typeof e2.HORIZONTAL_AXIS<"u"&&e2.axis===e2.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){var ev=e;ev.deltaMode===ev.DOM_DELTA_LINE?this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}return StandardWheelEvent2.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},StandardWheelEvent2.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},StandardWheelEvent2}()},2814:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Schemas}),__webpack_require__.d(__webpack_exports__,"a",function(){return RemoteAuthorities});var _uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2640),_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2236),Schemas;(function(Schemas2){Schemas2.inMemory="inmemory",Schemas2.vscode="vscode",Schemas2.internal="private",Schemas2.walkThrough="walkThrough",Schemas2.walkThroughSnippet="walkThroughSnippet",Schemas2.http="http",Schemas2.https="https",Schemas2.file="file",Schemas2.mailto="mailto",Schemas2.untitled="untitled",Schemas2.data="data",Schemas2.command="command",Schemas2.vscodeRemote="vscode-remote",Schemas2.vscodeRemoteResource="vscode-remote-resource",Schemas2.userData="vscode-userdata"})(Schemas||(Schemas={}));var RemoteAuthoritiesImpl=function(){function RemoteAuthoritiesImpl2(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}return RemoteAuthoritiesImpl2.prototype.setPreferredWebSchema=function(schema){this._preferredWebSchema=schema},RemoteAuthoritiesImpl2.prototype.rewrite=function(uri){if(this._delegate)return this._delegate(uri);var authority=uri.authority,host=this._hosts[authority];host&&host.indexOf(":")!==-1&&(host="["+host+"]");var port=this._ports[authority],connectionToken=this._connectionTokens[authority],query="path="+encodeURIComponent(uri.path);return typeof connectionToken=="string"&&(query+="&tkn="+encodeURIComponent(connectionToken)),_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.from({scheme:_platform_js__WEBPACK_IMPORTED_MODULE_1__.g?this._preferredWebSchema:Schemas.vscodeRemoteResource,authority:host+":"+port,path:"/vscode-remote-resource",query})},RemoteAuthoritiesImpl2}(),RemoteAuthorities=new RemoteAuthoritiesImpl},2815:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return setARIAContainer}),__webpack_require__.d(__webpack_exports__,"a",function(){return alert}),__webpack_require__.d(__webpack_exports__,"c",function(){return status});var _aria_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5742),_aria_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_aria_css__WEBPACK_IMPORTED_MODULE_0__),_nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2069),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2236),_dom_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2124),ariaContainer,alertContainer,statusContainer;function setARIAContainer(parent){ariaContainer=document.createElement("div"),ariaContainer.className="monaco-aria-container",alertContainer=document.createElement("div"),alertContainer.className="monaco-alert",alertContainer.setAttribute("role","alert"),alertContainer.setAttribute("aria-atomic","true"),ariaContainer.appendChild(alertContainer),statusContainer=document.createElement("div"),statusContainer.className="monaco-status",statusContainer.setAttribute("role","status"),statusContainer.setAttribute("aria-atomic","true"),ariaContainer.appendChild(statusContainer),parent.appendChild(ariaContainer)}function alert(msg,disableRepeat){insertMessage(alertContainer,msg,disableRepeat)}function status(msg,disableRepeat){_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.e?alert(msg,disableRepeat):insertMessage(statusContainer,msg,disableRepeat)}var repeatedTimes=0,prevText=void 0;function insertMessage(target,msg,disableRepeat){if(ariaContainer){if(!disableRepeat)switch(prevText===msg?repeatedTimes++:(prevText=msg,repeatedTimes=0),repeatedTimes){case 0:break;case 1:msg=_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("repeated","{0} (occurred again)",msg);break;default:msg=_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("repeatedNtimes","{0} (occurred {1} times)",msg,repeatedTimes);break}_dom_js__WEBPACK_IMPORTED_MODULE_3__.t(target),target.textContent=msg,target.style.visibility="hidden",target.style.visibility="visible"}}},2816:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Widget});var _dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2124),_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3111),_mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2813),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2033),_touch_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3112),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),Widget=function(_super){__extends(Widget2,_super);function Widget2(){return _super!==null&&_super.apply(this,arguments)||this}return Widget2.prototype.onclick=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.d.CLICK,function(e){return listener(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.b(e))}))},Widget2.prototype.onmousedown=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.d.MOUSE_DOWN,function(e){return listener(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.b(e))}))},Widget2.prototype.onmouseover=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.d.MOUSE_OVER,function(e){return listener(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.b(e))}))},Widget2.prototype.onnonbubblingmouseout=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.k(domNode,function(e){return listener(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.b(e))}))},Widget2.prototype.onkeydown=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.d.KEY_DOWN,function(e){return listener(new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__.a(e))}))},Widget2.prototype.onkeyup=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.d.KEY_UP,function(e){return listener(new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__.a(e))}))},Widget2.prototype.oninput=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.d.INPUT,listener))},Widget2.prototype.onblur=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.d.BLUR,listener))},Widget2.prototype.onfocus=function(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.d.FOCUS,listener))},Widget2.prototype.ignoreGesture=function(domNode){_touch_js__WEBPACK_IMPORTED_MODULE_4__.b.ignoreTarget(domNode)},Widget2}(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a)},2817:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IModelService}),__webpack_require__.d(__webpack_exports__,"b",function(){return shouldSynchronizeModel});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IModelService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("modelService");function shouldSynchronizeModel(model){return!model.isTooLargeForSyncing()&&!model.isForSimpleWidget}},2818:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Registry});var _base_common_types_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2631),_base_common_assert_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3489),RegistryImpl=function(){function RegistryImpl2(){this.data=new Map}return RegistryImpl2.prototype.add=function(id,data){_base_common_assert_js__WEBPACK_IMPORTED_MODULE_1__.a(_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.j(id)),_base_common_assert_js__WEBPACK_IMPORTED_MODULE_1__.a(_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.i(data)),_base_common_assert_js__WEBPACK_IMPORTED_MODULE_1__.a(!this.data.has(id),"There is already an extension with this id"),this.data.set(id,data)},RegistryImpl2.prototype.as=function(id){return this.data.get(id)||null},RegistryImpl2}(),Registry=new RegistryImpl},2819:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return OverviewRulerLane}),__webpack_require__.d(__webpack_exports__,"c",function(){return MinimapPosition}),__webpack_require__.d(__webpack_exports__,"e",function(){return TextModelResolvedOptions}),__webpack_require__.d(__webpack_exports__,"b",function(){return FindMatch}),__webpack_require__.d(__webpack_exports__,"a",function(){return ApplyEditsResult});var OverviewRulerLane;(function(OverviewRulerLane2){OverviewRulerLane2[OverviewRulerLane2.Left=1]="Left",OverviewRulerLane2[OverviewRulerLane2.Center=2]="Center",OverviewRulerLane2[OverviewRulerLane2.Right=4]="Right",OverviewRulerLane2[OverviewRulerLane2.Full=7]="Full"})(OverviewRulerLane||(OverviewRulerLane={}));var MinimapPosition;(function(MinimapPosition2){MinimapPosition2[MinimapPosition2.Inline=1]="Inline",MinimapPosition2[MinimapPosition2.Gutter=2]="Gutter"})(MinimapPosition||(MinimapPosition={}));var TextModelResolvedOptions=function(){function TextModelResolvedOptions2(src){this.tabSize=Math.max(1,src.tabSize|0),this.indentSize=src.tabSize|0,this.insertSpaces=!!src.insertSpaces,this.defaultEOL=src.defaultEOL|0,this.trimAutoWhitespace=!!src.trimAutoWhitespace}return TextModelResolvedOptions2.prototype.equals=function(other){return this.tabSize===other.tabSize&&this.indentSize===other.indentSize&&this.insertSpaces===other.insertSpaces&&this.defaultEOL===other.defaultEOL&&this.trimAutoWhitespace===other.trimAutoWhitespace},TextModelResolvedOptions2.prototype.createChangeEvent=function(newOpts){return{tabSize:this.tabSize!==newOpts.tabSize,indentSize:this.indentSize!==newOpts.indentSize,insertSpaces:this.insertSpaces!==newOpts.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==newOpts.trimAutoWhitespace}},TextModelResolvedOptions2}(),FindMatch=function(){function FindMatch2(range,matches){this.range=range,this.matches=matches}return FindMatch2}(),ApplyEditsResult=function(){function ApplyEditsResult2(reverseEdits,changes,trimAutoWhitespaceLineNumbers){this.reverseEdits=reverseEdits,this.changes=changes,this.trimAutoWhitespaceLineNumbers=trimAutoWhitespaceLineNumbers}return ApplyEditsResult2}()},2849:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return domEvent}),__webpack_require__.d(__webpack_exports__,"b",function(){return stop});var _common_event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2106),domEvent=function(element,type,useCapture){var fn=function(e){return emitter.fire(e)},emitter=new _common_event_js__WEBPACK_IMPORTED_MODULE_0__.a({onFirstListenerAdd:function(){element.addEventListener(type,fn,useCapture)},onLastListenerRemove:function(){element.removeEventListener(type,fn,useCapture)}});return emitter.event};function stop(event){return _common_event_js__WEBPACK_IMPORTED_MODULE_0__.b.map(event,function(e){return e.preventDefault(),e.stopPropagation(),e})}},2850:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IOpenerService}),__webpack_require__.d(__webpack_exports__,"b",function(){return NullOpenerService}),__webpack_require__.d(__webpack_exports__,"c",function(){return matchesScheme});var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2640),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2232),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2033),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2123),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},IOpenerService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("openerService"),NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener:function(){return _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a.None},registerValidator:function(){return _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a.None},registerExternalUriResolver:function(){return _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a.None},setExternalOpener:function(){},open:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,!1]})})},resolveExternalUri:function(uri){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,{resolved:uri,dispose:function(){}}]})})}});function matchesScheme(target,scheme){return _base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.isUri(target)?Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.n)(target.scheme,scheme):Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.P)(target,scheme+":")}},3105:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return scrollableElement_ScrollableElement}),__webpack_require__.d(__webpack_exports__,"c",function(){return SmoothScrollableElement}),__webpack_require__.d(__webpack_exports__,"a",function(){return DomScrollableElement});var scrollbars=__webpack_require__(5753),browser=__webpack_require__(2642),dom=__webpack_require__(2124),fastDomNode=__webpack_require__(2662),mouseEvent=__webpack_require__(2813),globalMouseMoveMonitor=__webpack_require__(3238),widget=__webpack_require__(2816),common_async=__webpack_require__(2237),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ARROW_IMG_SIZE=11,scrollbarArrow_ScrollbarArrow=function(_super){__extends(ScrollbarArrow,_super);function ScrollbarArrow(opts){var _this=_super.call(this)||this;return _this._onActivate=opts.onActivate,_this.bgDomNode=document.createElement("div"),_this.bgDomNode.className="arrow-background",_this.bgDomNode.style.position="absolute",_this.bgDomNode.style.width=opts.bgWidth+"px",_this.bgDomNode.style.height=opts.bgHeight+"px",typeof opts.top<"u"&&(_this.bgDomNode.style.top="0px"),typeof opts.left<"u"&&(_this.bgDomNode.style.left="0px"),typeof opts.bottom<"u"&&(_this.bgDomNode.style.bottom="0px"),typeof opts.right<"u"&&(_this.bgDomNode.style.right="0px"),_this.domNode=document.createElement("div"),_this.domNode.className=opts.className,_this.domNode.style.position="absolute",_this.domNode.style.width=ARROW_IMG_SIZE+"px",_this.domNode.style.height=ARROW_IMG_SIZE+"px",typeof opts.top<"u"&&(_this.domNode.style.top=opts.top+"px"),typeof opts.left<"u"&&(_this.domNode.style.left=opts.left+"px"),typeof opts.bottom<"u"&&(_this.domNode.style.bottom=opts.bottom+"px"),typeof opts.right<"u"&&(_this.domNode.style.right=opts.right+"px"),_this._mouseMoveMonitor=_this._register(new globalMouseMoveMonitor.a),_this.onmousedown(_this.bgDomNode,function(e){return _this._arrowMouseDown(e)}),_this.onmousedown(_this.domNode,function(e){return _this._arrowMouseDown(e)}),_this._mousedownRepeatTimer=_this._register(new common_async.c),_this._mousedownScheduleRepeatTimer=_this._register(new common_async.e),_this}return ScrollbarArrow.prototype._arrowMouseDown=function(e){var _this=this,scheduleRepeater=function(){_this._mousedownRepeatTimer.cancelAndSet(function(){return _this._onActivate()},1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(scheduleRepeater,200),this._mouseMoveMonitor.startMonitoring(globalMouseMoveMonitor.b,function(mouseMoveData){},function(){_this._mousedownRepeatTimer.cancel(),_this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()},ScrollbarArrow}(widget.a),lifecycle=__webpack_require__(2033),scrollbarVisibilityController_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),scrollbarVisibilityController_ScrollbarVisibilityController=function(_super){scrollbarVisibilityController_extends(ScrollbarVisibilityController,_super);function ScrollbarVisibilityController(visibility,visibleClassName,invisibleClassName){var _this=_super.call(this)||this;return _this._visibility=visibility,_this._visibleClassName=visibleClassName,_this._invisibleClassName=invisibleClassName,_this._domNode=null,_this._isVisible=!1,_this._isNeeded=!1,_this._shouldBeVisible=!1,_this._revealTimer=_this._register(new common_async.e),_this}return ScrollbarVisibilityController.prototype.applyVisibilitySetting=function(shouldBeVisible){return this._visibility===2?!1:this._visibility===3?!0:shouldBeVisible},ScrollbarVisibilityController.prototype.setShouldBeVisible=function(rawShouldBeVisible){var shouldBeVisible=this.applyVisibilitySetting(rawShouldBeVisible);this._shouldBeVisible!==shouldBeVisible&&(this._shouldBeVisible=shouldBeVisible,this.ensureVisibility())},ScrollbarVisibilityController.prototype.setIsNeeded=function(isNeeded){this._isNeeded!==isNeeded&&(this._isNeeded=isNeeded,this.ensureVisibility())},ScrollbarVisibilityController.prototype.setDomNode=function(domNode){this._domNode=domNode,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},ScrollbarVisibilityController.prototype.ensureVisibility=function(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)},ScrollbarVisibilityController.prototype._reveal=function(){var _this=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){_this._domNode&&_this._domNode.setClassName(_this._visibleClassName)},0))},ScrollbarVisibilityController.prototype._hide=function(withFadeAway){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(withFadeAway?" fade":"")))},ScrollbarVisibilityController}(lifecycle.a),platform=__webpack_require__(2236),abstractScrollbar_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),MOUSE_DRAG_RESET_DISTANCE=140,abstractScrollbar_AbstractScrollbar=function(_super){abstractScrollbar_extends(AbstractScrollbar,_super);function AbstractScrollbar(opts){var _this=_super.call(this)||this;return _this._lazyRender=opts.lazyRender,_this._host=opts.host,_this._scrollable=opts.scrollable,_this._scrollbarState=opts.scrollbarState,_this._visibilityController=_this._register(new scrollbarVisibilityController_ScrollbarVisibilityController(opts.visibility,"visible scrollbar "+opts.extraScrollbarClassName,"invisible scrollbar "+opts.extraScrollbarClassName)),_this._mouseMoveMonitor=_this._register(new globalMouseMoveMonitor.a),_this._shouldRender=!0,_this.domNode=Object(fastDomNode.b)(document.createElement("div")),_this.domNode.setAttribute("role","presentation"),_this.domNode.setAttribute("aria-hidden","true"),_this._visibilityController.setDomNode(_this.domNode),_this.domNode.setPosition("absolute"),_this.onmousedown(_this.domNode.domNode,function(e){return _this._domNodeMouseDown(e)}),_this}return AbstractScrollbar.prototype._createArrow=function(opts){var arrow=this._register(new scrollbarArrow_ScrollbarArrow(opts));this.domNode.domNode.appendChild(arrow.bgDomNode),this.domNode.domNode.appendChild(arrow.domNode)},AbstractScrollbar.prototype._createSlider=function(top,left,width,height){var _this=this;this.slider=Object(fastDomNode.b)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(top),this.slider.setLeft(left),typeof width=="number"&&this.slider.setWidth(width),typeof height=="number"&&this.slider.setHeight(height),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(e){e.leftButton&&(e.preventDefault(),_this._sliderMouseDown(e,function(){}))}),this.onclick(this.slider.domNode,function(e){e.leftButton&&e.stopPropagation()})},AbstractScrollbar.prototype._onElementSize=function(visibleSize){return this._scrollbarState.setVisibleSize(visibleSize)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},AbstractScrollbar.prototype._onElementScrollSize=function(elementScrollSize){return this._scrollbarState.setScrollSize(elementScrollSize)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},AbstractScrollbar.prototype._onElementScrollPosition=function(elementScrollPosition){return this._scrollbarState.setScrollPosition(elementScrollPosition)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},AbstractScrollbar.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},AbstractScrollbar.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},AbstractScrollbar.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},AbstractScrollbar.prototype._domNodeMouseDown=function(e){e.target===this.domNode.domNode&&this._onMouseDown(e)},AbstractScrollbar.prototype.delegateMouseDown=function(e){var domTop=this.domNode.domNode.getClientRects()[0].top,sliderStart=domTop+this._scrollbarState.getSliderPosition(),sliderStop=domTop+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),mousePos=this._sliderMousePosition(e);sliderStart<=mousePos&&mousePos<=sliderStop?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,function(){})):this._onMouseDown(e)},AbstractScrollbar.prototype._onMouseDown=function(e){var offsetX,offsetY;if(e.target===this.domNode.domNode&&typeof e.browserEvent.offsetX=="number"&&typeof e.browserEvent.offsetY=="number")offsetX=e.browserEvent.offsetX,offsetY=e.browserEvent.offsetY;else{var domNodePosition=dom.B(this.domNode.domNode);offsetX=e.posx-domNodePosition.left,offsetY=e.posy-domNodePosition.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(offsetX,offsetY))),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,function(){}))},AbstractScrollbar.prototype._sliderMouseDown=function(e,onDragFinished){var _this=this,initialMousePosition=this._sliderMousePosition(e),initialMouseOrthogonalPosition=this._sliderOrthogonalMousePosition(e),initialScrollbarState=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(globalMouseMoveMonitor.b,function(mouseMoveData){var mouseOrthogonalPosition=_this._sliderOrthogonalMousePosition(mouseMoveData),mouseOrthogonalDelta=Math.abs(mouseOrthogonalPosition-initialMouseOrthogonalPosition);if(platform.h&&mouseOrthogonalDelta>MOUSE_DRAG_RESET_DISTANCE){_this._setDesiredScrollPositionNow(initialScrollbarState.getScrollPosition());return}var mousePosition=_this._sliderMousePosition(mouseMoveData),mouseDelta=mousePosition-initialMousePosition;_this._setDesiredScrollPositionNow(initialScrollbarState.getDesiredScrollPositionFromDelta(mouseDelta))},function(){_this.slider.toggleClassName("active",!1),_this._host.onDragEnd(),onDragFinished()}),this._host.onDragStart()},AbstractScrollbar.prototype._setDesiredScrollPositionNow=function(_desiredScrollPosition){var desiredScrollPosition={};this.writeScrollPosition(desiredScrollPosition,_desiredScrollPosition),this._scrollable.setScrollPositionNow(desiredScrollPosition)},AbstractScrollbar}(widget.a),MINIMUM_SLIDER_SIZE=20,ScrollbarState=function(){function ScrollbarState2(arrowSize,scrollbarSize,oppositeScrollbarSize){this._scrollbarSize=Math.round(scrollbarSize),this._oppositeScrollbarSize=Math.round(oppositeScrollbarSize),this._arrowSize=Math.round(arrowSize),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return ScrollbarState2.prototype.clone=function(){var r=new ScrollbarState2(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);return r.setVisibleSize(this._visibleSize),r.setScrollSize(this._scrollSize),r.setScrollPosition(this._scrollPosition),r},ScrollbarState2.prototype.setVisibleSize=function(visibleSize){var iVisibleSize=Math.round(visibleSize);return this._visibleSize!==iVisibleSize?(this._visibleSize=iVisibleSize,this._refreshComputedValues(),!0):!1},ScrollbarState2.prototype.setScrollSize=function(scrollSize){var iScrollSize=Math.round(scrollSize);return this._scrollSize!==iScrollSize?(this._scrollSize=iScrollSize,this._refreshComputedValues(),!0):!1},ScrollbarState2.prototype.setScrollPosition=function(scrollPosition){var iScrollPosition=Math.round(scrollPosition);return this._scrollPosition!==iScrollPosition?(this._scrollPosition=iScrollPosition,this._refreshComputedValues(),!0):!1},ScrollbarState2._computeValues=function(oppositeScrollbarSize,arrowSize,visibleSize,scrollSize,scrollPosition){var computedAvailableSize=Math.max(0,visibleSize-oppositeScrollbarSize),computedRepresentableSize=Math.max(0,computedAvailableSize-2*arrowSize),computedIsNeeded=scrollSize>0&&scrollSize>visibleSize;if(!computedIsNeeded)return{computedAvailableSize:Math.round(computedAvailableSize),computedIsNeeded,computedSliderSize:Math.round(computedRepresentableSize),computedSliderRatio:0,computedSliderPosition:0};var computedSliderSize=Math.round(Math.max(MINIMUM_SLIDER_SIZE,Math.floor(visibleSize*computedRepresentableSize/scrollSize))),computedSliderRatio=(computedRepresentableSize-computedSliderSize)/(scrollSize-visibleSize),computedSliderPosition=scrollPosition*computedSliderRatio;return{computedAvailableSize:Math.round(computedAvailableSize),computedIsNeeded,computedSliderSize:Math.round(computedSliderSize),computedSliderRatio,computedSliderPosition:Math.round(computedSliderPosition)}},ScrollbarState2.prototype._refreshComputedValues=function(){var r=ScrollbarState2._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=r.computedAvailableSize,this._computedIsNeeded=r.computedIsNeeded,this._computedSliderSize=r.computedSliderSize,this._computedSliderRatio=r.computedSliderRatio,this._computedSliderPosition=r.computedSliderPosition},ScrollbarState2.prototype.getArrowSize=function(){return this._arrowSize},ScrollbarState2.prototype.getScrollPosition=function(){return this._scrollPosition},ScrollbarState2.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},ScrollbarState2.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},ScrollbarState2.prototype.isNeeded=function(){return this._computedIsNeeded},ScrollbarState2.prototype.getSliderSize=function(){return this._computedSliderSize},ScrollbarState2.prototype.getSliderPosition=function(){return this._computedSliderPosition},ScrollbarState2.prototype.getDesiredScrollPositionFromOffset=function(offset){if(!this._computedIsNeeded)return 0;var desiredSliderPosition=offset-this._arrowSize-this._computedSliderSize/2;return Math.round(desiredSliderPosition/this._computedSliderRatio)},ScrollbarState2.prototype.getDesiredScrollPositionFromDelta=function(delta){if(!this._computedIsNeeded)return 0;var desiredSliderPosition=this._computedSliderPosition+delta;return Math.round(desiredSliderPosition/this._computedSliderRatio)},ScrollbarState2}(),horizontalScrollbar_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),horizontalScrollbar_HorizontalScrollbar=function(_super){horizontalScrollbar_extends(HorizontalScrollbar,_super);function HorizontalScrollbar(scrollable,options,host){var _this=_super.call(this,{lazyRender:options.lazyRender,host,scrollbarState:new ScrollbarState(options.horizontalHasArrows?options.arrowSize:0,options.horizontal===2?0:options.horizontalScrollbarSize,options.vertical===2?0:options.verticalScrollbarSize),visibility:options.horizontal,extraScrollbarClassName:"horizontal",scrollable})||this;if(options.horizontalHasArrows){var arrowDelta=(options.arrowSize-ARROW_IMG_SIZE)/2,scrollbarDelta=(options.horizontalScrollbarSize-ARROW_IMG_SIZE)/2;_this._createArrow({className:"left-arrow",top:scrollbarDelta,left:arrowDelta,bottom:void 0,right:void 0,bgWidth:options.arrowSize,bgHeight:options.horizontalScrollbarSize,onActivate:function(){return _this._host.onMouseWheel(new mouseEvent.c(null,1,0))}}),_this._createArrow({className:"right-arrow",top:scrollbarDelta,left:void 0,bottom:void 0,right:arrowDelta,bgWidth:options.arrowSize,bgHeight:options.horizontalScrollbarSize,onActivate:function(){return _this._host.onMouseWheel(new mouseEvent.c(null,-1,0))}})}return _this._createSlider(Math.floor((options.horizontalScrollbarSize-options.horizontalSliderSize)/2),0,void 0,options.horizontalSliderSize),_this}return HorizontalScrollbar.prototype._updateSlider=function(sliderSize,sliderPosition){this.slider.setWidth(sliderSize),this.slider.setLeft(sliderPosition)},HorizontalScrollbar.prototype._renderDomNode=function(largeSize,smallSize){this.domNode.setWidth(largeSize),this.domNode.setHeight(smallSize),this.domNode.setLeft(0),this.domNode.setBottom(0)},HorizontalScrollbar.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender},HorizontalScrollbar.prototype._mouseDownRelativePosition=function(offsetX,offsetY){return offsetX},HorizontalScrollbar.prototype._sliderMousePosition=function(e){return e.posx},HorizontalScrollbar.prototype._sliderOrthogonalMousePosition=function(e){return e.posy},HorizontalScrollbar.prototype.writeScrollPosition=function(target,scrollPosition){target.scrollLeft=scrollPosition},HorizontalScrollbar}(abstractScrollbar_AbstractScrollbar),verticalScrollbar_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),verticalScrollbar_VerticalScrollbar=function(_super){verticalScrollbar_extends(VerticalScrollbar,_super);function VerticalScrollbar(scrollable,options,host){var _this=_super.call(this,{lazyRender:options.lazyRender,host,scrollbarState:new ScrollbarState(options.verticalHasArrows?options.arrowSize:0,options.vertical===2?0:options.verticalScrollbarSize,0),visibility:options.vertical,extraScrollbarClassName:"vertical",scrollable})||this;if(options.verticalHasArrows){var arrowDelta=(options.arrowSize-ARROW_IMG_SIZE)/2,scrollbarDelta=(options.verticalScrollbarSize-ARROW_IMG_SIZE)/2;_this._createArrow({className:"up-arrow",top:arrowDelta,left:scrollbarDelta,bottom:void 0,right:void 0,bgWidth:options.verticalScrollbarSize,bgHeight:options.arrowSize,onActivate:function(){return _this._host.onMouseWheel(new mouseEvent.c(null,0,1))}}),_this._createArrow({className:"down-arrow",top:void 0,left:scrollbarDelta,bottom:arrowDelta,right:void 0,bgWidth:options.verticalScrollbarSize,bgHeight:options.arrowSize,onActivate:function(){return _this._host.onMouseWheel(new mouseEvent.c(null,0,-1))}})}return _this._createSlider(0,Math.floor((options.verticalScrollbarSize-options.verticalSliderSize)/2),options.verticalSliderSize,void 0),_this}return VerticalScrollbar.prototype._updateSlider=function(sliderSize,sliderPosition){this.slider.setHeight(sliderSize),this.slider.setTop(sliderPosition)},VerticalScrollbar.prototype._renderDomNode=function(largeSize,smallSize){this.domNode.setWidth(smallSize),this.domNode.setHeight(largeSize),this.domNode.setRight(0),this.domNode.setTop(0)},VerticalScrollbar.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender},VerticalScrollbar.prototype._mouseDownRelativePosition=function(offsetX,offsetY){return offsetY},VerticalScrollbar.prototype._sliderMousePosition=function(e){return e.posy},VerticalScrollbar.prototype._sliderOrthogonalMousePosition=function(e){return e.posx},VerticalScrollbar.prototype.writeScrollPosition=function(target,scrollPosition){target.scrollTop=scrollPosition},VerticalScrollbar}(abstractScrollbar_AbstractScrollbar),common_event=__webpack_require__(2106),common_scrollable=__webpack_require__(3871),scrollableElement_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),HIDE_TIMEOUT=500,SCROLL_WHEEL_SENSITIVITY=50,SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED=!0,MouseWheelClassifierItem=function(){function MouseWheelClassifierItem2(timestamp,deltaX,deltaY){this.timestamp=timestamp,this.deltaX=deltaX,this.deltaY=deltaY,this.score=0}return MouseWheelClassifierItem2}(),MouseWheelClassifier=function(){function MouseWheelClassifier2(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return MouseWheelClassifier2.prototype.isPhysicalMouseWheel=function(){if(this._front===-1&&this._rear===-1)return!1;var remainingInfluence=1,score=0,iteration=1,index=this._rear;do{var influence=index===this._front?remainingInfluence:Math.pow(2,-iteration);if(remainingInfluence-=influence,score+=this._memory[index].score*influence,index===this._front)break;index=(this._capacity+index-1)%this._capacity,iteration++}while(!0);return score<=.5},MouseWheelClassifier2.prototype.accept=function(timestamp,deltaX,deltaY){var item=new MouseWheelClassifierItem(timestamp,deltaX,deltaY);item.score=this._computeScore(item),this._front===-1&&this._rear===-1?(this._memory[0]=item,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=item)},MouseWheelClassifier2.prototype._computeScore=function(item){if(Math.abs(item.deltaX)>0&&Math.abs(item.deltaY)>0)return 1;var score=.5,prev=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(Math.abs(item.deltaX-Math.round(item.deltaX))>0||Math.abs(item.deltaY-Math.round(item.deltaY))>0)&&(score+=.25),Math.min(Math.max(score,0),1)},MouseWheelClassifier2.INSTANCE=new MouseWheelClassifier2,MouseWheelClassifier2}(),scrollableElement_AbstractScrollableElement=function(_super){scrollableElement_extends(AbstractScrollableElement,_super);function AbstractScrollableElement(element,options,scrollable){var _this=_super.call(this)||this;_this._onScroll=_this._register(new common_event.a),_this.onScroll=_this._onScroll.event,element.style.overflow="hidden",_this._options=resolveOptions(options),_this._scrollable=scrollable,_this._register(_this._scrollable.onScroll(function(e){_this._onDidScroll(e),_this._onScroll.fire(e)}));var scrollbarHost={onMouseWheel:function(mouseWheelEvent){return _this._onMouseWheel(mouseWheelEvent)},onDragStart:function(){return _this._onDragStart()},onDragEnd:function(){return _this._onDragEnd()}};return _this._verticalScrollbar=_this._register(new verticalScrollbar_VerticalScrollbar(_this._scrollable,_this._options,scrollbarHost)),_this._horizontalScrollbar=_this._register(new horizontalScrollbar_HorizontalScrollbar(_this._scrollable,_this._options,scrollbarHost)),_this._domNode=document.createElement("div"),_this._domNode.className="monaco-scrollable-element "+_this._options.className,_this._domNode.setAttribute("role","presentation"),_this._domNode.style.position="relative",_this._domNode.style.overflow="hidden",_this._domNode.appendChild(element),_this._domNode.appendChild(_this._horizontalScrollbar.domNode.domNode),_this._domNode.appendChild(_this._verticalScrollbar.domNode.domNode),_this._options.useShadows?(_this._leftShadowDomNode=Object(fastDomNode.b)(document.createElement("div")),_this._leftShadowDomNode.setClassName("shadow"),_this._domNode.appendChild(_this._leftShadowDomNode.domNode),_this._topShadowDomNode=Object(fastDomNode.b)(document.createElement("div")),_this._topShadowDomNode.setClassName("shadow"),_this._domNode.appendChild(_this._topShadowDomNode.domNode),_this._topLeftShadowDomNode=Object(fastDomNode.b)(document.createElement("div")),_this._topLeftShadowDomNode.setClassName("shadow top-left-corner"),_this._domNode.appendChild(_this._topLeftShadowDomNode.domNode)):(_this._leftShadowDomNode=null,_this._topShadowDomNode=null,_this._topLeftShadowDomNode=null),_this._listenOnDomNode=_this._options.listenOnDomNode||_this._domNode,_this._mouseWheelToDispose=[],_this._setListeningToMouseWheel(_this._options.handleMouseWheel),_this.onmouseover(_this._listenOnDomNode,function(e){return _this._onMouseOver(e)}),_this.onnonbubblingmouseout(_this._listenOnDomNode,function(e){return _this._onMouseOut(e)}),_this._hideTimeout=_this._register(new common_async.e),_this._isDragging=!1,_this._mouseIsOver=!1,_this._shouldRender=!0,_this._revealOnScroll=!0,_this}return AbstractScrollableElement.prototype.dispose=function(){this._mouseWheelToDispose=Object(lifecycle.f)(this._mouseWheelToDispose),_super.prototype.dispose.call(this)},AbstractScrollableElement.prototype.getDomNode=function(){return this._domNode},AbstractScrollableElement.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},AbstractScrollableElement.prototype.delegateVerticalScrollbarMouseDown=function(browserEvent){this._verticalScrollbar.delegateMouseDown(browserEvent)},AbstractScrollableElement.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()},AbstractScrollableElement.prototype.setScrollDimensions=function(dimensions){this._scrollable.setScrollDimensions(dimensions)},AbstractScrollableElement.prototype.updateClassName=function(newClassName){this._options.className=newClassName,platform.e&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},AbstractScrollableElement.prototype.updateOptions=function(newOptions){var massagedOptions=resolveOptions(newOptions);this._options.handleMouseWheel=massagedOptions.handleMouseWheel,this._options.mouseWheelScrollSensitivity=massagedOptions.mouseWheelScrollSensitivity,this._options.fastScrollSensitivity=massagedOptions.fastScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},AbstractScrollableElement.prototype._setListeningToMouseWheel=function(shouldListen){var _this=this,isListening=this._mouseWheelToDispose.length>0;if(isListening!==shouldListen&&(this._mouseWheelToDispose=Object(lifecycle.f)(this._mouseWheelToDispose),shouldListen)){var onMouseWheel=function(browserEvent){_this._onMouseWheel(new mouseEvent.c(browserEvent))};this._mouseWheelToDispose.push(dom.j(this._listenOnDomNode,browser.f?"mousewheel":"wheel",onMouseWheel,{passive:!1}))}},AbstractScrollableElement.prototype._onMouseWheel=function(e){var _a,classifier=MouseWheelClassifier.INSTANCE;if(SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED&&classifier.accept(Date.now(),e.deltaX,e.deltaY),e.deltaY||e.deltaX){var deltaY=e.deltaY*this._options.mouseWheelScrollSensitivity,deltaX=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(_a=[deltaX,deltaY],deltaY=_a[0],deltaX=_a[1]);var shiftConvert=!platform.e&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||shiftConvert)&&!deltaX&&(deltaX=deltaY,deltaY=0),e.browserEvent&&e.browserEvent.altKey&&(deltaX=deltaX*this._options.fastScrollSensitivity,deltaY=deltaY*this._options.fastScrollSensitivity);var futureScrollPosition=this._scrollable.getFutureScrollPosition(),desiredScrollPosition={};if(deltaY){var desiredScrollTop=futureScrollPosition.scrollTop-SCROLL_WHEEL_SENSITIVITY*deltaY;this._verticalScrollbar.writeScrollPosition(desiredScrollPosition,desiredScrollTop)}if(deltaX){var desiredScrollLeft=futureScrollPosition.scrollLeft-SCROLL_WHEEL_SENSITIVITY*deltaX;this._horizontalScrollbar.writeScrollPosition(desiredScrollPosition,desiredScrollLeft)}if(desiredScrollPosition=this._scrollable.validateScrollPosition(desiredScrollPosition),futureScrollPosition.scrollLeft!==desiredScrollPosition.scrollLeft||futureScrollPosition.scrollTop!==desiredScrollPosition.scrollTop){var canPerformSmoothScroll=SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED&&this._options.mouseWheelSmoothScroll&&classifier.isPhysicalMouseWheel();canPerformSmoothScroll?this._scrollable.setScrollPositionSmooth(desiredScrollPosition):this._scrollable.setScrollPositionNow(desiredScrollPosition),this._shouldRender=!0}}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation())},AbstractScrollableElement.prototype._onDidScroll=function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()},AbstractScrollableElement.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},AbstractScrollableElement.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var scrollState=this._scrollable.getCurrentScrollPosition(),enableTop=scrollState.scrollTop>0,enableLeft=scrollState.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(enableLeft?" left":"")),this._topShadowDomNode.setClassName("shadow"+(enableTop?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(enableTop?" top":"")+(enableLeft?" left":""))}},AbstractScrollableElement.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},AbstractScrollableElement.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},AbstractScrollableElement.prototype._onMouseOut=function(e){this._mouseIsOver=!1,this._hide()},AbstractScrollableElement.prototype._onMouseOver=function(e){this._mouseIsOver=!0,this._reveal()},AbstractScrollableElement.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},AbstractScrollableElement.prototype._hide=function(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},AbstractScrollableElement.prototype._scheduleHide=function(){var _this=this;!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(function(){return _this._hide()},HIDE_TIMEOUT)},AbstractScrollableElement}(widget.a),scrollableElement_ScrollableElement=function(_super){scrollableElement_extends(ScrollableElement,_super);function ScrollableElement(element,options){var _this=this;options=options||{},options.mouseWheelSmoothScroll=!1;var scrollable=new common_scrollable.a(0,function(callback){return dom.T(callback)});return _this=_super.call(this,element,options,scrollable)||this,_this._register(scrollable),_this}return ScrollableElement.prototype.setScrollPosition=function(update){this._scrollable.setScrollPositionNow(update)},ScrollableElement.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},ScrollableElement}(scrollableElement_AbstractScrollableElement),SmoothScrollableElement=function(_super){scrollableElement_extends(SmoothScrollableElement2,_super);function SmoothScrollableElement2(element,options,scrollable){return _super.call(this,element,options,scrollable)||this}return SmoothScrollableElement2}(scrollableElement_AbstractScrollableElement),DomScrollableElement=function(_super){scrollableElement_extends(DomScrollableElement2,_super);function DomScrollableElement2(element,options){var _this=_super.call(this,element,options)||this;return _this._element=element,_this.onScroll(function(e){e.scrollTopChanged&&(_this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(_this._element.scrollLeft=e.scrollLeft)}),_this.scanDomNode(),_this}return DomScrollableElement2.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})},DomScrollableElement2}(scrollableElement_ScrollableElement);function resolveOptions(opts){var result={lazyRender:typeof opts.lazyRender<"u"?opts.lazyRender:!1,className:typeof opts.className<"u"?opts.className:"",useShadows:typeof opts.useShadows<"u"?opts.useShadows:!0,handleMouseWheel:typeof opts.handleMouseWheel<"u"?opts.handleMouseWheel:!0,flipAxes:typeof opts.flipAxes<"u"?opts.flipAxes:!1,alwaysConsumeMouseWheel:typeof opts.alwaysConsumeMouseWheel<"u"?opts.alwaysConsumeMouseWheel:!1,scrollYToX:typeof opts.scrollYToX<"u"?opts.scrollYToX:!1,mouseWheelScrollSensitivity:typeof opts.mouseWheelScrollSensitivity<"u"?opts.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof opts.fastScrollSensitivity<"u"?opts.fastScrollSensitivity:5,mouseWheelSmoothScroll:typeof opts.mouseWheelSmoothScroll<"u"?opts.mouseWheelSmoothScroll:!0,arrowSize:typeof opts.arrowSize<"u"?opts.arrowSize:11,listenOnDomNode:typeof opts.listenOnDomNode<"u"?opts.listenOnDomNode:null,horizontal:typeof opts.horizontal<"u"?opts.horizontal:1,horizontalScrollbarSize:typeof opts.horizontalScrollbarSize<"u"?opts.horizontalScrollbarSize:10,horizontalSliderSize:typeof opts.horizontalSliderSize<"u"?opts.horizontalSliderSize:0,horizontalHasArrows:typeof opts.horizontalHasArrows<"u"?opts.horizontalHasArrows:!1,vertical:typeof opts.vertical<"u"?opts.vertical:1,verticalScrollbarSize:typeof opts.verticalScrollbarSize<"u"?opts.verticalScrollbarSize:10,verticalHasArrows:typeof opts.verticalHasArrows<"u"?opts.verticalHasArrows:!1,verticalSliderSize:typeof opts.verticalSliderSize<"u"?opts.verticalSliderSize:0};return result.horizontalSliderSize=typeof opts.horizontalSliderSize<"u"?opts.horizontalSliderSize:result.horizontalScrollbarSize,result.verticalSliderSize=typeof opts.verticalSliderSize<"u"?opts.verticalSliderSize:result.verticalScrollbarSize,platform.e&&(result.className+=" mac"),result}},3110:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return FIN}),__webpack_require__.d(__webpack_exports__,"d",function(){return Iterator}),__webpack_require__.d(__webpack_exports__,"f",function(){return getSequenceIterator}),__webpack_require__.d(__webpack_exports__,"a",function(){return ArrayIterator}),__webpack_require__.d(__webpack_exports__,"b",function(){return ArrayNavigator}),__webpack_require__.d(__webpack_exports__,"e",function(){return MappedIterator});var __extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),FIN={done:!0,value:void 0},Iterator;(function(Iterator2){var _empty={next:function(){return FIN}};function empty(){return _empty}Iterator2.empty=empty;function single(value){var done=!1;return{next:function(){return done?FIN:(done=!0,{done:!1,value})}}}Iterator2.single=single;function fromArray(array,index,length){return index===void 0&&(index=0),length===void 0&&(length=array.length),{next:function(){return index>=length?FIN:{done:!1,value:array[index++]}}}}Iterator2.fromArray=fromArray;function fromNativeIterator(it){return{next:function(){var result=it.next();return result.done?FIN:{done:!1,value:result.value}}}}Iterator2.fromNativeIterator=fromNativeIterator;function from(elements){return elements?Array.isArray(elements)?Iterator2.fromArray(elements):elements:Iterator2.empty()}Iterator2.from=from;function map(iterator,fn){return{next:function(){var element=iterator.next();return element.done?FIN:{done:!1,value:fn(element.value)}}}}Iterator2.map=map;function filter(iterator,fn){return{next:function(){for(;;){var element=iterator.next();if(element.done)return FIN;if(fn(element.value))return{done:!1,value:element.value}}}}}Iterator2.filter=filter;function forEach(iterator,fn){for(var next=iterator.next();!next.done;next=iterator.next())fn(next.value)}Iterator2.forEach=forEach;function collect(iterator,atMost){atMost===void 0&&(atMost=Number.POSITIVE_INFINITY);var result=[];if(atMost===0)return result;for(var i=0,next=iterator.next();!next.done&&(result.push(next.value),!(++i>=atMost));next=iterator.next());return result}Iterator2.collect=collect;function concat(){for(var iterators=[],_i=0;_i<arguments.length;_i++)iterators[_i]=arguments[_i];var i=0;return{next:function(){if(i>=iterators.length)return FIN;var iterator=iterators[i],result=iterator.next();return result.done?(i++,this.next()):result}}}Iterator2.concat=concat;function chain(iterator){return new ChainableIterator(iterator)}Iterator2.chain=chain})(Iterator||(Iterator={}));var ChainableIterator=function(){function ChainableIterator2(it){this.it=it}return ChainableIterator2.prototype.next=function(){return this.it.next()},ChainableIterator2}();function getSequenceIterator(arg){return Array.isArray(arg)?Iterator.fromArray(arg):arg||Iterator.empty()}var ArrayIterator=function(){function ArrayIterator2(items,start,end,index){start===void 0&&(start=0),end===void 0&&(end=items.length),index===void 0&&(index=start-1),this.items=items,this.start=start,this.end=end,this.index=index}return ArrayIterator2.prototype.first=function(){return this.index=this.start,this.current()},ArrayIterator2.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},ArrayIterator2.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},ArrayIterator2}(),ArrayNavigator=function(_super){__extends(ArrayNavigator2,_super);function ArrayNavigator2(items,start,end,index){return start===void 0&&(start=0),end===void 0&&(end=items.length),index===void 0&&(index=start-1),_super.call(this,items,start,end,index)||this}return ArrayNavigator2.prototype.current=function(){return _super.prototype.current.call(this)},ArrayNavigator2.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},ArrayNavigator2.prototype.first=function(){return this.index=this.start,this.current()},ArrayNavigator2.prototype.last=function(){return this.index=this.end-1,this.current()},ArrayNavigator2.prototype.parent=function(){return null},ArrayNavigator2}(ArrayIterator),MappedIterator=function(){function MappedIterator2(iterator,fn){this.iterator=iterator,this.fn=fn}return MappedIterator2.prototype.next=function(){return this.fn(this.iterator.next())},MappedIterator2}()},3111:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StandardKeyboardEvent});var _browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2642),_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2768),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2236),KEY_CODE_MAP=new Array(230),INVERSE_KEY_CODE_MAP=new Array(112);(function(){for(var i=0;i<INVERSE_KEY_CODE_MAP.length;i++)INVERSE_KEY_CODE_MAP[i]=-1;function define(code,keyCode){KEY_CODE_MAP[code]=keyCode,INVERSE_KEY_CODE_MAP[keyCode]=code}define(3,7),define(8,1),define(9,2),define(13,3),define(16,4),define(17,5),define(18,6),define(19,7),define(20,8),define(27,9),define(32,10),define(33,11),define(34,12),define(35,13),define(36,14),define(37,15),define(38,16),define(39,17),define(40,18),define(45,19),define(46,20),define(48,21),define(49,22),define(50,23),define(51,24),define(52,25),define(53,26),define(54,27),define(55,28),define(56,29),define(57,30),define(65,31),define(66,32),define(67,33),define(68,34),define(69,35),define(70,36),define(71,37),define(72,38),define(73,39),define(74,40),define(75,41),define(76,42),define(77,43),define(78,44),define(79,45),define(80,46),define(81,47),define(82,48),define(83,49),define(84,50),define(85,51),define(86,52),define(87,53),define(88,54),define(89,55),define(90,56),define(93,58),define(96,93),define(97,94),define(98,95),define(99,96),define(100,97),define(101,98),define(102,99),define(103,100),define(104,101),define(105,102),define(106,103),define(107,104),define(108,105),define(109,106),define(110,107),define(111,108),define(112,59),define(113,60),define(114,61),define(115,62),define(116,63),define(117,64),define(118,65),define(119,66),define(120,67),define(121,68),define(122,69),define(123,70),define(124,71),define(125,72),define(126,73),define(127,74),define(128,75),define(129,76),define(130,77),define(144,78),define(145,79),define(186,80),define(187,81),define(188,82),define(189,83),define(190,84),define(191,85),define(192,86),define(193,110),define(194,111),define(219,87),define(220,88),define(221,89),define(222,90),define(223,91),define(226,92),define(229,109),_browser_js__WEBPACK_IMPORTED_MODULE_0__.i?define(91,57):_browser_js__WEBPACK_IMPORTED_MODULE_0__.h?(define(59,80),define(107,81),define(109,83),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.e&&define(224,57)):_browser_js__WEBPACK_IMPORTED_MODULE_0__.m&&(define(91,57),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.e?define(93,57):define(92,57))})();function extractKeyCode(e){if(e.charCode){var char=String.fromCharCode(e.charCode).toUpperCase();return _common_keyCodes_js__WEBPACK_IMPORTED_MODULE_1__.b.fromString(char)}return KEY_CODE_MAP[e.keyCode]||0}var ctrlKeyMod=_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.e?256:2048,altKeyMod=512,shiftKeyMod=1024,metaKeyMod=_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.e?2048:256,StandardKeyboardEvent=function(){function StandardKeyboardEvent2(source){this._standardKeyboardEventBrand=!0;var e=source;this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.keyCode=extractKeyCode(e),this.code=e.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return StandardKeyboardEvent2.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},StandardKeyboardEvent2.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},StandardKeyboardEvent2.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},StandardKeyboardEvent2.prototype.equals=function(other){return this._asKeybinding===other},StandardKeyboardEvent2.prototype._computeKeybinding=function(){var key=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(key=this.keyCode);var result=0;return this.ctrlKey&&(result|=ctrlKeyMod),this.altKey&&(result|=altKeyMod),this.shiftKey&&(result|=shiftKeyMod),this.metaKey&&(result|=metaKeyMod),result|=key,result},StandardKeyboardEvent2.prototype._computeRuntimeKeybinding=function(){var key=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(key=this.keyCode),new _common_keyCodes_js__WEBPACK_IMPORTED_MODULE_1__.e(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,key)},StandardKeyboardEvent2}()},3112:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EventType}),__webpack_require__.d(__webpack_exports__,"b",function(){return Gesture});var _common_arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2389),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2033),_dom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2124),_common_decorators_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3364),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},EventType;(function(EventType2){EventType2.Tap="-monaco-gesturetap",EventType2.Change="-monaco-gesturechange",EventType2.Start="-monaco-gesturestart",EventType2.End="-monaco-gesturesend",EventType2.Contextmenu="-monaco-gesturecontextmenu"})(EventType||(EventType={}));var Gesture=function(_super){__extends(Gesture2,_super);function Gesture2(){var _this=_super.call(this)||this;return _this.dispatched=!1,_this.activeTouches={},_this.handle=null,_this.targets=[],_this.ignoreTargets=[],_this._lastSetTapCountTime=0,_this._register(_dom_js__WEBPACK_IMPORTED_MODULE_2__.j(document,"touchstart",function(e){return _this.onTouchStart(e)})),_this._register(_dom_js__WEBPACK_IMPORTED_MODULE_2__.j(document,"touchend",function(e){return _this.onTouchEnd(e)})),_this._register(_dom_js__WEBPACK_IMPORTED_MODULE_2__.j(document,"touchmove",function(e){return _this.onTouchMove(e)})),_this}return Gesture2.addTarget=function(element){return Gesture2.isTouchDevice()?(Gesture2.INSTANCE||(Gesture2.INSTANCE=new Gesture2),Gesture2.INSTANCE.targets.push(element),{dispose:function(){Gesture2.INSTANCE.targets=Gesture2.INSTANCE.targets.filter(function(t){return t!==element})}}):_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a.None},Gesture2.ignoreTarget=function(element){return Gesture2.isTouchDevice()?(Gesture2.INSTANCE||(Gesture2.INSTANCE=new Gesture2),Gesture2.INSTANCE.ignoreTargets.push(element),{dispose:function(){Gesture2.INSTANCE.ignoreTargets=Gesture2.INSTANCE.ignoreTargets.filter(function(t){return t!==element})}}):_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a.None},Gesture2.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},Gesture2.prototype.dispose=function(){this.handle&&(this.handle.dispose(),this.handle=null),_super.prototype.dispose.call(this)},Gesture2.prototype.onTouchStart=function(e){var timestamp=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var i=0,len=e.targetTouches.length;i<len;i++){var touch=e.targetTouches.item(i);this.activeTouches[touch.identifier]={id:touch.identifier,initialTarget:touch.target,initialTimeStamp:timestamp,initialPageX:touch.pageX,initialPageY:touch.pageY,rollingTimestamps:[timestamp],rollingPageX:[touch.pageX],rollingPageY:[touch.pageY]};var evt=this.newGestureEvent(EventType.Start,touch.target);evt.pageX=touch.pageX,evt.pageY=touch.pageY,this.dispatchEvent(evt)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},Gesture2.prototype.onTouchEnd=function(e){for(var timestamp=Date.now(),activeTouchCount=Object.keys(this.activeTouches).length,_loop_1=function(i2,len2){var touch=e.changedTouches.item(i2);if(!this_1.activeTouches.hasOwnProperty(String(touch.identifier)))return console.warn("move of an UNKNOWN touch",touch),"continue";var data=this_1.activeTouches[touch.identifier],holdTime=Date.now()-data.initialTimeStamp;if(holdTime<Gesture2.HOLD_DELAY&&Math.abs(data.initialPageX-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageX))<30&&Math.abs(data.initialPageY-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageY))<30){var evt=this_1.newGestureEvent(EventType.Tap,data.initialTarget);evt.pageX=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageX),evt.pageY=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageY),this_1.dispatchEvent(evt)}else if(holdTime>=Gesture2.HOLD_DELAY&&Math.abs(data.initialPageX-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageX))<30&&Math.abs(data.initialPageY-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageY))<30){var evt=this_1.newGestureEvent(EventType.Contextmenu,data.initialTarget);evt.pageX=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageX),evt.pageY=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageY),this_1.dispatchEvent(evt)}else if(activeTouchCount===1){var finalX=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageX),finalY=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageY),deltaT=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingTimestamps)-data.rollingTimestamps[0],deltaX=finalX-data.rollingPageX[0],deltaY=finalY-data.rollingPageY[0],dispatchTo=this_1.targets.filter(function(t){return data.initialTarget instanceof Node&&t.contains(data.initialTarget)});this_1.inertia(dispatchTo,timestamp,Math.abs(deltaX)/deltaT,deltaX>0?1:-1,finalX,Math.abs(deltaY)/deltaT,deltaY>0?1:-1,finalY)}this_1.dispatchEvent(this_1.newGestureEvent(EventType.End,data.initialTarget)),delete this_1.activeTouches[touch.identifier]},this_1=this,i=0,len=e.changedTouches.length;i<len;i++)_loop_1(i,len);this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},Gesture2.prototype.newGestureEvent=function(type,initialTarget){var event=document.createEvent("CustomEvent");return event.initEvent(type,!1,!0),event.initialTarget=initialTarget,event.tapCount=0,event},Gesture2.prototype.dispatchEvent=function(event){var _this=this;if(event.type===EventType.Tap){var currentTime=new Date().getTime(),setTapCount=0;currentTime-this._lastSetTapCountTime>Gesture2.CLEAR_TAP_COUNT_TIME?setTapCount=1:setTapCount=2,this._lastSetTapCountTime=currentTime,event.tapCount=setTapCount}else(event.type===EventType.Change||event.type===EventType.Contextmenu)&&(this._lastSetTapCountTime=0);for(var i=0;i<this.ignoreTargets.length;i++)if(event.initialTarget instanceof Node&&this.ignoreTargets[i].contains(event.initialTarget))return;this.targets.forEach(function(target){event.initialTarget instanceof Node&&target.contains(event.initialTarget)&&(target.dispatchEvent(event),_this.dispatched=!0)})},Gesture2.prototype.inertia=function(dispatchTo,t1,vX,dirX,x,vY,dirY,y){var _this=this;this.handle=_dom_js__WEBPACK_IMPORTED_MODULE_2__.T(function(){var now=Date.now(),deltaT=now-t1,delta_pos_x=0,delta_pos_y=0,stopped=!0;vX+=Gesture2.SCROLL_FRICTION*deltaT,vY+=Gesture2.SCROLL_FRICTION*deltaT,vX>0&&(stopped=!1,delta_pos_x=dirX*vX*deltaT),vY>0&&(stopped=!1,delta_pos_y=dirY*vY*deltaT);var evt=_this.newGestureEvent(EventType.Change);evt.translationX=delta_pos_x,evt.translationY=delta_pos_y,dispatchTo.forEach(function(d){return d.dispatchEvent(evt)}),stopped||_this.inertia(dispatchTo,now,vX,dirX,x+delta_pos_x,vY,dirY,y+delta_pos_y)})},Gesture2.prototype.onTouchMove=function(e){for(var timestamp=Date.now(),i=0,len=e.changedTouches.length;i<len;i++){var touch=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(touch.identifier))){console.warn("end of an UNKNOWN touch",touch);continue}var data=this.activeTouches[touch.identifier],evt=this.newGestureEvent(EventType.Change,data.initialTarget);evt.translationX=touch.pageX-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageX),evt.translationY=touch.pageY-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.v(data.rollingPageY),evt.pageX=touch.pageX,evt.pageY=touch.pageY,this.dispatchEvent(evt),data.rollingPageX.length>3&&(data.rollingPageX.shift(),data.rollingPageY.shift(),data.rollingTimestamps.shift()),data.rollingPageX.push(touch.pageX),data.rollingPageY.push(touch.pageY),data.rollingTimestamps.push(timestamp)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},Gesture2.SCROLL_FRICTION=-.005,Gesture2.HOLD_DELAY=700,Gesture2.CLEAR_TAP_COUNT_TIME=400,__decorate([_common_decorators_js__WEBPACK_IMPORTED_MODULE_3__.a],Gesture2,"isTouchDevice",null),Gesture2}(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a)},3113:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Action}),__webpack_require__.d(__webpack_exports__,"b",function(){return ActionRunner});var _lifecycle_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2033),_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},Action=function(_super){__extends(Action2,_super);function Action2(id,label,cssClass,enabled,actionCallback){label===void 0&&(label=""),cssClass===void 0&&(cssClass=""),enabled===void 0&&(enabled=!0);var _this=_super.call(this)||this;return _this._onDidChange=_this._register(new _event_js__WEBPACK_IMPORTED_MODULE_1__.a),_this.onDidChange=_this._onDidChange.event,_this._enabled=!0,_this._checked=!1,_this._id=id,_this._label=label,_this._cssClass=cssClass,_this._enabled=enabled,_this._actionCallback=actionCallback,_this}return Object.defineProperty(Action2.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(Action2.prototype,"label",{get:function(){return this._label},set:function(value){this._setLabel(value)},enumerable:!0,configurable:!0}),Action2.prototype._setLabel=function(value){this._label!==value&&(this._label=value,this._onDidChange.fire({label:value}))},Object.defineProperty(Action2.prototype,"tooltip",{get:function(){return this._tooltip||""},set:function(value){this._setTooltip(value)},enumerable:!0,configurable:!0}),Action2.prototype._setTooltip=function(value){this._tooltip!==value&&(this._tooltip=value,this._onDidChange.fire({tooltip:value}))},Object.defineProperty(Action2.prototype,"class",{get:function(){return this._cssClass},set:function(value){this._setClass(value)},enumerable:!0,configurable:!0}),Action2.prototype._setClass=function(value){this._cssClass!==value&&(this._cssClass=value,this._onDidChange.fire({class:value}))},Object.defineProperty(Action2.prototype,"enabled",{get:function(){return this._enabled},set:function(value){this._setEnabled(value)},enumerable:!0,configurable:!0}),Action2.prototype._setEnabled=function(value){this._enabled!==value&&(this._enabled=value,this._onDidChange.fire({enabled:value}))},Object.defineProperty(Action2.prototype,"checked",{get:function(){return this._checked},set:function(value){this._setChecked(value)},enumerable:!0,configurable:!0}),Action2.prototype._setChecked=function(value){this._checked!==value&&(this._checked=value,this._onDidChange.fire({checked:value}))},Action2.prototype.run=function(event,_data){return this._actionCallback?this._actionCallback(event):Promise.resolve(!0)},Action2}(_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.a),ActionRunner=function(_super){__extends(ActionRunner2,_super);function ActionRunner2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this._onDidBeforeRun=_this._register(new _event_js__WEBPACK_IMPORTED_MODULE_1__.a),_this.onDidBeforeRun=_this._onDidBeforeRun.event,_this._onDidRun=_this._register(new _event_js__WEBPACK_IMPORTED_MODULE_1__.a),_this.onDidRun=_this._onDidRun.event,_this}return ActionRunner2.prototype.run=function(action,context){return __awaiter(this,void 0,void 0,function(){var result,error_1;return __generator(this,function(_a){switch(_a.label){case 0:if(!action.enabled)return[2,Promise.resolve(null)];this._onDidBeforeRun.fire({action}),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,this.runAction(action,context)];case 2:return result=_a.sent(),this._onDidRun.fire({action,result}),[3,4];case 3:return error_1=_a.sent(),this._onDidRun.fire({action,error:error_1}),[3,4];case 4:return[2]}})})},ActionRunner2.prototype.runAction=function(action,context){var res=context?action.run(context):action.run();return Promise.resolve(res)},ActionRunner2}(_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.a)},3114:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return IContextViewService}),__webpack_require__.d(__webpack_exports__,"a",function(){return IContextMenuService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IContextViewService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("contextViewService"),IContextMenuService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("contextMenuService")},3115:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EditOperation});var _range_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2056),EditOperation=function(){function EditOperation2(){}return EditOperation2.insert=function(position,text){return{range:new _range_js__WEBPACK_IMPORTED_MODULE_0__.a(position.lineNumber,position.column,position.lineNumber,position.column),text,forceMoveMarkers:!0}},EditOperation2.delete=function(range){return{range,text:null}},EditOperation2.replace=function(range,text){return{range,text}},EditOperation2.replaceMove=function(range,text){return{range,text,forceMoveMarkers:!0}},EditOperation2}()},3164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return isIMenuItem}),__webpack_require__.d(__webpack_exports__,"a",function(){return IMenuService}),__webpack_require__.d(__webpack_exports__,"c",function(){return MenuRegistry}),__webpack_require__.d(__webpack_exports__,"d",function(){return SubmenuItemAction}),__webpack_require__.d(__webpack_exports__,"b",function(){return MenuItemAction});var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3113),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2232),_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2238),_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2733),_base_common_event_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2106),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function isIMenuItem(item){return item.command!==void 0}var IMenuService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("menuService"),MenuRegistry=new(function(){function class_1(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__.a,this.onDidChangeMenu=this._onDidChangeMenu.event}return class_1.prototype.addCommand=function(command){var _this=this;return this._commands.set(command.id,command),this._onDidChangeMenu.fire(0),{dispose:function(){_this._commands.delete(command.id)&&_this._onDidChangeMenu.fire(0)}}},class_1.prototype.getCommand=function(id){return this._commands.get(id)},class_1.prototype.getCommands=function(){var map=new Map;return this._commands.forEach(function(value,key){return map.set(key,value)}),map},class_1.prototype.appendMenuItem=function(id,item){var _this=this,array=this._menuItems.get(id);return array?array.push(item):(array=[item],this._menuItems.set(id,array)),this._onDidChangeMenu.fire(id),{dispose:function(){var idx=array.indexOf(item);idx>=0&&(array.splice(idx,1),_this._onDidChangeMenu.fire(id))}}},class_1.prototype.getMenuItems=function(id){var result=(this._menuItems.get(id)||[]).slice(0);return id===0&&this._appendImplicitItems(result),result},class_1.prototype._appendImplicitItems=function(result){for(var set=new Set,temp=result.filter(function(item){return isIMenuItem(item)}),_i=0,temp_1=temp;_i<temp_1.length;_i++){var _a=temp_1[_i],command=_a.command,alt=_a.alt;set.add(command.id),alt&&set.add(alt.id)}this._commands.forEach(function(command2,id){set.has(id)||result.push({command:command2})})},class_1}()),ExecuteCommandAction=function(_super){__extends(ExecuteCommandAction2,_super);function ExecuteCommandAction2(id,label,_commandService){var _this=_super.call(this,id,label)||this;return _this._commandService=_commandService,_this}return ExecuteCommandAction2.prototype.run=function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(_a=this._commandService).executeCommand.apply(_a,__spreadArrays([this.id],args))},ExecuteCommandAction2=__decorate([__param(2,_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__.b)],ExecuteCommandAction2),ExecuteCommandAction2}(_base_common_actions_js__WEBPACK_IMPORTED_MODULE_0__.a),SubmenuItemAction=function(_super){__extends(SubmenuItemAction2,_super);function SubmenuItemAction2(item){var _this=this;return typeof item.title=="string"?_this=_super.call(this,"",item.title,"submenu")||this:_this=_super.call(this,"",item.title.value,"submenu")||this,_this.item=item,_this}return SubmenuItemAction2}(_base_common_actions_js__WEBPACK_IMPORTED_MODULE_0__.a),MenuItemAction=function(_super){__extends(MenuItemAction2,_super);function MenuItemAction2(item,alt,options,contextKeyService,commandService){var _this=this;return typeof item.title=="string"?_this=_super.call(this,item.id,item.title,commandService)||this:_this=_super.call(this,item.id,item.title.value,commandService)||this,_this._cssClass=void 0,_this._enabled=!item.precondition||contextKeyService.contextMatchesRules(item.precondition),_this._checked=!!(item.toggled&&contextKeyService.contextMatchesRules(item.toggled)),_this._options=options||{},_this.item=item,_this.alt=alt?new MenuItemAction2(alt,void 0,_this._options,contextKeyService,commandService):void 0,_this}return MenuItemAction2.prototype.dispose=function(){this.alt&&this.alt.dispose(),_super.prototype.dispose.call(this)},MenuItemAction2.prototype.run=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var runArgs=[];return this._options.arg&&(runArgs=__spreadArrays(runArgs,[this._options.arg])),this._options.shouldForwardArgs&&(runArgs=__spreadArrays(runArgs,args)),_super.prototype.run.apply(this,runArgs)},MenuItemAction2=__decorate([__param(3,_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.c),__param(4,_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__.b)],MenuItemAction2),MenuItemAction2}(ExecuteCommandAction)},3165:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return NULL_STATE}),__webpack_require__.d(__webpack_exports__,"b",function(){return NULL_MODE_ID}),__webpack_require__.d(__webpack_exports__,"a",function(){return NULL_LANGUAGE_IDENTIFIER}),__webpack_require__.d(__webpack_exports__,"d",function(){return nullTokenize}),__webpack_require__.d(__webpack_exports__,"e",function(){return nullTokenize2});var _core_token_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3368),_modes_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2240),NullStateImpl=function(){function NullStateImpl2(){}return NullStateImpl2.prototype.clone=function(){return this},NullStateImpl2.prototype.equals=function(other){return this===other},NullStateImpl2}(),NULL_STATE=new NullStateImpl,NULL_MODE_ID="vs.editor.nullMode",NULL_LANGUAGE_IDENTIFIER=new _modes_js__WEBPACK_IMPORTED_MODULE_1__.p(NULL_MODE_ID,0);function nullTokenize(modeId,buffer,state,deltaOffset){return new _core_token_js__WEBPACK_IMPORTED_MODULE_0__.b([new _core_token_js__WEBPACK_IMPORTED_MODULE_0__.a(deltaOffset,"",modeId)],state)}function nullTokenize2(languageId,buffer,state,deltaOffset){var tokens=new Uint32Array(2);return tokens[0]=deltaOffset,tokens[1]=(languageId<<0|0|0|16384|2<<23)>>>0,new _core_token_js__WEBPACK_IMPORTED_MODULE_0__.c(tokens,state===null?NULL_STATE:state)}},3166:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IEditorWorkerService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),ID_EDITOR_WORKER_SERVICE="editorWorkerService",IEditorWorkerService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)(ID_EDITOR_WORKER_SERVICE)},3167:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return IAccessibilityService}),__webpack_require__.d(__webpack_exports__,"a",function(){return CONTEXT_ACCESSIBILITY_MODE_ENABLED});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2238),IAccessibilityService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("accessibilityService"),CONTEXT_ACCESSIBILITY_MODE_ENABLED=new _contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_1__.d("accessibilityModeEnabled",!1)},3168:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",function(){return matchesPrefix}),__webpack_require__.d(__webpack_exports__,"f",function(){return matchesFuzzy}),__webpack_require__.d(__webpack_exports__,"b",function(){return anyScore}),__webpack_require__.d(__webpack_exports__,"c",function(){return createMatches}),__webpack_require__.d(__webpack_exports__,"a",function(){return FuzzyScore}),__webpack_require__.d(__webpack_exports__,"d",function(){return fuzzyScore}),__webpack_require__.d(__webpack_exports__,"e",function(){return fuzzyScoreGracefulAggressive});var _map_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2803),_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2123);function or(){for(var filter=[],_i=0;_i<arguments.length;_i++)filter[_i]=arguments[_i];return function(word,wordToMatchAgainst){for(var i=0,len=filter.length;i<len;i++){var match=filter[i](word,wordToMatchAgainst);if(match)return match}return null}}var matchesPrefix=_matchesPrefix.bind(void 0,!0);function _matchesPrefix(ignoreCase,word,wordToMatchAgainst){if(!wordToMatchAgainst||wordToMatchAgainst.length<word.length)return null;var matches;return ignoreCase?matches=_strings_js__WEBPACK_IMPORTED_MODULE_1__.P(wordToMatchAgainst,word):matches=wordToMatchAgainst.indexOf(word)===0,matches?word.length>0?[{start:0,end:word.length}]:[]:null}function matchesContiguousSubString(word,wordToMatchAgainst){var index=wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());return index===-1?null:[{start:index,end:index+word.length}]}function matchesSubString(word,wordToMatchAgainst){return _matchesSubString(word.toLowerCase(),wordToMatchAgainst.toLowerCase(),0,0)}function _matchesSubString(word,wordToMatchAgainst,i,j){if(i===word.length)return[];if(j===wordToMatchAgainst.length)return null;if(word[i]===wordToMatchAgainst[j]){var result=null;return(result=_matchesSubString(word,wordToMatchAgainst,i+1,j+1))?join({start:j,end:j+1},result):null}return _matchesSubString(word,wordToMatchAgainst,i,j+1)}function isLower(code){return 97<=code&&code<=122}function isUpper(code){return 65<=code&&code<=90}function isNumber(code){return 48<=code&&code<=57}function isWhitespace(code){return code===32||code===9||code===10||code===13}var wordSeparators=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(function(s){return wordSeparators.add(s.charCodeAt(0))});function isAlphanumeric(code){return isLower(code)||isUpper(code)||isNumber(code)}function join(head,tail){return tail.length===0?tail=[head]:head.end===tail[0].start?tail[0].start=head.start:tail.unshift(head),tail}function nextAnchor(camelCaseWord,start){for(var i=start;i<camelCaseWord.length;i++){var c=camelCaseWord.charCodeAt(i);if(isUpper(c)||isNumber(c)||i>0&&!isAlphanumeric(camelCaseWord.charCodeAt(i-1)))return i}return camelCaseWord.length}function _matchesCamelCase(word,camelCaseWord,i,j){if(i===word.length)return[];if(j===camelCaseWord.length)return null;if(word[i]!==camelCaseWord[j].toLowerCase())return null;var result=null,nextUpperIndex=j+1;for(result=_matchesCamelCase(word,camelCaseWord,i+1,j+1);!result&&(nextUpperIndex=nextAnchor(camelCaseWord,nextUpperIndex))<camelCaseWord.length;)result=_matchesCamelCase(word,camelCaseWord,i+1,nextUpperIndex),nextUpperIndex++;return result===null?null:join({start:j,end:j+1},result)}function analyzeCamelCaseWord(word){for(var upper=0,lower=0,alpha=0,numeric=0,code=0,i=0;i<word.length;i++)code=word.charCodeAt(i),isUpper(code)&&upper++,isLower(code)&&lower++,isAlphanumeric(code)&&alpha++,isNumber(code)&&numeric++;var upperPercent=upper/word.length,lowerPercent=lower/word.length,alphaPercent=alpha/word.length,numericPercent=numeric/word.length;return{upperPercent,lowerPercent,alphaPercent,numericPercent}}function isUpperCaseWord(analysis){var upperPercent=analysis.upperPercent,lowerPercent=analysis.lowerPercent;return lowerPercent===0&&upperPercent>.6}function isCamelCaseWord(analysis){var upperPercent=analysis.upperPercent,lowerPercent=analysis.lowerPercent,alphaPercent=analysis.alphaPercent,numericPercent=analysis.numericPercent;return lowerPercent>.2&&upperPercent<.8&&alphaPercent>.6&&numericPercent<.2}function isCamelCasePattern(word){for(var upper=0,lower=0,code=0,whitespace=0,i=0;i<word.length;i++)code=word.charCodeAt(i),isUpper(code)&&upper++,isLower(code)&&lower++,isWhitespace(code)&&whitespace++;return(upper===0||lower===0)&&whitespace===0?word.length<=30:upper<=5}function matchesCamelCase(word,camelCaseWord){if(!camelCaseWord||(camelCaseWord=camelCaseWord.trim(),camelCaseWord.length===0)||!isCamelCasePattern(word)||camelCaseWord.length>60)return null;var analysis=analyzeCamelCaseWord(camelCaseWord);if(!isCamelCaseWord(analysis)){if(!isUpperCaseWord(analysis))return null;camelCaseWord=camelCaseWord.toLowerCase()}var result=null,i=0;for(word=word.toLowerCase();i<camelCaseWord.length&&(result=_matchesCamelCase(word,camelCaseWord,0,i))===null;)i=nextAnchor(camelCaseWord,i+1);return result}var fuzzyContiguousFilter=or(matchesPrefix,matchesCamelCase,matchesContiguousSubString),fuzzySeparateFilter=or(matchesPrefix,matchesCamelCase,matchesSubString),fuzzyRegExpCache=new _map_js__WEBPACK_IMPORTED_MODULE_0__.a(1e4);function matchesFuzzy(word,wordToMatchAgainst,enableSeparateSubstringMatching){if(enableSeparateSubstringMatching===void 0&&(enableSeparateSubstringMatching=!1),typeof word!="string"||typeof wordToMatchAgainst!="string")return null;var regexp=fuzzyRegExpCache.get(word);regexp||(regexp=new RegExp(_strings_js__WEBPACK_IMPORTED_MODULE_1__.k(word),"i"),fuzzyRegExpCache.set(word,regexp));var match=regexp.exec(wordToMatchAgainst);return match?[{start:match.index,end:match.index+match[0].length}]:enableSeparateSubstringMatching?fuzzySeparateFilter(word,wordToMatchAgainst):fuzzyContiguousFilter(word,wordToMatchAgainst)}function anyScore(pattern,lowPattern,_patternPos,word,lowWord,_wordPos){var result=fuzzyScore(pattern,lowPattern,0,word,lowWord,0,!0);if(result)return result;for(var matches=0,score=0,idx=_wordPos,patternPos=0;patternPos<lowPattern.length&&patternPos<_maxLen;++patternPos){var wordPos=lowWord.indexOf(lowPattern.charAt(patternPos),idx);if(wordPos>=0)score+=1,matches+=Math.pow(2,wordPos),idx=wordPos+1;else if(matches!==0)break}return[score,matches,_wordPos]}function createMatches(score){if(typeof score>"u")return[];for(var matches=score[1].toString(2),wordStart=score[2],res=[],pos=wordStart;pos<_maxLen;pos++)if(matches[matches.length-(pos+1)]==="1"){var last=res[res.length-1];last&&last.end===pos?last.end=pos+1:res.push({start:pos,end:pos+1})}return res}var _maxLen=128;function initTable(){for(var table=[],row=[0],i=1;i<=_maxLen;i++)row.push(-i);for(var i=0;i<=_maxLen;i++){var thisRow=row.slice(0);thisRow[0]=-i,table.push(thisRow)}return table}var _table=initTable(),_scores=initTable(),_arrows=initTable(),_debug=!1;function printTable(table,pattern,patternLen,word,wordLen){function pad(s,n,pad2){for(pad2===void 0&&(pad2=" ");s.length<n;)s=pad2+s;return s}for(var ret=" |   |"+word.split("").map(function(c){return pad(c,3)}).join("|")+`
`,i=0;i<=patternLen;i++)i===0?ret+=" |":ret+=pattern[i-1]+"|",ret+=table[i].slice(0,wordLen+1).map(function(n){return pad(n.toString(),3)}).join("|")+`
`;return ret}function printTables(pattern,patternStart,word,wordStart){pattern=pattern.substr(patternStart),word=word.substr(wordStart),console.log(printTable(_table,pattern,pattern.length,word,word.length)),console.log(printTable(_arrows,pattern,pattern.length,word,word.length)),console.log(printTable(_scores,pattern,pattern.length,word,word.length))}function isSeparatorAtPos(value,index){if(index<0||index>=value.length)return!1;var code=value.charCodeAt(index);switch(code){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function isWhitespaceAtPos(value,index){if(index<0||index>=value.length)return!1;var code=value.charCodeAt(index);switch(code){case 32:case 9:return!0;default:return!1}}function isUpperCaseAtPos(pos,word,wordLow){return word[pos]!==wordLow[pos]}function isPatternInWord(patternLow,patternPos,patternLen,wordLow,wordPos,wordLen){for(;patternPos<patternLen&&wordPos<wordLen;)patternLow[patternPos]===wordLow[wordPos]&&(patternPos+=1),wordPos+=1;return patternPos===patternLen}var FuzzyScore;(function(FuzzyScore2){FuzzyScore2.Default=Object.freeze([-100,0,0]);function isDefault(score){return!score||score[0]===-100&&score[1]===0&&score[2]===0}FuzzyScore2.isDefault=isDefault})(FuzzyScore||(FuzzyScore={}));function fuzzyScore(pattern,patternLow,patternStart,word,wordLow,wordStart,firstMatchCanBeWeak){var patternLen=pattern.length>_maxLen?_maxLen:pattern.length,wordLen=word.length>_maxLen?_maxLen:word.length;if(!(patternStart>=patternLen||wordStart>=wordLen||patternLen-patternStart>wordLen-wordStart)&&isPatternInWord(patternLow,patternStart,patternLen,wordLow,wordStart,wordLen)){var row=1,column=1,patternPos=patternStart,wordPos=wordStart;for(row=1,patternPos=patternStart;patternPos<patternLen;row++,patternPos++)for(column=1,wordPos=wordStart;wordPos<wordLen;column++,wordPos++){var score=_doScore(pattern,patternLow,patternPos,patternStart,word,wordLow,wordPos);_scores[row][column]=score;var diag=_table[row-1][column-1]+(score>1?1:score),top_1=_table[row-1][column]+-1,left=_table[row][column-1]+-1;left>=top_1?left>diag?(_table[row][column]=left,_arrows[row][column]=4):left===diag?(_table[row][column]=left,_arrows[row][column]=6):(_table[row][column]=diag,_arrows[row][column]=2):top_1>diag?(_table[row][column]=top_1,_arrows[row][column]=1):top_1===diag?(_table[row][column]=top_1,_arrows[row][column]=3):(_table[row][column]=diag,_arrows[row][column]=2)}if(_debug&&printTables(pattern,patternStart,word,wordStart),_matchesCount=0,_topScore=-100,_wordStart=wordStart,_firstMatchCanBeWeak=firstMatchCanBeWeak,_findAllMatches2(row-1,column-1,patternLen===wordLen?1:0,0,!1),_matchesCount!==0)return[_topScore,_topMatch2,wordStart]}}function _doScore(pattern,patternLow,patternPos,patternStart,word,wordLow,wordPos){return patternLow[patternPos]!==wordLow[wordPos]?-1:wordPos===patternPos-patternStart||isUpperCaseAtPos(wordPos,word,wordLow)&&(wordPos===0||!isUpperCaseAtPos(wordPos-1,word,wordLow))?pattern[patternPos]===word[wordPos]?7:5:isSeparatorAtPos(wordLow,wordPos)&&(wordPos===0||!isSeparatorAtPos(wordLow,wordPos-1))||isSeparatorAtPos(wordLow,wordPos-1)||isWhitespaceAtPos(wordLow,wordPos-1)?5:1}var _matchesCount=0,_topMatch2=0,_topScore=0,_wordStart=0,_firstMatchCanBeWeak=!1;function _findAllMatches2(row,column,total,matches,lastMatched){if(!(_matchesCount>=10||total<-25)){for(var simpleMatchCount=0;row>0&&column>0;){var score=_scores[row][column],arrow=_arrows[row][column];if(arrow===4)column-=1,lastMatched?total-=5:matches!==0&&(total-=1),lastMatched=!1,simpleMatchCount=0;else if(arrow&2)if(arrow&4&&_findAllMatches2(row,column-1,matches!==0?total-1:total,matches,lastMatched),total+=score,row-=1,column-=1,lastMatched=!0,matches+=Math.pow(2,column+_wordStart),score===1){if(simpleMatchCount+=1,row===0&&!_firstMatchCanBeWeak)return}else total+=1+simpleMatchCount*(score-1),simpleMatchCount=0;else return}total-=column>=3?9:column*3,_matchesCount+=1,total>_topScore&&(_topScore=total,_topMatch2=matches)}}function fuzzyScoreGracefulAggressive(pattern,lowPattern,patternPos,word,lowWord,wordPos,firstMatchCanBeWeak){return fuzzyScoreWithPermutations(pattern,lowPattern,patternPos,word,lowWord,wordPos,!0,firstMatchCanBeWeak)}function fuzzyScoreWithPermutations(pattern,lowPattern,patternPos,word,lowWord,wordPos,aggressive,firstMatchCanBeWeak){var top=fuzzyScore(pattern,lowPattern,patternPos,word,lowWord,wordPos,firstMatchCanBeWeak);if(top&&!aggressive)return top;if(pattern.length>=3)for(var tries=Math.min(7,pattern.length-1),movingPatternPos=patternPos+1;movingPatternPos<tries;movingPatternPos++){var newPattern=nextTypoPermutation(pattern,movingPatternPos);if(newPattern){var candidate=fuzzyScore(newPattern,newPattern.toLowerCase(),patternPos,word,lowWord,wordPos,firstMatchCanBeWeak);candidate&&(candidate[0]-=3,(!top||candidate[0]>top[0])&&(top=candidate))}}return top}function nextTypoPermutation(pattern,patternPos){if(!(patternPos+1>=pattern.length)){var swap1=pattern[patternPos],swap2=pattern[patternPos+1];if(swap1!==swap2)return pattern.slice(0,patternPos)+swap2+swap1+pattern.slice(patternPos+2)}}},3175:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return clearAllFontInfos}),__webpack_require__.d(__webpack_exports__,"a",function(){return configuration_Configuration});var browser=__webpack_require__(2642),common_event=__webpack_require__(2106),lifecycle=__webpack_require__(2033),platform=__webpack_require__(2236),CharWidthRequest=function(){function CharWidthRequest2(chr,type){this.chr=chr,this.type=type,this.width=0}return CharWidthRequest2.prototype.fulfill=function(width){this.width=width},CharWidthRequest2}(),DomCharWidthReader=function(){function DomCharWidthReader2(bareFontInfo,requests){this._bareFontInfo=bareFontInfo,this._requests=requests,this._container=null,this._testElements=null}return DomCharWidthReader2.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},DomCharWidthReader2.prototype._createDomElements=function(){var container=document.createElement("div");container.style.position="absolute",container.style.top="-50000px",container.style.width="50000px";var regularDomNode=document.createElement("div");regularDomNode.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),regularDomNode.style.fontWeight=this._bareFontInfo.fontWeight,regularDomNode.style.fontSize=this._bareFontInfo.fontSize+"px",regularDomNode.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,regularDomNode.style.lineHeight=this._bareFontInfo.lineHeight+"px",regularDomNode.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",container.appendChild(regularDomNode);var boldDomNode=document.createElement("div");boldDomNode.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),boldDomNode.style.fontWeight="bold",boldDomNode.style.fontSize=this._bareFontInfo.fontSize+"px",boldDomNode.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,boldDomNode.style.lineHeight=this._bareFontInfo.lineHeight+"px",boldDomNode.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",container.appendChild(boldDomNode);var italicDomNode=document.createElement("div");italicDomNode.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),italicDomNode.style.fontWeight=this._bareFontInfo.fontWeight,italicDomNode.style.fontSize=this._bareFontInfo.fontSize+"px",italicDomNode.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,italicDomNode.style.lineHeight=this._bareFontInfo.lineHeight+"px",italicDomNode.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",italicDomNode.style.fontStyle="italic",container.appendChild(italicDomNode);for(var testElements=[],_i=0,_a=this._requests;_i<_a.length;_i++){var request=_a[_i],parent_1=void 0;request.type===0&&(parent_1=regularDomNode),request.type===2&&(parent_1=boldDomNode),request.type===1&&(parent_1=italicDomNode),parent_1.appendChild(document.createElement("br"));var testElement=document.createElement("span");DomCharWidthReader2._render(testElement,request),parent_1.appendChild(testElement),testElements.push(testElement)}this._container=container,this._testElements=testElements},DomCharWidthReader2._render=function(testElement,request){if(request.chr===" "){for(var htmlString="&#160;",i=0;i<8;i++)htmlString+=htmlString;testElement.innerHTML=htmlString}else{for(var testString=request.chr,i=0;i<8;i++)testString+=testString;testElement.textContent=testString}},DomCharWidthReader2.prototype._readFromDomElements=function(){for(var i=0,len=this._requests.length;i<len;i++){var request=this._requests[i],testElement=this._testElements[i];request.fulfill(testElement.offsetWidth/256)}},DomCharWidthReader2}();function readCharWidths(bareFontInfo,requests){var reader=new DomCharWidthReader(bareFontInfo,requests);reader.read()}var __extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ElementSizeObserver=function(_super){__extends(ElementSizeObserver2,_super);function ElementSizeObserver2(referenceDomElement,dimension,changeCallback){var _this=_super.call(this)||this;return _this.referenceDomElement=referenceDomElement,_this.changeCallback=changeCallback,_this.measureReferenceDomElementToken=-1,_this.width=-1,_this.height=-1,_this.measureReferenceDomElement(!1,dimension),_this}return ElementSizeObserver2.prototype.dispose=function(){this.stopObserving(),_super.prototype.dispose.call(this)},ElementSizeObserver2.prototype.getWidth=function(){return this.width},ElementSizeObserver2.prototype.getHeight=function(){return this.height},ElementSizeObserver2.prototype.startObserving=function(){var _this=this;this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(function(){return _this.measureReferenceDomElement(!0)},100))},ElementSizeObserver2.prototype.stopObserving=function(){this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},ElementSizeObserver2.prototype.observe=function(dimension){this.measureReferenceDomElement(!0,dimension)},ElementSizeObserver2.prototype.measureReferenceDomElement=function(callChangeCallback,dimension){var observedWidth=0,observedHeight=0;dimension?(observedWidth=dimension.width,observedHeight=dimension.height):this.referenceDomElement&&(observedWidth=this.referenceDomElement.clientWidth,observedHeight=this.referenceDomElement.clientHeight),observedWidth=Math.max(5,observedWidth),observedHeight=Math.max(5,observedHeight),(this.width!==observedWidth||this.height!==observedHeight)&&(this.width=observedWidth,this.height=observedHeight,callChangeCallback&&this.changeCallback())},ElementSizeObserver2}(lifecycle.a),commonEditorConfig=__webpack_require__(3490),editorOptions=__webpack_require__(2784),fontInfo=__webpack_require__(3491),configuration_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),CSSBasedConfigurationCache=function(){function CSSBasedConfigurationCache2(){this._keys=Object.create(null),this._values=Object.create(null)}return CSSBasedConfigurationCache2.prototype.has=function(item){var itemId=item.getId();return!!this._values[itemId]},CSSBasedConfigurationCache2.prototype.get=function(item){var itemId=item.getId();return this._values[itemId]},CSSBasedConfigurationCache2.prototype.put=function(item,value){var itemId=item.getId();this._keys[itemId]=item,this._values[itemId]=value},CSSBasedConfigurationCache2.prototype.remove=function(item){var itemId=item.getId();delete this._keys[itemId],delete this._values[itemId]},CSSBasedConfigurationCache2.prototype.getValues=function(){var _this=this;return Object.keys(this._keys).map(function(id){return _this._values[id]})},CSSBasedConfigurationCache2}();function clearAllFontInfos(){configuration_CSSBasedConfiguration.INSTANCE.clearCache()}var configuration_CSSBasedConfiguration=function(_super){configuration_extends(CSSBasedConfiguration,_super);function CSSBasedConfiguration(){var _this=_super.call(this)||this;return _this._onDidChange=_this._register(new common_event.a),_this.onDidChange=_this._onDidChange.event,_this._cache=new CSSBasedConfigurationCache,_this._evictUntrustedReadingsTimeout=-1,_this}return CSSBasedConfiguration.prototype.dispose=function(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),_super.prototype.dispose.call(this)},CSSBasedConfiguration.prototype.clearCache=function(){this._cache=new CSSBasedConfigurationCache,this._onDidChange.fire()},CSSBasedConfiguration.prototype._writeToCache=function(item,value){var _this=this;this._cache.put(item,value),!value.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(function(){_this._evictUntrustedReadingsTimeout=-1,_this._evictUntrustedReadings()},5e3))},CSSBasedConfiguration.prototype._evictUntrustedReadings=function(){for(var values=this._cache.getValues(),somethingRemoved=!1,i=0,len=values.length;i<len;i++){var item=values[i];item.isTrusted||(somethingRemoved=!0,this._cache.remove(item))}somethingRemoved&&this._onDidChange.fire()},CSSBasedConfiguration.prototype.readConfiguration=function(bareFontInfo){if(!this._cache.has(bareFontInfo)){var readConfig=CSSBasedConfiguration._actualReadConfiguration(bareFontInfo);(readConfig.typicalHalfwidthCharacterWidth<=2||readConfig.typicalFullwidthCharacterWidth<=2||readConfig.spaceWidth<=2||readConfig.maxDigitWidth<=2)&&(readConfig=new fontInfo.b({zoomLevel:browser.c(),fontFamily:readConfig.fontFamily,fontWeight:readConfig.fontWeight,fontSize:readConfig.fontSize,fontFeatureSettings:readConfig.fontFeatureSettings,lineHeight:readConfig.lineHeight,letterSpacing:readConfig.letterSpacing,isMonospace:readConfig.isMonospace,typicalHalfwidthCharacterWidth:Math.max(readConfig.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(readConfig.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:readConfig.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(readConfig.spaceWidth,5),maxDigitWidth:Math.max(readConfig.maxDigitWidth,5)},!1)),this._writeToCache(bareFontInfo,readConfig)}return this._cache.get(bareFontInfo)},CSSBasedConfiguration.createRequest=function(chr,type,all,monospace){var result=new CharWidthRequest(chr,type);return all.push(result),monospace&&monospace.push(result),result},CSSBasedConfiguration._actualReadConfiguration=function(bareFontInfo){var all=[],monospace=[],typicalHalfwidthCharacter=this.createRequest("n",0,all,monospace),typicalFullwidthCharacter=this.createRequest("\uFF4D",0,all,null),space=this.createRequest(" ",0,all,monospace),digit0=this.createRequest("0",0,all,monospace),digit1=this.createRequest("1",0,all,monospace),digit2=this.createRequest("2",0,all,monospace),digit3=this.createRequest("3",0,all,monospace),digit4=this.createRequest("4",0,all,monospace),digit5=this.createRequest("5",0,all,monospace),digit6=this.createRequest("6",0,all,monospace),digit7=this.createRequest("7",0,all,monospace),digit8=this.createRequest("8",0,all,monospace),digit9=this.createRequest("9",0,all,monospace),rightwardsArrow=this.createRequest("\u2192",0,all,monospace),halfwidthRightwardsArrow=this.createRequest("\uFFEB",0,all,null);this.createRequest("\xB7",0,all,monospace),this.createRequest("|",0,all,monospace),this.createRequest("/",0,all,monospace),this.createRequest("-",0,all,monospace),this.createRequest("_",0,all,monospace),this.createRequest("i",0,all,monospace),this.createRequest("l",0,all,monospace),this.createRequest("m",0,all,monospace),this.createRequest("|",1,all,monospace),this.createRequest("_",1,all,monospace),this.createRequest("i",1,all,monospace),this.createRequest("l",1,all,monospace),this.createRequest("m",1,all,monospace),this.createRequest("n",1,all,monospace),this.createRequest("|",2,all,monospace),this.createRequest("_",2,all,monospace),this.createRequest("i",2,all,monospace),this.createRequest("l",2,all,monospace),this.createRequest("m",2,all,monospace),this.createRequest("n",2,all,monospace),readCharWidths(bareFontInfo,all);for(var maxDigitWidth=Math.max(digit0.width,digit1.width,digit2.width,digit3.width,digit4.width,digit5.width,digit6.width,digit7.width,digit8.width,digit9.width),isMonospace=bareFontInfo.fontFeatureSettings===editorOptions.d.OFF,referenceWidth=monospace[0].width,i=1,len=monospace.length;isMonospace&&i<len;i++){var diff=referenceWidth-monospace[i].width;if(diff<-.001||diff>.001){isMonospace=!1;break}}var canUseHalfwidthRightwardsArrow=!0;isMonospace&&halfwidthRightwardsArrow.width!==referenceWidth&&(canUseHalfwidthRightwardsArrow=!1),halfwidthRightwardsArrow.width>rightwardsArrow.width&&(canUseHalfwidthRightwardsArrow=!1);var canTrustBrowserZoomLevel=browser.b()>2e3;return new fontInfo.b({zoomLevel:browser.c(),fontFamily:bareFontInfo.fontFamily,fontWeight:bareFontInfo.fontWeight,fontSize:bareFontInfo.fontSize,fontFeatureSettings:bareFontInfo.fontFeatureSettings,lineHeight:bareFontInfo.lineHeight,letterSpacing:bareFontInfo.letterSpacing,isMonospace,typicalHalfwidthCharacterWidth:typicalHalfwidthCharacter.width,typicalFullwidthCharacterWidth:typicalFullwidthCharacter.width,canUseHalfwidthRightwardsArrow,spaceWidth:space.width,maxDigitWidth},canTrustBrowserZoomLevel)},CSSBasedConfiguration.INSTANCE=new CSSBasedConfiguration,CSSBasedConfiguration}(lifecycle.a),configuration_Configuration=function(_super){configuration_extends(Configuration,_super);function Configuration(isSimpleWidget,options,referenceDomElement,accessibilityService){referenceDomElement===void 0&&(referenceDomElement=null);var _this=_super.call(this,isSimpleWidget,options)||this;return _this.accessibilityService=accessibilityService,_this._elementSizeObserver=_this._register(new ElementSizeObserver(referenceDomElement,options.dimension,function(){return _this._onReferenceDomElementSizeChanged()})),_this._register(configuration_CSSBasedConfiguration.INSTANCE.onDidChange(function(){return _this._onCSSBasedConfigurationChanged()})),_this._validatedOptions.get(9)&&_this._elementSizeObserver.startObserving(),_this._register(browser.o(function(_){return _this._recomputeOptions()})),_this._register(_this.accessibilityService.onDidChangeAccessibilitySupport(function(){return _this._recomputeOptions()})),_this._recomputeOptions(),_this}return Configuration.applyFontInfoSlow=function(domNode,fontInfo2){domNode.style.fontFamily=fontInfo2.getMassagedFontFamily(),domNode.style.fontWeight=fontInfo2.fontWeight,domNode.style.fontSize=fontInfo2.fontSize+"px",domNode.style.fontFeatureSettings=fontInfo2.fontFeatureSettings,domNode.style.lineHeight=fontInfo2.lineHeight+"px",domNode.style.letterSpacing=fontInfo2.letterSpacing+"px"},Configuration.applyFontInfo=function(domNode,fontInfo2){domNode.setFontFamily(fontInfo2.getMassagedFontFamily()),domNode.setFontWeight(fontInfo2.fontWeight),domNode.setFontSize(fontInfo2.fontSize),domNode.setFontFeatureSettings(fontInfo2.fontFeatureSettings),domNode.setLineHeight(fontInfo2.lineHeight),domNode.setLetterSpacing(fontInfo2.letterSpacing)},Configuration.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},Configuration.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},Configuration.prototype.observeReferenceElement=function(dimension){this._elementSizeObserver.observe(dimension)},Configuration.prototype.dispose=function(){_super.prototype.dispose.call(this)},Configuration.prototype._getExtraEditorClassName=function(){var extra="";return!browser.k&&!browser.n&&(extra+="no-user-select "),platform.e&&(extra+="mac "),extra},Configuration.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:browser.m||browser.h,pixelRatio:browser.a(),zoomLevel:browser.c(),accessibilitySupport:this.accessibilityService.getAccessibilitySupport()}},Configuration.prototype.readConfiguration=function(bareFontInfo){return configuration_CSSBasedConfiguration.INSTANCE.readConfiguration(bareFontInfo)},Configuration}(commonEditorConfig.a)},3177:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return editorState_EditorState}),__webpack_require__.d(__webpack_exports__,"b",function(){return editorState_EditorStateCancellationTokenSource}),__webpack_require__.d(__webpack_exports__,"d",function(){return TextModelCancellationTokenSource}),__webpack_require__.d(__webpack_exports__,"c",function(){return StableEditorScrollState});var strings=__webpack_require__(2123),cancellation=__webpack_require__(2649),lifecycle=__webpack_require__(2033),editorExtensions=__webpack_require__(2099),contextkey=__webpack_require__(2238),linkedList=__webpack_require__(3232),instantiation=__webpack_require__(2232),extensions=__webpack_require__(3237),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),IEditorCancellationTokens=Object(instantiation.c)("IEditorCancelService"),ctxCancellableOperation=new contextkey.d("cancellableOperation",!1);Object(extensions.b)(IEditorCancellationTokens,function(){function class_1(){this._tokens=new WeakMap}return class_1.prototype.add=function(editor,cts){var data=this._tokens.get(editor);data||(data=editor.invokeWithinContext(function(accessor){var key=ctxCancellableOperation.bindTo(accessor.get(contextkey.c)),tokens=new linkedList.a;return{key,tokens}}),this._tokens.set(editor,data));var removeFn;return data.key.set(!0),removeFn=data.tokens.push(cts),function(){removeFn&&(removeFn(),data.key.set(!data.tokens.isEmpty()),removeFn=void 0)}},class_1.prototype.cancel=function(editor){var data=this._tokens.get(editor);if(data){var cts=data.tokens.pop();cts&&(cts.cancel(),data.key.set(!data.tokens.isEmpty()))}},class_1}(),!0);var EditorKeybindingCancellationTokenSource=function(_super){__extends(EditorKeybindingCancellationTokenSource2,_super);function EditorKeybindingCancellationTokenSource2(editor,parent){var _this=_super.call(this,parent)||this;return _this.editor=editor,_this._unregister=editor.invokeWithinContext(function(accessor){return accessor.get(IEditorCancellationTokens).add(editor,_this)}),_this}return EditorKeybindingCancellationTokenSource2.prototype.dispose=function(){this._unregister(),_super.prototype.dispose.call(this)},EditorKeybindingCancellationTokenSource2}(cancellation.b);Object(editorExtensions.g)(new(function(_super){__extends(class_2,_super);function class_2(){return _super.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:ctxCancellableOperation})||this}return class_2.prototype.runEditorCommand=function(accessor,editor){accessor.get(IEditorCancellationTokens).cancel(editor)},class_2}(editorExtensions.c)));var editorState_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),editorState_EditorState=function(){function EditorState(editor,flags){if(this.flags=flags,this.flags&1){var model=editor.getModel();this.modelVersionId=model?strings.r("{0}#{1}",model.uri.toString(),model.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=editor.getPosition():this.position=null,this.flags&2?this.selection=editor.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=editor.getScrollLeft(),this.scrollTop=editor.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return EditorState.prototype._equals=function(other){if(!(other instanceof EditorState))return!1;var state=other;return!(this.modelVersionId!==state.modelVersionId||this.scrollLeft!==state.scrollLeft||this.scrollTop!==state.scrollTop||!this.position&&state.position||this.position&&!state.position||this.position&&state.position&&!this.position.equals(state.position)||!this.selection&&state.selection||this.selection&&!state.selection||this.selection&&state.selection&&!this.selection.equalsRange(state.selection))},EditorState.prototype.validate=function(editor){return this._equals(new EditorState(editor,this.flags))},EditorState}(),editorState_EditorStateCancellationTokenSource=function(_super){editorState_extends(EditorStateCancellationTokenSource,_super);function EditorStateCancellationTokenSource(editor,flags,parent){var _this=_super.call(this,editor,parent)||this;return _this.editor=editor,_this._listener=new lifecycle.b,flags&4&&_this._listener.add(editor.onDidChangeCursorPosition(function(_){return _this.cancel()})),flags&2&&_this._listener.add(editor.onDidChangeCursorSelection(function(_){return _this.cancel()})),flags&8&&_this._listener.add(editor.onDidScrollChange(function(_){return _this.cancel()})),flags&1&&(_this._listener.add(editor.onDidChangeModel(function(_){return _this.cancel()})),_this._listener.add(editor.onDidChangeModelContent(function(_){return _this.cancel()}))),_this}return EditorStateCancellationTokenSource.prototype.dispose=function(){this._listener.dispose(),_super.prototype.dispose.call(this)},EditorStateCancellationTokenSource}(EditorKeybindingCancellationTokenSource),TextModelCancellationTokenSource=function(_super){editorState_extends(TextModelCancellationTokenSource2,_super);function TextModelCancellationTokenSource2(model,parent){var _this=_super.call(this,parent)||this;return _this._listener=model.onDidChangeContent(function(){return _this.cancel()}),_this}return TextModelCancellationTokenSource2.prototype.dispose=function(){this._listener.dispose(),_super.prototype.dispose.call(this)},TextModelCancellationTokenSource2}(cancellation.b),StableEditorScrollState=function(){function StableEditorScrollState2(_visiblePosition,_visiblePositionScrollDelta){this._visiblePosition=_visiblePosition,this._visiblePositionScrollDelta=_visiblePositionScrollDelta}return StableEditorScrollState2.capture=function(editor){var visiblePosition=null,visiblePositionScrollDelta=0;if(editor.getScrollTop()!==0){var visibleRanges=editor.getVisibleRanges();if(visibleRanges.length>0){visiblePosition=visibleRanges[0].getStartPosition();var visiblePositionScrollTop=editor.getTopForPosition(visiblePosition.lineNumber,visiblePosition.column);visiblePositionScrollDelta=editor.getScrollTop()-visiblePositionScrollTop}}return new StableEditorScrollState2(visiblePosition,visiblePositionScrollDelta)},StableEditorScrollState2.prototype.restore=function(editor){if(this._visiblePosition){var visiblePositionScrollTop=editor.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);editor.setScrollTop(visiblePositionScrollTop+this._visiblePositionScrollDelta)}},StableEditorScrollState2}()},3193:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return MarkerSeverity}),__webpack_require__.d(__webpack_exports__,"a",function(){return IMarkerData}),__webpack_require__.d(__webpack_exports__,"b",function(){return IMarkerService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),_nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2069),_base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3372),MarkerSeverity;(function(MarkerSeverity2){MarkerSeverity2[MarkerSeverity2.Hint=1]="Hint",MarkerSeverity2[MarkerSeverity2.Info=2]="Info",MarkerSeverity2[MarkerSeverity2.Warning=4]="Warning",MarkerSeverity2[MarkerSeverity2.Error=8]="Error"})(MarkerSeverity||(MarkerSeverity={})),function(MarkerSeverity2){function compare(a,b){return b-a}MarkerSeverity2.compare=compare;var _displayStrings=Object.create(null);_displayStrings[MarkerSeverity2.Error]=Object(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a)("sev.error","Error"),_displayStrings[MarkerSeverity2.Warning]=Object(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a)("sev.warning","Warning"),_displayStrings[MarkerSeverity2.Info]=Object(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a)("sev.info","Info");function toString(a){return _displayStrings[a]||""}MarkerSeverity2.toString=toString;function fromSeverity(severity){switch(severity){case _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Error:return MarkerSeverity2.Error;case _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Warning:return MarkerSeverity2.Warning;case _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Info:return MarkerSeverity2.Info;case _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Ignore:return MarkerSeverity2.Hint}}MarkerSeverity2.fromSeverity=fromSeverity;function toSeverity(severity){switch(severity){case MarkerSeverity2.Error:return _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Error;case MarkerSeverity2.Warning:return _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Warning;case MarkerSeverity2.Info:return _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Info;case MarkerSeverity2.Hint:return _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Ignore}}MarkerSeverity2.toSeverity=toSeverity}(MarkerSeverity||(MarkerSeverity={}));var IMarkerData;(function(IMarkerData2){var emptyString="";function makeKey(markerData){return makeKeyOptionalMessage(markerData,!0)}IMarkerData2.makeKey=makeKey;function makeKeyOptionalMessage(markerData,useMessage){var result=[emptyString];return markerData.source?result.push(markerData.source.replace("\xA6","\xA6")):result.push(emptyString),markerData.code?result.push(markerData.code.replace("\xA6","\xA6")):result.push(emptyString),markerData.severity!==void 0&&markerData.severity!==null?result.push(MarkerSeverity.toString(markerData.severity)):result.push(emptyString),markerData.message&&useMessage?result.push(markerData.message.replace("\xA6","\xA6")):result.push(emptyString),markerData.startLineNumber!==void 0&&markerData.startLineNumber!==null?result.push(markerData.startLineNumber.toString()):result.push(emptyString),markerData.startColumn!==void 0&&markerData.startColumn!==null?result.push(markerData.startColumn.toString()):result.push(emptyString),markerData.endLineNumber!==void 0&&markerData.endLineNumber!==null?result.push(markerData.endLineNumber.toString()):result.push(emptyString),markerData.endColumn!==void 0&&markerData.endColumn!==null?result.push(markerData.endColumn.toString()):result.push(emptyString),result.push(emptyString),result.join("\xA6")}IMarkerData2.makeKeyOptionalMessage=makeKeyOptionalMessage})(IMarkerData||(IMarkerData={}));var IMarkerService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("markerService")},3194:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IEditorProgressService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IEditorProgressService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("editorProgressService")},3195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IStorageService}),__webpack_require__.d(__webpack_exports__,"c",function(){return WillSaveStateReason}),__webpack_require__.d(__webpack_exports__,"b",function(){return InMemoryStorageService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2033),_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2631),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),IStorageService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("storageService"),WillSaveStateReason;(function(WillSaveStateReason2){WillSaveStateReason2[WillSaveStateReason2.NONE=0]="NONE",WillSaveStateReason2[WillSaveStateReason2.SHUTDOWN=1]="SHUTDOWN"})(WillSaveStateReason||(WillSaveStateReason={}));var InMemoryStorageService=function(_super){__extends(InMemoryStorageService2,_super);function InMemoryStorageService2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this._onDidChangeStorage=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),_this.onDidChangeStorage=_this._onDidChangeStorage.event,_this.onWillSaveState=_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.b.None,_this.globalCache=new Map,_this.workspaceCache=new Map,_this}return InMemoryStorageService2.prototype.getCache=function(scope){return scope===0?this.globalCache:this.workspaceCache},InMemoryStorageService2.prototype.get=function(key,scope,fallbackValue){var value=this.getCache(scope).get(key);return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l)(value)?fallbackValue:value},InMemoryStorageService2.prototype.getBoolean=function(key,scope,fallbackValue){var value=this.getCache(scope).get(key);return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l)(value)?fallbackValue:value==="true"},InMemoryStorageService2.prototype.store=function(key,value,scope){if(Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l)(value))return this.remove(key,scope);var valueStr=String(value),currentValue=this.getCache(scope).get(key);return currentValue===valueStr||(this.getCache(scope).set(key,valueStr),this._onDidChangeStorage.fire({scope,key})),Promise.resolve()},InMemoryStorageService2.prototype.remove=function(key,scope){var wasDeleted=this.getCache(scope).delete(key);return wasDeleted&&this._onDidChangeStorage.fire({scope,key}),Promise.resolve()},InMemoryStorageService2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a)},3196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return isThemeColor}),__webpack_require__.d(__webpack_exports__,"a",function(){return EditorType}),__webpack_require__.d(__webpack_exports__,"b",function(){return Handler});function isThemeColor(o){return o&&typeof o.id=="string"}var EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"}},3197:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return Viewport}),__webpack_require__.d(__webpack_exports__,"b",function(){return MinimapLinesRenderingData}),__webpack_require__.d(__webpack_exports__,"c",function(){return ViewLineData}),__webpack_require__.d(__webpack_exports__,"d",function(){return ViewLineRenderingData}),__webpack_require__.d(__webpack_exports__,"a",function(){return InlineDecoration}),__webpack_require__.d(__webpack_exports__,"e",function(){return ViewModelDecoration});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),Viewport=function(){function Viewport2(top,left,width,height){this.top=top|0,this.left=left|0,this.width=width|0,this.height=height|0}return Viewport2}(),MinimapLinesRenderingData=function(){function MinimapLinesRenderingData2(tabSize,data){this.tabSize=tabSize,this.data=data}return MinimapLinesRenderingData2}(),ViewLineData=function(){function ViewLineData2(content,continuesWithWrappedLine,minColumn,maxColumn,tokens){this.content=content,this.continuesWithWrappedLine=continuesWithWrappedLine,this.minColumn=minColumn,this.maxColumn=maxColumn,this.tokens=tokens}return ViewLineData2}(),ViewLineRenderingData=function(){function ViewLineRenderingData2(minColumn,maxColumn,content,continuesWithWrappedLine,mightContainRTL,mightContainNonBasicASCII,tokens,inlineDecorations,tabSize){this.minColumn=minColumn,this.maxColumn=maxColumn,this.content=content,this.continuesWithWrappedLine=continuesWithWrappedLine,this.isBasicASCII=ViewLineRenderingData2.isBasicASCII(content,mightContainNonBasicASCII),this.containsRTL=ViewLineRenderingData2.containsRTL(content,this.isBasicASCII,mightContainRTL),this.tokens=tokens,this.inlineDecorations=inlineDecorations,this.tabSize=tabSize}return ViewLineRenderingData2.isBasicASCII=function(lineContent,mightContainNonBasicASCII){return mightContainNonBasicASCII?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.w(lineContent):!0},ViewLineRenderingData2.containsRTL=function(lineContent,isBasicASCII,mightContainRTL){return!isBasicASCII&&mightContainRTL?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.i(lineContent):!1},ViewLineRenderingData2}(),InlineDecoration=function(){function InlineDecoration2(range,inlineClassName,type){this.range=range,this.inlineClassName=inlineClassName,this.type=type}return InlineDecoration2}(),ViewModelDecoration=function(){function ViewModelDecoration2(range,options){this.range=range,this.options=options}return ViewModelDecoration2}()},3198:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IModeService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IModeService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("modeService")},3232:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LinkedList});var _iterator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3110),Node2=function(){function Node3(element){this.element=element,this.next=Node3.Undefined,this.prev=Node3.Undefined}return Node3.Undefined=new Node3(void 0),Node3}(),LinkedList=function(){function LinkedList2(){this._first=Node2.Undefined,this._last=Node2.Undefined,this._size=0}return Object.defineProperty(LinkedList2.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),LinkedList2.prototype.isEmpty=function(){return this._first===Node2.Undefined},LinkedList2.prototype.clear=function(){this._first=Node2.Undefined,this._last=Node2.Undefined,this._size=0},LinkedList2.prototype.unshift=function(element){return this._insert(element,!1)},LinkedList2.prototype.push=function(element){return this._insert(element,!0)},LinkedList2.prototype._insert=function(element,atTheEnd){var _this=this,newNode=new Node2(element);if(this._first===Node2.Undefined)this._first=newNode,this._last=newNode;else if(atTheEnd){var oldLast=this._last;this._last=newNode,newNode.prev=oldLast,oldLast.next=newNode}else{var oldFirst=this._first;this._first=newNode,newNode.next=oldFirst,oldFirst.prev=newNode}this._size+=1;var didRemove=!1;return function(){didRemove||(didRemove=!0,_this._remove(newNode))}},LinkedList2.prototype.shift=function(){if(this._first!==Node2.Undefined){var res=this._first.element;return this._remove(this._first),res}},LinkedList2.prototype.pop=function(){if(this._last!==Node2.Undefined){var res=this._last.element;return this._remove(this._last),res}},LinkedList2.prototype._remove=function(node){if(node.prev!==Node2.Undefined&&node.next!==Node2.Undefined){var anchor=node.prev;anchor.next=node.next,node.next.prev=anchor}else node.prev===Node2.Undefined&&node.next===Node2.Undefined?(this._first=Node2.Undefined,this._last=Node2.Undefined):node.next===Node2.Undefined?(this._last=this._last.prev,this._last.next=Node2.Undefined):node.prev===Node2.Undefined&&(this._first=this._first.next,this._first.prev=Node2.Undefined);this._size-=1},LinkedList2.prototype.iterator=function(){var element,node=this._first;return{next:function(){return node===Node2.Undefined?_iterator_js__WEBPACK_IMPORTED_MODULE_0__.c:(element?element.value=node.element:element={done:!1,value:node.element},node=node.next,element)}}},LinkedList2.prototype.toArray=function(){for(var result=[],node=this._first;node!==Node2.Undefined;node=node.next)result.push(node.element);return result},LinkedList2}()},3233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ITextModelService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),ITextModelService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("textModelService")},3234:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return KeybindingsRegistry});var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2768),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2236),_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2733),_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2818),KeybindingsRegistryImpl=function(){function KeybindingsRegistryImpl2(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}return KeybindingsRegistryImpl2.bindToCurrentPlatform=function(kb){if(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a===1){if(kb&&kb.win)return kb.win}else if(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a===2){if(kb&&kb.mac)return kb.mac}else if(kb&&kb.linux)return kb.linux;return kb},KeybindingsRegistryImpl2.prototype.registerKeybindingRule=function(rule){var actualKb=KeybindingsRegistryImpl2.bindToCurrentPlatform(rule);if(actualKb&&actualKb.primary){var kk=Object(_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_0__.f)(actualKb.primary,_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a);kk&&this._registerDefaultKeybinding(kk,rule.id,rule.args,rule.weight,0,rule.when)}if(actualKb&&Array.isArray(actualKb.secondary))for(var i=0,len=actualKb.secondary.length;i<len;i++){var k=actualKb.secondary[i],kk=Object(_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_0__.f)(k,_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a);kk&&this._registerDefaultKeybinding(kk,rule.id,rule.args,rule.weight,-i-1,rule.when)}},KeybindingsRegistryImpl2.prototype.registerCommandAndKeybindingRule=function(desc){this.registerKeybindingRule(desc),_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_2__.a.registerCommand(desc)},KeybindingsRegistryImpl2._mightProduceChar=function(keyCode){return keyCode>=21&&keyCode<=30||keyCode>=31&&keyCode<=56?!0:keyCode===80||keyCode===81||keyCode===82||keyCode===83||keyCode===84||keyCode===85||keyCode===86||keyCode===110||keyCode===111||keyCode===87||keyCode===88||keyCode===89||keyCode===90||keyCode===91||keyCode===92},KeybindingsRegistryImpl2.prototype._assertNoCtrlAlt=function(keybinding,commandId){keybinding.ctrlKey&&keybinding.altKey&&!keybinding.metaKey&&KeybindingsRegistryImpl2._mightProduceChar(keybinding.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",keybinding," for ",commandId)},KeybindingsRegistryImpl2.prototype._registerDefaultKeybinding=function(keybinding,commandId,commandArgs,weight1,weight2,when){_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a===1&&this._assertNoCtrlAlt(keybinding.parts[0],commandId),this._coreKeybindings.push({keybinding,command:commandId,commandArgs,when,weight1,weight2}),this._cachedMergedKeybindings=null},KeybindingsRegistryImpl2.prototype.getDefaultKeybindings=function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(sorter)),this._cachedMergedKeybindings.slice(0)},KeybindingsRegistryImpl2}(),KeybindingsRegistry=new KeybindingsRegistryImpl,Extensions={EditorModes:"platform.keybindingsRegistry"};_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.a.add(Extensions.EditorModes,KeybindingsRegistry);function sorter(a,b){return a.weight1!==b.weight1?a.weight1-b.weight1:a.command<b.command?-1:a.command>b.command?1:a.weight2-b.weight2}},3235:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CharacterClassifier}),__webpack_require__.d(__webpack_exports__,"b",function(){return CharacterSet});var _base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3493),CharacterClassifier=function(){function CharacterClassifier2(_defaultValue){var defaultValue=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.c)(_defaultValue);this._defaultValue=defaultValue,this._asciiMap=CharacterClassifier2._createAsciiMap(defaultValue),this._map=new Map}return CharacterClassifier2._createAsciiMap=function(defaultValue){for(var asciiMap=new Uint8Array(256),i=0;i<256;i++)asciiMap[i]=defaultValue;return asciiMap},CharacterClassifier2.prototype.set=function(charCode,_value){var value=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.c)(_value);charCode>=0&&charCode<256?this._asciiMap[charCode]=value:this._map.set(charCode,value)},CharacterClassifier2.prototype.get=function(charCode){return charCode>=0&&charCode<256?this._asciiMap[charCode]:this._map.get(charCode)||this._defaultValue},CharacterClassifier2}(),CharacterSet=function(){function CharacterSet2(){this._actual=new CharacterClassifier(0)}return CharacterSet2.prototype.add=function(charCode){this._actual.set(charCode,1)},CharacterSet2.prototype.has=function(charCode){return this._actual.get(charCode)===1},CharacterSet2}()},3236:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"win32",function(){return win32}),__webpack_require__.d(__webpack_exports__,"posix",function(){return posix}),__webpack_require__.d(__webpack_exports__,"normalize",function(){return normalize}),__webpack_require__.d(__webpack_exports__,"join",function(){return join}),__webpack_require__.d(__webpack_exports__,"relative",function(){return relative}),__webpack_require__.d(__webpack_exports__,"dirname",function(){return dirname}),__webpack_require__.d(__webpack_exports__,"basename",function(){return basename}),__webpack_require__.d(__webpack_exports__,"extname",function(){return extname}),__webpack_require__.d(__webpack_exports__,"sep",function(){return sep});var _process_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5744),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),CHAR_UPPERCASE_A=65,CHAR_LOWERCASE_A=97,CHAR_UPPERCASE_Z=90,CHAR_LOWERCASE_Z=122,CHAR_DOT=46,CHAR_FORWARD_SLASH=47,CHAR_BACKWARD_SLASH=92,CHAR_COLON=58,CHAR_QUESTION_MARK=63,ErrorInvalidArgType=function(_super){__extends(ErrorInvalidArgType2,_super);function ErrorInvalidArgType2(name,expected,actual){var _this=this,determiner;typeof expected=="string"&&expected.indexOf("not ")===0?(determiner="must not be",expected=expected.replace(/^not /,"")):determiner="must be";var type=name.indexOf(".")!==-1?"property":"argument",msg='The "'+name+'" '+type+" "+determiner+" of type "+expected;return msg+=". Received type "+typeof actual,_this=_super.call(this,msg)||this,_this.code="ERR_INVALID_ARG_TYPE",_this}return ErrorInvalidArgType2}(Error);function validateString(value,name){if(typeof value!="string")throw new ErrorInvalidArgType(name,"string",value)}function isPathSeparator(code){return code===CHAR_FORWARD_SLASH||code===CHAR_BACKWARD_SLASH}function isPosixPathSeparator(code){return code===CHAR_FORWARD_SLASH}function isWindowsDeviceRoot(code){return code>=CHAR_UPPERCASE_A&&code<=CHAR_UPPERCASE_Z||code>=CHAR_LOWERCASE_A&&code<=CHAR_LOWERCASE_Z}function normalizeString(path,allowAboveRoot,separator,isPathSeparator2){for(var res="",lastSegmentLength=0,lastSlash=-1,dots=0,code,i=0;i<=path.length;++i){if(i<path.length)code=path.charCodeAt(i);else{if(isPathSeparator2(code))break;code=CHAR_FORWARD_SLASH}if(isPathSeparator2(code)){if(!(lastSlash===i-1||dots===1))if(lastSlash!==i-1&&dots===2){if(res.length<2||lastSegmentLength!==2||res.charCodeAt(res.length-1)!==CHAR_DOT||res.charCodeAt(res.length-2)!==CHAR_DOT){if(res.length>2){var lastSlashIndex=res.lastIndexOf(separator);lastSlashIndex===-1?(res="",lastSegmentLength=0):(res=res.slice(0,lastSlashIndex),lastSegmentLength=res.length-1-res.lastIndexOf(separator)),lastSlash=i,dots=0;continue}else if(res.length===2||res.length===1){res="",lastSegmentLength=0,lastSlash=i,dots=0;continue}}allowAboveRoot&&(res.length>0?res+=separator+"..":res="..",lastSegmentLength=2)}else res.length>0?res+=separator+path.slice(lastSlash+1,i):res=path.slice(lastSlash+1,i),lastSegmentLength=i-lastSlash-1;lastSlash=i,dots=0}else code===CHAR_DOT&&dots!==-1?++dots:dots=-1}return res}function _format(sep2,pathObject){var dir=pathObject.dir||pathObject.root,base=pathObject.base||(pathObject.name||"")+(pathObject.ext||"");return dir?dir===pathObject.root?dir+base:dir+sep2+base:base}var win32={resolve:function(){for(var pathSegments=[],_i=0;_i<arguments.length;_i++)pathSegments[_i]=arguments[_i];for(var resolvedDevice="",resolvedTail="",resolvedAbsolute=!1,i=pathSegments.length-1;i>=-1;i--){var path=void 0;if(i>=0?path=pathSegments[i]:resolvedDevice?(path=_process_js__WEBPACK_IMPORTED_MODULE_0__.b["="+resolvedDevice]||_process_js__WEBPACK_IMPORTED_MODULE_0__.a(),(path===void 0||path.slice(0,3).toLowerCase()!==resolvedDevice.toLowerCase()+"\\")&&(path=resolvedDevice+"\\")):path=_process_js__WEBPACK_IMPORTED_MODULE_0__.a(),validateString(path,"path"),path.length!==0){var len=path.length,rootEnd=0,device="",isAbsolute=!1,code=path.charCodeAt(0);if(len>1)if(isPathSeparator(code))if(isAbsolute=!0,isPathSeparator(path.charCodeAt(1))){for(var j=2,last=j;j<len&&!isPathSeparator(path.charCodeAt(j));++j);if(j<len&&j!==last){var firstPart=path.slice(last,j);for(last=j;j<len&&isPathSeparator(path.charCodeAt(j));++j);if(j<len&&j!==last){for(last=j;j<len&&!isPathSeparator(path.charCodeAt(j));++j);j===len?(device="\\\\"+firstPart+"\\"+path.slice(last),rootEnd=j):j!==last&&(device="\\\\"+firstPart+"\\"+path.slice(last,j),rootEnd=j)}}}else rootEnd=1;else isWindowsDeviceRoot(code)&&path.charCodeAt(1)===CHAR_COLON&&(device=path.slice(0,2),rootEnd=2,len>2&&isPathSeparator(path.charCodeAt(2))&&(isAbsolute=!0,rootEnd=3));else isPathSeparator(code)&&(rootEnd=1,isAbsolute=!0);if(!(device.length>0&&resolvedDevice.length>0&&device.toLowerCase()!==resolvedDevice.toLowerCase())&&(resolvedDevice.length===0&&device.length>0&&(resolvedDevice=device),resolvedAbsolute||(resolvedTail=path.slice(rootEnd)+"\\"+resolvedTail,resolvedAbsolute=isAbsolute),resolvedDevice.length>0&&resolvedAbsolute))break}}return resolvedTail=normalizeString(resolvedTail,!resolvedAbsolute,"\\",isPathSeparator),resolvedDevice+(resolvedAbsolute?"\\":"")+resolvedTail||"."},normalize:function(path){validateString(path,"path");var len=path.length;if(len===0)return".";var rootEnd=0,device,isAbsolute=!1,code=path.charCodeAt(0);if(len>1)if(isPathSeparator(code))if(isAbsolute=!0,isPathSeparator(path.charCodeAt(1))){for(var j=2,last=j;j<len&&!isPathSeparator(path.charCodeAt(j));++j);if(j<len&&j!==last){var firstPart=path.slice(last,j);for(last=j;j<len&&isPathSeparator(path.charCodeAt(j));++j);if(j<len&&j!==last){for(last=j;j<len&&!isPathSeparator(path.charCodeAt(j));++j);if(j===len)return"\\\\"+firstPart+"\\"+path.slice(last)+"\\";j!==last&&(device="\\\\"+firstPart+"\\"+path.slice(last,j),rootEnd=j)}}}else rootEnd=1;else isWindowsDeviceRoot(code)&&path.charCodeAt(1)===CHAR_COLON&&(device=path.slice(0,2),rootEnd=2,len>2&&isPathSeparator(path.charCodeAt(2))&&(isAbsolute=!0,rootEnd=3));else if(isPathSeparator(code))return"\\";var tail;return rootEnd<len?tail=normalizeString(path.slice(rootEnd),!isAbsolute,"\\",isPathSeparator):tail="",tail.length===0&&!isAbsolute&&(tail="."),tail.length>0&&isPathSeparator(path.charCodeAt(len-1))&&(tail+="\\"),device===void 0?isAbsolute?tail.length>0?"\\"+tail:"\\":tail.length>0?tail:"":isAbsolute?tail.length>0?device+"\\"+tail:device+"\\":tail.length>0?device+tail:device},isAbsolute:function(path){validateString(path,"path");var len=path.length;if(len===0)return!1;var code=path.charCodeAt(0);return isPathSeparator(code)?!0:!!(isWindowsDeviceRoot(code)&&len>2&&path.charCodeAt(1)===CHAR_COLON&&isPathSeparator(path.charCodeAt(2)))},join:function(){for(var paths=[],_i=0;_i<arguments.length;_i++)paths[_i]=arguments[_i];if(paths.length===0)return".";for(var joined,firstPart,i=0;i<paths.length;++i){var arg=paths[i];validateString(arg,"path"),arg.length>0&&(joined===void 0?joined=firstPart=arg:joined+="\\"+arg)}if(joined===void 0)return".";var needsReplace=!0,slashCount=0;if(typeof firstPart=="string"&&isPathSeparator(firstPart.charCodeAt(0))){++slashCount;var firstLen=firstPart.length;firstLen>1&&isPathSeparator(firstPart.charCodeAt(1))&&(++slashCount,firstLen>2&&(isPathSeparator(firstPart.charCodeAt(2))?++slashCount:needsReplace=!1))}if(needsReplace){for(;slashCount<joined.length&&isPathSeparator(joined.charCodeAt(slashCount));++slashCount);slashCount>=2&&(joined="\\"+joined.slice(slashCount))}return win32.normalize(joined)},relative:function(from,to){if(validateString(from,"from"),validateString(to,"to"),from===to)return"";var fromOrig=win32.resolve(from),toOrig=win32.resolve(to);if(fromOrig===toOrig||(from=fromOrig.toLowerCase(),to=toOrig.toLowerCase(),from===to))return"";for(var fromStart=0;fromStart<from.length&&from.charCodeAt(fromStart)===CHAR_BACKWARD_SLASH;++fromStart);for(var fromEnd=from.length;fromEnd-1>fromStart&&from.charCodeAt(fromEnd-1)===CHAR_BACKWARD_SLASH;--fromEnd);for(var fromLen=fromEnd-fromStart,toStart=0;toStart<to.length&&to.charCodeAt(toStart)===CHAR_BACKWARD_SLASH;++toStart);for(var toEnd=to.length;toEnd-1>toStart&&to.charCodeAt(toEnd-1)===CHAR_BACKWARD_SLASH;--toEnd);for(var toLen=toEnd-toStart,length=fromLen<toLen?fromLen:toLen,lastCommonSep=-1,i=0;i<=length;++i){if(i===length){if(toLen>length){if(to.charCodeAt(toStart+i)===CHAR_BACKWARD_SLASH)return toOrig.slice(toStart+i+1);if(i===2)return toOrig.slice(toStart+i)}fromLen>length&&(from.charCodeAt(fromStart+i)===CHAR_BACKWARD_SLASH?lastCommonSep=i:i===2&&(lastCommonSep=3));break}var fromCode=from.charCodeAt(fromStart+i),toCode=to.charCodeAt(toStart+i);if(fromCode!==toCode)break;fromCode===CHAR_BACKWARD_SLASH&&(lastCommonSep=i)}if(i!==length&&lastCommonSep===-1)return toOrig;var out="";for(lastCommonSep===-1&&(lastCommonSep=0),i=fromStart+lastCommonSep+1;i<=fromEnd;++i)(i===fromEnd||from.charCodeAt(i)===CHAR_BACKWARD_SLASH)&&(out.length===0?out+="..":out+="\\..");return out.length>0?out+toOrig.slice(toStart+lastCommonSep,toEnd):(toStart+=lastCommonSep,toOrig.charCodeAt(toStart)===CHAR_BACKWARD_SLASH&&++toStart,toOrig.slice(toStart,toEnd))},toNamespacedPath:function(path){if(typeof path!="string")return path;if(path.length===0)return"";var resolvedPath=win32.resolve(path);if(resolvedPath.length>=3){if(resolvedPath.charCodeAt(0)===CHAR_BACKWARD_SLASH){if(resolvedPath.charCodeAt(1)===CHAR_BACKWARD_SLASH){var code=resolvedPath.charCodeAt(2);if(code!==CHAR_QUESTION_MARK&&code!==CHAR_DOT)return"\\\\?\\UNC\\"+resolvedPath.slice(2)}}else if(isWindowsDeviceRoot(resolvedPath.charCodeAt(0))&&resolvedPath.charCodeAt(1)===CHAR_COLON&&resolvedPath.charCodeAt(2)===CHAR_BACKWARD_SLASH)return"\\\\?\\"+resolvedPath}return path},dirname:function(path){validateString(path,"path");var len=path.length;if(len===0)return".";var rootEnd=-1,end=-1,matchedSlash=!0,offset=0,code=path.charCodeAt(0);if(len>1)if(isPathSeparator(code)){if(rootEnd=offset=1,isPathSeparator(path.charCodeAt(1))){for(var j=2,last=j;j<len&&!isPathSeparator(path.charCodeAt(j));++j);if(j<len&&j!==last){for(last=j;j<len&&isPathSeparator(path.charCodeAt(j));++j);if(j<len&&j!==last){for(last=j;j<len&&!isPathSeparator(path.charCodeAt(j));++j);if(j===len)return path;j!==last&&(rootEnd=offset=j+1)}}}}else isWindowsDeviceRoot(code)&&path.charCodeAt(1)===CHAR_COLON&&(rootEnd=offset=2,len>2&&isPathSeparator(path.charCodeAt(2))&&(rootEnd=offset=3));else if(isPathSeparator(code))return path;for(var i=len-1;i>=offset;--i)if(isPathSeparator(path.charCodeAt(i))){if(!matchedSlash){end=i;break}}else matchedSlash=!1;if(end===-1){if(rootEnd===-1)return".";end=rootEnd}return path.slice(0,end)},basename:function(path,ext){ext!==void 0&&validateString(ext,"ext"),validateString(path,"path");var start=0,end=-1,matchedSlash=!0,i;if(path.length>=2){var drive=path.charCodeAt(0);isWindowsDeviceRoot(drive)&&path.charCodeAt(1)===CHAR_COLON&&(start=2)}if(ext!==void 0&&ext.length>0&&ext.length<=path.length){if(ext.length===path.length&&ext===path)return"";var extIdx=ext.length-1,firstNonSlashEnd=-1;for(i=path.length-1;i>=start;--i){var code=path.charCodeAt(i);if(isPathSeparator(code)){if(!matchedSlash){start=i+1;break}}else firstNonSlashEnd===-1&&(matchedSlash=!1,firstNonSlashEnd=i+1),extIdx>=0&&(code===ext.charCodeAt(extIdx)?--extIdx===-1&&(end=i):(extIdx=-1,end=firstNonSlashEnd))}return start===end?end=firstNonSlashEnd:end===-1&&(end=path.length),path.slice(start,end)}else{for(i=path.length-1;i>=start;--i)if(isPathSeparator(path.charCodeAt(i))){if(!matchedSlash){start=i+1;break}}else end===-1&&(matchedSlash=!1,end=i+1);return end===-1?"":path.slice(start,end)}},extname:function(path){validateString(path,"path");var start=0,startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0;path.length>=2&&path.charCodeAt(1)===CHAR_COLON&&isWindowsDeviceRoot(path.charCodeAt(0))&&(start=startPart=2);for(var i=path.length-1;i>=start;--i){var code=path.charCodeAt(i);if(isPathSeparator(code)){if(!matchedSlash){startPart=i+1;break}continue}end===-1&&(matchedSlash=!1,end=i+1),code===CHAR_DOT?startDot===-1?startDot=i:preDotState!==1&&(preDotState=1):startDot!==-1&&(preDotState=-1)}return startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)},format:function(pathObject){if(pathObject===null||typeof pathObject!="object")throw new ErrorInvalidArgType("pathObject","Object",pathObject);return _format("\\",pathObject)},parse:function(path){validateString(path,"path");var ret={root:"",dir:"",base:"",ext:"",name:""};if(path.length===0)return ret;var len=path.length,rootEnd=0,code=path.charCodeAt(0);if(len>1){if(isPathSeparator(code)){if(rootEnd=1,isPathSeparator(path.charCodeAt(1))){for(var j=2,last=j;j<len&&!isPathSeparator(path.charCodeAt(j));++j);if(j<len&&j!==last){for(last=j;j<len&&isPathSeparator(path.charCodeAt(j));++j);if(j<len&&j!==last){for(last=j;j<len&&!isPathSeparator(path.charCodeAt(j));++j);j===len?rootEnd=j:j!==last&&(rootEnd=j+1)}}}}else if(isWindowsDeviceRoot(code)&&path.charCodeAt(1)===CHAR_COLON)if(rootEnd=2,len>2){if(isPathSeparator(path.charCodeAt(2))){if(len===3)return ret.root=ret.dir=path,ret;rootEnd=3}}else return ret.root=ret.dir=path,ret}else if(isPathSeparator(code))return ret.root=ret.dir=path,ret;rootEnd>0&&(ret.root=path.slice(0,rootEnd));for(var startDot=-1,startPart=rootEnd,end=-1,matchedSlash=!0,i=path.length-1,preDotState=0;i>=rootEnd;--i){if(code=path.charCodeAt(i),isPathSeparator(code)){if(!matchedSlash){startPart=i+1;break}continue}end===-1&&(matchedSlash=!1,end=i+1),code===CHAR_DOT?startDot===-1?startDot=i:preDotState!==1&&(preDotState=1):startDot!==-1&&(preDotState=-1)}return startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1?end!==-1&&(ret.base=ret.name=path.slice(startPart,end)):(ret.name=path.slice(startPart,startDot),ret.base=path.slice(startPart,end),ret.ext=path.slice(startDot,end)),startPart>0&&startPart!==rootEnd?ret.dir=path.slice(0,startPart-1):ret.dir=ret.root,ret},sep:"\\",delimiter:";",win32:null,posix:null},posix={resolve:function(){for(var pathSegments=[],_i=0;_i<arguments.length;_i++)pathSegments[_i]=arguments[_i];for(var resolvedPath="",resolvedAbsolute=!1,i=pathSegments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=void 0;i>=0?path=pathSegments[i]:path=_process_js__WEBPACK_IMPORTED_MODULE_0__.a(),validateString(path,"path"),path.length!==0&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute=path.charCodeAt(0)===CHAR_FORWARD_SLASH)}return resolvedPath=normalizeString(resolvedPath,!resolvedAbsolute,"/",isPosixPathSeparator),resolvedAbsolute?resolvedPath.length>0?"/"+resolvedPath:"/":resolvedPath.length>0?resolvedPath:"."},normalize:function(path){if(validateString(path,"path"),path.length===0)return".";var isAbsolute=path.charCodeAt(0)===CHAR_FORWARD_SLASH,trailingSeparator=path.charCodeAt(path.length-1)===CHAR_FORWARD_SLASH;return path=normalizeString(path,!isAbsolute,"/",isPosixPathSeparator),path.length===0&&!isAbsolute&&(path="."),path.length>0&&trailingSeparator&&(path+="/"),isAbsolute?"/"+path:path},isAbsolute:function(path){return validateString(path,"path"),path.length>0&&path.charCodeAt(0)===CHAR_FORWARD_SLASH},join:function(){for(var paths=[],_i=0;_i<arguments.length;_i++)paths[_i]=arguments[_i];if(paths.length===0)return".";for(var joined,i=0;i<paths.length;++i){var arg=arguments[i];validateString(arg,"path"),arg.length>0&&(joined===void 0?joined=arg:joined+="/"+arg)}return joined===void 0?".":posix.normalize(joined)},relative:function(from,to){if(validateString(from,"from"),validateString(to,"to"),from===to||(from=posix.resolve(from),to=posix.resolve(to),from===to))return"";for(var fromStart=1;fromStart<from.length&&from.charCodeAt(fromStart)===CHAR_FORWARD_SLASH;++fromStart);for(var fromEnd=from.length,fromLen=fromEnd-fromStart,toStart=1;toStart<to.length&&to.charCodeAt(toStart)===CHAR_FORWARD_SLASH;++toStart);for(var toEnd=to.length,toLen=toEnd-toStart,length=fromLen<toLen?fromLen:toLen,lastCommonSep=-1,i=0;i<=length;++i){if(i===length){if(toLen>length){if(to.charCodeAt(toStart+i)===CHAR_FORWARD_SLASH)return to.slice(toStart+i+1);if(i===0)return to.slice(toStart+i)}else fromLen>length&&(from.charCodeAt(fromStart+i)===CHAR_FORWARD_SLASH?lastCommonSep=i:i===0&&(lastCommonSep=0));break}var fromCode=from.charCodeAt(fromStart+i),toCode=to.charCodeAt(toStart+i);if(fromCode!==toCode)break;fromCode===CHAR_FORWARD_SLASH&&(lastCommonSep=i)}var out="";for(i=fromStart+lastCommonSep+1;i<=fromEnd;++i)(i===fromEnd||from.charCodeAt(i)===CHAR_FORWARD_SLASH)&&(out.length===0?out+="..":out+="/..");return out.length>0?out+to.slice(toStart+lastCommonSep):(toStart+=lastCommonSep,to.charCodeAt(toStart)===CHAR_FORWARD_SLASH&&++toStart,to.slice(toStart))},toNamespacedPath:function(path){return path},dirname:function(path){if(validateString(path,"path"),path.length===0)return".";for(var hasRoot=path.charCodeAt(0)===CHAR_FORWARD_SLASH,end=-1,matchedSlash=!0,i=path.length-1;i>=1;--i)if(path.charCodeAt(i)===CHAR_FORWARD_SLASH){if(!matchedSlash){end=i;break}}else matchedSlash=!1;return end===-1?hasRoot?"/":".":hasRoot&&end===1?"//":path.slice(0,end)},basename:function(path,ext){ext!==void 0&&validateString(ext,"ext"),validateString(path,"path");var start=0,end=-1,matchedSlash=!0,i;if(ext!==void 0&&ext.length>0&&ext.length<=path.length){if(ext.length===path.length&&ext===path)return"";var extIdx=ext.length-1,firstNonSlashEnd=-1;for(i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(code===CHAR_FORWARD_SLASH){if(!matchedSlash){start=i+1;break}}else firstNonSlashEnd===-1&&(matchedSlash=!1,firstNonSlashEnd=i+1),extIdx>=0&&(code===ext.charCodeAt(extIdx)?--extIdx===-1&&(end=i):(extIdx=-1,end=firstNonSlashEnd))}return start===end?end=firstNonSlashEnd:end===-1&&(end=path.length),path.slice(start,end)}else{for(i=path.length-1;i>=0;--i)if(path.charCodeAt(i)===CHAR_FORWARD_SLASH){if(!matchedSlash){start=i+1;break}}else end===-1&&(matchedSlash=!1,end=i+1);return end===-1?"":path.slice(start,end)}},extname:function(path){validateString(path,"path");for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0,i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(code===CHAR_FORWARD_SLASH){if(!matchedSlash){startPart=i+1;break}continue}end===-1&&(matchedSlash=!1,end=i+1),code===CHAR_DOT?startDot===-1?startDot=i:preDotState!==1&&(preDotState=1):startDot!==-1&&(preDotState=-1)}return startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)},format:function(pathObject){if(pathObject===null||typeof pathObject!="object")throw new ErrorInvalidArgType("pathObject","Object",pathObject);return _format("/",pathObject)},parse:function(path){validateString(path,"path");var ret={root:"",dir:"",base:"",ext:"",name:""};if(path.length===0)return ret;var isAbsolute=path.charCodeAt(0)===CHAR_FORWARD_SLASH,start;isAbsolute?(ret.root="/",start=1):start=0;for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,i=path.length-1,preDotState=0;i>=start;--i){var code=path.charCodeAt(i);if(code===CHAR_FORWARD_SLASH){if(!matchedSlash){startPart=i+1;break}continue}end===-1&&(matchedSlash=!1,end=i+1),code===CHAR_DOT?startDot===-1?startDot=i:preDotState!==1&&(preDotState=1):startDot!==-1&&(preDotState=-1)}return startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1?end!==-1&&(startPart===0&&isAbsolute?ret.base=ret.name=path.slice(1,end):ret.base=ret.name=path.slice(startPart,end)):(startPart===0&&isAbsolute?(ret.name=path.slice(1,startDot),ret.base=path.slice(1,end)):(ret.name=path.slice(startPart,startDot),ret.base=path.slice(startPart,end)),ret.ext=path.slice(startDot,end)),startPart>0?ret.dir=path.slice(0,startPart-1):isAbsolute&&(ret.dir="/"),ret},sep:"/",delimiter:":",win32:null,posix:null};posix.win32=win32.win32=win32,posix.posix=win32.posix=posix;var normalize=_process_js__WEBPACK_IMPORTED_MODULE_0__.c==="win32"?win32.normalize:posix.normalize,join=_process_js__WEBPACK_IMPORTED_MODULE_0__.c==="win32"?win32.join:posix.join,relative=_process_js__WEBPACK_IMPORTED_MODULE_0__.c==="win32"?win32.relative:posix.relative,dirname=_process_js__WEBPACK_IMPORTED_MODULE_0__.c==="win32"?win32.dirname:posix.dirname,basename=_process_js__WEBPACK_IMPORTED_MODULE_0__.c==="win32"?win32.basename:posix.basename,extname=_process_js__WEBPACK_IMPORTED_MODULE_0__.c==="win32"?win32.extname:posix.extname,sep=_process_js__WEBPACK_IMPORTED_MODULE_0__.c==="win32"?win32.sep:posix.sep},3237:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return registerSingleton}),__webpack_require__.d(__webpack_exports__,"a",function(){return getSingletonServiceDescriptors});var _descriptors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3868),_registry=[];function registerSingleton(id,ctor,supportsDelayedInstantiation){_registry.push([id,new _descriptors_js__WEBPACK_IMPORTED_MODULE_0__.a(ctor,[],supportsDelayedInstantiation)])}function getSingletonServiceDescriptors(){return _registry}},3238:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return standardMouseMoveMerger}),__webpack_require__.d(__webpack_exports__,"a",function(){return GlobalMouseMoveMonitor});var _dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2124),_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2236),_iframe_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3862),_mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2813),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2033),_canIUse_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3279);function standardMouseMoveMerger(lastEvent,currentEvent){var ev=new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.b(currentEvent);return ev.preventDefault(),{leftButton:ev.leftButton,posx:ev.posx,posy:ev.posy}}var GlobalMouseMoveMonitor=function(){function GlobalMouseMoveMonitor2(){this.hooks=new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.b,this.mouseMoveEventMerger=null,this.mouseMoveCallback=null,this.onStopCallback=null}return GlobalMouseMoveMonitor2.prototype.dispose=function(){this.stopMonitoring(!1),this.hooks.dispose()},GlobalMouseMoveMonitor2.prototype.stopMonitoring=function(invokeStopCallback){if(this.isMonitoring()){this.hooks.clear(),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var onStopCallback=this.onStopCallback;this.onStopCallback=null,invokeStopCallback&&onStopCallback&&onStopCallback()}},GlobalMouseMoveMonitor2.prototype.isMonitoring=function(){return!!this.mouseMoveEventMerger},GlobalMouseMoveMonitor2.prototype.startMonitoring=function(mouseMoveEventMerger,mouseMoveCallback,onStopCallback){var _this=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=mouseMoveEventMerger,this.mouseMoveCallback=mouseMoveCallback,this.onStopCallback=onStopCallback;for(var windowChain=_iframe_js__WEBPACK_IMPORTED_MODULE_2__.a.getSameOriginWindowChain(),mouseMove=_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.c&&_canIUse_js__WEBPACK_IMPORTED_MODULE_5__.a.pointerEvents?"pointermove":"mousemove",mouseUp=_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.c&&_canIUse_js__WEBPACK_IMPORTED_MODULE_5__.a.pointerEvents?"pointerup":"mouseup",_i=0,windowChain_1=windowChain;_i<windowChain_1.length;_i++){var element=windowChain_1[_i];this.hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.m(element.window.document,mouseMove,function(data){return _this.mouseMoveCallback(data)},function(lastEvent,currentEvent){return _this.mouseMoveEventMerger(lastEvent,currentEvent)})),this.hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(element.window.document,mouseUp,function(e){return _this.stopMonitoring(!0)}))}if(_iframe_js__WEBPACK_IMPORTED_MODULE_2__.a.hasDifferentOriginAncestor()){var lastSameOriginAncestor=windowChain[windowChain.length-1];this.hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(lastSameOriginAncestor.window.document,"mouseout",function(browserEvent){var e=new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.b(browserEvent);e.target.tagName.toLowerCase()==="html"&&_this.stopMonitoring(!0)})),this.hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(lastSameOriginAncestor.window.document,"mouseover",function(browserEvent){var e=new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.b(browserEvent);e.target.tagName.toLowerCase()==="html"&&_this.stopMonitoring(!0)})),this.hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(lastSameOriginAncestor.window.document.body,"mouseleave",function(browserEvent){_this.stopMonitoring(!0)}))}}},GlobalMouseMoveMonitor2}()},3239:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return BaseActionViewItem}),__webpack_require__.d(__webpack_exports__,"d",function(){return Separator}),__webpack_require__.d(__webpack_exports__,"b",function(){return ActionViewItem}),__webpack_require__.d(__webpack_exports__,"a",function(){return ActionBar});var _actionbar_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5751),_actionbar_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_actionbar_css__WEBPACK_IMPORTED_MODULE_0__),_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2236),_nls_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2069),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2033),_common_actions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3113),_dom_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2124),_common_types_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2631),_touch_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3112),_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3111),_common_event_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2106),_dnd_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3374),_browser_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2642),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),BaseActionViewItem=function(_super){__extends(BaseActionViewItem2,_super);function BaseActionViewItem2(context,action,options){var _this=_super.call(this)||this;return _this.options=options,_this._context=context||_this,_this._action=action,action instanceof _common_actions_js__WEBPACK_IMPORTED_MODULE_4__.a&&_this._register(action.onDidChange(function(event){_this.element&&_this.handleActionChangeEvent(event)})),_this}return BaseActionViewItem2.prototype.handleActionChangeEvent=function(event){event.enabled!==void 0&&this.updateEnabled(),event.checked!==void 0&&this.updateChecked(),event.class!==void 0&&this.updateClass(),event.label!==void 0&&(this.updateLabel(),this.updateTooltip()),event.tooltip!==void 0&&this.updateTooltip()},Object.defineProperty(BaseActionViewItem2.prototype,"actionRunner",{get:function(){return this._actionRunner||(this._actionRunner=this._register(new _common_actions_js__WEBPACK_IMPORTED_MODULE_4__.b)),this._actionRunner},set:function(actionRunner){this._actionRunner=actionRunner},enumerable:!0,configurable:!0}),BaseActionViewItem2.prototype.getAction=function(){return this._action},BaseActionViewItem2.prototype.isEnabled=function(){return this._action.enabled},BaseActionViewItem2.prototype.setActionContext=function(newContext){this._context=newContext},BaseActionViewItem2.prototype.render=function(container){var _this=this,element=this.element=container;this._register(_touch_js__WEBPACK_IMPORTED_MODULE_7__.b.addTarget(container));var enableDragging=this.options&&this.options.draggable;enableDragging&&(container.draggable=!0,_browser_js__WEBPACK_IMPORTED_MODULE_11__.h&&this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(container,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.DRAG_START,function(e){var _a;return(_a=e.dataTransfer)===null||_a===void 0?void 0:_a.setData(_dnd_js__WEBPACK_IMPORTED_MODULE_10__.a.TEXT,_this._action.label)}))),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(element,_touch_js__WEBPACK_IMPORTED_MODULE_7__.a.Tap,function(e){return _this.onClick(e)})),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_DOWN,function(e){enableDragging||_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0),_this._action.enabled&&e.button===0&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.f(element,"active")})),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.CLICK,function(e){_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0),_this.options&&_this.options.isMenu?_this.onClick(e):_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.i(function(){return _this.onClick(e)})})),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.DBLCLICK,function(e){_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0)})),[_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_UP,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_OUT].forEach(function(event){_this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(element,event,function(e){_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e),_dom_js__WEBPACK_IMPORTED_MODULE_5__.M(element,"active")}))})},BaseActionViewItem2.prototype.onClick=function(event){_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(event,!0);var context;_common_types_js__WEBPACK_IMPORTED_MODULE_6__.l(this._context)?context=event:(context=this._context,_common_types_js__WEBPACK_IMPORTED_MODULE_6__.i(context)&&(context.event=event)),this.actionRunner.run(this._action,context)},BaseActionViewItem2.prototype.focus=function(){this.element&&(this.element.focus(),_dom_js__WEBPACK_IMPORTED_MODULE_5__.f(this.element,"focused"))},BaseActionViewItem2.prototype.blur=function(){this.element&&(this.element.blur(),_dom_js__WEBPACK_IMPORTED_MODULE_5__.M(this.element,"focused"))},BaseActionViewItem2.prototype.updateEnabled=function(){},BaseActionViewItem2.prototype.updateLabel=function(){},BaseActionViewItem2.prototype.updateTooltip=function(){},BaseActionViewItem2.prototype.updateClass=function(){},BaseActionViewItem2.prototype.updateChecked=function(){},BaseActionViewItem2.prototype.dispose=function(){this.element&&(_dom_js__WEBPACK_IMPORTED_MODULE_5__.O(this.element),this.element=void 0),_super.prototype.dispose.call(this)},BaseActionViewItem2}(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a),Separator=function(_super){__extends(Separator2,_super);function Separator2(label){var _this=_super.call(this,Separator2.ID,label,label?"separator text":"separator")||this;return _this.checked=!1,_this.enabled=!1,_this}return Separator2.ID="vs.actions.separator",Separator2}(_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.a),ActionViewItem=function(_super){__extends(ActionViewItem2,_super);function ActionViewItem2(context,action,options){options===void 0&&(options={});var _this=_super.call(this,context,action,options)||this;return _this.options=options,_this.options.icon=options.icon!==void 0?options.icon:!1,_this.options.label=options.label!==void 0?options.label:!0,_this.cssClass="",_this}return ActionViewItem2.prototype.render=function(container){_super.prototype.render.call(this,container),this.element&&(this.label=_dom_js__WEBPACK_IMPORTED_MODULE_5__.q(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.a("a.action-label"))),this.label&&(this._action.id===Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(_dom_js__WEBPACK_IMPORTED_MODULE_5__.q(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.a("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},ActionViewItem2.prototype.focus=function(){_super.prototype.focus.call(this),this.label&&this.label.focus()},ActionViewItem2.prototype.updateLabel=function(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)},ActionViewItem2.prototype.updateTooltip=function(){var title=null;this.getAction().tooltip?title=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(title=this.getAction().label,this.options.keybinding&&(title=_nls_js__WEBPACK_IMPORTED_MODULE_2__.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",title,this.options.keybinding))),title&&this.label&&(this.label.title=title)},ActionViewItem2.prototype.updateClass=function(){this.cssClass&&this.label&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.N(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(_dom_js__WEBPACK_IMPORTED_MODULE_5__.f(this.label,"codicon"),this.cssClass&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.g(this.label,this.cssClass)),this.updateEnabled()):this.label&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.M(this.label,"codicon")},ActionViewItem2.prototype.updateEnabled=function(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),_dom_js__WEBPACK_IMPORTED_MODULE_5__.M(this.label,"disabled"),this.label.tabIndex=0),this.element&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.M(this.element,"disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),_dom_js__WEBPACK_IMPORTED_MODULE_5__.f(this.label,"disabled"),_dom_js__WEBPACK_IMPORTED_MODULE_5__.P(this.label)),this.element&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.f(this.element,"disabled"))},ActionViewItem2.prototype.updateChecked=function(){this.label&&(this.getAction().checked?_dom_js__WEBPACK_IMPORTED_MODULE_5__.f(this.label,"checked"):_dom_js__WEBPACK_IMPORTED_MODULE_5__.M(this.label,"checked"))},ActionViewItem2}(BaseActionViewItem),defaultOptions={orientation:0,context:null,triggerKeys:{keys:[3,10],keyDown:!1}},ActionBar=function(_super){__extends(ActionBar2,_super);function ActionBar2(container,options){options===void 0&&(options=defaultOptions);var _this=_super.call(this)||this;_this._onDidBlur=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_9__.a),_this.onDidBlur=_this._onDidBlur.event,_this._onDidCancel=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_9__.a),_this.onDidCancel=_this._onDidCancel.event,_this._onDidRun=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_9__.a),_this.onDidRun=_this._onDidRun.event,_this._onDidBeforeRun=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_9__.a),_this.onDidBeforeRun=_this._onDidBeforeRun.event,_this.options=options,_this._context=options.context,_this.options.triggerKeys||(_this.options.triggerKeys=defaultOptions.triggerKeys),_this.options.actionRunner?_this._actionRunner=_this.options.actionRunner:(_this._actionRunner=new _common_actions_js__WEBPACK_IMPORTED_MODULE_4__.b,_this._register(_this._actionRunner)),_this._register(_this._actionRunner.onDidRun(function(e){return _this._onDidRun.fire(e)})),_this._register(_this._actionRunner.onDidBeforeRun(function(e){return _this._onDidBeforeRun.fire(e)})),_this.viewItems=[],_this.focusedItem=void 0,_this.domNode=document.createElement("div"),_this.domNode.className="monaco-action-bar",options.animated!==!1&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.f(_this.domNode,"animated");var previousKey,nextKey;switch(_this.options.orientation){case 0:previousKey=15,nextKey=17;break;case 1:previousKey=17,nextKey=15,_this.domNode.className+=" reverse";break;case 2:previousKey=16,nextKey=18,_this.domNode.className+=" vertical";break;case 3:previousKey=18,nextKey=16,_this.domNode.className+=" vertical reverse";break}return _this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(_this.domNode,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_DOWN,function(e){var event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_8__.a(e),eventHandled=!0;event.equals(previousKey)?_this.focusPrevious():event.equals(nextKey)?_this.focusNext():event.equals(9)?_this.cancel():_this.isTriggerKeyEvent(event)?_this.options.triggerKeys&&_this.options.triggerKeys.keyDown&&_this.doTrigger(event):eventHandled=!1,eventHandled&&(event.preventDefault(),event.stopPropagation())})),_this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(_this.domNode,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_UP,function(e){var event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_8__.a(e);_this.isTriggerKeyEvent(event)?(_this.options.triggerKeys&&!_this.options.triggerKeys.keyDown&&_this.doTrigger(event),event.preventDefault(),event.stopPropagation()):(event.equals(2)||event.equals(1026))&&_this.updateFocusedItem()})),_this.focusTracker=_this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.W(_this.domNode)),_this._register(_this.focusTracker.onDidBlur(function(){(document.activeElement===_this.domNode||!_dom_js__WEBPACK_IMPORTED_MODULE_5__.I(document.activeElement,_this.domNode))&&(_this._onDidBlur.fire(),_this.focusedItem=void 0)})),_this._register(_this.focusTracker.onDidFocus(function(){return _this.updateFocusedItem()})),_this.actionsList=document.createElement("ul"),_this.actionsList.className="actions-container",_this.actionsList.setAttribute("role","toolbar"),_this.options.ariaLabel&&_this.actionsList.setAttribute("aria-label",_this.options.ariaLabel),_this.domNode.appendChild(_this.actionsList),container.appendChild(_this.domNode),_this}return ActionBar2.prototype.isTriggerKeyEvent=function(event){var ret=!1;return this.options.triggerKeys&&this.options.triggerKeys.keys.forEach(function(keyCode){ret=ret||event.equals(keyCode)}),ret},ActionBar2.prototype.updateFocusedItem=function(){for(var i=0;i<this.actionsList.children.length;i++){var elem=this.actionsList.children[i];if(_dom_js__WEBPACK_IMPORTED_MODULE_5__.I(document.activeElement,elem)){this.focusedItem=i;break}}},Object.defineProperty(ActionBar2.prototype,"context",{get:function(){return this._context},set:function(context){this._context=context,this.viewItems.forEach(function(i){return i.setActionContext(context)})},enumerable:!0,configurable:!0}),ActionBar2.prototype.getContainer=function(){return this.domNode},ActionBar2.prototype.push=function(arg,options){var _this=this;options===void 0&&(options={});var actions=Array.isArray(arg)?arg:[arg],index=_common_types_js__WEBPACK_IMPORTED_MODULE_6__.h(options.index)?options.index:null;actions.forEach(function(action){var actionViewItemElement=document.createElement("li");actionViewItemElement.className="action-item",actionViewItemElement.setAttribute("role","presentation"),_this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j(actionViewItemElement,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.CONTEXT_MENU,function(e){e.preventDefault(),e.stopPropagation()}));var item;_this.options.actionViewItemProvider&&(item=_this.options.actionViewItemProvider(action)),item||(item=new ActionViewItem(_this.context,action,options)),item.actionRunner=_this._actionRunner,item.setActionContext(_this.context),item.render(actionViewItemElement),index===null||index<0||index>=_this.actionsList.children.length?(_this.actionsList.appendChild(actionViewItemElement),_this.viewItems.push(item)):(_this.actionsList.insertBefore(actionViewItemElement,_this.actionsList.children[index]),_this.viewItems.splice(index,0,item),index++)})},ActionBar2.prototype.clear=function(){this.viewItems=Object(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.f)(this.viewItems),_dom_js__WEBPACK_IMPORTED_MODULE_5__.t(this.actionsList)},ActionBar2.prototype.isEmpty=function(){return this.viewItems.length===0},ActionBar2.prototype.focus=function(arg){var selectFirst=!1,index=void 0;arg===void 0?selectFirst=!0:typeof arg=="number"?index=arg:typeof arg=="boolean"&&(selectFirst=arg),selectFirst&&typeof this.focusedItem>"u"?(this.focusedItem=this.viewItems.length-1,this.focusNext()):(index!==void 0&&(this.focusedItem=index),this.updateFocus())},ActionBar2.prototype.focusNext=function(){typeof this.focusedItem>"u"&&(this.focusedItem=this.viewItems.length-1);var startIndex=this.focusedItem,item;do this.focusedItem=(this.focusedItem+1)%this.viewItems.length,item=this.viewItems[this.focusedItem];while(this.focusedItem!==startIndex&&!item.isEnabled());this.focusedItem===startIndex&&!item.isEnabled()&&(this.focusedItem=void 0),this.updateFocus()},ActionBar2.prototype.focusPrevious=function(){typeof this.focusedItem>"u"&&(this.focusedItem=0);var startIndex=this.focusedItem,item;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.viewItems.length-1),item=this.viewItems[this.focusedItem];while(this.focusedItem!==startIndex&&!item.isEnabled());this.focusedItem===startIndex&&!item.isEnabled()&&(this.focusedItem=void 0),this.updateFocus(!0)},ActionBar2.prototype.updateFocus=function(fromRight,preventScroll){typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll});for(var i=0;i<this.viewItems.length;i++){var item=this.viewItems[i],actionViewItem=item;i===this.focusedItem?_common_types_js__WEBPACK_IMPORTED_MODULE_6__.g(actionViewItem.isEnabled)&&(actionViewItem.isEnabled()&&_common_types_js__WEBPACK_IMPORTED_MODULE_6__.g(actionViewItem.focus)?actionViewItem.focus(fromRight):this.actionsList.focus({preventScroll})):_common_types_js__WEBPACK_IMPORTED_MODULE_6__.g(actionViewItem.blur)&&actionViewItem.blur()}},ActionBar2.prototype.doTrigger=function(event){if(!(typeof this.focusedItem>"u")){var actionViewItem=this.viewItems[this.focusedItem];if(actionViewItem instanceof BaseActionViewItem){var context=actionViewItem._context===null||actionViewItem._context===void 0?event:actionViewItem._context;this.run(actionViewItem._action,context)}}},ActionBar2.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._onDidCancel.fire()},ActionBar2.prototype.run=function(action,context){return this._actionRunner.run(action,context)},ActionBar2.prototype.dispose=function(){Object(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.f)(this.viewItems),this.viewItems=[],_dom_js__WEBPACK_IMPORTED_MODULE_5__.O(this.getContainer()),_super.prototype.dispose.call(this)},ActionBar2}(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a)},3240:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ReplaceCommand}),__webpack_require__.d(__webpack_exports__,"c",function(){return ReplaceCommandThatSelectsText}),__webpack_require__.d(__webpack_exports__,"e",function(){return ReplaceCommandWithoutChangingPosition}),__webpack_require__.d(__webpack_exports__,"d",function(){return ReplaceCommandWithOffsetCursorState}),__webpack_require__.d(__webpack_exports__,"b",function(){return ReplaceCommandThatPreservesSelection});var _core_selection_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2629),ReplaceCommand=function(){function ReplaceCommand2(range,text,insertsAutoWhitespace){insertsAutoWhitespace===void 0&&(insertsAutoWhitespace=!1),this._range=range,this._text=text,this.insertsAutoWhitespace=insertsAutoWhitespace}return ReplaceCommand2.prototype.getEditOperations=function(model,builder){builder.addTrackedEditOperation(this._range,this._text)},ReplaceCommand2.prototype.computeCursorState=function(model,helper){var inverseEditOperations=helper.getInverseEditOperations(),srcRange=inverseEditOperations[0].range;return new _core_selection_js__WEBPACK_IMPORTED_MODULE_0__.a(srcRange.endLineNumber,srcRange.endColumn,srcRange.endLineNumber,srcRange.endColumn)},ReplaceCommand2}(),ReplaceCommandThatSelectsText=function(){function ReplaceCommandThatSelectsText2(range,text){this._range=range,this._text=text}return ReplaceCommandThatSelectsText2.prototype.getEditOperations=function(model,builder){builder.addTrackedEditOperation(this._range,this._text)},ReplaceCommandThatSelectsText2.prototype.computeCursorState=function(model,helper){var inverseEditOperations=helper.getInverseEditOperations(),srcRange=inverseEditOperations[0].range;return new _core_selection_js__WEBPACK_IMPORTED_MODULE_0__.a(srcRange.startLineNumber,srcRange.startColumn,srcRange.endLineNumber,srcRange.endColumn)},ReplaceCommandThatSelectsText2}(),ReplaceCommandWithoutChangingPosition=function(){function ReplaceCommandWithoutChangingPosition2(range,text,insertsAutoWhitespace){insertsAutoWhitespace===void 0&&(insertsAutoWhitespace=!1),this._range=range,this._text=text,this.insertsAutoWhitespace=insertsAutoWhitespace}return ReplaceCommandWithoutChangingPosition2.prototype.getEditOperations=function(model,builder){builder.addTrackedEditOperation(this._range,this._text)},ReplaceCommandWithoutChangingPosition2.prototype.computeCursorState=function(model,helper){var inverseEditOperations=helper.getInverseEditOperations(),srcRange=inverseEditOperations[0].range;return new _core_selection_js__WEBPACK_IMPORTED_MODULE_0__.a(srcRange.startLineNumber,srcRange.startColumn,srcRange.startLineNumber,srcRange.startColumn)},ReplaceCommandWithoutChangingPosition2}(),ReplaceCommandWithOffsetCursorState=function(){function ReplaceCommandWithOffsetCursorState2(range,text,lineNumberDeltaOffset,columnDeltaOffset,insertsAutoWhitespace){insertsAutoWhitespace===void 0&&(insertsAutoWhitespace=!1),this._range=range,this._text=text,this._columnDeltaOffset=columnDeltaOffset,this._lineNumberDeltaOffset=lineNumberDeltaOffset,this.insertsAutoWhitespace=insertsAutoWhitespace}return ReplaceCommandWithOffsetCursorState2.prototype.getEditOperations=function(model,builder){builder.addTrackedEditOperation(this._range,this._text)},ReplaceCommandWithOffsetCursorState2.prototype.computeCursorState=function(model,helper){var inverseEditOperations=helper.getInverseEditOperations(),srcRange=inverseEditOperations[0].range;return new _core_selection_js__WEBPACK_IMPORTED_MODULE_0__.a(srcRange.endLineNumber+this._lineNumberDeltaOffset,srcRange.endColumn+this._columnDeltaOffset,srcRange.endLineNumber+this._lineNumberDeltaOffset,srcRange.endColumn+this._columnDeltaOffset)},ReplaceCommandWithOffsetCursorState2}(),ReplaceCommandThatPreservesSelection=function(){function ReplaceCommandThatPreservesSelection2(editRange,text,initialSelection){this._range=editRange,this._text=text,this._initialSelection=initialSelection,this._selectionId=null}return ReplaceCommandThatPreservesSelection2.prototype.getEditOperations=function(model,builder){builder.addEditOperation(this._range,this._text),this._selectionId=builder.trackSelection(this._initialSelection)},ReplaceCommandThatPreservesSelection2.prototype.computeCursorState=function(model,helper){return helper.getTrackedSelection(this._selectionId)},ReplaceCommandThatPreservesSelection2}()},3241:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MarkdownString}),__webpack_require__.d(__webpack_exports__,"b",function(){return isEmptyMarkdownString}),__webpack_require__.d(__webpack_exports__,"c",function(){return markedStringsEquals}),__webpack_require__.d(__webpack_exports__,"e",function(){return removeMarkdownEscapes}),__webpack_require__.d(__webpack_exports__,"d",function(){return parseHrefAndDimensions});var _arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2389),MarkdownString=function(){function MarkdownString2(value,isTrusted){value===void 0&&(value=""),isTrusted===void 0&&(isTrusted=!1),this._value=value,this._isTrusted=isTrusted}return Object.defineProperty(MarkdownString2.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(MarkdownString2.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),MarkdownString2.prototype.appendText=function(value){return this._value+=value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&").replace(`
`,`

`),this},MarkdownString2.prototype.appendMarkdown=function(value){return this._value+=value,this},MarkdownString2.prototype.appendCodeblock=function(langId,code){return this._value+="\n```",this._value+=langId,this._value+=`
`,this._value+=code,this._value+="\n```\n",this},MarkdownString2}();function isEmptyMarkdownString(oneOrMany){return isMarkdownString(oneOrMany)?!oneOrMany.value:Array.isArray(oneOrMany)?oneOrMany.every(isEmptyMarkdownString):!0}function isMarkdownString(thing){return thing instanceof MarkdownString?!0:thing&&typeof thing=="object"?typeof thing.value=="string"&&(typeof thing.isTrusted=="boolean"||thing.isTrusted===void 0):!1}function markedStringsEquals(a,b){return!a&&!b?!0:!a||!b?!1:Array.isArray(a)&&Array.isArray(b)?Object(_arrays_js__WEBPACK_IMPORTED_MODULE_0__.g)(a,b,markdownStringEqual):isMarkdownString(a)&&isMarkdownString(b)?markdownStringEqual(a,b):!1}function markdownStringEqual(a,b){return a===b?!0:!a||!b?!1:a.value===b.value&&a.isTrusted===b.isTrusted}function removeMarkdownEscapes(text){return text&&text.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function parseHrefAndDimensions(href){var dimensions=[],splitted=href.split("|").map(function(s){return s.trim()});href=splitted[0];var parameters=splitted[1];if(parameters){var heightFromParams=/height=(\d+)/.exec(parameters),widthFromParams=/width=(\d+)/.exec(parameters),height=heightFromParams?heightFromParams[1]:"",width=widthFromParams?widthFromParams[1]:"",widthIsFinite=isFinite(parseInt(width)),heightIsFinite=isFinite(parseInt(height));widthIsFinite&&dimensions.push('width="'+width+'"'),heightIsFinite&&dimensions.push('height="'+height+'"')}return{href,dimensions}}},3279:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BrowserFeatures});var _browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2642),_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2236),BrowserFeatures={clipboard:{writeText:_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText),richText:function(){if(_browser_js__WEBPACK_IMPORTED_MODULE_0__.i)return!1;if(_browser_js__WEBPACK_IMPORTED_MODULE_0__.e){var index=navigator.userAgent.indexOf("Edge/"),version=parseInt(navigator.userAgent.substring(index+5,navigator.userAgent.indexOf(".",index)),10);if(!version||version>=12&&version<=16)return!1}return!0}()},keyboard:function(){return _common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f||_browser_js__WEBPACK_IMPORTED_MODULE_0__.l?0:navigator.keyboard||_browser_js__WEBPACK_IMPORTED_MODULE_0__.k?1:2}(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}},3280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Extensions}),__webpack_require__.d(__webpack_exports__,"b",function(){return OVERRIDE_PROPERTY_PATTERN});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2818),_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2631),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2123),_jsonschemas_common_jsonContributionRegistry_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3863),Extensions={Configuration:"base.contributions.configuration"},allSettings={properties:{},patternProperties:{}},applicationSettings={properties:{},patternProperties:{}},machineSettings={properties:{},patternProperties:{}},machineOverridableSettings={properties:{},patternProperties:{}},windowSettings={properties:{},patternProperties:{}},resourceSettings={properties:{},patternProperties:{}},editorConfigurationSchemaId="vscode://schemas/settings/editor",contributionRegistry=_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.a.as(_jsonschemas_common_jsonContributionRegistry_js__WEBPACK_IMPORTED_MODULE_5__.a.JSONContribution),ConfigurationRegistry=function(){function ConfigurationRegistry2(){this.overrideIdentifiers=[],this._onDidSchemaChange=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this._onDidUpdateConfiguration=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.defaultOverridesConfigurationNode={id:"defaultOverrides",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("defaultConfigurations.title","Default Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultOverridesConfigurationNode],this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},this.overridePropertyPattern=this.computeOverridePropertyPattern(),contributionRegistry.registerSchema(editorConfigurationSchemaId,this.editorConfigurationSchema)}return ConfigurationRegistry2.prototype.registerConfiguration=function(configuration,validate){validate===void 0&&(validate=!0),this.registerConfigurations([configuration],validate)},ConfigurationRegistry2.prototype.registerConfigurations=function(configurations,validate){var _this=this;validate===void 0&&(validate=!0);var properties=[];configurations.forEach(function(configuration){properties.push.apply(properties,_this.validateAndRegisterProperties(configuration,validate)),_this.configurationContributors.push(configuration),_this.registerJSONConfiguration(configuration),_this.updateSchemaForOverrideSettingsConfiguration(configuration)}),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(properties)},ConfigurationRegistry2.prototype.registerOverrideIdentifiers=function(overrideIdentifiers){var _a;(_a=this.overrideIdentifiers).push.apply(_a,overrideIdentifiers),this.updateOverridePropertyPatternKey()},ConfigurationRegistry2.prototype.validateAndRegisterProperties=function(configuration,validate,scope,overridable){validate===void 0&&(validate=!0),scope===void 0&&(scope=3),overridable===void 0&&(overridable=!1),scope=_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l(configuration.scope)?scope:configuration.scope,overridable=configuration.overridable||overridable;var propertyKeys=[],properties=configuration.properties;if(properties)for(var key in properties){var message=void 0;if(validate&&(message=validateProperty(key))){console.warn(message),delete properties[key];continue}var property=properties[key],defaultValue=property.default;if(_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.k(defaultValue)&&(property.default=getDefaultValue(property.type)),overridable&&(property.overridable=!0),OVERRIDE_PROPERTY_PATTERN.test(key)?property.scope=void 0:property.scope=_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l(property.scope)?scope:property.scope,properties[key].hasOwnProperty("included")&&!properties[key].included){this.excludedConfigurationProperties[key]=properties[key],delete properties[key];continue}else this.configurationProperties[key]=properties[key];propertyKeys.push(key)}var subNodes=configuration.allOf;if(subNodes)for(var _i=0,subNodes_1=subNodes;_i<subNodes_1.length;_i++){var node=subNodes_1[_i];propertyKeys.push.apply(propertyKeys,this.validateAndRegisterProperties(node,validate,scope,overridable))}return propertyKeys},ConfigurationRegistry2.prototype.getConfigurationProperties=function(){return this.configurationProperties},ConfigurationRegistry2.prototype.registerJSONConfiguration=function(configuration){function register(configuration2){var properties=configuration2.properties;if(properties)for(var key in properties)switch(allSettings.properties[key]=properties[key],properties[key].scope){case 1:applicationSettings.properties[key]=properties[key];break;case 2:machineSettings.properties[key]=properties[key];break;case 5:machineOverridableSettings.properties[key]=properties[key];break;case 3:windowSettings.properties[key]=properties[key];break;case 4:resourceSettings.properties[key]=properties[key];break}var subNodes=configuration2.allOf;subNodes&&subNodes.forEach(register)}register(configuration)},ConfigurationRegistry2.prototype.updateSchemaForOverrideSettingsConfiguration=function(configuration){configuration.id!==SETTINGS_OVERRRIDE_NODE_ID&&(this.update(configuration),contributionRegistry.registerSchema(editorConfigurationSchemaId,this.editorConfigurationSchema))},ConfigurationRegistry2.prototype.updateOverridePropertyPatternKey=function(){var patternProperties=allSettings.patternProperties[this.overridePropertyPattern];patternProperties||(patternProperties={type:"object",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:"Unknown Identifier. Use language identifiers",$ref:editorConfigurationSchemaId}),delete allSettings.patternProperties[this.overridePropertyPattern],delete applicationSettings.patternProperties[this.overridePropertyPattern],delete machineSettings.patternProperties[this.overridePropertyPattern],delete machineOverridableSettings.patternProperties[this.overridePropertyPattern],delete windowSettings.patternProperties[this.overridePropertyPattern],delete resourceSettings.patternProperties[this.overridePropertyPattern],this.overridePropertyPattern=this.computeOverridePropertyPattern(),allSettings.patternProperties[this.overridePropertyPattern]=patternProperties,applicationSettings.patternProperties[this.overridePropertyPattern]=patternProperties,machineSettings.patternProperties[this.overridePropertyPattern]=patternProperties,machineOverridableSettings.patternProperties[this.overridePropertyPattern]=patternProperties,windowSettings.patternProperties[this.overridePropertyPattern]=patternProperties,resourceSettings.patternProperties[this.overridePropertyPattern]=patternProperties,this._onDidSchemaChange.fire()},ConfigurationRegistry2.prototype.update=function(configuration){var _this=this,properties=configuration.properties;if(properties)for(var key in properties)properties[key].overridable&&(this.editorConfigurationSchema.properties[key]=this.getConfigurationProperties()[key]);var subNodes=configuration.allOf;subNodes&&subNodes.forEach(function(subNode){return _this.update(subNode)})},ConfigurationRegistry2.prototype.computeOverridePropertyPattern=function(){return this.overrideIdentifiers.length?OVERRIDE_PATTERN_WITH_SUBSTITUTION.replace("${0}",this.overrideIdentifiers.map(function(identifier){return _base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.l(identifier,!1).source}).join("|")):OVERRIDE_PROPERTY},ConfigurationRegistry2}(),SETTINGS_OVERRRIDE_NODE_ID="override",OVERRIDE_PROPERTY="\\[.*\\]$",OVERRIDE_PATTERN_WITH_SUBSTITUTION="\\[(${0})\\]$",OVERRIDE_PROPERTY_PATTERN=new RegExp(OVERRIDE_PROPERTY);function getDefaultValue(type){var t=Array.isArray(type)?type[0]:type;switch(t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var configurationRegistry=new ConfigurationRegistry;_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.a.add(Extensions.Configuration,configurationRegistry);function validateProperty(property){return OVERRIDE_PROPERTY_PATTERN.test(property)?_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",property):configurationRegistry.getConfigurationProperties()[property]!==void 0?_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("config.property.duplicate","Cannot register '{0}'. This property is already registered.",property):null}},3281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return values}),__webpack_require__.d(__webpack_exports__,"b",function(){return first}),__webpack_require__.d(__webpack_exports__,"c",function(){return forEach}),__webpack_require__.d(__webpack_exports__,"a",function(){return SetMap});var hasOwnProperty=Object.prototype.hasOwnProperty;function values(from){var result=[];for(var key in from)hasOwnProperty.call(from,key)&&result.push(from[key]);return result}function first(from){for(var key in from)if(hasOwnProperty.call(from,key))return from[key]}function forEach(from,callback){var _loop_1=function(key2){if(hasOwnProperty.call(from,key2)){var result=callback({key:key2,value:from[key2]},function(){delete from[key2]});if(result===!1)return{value:void 0}}};for(var key in from){var state_1=_loop_1(key);if(typeof state_1=="object")return state_1.value}}var SetMap=function(){function SetMap2(){this.map=new Map}return SetMap2.prototype.add=function(key,value){var values2=this.map.get(key);values2||(values2=new Set,this.map.set(key,values2)),values2.add(value)},SetMap2.prototype.delete=function(key,value){var values2=this.map.get(key);values2&&(values2.delete(value),values2.size===0&&this.map.delete(key))},SetMap2.prototype.forEach=function(key,fn){var values2=this.map.get(key);values2&&values2.forEach(fn)},SetMap2}()},3282:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getMapForWordSeparators});var _core_characterClassifier_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3235),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),WordCharacterClassifier=function(_super){__extends(WordCharacterClassifier2,_super);function WordCharacterClassifier2(wordSeparators){for(var _this=_super.call(this,0)||this,i=0,len=wordSeparators.length;i<len;i++)_this.set(wordSeparators.charCodeAt(i),2);return _this.set(32,1),_this.set(9,1),_this}return WordCharacterClassifier2}(_core_characterClassifier_js__WEBPACK_IMPORTED_MODULE_0__.a);function once(computeFn){var cache={};return function(input){return cache.hasOwnProperty(input)||(cache[input]=computeFn(input)),cache[input]}}var getMapForWordSeparators=once(function(input){return new WordCharacterClassifier(input)})},3283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LineTokens});var _modes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2240),LineTokens=function(){function LineTokens2(tokens,text){this._tokens=tokens,this._tokensCount=this._tokens.length>>>1,this._text=text}return LineTokens2.prototype.equals=function(other){return other instanceof LineTokens2?this.slicedEquals(other,0,this._tokensCount):!1},LineTokens2.prototype.slicedEquals=function(other,sliceFromTokenIndex,sliceTokenCount){if(this._text!==other._text||this._tokensCount!==other._tokensCount)return!1;for(var from=sliceFromTokenIndex<<1,to=from+(sliceTokenCount<<1),i=from;i<to;i++)if(this._tokens[i]!==other._tokens[i])return!1;return!0},LineTokens2.prototype.getLineContent=function(){return this._text},LineTokens2.prototype.getCount=function(){return this._tokensCount},LineTokens2.prototype.getStartOffset=function(tokenIndex){return tokenIndex>0?this._tokens[tokenIndex-1<<1]:0},LineTokens2.prototype.getMetadata=function(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return metadata},LineTokens2.prototype.getLanguageId=function(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.z.getLanguageId(metadata)},LineTokens2.prototype.getStandardTokenType=function(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.z.getTokenType(metadata)},LineTokens2.prototype.getForeground=function(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.z.getForeground(metadata)},LineTokens2.prototype.getClassName=function(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.z.getClassNameFromMetadata(metadata)},LineTokens2.prototype.getInlineStyle=function(tokenIndex,colorMap){var metadata=this._tokens[(tokenIndex<<1)+1];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.z.getInlineStyleFromMetadata(metadata,colorMap)},LineTokens2.prototype.getEndOffset=function(tokenIndex){return this._tokens[tokenIndex<<1]},LineTokens2.prototype.findTokenIndexAtOffset=function(offset){return LineTokens2.findIndexInTokensArray(this._tokens,offset)},LineTokens2.prototype.inflate=function(){return this},LineTokens2.prototype.sliceAndInflate=function(startOffset,endOffset,deltaOffset){return new SlicedLineTokens(this,startOffset,endOffset,deltaOffset)},LineTokens2.convertToEndOffset=function(tokens,lineTextLength){for(var tokenCount=tokens.length>>>1,lastTokenIndex=tokenCount-1,tokenIndex=0;tokenIndex<lastTokenIndex;tokenIndex++)tokens[tokenIndex<<1]=tokens[tokenIndex+1<<1];tokens[lastTokenIndex<<1]=lineTextLength},LineTokens2.findIndexInTokensArray=function(tokens,desiredIndex){if(tokens.length<=2)return 0;for(var low=0,high=(tokens.length>>>1)-1;low<high;){var mid=low+Math.floor((high-low)/2),endOffset=tokens[mid<<1];if(endOffset===desiredIndex)return mid+1;endOffset<desiredIndex?low=mid+1:endOffset>desiredIndex&&(high=mid)}return low},LineTokens2}(),SlicedLineTokens=function(){function SlicedLineTokens2(source,startOffset,endOffset,deltaOffset){this._source=source,this._startOffset=startOffset,this._endOffset=endOffset,this._deltaOffset=deltaOffset,this._firstTokenIndex=source.findTokenIndexAtOffset(startOffset),this._tokensCount=0;for(var i=this._firstTokenIndex,len=source.getCount();i<len;i++){var tokenStartOffset=source.getStartOffset(i);if(tokenStartOffset>=endOffset)break;this._tokensCount++}}return SlicedLineTokens2.prototype.equals=function(other){return other instanceof SlicedLineTokens2?this._startOffset===other._startOffset&&this._endOffset===other._endOffset&&this._deltaOffset===other._deltaOffset&&this._source.slicedEquals(other._source,this._firstTokenIndex,this._tokensCount):!1},SlicedLineTokens2.prototype.getCount=function(){return this._tokensCount},SlicedLineTokens2.prototype.getForeground=function(tokenIndex){return this._source.getForeground(this._firstTokenIndex+tokenIndex)},SlicedLineTokens2.prototype.getEndOffset=function(tokenIndex){var tokenEndOffset=this._source.getEndOffset(this._firstTokenIndex+tokenIndex);return Math.min(this._endOffset,tokenEndOffset)-this._startOffset+this._deltaOffset},SlicedLineTokens2.prototype.getClassName=function(tokenIndex){return this._source.getClassName(this._firstTokenIndex+tokenIndex)},SlicedLineTokens2.prototype.getInlineStyle=function(tokenIndex,colorMap){return this._source.getInlineStyle(this._firstTokenIndex+tokenIndex,colorMap)},SlicedLineTokens2.prototype.findTokenIndexAtOffset=function(offset){return this._source.findTokenIndexAtOffset(offset+this._startOffset-this._deltaOffset)-this._firstTokenIndex},SlicedLineTokens2}()},3284:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IndentAction}),__webpack_require__.d(__webpack_exports__,"b",function(){return StandardAutoClosingPairConditional});var IndentAction;(function(IndentAction2){IndentAction2[IndentAction2.None=0]="None",IndentAction2[IndentAction2.Indent=1]="Indent",IndentAction2[IndentAction2.IndentOutdent=2]="IndentOutdent",IndentAction2[IndentAction2.Outdent=3]="Outdent"})(IndentAction||(IndentAction={}));var StandardAutoClosingPairConditional=function(){function StandardAutoClosingPairConditional2(source){if(this.open=source.open,this.close=source.close,this._standardTokenMask=0,Array.isArray(source.notIn))for(var i=0,len=source.notIn.length;i<len;i++){var notIn=source.notIn[i];switch(notIn){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}}return StandardAutoClosingPairConditional2.prototype.isOK=function(standardToken){return(this._standardTokenMask&standardToken)===0},StandardAutoClosingPairConditional2}()},3285:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return attachBadgeStyler}),__webpack_require__.d(__webpack_exports__,"d",function(){return attachQuickOpenStyler}),__webpack_require__.d(__webpack_exports__,"b",function(){return attachListStyler}),__webpack_require__.d(__webpack_exports__,"c",function(){return attachMenuStyler});var _colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2623),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)};function computeStyles(theme,styleMap){var styles=Object.create(null);for(var key in styleMap){var value=styleMap[key];value&&(styles[key]=Object(_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Ub)(value,theme))}return styles}function attachStyler(themeService,styleMap,widgetOrCallback){function applyStyles(theme){var styles=computeStyles(themeService.getTheme(),styleMap);typeof widgetOrCallback=="function"?widgetOrCallback(styles):widgetOrCallback.style(styles)}return applyStyles(themeService.getTheme()),themeService.onThemeChange(applyStyles)}function attachBadgeStyler(widget,themeService,style){return attachStyler(themeService,{badgeBackground:style&&style.badgeBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.c,badgeForeground:style&&style.badgeForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.d,badgeBorder:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.e},widget)}function attachQuickOpenStyler(widget,themeService,style){return attachStyler(themeService,{foreground:style&&style.foreground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.W,background:style&&style.background||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.o,borderColor:style&&style.borderColor||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.e,widgetShadow:style&&style.widgetShadow||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.gc,progressBarBackground:style&&style.progressBarBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Sb,pickerGroupForeground:style&&style.pickerGroupForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Ob,pickerGroupBorder:style&&style.pickerGroupBorder||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Nb,inputBackground:style&&style.inputBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Z,inputForeground:style&&style.inputForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.bb,inputBorder:style&&style.inputBorder||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.ab,inputValidationInfoBorder:style&&style.inputValidationInfoBorder||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.gb,inputValidationInfoBackground:style&&style.inputValidationInfoBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.fb,inputValidationInfoForeground:style&&style.inputValidationInfoForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.hb,inputValidationWarningBorder:style&&style.inputValidationWarningBorder||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.jb,inputValidationWarningBackground:style&&style.inputValidationWarningBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.ib,inputValidationWarningForeground:style&&style.inputValidationWarningForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.kb,inputValidationErrorBorder:style&&style.inputValidationErrorBorder||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.db,inputValidationErrorBackground:style&&style.inputValidationErrorBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.cb,inputValidationErrorForeground:style&&style.inputValidationErrorForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.eb,listFocusBackground:style&&style.listFocusBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.rb,listFocusForeground:style&&style.listFocusForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.sb,listActiveSelectionBackground:style&&style.listActiveSelectionBackground||Object(_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.f)(_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.lb,.1),listActiveSelectionForeground:style&&style.listActiveSelectionForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.mb,listFocusAndSelectionBackground:style&&style.listFocusAndSelectionBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.lb,listFocusAndSelectionForeground:style&&style.listFocusAndSelectionForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.mb,listInactiveSelectionBackground:style&&style.listInactiveSelectionBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.xb,listInactiveSelectionForeground:style&&style.listInactiveSelectionForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.yb,listInactiveFocusBackground:style&&style.listInactiveFocusBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.wb,listHoverBackground:style&&style.listHoverBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.ub,listHoverForeground:style&&style.listHoverForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.vb,listDropBackground:style&&style.listDropBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.nb,listFocusOutline:style&&style.listFocusOutline||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b,listSelectionOutline:style&&style.listSelectionOutline||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b,listHoverOutline:style&&style.listHoverOutline||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b},widget)}function attachListStyler(widget,themeService,overrides){return attachStyler(themeService,__assign(__assign({},defaultListStyles),overrides||{}),widget)}var defaultListStyles={listFocusBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.rb,listFocusForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.sb,listActiveSelectionBackground:Object(_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.f)(_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.lb,.1),listActiveSelectionForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.mb,listFocusAndSelectionBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.lb,listFocusAndSelectionForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.mb,listInactiveSelectionBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.xb,listInactiveSelectionForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.yb,listInactiveFocusBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.wb,listHoverBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.ub,listHoverForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.vb,listDropBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.nb,listFocusOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b,listSelectionOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b,listHoverOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b,listFilterWidgetBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.ob,listFilterWidgetOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.qb,listFilterWidgetNoMatchesOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.pb,listMatchesShadow:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.gc,treeIndentGuidesStroke:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.fc},defaultMenuStyles={shadowColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.gc,borderColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Ab,foregroundColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Bb,backgroundColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.zb,selectionForegroundColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Eb,selectionBackgroundColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Cb,selectionBorderColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Db,separatorColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Fb};function attachMenuStyler(widget,themeService,style){return attachStyler(themeService,__assign(__assign({},defaultMenuStyles),style),widget)}},3286:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IStandaloneThemeService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IStandaloneThemeService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("themeService")},3363:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return once});function once(fn){var _this=this,didCall=!1,result;return function(){return didCall||(didCall=!0,result=fn.apply(_this,arguments)),result}}},3364:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return memoize});var memoizeId=0;function createMemoizer(){var memoizeKeyPrefix="$memoize"+memoizeId++,self2=void 0,result=function(target,key,descriptor){var fnKey=null,fn=null;if(typeof descriptor.value=="function"?(fnKey="value",fn=descriptor.value,fn.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof descriptor.get=="function"&&(fnKey="get",fn=descriptor.get),!fn)throw new Error("not supported");var memoizeKey=memoizeKeyPrefix+":"+key;descriptor[fnKey]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return self2=this,this.hasOwnProperty(memoizeKey)||Object.defineProperty(this,memoizeKey,{configurable:!0,enumerable:!1,writable:!0,value:fn.apply(this,args)}),this[memoizeKey]}};return result.clear=function(){typeof self2>"u"||Object.getOwnPropertyNames(self2).forEach(function(property){property.indexOf(memoizeKeyPrefix)===0&&delete self2[property]})},result}function memoize(target,key,descriptor){return createMemoizer()(target,key,descriptor)}},3365:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ITelemetryService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),ITelemetryService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("telemetryService")},3366:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return USUAL_WORD_SEPARATORS}),__webpack_require__.d(__webpack_exports__,"a",function(){return DEFAULT_WORD_REGEXP}),__webpack_require__.d(__webpack_exports__,"c",function(){return ensureValidWordDefinition}),__webpack_require__.d(__webpack_exports__,"d",function(){return getWordAtText});var USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function createWordRegExp(allowInWords){allowInWords===void 0&&(allowInWords="");for(var source="(-?\\d*\\.\\d\\w*)|([^",_i=0,USUAL_WORD_SEPARATORS_1=USUAL_WORD_SEPARATORS;_i<USUAL_WORD_SEPARATORS_1.length;_i++){var sep=USUAL_WORD_SEPARATORS_1[_i];allowInWords.indexOf(sep)>=0||(source+="\\"+sep)}return source+="\\s]+)",new RegExp(source,"g")}var DEFAULT_WORD_REGEXP=createWordRegExp();function ensureValidWordDefinition(wordDefinition){var result=DEFAULT_WORD_REGEXP;if(wordDefinition&&wordDefinition instanceof RegExp)if(wordDefinition.global)result=wordDefinition;else{var flags="g";wordDefinition.ignoreCase&&(flags+="i"),wordDefinition.multiline&&(flags+="m"),wordDefinition.unicode&&(flags+="u"),result=new RegExp(wordDefinition.source,flags)}return result.lastIndex=0,result}function getWordAtPosFast(column,wordDefinition,text,textOffset){var pos=column-1-textOffset,start=text.lastIndexOf(" ",pos-1)+1;wordDefinition.lastIndex=start;for(var match;match=wordDefinition.exec(text);){var matchIndex=match.index||0;if(matchIndex<=pos&&wordDefinition.lastIndex>=pos)return{word:match[0],startColumn:textOffset+1+matchIndex,endColumn:textOffset+1+wordDefinition.lastIndex}}return null}function getWordAtPosSlow(column,wordDefinition,text,textOffset){var pos=column-1-textOffset;wordDefinition.lastIndex=0;for(var match;match=wordDefinition.exec(text);){var matchIndex=match.index||0;if(matchIndex>pos)return null;if(wordDefinition.lastIndex>=pos)return{word:match[0],startColumn:textOffset+1+matchIndex,endColumn:textOffset+1+wordDefinition.lastIndex}}return null}function getWordAtText(column,wordDefinition,text,textOffset){wordDefinition.lastIndex=0;var match=wordDefinition.exec(text);if(!match)return null;var ret=match[0].indexOf(" ")>=0?getWordAtPosSlow(column,wordDefinition,text,textOffset):getWordAtPosFast(column,wordDefinition,text,textOffset);return wordDefinition.lastIndex=0,ret}},3367:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EditorZoom});var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2106),EditorZoom=new(function(){function class_1(){this._zoomLevel=0,this._onDidChangeZoomLevel=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.a,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return class_1.prototype.getZoomLevel=function(){return this._zoomLevel},class_1.prototype.setZoomLevel=function(zoomLevel){zoomLevel=Math.min(Math.max(-5,zoomLevel),20),this._zoomLevel!==zoomLevel&&(this._zoomLevel=zoomLevel,this._onDidChangeZoomLevel.fire(this._zoomLevel))},class_1}())},3368:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Token}),__webpack_require__.d(__webpack_exports__,"b",function(){return TokenizationResult}),__webpack_require__.d(__webpack_exports__,"c",function(){return TokenizationResult2});var Token=function(){function Token2(offset,type,language){this.offset=offset|0,this.type=type,this.language=language}return Token2.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},Token2}(),TokenizationResult=function(){function TokenizationResult3(tokens,endState){this.tokens=tokens,this.endState=endState}return TokenizationResult3}(),TokenizationResult2=function(){function TokenizationResult22(tokens,endState){this.tokens=tokens,this.endState=endState}return TokenizationResult22}()},3369:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return codeActionCommandId}),__webpack_require__.d(__webpack_exports__,"e",function(){return refactorCommandId}),__webpack_require__.d(__webpack_exports__,"f",function(){return sourceActionCommandId}),__webpack_require__.d(__webpack_exports__,"d",function(){return organizeImportsCommandId}),__webpack_require__.d(__webpack_exports__,"b",function(){return fixAllCommandId}),__webpack_require__.d(__webpack_exports__,"c",function(){return getCodeActions});var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2389),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2649),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2176),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2640),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2099),_common_core_range_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2056),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2629),_common_modes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2240),_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2817),_types_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3370),_browser_core_editorState_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3177),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2033),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},codeActionCommandId="editor.action.codeAction",refactorCommandId="editor.action.refactor",sourceActionCommandId="editor.action.sourceAction",organizeImportsCommandId="editor.action.organizeImports",fixAllCommandId="editor.action.fixAll",ManagedCodeActionSet=function(_super){__extends(ManagedCodeActionSet2,_super);function ManagedCodeActionSet2(actions,disposables){var _this=_super.call(this)||this;return _this._register(disposables),_this.allActions=Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.r)(__spreadArrays(actions),ManagedCodeActionSet2.codeActionsComparator),_this.validActions=_this.allActions.filter(function(action){return!action.disabled}),_this}return ManagedCodeActionSet2.codeActionsComparator=function(a,b){return Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.q)(a.diagnostics)?Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.q)(b.diagnostics)?a.diagnostics[0].message.localeCompare(b.diagnostics[0].message):-1:Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.q)(b.diagnostics)?1:0},Object.defineProperty(ManagedCodeActionSet2.prototype,"hasAutoFix",{get:function(){return this.validActions.some(function(fix){return!!fix.kind&&_types_js__WEBPACK_IMPORTED_MODULE_9__.b.QuickFix.contains(new _types_js__WEBPACK_IMPORTED_MODULE_9__.b(fix.kind))&&!!fix.isPreferred})},enumerable:!0,configurable:!0}),ManagedCodeActionSet2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_11__.a);function getCodeActions(model,rangeOrSelection,trigger,token){var _this=this,_a,filter=trigger.filter||{},codeActionContext={only:(_a=filter.include)===null||_a===void 0?void 0:_a.value,trigger:trigger.type==="manual"?2:1},cts=new _browser_core_editorState_js__WEBPACK_IMPORTED_MODULE_10__.d(model,token),providers=getCodeActionProviders(model,filter),disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_11__.b,promises=providers.map(function(provider){return __awaiter(_this,void 0,void 0,function(){var providedCodeActions,err_1;return __generator(this,function(_a2){switch(_a2.label){case 0:return _a2.trys.push([0,2,,3]),[4,provider.provideCodeActions(model,rangeOrSelection,codeActionContext,cts.token)];case 1:return providedCodeActions=_a2.sent(),cts.token.isCancellationRequested||!providedCodeActions?[2,[]]:(disposables.add(providedCodeActions),[2,providedCodeActions.actions.filter(function(action){return action&&Object(_types_js__WEBPACK_IMPORTED_MODULE_9__.c)(filter,action)})]);case 2:if(err_1=_a2.sent(),Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.d)(err_1))throw err_1;return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.f)(err_1),[2,[]];case 3:return[2]}})})}),listener=_common_modes_js__WEBPACK_IMPORTED_MODULE_7__.a.onDidChange(function(){var newProviders=_common_modes_js__WEBPACK_IMPORTED_MODULE_7__.a.all(model);Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.g)(newProviders,providers)||cts.cancel()});return Promise.all(promises).then(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.m).then(function(actions){return new ManagedCodeActionSet(actions,disposables)}).finally(function(){listener.dispose(),cts.dispose()})}function getCodeActionProviders(model,filter){return _common_modes_js__WEBPACK_IMPORTED_MODULE_7__.a.all(model).filter(function(provider){return provider.providedCodeActionKinds?provider.providedCodeActionKinds.some(function(kind){return Object(_types_js__WEBPACK_IMPORTED_MODULE_9__.d)(filter,new _types_js__WEBPACK_IMPORTED_MODULE_9__.b(kind))}):!0})}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.j)("_executeCodeActionProvider",function(accessor,args){return __awaiter(this,void 0,void 0,function(){var resource,rangeOrSelection,kind,model,validatedRangeOrSelection,codeActionSet;return __generator(this,function(_a){switch(_a.label){case 0:if(resource=args.resource,rangeOrSelection=args.rangeOrSelection,kind=args.kind,!(resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__.a)||(model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_8__.a).getModel(resource),!model)||(validatedRangeOrSelection=_common_core_selection_js__WEBPACK_IMPORTED_MODULE_6__.a.isISelection(rangeOrSelection)?_common_core_selection_js__WEBPACK_IMPORTED_MODULE_6__.a.liftSelection(rangeOrSelection):_common_core_range_js__WEBPACK_IMPORTED_MODULE_5__.a.isIRange(rangeOrSelection)?model.validateRange(rangeOrSelection):void 0,!validatedRangeOrSelection))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.b)();return[4,getCodeActions(model,validatedRangeOrSelection,{type:"manual",filter:{includeSourceActions:!0,include:kind&&kind.value?new _types_js__WEBPACK_IMPORTED_MODULE_9__.b(kind.value):void 0}},_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.a.None)];case 1:return codeActionSet=_a.sent(),setTimeout(function(){return codeActionSet.dispose()},100),[2,codeActionSet.validActions]}})})})},3370:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return CodeActionKind}),__webpack_require__.d(__webpack_exports__,"d",function(){return mayIncludeActionsOfKind}),__webpack_require__.d(__webpack_exports__,"c",function(){return filtersAction}),__webpack_require__.d(__webpack_exports__,"a",function(){return CodeActionCommandArgs});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),CodeActionKind=function(){function CodeActionKind2(value){this.value=value}return CodeActionKind2.prototype.equals=function(other){return this.value===other.value},CodeActionKind2.prototype.contains=function(other){return this.equals(other)||this.value===""||Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.O)(other.value,this.value+CodeActionKind2.sep)},CodeActionKind2.prototype.intersects=function(other){return this.contains(other)||other.contains(this)},CodeActionKind2.prototype.append=function(part){return new CodeActionKind2(this.value+CodeActionKind2.sep+part)},CodeActionKind2.sep=".",CodeActionKind2.None=new CodeActionKind2("@@none@@"),CodeActionKind2.Empty=new CodeActionKind2(""),CodeActionKind2.QuickFix=new CodeActionKind2("quickfix"),CodeActionKind2.Refactor=new CodeActionKind2("refactor"),CodeActionKind2.Source=new CodeActionKind2("source"),CodeActionKind2.SourceOrganizeImports=CodeActionKind2.Source.append("organizeImports"),CodeActionKind2.SourceFixAll=CodeActionKind2.Source.append("fixAll"),CodeActionKind2}();function mayIncludeActionsOfKind(filter,providedKind){return!(filter.include&&!filter.include.intersects(providedKind)||!filter.includeSourceActions&&CodeActionKind.Source.contains(providedKind))}function filtersAction(filter,action){var actionKind=action.kind?new CodeActionKind(action.kind):void 0;return!(filter.include&&(!actionKind||!filter.include.contains(actionKind))||filter.excludes&&actionKind&&filter.excludes.some(function(exclude){return exclude.contains(actionKind)&&(!filter.include||!filter.include.contains(actionKind))})||!filter.includeSourceActions&&actionKind&&CodeActionKind.Source.contains(actionKind)||filter.onlyIncludePreferredActions&&!action.isPreferred)}var CodeActionCommandArgs=function(){function CodeActionCommandArgs2(kind,apply,preferred){this.kind=kind,this.apply=apply,this.preferred=preferred}return CodeActionCommandArgs2.fromUser=function(arg,defaults){return!arg||typeof arg!="object"?new CodeActionCommandArgs2(defaults.kind,defaults.apply,!1):new CodeActionCommandArgs2(CodeActionCommandArgs2.getKindFromUser(arg,defaults.kind),CodeActionCommandArgs2.getApplyFromUser(arg,defaults.apply),CodeActionCommandArgs2.getPreferredUser(arg))},CodeActionCommandArgs2.getApplyFromUser=function(arg,defaultAutoApply){switch(typeof arg.apply=="string"?arg.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return defaultAutoApply}},CodeActionCommandArgs2.getKindFromUser=function(arg,defaultKind){return typeof arg.kind=="string"?new CodeActionKind(arg.kind):defaultKind},CodeActionCommandArgs2.getPreferredUser=function(arg){return typeof arg.preferred=="boolean"?arg.preferred:!1},CodeActionCommandArgs2}()},3371:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MessageController});var _messageController_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5746),_messageController_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_messageController_css__WEBPACK_IMPORTED_MODULE_0__),_nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2069),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2237),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2033),_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2815),_common_core_range_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2056),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2099),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2238),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2235),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2623),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},MessageController=function(_super){__extends(MessageController2,_super);function MessageController2(editor,contextKeyService){var _this=_super.call(this)||this;return _this.closeTimeout=3e3,_this._messageWidget=_this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.d),_this._messageListeners=_this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b),_this._editor=editor,_this._visible=MessageController2.MESSAGE_VISIBLE.bindTo(contextKeyService),_this._register(_this._editor.onDidAttemptReadOnlyEdit(function(){return _this._onDidAttemptReadOnlyEdit()})),_this}return MessageController2.get=function(editor){return editor.getContribution(MessageController2.ID)},MessageController2.prototype.dispose=function(){_super.prototype.dispose.call(this),this._visible.reset()},MessageController2.prototype.showMessage=function(message,position){var _this=this;Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_4__.a)(message),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new MessageWidget(this._editor,position,message),this._messageListeners.add(this._editor.onDidBlurEditorText(function(){return _this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(function(){return _this.closeMessage()})),this._messageListeners.add(this._editor.onDidDispose(function(){return _this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeModel(function(){return _this.closeMessage()})),this._messageListeners.add(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.e(function(){return _this.closeMessage()},this.closeTimeout));var bounds;this._messageListeners.add(this._editor.onMouseMove(function(e){e.target.position&&(bounds?bounds.containsPosition(e.target.position)||_this.closeMessage():bounds=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(position.lineNumber-3,1,e.target.position.lineNumber+3,1))}))},MessageController2.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(MessageWidget.fadeOut(this._messageWidget.value))},MessageController2.prototype._onDidAttemptReadOnlyEdit=function(){this._editor.hasModel()&&this.showMessage(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},MessageController2.ID="editor.contrib.messageController",MessageController2.MESSAGE_VISIBLE=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.d("messageVisible",!1),MessageController2=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.c)],MessageController2),MessageController2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a),MessageCommand=_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.c.bindToContribution(MessageController.get);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.g)(new MessageCommand({id:"leaveEditorMessage",precondition:MessageController.MESSAGE_VISIBLE,handler:function(c){return c.closeMessage()},kbOpts:{weight:100+30,primary:9}}));var MessageWidget=function(){function MessageWidget2(editor,_a,text){var lineNumber=_a.lineNumber,column=_a.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=editor,this._editor.revealLinesInCenterIfOutsideViewport(lineNumber,lineNumber,0),this._position={lineNumber,column:column-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var message=document.createElement("div");message.classList.add("message"),message.textContent=text,this._domNode.appendChild(message);var anchor=document.createElement("div");anchor.classList.add("anchor"),this._domNode.appendChild(anchor),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return MessageWidget2.fadeOut=function(messageWidget){var handle,dispose=function(){messageWidget.dispose(),clearTimeout(handle),messageWidget.getDomNode().removeEventListener("animationend",dispose)};return handle=setTimeout(dispose,110),messageWidget.getDomNode().addEventListener("animationend",dispose),messageWidget.getDomNode().classList.add("fadeOut"),{dispose}},MessageWidget2.prototype.dispose=function(){this._editor.removeContentWidget(this)},MessageWidget2.prototype.getId=function(){return"messageoverlay"},MessageWidget2.prototype.getDomNode=function(){return this._domNode},MessageWidget2.prototype.getPosition=function(){return{position:this._position,preference:[1,2]}},MessageWidget2}();Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.h)(MessageController.ID,MessageController),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_8__.e)(function(theme,collector){var border=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.gb);if(border){var borderWidth=theme.type===_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_8__.b?2:1;collector.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+border+"; }"),collector.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+borderWidth+"px solid "+border+"; }")}var background=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.fb);background&&collector.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+background+"; }");var foreground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.hb);foreground&&collector.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: "+foreground+"; }")})},3372:function(module,__webpack_exports__,__webpack_require__){"use strict";var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2123),Severity;(function(Severity2){Severity2[Severity2.Ignore=0]="Ignore",Severity2[Severity2.Info=1]="Info",Severity2[Severity2.Warning=2]="Warning",Severity2[Severity2.Error=3]="Error"})(Severity||(Severity={})),function(Severity2){var _error="error",_warning="warning",_warn="warn",_info="info",_displayStrings=Object.create(null);_displayStrings[Severity2.Error]=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("sev.error","Error"),_displayStrings[Severity2.Warning]=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("sev.warning","Warning"),_displayStrings[Severity2.Info]=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("sev.info","Info");function fromValue(value){return value?_strings_js__WEBPACK_IMPORTED_MODULE_1__.n(_error,value)?Severity2.Error:_strings_js__WEBPACK_IMPORTED_MODULE_1__.n(_warning,value)||_strings_js__WEBPACK_IMPORTED_MODULE_1__.n(_warn,value)?Severity2.Warning:_strings_js__WEBPACK_IMPORTED_MODULE_1__.n(_info,value)?Severity2.Info:Severity2.Ignore:Severity2.Ignore}Severity2.fromValue=fromValue}(Severity||(Severity={})),__webpack_exports__.a=Severity},3373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return renderCodicons});var _codicon_codicon_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5749),_codicon_codicon_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_codicon_codicon_css__WEBPACK_IMPORTED_MODULE_0__),_codicon_codicon_animations_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5750),_codicon_codicon_animations_css__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_codicon_codicon_animations_css__WEBPACK_IMPORTED_MODULE_1__),_common_strings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2123);function expand(text){return text.replace(/\$\((([a-z0-9\-]+?)(~([a-z0-9\-]*?))?)\)/gi,function(_match,_g1,name,_g3,animation){return'<span class="codicon codicon-'+name+" "+(animation?"codicon-animation-"+animation:"")+'"></span>'})}function renderCodicons(label){return expand(Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.o)(label))}},3374:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DataTransfers}),__webpack_require__.d(__webpack_exports__,"b",function(){return DragAndDropData}),__webpack_require__.d(__webpack_exports__,"c",function(){return StaticDND});var DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"},DragAndDropData=function(){function DragAndDropData2(data){this.data=data}return DragAndDropData2.prototype.update=function(){},DragAndDropData2.prototype.getData=function(){return this.data},DragAndDropData2}(),StaticDND={CurrentDragAndDropData:void 0}},3375:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Sash});var _sash_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5757),_sash_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_sash_css__WEBPACK_IMPORTED_MODULE_0__),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2033),_browser_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2642),_common_platform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2236),_common_types_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2631),_touch_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3112),_mouseEvent_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2813),_common_event_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2106),_dom_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2124),_event_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2849),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},DEBUG=!1,Sash=function(_super){__extends(Sash2,_super);function Sash2(container,layoutProvider,options){options===void 0&&(options={});var _this=_super.call(this)||this;return _this._state=3,_this._onDidEnablementChange=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_7__.a),_this.onDidEnablementChange=_this._onDidEnablementChange.event,_this._onDidStart=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_7__.a),_this.onDidStart=_this._onDidStart.event,_this._onDidChange=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_7__.a),_this.onDidChange=_this._onDidChange.event,_this._onDidReset=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_7__.a),_this.onDidReset=_this._onDidReset.event,_this._onDidEnd=_this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_7__.a),_this.onDidEnd=_this._onDidEnd.event,_this.linkedSash=void 0,_this.orthogonalStartSashDisposables=_this._register(new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b),_this.orthogonalEndSashDisposables=_this._register(new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b),_this.el=Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.q)(container,Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.a)(".monaco-sash")),_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.e&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.f)(_this.el,"mac"),_this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_9__.a)(_this.el,"mousedown")(_this.onMouseDown,_this)),_this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_9__.a)(_this.el,"dblclick")(_this.onMouseDoubleClick,_this)),_this._register(_touch_js__WEBPACK_IMPORTED_MODULE_5__.b.addTarget(_this.el)),_this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_9__.a)(_this.el,_touch_js__WEBPACK_IMPORTED_MODULE_5__.a.Start)(_this.onTouchStart,_this)),_browser_js__WEBPACK_IMPORTED_MODULE_2__.j&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.f)(_this.el,"touch"),_this.setOrientation(options.orientation||0),_this.hidden=!1,_this.layoutProvider=layoutProvider,_this.orthogonalStartSash=options.orthogonalStartSash,_this.orthogonalEndSash=options.orthogonalEndSash,Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.V)(_this.el,"debug",DEBUG),_this}return Object.defineProperty(Sash2.prototype,"state",{get:function(){return this._state},set:function(state){this._state!==state&&(Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.V)(this.el,"disabled",state===0),Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.V)(this.el,"minimum",state===1),Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.V)(this.el,"maximum",state===2),this._state=state,this._onDidEnablementChange.fire(state))},enumerable:!0,configurable:!0}),Object.defineProperty(Sash2.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(sash){this.orthogonalStartSashDisposables.clear(),sash?(this.orthogonalStartSashDisposables.add(sash.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(sash.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=sash},enumerable:!0,configurable:!0}),Object.defineProperty(Sash2.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(sash){this.orthogonalEndSashDisposables.clear(),sash?(this.orthogonalEndSashDisposables.add(sash.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(sash.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=sash},enumerable:!0,configurable:!0}),Sash2.prototype.setOrientation=function(orientation){this.orientation=orientation,this.orientation===1?(Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.f)(this.el,"horizontal"),Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.M)(this.el,"vertical")):(Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.M)(this.el,"horizontal"),Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.f)(this.el,"vertical")),this.layoutProvider&&this.layout()},Sash2.prototype.onMouseDown=function(e){var _this=this;_dom_js__WEBPACK_IMPORTED_MODULE_8__.c.stop(e,!1);var isMultisashResize=!1;if(!e.__orthogonalSashEvent){var orthogonalSash=this.getOrthogonalSash(e);orthogonalSash&&(isMultisashResize=!0,e.__orthogonalSashEvent=!0,orthogonalSash.onMouseDown(e))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onMouseDown(e)),!!this.state){for(var iframes=__spreadArrays(Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.C)("iframe"),Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.C)("webview")),_i=0,iframes_1=iframes;_i<iframes_1.length;_i++){var iframe=iframes_1[_i];iframe.style.pointerEvents="none"}var mouseDownEvent=new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_6__.b(e),startX=mouseDownEvent.posx,startY=mouseDownEvent.posy,altKey=mouseDownEvent.altKey,startEvent={startX,currentX:startX,startY,currentY:startY,altKey};Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.f)(this.el,"active"),this._onDidStart.fire(startEvent);var style=Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.w)(this.el),updateStyle=function(){var cursor="";isMultisashResize?cursor="all-scroll":_this.orientation===1?_this.state===1?cursor="s-resize":_this.state===2?cursor="n-resize":cursor=_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.e?"row-resize":"ns-resize":_this.state===1?cursor="e-resize":_this.state===2?cursor="w-resize":cursor=_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.e?"col-resize":"ew-resize",style.innerHTML="* { cursor: "+cursor+" !important; }"},disposables=new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b;updateStyle(),isMultisashResize||this.onDidEnablementChange(updateStyle,null,disposables);var onMouseMove=function(e2){_dom_js__WEBPACK_IMPORTED_MODULE_8__.c.stop(e2,!1);var mouseMoveEvent=new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_6__.b(e2),event={startX,currentX:mouseMoveEvent.posx,startY,currentY:mouseMoveEvent.posy,altKey};_this._onDidChange.fire(event)},onMouseUp=function(e2){_dom_js__WEBPACK_IMPORTED_MODULE_8__.c.stop(e2,!1),_this.el.removeChild(style),Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.M)(_this.el,"active"),_this._onDidEnd.fire(),disposables.dispose();for(var _i2=0,iframes_2=iframes;_i2<iframes_2.length;_i2++){var iframe2=iframes_2[_i2];iframe2.style.pointerEvents="auto"}};Object(_event_js__WEBPACK_IMPORTED_MODULE_9__.a)(window,"mousemove")(onMouseMove,null,disposables),Object(_event_js__WEBPACK_IMPORTED_MODULE_9__.a)(window,"mouseup")(onMouseUp,null,disposables)}},Sash2.prototype.onMouseDoubleClick=function(e){var orthogonalSash=this.getOrthogonalSash(e);orthogonalSash&&orthogonalSash._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()},Sash2.prototype.onTouchStart=function(event){var _this=this;_dom_js__WEBPACK_IMPORTED_MODULE_8__.c.stop(event);var listeners=[],startX=event.pageX,startY=event.pageY,altKey=event.altKey;this._onDidStart.fire({startX,currentX:startX,startY,currentY:startY,altKey}),listeners.push(Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.j)(this.el,_touch_js__WEBPACK_IMPORTED_MODULE_5__.a.Change,function(event2){_common_types_js__WEBPACK_IMPORTED_MODULE_4__.h(event2.pageX)&&_common_types_js__WEBPACK_IMPORTED_MODULE_4__.h(event2.pageY)&&_this._onDidChange.fire({startX,currentX:event2.pageX,startY,currentY:event2.pageY,altKey})})),listeners.push(Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.j)(this.el,_touch_js__WEBPACK_IMPORTED_MODULE_5__.a.End,function(event2){_this._onDidEnd.fire(),Object(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.f)(listeners)}))},Sash2.prototype.layout=function(){var size=_browser_js__WEBPACK_IMPORTED_MODULE_2__.j?20:4;if(this.orientation===0){var verticalProvider=this.layoutProvider;this.el.style.left=verticalProvider.getVerticalSashLeft(this)-size/2+"px",verticalProvider.getVerticalSashTop&&(this.el.style.top=verticalProvider.getVerticalSashTop(this)+"px"),verticalProvider.getVerticalSashHeight&&(this.el.style.height=verticalProvider.getVerticalSashHeight(this)+"px")}else{var horizontalProvider=this.layoutProvider;this.el.style.top=horizontalProvider.getHorizontalSashTop(this)-size/2+"px",horizontalProvider.getHorizontalSashLeft&&(this.el.style.left=horizontalProvider.getHorizontalSashLeft(this)+"px"),horizontalProvider.getHorizontalSashWidth&&(this.el.style.width=horizontalProvider.getHorizontalSashWidth(this)+"px")}},Sash2.prototype.hide=function(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")},Sash2.prototype.onOrthogonalStartSashEnablementChange=function(state){Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.V)(this.el,"orthogonal-start",state!==0)},Sash2.prototype.onOrthogonalEndSashEnablementChange=function(state){Object(_dom_js__WEBPACK_IMPORTED_MODULE_8__.V)(this.el,"orthogonal-end",state!==0)},Sash2.prototype.getOrthogonalSash=function(e){if(this.orientation===0){if(e.offsetY<=4)return this.orthogonalStartSash;if(e.offsetY>=this.el.clientHeight-4)return this.orthogonalEndSash}else{if(e.offsetX<=4)return this.orthogonalStartSash;if(e.offsetX>=this.el.clientWidth-4)return this.orthogonalEndSash}},Sash2.prototype.dispose=function(){_super.prototype.dispose.call(this),this.el.remove()},Sash2}(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a)},3376:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return isCodeEditor});var _common_editorCommon_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3196);function isCodeEditor(thing){return thing&&typeof thing.getEditorType=="function"?thing.getEditorType()===_common_editorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.ICodeEditor:!1}},3377:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return LineRange}),__webpack_require__.d(__webpack_exports__,"c",function(){return RenderLineInput}),__webpack_require__.d(__webpack_exports__,"a",function(){return CharacterMapping}),__webpack_require__.d(__webpack_exports__,"d",function(){return renderViewLine}),__webpack_require__.d(__webpack_exports__,"e",function(){return renderViewLine2});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3504),_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3503),LinePart=function(){function LinePart2(endIndex,type){this.endIndex=endIndex,this.type=type}return LinePart2}(),LineRange=function(){function LineRange2(startIndex,endIndex){this.startOffset=startIndex,this.endOffset=endIndex}return LineRange2.prototype.equals=function(otherLineRange){return this.startOffset===otherLineRange.startOffset&&this.endOffset===otherLineRange.endOffset},LineRange2}(),RenderLineInput=function(){function RenderLineInput2(useMonospaceOptimizations,canUseHalfwidthRightwardsArrow,lineContent,continuesWithWrappedLine,isBasicASCII,containsRTL,fauxIndentLength,lineTokens,lineDecorations,tabSize,spaceWidth,stopRenderingLineAfter,renderWhitespace,renderControlCharacters,fontLigatures,selectionsOnLine){this.useMonospaceOptimizations=useMonospaceOptimizations,this.canUseHalfwidthRightwardsArrow=canUseHalfwidthRightwardsArrow,this.lineContent=lineContent,this.continuesWithWrappedLine=continuesWithWrappedLine,this.isBasicASCII=isBasicASCII,this.containsRTL=containsRTL,this.fauxIndentLength=fauxIndentLength,this.lineTokens=lineTokens,this.lineDecorations=lineDecorations,this.tabSize=tabSize,this.spaceWidth=spaceWidth,this.stopRenderingLineAfter=stopRenderingLineAfter,this.renderWhitespace=renderWhitespace==="all"?3:renderWhitespace==="boundary"?1:renderWhitespace==="selection"?2:0,this.renderControlCharacters=renderControlCharacters,this.fontLigatures=fontLigatures,this.selectionsOnLine=selectionsOnLine&&selectionsOnLine.sort(function(a,b){return a.startOffset<b.startOffset?-1:1})}return RenderLineInput2.prototype.sameSelection=function(otherSelections){if(this.selectionsOnLine===null)return otherSelections===null;if(otherSelections===null||otherSelections.length!==this.selectionsOnLine.length)return!1;for(var i=0;i<this.selectionsOnLine.length;i++)if(!this.selectionsOnLine[i].equals(otherSelections[i]))return!1;return!0},RenderLineInput2.prototype.equals=function(other){return this.useMonospaceOptimizations===other.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===other.canUseHalfwidthRightwardsArrow&&this.lineContent===other.lineContent&&this.continuesWithWrappedLine===other.continuesWithWrappedLine&&this.isBasicASCII===other.isBasicASCII&&this.containsRTL===other.containsRTL&&this.fauxIndentLength===other.fauxIndentLength&&this.tabSize===other.tabSize&&this.spaceWidth===other.spaceWidth&&this.stopRenderingLineAfter===other.stopRenderingLineAfter&&this.renderWhitespace===other.renderWhitespace&&this.renderControlCharacters===other.renderControlCharacters&&this.fontLigatures===other.fontLigatures&&_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__.a.equalsArr(this.lineDecorations,other.lineDecorations)&&this.lineTokens.equals(other.lineTokens)&&this.sameSelection(other.selectionsOnLine)},RenderLineInput2}(),CharacterMapping=function(){function CharacterMapping2(length,partCount){this.length=length,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}return CharacterMapping2.getPartIndex=function(partData){return(partData&4294901760)>>>16},CharacterMapping2.getCharIndex=function(partData){return(partData&65535)>>>0},CharacterMapping2.prototype.setPartData=function(charOffset,partIndex,charIndex,partAbsoluteOffset){var partData=(partIndex<<16|charIndex<<0)>>>0;this._data[charOffset]=partData,this._absoluteOffsets[charOffset]=partAbsoluteOffset+charIndex},CharacterMapping2.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets},CharacterMapping2.prototype.charOffsetToPartData=function(charOffset){return this.length===0?0:charOffset<0?this._data[0]:charOffset>=this.length?this._data[this.length-1]:this._data[charOffset]},CharacterMapping2.prototype.partDataToCharOffset=function(partIndex,partLength,charIndex){if(this.length===0)return 0;for(var searchEntry=(partIndex<<16|charIndex<<0)>>>0,min=0,max=this.length-1;min+1<max;){var mid=min+max>>>1,midEntry=this._data[mid];if(midEntry===searchEntry)return mid;midEntry>searchEntry?max=mid:min=mid}if(min===max)return min;var minEntry=this._data[min],maxEntry=this._data[max];if(minEntry===searchEntry)return min;if(maxEntry===searchEntry)return max;var minPartIndex=CharacterMapping2.getPartIndex(minEntry),minCharIndex=CharacterMapping2.getCharIndex(minEntry),maxPartIndex=CharacterMapping2.getPartIndex(maxEntry),maxCharIndex;minPartIndex!==maxPartIndex?maxCharIndex=partLength:maxCharIndex=CharacterMapping2.getCharIndex(maxEntry);var minEntryDistance=charIndex-minCharIndex,maxEntryDistance=maxCharIndex-charIndex;return minEntryDistance<=maxEntryDistance?min:max},CharacterMapping2}(),RenderLineOutput=function(){function RenderLineOutput3(characterMapping,containsRTL,containsForeignElements){this.characterMapping=characterMapping,this.containsRTL=containsRTL,this.containsForeignElements=containsForeignElements}return RenderLineOutput3}();function renderViewLine(input,sb){if(input.lineContent.length===0){var containsForeignElements=0,content="<span><span>\xA0</span></span>";if(input.lineDecorations.length>0){for(var classNames=[],i=0,len=input.lineDecorations.length;i<len;i++){var lineDecoration=input.lineDecorations[i];lineDecoration.type===1&&(classNames.push(input.lineDecorations[i].className),containsForeignElements|=1),lineDecoration.type===2&&(classNames.push(input.lineDecorations[i].className),containsForeignElements|=2)}containsForeignElements!==0&&(content='<span><span class="'+classNames.join(" ")+'"></span></span>')}return sb.appendASCIIString(content),new RenderLineOutput(new CharacterMapping(0,0),!1,containsForeignElements)}return _renderLine(resolveRenderLineInput(input),sb)}var RenderLineOutput2=function(){function RenderLineOutput22(characterMapping,html,containsRTL,containsForeignElements){this.characterMapping=characterMapping,this.html=html,this.containsRTL=containsRTL,this.containsForeignElements=containsForeignElements}return RenderLineOutput22}();function renderViewLine2(input){var sb=Object(_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__.a)(1e4),out=renderViewLine(input,sb);return new RenderLineOutput2(out.characterMapping,sb.build(),out.containsRTL,out.containsForeignElements)}var ResolvedRenderLineInput=function(){function ResolvedRenderLineInput2(fontIsMonospace,canUseHalfwidthRightwardsArrow,lineContent,len,isOverflowing,parts,containsForeignElements,tabSize,containsRTL,spaceWidth,renderWhitespace,renderControlCharacters){this.fontIsMonospace=fontIsMonospace,this.canUseHalfwidthRightwardsArrow=canUseHalfwidthRightwardsArrow,this.lineContent=lineContent,this.len=len,this.isOverflowing=isOverflowing,this.parts=parts,this.containsForeignElements=containsForeignElements,this.tabSize=tabSize,this.containsRTL=containsRTL,this.spaceWidth=spaceWidth,this.renderWhitespace=renderWhitespace,this.renderControlCharacters=renderControlCharacters}return ResolvedRenderLineInput2}();function resolveRenderLineInput(input){var useMonospaceOptimizations=input.useMonospaceOptimizations,lineContent=input.lineContent,isOverflowing,len;input.stopRenderingLineAfter!==-1&&input.stopRenderingLineAfter<lineContent.length?(isOverflowing=!0,len=input.stopRenderingLineAfter):(isOverflowing=!1,len=lineContent.length);var tokens=transformAndRemoveOverflowing(input.lineTokens,input.fauxIndentLength,len);(input.renderWhitespace===3||input.renderWhitespace===1||input.renderWhitespace===2&&input.selectionsOnLine)&&(tokens=_applyRenderWhitespace(lineContent,len,input.continuesWithWrappedLine,tokens,input.fauxIndentLength,input.tabSize,useMonospaceOptimizations,input.selectionsOnLine,input.renderWhitespace===1));var containsForeignElements=0;if(input.lineDecorations.length>0){for(var i=0,len_1=input.lineDecorations.length;i<len_1;i++){var lineDecoration=input.lineDecorations[i];lineDecoration.type===3||lineDecoration.type===1?containsForeignElements|=1:lineDecoration.type===2&&(containsForeignElements|=2)}tokens=_applyInlineDecorations(lineContent,len,tokens,input.lineDecorations)}return input.containsRTL||(tokens=splitLargeTokens(lineContent,tokens,!input.isBasicASCII||input.fontLigatures)),new ResolvedRenderLineInput(useMonospaceOptimizations,input.canUseHalfwidthRightwardsArrow,lineContent,len,isOverflowing,tokens,containsForeignElements,input.tabSize,input.containsRTL,input.spaceWidth,input.renderWhitespace,input.renderControlCharacters)}function transformAndRemoveOverflowing(tokens,fauxIndentLength,len){var result=[],resultLen=0;fauxIndentLength>0&&(result[resultLen++]=new LinePart(fauxIndentLength,""));for(var tokenIndex=0,tokensLen=tokens.getCount();tokenIndex<tokensLen;tokenIndex++){var endIndex=tokens.getEndOffset(tokenIndex);if(!(endIndex<=fauxIndentLength)){var type=tokens.getClassName(tokenIndex);if(endIndex>=len){result[resultLen++]=new LinePart(len,type);break}result[resultLen++]=new LinePart(endIndex,type)}}return result}function splitLargeTokens(lineContent,tokens,onlyAtSpaces){var lastTokenEndIndex=0,result=[],resultLen=0;if(onlyAtSpaces)for(var i=0,len=tokens.length;i<len;i++){var token=tokens[i],tokenEndIndex=token.endIndex;if(lastTokenEndIndex+50<tokenEndIndex){for(var tokenType=token.type,lastSpaceOffset=-1,currTokenStart=lastTokenEndIndex,j=lastTokenEndIndex;j<tokenEndIndex;j++)lineContent.charCodeAt(j)===32&&(lastSpaceOffset=j),lastSpaceOffset!==-1&&j-currTokenStart>=50&&(result[resultLen++]=new LinePart(lastSpaceOffset+1,tokenType),currTokenStart=lastSpaceOffset+1,lastSpaceOffset=-1);currTokenStart!==tokenEndIndex&&(result[resultLen++]=new LinePart(tokenEndIndex,tokenType))}else result[resultLen++]=token;lastTokenEndIndex=tokenEndIndex}else for(var i=0,len=tokens.length;i<len;i++){var token=tokens[i],tokenEndIndex=token.endIndex,diff=tokenEndIndex-lastTokenEndIndex;if(diff>50){for(var tokenType=token.type,piecesCount=Math.ceil(diff/50),j=1;j<piecesCount;j++){var pieceEndIndex=lastTokenEndIndex+j*50;result[resultLen++]=new LinePart(pieceEndIndex,tokenType)}result[resultLen++]=new LinePart(tokenEndIndex,tokenType)}else result[resultLen++]=token;lastTokenEndIndex=tokenEndIndex}return result}function _applyRenderWhitespace(lineContent,len,continuesWithWrappedLine,tokens,fauxIndentLength,tabSize,useMonospaceOptimizations,selections,onlyBoundary){var result=[],resultLen=0,tokenIndex=0,tokenType=tokens[tokenIndex].type,tokenEndIndex=tokens[tokenIndex].endIndex,tokensLength=tokens.length,firstNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.q(lineContent),lastNonWhitespaceIndex;firstNonWhitespaceIndex===-1?(firstNonWhitespaceIndex=len,lastNonWhitespaceIndex=len):lastNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.E(lineContent);for(var tmpIndent=0,charIndex=0;charIndex<fauxIndentLength;charIndex++){var chCode=lineContent.charCodeAt(charIndex);chCode===9?tmpIndent=tabSize:_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.z(chCode)?tmpIndent+=2:tmpIndent++}tmpIndent=tmpIndent%tabSize;for(var wasInWhitespace=!1,currentSelectionIndex=0,currentSelection=selections&&selections[currentSelectionIndex],charIndex=fauxIndentLength;charIndex<len;charIndex++){var chCode=lineContent.charCodeAt(charIndex);currentSelection&&charIndex>=currentSelection.endOffset&&(currentSelectionIndex++,currentSelection=selections&&selections[currentSelectionIndex]);var isInWhitespace=void 0;if(charIndex<firstNonWhitespaceIndex||charIndex>lastNonWhitespaceIndex)isInWhitespace=!0;else if(chCode===9)isInWhitespace=!0;else if(chCode===32)if(onlyBoundary)if(wasInWhitespace)isInWhitespace=!0;else{var nextChCode=charIndex+1<len?lineContent.charCodeAt(charIndex+1):0;isInWhitespace=nextChCode===32||nextChCode===9}else isInWhitespace=!0;else isInWhitespace=!1;isInWhitespace&&selections&&(isInWhitespace=!!currentSelection&&currentSelection.startOffset<=charIndex&&currentSelection.endOffset>charIndex),wasInWhitespace?(!isInWhitespace||!useMonospaceOptimizations&&tmpIndent>=tabSize)&&(result[resultLen++]=new LinePart(charIndex,"vs-whitespace"),tmpIndent=tmpIndent%tabSize):(charIndex===tokenEndIndex||isInWhitespace&&charIndex>fauxIndentLength)&&(result[resultLen++]=new LinePart(charIndex,tokenType),tmpIndent=tmpIndent%tabSize),chCode===9?tmpIndent=tabSize:_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.z(chCode)?tmpIndent+=2:tmpIndent++,wasInWhitespace=isInWhitespace,charIndex===tokenEndIndex&&(tokenIndex++,tokenIndex<tokensLength&&(tokenType=tokens[tokenIndex].type,tokenEndIndex=tokens[tokenIndex].endIndex))}var generateWhitespace=!1;if(wasInWhitespace)if(continuesWithWrappedLine&&onlyBoundary){var lastCharCode=len>0?lineContent.charCodeAt(len-1):0,prevCharCode=len>1?lineContent.charCodeAt(len-2):0,isSingleTrailingSpace=lastCharCode===32&&prevCharCode!==32&&prevCharCode!==9;isSingleTrailingSpace||(generateWhitespace=!0)}else generateWhitespace=!0;return result[resultLen++]=new LinePart(len,generateWhitespace?"vs-whitespace":tokenType),result}function _applyInlineDecorations(lineContent,len,tokens,_lineDecorations){_lineDecorations.sort(_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__.a.compare);for(var lineDecorations=_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__.b.normalize(lineContent,_lineDecorations),lineDecorationsLen=lineDecorations.length,lineDecorationIndex=0,result=[],resultLen=0,lastResultEndIndex=0,tokenIndex=0,len_2=tokens.length;tokenIndex<len_2;tokenIndex++){for(var token=tokens[tokenIndex],tokenEndIndex=token.endIndex,tokenType=token.type;lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset<tokenEndIndex;){var lineDecoration=lineDecorations[lineDecorationIndex];if(lineDecoration.startOffset>lastResultEndIndex&&(lastResultEndIndex=lineDecoration.startOffset,result[resultLen++]=new LinePart(lastResultEndIndex,tokenType)),lineDecoration.endOffset+1<=tokenEndIndex)lastResultEndIndex=lineDecoration.endOffset+1,result[resultLen++]=new LinePart(lastResultEndIndex,tokenType+" "+lineDecoration.className),lineDecorationIndex++;else{lastResultEndIndex=tokenEndIndex,result[resultLen++]=new LinePart(lastResultEndIndex,tokenType+" "+lineDecoration.className);break}}tokenEndIndex>lastResultEndIndex&&(lastResultEndIndex=tokenEndIndex,result[resultLen++]=new LinePart(lastResultEndIndex,tokenType))}var lastTokenEndIndex=tokens[tokens.length-1].endIndex;if(lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset===lastTokenEndIndex){for(var classNames=[];lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset===lastTokenEndIndex;)classNames.push(lineDecorations[lineDecorationIndex].className),lineDecorationIndex++;result[resultLen++]=new LinePart(lastResultEndIndex,classNames.join(" "))}return result}function _renderLine(input,sb){var fontIsMonospace=input.fontIsMonospace,canUseHalfwidthRightwardsArrow=input.canUseHalfwidthRightwardsArrow,containsForeignElements=input.containsForeignElements,lineContent=input.lineContent,len=input.len,isOverflowing=input.isOverflowing,parts=input.parts,tabSize=input.tabSize,containsRTL=input.containsRTL,spaceWidth=input.spaceWidth,renderWhitespace=input.renderWhitespace,renderControlCharacters=input.renderControlCharacters,characterMapping=new CharacterMapping(len+1,parts.length),charIndex=0,tabsCharDelta=0,charOffsetInPart=0,prevPartContentCnt=0,partAbsoluteOffset=0;sb.appendASCIIString("<span>");for(var partIndex=0,tokensLen=parts.length;partIndex<tokensLen;partIndex++){partAbsoluteOffset+=prevPartContentCnt;var part=parts[partIndex],partEndIndex=part.endIndex,partType=part.type,partRendersWhitespace=renderWhitespace!==0&&partType.indexOf("vs-whitespace")>=0;if(charOffsetInPart=0,sb.appendASCIIString('<span class="'),sb.appendASCIIString(partType),sb.appendASCII(34),partRendersWhitespace){for(var partContentCnt=0,_charIndex=charIndex,_tabsCharDelta=tabsCharDelta;_charIndex<partEndIndex;_charIndex++){var charCode=lineContent.charCodeAt(_charIndex);if(charCode===9){var insertSpacesCount=tabSize-(_charIndex+_tabsCharDelta)%tabSize;_tabsCharDelta+=insertSpacesCount-1,partContentCnt+=insertSpacesCount}else partContentCnt++}if(!fontIsMonospace){var partIsOnlyWhitespace=partType==="vs-whitespace";(partIsOnlyWhitespace||!containsForeignElements)&&(sb.appendASCIIString(' style="display:inline-block;width:'),sb.appendASCIIString(String(spaceWidth*partContentCnt)),sb.appendASCIIString('px"'))}for(sb.appendASCII(62);charIndex<partEndIndex;charIndex++){characterMapping.setPartData(charIndex,partIndex,charOffsetInPart,partAbsoluteOffset);var charCode=lineContent.charCodeAt(charIndex);if(charCode===9){var insertSpacesCount=tabSize-(charIndex+tabsCharDelta)%tabSize;for(tabsCharDelta+=insertSpacesCount-1,charOffsetInPart+=insertSpacesCount-1,insertSpacesCount>0&&(!canUseHalfwidthRightwardsArrow||insertSpacesCount>1?sb.write1(8594):sb.write1(65515),insertSpacesCount--);insertSpacesCount>0;)sb.write1(160),insertSpacesCount--}else sb.write1(183);charOffsetInPart++}prevPartContentCnt=partContentCnt}else{var partContentCnt=0;for(containsRTL&&sb.appendASCIIString(' dir="ltr"'),sb.appendASCII(62);charIndex<partEndIndex;charIndex++){characterMapping.setPartData(charIndex,partIndex,charOffsetInPart,partAbsoluteOffset);var charCode=lineContent.charCodeAt(charIndex);switch(charCode){case 9:var insertSpacesCount=tabSize-(charIndex+tabsCharDelta)%tabSize;for(tabsCharDelta+=insertSpacesCount-1,charOffsetInPart+=insertSpacesCount-1;insertSpacesCount>0;)sb.write1(160),partContentCnt++,insertSpacesCount--;break;case 32:sb.write1(160),partContentCnt++;break;case 60:sb.appendASCIIString("&lt;"),partContentCnt++;break;case 62:sb.appendASCIIString("&gt;"),partContentCnt++;break;case 38:sb.appendASCIIString("&amp;"),partContentCnt++;break;case 0:sb.appendASCIIString("&#00;"),partContentCnt++;break;case 65279:case 8232:sb.write1(65533),partContentCnt++;break;default:_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.z(charCode)&&tabsCharDelta++,renderControlCharacters&&charCode<32?(sb.write1(9216+charCode),partContentCnt++):(sb.write1(charCode),partContentCnt++)}charOffsetInPart++}prevPartContentCnt=partContentCnt}sb.appendASCIIString("</span>")}return characterMapping.setPartData(len,parts.length-1,charOffsetInPart,partAbsoluteOffset),isOverflowing&&sb.appendASCIIString("<span>&hellip;</span>"),sb.appendASCIIString("</span>"),new RenderLineOutput(characterMapping,containsRTL,containsForeignElements)}},3378:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ServiceCollection});var ServiceCollection=function(){function ServiceCollection2(){for(var entries=[],_i=0;_i<arguments.length;_i++)entries[_i]=arguments[_i];this._entries=new Map;for(var _a=0,entries_1=entries;_a<entries_1.length;_a++){var _b=entries_1[_a],id=_b[0],service=_b[1];this.set(id,service)}}return ServiceCollection2.prototype.set=function(id,instanceOrDescriptor){var result=this._entries.get(id);return this._entries.set(id,instanceOrDescriptor),result},ServiceCollection2.prototype.has=function(id){return this._entries.has(id)},ServiceCollection2.prototype.get=function(id){return this._entries.get(id)},ServiceCollection2}()},3379:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Range});var Range;(function(Range2){function intersect(one,other){if(one.start>=other.end||other.start>=one.end)return{start:0,end:0};var start=Math.max(one.start,other.start),end=Math.min(one.end,other.end);return end-start<=0?{start:0,end:0}:{start,end}}Range2.intersect=intersect;function isEmpty(range){return range.end-range.start<=0}Range2.isEmpty=isEmpty;function intersects(one,other){return!isEmpty(intersect(one,other))}Range2.intersects=intersects;function relativeComplement(one,other){var result=[],first={start:one.start,end:Math.min(other.start,one.end)},second={start:Math.max(other.end,one.start),end:one.end};return isEmpty(first)||result.push(first),isEmpty(second)||result.push(second),result}Range2.relativeComplement=relativeComplement})(Range||(Range={}))},3380:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return OneReference}),__webpack_require__.d(__webpack_exports__,"a",function(){return FileReferences}),__webpack_require__.d(__webpack_exports__,"c",function(){return ReferencesModel});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2785),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2033),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2123),_base_common_idGenerator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3506),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2056),OneReference=function(){function OneReference2(isProviderFirst,parent,_range,_rangeCallback){this.isProviderFirst=isProviderFirst,this.parent=parent,this._range=_range,this._rangeCallback=_rangeCallback,this.id=_base_common_idGenerator_js__WEBPACK_IMPORTED_MODULE_5__.b.nextId()}return Object.defineProperty(OneReference2.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(OneReference2.prototype,"range",{get:function(){return this._range},set:function(value){this._range=value,this._rangeCallback(this)},enumerable:!0,configurable:!0}),Object.defineProperty(OneReference2.prototype,"ariaMessage",{get:function(){return Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.uri),this.range.startLineNumber,this.range.startColumn)},enumerable:!0,configurable:!0}),OneReference2}(),FilePreview=function(){function FilePreview2(_modelReference){this._modelReference=_modelReference}return FilePreview2.prototype.dispose=function(){this._modelReference.dispose()},FilePreview2.prototype.preview=function(range,n){n===void 0&&(n=8);var model=this._modelReference.object.textEditorModel;if(model){var startLineNumber=range.startLineNumber,startColumn=range.startColumn,endLineNumber=range.endLineNumber,endColumn=range.endColumn,word=model.getWordUntilPosition({lineNumber:startLineNumber,column:startColumn-n}),beforeRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,word.startColumn,startLineNumber,startColumn),afterRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(endLineNumber,endColumn,endLineNumber,1073741824),before=model.getValueInRange(beforeRange).replace(/^\s+/,""),inside=model.getValueInRange(range),after=model.getValueInRange(afterRange).replace(/\s+$/,"");return{value:before+inside+after,highlight:{start:before.length,end:before.length+inside.length}}}},FilePreview2}(),FileReferences=function(){function FileReferences2(parent,uri){this.parent=parent,this.uri=uri,this.children=[]}return FileReferences2.prototype.dispose=function(){Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.f)(this._preview),this._preview=void 0},Object.defineProperty(FileReferences2.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(FileReferences2.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),Object.defineProperty(FileReferences2.prototype,"ariaMessage",{get:function(){var len=this.children.length;return len===1?Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.uri),this.uri.fsPath):Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",len,Object(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.uri),this.uri.fsPath)},enumerable:!0,configurable:!0}),FileReferences2.prototype.resolve=function(textModelResolverService){var _this=this;return this._resolved?Promise.resolve(this):Promise.resolve(textModelResolverService.createModelReference(this.uri).then(function(modelReference){var model=modelReference.object;if(!model)throw modelReference.dispose(),new Error;return _this._preview=new FilePreview(modelReference),_this._resolved=!0,_this},function(err){return _this.children.length=0,_this._resolved=!0,_this._loadFailure=err,_this}))},FileReferences2}(),ReferencesModel=function(){function ReferencesModel2(links,title){var _this=this;this._disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=links,this._title=title;var providersFirst=links[0];links.sort(ReferencesModel2._compareReferences);for(var current,_i=0,links_1=links;_i<links_1.length;_i++){var link=links_1[_i];if((!current||current.uri.toString()!==link.uri.toString())&&(current=new FileReferences(this,link.uri),this.groups.push(current)),current.children.length===0||!_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.equalsRange(link.range,current.children[current.children.length-1].range)){var oneRef=new OneReference(providersFirst===link,current,link.targetSelectionRange||link.range,function(ref){return _this._onDidChangeReferenceRange.fire(ref)});this.references.push(oneRef),current.children.push(oneRef)}}}return ReferencesModel2.prototype.dispose=function(){Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.f)(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0},ReferencesModel2.prototype.clone=function(){return new ReferencesModel2(this._links,this._title)},Object.defineProperty(ReferencesModel2.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(ReferencesModel2.prototype,"isEmpty",{get:function(){return this.groups.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(ReferencesModel2.prototype,"ariaMessage",{get:function(){return this.isEmpty?Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.result.0","No results found"):this.references.length===1?Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},enumerable:!0,configurable:!0}),ReferencesModel2.prototype.nextOrPreviousReference=function(reference,next){var parent=reference.parent,idx=parent.children.indexOf(reference),childCount=parent.children.length,groupCount=parent.parent.groups.length;return groupCount===1||next&&idx+1<childCount||!next&&idx>0?(next?idx=(idx+1)%childCount:idx=(idx+childCount-1)%childCount,parent.children[idx]):(idx=parent.parent.groups.indexOf(parent),next?(idx=(idx+1)%groupCount,parent.parent.groups[idx].children[0]):(idx=(idx+groupCount-1)%groupCount,parent.parent.groups[idx].children[parent.parent.groups[idx].children.length-1]))},ReferencesModel2.prototype.nearestReference=function(resource,position){var nearest=this.references.map(function(ref,idx){return{idx,prefixLen:_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.c(ref.uri.toString(),resource.toString()),offsetDist:Math.abs(ref.range.startLineNumber-position.lineNumber)*100+Math.abs(ref.range.startColumn-position.column)}}).sort(function(a,b){return a.prefixLen>b.prefixLen?-1:a.prefixLen<b.prefixLen?1:a.offsetDist<b.offsetDist?-1:a.offsetDist>b.offsetDist?1:0})[0];if(nearest)return this.references[nearest.idx]},ReferencesModel2.prototype.referenceAt=function(resource,position){for(var _i=0,_a=this.references;_i<_a.length;_i++){var ref=_a[_i];if(ref.uri.toString()===resource.toString()&&_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.containsPosition(ref.range,position))return ref}},ReferencesModel2.prototype.firstReference=function(){for(var _i=0,_a=this.references;_i<_a.length;_i++){var ref=_a[_i];if(ref.isProviderFirst)return ref}return this.references[0]},ReferencesModel2._compareReferences=function(a,b){return _base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.e(a.uri.toString(),b.uri.toString())||_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts(a.range,b.range)},ReferencesModel2}()},3381:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ILabelService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),LABEL_SERVICE_ID="label",ILabelService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)(LABEL_SERVICE_ID)},3382:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Context}),__webpack_require__.d(__webpack_exports__,"a",function(){return CompletionOptions}),__webpack_require__.d(__webpack_exports__,"c",function(){return getSnippetSuggestSupport}),__webpack_require__.d(__webpack_exports__,"e",function(){return provideSuggestionItems}),__webpack_require__.d(__webpack_exports__,"d",function(){return getSuggestionComparator}),__webpack_require__.d(__webpack_exports__,"f",function(){return showSimpleSuggestions});var _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2237),_base_common_objects_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2734),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2176),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2099),_common_modes_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2240),_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2233),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2238),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2649),_common_core_range_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2056),_base_common_filters_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3168),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2033),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},Context={Visible:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.d("suggestWidgetVisible",!1),MultipleSuggestions:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.d("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.d("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.d("acceptSuggestionOnEnter",!0)},CompletionItem=function(){function CompletionItem2(position,completion,container,provider,model){this.position=position,this.completion=completion,this.container=container,this.provider=provider,this.score=_base_common_filters_js__WEBPACK_IMPORTED_MODULE_9__.a.Default,this.distance=0,this.labelLow=completion.label.toLowerCase(),this.sortTextLow=completion.sortText&&completion.sortText.toLowerCase(),this.filterTextLow=completion.filterText&&completion.filterText.toLowerCase(),_common_core_range_js__WEBPACK_IMPORTED_MODULE_8__.a.isIRange(completion.range)?(this.editStart=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(completion.range.startLineNumber,completion.range.startColumn),this.editInsertEnd=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(completion.range.endLineNumber,completion.range.endColumn),this.editReplaceEnd=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(completion.range.endLineNumber,completion.range.endColumn)):(this.editStart=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(completion.range.insert.startLineNumber,completion.range.insert.startColumn),this.editInsertEnd=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(completion.range.insert.endLineNumber,completion.range.insert.endColumn),this.editReplaceEnd=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(completion.range.replace.endLineNumber,completion.range.replace.endColumn));var resolveCompletionItem=provider.resolveCompletionItem;if(typeof resolveCompletionItem!="function")this.resolve=function(){return Promise.resolve()};else{var cached_1;this.resolve=function(token){if(!cached_1){var isDone_1=!1;cached_1=Promise.resolve(resolveCompletionItem.call(provider,model,position,completion,token)).then(function(value){Object(_base_common_objects_js__WEBPACK_IMPORTED_MODULE_1__.a)(completion,value),isDone_1=!0},function(err){Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.d)(err)&&(cached_1=void 0)}),token.onCancellationRequested(function(){isDone_1||(cached_1=void 0)})}return cached_1}}}return CompletionItem2}(),CompletionOptions=function(){function CompletionOptions2(snippetSortOrder,kindFilter,providerFilter){snippetSortOrder===void 0&&(snippetSortOrder=2),kindFilter===void 0&&(kindFilter=new Set),providerFilter===void 0&&(providerFilter=new Set),this.snippetSortOrder=snippetSortOrder,this.kindFilter=kindFilter,this.providerFilter=providerFilter}return CompletionOptions2.default=new CompletionOptions2,CompletionOptions2}(),_snippetSuggestSupport;function getSnippetSuggestSupport(){return _snippetSuggestSupport}function provideSuggestionItems(model,position,options,context,token){options===void 0&&(options=CompletionOptions.default),context===void 0&&(context={triggerKind:0}),token===void 0&&(token=_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_7__.a.None);var word=model.getWordAtPosition(position),defaultReplaceRange=word?new _common_core_range_js__WEBPACK_IMPORTED_MODULE_8__.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn):_common_core_range_js__WEBPACK_IMPORTED_MODULE_8__.a.fromPositions(position),defaultInsertRange=defaultReplaceRange.setEndPosition(position.lineNumber,position.column);position=position.clone();var supports=_common_modes_js__WEBPACK_IMPORTED_MODULE_4__.d.orderedGroups(model);!options.kindFilter.has(25)&&_snippetSuggestSupport&&supports.unshift([_snippetSuggestSupport]);var allSuggestions=[],disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.b,hasResult=!1,factory=supports.map(function(supports2){return function(){return Promise.all(supports2.map(function(provider){if(!(options.providerFilter.size>0&&!options.providerFilter.has(provider)))return Promise.resolve(provider.provideCompletionItems(model,position,context,token)).then(function(container){var len=allSuggestions.length;if(container){for(var _i=0,_a=container.suggestions||[];_i<_a.length;_i++){var suggestion=_a[_i];options.kindFilter.has(suggestion.kind)||(suggestion.range||(suggestion.range={insert:defaultInsertRange,replace:defaultReplaceRange}),suggestion.sortText||(suggestion.sortText=suggestion.label),allSuggestions.push(new CompletionItem(position,suggestion,container,provider,model)))}Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.g)(container)&&disposables.add(container)}len!==allSuggestions.length&&provider!==_snippetSuggestSupport&&(hasResult=!0)},_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.f)}))}}),result=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_0__.h)(factory,function(){return hasResult||token.isCancellationRequested}).then(function(){return token.isCancellationRequested?(disposables.dispose(),Promise.reject(Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.a)())):allSuggestions.sort(getSuggestionComparator(options.snippetSortOrder))});return result}function defaultComparator(a,b){if(a.sortTextLow&&b.sortTextLow){if(a.sortTextLow<b.sortTextLow)return-1;if(a.sortTextLow>b.sortTextLow)return 1}return a.completion.label<b.completion.label?-1:a.completion.label>b.completion.label?1:a.completion.kind-b.completion.kind}function snippetUpComparator(a,b){if(a.completion.kind!==b.completion.kind){if(a.completion.kind===25)return-1;if(b.completion.kind===25)return 1}return defaultComparator(a,b)}function snippetDownComparator(a,b){if(a.completion.kind!==b.completion.kind){if(a.completion.kind===25)return 1;if(b.completion.kind===25)return-1}return defaultComparator(a,b)}var _snippetComparators=new Map;_snippetComparators.set(0,snippetUpComparator),_snippetComparators.set(2,snippetDownComparator),_snippetComparators.set(1,defaultComparator);function getSuggestionComparator(snippetConfig){return _snippetComparators.get(snippetConfig)}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.e)("_executeCompletionItemProvider",function(model,position,args){return __awaiter(void 0,void 0,void 0,function(){var result,disposables,resolving,maxItemsToResolve,items,_i,items_1,item;return __generator(this,function(_a){switch(_a.label){case 0:return result={incomplete:!1,suggestions:[]},disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.b,resolving=[],maxItemsToResolve=args.maxItemsToResolve||0,[4,provideSuggestionItems(model,position)];case 1:for(items=_a.sent(),_i=0,items_1=items;_i<items_1.length;_i++)item=items_1[_i],resolving.length<maxItemsToResolve&&resolving.push(item.resolve(_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_7__.a.None)),result.incomplete=result.incomplete||item.container.incomplete,result.suggestions.push(item.completion),Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.g)(item.container)&&disposables.add(item.container);_a.label=2;case 2:return _a.trys.push([2,,4,5]),[4,Promise.all(resolving)];case 3:return _a.sent(),[2,result];case 4:return setTimeout(function(){return disposables.dispose()},100),[7];case 5:return[2]}})})});var _provider=new(function(){function class_1(){this.onlyOnceSuggestions=[]}return class_1.prototype.provideCompletionItems=function(){var suggestions=this.onlyOnceSuggestions.slice(0),result={suggestions};return this.onlyOnceSuggestions.length=0,result},class_1}());_common_modes_js__WEBPACK_IMPORTED_MODULE_4__.d.register("*",_provider);function showSimpleSuggestions(editor,suggestions){setTimeout(function(){var _a;(_a=_provider.onlyOnceSuggestions).push.apply(_a,suggestions),editor.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(_provider))},0)}},3383:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ModesRegistry}),__webpack_require__.d(__webpack_exports__,"c",function(){return PLAINTEXT_MODE_ID}),__webpack_require__.d(__webpack_exports__,"b",function(){return PLAINTEXT_LANGUAGE_IDENTIFIER});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),_modes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2240),_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2810),_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2818),Extensions={ModesRegistry:"editor.modesRegistry"},EditorModesRegistry=function(){function EditorModesRegistry2(){this._onDidChangeLanguages=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}return EditorModesRegistry2.prototype.registerLanguage=function(def){this._languages.push(def),this._onDidChangeLanguages.fire(void 0)},EditorModesRegistry2.prototype.getLanguages=function(){return[].concat(this._languages).concat(this._dynamicLanguages)},EditorModesRegistry2}(),ModesRegistry=new EditorModesRegistry;_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_4__.a.add(Extensions.ModesRegistry,ModesRegistry);var PLAINTEXT_MODE_ID="plaintext",PLAINTEXT_LANGUAGE_IDENTIFIER=new _modes_js__WEBPACK_IMPORTED_MODULE_2__.p(PLAINTEXT_MODE_ID,1);ModesRegistry.registerLanguage({id:PLAINTEXT_MODE_ID,extensions:[".txt",".gitignore"],aliases:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]}),_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_3__.a.register(PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}})},3411:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return markdownRenderer_MarkdownRenderer});var dom=__webpack_require__(2124),formattedTextRenderer=__webpack_require__(3488),errors=__webpack_require__(2176),htmlContent=__webpack_require__(3241),idGenerator=__webpack_require__(3506),__marked_exports;(function(root){"use strict";var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:noop,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};block._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,block._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex(),block.bullet=/(?:[*+-]|\d{1,9}\.)/,block.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,block.item=edit(block.item,"gm").replace(/bull/g,block.bullet).getRegex(),block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex(),block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",block._comment=/<!--(?!-?>)[\s\S]*?-->/,block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),block.paragraph=edit(block.paragraph).replace("hr",block.hr).replace("heading",block.heading).replace("lheading",block.lheading).replace("tag",block._tag).getRegex(),block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex(),block.normal=merge({},block),block.gfm=merge({},block.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),block.gfm.paragraph=edit(block.paragraph).replace("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|").getRegex(),block.tables=merge({},block.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),block.pedantic=merge({},block.normal,{html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/});function Lexer2(options){this.tokens=[],this.tokens.links=Object.create(null),this.options=options||marked2.defaults,this.rules=block.normal,this.options.pedantic?this.rules=block.pedantic:this.options.gfm&&(this.options.tables?this.rules=block.tables:this.rules=block.gfm)}Lexer2.rules=block,Lexer2.lex=function(src,options){var lexer2=new Lexer2(options);return lexer2.lex(src)},Lexer2.prototype.lex=function(src){return src=src.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(src,!0)},Lexer2.prototype.token=function(src,top){src=src.replace(/^ +$/gm,"");for(var next,loose,cap,bull,b,item,listStart,listItems,t,space,i,tag,l,isordered,istask,ischecked;src;){if((cap=this.rules.newline.exec(src))&&(src=src.substring(cap[0].length),cap[0].length>1&&this.tokens.push({type:"space"})),cap=this.rules.code.exec(src)){src=src.substring(cap[0].length),cap=cap[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?cap:rtrim(cap,`
`)});continue}if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length),this.tokens.push({type:"code",lang:cap[2]?cap[2].trim():cap[2],text:cap[3]||""});continue}if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if((cap=this.rules.nptable.exec(src))&&(item={type:"table",header:splitCells(cap[1].replace(/^ *| *\| *$/g,"")),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3]?cap[3].replace(/\n$/,"").split(`
`):[]},item.header.length===item.align.length)){for(src=src.substring(cap[0].length),i=0;i<item.align.length;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(i=0;i<item.cells.length;i++)item.cells[i]=splitCells(item.cells[i],item.header.length);this.tokens.push(item);continue}if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length),this.tokens.push({type:"hr"});continue}if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length),this.tokens.push({type:"blockquote_start"}),cap=cap[0].replace(/^ *> ?/gm,""),this.token(cap,top),this.tokens.push({type:"blockquote_end"});continue}if(cap=this.rules.list.exec(src)){for(src=src.substring(cap[0].length),bull=cap[2],isordered=bull.length>1,listStart={type:"list_start",ordered:isordered,start:isordered?+bull:"",loose:!1},this.tokens.push(listStart),cap=cap[0].match(this.rules.item),listItems=[],next=!1,l=cap.length,i=0;i<l;i++)item=cap[i],space=item.length,item=item.replace(/^ *([*+-]|\d+\.) */,""),~item.indexOf(`
 `)&&(space-=item.length,item=this.options.pedantic?item.replace(/^ {1,4}/gm,""):item.replace(new RegExp("^ {1,"+space+"}","gm"),"")),i!==l-1&&(b=block.bullet.exec(cap[i+1])[0],(bull.length>1?b.length===1:b.length>1||this.options.smartLists&&b!==bull)&&(src=cap.slice(i+1).join(`
`)+src,i=l-1)),loose=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next=item.charAt(item.length-1)===`
`,loose||(loose=next)),loose&&(listStart.loose=!0),istask=/^\[[ xX]\] /.test(item),ischecked=void 0,istask&&(ischecked=item[1]!==" ",item=item.replace(/^\[[ xX]\] +/,"")),t={type:"list_item_start",task:istask,checked:ischecked,loose},listItems.push(t),this.tokens.push(t),this.token(item,!1),this.tokens.push({type:"list_item_end"});if(listStart.loose)for(l=listItems.length,i=0;i<l;i++)listItems[i].loose=!0;this.tokens.push({type:"list_end"});continue}if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(cap[1]==="pre"||cap[1]==="script"||cap[1]==="style"),text:cap[0]});continue}if(top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length),cap[3]&&(cap[3]=cap[3].substring(1,cap[3].length-1)),tag=cap[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[tag]||(this.tokens.links[tag]={href:cap[2],title:cap[3]});continue}if((cap=this.rules.table.exec(src))&&(item={type:"table",header:splitCells(cap[1].replace(/^ *| *\| *$/g,"")),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3]?cap[3].replace(/\n$/,"").split(`
`):[]},item.header.length===item.align.length)){for(src=src.substring(cap[0].length),i=0;i<item.align.length;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(i=0;i<item.cells.length;i++)item.cells[i]=splitCells(item.cells[i].replace(/^ *\| *| *\| *$/g,""),item.header.length);this.tokens.push(item);continue}if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:cap[2]==="="?1:2,text:cap[1]});continue}if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length),this.tokens.push({type:"paragraph",text:cap[1].charAt(cap[1].length-1)===`
`?cap[1].slice(0,-1):cap[1]});continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length),this.tokens.push({type:"text",text:cap[0]});continue}if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}return this.tokens};var inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noop,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noop,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};inline._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`,inline.em=edit(inline.em).replace(/punctuation/g,inline._punctuation).getRegex(),inline._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex(),inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,inline.tag=edit(inline.tag).replace("comment",block._comment).replace("attribute",inline._attribute).getRegex(),inline._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,inline._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex(),inline.reflink=edit(inline.reflink).replace("label",inline._label).getRegex(),inline.normal=merge({},inline),inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()}),inline.gfm=merge({},inline.normal,{escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex(),inline.breaks=merge({},inline.gfm,{br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace(/\{2,\}/g,"*").getRegex()});function InlineLexer2(links,options){if(this.options=options||marked2.defaults,this.links=links,this.rules=inline.normal,this.renderer=this.options.renderer||new Renderer2,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=inline.pedantic:this.options.gfm&&(this.options.breaks?this.rules=inline.breaks:this.rules=inline.gfm)}InlineLexer2.rules=inline,InlineLexer2.output=function(src,links,options){var inline2=new InlineLexer2(links,options);return inline2.output(src)},InlineLexer2.prototype.output=function(src){for(var out="",link,text,href,title,cap,prevCapZero;src;){if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length),out+=escape(cap[1]);continue}if(cap=this.rules.tag.exec(src)){!this.inLink&&/^<a /i.test(cap[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(cap[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])&&(this.inRawBlock=!1),src=src.substring(cap[0].length),out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];continue}if(cap=this.rules.link.exec(src)){var lastParenIndex=findClosingBracket(cap[2],"()");if(lastParenIndex>-1){var linkLen=cap[0].length-(cap[2].length-lastParenIndex)-(cap[3]||"").length;cap[2]=cap[2].substring(0,lastParenIndex),cap[0]=cap[0].substring(0,linkLen).trim(),cap[3]=""}src=src.substring(cap[0].length),this.inLink=!0,href=cap[2],this.options.pedantic?(link=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href),link?(href=link[1],title=link[3]):title=""):title=cap[3]?cap[3].slice(1,-1):"",href=href.trim().replace(/^<([\s\S]*)>$/,"$1"),out+=this.outputLink(cap,{href:InlineLexer2.escapes(href),title:InlineLexer2.escapes(title)}),this.inLink=!1;continue}if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){if(src=src.substring(cap[0].length),link=(cap[2]||cap[1]).replace(/\s+/g," "),link=this.links[link.toLowerCase()],!link||!link.href){out+=cap[0].charAt(0),src=cap[0].substring(1)+src;continue}this.inLink=!0,out+=this.outputLink(cap,link),this.inLink=!1;continue}if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length),out+=this.renderer.strong(this.output(cap[4]||cap[3]||cap[2]||cap[1]));continue}if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length),out+=this.renderer.em(this.output(cap[6]||cap[5]||cap[4]||cap[3]||cap[2]||cap[1]));continue}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length),out+=this.renderer.codespan(escape(cap[2].trim(),!0));continue}if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length),out+=this.renderer.br();continue}if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length),out+=this.renderer.del(this.output(cap[1]));continue}if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length),cap[2]==="@"?(text=escape(this.mangle(cap[1])),href="mailto:"+text):(text=escape(cap[1]),href=text),out+=this.renderer.link(href,null,text);continue}if(!this.inLink&&(cap=this.rules.url.exec(src))){if(cap[2]==="@")text=escape(cap[0]),href="mailto:"+text;else{do prevCapZero=cap[0],cap[0]=this.rules._backpedal.exec(cap[0])[0];while(prevCapZero!==cap[0]);text=escape(cap[0]),cap[1]==="www."?href="http://"+text:href=text}src=src.substring(cap[0].length),out+=this.renderer.link(href,null,text);continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length),this.inRawBlock?out+=this.renderer.text(cap[0]):out+=this.renderer.text(escape(this.smartypants(cap[0])));continue}if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}return out},InlineLexer2.escapes=function(text){return text&&text.replace(InlineLexer2.rules._escapes,"$1")},InlineLexer2.prototype.outputLink=function(cap,link){var href=link.href,title=link.title?escape(link.title):null;return cap[0].charAt(0)!=="!"?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))},InlineLexer2.prototype.smartypants=function(text){return this.options.smartypants?text.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):text},InlineLexer2.prototype.mangle=function(text){if(!this.options.mangle)return text;for(var out="",l=text.length,i=0,ch;i<l;i++)ch=text.charCodeAt(i),Math.random()>.5&&(ch="x"+ch.toString(16)),out+="&#"+ch+";";return out};function Renderer2(options){this.options=options||marked2.defaults}Renderer2.prototype.code=function(code,infostring,escaped){var lang=(infostring||"").match(/\S*/)[0];if(this.options.highlight){var out=this.options.highlight(code,lang);out!=null&&out!==code&&(escaped=!0,code=out)}return lang?'<pre><code class="'+this.options.langPrefix+escape(lang,!0)+'">'+(escaped?code:escape(code,!0))+`</code></pre>
`:"<pre><code>"+(escaped?code:escape(code,!0))+"</code></pre>"},Renderer2.prototype.blockquote=function(quote){return`<blockquote>
`+quote+`</blockquote>
`},Renderer2.prototype.html=function(html){return html},Renderer2.prototype.heading=function(text,level,raw,slugger){return this.options.headerIds?"<h"+level+' id="'+this.options.headerPrefix+slugger.slug(raw)+'">'+text+"</h"+level+`>
`:"<h"+level+">"+text+"</h"+level+`>
`},Renderer2.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Renderer2.prototype.list=function(body,ordered,start){var type=ordered?"ol":"ul",startatt=ordered&&start!==1?' start="'+start+'"':"";return"<"+type+startatt+`>
`+body+"</"+type+`>
`},Renderer2.prototype.listitem=function(text){return"<li>"+text+`</li>
`},Renderer2.prototype.checkbox=function(checked){return"<input "+(checked?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Renderer2.prototype.paragraph=function(text){return"<p>"+text+`</p>
`},Renderer2.prototype.table=function(header,body){return body&&(body="<tbody>"+body+"</tbody>"),`<table>
<thead>
`+header+`</thead>
`+body+`</table>
`},Renderer2.prototype.tablerow=function(content){return`<tr>
`+content+`</tr>
`},Renderer2.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td",tag=flags.align?"<"+type+' align="'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+`>
`},Renderer2.prototype.strong=function(text){return"<strong>"+text+"</strong>"},Renderer2.prototype.em=function(text){return"<em>"+text+"</em>"},Renderer2.prototype.codespan=function(text){return"<code>"+text+"</code>"},Renderer2.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},Renderer2.prototype.del=function(text){return"<del>"+text+"</del>"},Renderer2.prototype.link=function(href,title,text){if(href=cleanUrl(this.options.sanitize,this.options.baseUrl,href),href===null)return text;var out='<a href="'+escape(href)+'"';return title&&(out+=' title="'+title+'"'),out+=">"+text+"</a>",out},Renderer2.prototype.image=function(href,title,text){if(href=cleanUrl(this.options.sanitize,this.options.baseUrl,href),href===null)return text;var out='<img src="'+href+'" alt="'+text+'"';return title&&(out+=' title="'+title+'"'),out+=this.options.xhtml?"/>":">",out},Renderer2.prototype.text=function(text){return text};function TextRenderer2(){}TextRenderer2.prototype.strong=TextRenderer2.prototype.em=TextRenderer2.prototype.codespan=TextRenderer2.prototype.del=TextRenderer2.prototype.text=function(text){return text},TextRenderer2.prototype.link=TextRenderer2.prototype.image=function(href,title,text){return""+text},TextRenderer2.prototype.br=function(){return""};function Parser2(options){this.tokens=[],this.token=null,this.options=options||marked2.defaults,this.options.renderer=this.options.renderer||new Renderer2,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new Slugger}Parser2.parse=function(src,options){var parser2=new Parser2(options);return parser2.parse(src)},Parser2.prototype.parse=function(src){this.inline=new InlineLexer2(src.links,this.options),this.inlineText=new InlineLexer2(src.links,merge({},this.options,{renderer:new TextRenderer2})),this.tokens=src.reverse();for(var out="";this.next();)out+=this.tok();return out},Parser2.prototype.next=function(){return this.token=this.tokens.pop()},Parser2.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser2.prototype.parseText=function(){for(var body=this.token.text;this.peek().type==="text";)body+=`
`+this.next().text;return this.inline.output(body)},Parser2.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,unescape(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{var header="",body="",i,row,cell,j;for(cell="",i=0;i<this.token.header.length;i++)cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:!0,align:this.token.align[i]});for(header+=this.renderer.tablerow(cell),i=0;i<this.token.cells.length;i++){for(row=this.token.cells[i],cell="",j=0;j<row.length;j++)cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:!1,align:this.token.align[j]});body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{for(body="";this.next().type!=="blockquote_end";)body+=this.tok();return this.renderer.blockquote(body)}case"list_start":{body="";for(var ordered=this.token.ordered,start=this.token.start;this.next().type!=="list_end";)body+=this.tok();return this.renderer.list(body,ordered,start)}case"list_item_start":{body="";var loose=this.token.loose,checked=this.token.checked,task=this.token.task;for(this.token.task&&(body+=this.renderer.checkbox(checked));this.next().type!=="list_item_end";)body+=!loose&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(body,task,checked)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{var errMsg='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(errMsg);else throw new Error(errMsg)}}};function Slugger(){this.seen={}}Slugger.prototype.slug=function(value){var slug=value.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(slug)){var originalSlug=slug;do this.seen[originalSlug]++,slug=originalSlug+"-"+this.seen[originalSlug];while(this.seen.hasOwnProperty(slug))}return this.seen[slug]=0,slug};function escape(html,encode){if(encode){if(escape.escapeTest.test(html))return html.replace(escape.escapeReplace,function(ch){return escape.replacements[ch]})}else if(escape.escapeTestNoEncode.test(html))return html.replace(escape.escapeReplaceNoEncode,function(ch){return escape.replacements[ch]});return html}escape.escapeTest=/[&<>"']/,escape.escapeReplace=/[&<>"']/g,escape.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},escape.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,escape.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;function unescape(html){return html.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(_,n){return n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""})}function edit(regex,opt){return regex=regex.source||regex,opt=opt||"",{replace:function(name,val){return val=val.source||val,val=val.replace(/(^|[^\[])\^/g,"$1"),regex=regex.replace(name,val),this},getRegex:function(){return new RegExp(regex,opt)}}}function cleanUrl(sanitize,base,href){if(sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,"").toLowerCase()}catch{return null}if(prot.indexOf("javascript:")===0||prot.indexOf("vbscript:")===0||prot.indexOf("data:")===0)return null}base&&!originIndependentUrl.test(href)&&(href=resolveUrl(base,href));try{href=encodeURI(href).replace(/%25/g,"%")}catch{return null}return href}function resolveUrl(base,href){return baseUrls[" "+base]||(/^[^:]+:\/*[^/]*$/.test(base)?baseUrls[" "+base]=base+"/":baseUrls[" "+base]=rtrim(base,"/",!0)),base=baseUrls[" "+base],href.slice(0,2)==="//"?base.replace(/:[\s\S]*/,":")+href:href.charAt(0)==="/"?base.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+href:base+href}var baseUrls={},originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function noop(){}noop.exec=noop;function merge(obj){for(var i=1,target,key;i<arguments.length;i++){target=arguments[i];for(key in target)Object.prototype.hasOwnProperty.call(target,key)&&(obj[key]=target[key])}return obj}function splitCells(tableRow,count){var row=tableRow.replace(/\|/g,function(match,offset,str){for(var escaped=!1,curr=offset;--curr>=0&&str[curr]==="\\";)escaped=!escaped;return escaped?"|":" |"}),cells=row.split(/ \|/),i=0;if(cells.length>count)cells.splice(count);else for(;cells.length<count;)cells.push("");for(;i<cells.length;i++)cells[i]=cells[i].trim().replace(/\\\|/g,"|");return cells}function rtrim(str,c,invert){if(str.length===0)return"";for(var suffLen=0;suffLen<str.length;){var currChar=str.charAt(str.length-suffLen-1);if(currChar===c&&!invert)suffLen++;else if(currChar!==c&&invert)suffLen++;else break}return str.substr(0,str.length-suffLen)}function findClosingBracket(str,b){if(str.indexOf(b[1])===-1)return-1;for(var level=0,i=0;i<str.length;i++)if(str[i]==="\\")i++;else if(str[i]===b[0])level++;else if(str[i]===b[1]&&(level--,level<0))return i;return-1}function marked2(src,opt,callback){if(typeof src>"u"||src===null)throw new Error("marked(): input parameter is undefined or null");if(typeof src!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(src)+", string expected");if(callback||typeof opt=="function"){callback||(callback=opt,opt=null),opt=merge({},marked2.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer2.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err)return opt.highlight=highlight,callback(err);var out;try{out=Parser2.parse(tokens,opt)}catch(e){err=e}return opt.highlight=highlight,err?callback(err):callback(null,out)};if(!highlight||highlight.length<3||(delete opt.highlight,!pending))return done();for(;i<tokens.length;i++)(function(token){return token.type!=="code"?--pending||done():highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(code==null||code===token.text)return--pending||done();token.text=code,token.escaped=!0,--pending||done()})})(tokens[i]);return}try{return opt&&(opt=merge({},marked2.defaults,opt)),Parser2.parse(Lexer2.lex(src,opt),opt)}catch(e){if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,(opt||marked2.defaults).silent)return"<p>An error occurred:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}}marked2.options=marked2.setOptions=function(opt){return merge(marked2.defaults,opt),marked2},marked2.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new Renderer2,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},marked2.defaults=marked2.getDefaults(),marked2.Parser=Parser2,marked2.parser=Parser2.parse,marked2.Renderer=Renderer2,marked2.TextRenderer=TextRenderer2,marked2.Lexer=Lexer2,marked2.lexer=Lexer2.lex,marked2.InlineLexer=InlineLexer2,marked2.inlineLexer=InlineLexer2.output,marked2.Slugger=Slugger,marked2.parse=marked2,__marked_exports=marked2}).call(void 0);var marked=__marked_exports,Parser=__marked_exports.Parser,parser=__marked_exports.parser,Renderer=__marked_exports.Renderer,TextRenderer=__marked_exports.TextRenderer,Lexer=__marked_exports.Lexer,lexer=__marked_exports.lexer,InlineLexer=__marked_exports.InlineLexer,inlineLexer=__marked_exports.inlineLexer,parse=__marked_exports.parse,require,require;let __insane_func;(function(){function r(e,n,t){function o(i2,f){if(!n[i2]){if(!e[i2]){var c=typeof require=="function"&&require;if(!f&&c)return require(i2,!0);if(u)return u(i2,!0);var a=new Error("Cannot find module '"+i2+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i2]={exports:{}};e[i2][0].call(p.exports,function(r2){var n2=e[i2][1][r2];return o(n2||r2)},p,p.exports,r,e,n,t)}return n[i2].exports}for(var u=typeof require=="function"&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require2,module2,exports){"use strict";var toMap=require2("./toMap"),uris=["background","base","cite","href","longdesc","src","usemap"];module2.exports={uris:toMap(uris)}},{"./toMap":10}],2:[function(require2,module2,exports){"use strict";var defaults={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};module2.exports=defaults},{}],3:[function(require2,module2,exports){"use strict";var toMap=require2("./toMap"),voids=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];module2.exports={voids:toMap(voids)}},{"./toMap":10}],4:[function(require2,module2,exports){"use strict";var he=require2("he"),assign=require2("assignment"),parser2=require2("./parser"),sanitizer=require2("./sanitizer"),defaults=require2("./defaults");function insane2(html,options,strict){var buffer=[],configuration=strict===!0?options:assign({},defaults,options),handler=sanitizer(buffer,configuration);return parser2(html,handler),buffer.join("")}insane2.defaults=defaults,module2.exports=insane2,__insane_func=insane2},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(require2,module2,exports){"use strict";module2.exports=function(string){return typeof string=="string"?string.toLowerCase():string}},{}],6:[function(require2,module2,exports){"use strict";function assignment(result){for(var stack=Array.prototype.slice.call(arguments,1),item,key;stack.length;){item=stack.shift();for(key in item)item.hasOwnProperty(key)&&(Object.prototype.toString.call(result[key])==="[object Object]"?result[key]=assignment(result[key],item[key]):result[key]=item[key])}return result}module2.exports=assignment},{}],7:[function(require2,module2,exports){"use strict";var he=require2("he"),lowercase=require2("./lowercase"),attributes=require2("./attributes"),elements=require2("./elements"),rstart=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,rend=/^<\s*\/\s*([\w:-]+)[^>]*>/,rattrs=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,rtag=/^</,rtagend=/^<\s*\//;function createStack(){var stack=[];return stack.lastItem=function(){return stack[stack.length-1]},stack}function parser2(html,handler){for(var stack=createStack(),last=html,chars;html;)parsePart();parseEndTag();function parsePart(){chars=!0,parseTag();var same=html===last;last=html,same&&(html="")}function parseTag(){html.substr(0,4)==="<!--"?parseComment():rtagend.test(html)?parseEdge(rend,parseEndTag):rtag.test(html)&&parseEdge(rstart,parseStartTag),parseTagDecode()}function parseEdge(regex,parser3){var match=html.match(regex);match&&(html=html.substring(match[0].length),match[0].replace(regex,parser3),chars=!1)}function parseComment(){var index=html.indexOf("-->");index>=0&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1)}function parseTagDecode(){if(chars){var text,index=html.indexOf("<");index>=0?(text=html.substring(0,index),html=html.substring(index)):(text=html,html=""),handler.chars&&handler.chars(text)}}function parseStartTag(tag,tagName,rest,unary){var attrs={},low=lowercase(tagName),u=elements.voids[low]||!!unary;rest.replace(rattrs,attrReplacer),u||stack.push(low),handler.start&&handler.start(low,attrs,u);function attrReplacer(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){doubleQuotedValue===void 0&&singleQuotedValue===void 0&&unquotedValue===void 0?attrs[name]=void 0:attrs[name]=he.decode(doubleQuotedValue||singleQuotedValue||unquotedValue||"")}}function parseEndTag(tag,tagName){var i,pos=0,low=lowercase(tagName);if(low)for(pos=stack.length-1;pos>=0&&stack[pos]!==low;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}}module2.exports=parser2},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(require2,module2,exports){"use strict";var he=require2("he"),lowercase=require2("./lowercase"),attributes=require2("./attributes"),elements=require2("./elements");function sanitizer(buffer,options){var last,context,o=options||{};return reset(),{start,end,chars};function out(value){buffer.push(value)}function start(tag,attrs,unary){var low=lowercase(tag);if(context.ignoring){ignore(low);return}if((o.allowedTags||[]).indexOf(low)===-1){ignore(low);return}if(o.filter&&!o.filter({tag:low,attrs})){ignore(low);return}out("<"),out(low),Object.keys(attrs).forEach(parse2),out(unary?"/>":">");function parse2(key){var value=attrs[key],classesOk=(o.allowedClasses||{})[low]||[],attrsOk=(o.allowedAttributes||{})[low]||[];attrsOk=attrsOk.concat((o.allowedAttributes||{})["*"]||[]);var valid,lkey=lowercase(key);lkey==="class"&&attrsOk.indexOf(lkey)===-1?(value=value.split(" ").filter(isValidClass).join(" ").trim(),valid=value.length):valid=attrsOk.indexOf(lkey)!==-1&&(attributes.uris[lkey]!==!0||testUrl(value)),valid&&(out(" "),out(key),typeof value=="string"&&(out('="'),out(he.encode(value)),out('"')));function isValidClass(className){return classesOk&&classesOk.indexOf(className)!==-1}}}function end(tag){var low=lowercase(tag),allowed=(o.allowedTags||[]).indexOf(low)!==-1;allowed&&context.ignoring===!1?(out("</"),out(low),out(">")):unignore(low)}function testUrl(text){var start2=text[0];if(start2==="#"||start2==="/")return!0;var colon=text.indexOf(":");if(colon===-1)return!0;var questionmark=text.indexOf("?");if(questionmark!==-1&&colon>questionmark)return!0;var hash=text.indexOf("#");if(hash!==-1&&colon>hash)return!0;return o.allowedSchemes.some(matches);function matches(scheme){return text.indexOf(scheme+":")===0}}function chars(text){context.ignoring===!1&&out(o.transformText?o.transformText(text):text)}function ignore(tag){elements.voids[tag]||(context.ignoring===!1?context={ignoring:tag,depth:1}:context.ignoring===tag&&context.depth++)}function unignore(tag){context.ignoring===tag&&--context.depth<=0&&reset()}function reset(){context={ignoring:!1,depth:0}}}module2.exports=sanitizer},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(require2,module2,exports){"use strict";var escapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},unescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rescaped=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,runescaped=/[&<>"']/g;function escapeHtmlChar(match){return escapes[match]}function unescapeHtmlChar(match){return unescapes[match]}function escapeHtml(text){return text==null?"":String(text).replace(runescaped,escapeHtmlChar)}function unescapeHtml(html){return html==null?"":String(html).replace(rescaped,unescapeHtmlChar)}escapeHtml.options=unescapeHtml.options={},module2.exports={encode:escapeHtml,escape:escapeHtml,decode:unescapeHtml,unescape:unescapeHtml,version:"1.0.0-browser"}},{}],10:[function(require2,module2,exports){"use strict";function toMap(list){return list.reduce(asKey,{})}function asKey(accumulator,item){return accumulator[item]=!0,accumulator}module2.exports=toMap},{}]},{},[4]);var insane=__insane_func,marshalling=__webpack_require__(3883),objects=__webpack_require__(2734),strings=__webpack_require__(2123),common_uri=__webpack_require__(2640),network=__webpack_require__(2814);function renderMarkdown(markdown,options){options===void 0&&(options={});var element=Object(formattedTextRenderer.a)(options),_uriMassage=function(part){var data;try{data=Object(marshalling.a)(decodeURIComponent(part))}catch{}return data?(data=Object(objects.b)(data,function(value){if(markdown.uris&&markdown.uris[value])return common_uri.a.revive(markdown.uris[value])}),encodeURIComponent(JSON.stringify(data))):part},_href=function(href,isDomUri){var data=markdown.uris&&markdown.uris[href];if(!data)return href;var uri=common_uri.a.revive(data);return common_uri.a.parse(href).toString()===uri.toString()?href:(isDomUri&&(uri=dom.s(uri)),uri.query&&(uri=uri.with({query:_uriMassage(uri.query)})),uri.toString(!0))},signalInnerHTML,withInnerHTML=new Promise(function(c){return signalInnerHTML=c}),renderer=new Renderer;renderer.image=function(href,title,text){var _a,dimensions=[],attributes=[];return href&&(_a=Object(htmlContent.d)(href),href=_a.href,dimensions=_a.dimensions,href=_href(href,!0),attributes.push('src="'+href+'"')),text&&attributes.push('alt="'+text+'"'),title&&attributes.push('title="'+title+'"'),dimensions.length&&(attributes=attributes.concat(dimensions)),"<img "+attributes.join(" ")+">"},renderer.link=function(href,title,text){return href===text&&(text=Object(htmlContent.e)(text)),href=_href(href,!1),title=Object(htmlContent.e)(title),href=Object(htmlContent.e)(href),!href||href.match(/^data:|javascript:/i)||href.match(/^command:/i)&&!markdown.isTrusted||href.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?text:(href=href.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="#" data-href="'+href+'" title="'+(title||href)+'">'+text+"</a>")},renderer.paragraph=function(text){return"<p>"+text+"</p>"},options.codeBlockRenderer&&(renderer.code=function(code,lang){var value=options.codeBlockRenderer(lang,code),id=idGenerator.b.nextId(),promise=Promise.all([value,withInnerHTML]).then(function(values){var strValue=values[0],span=element.querySelector('div[data-code="'+id+'"]');span&&(span.innerHTML=strValue)}).catch(function(err){});return options.codeBlockRenderCallback&&promise.then(options.codeBlockRenderCallback),'<div class="code" data-code="'+id+'">'+Object(strings.o)(code)+"</div>"});var actionHandler=options.actionHandler;actionHandler&&actionHandler.disposeables.add(dom.o(element,"click",function(event){var target=event.target;if(!(target.tagName!=="A"&&(target=target.parentElement,!target||target.tagName!=="A")))try{var href=target.dataset.href;href&&actionHandler.callback(href,event)}catch(err){Object(errors.e)(err)}finally{event.preventDefault()}}));var markedOptions={sanitize:!0,renderer},allowedSchemes=[network.b.http,network.b.https,network.b.mailto,network.b.data,network.b.file,network.b.vscodeRemote,network.b.vscodeRemoteResource];markdown.isTrusted&&allowedSchemes.push(network.b.command);var renderedMarkdown=parse(markdown.value,markedOptions);return element.innerHTML=insane(renderedMarkdown,{allowedSchemes,allowedAttributes:{a:["href","name","target","data-href"],iframe:["allowfullscreen","frameborder","src"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class"]}}),signalInnerHTML(),element}var common_opener=__webpack_require__(2850),modeService=__webpack_require__(3198),textToHtmlTokenizer=__webpack_require__(3879),instantiation=__webpack_require__(2232),common_event=__webpack_require__(2106),lifecycle=__webpack_require__(2033),modes=__webpack_require__(2240),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},markdownRenderer_MarkdownRenderer=function(_super){__extends(MarkdownRenderer,_super);function MarkdownRenderer(_editor,_modeService,_openerService){_openerService===void 0&&(_openerService=common_opener.b);var _this=_super.call(this)||this;return _this._editor=_editor,_this._modeService=_modeService,_this._openerService=_openerService,_this._onDidRenderCodeBlock=_this._register(new common_event.a),_this.onDidRenderCodeBlock=_this._onDidRenderCodeBlock.event,_this}return MarkdownRenderer.prototype.getOptions=function(disposeables){var _this=this;return{codeBlockRenderer:function(languageAlias,value){var modeId=null;if(languageAlias)modeId=_this._modeService.getModeIdForLanguageName(languageAlias);else{var model=_this._editor.getModel();model&&(modeId=model.getLanguageIdentifier().language)}return _this._modeService.triggerMode(modeId||""),Promise.resolve(!0).then(function(_){var promise=modes.A.getPromise(modeId||"");return promise?promise.then(function(support){return Object(textToHtmlTokenizer.b)(value,support)}):Object(textToHtmlTokenizer.b)(value,void 0)}).then(function(code){return'<span style="font-family: '+_this._editor.getOption(32).fontFamily+'">'+code+"</span>"})},codeBlockRenderCallback:function(){return _this._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(content){_this._openerService.open(content,{fromUserGesture:!0}).catch(errors.e)},disposeables}}},MarkdownRenderer.prototype.render=function(markdown){var disposeables=new lifecycle.b,element;return markdown?element=renderMarkdown(markdown,this.getOptions(disposeables)):element=document.createElement("span"),{element,dispose:function(){return disposeables.dispose()}}},MarkdownRenderer=__decorate([__param(1,modeService.a),__param(2,Object(instantiation.d)(common_opener.a))],MarkdownRenderer),MarkdownRenderer}(lifecycle.a)},3412:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IPeekViewService}),__webpack_require__.d(__webpack_exports__,"b",function(){return peekView_PeekContext}),__webpack_require__.d(__webpack_exports__,"d",function(){return getOuterEditor}),__webpack_require__.d(__webpack_exports__,"c",function(){return peekView_PeekViewWidget}),__webpack_require__.d(__webpack_exports__,"p",function(){return peekViewTitleBackground}),__webpack_require__.d(__webpack_exports__,"q",function(){return peekViewTitleForeground}),__webpack_require__.d(__webpack_exports__,"r",function(){return peekViewTitleInfoForeground}),__webpack_require__.d(__webpack_exports__,"e",function(){return peekViewBorder}),__webpack_require__.d(__webpack_exports__,"j",function(){return peekViewResultsBackground}),__webpack_require__.d(__webpack_exports__,"l",function(){return peekViewResultsMatchForeground}),__webpack_require__.d(__webpack_exports__,"k",function(){return peekViewResultsFileForeground}),__webpack_require__.d(__webpack_exports__,"n",function(){return peekViewResultsSelectionBackground}),__webpack_require__.d(__webpack_exports__,"o",function(){return peekViewResultsSelectionForeground}),__webpack_require__.d(__webpack_exports__,"f",function(){return peekViewEditorBackground}),__webpack_require__.d(__webpack_exports__,"g",function(){return peekViewEditorGutterBackground}),__webpack_require__.d(__webpack_exports__,"m",function(){return peekViewResultsMatchHighlight}),__webpack_require__.d(__webpack_exports__,"h",function(){return peekViewEditorMatchHighlight}),__webpack_require__.d(__webpack_exports__,"i",function(){return peekViewEditorMatchHighlightBorder});var peekViewWidget=__webpack_require__(5761),dom=__webpack_require__(2124),actionbar=__webpack_require__(3239),actions=__webpack_require__(3113),color=__webpack_require__(2663),common_event=__webpack_require__(2106),objects=__webpack_require__(2734),strings=__webpack_require__(2123),codeEditorService=__webpack_require__(2732),embeddedCodeEditorWidget=__webpack_require__(3876),zoneWidget=__webpack_require__(5778),sash=__webpack_require__(3375),idGenerator=__webpack_require__(3506),lifecycle=__webpack_require__(2033),core_range=__webpack_require__(2056),textModel=__webpack_require__(2720),defaultColor=new color.a(new color.c(0,122,204)),defaultOptions={showArrow:!0,showFrame:!0,className:"",frameColor:defaultColor,arrowColor:defaultColor,keepEditorSelection:!1},WIDGET_ID="vs.editor.contrib.zoneWidget",ViewZoneDelegate=function(){function ViewZoneDelegate2(domNode,afterLineNumber,afterColumn,heightInLines,onDomNodeTop,onComputedHeight){this.id="",this.domNode=domNode,this.afterLineNumber=afterLineNumber,this.afterColumn=afterColumn,this.heightInLines=heightInLines,this._onDomNodeTop=onDomNodeTop,this._onComputedHeight=onComputedHeight}return ViewZoneDelegate2.prototype.onDomNodeTop=function(top){this._onDomNodeTop(top)},ViewZoneDelegate2.prototype.onComputedHeight=function(height){this._onComputedHeight(height)},ViewZoneDelegate2}(),OverlayWidgetDelegate=function(){function OverlayWidgetDelegate2(id,domNode){this._id=id,this._domNode=domNode}return OverlayWidgetDelegate2.prototype.getId=function(){return this._id},OverlayWidgetDelegate2.prototype.getDomNode=function(){return this._domNode},OverlayWidgetDelegate2.prototype.getPosition=function(){return null},OverlayWidgetDelegate2}(),zoneWidget_Arrow=function(){function Arrow(_editor){this._editor=_editor,this._ruleName=Arrow._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}return Arrow.prototype.dispose=function(){this.hide(),dom.L(this._ruleName)},Object.defineProperty(Arrow.prototype,"color",{set:function(value){this._color!==value&&(this._color=value,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(Arrow.prototype,"height",{set:function(value){this._height!==value&&(this._height=value,this._updateStyle())},enumerable:!0,configurable:!0}),Arrow.prototype._updateStyle=function(){dom.L(this._ruleName),dom.v(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},Arrow.prototype.show=function(where){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:core_range.a.fromPositions(where),options:{className:this._ruleName,stickiness:1}}])},Arrow.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},Arrow._IdGenerator=new idGenerator.a(".arrow-decoration-"),Arrow}(),zoneWidget_ZoneWidget=function(){function ZoneWidget(editor,options){var _this=this;options===void 0&&(options={}),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new lifecycle.b,this.container=null,this._isShowing=!1,this.editor=editor,this.options=objects.c(options),objects.g(this.options,defaultOptions,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(function(info){var width=_this._getWidth(info);_this.domNode.style.width=width+"px",_this.domNode.style.left=_this._getLeft(info)+"px",_this._onWidth(width)}))}return ZoneWidget.prototype.dispose=function(){var _this=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(accessor){_this._viewZone&&accessor.removeZone(_this._viewZone.id),_this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()},ZoneWidget.prototype.create=function(){dom.f(this.domNode,"zone-widget"),this.options.className&&dom.f(this.domNode,this.options.className),this.container=document.createElement("div"),dom.f(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new zoneWidget_Arrow(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},ZoneWidget.prototype.style=function(styles){styles.frameColor&&(this.options.frameColor=styles.frameColor),styles.arrowColor&&(this.options.arrowColor=styles.arrowColor),this._applyStyles()},ZoneWidget.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var frameColor=this.options.frameColor.toString();this.container.style.borderTopColor=frameColor,this.container.style.borderBottomColor=frameColor}if(this._arrow&&this.options.arrowColor){var arrowColor=this.options.arrowColor.toString();this._arrow.color=arrowColor}},ZoneWidget.prototype._getWidth=function(info){return info.width-info.minimapWidth-info.verticalScrollbarWidth},ZoneWidget.prototype._getLeft=function(info){return info.minimapWidth>0&&info.minimapLeft===0?info.minimapWidth:0},ZoneWidget.prototype._onViewZoneTop=function(top){this.domNode.style.top=top+"px"},ZoneWidget.prototype._onViewZoneHeight=function(height){if(this.domNode.style.height=height+"px",this.container){var containerHeight=height-this._decoratingElementsHeight();this.container.style.height=containerHeight+"px";var layoutInfo=this.editor.getLayoutInfo();this._doLayout(containerHeight,this._getWidth(layoutInfo))}this._resizeSash&&this._resizeSash.layout()},Object.defineProperty(ZoneWidget.prototype,"position",{get:function(){var id=this._positionMarkerId[0];if(id){var model=this.editor.getModel();if(model){var range=model.getDecorationRange(id);if(range)return range.getStartPosition()}}},enumerable:!0,configurable:!0}),ZoneWidget.prototype.show=function(rangeOrPos,heightInLines){var range=core_range.a.isIRange(rangeOrPos)?core_range.a.lift(rangeOrPos):core_range.a.fromPositions(rangeOrPos);this._isShowing=!0,this._showImpl(range,heightInLines),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range,options:textModel.a.EMPTY}])},ZoneWidget.prototype.hide=function(){var _this=this;this._viewZone&&(this.editor.changeViewZones(function(accessor){_this._viewZone&&accessor.removeZone(_this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},ZoneWidget.prototype._decoratingElementsHeight=function(){var lineHeight=this.editor.getOption(47),result=0;if(this.options.showArrow){var arrowHeight=Math.round(lineHeight/3);result+=2*arrowHeight}if(this.options.showFrame){var frameThickness=Math.round(lineHeight/9);result+=2*frameThickness}return result},ZoneWidget.prototype._showImpl=function(where,heightInLines){var _this=this,position=where.getStartPosition(),layoutInfo=this.editor.getLayoutInfo(),width=this._getWidth(layoutInfo);this.domNode.style.width=width+"px",this.domNode.style.left=this._getLeft(layoutInfo)+"px";var viewZoneDomNode=document.createElement("div");viewZoneDomNode.style.overflow="hidden";var lineHeight=this.editor.getOption(47),maxHeightInLines=this.editor.getLayoutInfo().height/lineHeight*.8;heightInLines>=maxHeightInLines&&(heightInLines=maxHeightInLines);var arrowHeight=0,frameThickness=0;if(this._arrow&&this.options.showArrow&&(arrowHeight=Math.round(lineHeight/3),this._arrow.height=arrowHeight,this._arrow.show(position)),this.options.showFrame&&(frameThickness=Math.round(lineHeight/9)),this.editor.changeViewZones(function(accessor){_this._viewZone&&accessor.removeZone(_this._viewZone.id),_this._overlayWidget&&(_this.editor.removeOverlayWidget(_this._overlayWidget),_this._overlayWidget=null),_this.domNode.style.top="-1000px",_this._viewZone=new ViewZoneDelegate(viewZoneDomNode,position.lineNumber,position.column,heightInLines,function(top){return _this._onViewZoneTop(top)},function(height){return _this._onViewZoneHeight(height)}),_this._viewZone.id=accessor.addZone(_this._viewZone),_this._overlayWidget=new OverlayWidgetDelegate(WIDGET_ID+_this._viewZone.id,_this.domNode),_this.editor.addOverlayWidget(_this._overlayWidget)}),this.container&&this.options.showFrame){var width_1=this.options.frameWidth?this.options.frameWidth:frameThickness;this.container.style.borderTopWidth=width_1+"px",this.container.style.borderBottomWidth=width_1+"px"}var containerHeight=heightInLines*lineHeight-this._decoratingElementsHeight();this.container&&(this.container.style.top=arrowHeight+"px",this.container.style.height=containerHeight+"px",this.container.style.overflow="hidden"),this._doLayout(containerHeight,width),this.options.keepEditorSelection||this.editor.setSelection(where);var model=this.editor.getModel();if(model){var revealLine=where.endLineNumber+1;revealLine<=model.getLineCount()?this.revealLine(revealLine,!1):this.revealLine(model.getLineCount(),!0)}},ZoneWidget.prototype.revealLine=function(lineNumber,isLastLine){isLastLine?this.editor.revealLineInCenter(lineNumber,0):this.editor.revealLine(lineNumber,0)},ZoneWidget.prototype.setCssClass=function(className,classToReplace){this.container&&(classToReplace&&this.container.classList.remove(classToReplace),dom.f(this.container,className))},ZoneWidget.prototype._onWidth=function(widthInPixel){},ZoneWidget.prototype._doLayout=function(heightInPixel,widthInPixel){},ZoneWidget.prototype._relayout=function(newHeightInLines){var _this=this;this._viewZone&&this._viewZone.heightInLines!==newHeightInLines&&this.editor.changeViewZones(function(accessor){_this._viewZone&&(_this._viewZone.heightInLines=newHeightInLines,accessor.layoutZone(_this._viewZone.id))})},ZoneWidget.prototype._initSash=function(){var _this=this;if(!this._resizeSash){this._resizeSash=this._disposables.add(new sash.a(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);var data;this._disposables.add(this._resizeSash.onDidStart(function(e){_this._viewZone&&(data={startY:e.startY,heightInLines:_this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(function(){data=void 0})),this._disposables.add(this._resizeSash.onDidChange(function(evt){if(data){var lineDelta=(evt.currentY-data.startY)/_this.editor.getOption(47),roundedLineDelta=lineDelta<0?Math.ceil(lineDelta):Math.floor(lineDelta),newHeightInLines=data.heightInLines+roundedLineDelta;newHeightInLines>5&&newHeightInLines<35&&_this._relayout(newHeightInLines)}}))}},ZoneWidget.prototype.getHorizontalSashLeft=function(){return 0},ZoneWidget.prototype.getHorizontalSashTop=function(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2},ZoneWidget.prototype.getHorizontalSashWidth=function(){var layoutInfo=this.editor.getLayoutInfo();return layoutInfo.width-layoutInfo.minimapWidth},ZoneWidget}(),nls=__webpack_require__(2069),contextkey=__webpack_require__(2238),instantiation=__webpack_require__(2232),extensions=__webpack_require__(3237),editorExtensions=__webpack_require__(2099),colorRegistry=__webpack_require__(2623),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},IPeekViewService=Object(instantiation.c)("IPeekViewService");Object(extensions.b)(IPeekViewService,function(){function class_1(){this._widgets=new Map}return class_1.prototype.addExclusiveWidget=function(editor,widget){var _this=this,existing=this._widgets.get(editor);existing&&(existing.listener.dispose(),existing.widget.dispose());var remove=function(){var data=_this._widgets.get(editor);data&&data.widget===widget&&(data.listener.dispose(),_this._widgets.delete(editor))};this._widgets.set(editor,{widget,listener:widget.onDidClose(remove)})},class_1}());var peekView_PeekContext;(function(PeekContext){PeekContext.inPeekEditor=new contextkey.d("inReferenceSearchEditor",!0),PeekContext.notInPeekEditor=PeekContext.inPeekEditor.toNegated()})(peekView_PeekContext||(peekView_PeekContext={}));var peekView_PeekContextController=function(){function PeekContextController(editor,contextKeyService){editor instanceof embeddedCodeEditorWidget.a&&peekView_PeekContext.inPeekEditor.bindTo(contextKeyService)}return PeekContextController.prototype.dispose=function(){},PeekContextController.ID="editor.contrib.referenceController",PeekContextController=__decorate([__param(1,contextkey.c)],PeekContextController),PeekContextController}();Object(editorExtensions.h)(peekView_PeekContextController.ID,peekView_PeekContextController);function getOuterEditor(accessor){var editor=accessor.get(codeEditorService.a).getFocusedCodeEditor();return editor instanceof embeddedCodeEditorWidget.a?editor.getParentEditor():editor}var peekView_defaultOptions={headerBackgroundColor:color.a.white,primaryHeadingColor:color.a.fromHex("#333333"),secondaryHeadingColor:color.a.fromHex("#6c6c6cb3")},peekView_PeekViewWidget=function(_super){__extends(PeekViewWidget,_super);function PeekViewWidget(editor,options){options===void 0&&(options={});var _this=_super.call(this,editor,options)||this;return _this._onDidClose=new common_event.a,_this.onDidClose=_this._onDidClose.event,objects.g(_this.options,peekView_defaultOptions,!1),_this}return PeekViewWidget.prototype.dispose=function(){_super.prototype.dispose.call(this),this._onDidClose.fire(this)},PeekViewWidget.prototype.style=function(styles){var options=this.options;styles.headerBackgroundColor&&(options.headerBackgroundColor=styles.headerBackgroundColor),styles.primaryHeadingColor&&(options.primaryHeadingColor=styles.primaryHeadingColor),styles.secondaryHeadingColor&&(options.secondaryHeadingColor=styles.secondaryHeadingColor),_super.prototype.style.call(this,styles)},PeekViewWidget.prototype._applyStyles=function(){_super.prototype._applyStyles.call(this);var options=this.options;this._headElement&&options.headerBackgroundColor&&(this._headElement.style.backgroundColor=options.headerBackgroundColor.toString()),this._primaryHeading&&options.primaryHeadingColor&&(this._primaryHeading.style.color=options.primaryHeadingColor.toString()),this._secondaryHeading&&options.secondaryHeadingColor&&(this._secondaryHeading.style.color=options.secondaryHeadingColor.toString()),this._bodyElement&&options.frameColor&&(this._bodyElement.style.borderColor=options.frameColor.toString())},PeekViewWidget.prototype._fillContainer=function(container){this.setCssClass("peekview-widget"),this._headElement=dom.a(".head"),this._bodyElement=dom.a(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),container.appendChild(this._headElement),container.appendChild(this._bodyElement)},PeekViewWidget.prototype._fillHead=function(container){var _this=this,titleElement=dom.a(".peekview-title");dom.q(this._headElement,titleElement),dom.o(titleElement,"click",function(event){return _this._onTitleClick(event)}),this._fillTitleIcon(titleElement),this._primaryHeading=dom.a("span.filename"),this._secondaryHeading=dom.a("span.dirname"),this._metaHeading=dom.a("span.meta"),dom.q(titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);var actionsContainer=dom.a(".peekview-actions");dom.q(this._headElement,actionsContainer);var actionBarOptions=this._getActionBarOptions();this._actionbarWidget=new actionbar.a(actionsContainer,actionBarOptions),this._disposables.add(this._actionbarWidget),this._actionbarWidget.push(new actions.a("peekview.close",nls.a("label.close","Close"),"codicon-close",!0,function(){return _this.dispose(),Promise.resolve()}),{label:!1,icon:!0})},PeekViewWidget.prototype._fillTitleIcon=function(container){},PeekViewWidget.prototype._getActionBarOptions=function(){return{}},PeekViewWidget.prototype._onTitleClick=function(event){},PeekViewWidget.prototype.setTitle=function(primaryHeading,secondaryHeading){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerHTML=strings.o(primaryHeading),this._primaryHeading.setAttribute("aria-label",primaryHeading),secondaryHeading?this._secondaryHeading.innerHTML=strings.o(secondaryHeading):dom.t(this._secondaryHeading))},PeekViewWidget.prototype.setMetaTitle=function(value){this._metaHeading&&(value?(this._metaHeading.innerHTML=strings.o(value),dom.U(this._metaHeading)):dom.H(this._metaHeading))},PeekViewWidget.prototype._doLayout=function(heightInPixel,widthInPixel){if(!this._isShowing&&heightInPixel<0){this.dispose();return}var headHeight=Math.ceil(this.editor.getOption(47)*1.2),bodyHeight=Math.round(heightInPixel-(headHeight+2));this._doLayoutHead(headHeight,widthInPixel),this._doLayoutBody(bodyHeight,widthInPixel)},PeekViewWidget.prototype._doLayoutHead=function(heightInPixel,widthInPixel){this._headElement&&(this._headElement.style.height=heightInPixel+"px",this._headElement.style.lineHeight=this._headElement.style.height)},PeekViewWidget.prototype._doLayoutBody=function(heightInPixel,widthInPixel){this._bodyElement&&(this._bodyElement.style.height=heightInPixel+"px")},PeekViewWidget}(zoneWidget_ZoneWidget),peekViewTitleBackground=Object(colorRegistry.Tb)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},nls.a("peekViewTitleBackground","Background color of the peek view title area.")),peekViewTitleForeground=Object(colorRegistry.Tb)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},nls.a("peekViewTitleForeground","Color of the peek view title.")),peekViewTitleInfoForeground=Object(colorRegistry.Tb)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},nls.a("peekViewTitleInfoForeground","Color of the peek view title info.")),peekViewBorder=Object(colorRegistry.Tb)("peekView.border",{dark:"#007acc",light:"#007acc",hc:colorRegistry.e},nls.a("peekViewBorder","Color of the peek view borders and arrow.")),peekViewResultsBackground=Object(colorRegistry.Tb)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:color.a.black},nls.a("peekViewResultsBackground","Background color of the peek view result list.")),peekViewResultsMatchForeground=Object(colorRegistry.Tb)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:color.a.white},nls.a("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),peekViewResultsFileForeground=Object(colorRegistry.Tb)("peekViewResult.fileForeground",{dark:color.a.white,light:"#1E1E1E",hc:color.a.white},nls.a("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),peekViewResultsSelectionBackground=Object(colorRegistry.Tb)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},nls.a("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),peekViewResultsSelectionForeground=Object(colorRegistry.Tb)("peekViewResult.selectionForeground",{dark:color.a.white,light:"#6C6C6C",hc:color.a.white},nls.a("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),peekViewEditorBackground=Object(colorRegistry.Tb)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:color.a.black},nls.a("peekViewEditorBackground","Background color of the peek view editor.")),peekViewEditorGutterBackground=Object(colorRegistry.Tb)("peekViewEditorGutter.background",{dark:peekViewEditorBackground,light:peekViewEditorBackground,hc:peekViewEditorBackground},nls.a("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),peekViewResultsMatchHighlight=Object(colorRegistry.Tb)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},nls.a("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),peekViewEditorMatchHighlight=Object(colorRegistry.Tb)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},nls.a("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),peekViewEditorMatchHighlightBorder=Object(colorRegistry.Tb)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:colorRegistry.b},nls.a("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},3488:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return renderText}),__webpack_require__.d(__webpack_exports__,"b",function(){return renderFormattedText}),__webpack_require__.d(__webpack_exports__,"a",function(){return createElement});var _dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2124);function renderText(text,options){options===void 0&&(options={});var element=createElement(options);return element.textContent=text,element}function renderFormattedText(formattedText,options){options===void 0&&(options={});var element=createElement(options);return _renderFormattedText(element,parseFormattedText(formattedText),options.actionHandler),element}function createElement(options){var tagName=options.inline?"span":"div",element=document.createElement(tagName);return options.className&&(element.className=options.className),element}var StringStream=function(){function StringStream2(source){this.source=source,this.index=0}return StringStream2.prototype.eos=function(){return this.index>=this.source.length},StringStream2.prototype.next=function(){var next=this.peek();return this.advance(),next},StringStream2.prototype.peek=function(){return this.source[this.index]},StringStream2.prototype.advance=function(){this.index++},StringStream2}();function _renderFormattedText(element,treeNode,actionHandler){var child;if(treeNode.type===2)child=document.createTextNode(treeNode.content||"");else if(treeNode.type===3)child=document.createElement("b");else if(treeNode.type===4)child=document.createElement("i");else if(treeNode.type===5&&actionHandler){var a=document.createElement("a");a.href="#",actionHandler.disposeables.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.o(a,"click",function(event){actionHandler.callback(String(treeNode.index),event)})),child=a}else treeNode.type===7?child=document.createElement("br"):treeNode.type===1&&(child=element);child&&element!==child&&element.appendChild(child),child&&Array.isArray(treeNode.children)&&treeNode.children.forEach(function(nodeChild){_renderFormattedText(child,nodeChild,actionHandler)})}function parseFormattedText(content){for(var root={type:1,children:[]},actionViewItemIndex=0,current=root,stack=[],stream=new StringStream(content);!stream.eos();){var next=stream.next(),isEscapedFormatType=next==="\\"&&formatTagType(stream.peek())!==0;if(isEscapedFormatType&&(next=stream.next()),!isEscapedFormatType&&isFormatTag(next)&&next===stream.peek()){stream.advance(),current.type===2&&(current=stack.pop());var type=formatTagType(next);if(current.type===type||current.type===5&&type===6)current=stack.pop();else{var newCurrent={type,children:[]};type===5&&(newCurrent.index=actionViewItemIndex,actionViewItemIndex++),current.children.push(newCurrent),stack.push(current),current=newCurrent}}else if(next===`
`)current.type===2&&(current=stack.pop()),current.children.push({type:7});else if(current.type!==2){var textCurrent={type:2,content:next};current.children.push(textCurrent),stack.push(current),current=textCurrent}else current.content+=next}return current.type===2&&(current=stack.pop()),stack.length,root}function isFormatTag(char){return formatTagType(char)!==0}function formatTagType(char){switch(char){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}},3489:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ok});function ok(value,message){if(!value)throw new Error(message?"Assertion failed ("+message+")":"Assertion Failed")}},3490:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return TabFocus}),__webpack_require__.d(__webpack_exports__,"a",function(){return CommonEditorConfiguration}),__webpack_require__.d(__webpack_exports__,"d",function(){return isEditorConfigurationKey}),__webpack_require__.d(__webpack_exports__,"c",function(){return isDiffEditorConfigurationKey});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2033),_base_common_objects_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2734),_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2389),_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2784),_editorZoom_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3367),_fontInfo_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3491),_platform_configuration_common_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3280),_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2818),_base_common_collections_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3281),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},TabFocus=new(function(){function class_1(){this._tabFocus=!1,this._onDidChangeTabFocus=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return class_1.prototype.getTabFocusMode=function(){return this._tabFocus},class_1.prototype.setTabFocusMode=function(tabFocusMode){this._tabFocus!==tabFocusMode&&(this._tabFocus=tabFocusMode,this._onDidChangeTabFocus.fire(this._tabFocus))},class_1}()),hasOwnProperty=Object.hasOwnProperty,ComputedEditorOptions=function(){function ComputedEditorOptions2(){this._values=[]}return ComputedEditorOptions2.prototype._read=function(id){return this._values[id]},ComputedEditorOptions2.prototype.get=function(id){return this._values[id]},ComputedEditorOptions2.prototype._write=function(id,value){this._values[id]=value},ComputedEditorOptions2}(),RawEditorOptions=function(){function RawEditorOptions2(){this._values=[]}return RawEditorOptions2.prototype._read=function(id){return this._values[id]},RawEditorOptions2.prototype._write=function(id,value){this._values[id]=value},RawEditorOptions2}(),EditorConfiguration2=function(){function EditorConfiguration22(){}return EditorConfiguration22.readOptions=function(_options){for(var options=_options,result=new RawEditorOptions,_i2=0,editorOptionsRegistry_2=_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.i;_i2<editorOptionsRegistry_2.length;_i2++){var editorOption2=editorOptionsRegistry_2[_i2],value=editorOption2.name==="_never_"?void 0:options[editorOption2.name];result._write(editorOption2.id,value)}return result},EditorConfiguration22.validateOptions=function(options){for(var result=new _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.h,_i2=0,editorOptionsRegistry_3=_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.i;_i2<editorOptionsRegistry_3.length;_i2++){var editorOption2=editorOptionsRegistry_3[_i2];result._write(editorOption2.id,editorOption2.validate(options._read(editorOption2.id)))}return result},EditorConfiguration22.computeOptions=function(options,env){for(var result=new ComputedEditorOptions,_i2=0,editorOptionsRegistry_4=_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.i;_i2<editorOptionsRegistry_4.length;_i2++){var editorOption2=editorOptionsRegistry_4[_i2];result._write(editorOption2.id,editorOption2.compute(env,result,options._read(editorOption2.id)))}return result},EditorConfiguration22._deepEquals=function(a,b){if(typeof a!="object"||typeof b!="object")return a===b;if(Array.isArray(a)||Array.isArray(b))return Array.isArray(a)&&Array.isArray(b)?_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.g(a,b):!1;for(var key2 in a)if(!EditorConfiguration22._deepEquals(a[key2],b[key2]))return!1;return!0},EditorConfiguration22.checkEquals=function(a,b){for(var result=[],somethingChanged=!1,_i2=0,editorOptionsRegistry_5=_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.i;_i2<editorOptionsRegistry_5.length;_i2++){var editorOption2=editorOptionsRegistry_5[_i2],changed=!EditorConfiguration22._deepEquals(a._read(editorOption2.id),b._read(editorOption2.id));result[editorOption2.id]=changed,changed&&(somethingChanged=!0)}return somethingChanged?new _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.a(result):null},EditorConfiguration22}();function migrateOptions(options){var wordWrap=options.wordWrap;wordWrap===!0?options.wordWrap="on":wordWrap===!1&&(options.wordWrap="off");var lineNumbers=options.lineNumbers;lineNumbers===!0?options.lineNumbers="on":lineNumbers===!1&&(options.lineNumbers="off");var autoClosingBrackets=options.autoClosingBrackets;autoClosingBrackets===!1&&(options.autoClosingBrackets="never",options.autoClosingQuotes="never",options.autoSurround="never");var cursorBlinking=options.cursorBlinking;cursorBlinking==="visible"&&(options.cursorBlinking="solid");var renderWhitespace=options.renderWhitespace;renderWhitespace===!0?options.renderWhitespace="boundary":renderWhitespace===!1&&(options.renderWhitespace="none");var renderLineHighlight=options.renderLineHighlight;renderLineHighlight===!0?options.renderLineHighlight="line":renderLineHighlight===!1&&(options.renderLineHighlight="none");var acceptSuggestionOnEnter=options.acceptSuggestionOnEnter;acceptSuggestionOnEnter===!0?options.acceptSuggestionOnEnter="on":acceptSuggestionOnEnter===!1&&(options.acceptSuggestionOnEnter="off");var tabCompletion=options.tabCompletion;tabCompletion===!1?options.tabCompletion="off":tabCompletion===!0&&(options.tabCompletion="onlySnippets");var suggest=options.suggest;if(suggest&&typeof suggest.filteredTypes=="object"&&suggest.filteredTypes){var mapping={};mapping.method="showMethods",mapping.function="showFunctions",mapping.constructor="showConstructors",mapping.field="showFields",mapping.variable="showVariables",mapping.class="showClasses",mapping.struct="showStructs",mapping.interface="showInterfaces",mapping.module="showModules",mapping.property="showProperties",mapping.event="showEvents",mapping.operator="showOperators",mapping.unit="showUnits",mapping.value="showValues",mapping.constant="showConstants",mapping.enum="showEnums",mapping.enumMember="showEnumMembers",mapping.keyword="showKeywords",mapping.text="showWords",mapping.color="showColors",mapping.file="showFiles",mapping.reference="showReferences",mapping.folder="showFolders",mapping.typeParameter="showTypeParameters",mapping.snippet="showSnippets",Object(_base_common_collections_js__WEBPACK_IMPORTED_MODULE_10__.c)(mapping,function(entry){var value=suggest.filteredTypes[entry.key];value===!1&&(suggest[entry.value]=value)})}var hover=options.hover;hover===!0?options.hover={enabled:!0}:hover===!1&&(options.hover={enabled:!1});var parameterHints=options.parameterHints;parameterHints===!0?options.parameterHints={enabled:!0}:parameterHints===!1&&(options.parameterHints={enabled:!1});var autoIndent=options.autoIndent;autoIndent===!0?options.autoIndent="full":autoIndent===!1&&(options.autoIndent="advanced");var matchBrackets=options.matchBrackets;matchBrackets===!0?options.matchBrackets="always":matchBrackets===!1&&(options.matchBrackets="never")}function deepCloneAndMigrateOptions(_options){var options=_base_common_objects_js__WEBPACK_IMPORTED_MODULE_3__.c(_options);return migrateOptions(options),options}var CommonEditorConfiguration=function(_super){__extends(CommonEditorConfiguration2,_super);function CommonEditorConfiguration2(isSimpleWidget,_options){var _this=_super.call(this)||this;return _this._onDidChange=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),_this.onDidChange=_this._onDidChange.event,_this.isSimpleWidget=isSimpleWidget,_this._isDominatedByLongLines=!1,_this._lineNumbersDigitCount=1,_this._rawOptions=deepCloneAndMigrateOptions(_options),_this._readOptions=EditorConfiguration2.readOptions(_this._rawOptions),_this._validatedOptions=EditorConfiguration2.validateOptions(_this._readOptions),_this._register(_editorZoom_js__WEBPACK_IMPORTED_MODULE_6__.a.onDidChangeZoomLevel(function(_){return _this._recomputeOptions()})),_this._register(TabFocus.onDidChangeTabFocus(function(_){return _this._recomputeOptions()})),_this}return CommonEditorConfiguration2.prototype.observeReferenceElement=function(dimension){},CommonEditorConfiguration2.prototype.dispose=function(){_super.prototype.dispose.call(this)},CommonEditorConfiguration2.prototype._recomputeOptions=function(){var oldOptions=this.options,newOptions=this._computeInternalOptions();if(!oldOptions)this.options=newOptions;else{var changeEvent=EditorConfiguration2.checkEquals(oldOptions,newOptions);if(changeEvent===null)return;this.options=newOptions,this._onDidChange.fire(changeEvent)}},CommonEditorConfiguration2.prototype.getRawOptions=function(){return this._rawOptions},CommonEditorConfiguration2.prototype._computeInternalOptions=function(){var partialEnv=this._getEnvConfiguration(),bareFontInfo=_fontInfo_js__WEBPACK_IMPORTED_MODULE_7__.a.createFromValidatedSettings(this._validatedOptions,partialEnv.zoomLevel,this.isSimpleWidget),env={outerWidth:partialEnv.outerWidth,outerHeight:partialEnv.outerHeight,fontInfo:this.readConfiguration(bareFontInfo),extraEditorClassName:partialEnv.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:partialEnv.emptySelectionClipboard,pixelRatio:partialEnv.pixelRatio,tabFocusMode:TabFocus.getTabFocusMode(),accessibilitySupport:partialEnv.accessibilitySupport};return EditorConfiguration2.computeOptions(this._validatedOptions,env)},CommonEditorConfiguration2._subsetEquals=function(base,subset){for(var key2 in subset)if(hasOwnProperty.call(subset,key2)){var subsetValue=subset[key2],baseValue=base[key2];if(baseValue===subsetValue)continue;if(Array.isArray(baseValue)&&Array.isArray(subsetValue)){if(!_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.g(baseValue,subsetValue))return!1;continue}if(typeof baseValue=="object"&&typeof subsetValue=="object"){if(!this._subsetEquals(baseValue,subsetValue))return!1;continue}return!1}return!0},CommonEditorConfiguration2.prototype.updateOptions=function(_newOptions){if(!(typeof _newOptions>"u")){var newOptions=deepCloneAndMigrateOptions(_newOptions);CommonEditorConfiguration2._subsetEquals(this._rawOptions,newOptions)||(this._rawOptions=_base_common_objects_js__WEBPACK_IMPORTED_MODULE_3__.g(this._rawOptions,newOptions||{}),this._readOptions=EditorConfiguration2.readOptions(this._rawOptions),this._validatedOptions=EditorConfiguration2.validateOptions(this._readOptions),this._recomputeOptions())}},CommonEditorConfiguration2.prototype.setIsDominatedByLongLines=function(isDominatedByLongLines){this._isDominatedByLongLines=isDominatedByLongLines,this._recomputeOptions()},CommonEditorConfiguration2.prototype.setMaxLineNumber=function(maxLineNumber){var digitCount=CommonEditorConfiguration2._digitCount(maxLineNumber);this._lineNumbersDigitCount!==digitCount&&(this._lineNumbersDigitCount=digitCount,this._recomputeOptions())},CommonEditorConfiguration2._digitCount=function(n){for(var r=0;n;)n=Math.floor(n/10),r++;return r||1},CommonEditorConfiguration2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a),editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorConfigurationTitle","Editor"),overridable:!0,scope:4}),configurationRegistry=_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_9__.a.as(_platform_configuration_common_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_8__.a.Configuration),editorConfiguration=__assign(__assign({},editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.c.tabSize,minimum:1,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.c.insertSpaces,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.c.detectIndentation,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.c.trimAutoWhitespace,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.c.largeFileOptimizations,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("ignoreTrimWhitespace","Controls whether the diff editor shows changes in leading or trailing whitespace as diffs.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")}}});function isConfigurationPropertySchema(x){return typeof x.type<"u"||typeof x.anyOf<"u"}for(var _i=0,editorOptionsRegistry_1=_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.i;_i<editorOptionsRegistry_1.length;_i++){var editorOption=editorOptionsRegistry_1[_i],schema=editorOption.schema;if(typeof schema<"u")if(isConfigurationPropertySchema(schema))editorConfiguration.properties["editor."+editorOption.name]=schema;else for(var key in schema)hasOwnProperty.call(schema,key)&&(editorConfiguration.properties[key]=schema[key])}var cachedEditorConfigurationKeys=null;function getEditorConfigurationKeys(){return cachedEditorConfigurationKeys===null&&(cachedEditorConfigurationKeys=Object.create(null),Object.keys(editorConfiguration.properties).forEach(function(prop){cachedEditorConfigurationKeys[prop]=!0})),cachedEditorConfigurationKeys}function isEditorConfigurationKey(key2){var editorConfigurationKeys=getEditorConfigurationKeys();return editorConfigurationKeys["editor."+key2]||!1}function isDiffEditorConfigurationKey(key2){var editorConfigurationKeys=getEditorConfigurationKeys();return editorConfigurationKeys["diffEditor."+key2]||!1}configurationRegistry.registerConfiguration(editorConfiguration)},3491:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BareFontInfo}),__webpack_require__.d(__webpack_exports__,"b",function(){return FontInfo});var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2236),_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3367),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),GOLDEN_LINE_HEIGHT_RATIO=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.e?1.5:1.35,MINIMUM_LINE_HEIGHT=8,BareFontInfo=function(){function BareFontInfo2(opts){this.zoomLevel=opts.zoomLevel,this.fontFamily=String(opts.fontFamily),this.fontWeight=String(opts.fontWeight),this.fontSize=opts.fontSize,this.fontFeatureSettings=opts.fontFeatureSettings,this.lineHeight=opts.lineHeight|0,this.letterSpacing=opts.letterSpacing}return BareFontInfo2.createFromValidatedSettings=function(options,zoomLevel,ignoreEditorZoom){var fontFamily=options.get(31),fontWeight=options.get(35),fontSize=options.get(34),fontFeatureSettings=options.get(33),lineHeight=options.get(47),letterSpacing=options.get(44);return BareFontInfo2._create(fontFamily,fontWeight,fontSize,fontFeatureSettings,lineHeight,letterSpacing,zoomLevel,ignoreEditorZoom)},BareFontInfo2._create=function(fontFamily,fontWeight,fontSize,fontFeatureSettings,lineHeight,letterSpacing,zoomLevel,ignoreEditorZoom){lineHeight===0?lineHeight=Math.round(GOLDEN_LINE_HEIGHT_RATIO*fontSize):lineHeight<MINIMUM_LINE_HEIGHT&&(lineHeight=MINIMUM_LINE_HEIGHT);var editorZoomLevelMultiplier=1+(ignoreEditorZoom?0:_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__.a.getZoomLevel()*.1);return fontSize*=editorZoomLevelMultiplier,lineHeight*=editorZoomLevelMultiplier,new BareFontInfo2({zoomLevel,fontFamily,fontWeight,fontSize,fontFeatureSettings,lineHeight,letterSpacing})},BareFontInfo2.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing},BareFontInfo2.prototype.getMassagedFontFamily=function(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?'"'+this.fontFamily+'"':this.fontFamily},BareFontInfo2}(),FontInfo=function(_super){__extends(FontInfo2,_super);function FontInfo2(opts,isTrusted){var _this=_super.call(this,opts)||this;return _this.isTrusted=isTrusted,_this.isMonospace=opts.isMonospace,_this.typicalHalfwidthCharacterWidth=opts.typicalHalfwidthCharacterWidth,_this.typicalFullwidthCharacterWidth=opts.typicalFullwidthCharacterWidth,_this.canUseHalfwidthRightwardsArrow=opts.canUseHalfwidthRightwardsArrow,_this.spaceWidth=opts.spaceWidth,_this.maxDigitWidth=opts.maxDigitWidth,_this}return FontInfo2}(BareFontInfo)},3492:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SearchParams}),__webpack_require__.d(__webpack_exports__,"d",function(){return createFindMatch}),__webpack_require__.d(__webpack_exports__,"c",function(){return TextModelSearch}),__webpack_require__.d(__webpack_exports__,"e",function(){return isValidMatch}),__webpack_require__.d(__webpack_exports__,"b",function(){return Searcher});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3282),_core_position_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2233),_core_range_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2056),_model_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2819),LIMIT_FIND_COUNT=999,SearchParams=function(){function SearchParams2(searchString,isRegex,matchCase,wordSeparators){this.searchString=searchString,this.isRegex=isRegex,this.matchCase=matchCase,this.wordSeparators=wordSeparators}return SearchParams2.prototype.parseSearchRequest=function(){if(this.searchString==="")return null;var multiline;this.isRegex?multiline=isMultilineRegexSource(this.searchString):multiline=this.searchString.indexOf(`
`)>=0;var regex=null;try{regex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.l(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline,global:!0,unicode:!0})}catch{return null}if(!regex)return null;var canUseSimpleSearch=!this.isRegex&&!multiline;return canUseSimpleSearch&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(canUseSimpleSearch=this.matchCase),new SearchData(regex,this.wordSeparators?Object(_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_1__.a)(this.wordSeparators):null,canUseSimpleSearch?this.searchString:null)},SearchParams2}();function isMultilineRegexSource(searchString){if(!searchString||searchString.length===0)return!1;for(var i=0,len=searchString.length;i<len;i++){var chCode=searchString.charCodeAt(i);if(chCode===92){if(i++,i>=len)break;var nextChCode=searchString.charCodeAt(i);if(nextChCode===110||nextChCode===114||nextChCode===87||nextChCode===119)return!0}}return!1}var SearchData=function(){function SearchData2(regex,wordSeparators,simpleSearch){this.regex=regex,this.wordSeparators=wordSeparators,this.simpleSearch=simpleSearch}return SearchData2}();function createFindMatch(range,rawMatches,captureMatches){if(!captureMatches)return new _model_js__WEBPACK_IMPORTED_MODULE_4__.b(range,null);for(var matches=[],i=0,len=rawMatches.length;i<len;i++)matches[i]=rawMatches[i];return new _model_js__WEBPACK_IMPORTED_MODULE_4__.b(range,matches)}var LineFeedCounter=function(){function LineFeedCounter2(text){for(var lineFeedsOffsets=[],lineFeedsOffsetsLen=0,i=0,textLen=text.length;i<textLen;i++)text.charCodeAt(i)===10&&(lineFeedsOffsets[lineFeedsOffsetsLen++]=i);this._lineFeedsOffsets=lineFeedsOffsets}return LineFeedCounter2.prototype.findLineFeedCountBeforeOffset=function(offset){var lineFeedsOffsets=this._lineFeedsOffsets,min=0,max=lineFeedsOffsets.length-1;if(max===-1||offset<=lineFeedsOffsets[0])return 0;for(;min<max;){var mid=min+((max-min)/2>>0);lineFeedsOffsets[mid]>=offset?max=mid-1:lineFeedsOffsets[mid+1]>=offset?(min=mid,max=mid):min=mid+1}return min+1},LineFeedCounter2}(),TextModelSearch=function(){function TextModelSearch2(){}return TextModelSearch2.findMatches=function(model,searchParams,searchRange,captureMatches,limitResultCount){var searchData=searchParams.parseSearchRequest();return searchData?searchData.regex.multiline?this._doFindMatchesMultiline(model,searchRange,new Searcher(searchData.wordSeparators,searchData.regex),captureMatches,limitResultCount):this._doFindMatchesLineByLine(model,searchRange,searchData,captureMatches,limitResultCount):[]},TextModelSearch2._getMultilineMatchRange=function(model,deltaOffset,text,lfCounter,matchIndex,match0){var startOffset,lineFeedCountBeforeMatch=0;lfCounter?(lineFeedCountBeforeMatch=lfCounter.findLineFeedCountBeforeOffset(matchIndex),startOffset=deltaOffset+matchIndex+lineFeedCountBeforeMatch):startOffset=deltaOffset+matchIndex;var endOffset;if(lfCounter){var lineFeedCountBeforeEndOfMatch=lfCounter.findLineFeedCountBeforeOffset(matchIndex+match0.length),lineFeedCountInMatch=lineFeedCountBeforeEndOfMatch-lineFeedCountBeforeMatch;endOffset=startOffset+match0.length+lineFeedCountInMatch}else endOffset=startOffset+match0.length;var startPosition=model.getPositionAt(startOffset),endPosition=model.getPositionAt(endOffset);return new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(startPosition.lineNumber,startPosition.column,endPosition.lineNumber,endPosition.column)},TextModelSearch2._doFindMatchesMultiline=function(model,searchRange,searcher,captureMatches,limitResultCount){var deltaOffset=model.getOffsetAt(searchRange.getStartPosition()),text=model.getValueInRange(searchRange,1),lfCounter=model.getEOL()===`\r
`?new LineFeedCounter(text):null,result=[],counter=0,m;for(searcher.reset(0);m=searcher.next(text);)if(result[counter++]=createFindMatch(this._getMultilineMatchRange(model,deltaOffset,text,lfCounter,m.index,m[0]),m,captureMatches),counter>=limitResultCount)return result;return result},TextModelSearch2._doFindMatchesLineByLine=function(model,searchRange,searchData,captureMatches,limitResultCount){var result=[],resultLen=0;if(searchRange.startLineNumber===searchRange.endLineNumber){var text_1=model.getLineContent(searchRange.startLineNumber).substring(searchRange.startColumn-1,searchRange.endColumn-1);return resultLen=this._findMatchesInLine(searchData,text_1,searchRange.startLineNumber,searchRange.startColumn-1,resultLen,result,captureMatches,limitResultCount),result}var text=model.getLineContent(searchRange.startLineNumber).substring(searchRange.startColumn-1);resultLen=this._findMatchesInLine(searchData,text,searchRange.startLineNumber,searchRange.startColumn-1,resultLen,result,captureMatches,limitResultCount);for(var lineNumber=searchRange.startLineNumber+1;lineNumber<searchRange.endLineNumber&&resultLen<limitResultCount;lineNumber++)resultLen=this._findMatchesInLine(searchData,model.getLineContent(lineNumber),lineNumber,0,resultLen,result,captureMatches,limitResultCount);if(resultLen<limitResultCount){var text_2=model.getLineContent(searchRange.endLineNumber).substring(0,searchRange.endColumn-1);resultLen=this._findMatchesInLine(searchData,text_2,searchRange.endLineNumber,0,resultLen,result,captureMatches,limitResultCount)}return result},TextModelSearch2._findMatchesInLine=function(searchData,text,lineNumber,deltaOffset,resultLen,result,captureMatches,limitResultCount){var wordSeparators=searchData.wordSeparators;if(!captureMatches&&searchData.simpleSearch){for(var searchString=searchData.simpleSearch,searchStringLen=searchString.length,textLength=text.length,lastMatchIndex=-searchStringLen;(lastMatchIndex=text.indexOf(searchString,lastMatchIndex+searchStringLen))!==-1;)if((!wordSeparators||isValidMatch(wordSeparators,text,textLength,lastMatchIndex,searchStringLen))&&(result[resultLen++]=new _model_js__WEBPACK_IMPORTED_MODULE_4__.b(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,lastMatchIndex+1+deltaOffset,lineNumber,lastMatchIndex+1+searchStringLen+deltaOffset),null),resultLen>=limitResultCount))return resultLen;return resultLen}var searcher=new Searcher(searchData.wordSeparators,searchData.regex),m;searcher.reset(0);do if(m=searcher.next(text),m&&(result[resultLen++]=createFindMatch(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,m.index+1+deltaOffset,lineNumber,m.index+1+m[0].length+deltaOffset),m,captureMatches),resultLen>=limitResultCount))return resultLen;while(m);return resultLen},TextModelSearch2.findNextMatch=function(model,searchParams,searchStart,captureMatches){var searchData=searchParams.parseSearchRequest();if(!searchData)return null;var searcher=new Searcher(searchData.wordSeparators,searchData.regex);return searchData.regex.multiline?this._doFindNextMatchMultiline(model,searchStart,searcher,captureMatches):this._doFindNextMatchLineByLine(model,searchStart,searcher,captureMatches)},TextModelSearch2._doFindNextMatchMultiline=function(model,searchStart,searcher,captureMatches){var searchTextStart=new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(searchStart.lineNumber,1),deltaOffset=model.getOffsetAt(searchTextStart),lineCount=model.getLineCount(),text=model.getValueInRange(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(searchTextStart.lineNumber,searchTextStart.column,lineCount,model.getLineMaxColumn(lineCount)),1),lfCounter=model.getEOL()===`\r
`?new LineFeedCounter(text):null;searcher.reset(searchStart.column-1);var m=searcher.next(text);return m?createFindMatch(this._getMultilineMatchRange(model,deltaOffset,text,lfCounter,m.index,m[0]),m,captureMatches):searchStart.lineNumber!==1||searchStart.column!==1?this._doFindNextMatchMultiline(model,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(1,1),searcher,captureMatches):null},TextModelSearch2._doFindNextMatchLineByLine=function(model,searchStart,searcher,captureMatches){var lineCount=model.getLineCount(),startLineNumber=searchStart.lineNumber,text=model.getLineContent(startLineNumber),r=this._findFirstMatchInLine(searcher,text,startLineNumber,searchStart.column,captureMatches);if(r)return r;for(var i=1;i<=lineCount;i++){var lineIndex=(startLineNumber+i-1)%lineCount,text_3=model.getLineContent(lineIndex+1),r_1=this._findFirstMatchInLine(searcher,text_3,lineIndex+1,1,captureMatches);if(r_1)return r_1}return null},TextModelSearch2._findFirstMatchInLine=function(searcher,text,lineNumber,fromColumn,captureMatches){searcher.reset(fromColumn-1);var m=searcher.next(text);return m?createFindMatch(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,m.index+1,lineNumber,m.index+1+m[0].length),m,captureMatches):null},TextModelSearch2.findPreviousMatch=function(model,searchParams,searchStart,captureMatches){var searchData=searchParams.parseSearchRequest();if(!searchData)return null;var searcher=new Searcher(searchData.wordSeparators,searchData.regex);return searchData.regex.multiline?this._doFindPreviousMatchMultiline(model,searchStart,searcher,captureMatches):this._doFindPreviousMatchLineByLine(model,searchStart,searcher,captureMatches)},TextModelSearch2._doFindPreviousMatchMultiline=function(model,searchStart,searcher,captureMatches){var matches=this._doFindMatchesMultiline(model,new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(1,1,searchStart.lineNumber,searchStart.column),searcher,captureMatches,10*LIMIT_FIND_COUNT);if(matches.length>0)return matches[matches.length-1];var lineCount=model.getLineCount();return searchStart.lineNumber!==lineCount||searchStart.column!==model.getLineMaxColumn(lineCount)?this._doFindPreviousMatchMultiline(model,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(lineCount,model.getLineMaxColumn(lineCount)),searcher,captureMatches):null},TextModelSearch2._doFindPreviousMatchLineByLine=function(model,searchStart,searcher,captureMatches){var lineCount=model.getLineCount(),startLineNumber=searchStart.lineNumber,text=model.getLineContent(startLineNumber).substring(0,searchStart.column-1),r=this._findLastMatchInLine(searcher,text,startLineNumber,captureMatches);if(r)return r;for(var i=1;i<=lineCount;i++){var lineIndex=(lineCount+startLineNumber-i-1)%lineCount,text_4=model.getLineContent(lineIndex+1),r_2=this._findLastMatchInLine(searcher,text_4,lineIndex+1,captureMatches);if(r_2)return r_2}return null},TextModelSearch2._findLastMatchInLine=function(searcher,text,lineNumber,captureMatches){var bestResult=null,m;for(searcher.reset(0);m=searcher.next(text);)bestResult=createFindMatch(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,m.index+1,lineNumber,m.index+1+m[0].length),m,captureMatches);return bestResult},TextModelSearch2}();function leftIsWordBounday(wordSeparators,text,textLength,matchStartIndex,matchLength){if(matchStartIndex===0)return!0;var charBefore=text.charCodeAt(matchStartIndex-1);if(wordSeparators.get(charBefore)!==0||charBefore===13||charBefore===10)return!0;if(matchLength>0){var firstCharInMatch=text.charCodeAt(matchStartIndex);if(wordSeparators.get(firstCharInMatch)!==0)return!0}return!1}function rightIsWordBounday(wordSeparators,text,textLength,matchStartIndex,matchLength){if(matchStartIndex+matchLength===textLength)return!0;var charAfter=text.charCodeAt(matchStartIndex+matchLength);if(wordSeparators.get(charAfter)!==0||charAfter===13||charAfter===10)return!0;if(matchLength>0){var lastCharInMatch=text.charCodeAt(matchStartIndex+matchLength-1);if(wordSeparators.get(lastCharInMatch)!==0)return!0}return!1}function isValidMatch(wordSeparators,text,textLength,matchStartIndex,matchLength){return leftIsWordBounday(wordSeparators,text,textLength,matchStartIndex,matchLength)&&rightIsWordBounday(wordSeparators,text,textLength,matchStartIndex,matchLength)}var Searcher=function(){function Searcher2(wordSeparators,searchRegex){this._wordSeparators=wordSeparators,this._searchRegex=searchRegex,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return Searcher2.prototype.reset=function(lastIndex){this._searchRegex.lastIndex=lastIndex,this._prevMatchStartIndex=-1,this._prevMatchLength=0},Searcher2.prototype.next=function(text){var textLength=text.length,m;do{if(this._prevMatchStartIndex+this._prevMatchLength===textLength||(m=this._searchRegex.exec(text),!m))return null;var matchStartIndex=m.index,matchLength=m[0].length;if(matchStartIndex===this._prevMatchStartIndex&&matchLength===this._prevMatchLength){if(matchLength===0){this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=matchStartIndex,this._prevMatchLength=matchLength,!this._wordSeparators||isValidMatch(this._wordSeparators,text,textLength,matchStartIndex,matchLength))return m}while(m);return null},Searcher2}()},3493:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return toUint8}),__webpack_require__.d(__webpack_exports__,"a",function(){return toUint32}),__webpack_require__.d(__webpack_exports__,"b",function(){return toUint32Array});function toUint8(v){return v<0?0:v>255?255:v|0}function toUint32(v){return v<0?0:v>4294967295?4294967295:v|0}function toUint32Array(arr){for(var len=arr.length,r=new Uint32Array(len),i=0;i<len;i++)r[i]=toUint32(arr[i]);return r}},3494:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return countEOL}),__webpack_require__.d(__webpack_exports__,"b",function(){return MultilineTokensBuilder}),__webpack_require__.d(__webpack_exports__,"c",function(){return SparseEncodedTokens}),__webpack_require__.d(__webpack_exports__,"a",function(){return MultilineTokens2}),__webpack_require__.d(__webpack_exports__,"e",function(){return TokensStore2}),__webpack_require__.d(__webpack_exports__,"d",function(){return TokensStore});var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2389),_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3283),_core_position_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2233),_modes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2240);function countEOL(text){for(var eolCount=0,firstLineLength=0,lastLineStart=0,i=0,len=text.length;i<len;i++){var chr=text.charCodeAt(i);chr===13?(eolCount===0&&(firstLineLength=i),eolCount++,i+1<len&&text.charCodeAt(i+1)===10&&i++,lastLineStart=i+1):chr===10&&(eolCount===0&&(firstLineLength=i),eolCount++,lastLineStart=i+1)}return eolCount===0&&(firstLineLength=text.length),[eolCount,firstLineLength,text.length-lastLineStart]}function getDefaultMetadata(topLevelLanguageId){return(topLevelLanguageId<<0|0|0|16384|2<<23)>>>0}var EMPTY_LINE_TOKENS=new Uint32Array(0).buffer,MultilineTokensBuilder=function(){function MultilineTokensBuilder2(){this.tokens=[]}return MultilineTokensBuilder2.prototype.add=function(lineNumber,lineTokens){if(this.tokens.length>0){var last=this.tokens[this.tokens.length-1],lastLineNumber=last.startLineNumber+last.tokens.length-1;if(lastLineNumber+1===lineNumber){last.tokens.push(lineTokens);return}}this.tokens.push(new MultilineTokens(lineNumber,[lineTokens]))},MultilineTokensBuilder2}(),SparseEncodedTokens=function(){function SparseEncodedTokens2(tokens){this._tokens=tokens,this._tokenCount=tokens.length/4}return SparseEncodedTokens2.prototype.getMaxDeltaLine=function(){var tokenCount=this.getTokenCount();return tokenCount===0?-1:this.getDeltaLine(tokenCount-1)},SparseEncodedTokens2.prototype.getTokenCount=function(){return this._tokenCount},SparseEncodedTokens2.prototype.getDeltaLine=function(tokenIndex){return this._tokens[4*tokenIndex]},SparseEncodedTokens2.prototype.getStartCharacter=function(tokenIndex){return this._tokens[4*tokenIndex+1]},SparseEncodedTokens2.prototype.getEndCharacter=function(tokenIndex){return this._tokens[4*tokenIndex+2]},SparseEncodedTokens2.prototype.getMetadata=function(tokenIndex){return this._tokens[4*tokenIndex+3]},SparseEncodedTokens2.prototype.clear=function(){this._tokenCount=0},SparseEncodedTokens2.prototype.acceptDeleteRange=function(horizontalShiftForFirstLineTokens,startDeltaLine,startCharacter,endDeltaLine,endCharacter){for(var tokens=this._tokens,tokenCount=this._tokenCount,deletedLineCount=endDeltaLine-startDeltaLine,newTokenCount=0,hasDeletedTokens=!1,i=0;i<tokenCount;i++){var srcOffset=4*i,tokenDeltaLine=tokens[srcOffset],tokenStartCharacter=tokens[srcOffset+1],tokenEndCharacter=tokens[srcOffset+2],tokenMetadata=tokens[srcOffset+3];if(tokenDeltaLine<startDeltaLine||tokenDeltaLine===startDeltaLine&&tokenEndCharacter<=startCharacter){newTokenCount++;continue}else if(tokenDeltaLine===startDeltaLine&&tokenStartCharacter<startCharacter)tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter?tokenEndCharacter-=endCharacter-startCharacter:tokenEndCharacter=startCharacter;else if(tokenDeltaLine===startDeltaLine&&tokenStartCharacter===startCharacter)if(tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter)tokenEndCharacter-=endCharacter-startCharacter;else{hasDeletedTokens=!0;continue}else if(tokenDeltaLine<endDeltaLine||tokenDeltaLine===endDeltaLine&&tokenStartCharacter<endCharacter)if(tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter)tokenDeltaLine===startDeltaLine?(tokenStartCharacter=startCharacter,tokenEndCharacter=tokenStartCharacter+(tokenEndCharacter-endCharacter)):(tokenStartCharacter=0,tokenEndCharacter=tokenStartCharacter+(tokenEndCharacter-endCharacter));else{hasDeletedTokens=!0;continue}else if(tokenDeltaLine>endDeltaLine){if(deletedLineCount===0&&!hasDeletedTokens){newTokenCount=tokenCount;break}tokenDeltaLine-=deletedLineCount}else if(tokenDeltaLine===endDeltaLine&&tokenStartCharacter>=endCharacter)horizontalShiftForFirstLineTokens&&tokenDeltaLine===0&&(tokenStartCharacter+=horizontalShiftForFirstLineTokens,tokenEndCharacter+=horizontalShiftForFirstLineTokens),tokenDeltaLine-=deletedLineCount,tokenStartCharacter-=endCharacter-startCharacter,tokenEndCharacter-=endCharacter-startCharacter;else throw new Error("Not possible!");var destOffset=4*newTokenCount;tokens[destOffset]=tokenDeltaLine,tokens[destOffset+1]=tokenStartCharacter,tokens[destOffset+2]=tokenEndCharacter,tokens[destOffset+3]=tokenMetadata,newTokenCount++}this._tokenCount=newTokenCount},SparseEncodedTokens2.prototype.acceptInsertText=function(deltaLine,character,eolCount,firstLineLength,lastLineLength,firstCharCode){for(var isInsertingPreciselyOneWordCharacter=eolCount===0&&firstLineLength===1&&(firstCharCode>=48&&firstCharCode<=57||firstCharCode>=65&&firstCharCode<=90||firstCharCode>=97&&firstCharCode<=122),tokens=this._tokens,tokenCount=this._tokenCount,i=0;i<tokenCount;i++){var offset=4*i,tokenDeltaLine=tokens[offset],tokenStartCharacter=tokens[offset+1],tokenEndCharacter=tokens[offset+2];if(!(tokenDeltaLine<deltaLine||tokenDeltaLine===deltaLine&&tokenEndCharacter<character)){if(tokenDeltaLine===deltaLine&&tokenEndCharacter===character)if(isInsertingPreciselyOneWordCharacter)tokenEndCharacter+=1;else continue;else if(tokenDeltaLine===deltaLine&&tokenStartCharacter<character&&character<tokenEndCharacter)eolCount===0?tokenEndCharacter+=firstLineLength:tokenEndCharacter=character;else{if(tokenDeltaLine===deltaLine&&tokenStartCharacter===character&&isInsertingPreciselyOneWordCharacter)continue;if(tokenDeltaLine===deltaLine)if(tokenDeltaLine+=eolCount,eolCount===0)tokenStartCharacter+=firstLineLength,tokenEndCharacter+=firstLineLength;else{var tokenLength=tokenEndCharacter-tokenStartCharacter;tokenStartCharacter=lastLineLength+(tokenStartCharacter-character),tokenEndCharacter=tokenStartCharacter+tokenLength}else tokenDeltaLine+=eolCount}tokens[offset]=tokenDeltaLine,tokens[offset+1]=tokenStartCharacter,tokens[offset+2]=tokenEndCharacter}}},SparseEncodedTokens2}(),LineTokens2=function(){function LineTokens22(actual,startTokenIndex,endTokenIndex){this._actual=actual,this._startTokenIndex=startTokenIndex,this._endTokenIndex=endTokenIndex}return LineTokens22.prototype.getCount=function(){return this._endTokenIndex-this._startTokenIndex+1},LineTokens22.prototype.getStartCharacter=function(tokenIndex){return this._actual.getStartCharacter(this._startTokenIndex+tokenIndex)},LineTokens22.prototype.getEndCharacter=function(tokenIndex){return this._actual.getEndCharacter(this._startTokenIndex+tokenIndex)},LineTokens22.prototype.getMetadata=function(tokenIndex){return this._actual.getMetadata(this._startTokenIndex+tokenIndex)},LineTokens22}(),MultilineTokens2=function(){function MultilineTokens22(startLineNumber,tokens){this.startLineNumber=startLineNumber,this.tokens=tokens,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}return MultilineTokens22.prototype._updateEndLineNumber=function(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()},MultilineTokens22.prototype.getLineTokens=function(lineNumber){if(this.startLineNumber<=lineNumber&&lineNumber<=this.endLineNumber){var findResult=MultilineTokens22._findTokensWithLine(this.tokens,lineNumber-this.startLineNumber);if(findResult){var startTokenIndex=findResult[0],endTokenIndex=findResult[1];return new LineTokens2(this.tokens,startTokenIndex,endTokenIndex)}}return null},MultilineTokens22._findTokensWithLine=function(tokens,deltaLine){for(var low=0,high=tokens.getTokenCount()-1;low<high;){var mid=low+Math.floor((high-low)/2),midDeltaLine=tokens.getDeltaLine(mid);if(midDeltaLine<deltaLine)low=mid+1;else if(midDeltaLine>deltaLine)high=mid-1;else{for(var min=mid;min>low&&tokens.getDeltaLine(min-1)===deltaLine;)min--;for(var max=mid;max<high&&tokens.getDeltaLine(max+1)===deltaLine;)max++;return[min,max]}}return tokens.getDeltaLine(low)===deltaLine?[low,low]:null},MultilineTokens22.prototype.applyEdit=function(range,text){var _a=countEOL(text),eolCount=_a[0],firstLineLength=_a[1],lastLineLength=_a[2];this.acceptEdit(range,eolCount,firstLineLength,lastLineLength,text.length>0?text.charCodeAt(0):0)},MultilineTokens22.prototype.acceptEdit=function(range,eolCount,firstLineLength,lastLineLength,firstCharCode){this._acceptDeleteRange(range),this._acceptInsertText(new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(range.startLineNumber,range.startColumn),eolCount,firstLineLength,lastLineLength,firstCharCode),this._updateEndLineNumber()},MultilineTokens22.prototype._acceptDeleteRange=function(range){if(!(range.startLineNumber===range.endLineNumber&&range.startColumn===range.endColumn)){var firstLineIndex=range.startLineNumber-this.startLineNumber,lastLineIndex=range.endLineNumber-this.startLineNumber;if(lastLineIndex<0){var deletedLinesCount=lastLineIndex-firstLineIndex;this.startLineNumber-=deletedLinesCount;return}var tokenMaxDeltaLine=this.tokens.getMaxDeltaLine();if(!(firstLineIndex>=tokenMaxDeltaLine+1)){if(firstLineIndex<0&&lastLineIndex>=tokenMaxDeltaLine+1){this.startLineNumber=0,this.tokens.clear();return}if(firstLineIndex<0){var deletedBefore=-firstLineIndex;this.startLineNumber-=deletedBefore,this.tokens.acceptDeleteRange(range.startColumn-1,0,0,lastLineIndex,range.endColumn-1)}else this.tokens.acceptDeleteRange(0,firstLineIndex,range.startColumn-1,lastLineIndex,range.endColumn-1)}}},MultilineTokens22.prototype._acceptInsertText=function(position,eolCount,firstLineLength,lastLineLength,firstCharCode){if(!(eolCount===0&&firstLineLength===0)){var lineIndex=position.lineNumber-this.startLineNumber;if(lineIndex<0){this.startLineNumber+=eolCount;return}var tokenMaxDeltaLine=this.tokens.getMaxDeltaLine();lineIndex>=tokenMaxDeltaLine+1||this.tokens.acceptInsertText(lineIndex,position.column-1,eolCount,firstLineLength,lastLineLength,firstCharCode)}},MultilineTokens22}(),MultilineTokens=function(){function MultilineTokens3(startLineNumber,tokens){this.startLineNumber=startLineNumber,this.tokens=tokens}return MultilineTokens3}();function toUint32Array(arr){return arr instanceof Uint32Array?arr:new Uint32Array(arr)}var TokensStore2=function(){function TokensStore22(){this._pieces=[]}return TokensStore22.prototype.flush=function(){this._pieces=[]},TokensStore22.prototype.set=function(pieces){this._pieces=pieces||[]},TokensStore22.prototype.addSemanticTokens=function(lineNumber,aTokens){var pieces=this._pieces;if(pieces.length===0)return aTokens;var pieceIndex=TokensStore22._findFirstPieceWithLine(pieces,lineNumber),bTokens=this._pieces[pieceIndex].getLineTokens(lineNumber);if(!bTokens)return aTokens;for(var aLen=aTokens.getCount(),bLen=bTokens.getCount(),aIndex=0,result=[],resultLen=0,bIndex=0;bIndex<bLen;bIndex++){for(var bStartCharacter=bTokens.getStartCharacter(bIndex),bEndCharacter=bTokens.getEndCharacter(bIndex),bMetadata=bTokens.getMetadata(bIndex);aIndex<aLen&&aTokens.getEndOffset(aIndex)<=bStartCharacter;)result[resultLen++]=aTokens.getEndOffset(aIndex),result[resultLen++]=aTokens.getMetadata(aIndex),aIndex++;for(aIndex<aLen&&aTokens.getStartOffset(aIndex)<bStartCharacter&&(result[resultLen++]=bStartCharacter,result[resultLen++]=aTokens.getMetadata(aIndex));aIndex<aLen&&aTokens.getEndOffset(aIndex)<=bEndCharacter;)aIndex++;var aMetadata=aTokens.getMetadata(aIndex-1>0?aIndex-1:aIndex),languageId=_modes_js__WEBPACK_IMPORTED_MODULE_3__.z.getLanguageId(aMetadata),tokenType=_modes_js__WEBPACK_IMPORTED_MODULE_3__.z.getTokenType(aMetadata);result[resultLen++]=bEndCharacter,result[resultLen++]=bMetadata&4294965248|languageId<<0>>>0|tokenType<<8>>>0}for(;aIndex<aLen;)result[resultLen++]=aTokens.getEndOffset(aIndex),result[resultLen++]=aTokens.getMetadata(aIndex),aIndex++;return new _core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a(new Uint32Array(result),aTokens.getLineContent())},TokensStore22._findFirstPieceWithLine=function(pieces,lineNumber){for(var low=0,high=pieces.length-1;low<high;){var mid=low+Math.floor((high-low)/2);if(pieces[mid].endLineNumber<lineNumber)low=mid+1;else if(pieces[mid].startLineNumber>lineNumber)high=mid-1;else{for(;mid>low&&pieces[mid-1].startLineNumber<=lineNumber&&lineNumber<=pieces[mid-1].endLineNumber;)mid--;return mid}}return low},TokensStore22.prototype.acceptEdit=function(range,eolCount,firstLineLength,lastLineLength,firstCharCode){for(var _i=0,_a=this._pieces;_i<_a.length;_i++){var piece=_a[_i];piece.acceptEdit(range,eolCount,firstLineLength,lastLineLength,firstCharCode)}},TokensStore22}(),TokensStore=function(){function TokensStore3(){this._lineTokens=[],this._len=0}return TokensStore3.prototype.flush=function(){this._lineTokens=[],this._len=0},TokensStore3.prototype.getTokens=function(topLevelLanguageId,lineIndex,lineText){var rawLineTokens=null;if(lineIndex<this._len&&(rawLineTokens=this._lineTokens[lineIndex]),rawLineTokens!==null&&rawLineTokens!==EMPTY_LINE_TOKENS)return new _core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a(toUint32Array(rawLineTokens),lineText);var lineTokens=new Uint32Array(2);return lineTokens[0]=lineText.length,lineTokens[1]=getDefaultMetadata(topLevelLanguageId),new _core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a(lineTokens,lineText)},TokensStore3._massageTokens=function(topLevelLanguageId,lineTextLength,_tokens){var tokens=_tokens?toUint32Array(_tokens):null;if(lineTextLength===0){var hasDifferentLanguageId=!1;if(tokens&&tokens.length>1&&(hasDifferentLanguageId=_modes_js__WEBPACK_IMPORTED_MODULE_3__.z.getLanguageId(tokens[1])!==topLevelLanguageId),!hasDifferentLanguageId)return EMPTY_LINE_TOKENS}if(!tokens||tokens.length===0){var tokens_1=new Uint32Array(2);return tokens_1[0]=lineTextLength,tokens_1[1]=getDefaultMetadata(topLevelLanguageId),tokens_1.buffer}return tokens[tokens.length-2]=lineTextLength,tokens.byteOffset===0&&tokens.byteLength===tokens.buffer.byteLength?tokens.buffer:tokens},TokensStore3.prototype._ensureLine=function(lineIndex){for(;lineIndex>=this._len;)this._lineTokens[this._len]=null,this._len++},TokensStore3.prototype._deleteLines=function(start,deleteCount){deleteCount!==0&&(start+deleteCount>this._len&&(deleteCount=this._len-start),this._lineTokens.splice(start,deleteCount),this._len-=deleteCount)},TokensStore3.prototype._insertLines=function(insertIndex,insertCount){if(insertCount!==0){for(var lineTokens=[],i=0;i<insertCount;i++)lineTokens[i]=null;this._lineTokens=_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.a(this._lineTokens,insertIndex,lineTokens),this._len+=insertCount}},TokensStore3.prototype.setTokens=function(topLevelLanguageId,lineIndex,lineTextLength,_tokens){var tokens=TokensStore3._massageTokens(topLevelLanguageId,lineTextLength,_tokens);this._ensureLine(lineIndex),this._lineTokens[lineIndex]=tokens},TokensStore3.prototype.acceptEdit=function(range,eolCount,firstLineLength){this._acceptDeleteRange(range),this._acceptInsertText(new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(range.startLineNumber,range.startColumn),eolCount,firstLineLength)},TokensStore3.prototype._acceptDeleteRange=function(range){var firstLineIndex=range.startLineNumber-1;if(!(firstLineIndex>=this._len)){if(range.startLineNumber===range.endLineNumber){if(range.startColumn===range.endColumn)return;this._lineTokens[firstLineIndex]=TokensStore3._delete(this._lineTokens[firstLineIndex],range.startColumn-1,range.endColumn-1);return}this._lineTokens[firstLineIndex]=TokensStore3._deleteEnding(this._lineTokens[firstLineIndex],range.startColumn-1);var lastLineIndex=range.endLineNumber-1,lastLineTokens=null;lastLineIndex<this._len&&(lastLineTokens=TokensStore3._deleteBeginning(this._lineTokens[lastLineIndex],range.endColumn-1)),this._lineTokens[firstLineIndex]=TokensStore3._append(this._lineTokens[firstLineIndex],lastLineTokens),this._deleteLines(range.startLineNumber,range.endLineNumber-range.startLineNumber)}},TokensStore3.prototype._acceptInsertText=function(position,eolCount,firstLineLength){if(!(eolCount===0&&firstLineLength===0)){var lineIndex=position.lineNumber-1;if(!(lineIndex>=this._len)){if(eolCount===0){this._lineTokens[lineIndex]=TokensStore3._insert(this._lineTokens[lineIndex],position.column-1,firstLineLength);return}this._lineTokens[lineIndex]=TokensStore3._deleteEnding(this._lineTokens[lineIndex],position.column-1),this._lineTokens[lineIndex]=TokensStore3._insert(this._lineTokens[lineIndex],position.column-1,firstLineLength),this._insertLines(position.lineNumber,eolCount)}}},TokensStore3._deleteBeginning=function(lineTokens,toChIndex){return lineTokens===null||lineTokens===EMPTY_LINE_TOKENS?lineTokens:TokensStore3._delete(lineTokens,0,toChIndex)},TokensStore3._deleteEnding=function(lineTokens,fromChIndex){if(lineTokens===null||lineTokens===EMPTY_LINE_TOKENS)return lineTokens;var tokens=toUint32Array(lineTokens),lineTextLength=tokens[tokens.length-2];return TokensStore3._delete(lineTokens,fromChIndex,lineTextLength)},TokensStore3._delete=function(lineTokens,fromChIndex,toChIndex){if(lineTokens===null||lineTokens===EMPTY_LINE_TOKENS||fromChIndex===toChIndex)return lineTokens;var tokens=toUint32Array(lineTokens),tokensCount=tokens.length>>>1;if(fromChIndex===0&&tokens[tokens.length-2]===toChIndex)return EMPTY_LINE_TOKENS;var fromTokenIndex=_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a.findIndexInTokensArray(tokens,fromChIndex),fromTokenStartOffset=fromTokenIndex>0?tokens[fromTokenIndex-1<<1]:0,fromTokenEndOffset=tokens[fromTokenIndex<<1];if(toChIndex<fromTokenEndOffset){for(var delta_1=toChIndex-fromChIndex,i=fromTokenIndex;i<tokensCount;i++)tokens[i<<1]-=delta_1;return lineTokens}var dest,lastEnd;fromTokenStartOffset!==fromChIndex?(tokens[fromTokenIndex<<1]=fromChIndex,dest=fromTokenIndex+1<<1,lastEnd=fromChIndex):(dest=fromTokenIndex<<1,lastEnd=fromTokenStartOffset);for(var delta=toChIndex-fromChIndex,tokenIndex=fromTokenIndex+1;tokenIndex<tokensCount;tokenIndex++){var tokenEndOffset=tokens[tokenIndex<<1]-delta;tokenEndOffset>lastEnd&&(tokens[dest++]=tokenEndOffset,tokens[dest++]=tokens[(tokenIndex<<1)+1],lastEnd=tokenEndOffset)}if(dest===tokens.length)return lineTokens;var tmp=new Uint32Array(dest);return tmp.set(tokens.subarray(0,dest),0),tmp.buffer},TokensStore3._append=function(lineTokens,_otherTokens){if(_otherTokens===EMPTY_LINE_TOKENS)return lineTokens;if(lineTokens===EMPTY_LINE_TOKENS)return _otherTokens;if(lineTokens===null)return lineTokens;if(_otherTokens===null)return null;var myTokens=toUint32Array(lineTokens),otherTokens=toUint32Array(_otherTokens),otherTokensCount=otherTokens.length>>>1,result=new Uint32Array(myTokens.length+otherTokens.length);result.set(myTokens,0);for(var dest=myTokens.length,delta=myTokens[myTokens.length-2],i=0;i<otherTokensCount;i++)result[dest++]=otherTokens[i<<1]+delta,result[dest++]=otherTokens[(i<<1)+1];return result.buffer},TokensStore3._insert=function(lineTokens,chIndex,textLength){if(lineTokens===null||lineTokens===EMPTY_LINE_TOKENS)return lineTokens;var tokens=toUint32Array(lineTokens),tokensCount=tokens.length>>>1,fromTokenIndex=_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a.findIndexInTokensArray(tokens,chIndex);if(fromTokenIndex>0){var fromTokenStartOffset=tokens[fromTokenIndex-1<<1];fromTokenStartOffset===chIndex&&fromTokenIndex--}for(var tokenIndex=fromTokenIndex;tokenIndex<tokensCount;tokenIndex++)tokens[tokenIndex<<1]+=textLength;return lineTokens},TokensStore3}()},3495:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createScopedLineTokens}),__webpack_require__.d(__webpack_exports__,"b",function(){return ignoreBracketsInToken});function createScopedLineTokens(context,offset){for(var tokenCount=context.getCount(),tokenIndex=context.findTokenIndexAtOffset(offset),desiredLanguageId=context.getLanguageId(tokenIndex),lastTokenIndex=tokenIndex;lastTokenIndex+1<tokenCount&&context.getLanguageId(lastTokenIndex+1)===desiredLanguageId;)lastTokenIndex++;for(var firstTokenIndex=tokenIndex;firstTokenIndex>0&&context.getLanguageId(firstTokenIndex-1)===desiredLanguageId;)firstTokenIndex--;return new ScopedLineTokens(context,desiredLanguageId,firstTokenIndex,lastTokenIndex+1,context.getStartOffset(firstTokenIndex),context.getEndOffset(lastTokenIndex))}var ScopedLineTokens=function(){function ScopedLineTokens2(actual,languageId,firstTokenIndex,lastTokenIndex,firstCharOffset,lastCharOffset){this._actual=actual,this.languageId=languageId,this._firstTokenIndex=firstTokenIndex,this._lastTokenIndex=lastTokenIndex,this.firstCharOffset=firstCharOffset,this._lastCharOffset=lastCharOffset}return ScopedLineTokens2.prototype.getLineContent=function(){var actualLineContent=this._actual.getLineContent();return actualLineContent.substring(this.firstCharOffset,this._lastCharOffset)},ScopedLineTokens2.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},ScopedLineTokens2.prototype.findTokenIndexAtOffset=function(offset){return this._actual.findTokenIndexAtOffset(offset+this.firstCharOffset)-this._firstTokenIndex},ScopedLineTokens2.prototype.getStandardTokenType=function(tokenIndex){return this._actual.getStandardTokenType(tokenIndex+this._firstTokenIndex)},ScopedLineTokens2}();function ignoreBracketsInToken(standardTokenType){return(standardTokenType&7)!==0}},3496:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return RichEditBrackets}),__webpack_require__.d(__webpack_exports__,"a",function(){return BracketsUtils});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_core_range_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2056),RichEditBracket=function(){function RichEditBracket2(languageIdentifier,index,open,close,forwardRegex,reversedRegex){this.languageIdentifier=languageIdentifier,this.index=index,this.open=open,this.close=close,this.forwardRegex=forwardRegex,this.reversedRegex=reversedRegex,this._openSet=RichEditBracket2._toSet(this.open),this._closeSet=RichEditBracket2._toSet(this.close)}return RichEditBracket2.prototype.isOpen=function(text){return this._openSet.has(text)},RichEditBracket2.prototype.isClose=function(text){return this._closeSet.has(text)},RichEditBracket2._toSet=function(arr){for(var result=new Set,_i=0,arr_1=arr;_i<arr_1.length;_i++){var element=arr_1[_i];result.add(element)}return result},RichEditBracket2}();function groupFuzzyBrackets(brackets){var N=brackets.length;brackets=brackets.map(function(b2){return[b2[0].toLowerCase(),b2[1].toLowerCase()]});for(var group=[],i=0;i<N;i++)group[i]=i;for(var areOverlapping=function(a2,b2){var aOpen=a2[0],aClose=a2[1],bOpen=b2[0],bClose=b2[1];return aOpen===bOpen||aOpen===bClose||aClose===bOpen||aClose===bClose},mergeGroups=function(g1,g2){for(var newG=Math.min(g1,g2),oldG=Math.max(g1,g2),i2=0;i2<N;i2++)group[i2]===oldG&&(group[i2]=newG)},i=0;i<N;i++)for(var a=brackets[i],j=i+1;j<N;j++){var b=brackets[j];areOverlapping(a,b)&&mergeGroups(group[i],group[j])}for(var result=[],g=0;g<N;g++){for(var currentOpen=[],currentClose=[],i=0;i<N;i++)if(group[i]===g){var _a=brackets[i],open_1=_a[0],close_1=_a[1];currentOpen.push(open_1),currentClose.push(close_1)}currentOpen.length>0&&result.push({open:currentOpen,close:currentClose})}return result}var RichEditBrackets=function(){function RichEditBrackets2(languageIdentifier,_brackets){var brackets=groupFuzzyBrackets(_brackets);this.brackets=brackets.map(function(b,index){return new RichEditBracket(languageIdentifier,index,b.open,b.close,getRegexForBracketPair(b.open,b.close,brackets,index),getReversedRegexForBracketPair(b.open,b.close,brackets,index))}),this.forwardRegex=getRegexForBrackets(this.brackets),this.reversedRegex=getReversedRegexForBrackets(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(var _i=0,_a=this.brackets;_i<_a.length;_i++){for(var bracket=_a[_i],_b=0,_c=bracket.open;_b<_c.length;_b++){var open_2=_c[_b];this.textIsBracket[open_2]=bracket,this.textIsOpenBracket[open_2]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,open_2.length)}for(var _d=0,_e=bracket.close;_d<_e.length;_d++){var close_2=_e[_d];this.textIsBracket[close_2]=bracket,this.textIsOpenBracket[close_2]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,close_2.length)}}}return RichEditBrackets2}();function collectSuperstrings(str,brackets,currentIndex,dest){for(var i=0,len=brackets.length;i<len;i++)if(i!==currentIndex){for(var bracket=brackets[i],_i=0,_a=bracket.open;_i<_a.length;_i++){var open_3=_a[_i];open_3.indexOf(str)>=0&&dest.push(open_3)}for(var _b=0,_c=bracket.close;_b<_c.length;_b++){var close_3=_c[_b];close_3.indexOf(str)>=0&&dest.push(close_3)}}}function lengthcmp(a,b){return a.length-b.length}function unique(arr){if(arr.length<=1)return arr;for(var result=[],seen=new Set,_i=0,arr_2=arr;_i<arr_2.length;_i++){var element=arr_2[_i];seen.has(element)||(result.push(element),seen.add(element))}return result}function getRegexForBracketPair(open,close,brackets,currentIndex){var pieces=[];pieces=pieces.concat(open),pieces=pieces.concat(close);for(var i=0,len=pieces.length;i<len;i++)collectSuperstrings(pieces[i],brackets,currentIndex,pieces);return pieces=unique(pieces),pieces.sort(lengthcmp),pieces.reverse(),createBracketOrRegExp(pieces)}function getReversedRegexForBracketPair(open,close,brackets,currentIndex){var pieces=[];pieces=pieces.concat(open),pieces=pieces.concat(close);for(var i=0,len=pieces.length;i<len;i++)collectSuperstrings(pieces[i],brackets,currentIndex,pieces);return pieces=unique(pieces),pieces.sort(lengthcmp),pieces.reverse(),createBracketOrRegExp(pieces.map(toReversedString))}function getRegexForBrackets(brackets){for(var pieces=[],_i=0,brackets_1=brackets;_i<brackets_1.length;_i++){for(var bracket=brackets_1[_i],_a=0,_b=bracket.open;_a<_b.length;_a++){var open_4=_b[_a];pieces.push(open_4)}for(var _c=0,_d=bracket.close;_c<_d.length;_c++){var close_4=_d[_c];pieces.push(close_4)}}return pieces=unique(pieces),createBracketOrRegExp(pieces)}function getReversedRegexForBrackets(brackets){for(var pieces=[],_i=0,brackets_2=brackets;_i<brackets_2.length;_i++){for(var bracket=brackets_2[_i],_a=0,_b=bracket.open;_a<_b.length;_a++){var open_5=_b[_a];pieces.push(open_5)}for(var _c=0,_d=bracket.close;_c<_d.length;_c++){var close_5=_d[_c];pieces.push(close_5)}}return pieces=unique(pieces),createBracketOrRegExp(pieces.map(toReversedString))}function prepareBracketForRegExp(str){var insertWordBoundaries=/^[\w ]+$/.test(str);return str=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.p(str),insertWordBoundaries?"\\b"+str+"\\b":str}function createBracketOrRegExp(pieces){var regexStr="("+pieces.map(prepareBracketForRegExp).join(")|(")+")";return _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.l(regexStr,!0)}var toReversedString=function(){function reverse(str){for(var reversedStr="",i=str.length-1;i>=0;i--)reversedStr+=str.charAt(i);return reversedStr}var lastInput=null,lastOutput=null;return function(str){return lastInput!==str&&(lastInput=str,lastOutput=reverse(lastInput)),lastOutput}}(),BracketsUtils=function(){function BracketsUtils2(){}return BracketsUtils2._findPrevBracketInText=function(reversedBracketRegex,lineNumber,reversedText,offset){var m=reversedText.match(reversedBracketRegex);if(!m)return null;var matchOffset=reversedText.length-(m.index||0),matchLength=m[0].length,absoluteMatchOffset=offset+matchOffset;return new _core_range_js__WEBPACK_IMPORTED_MODULE_1__.a(lineNumber,absoluteMatchOffset-matchLength+1,lineNumber,absoluteMatchOffset+1)},BracketsUtils2.findPrevBracketInRange=function(reversedBracketRegex,lineNumber,lineText,startOffset,endOffset){var reversedLineText=toReversedString(lineText),reversedSubstr=reversedLineText.substring(lineText.length-endOffset,lineText.length-startOffset);return this._findPrevBracketInText(reversedBracketRegex,lineNumber,reversedSubstr,startOffset)},BracketsUtils2.findNextBracketInText=function(bracketRegex,lineNumber,text,offset){var m=text.match(bracketRegex);if(!m)return null;var matchOffset=m.index||0,matchLength=m[0].length;if(matchLength===0)return null;var absoluteMatchOffset=offset+matchOffset;return new _core_range_js__WEBPACK_IMPORTED_MODULE_1__.a(lineNumber,absoluteMatchOffset+1,lineNumber,absoluteMatchOffset+1+matchLength)},BracketsUtils2.findNextBracketInRange=function(bracketRegex,lineNumber,lineText,startOffset,endOffset){var substr=lineText.substring(startOffset,endOffset);return this.findNextBracketInText(bracketRegex,lineNumber,substr,startOffset)},BracketsUtils2}()},3497:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IBulkEditService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IBulkEditService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("IWorkspaceEditService")},3498:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return hash}),__webpack_require__.d(__webpack_exports__,"b",function(){return stringHash});function hash(obj,hashVal){switch(hashVal===void 0&&(hashVal=0),typeof obj){case"object":return obj===null?numberHash(349,hashVal):Array.isArray(obj)?arrayHash(obj,hashVal):objectHash(obj,hashVal);case"string":return stringHash(obj,hashVal);case"boolean":return booleanHash(obj,hashVal);case"number":return numberHash(obj,hashVal);case"undefined":return numberHash(0,937);default:return numberHash(0,617)}}function numberHash(val,initialHashVal){return(initialHashVal<<5)-initialHashVal+val|0}function booleanHash(b,initialHashVal){return numberHash(b?433:863,initialHashVal)}function stringHash(s,hashVal){hashVal=numberHash(149417,hashVal);for(var i=0,length_1=s.length;i<length_1;i++)hashVal=numberHash(s.charCodeAt(i),hashVal);return hashVal}function arrayHash(arr,initialHashVal){return initialHashVal=numberHash(104579,initialHashVal),arr.reduce(function(hashVal,item){return hash(item,hashVal)},initialHashVal)}function objectHash(obj,initialHashVal){return initialHashVal=numberHash(181387,initialHashVal),Object.keys(obj).sort().reduce(function(hashVal,key){return hashVal=stringHash(key,hashVal),hash(obj[key],hashVal)},initialHashVal)}},3499:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MoveOperations});var _cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2787),_core_position_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2233),_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2056),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2123),CursorPosition=function(){function CursorPosition2(lineNumber,column,leftoverVisibleColumns){this.lineNumber=lineNumber,this.column=column,this.leftoverVisibleColumns=leftoverVisibleColumns}return CursorPosition2}(),MoveOperations=function(){function MoveOperations2(){}return MoveOperations2.leftPosition=function(model,lineNumber,column){return column>model.getLineMinColumn(lineNumber)?column=column-_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.H(model.getLineContent(lineNumber),column-1):lineNumber>1&&(lineNumber=lineNumber-1,column=model.getLineMaxColumn(lineNumber)),new _core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(lineNumber,column)},MoveOperations2.left=function(config,model,lineNumber,column){var pos=MoveOperations2.leftPosition(model,lineNumber,column);return new CursorPosition(pos.lineNumber,pos.column,0)},MoveOperations2.moveLeft=function(config,model,cursor,inSelectionMode,noOfColumns){var lineNumber,column;if(cursor.hasSelection()&&!inSelectionMode)lineNumber=cursor.selection.startLineNumber,column=cursor.selection.startColumn;else{var r=MoveOperations2.left(config,model,cursor.position.lineNumber,cursor.position.column-(noOfColumns-1));lineNumber=r.lineNumber,column=r.column}return cursor.move(inSelectionMode,lineNumber,column,0)},MoveOperations2.rightPosition=function(model,lineNumber,column){return column<model.getLineMaxColumn(lineNumber)?column=column+_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.F(model.getLineContent(lineNumber),column-1):lineNumber<model.getLineCount()&&(lineNumber=lineNumber+1,column=model.getLineMinColumn(lineNumber)),new _core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(lineNumber,column)},MoveOperations2.right=function(config,model,lineNumber,column){var pos=MoveOperations2.rightPosition(model,lineNumber,column);return new CursorPosition(pos.lineNumber,pos.column,0)},MoveOperations2.moveRight=function(config,model,cursor,inSelectionMode,noOfColumns){var lineNumber,column;if(cursor.hasSelection()&&!inSelectionMode)lineNumber=cursor.selection.endLineNumber,column=cursor.selection.endColumn;else{var r=MoveOperations2.right(config,model,cursor.position.lineNumber,cursor.position.column+(noOfColumns-1));lineNumber=r.lineNumber,column=r.column}return cursor.move(inSelectionMode,lineNumber,column,0)},MoveOperations2.down=function(config,model,lineNumber,column,leftoverVisibleColumns,count,allowMoveOnLastLine){var currentVisibleColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.visibleColumnFromColumn(model.getLineContent(lineNumber),column,config.tabSize)+leftoverVisibleColumns;lineNumber=lineNumber+count;var lineCount=model.getLineCount();return lineNumber>lineCount?(lineNumber=lineCount,allowMoveOnLastLine?column=model.getLineMaxColumn(lineNumber):column=Math.min(model.getLineMaxColumn(lineNumber),column)):column=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.columnFromVisibleColumn2(config,model,lineNumber,currentVisibleColumn),leftoverVisibleColumns=currentVisibleColumn-_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.visibleColumnFromColumn(model.getLineContent(lineNumber),column,config.tabSize),new CursorPosition(lineNumber,column,leftoverVisibleColumns)},MoveOperations2.moveDown=function(config,model,cursor,inSelectionMode,linesCount){var lineNumber,column;cursor.hasSelection()&&!inSelectionMode?(lineNumber=cursor.selection.endLineNumber,column=cursor.selection.endColumn):(lineNumber=cursor.position.lineNumber,column=cursor.position.column);var r=MoveOperations2.down(config,model,lineNumber,column,cursor.leftoverVisibleColumns,linesCount,!0);return cursor.move(inSelectionMode,r.lineNumber,r.column,r.leftoverVisibleColumns)},MoveOperations2.translateDown=function(config,model,cursor){var selection=cursor.selection,selectionStart=MoveOperations2.down(config,model,selection.selectionStartLineNumber,selection.selectionStartColumn,cursor.selectionStartLeftoverVisibleColumns,1,!1),position=MoveOperations2.down(config,model,selection.positionLineNumber,selection.positionColumn,cursor.leftoverVisibleColumns,1,!1);return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(selectionStart.lineNumber,selectionStart.column,selectionStart.lineNumber,selectionStart.column),selectionStart.leftoverVisibleColumns,new _core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(position.lineNumber,position.column),position.leftoverVisibleColumns)},MoveOperations2.up=function(config,model,lineNumber,column,leftoverVisibleColumns,count,allowMoveOnFirstLine){var currentVisibleColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.visibleColumnFromColumn(model.getLineContent(lineNumber),column,config.tabSize)+leftoverVisibleColumns;return lineNumber=lineNumber-count,lineNumber<1?(lineNumber=1,allowMoveOnFirstLine?column=model.getLineMinColumn(lineNumber):column=Math.min(model.getLineMaxColumn(lineNumber),column)):column=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.columnFromVisibleColumn2(config,model,lineNumber,currentVisibleColumn),leftoverVisibleColumns=currentVisibleColumn-_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.visibleColumnFromColumn(model.getLineContent(lineNumber),column,config.tabSize),new CursorPosition(lineNumber,column,leftoverVisibleColumns)},MoveOperations2.moveUp=function(config,model,cursor,inSelectionMode,linesCount){var lineNumber,column;cursor.hasSelection()&&!inSelectionMode?(lineNumber=cursor.selection.startLineNumber,column=cursor.selection.startColumn):(lineNumber=cursor.position.lineNumber,column=cursor.position.column);var r=MoveOperations2.up(config,model,lineNumber,column,cursor.leftoverVisibleColumns,linesCount,!0);return cursor.move(inSelectionMode,r.lineNumber,r.column,r.leftoverVisibleColumns)},MoveOperations2.translateUp=function(config,model,cursor){var selection=cursor.selection,selectionStart=MoveOperations2.up(config,model,selection.selectionStartLineNumber,selection.selectionStartColumn,cursor.selectionStartLeftoverVisibleColumns,1,!1),position=MoveOperations2.up(config,model,selection.positionLineNumber,selection.positionColumn,cursor.leftoverVisibleColumns,1,!1);return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(selectionStart.lineNumber,selectionStart.column,selectionStart.lineNumber,selectionStart.column),selectionStart.leftoverVisibleColumns,new _core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(position.lineNumber,position.column),position.leftoverVisibleColumns)},MoveOperations2.moveToBeginningOfLine=function(config,model,cursor,inSelectionMode){var lineNumber=cursor.position.lineNumber,minColumn=model.getLineMinColumn(lineNumber),firstNonBlankColumn=model.getLineFirstNonWhitespaceColumn(lineNumber)||minColumn,column,relevantColumnNumber=cursor.position.column;return relevantColumnNumber===firstNonBlankColumn?column=minColumn:column=firstNonBlankColumn,cursor.move(inSelectionMode,lineNumber,column,0)},MoveOperations2.moveToEndOfLine=function(config,model,cursor,inSelectionMode){var lineNumber=cursor.position.lineNumber,maxColumn=model.getLineMaxColumn(lineNumber);return cursor.move(inSelectionMode,lineNumber,maxColumn,0)},MoveOperations2.moveToBeginningOfBuffer=function(config,model,cursor,inSelectionMode){return cursor.move(inSelectionMode,1,1,0)},MoveOperations2.moveToEndOfBuffer=function(config,model,cursor,inSelectionMode){var lastLineNumber=model.getLineCount(),lastColumn=model.getLineMaxColumn(lastLineNumber);return cursor.move(inSelectionMode,lastLineNumber,lastColumn,0)},MoveOperations2}()},3500:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return WordOperations}),__webpack_require__.d(__webpack_exports__,"b",function(){return WordPartOperations});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2787),_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3282),_core_position_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2233),_core_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2056),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),WordOperations=function(){function WordOperations2(){}return WordOperations2._createWord=function(lineContent,wordType,nextCharClass,start,end){return{start,end,wordType,nextCharClass}},WordOperations2._findPreviousWordOnLine=function(wordSeparators,model,position){var lineContent=model.getLineContent(position.lineNumber);return this._doFindPreviousWordOnLine(lineContent,wordSeparators,position)},WordOperations2._doFindPreviousWordOnLine=function(lineContent,wordSeparators,position){for(var wordType=0,chIndex=position.column-2;chIndex>=0;chIndex--){var chCode=lineContent.charCodeAt(chIndex),chClass=wordSeparators.get(chCode);if(chClass===0){if(wordType===2)return this._createWord(lineContent,wordType,chClass,chIndex+1,this._findEndOfWord(lineContent,wordSeparators,wordType,chIndex+1));wordType=1}else if(chClass===2){if(wordType===1)return this._createWord(lineContent,wordType,chClass,chIndex+1,this._findEndOfWord(lineContent,wordSeparators,wordType,chIndex+1));wordType=2}else if(chClass===1&&wordType!==0)return this._createWord(lineContent,wordType,chClass,chIndex+1,this._findEndOfWord(lineContent,wordSeparators,wordType,chIndex+1))}return wordType!==0?this._createWord(lineContent,wordType,1,0,this._findEndOfWord(lineContent,wordSeparators,wordType,0)):null},WordOperations2._findEndOfWord=function(lineContent,wordSeparators,wordType,startIndex){for(var len=lineContent.length,chIndex=startIndex;chIndex<len;chIndex++){var chCode=lineContent.charCodeAt(chIndex),chClass=wordSeparators.get(chCode);if(chClass===1||wordType===1&&chClass===2||wordType===2&&chClass===0)return chIndex}return len},WordOperations2._findNextWordOnLine=function(wordSeparators,model,position){var lineContent=model.getLineContent(position.lineNumber);return this._doFindNextWordOnLine(lineContent,wordSeparators,position)},WordOperations2._doFindNextWordOnLine=function(lineContent,wordSeparators,position){for(var wordType=0,len=lineContent.length,chIndex=position.column-1;chIndex<len;chIndex++){var chCode=lineContent.charCodeAt(chIndex),chClass=wordSeparators.get(chCode);if(chClass===0){if(wordType===2)return this._createWord(lineContent,wordType,chClass,this._findStartOfWord(lineContent,wordSeparators,wordType,chIndex-1),chIndex);wordType=1}else if(chClass===2){if(wordType===1)return this._createWord(lineContent,wordType,chClass,this._findStartOfWord(lineContent,wordSeparators,wordType,chIndex-1),chIndex);wordType=2}else if(chClass===1&&wordType!==0)return this._createWord(lineContent,wordType,chClass,this._findStartOfWord(lineContent,wordSeparators,wordType,chIndex-1),chIndex)}return wordType!==0?this._createWord(lineContent,wordType,1,this._findStartOfWord(lineContent,wordSeparators,wordType,len-1),len):null},WordOperations2._findStartOfWord=function(lineContent,wordSeparators,wordType,startIndex){for(var chIndex=startIndex;chIndex>=0;chIndex--){var chCode=lineContent.charCodeAt(chIndex),chClass=wordSeparators.get(chCode);if(chClass===1||wordType===1&&chClass===2||wordType===2&&chClass===0)return chIndex+1}return 0},WordOperations2.moveWordLeft=function(wordSeparators,model,position,wordNavigationType){var lineNumber=position.lineNumber,column=position.column,movedToPreviousLine=!1;column===1&&lineNumber>1&&(movedToPreviousLine=!0,lineNumber=lineNumber-1,column=model.getLineMaxColumn(lineNumber));var prevWordOnLine=WordOperations2._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column));if(wordNavigationType===0){if(prevWordOnLine&&!movedToPreviousLine){var lastWhitespaceColumn=model.getLineLastNonWhitespaceColumn(lineNumber);if(lastWhitespaceColumn<column)return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.end+1)}return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine?prevWordOnLine.start+1:1)}if(wordNavigationType===1)return prevWordOnLine&&prevWordOnLine.wordType===2&&prevWordOnLine.end-prevWordOnLine.start===1&&prevWordOnLine.nextCharClass===0&&(prevWordOnLine=WordOperations2._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.start+1))),new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine?prevWordOnLine.start+1:1);if(wordNavigationType===3){for(;prevWordOnLine&&prevWordOnLine.wordType===2;)prevWordOnLine=WordOperations2._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.start+1));return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine?prevWordOnLine.start+1:1)}return prevWordOnLine&&column<=prevWordOnLine.end+1&&(prevWordOnLine=WordOperations2._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.start+1))),new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine?prevWordOnLine.end+1:1)},WordOperations2._moveWordPartLeft=function(model,position){var lineNumber=position.lineNumber,maxColumn=model.getLineMaxColumn(lineNumber);if(position.column===1)return lineNumber>1?new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber-1,model.getLineMaxColumn(lineNumber-1)):position;for(var lineContent=model.getLineContent(lineNumber),column=position.column-1;column>1;column--){var left=lineContent.charCodeAt(column-2),right=lineContent.charCodeAt(column-1);if(left!==95&&right===95)return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.C(left)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.D(right))return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.D(left)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.D(right)&&column+1<maxColumn){var rightRight=lineContent.charCodeAt(column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.C(rightRight))return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column)}}return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,1)},WordOperations2.moveWordRight=function(wordSeparators,model,position,wordNavigationType){var lineNumber=position.lineNumber,column=position.column,movedDown=!1;column===model.getLineMaxColumn(lineNumber)&&lineNumber<model.getLineCount()&&(movedDown=!0,lineNumber=lineNumber+1,column=1);var nextWordOnLine=WordOperations2._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column));if(wordNavigationType===2)nextWordOnLine&&nextWordOnLine.wordType===2&&nextWordOnLine.end-nextWordOnLine.start===1&&nextWordOnLine.nextCharClass===0&&(nextWordOnLine=WordOperations2._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,nextWordOnLine.end+1))),nextWordOnLine?column=nextWordOnLine.end+1:column=model.getLineMaxColumn(lineNumber);else if(wordNavigationType===3){for(movedDown&&(column=0);nextWordOnLine&&(nextWordOnLine.wordType===2||nextWordOnLine.start+1<=column);)nextWordOnLine=WordOperations2._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,nextWordOnLine.end+1));nextWordOnLine?column=nextWordOnLine.start+1:column=model.getLineMaxColumn(lineNumber)}else nextWordOnLine&&!movedDown&&column>=nextWordOnLine.start+1&&(nextWordOnLine=WordOperations2._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,nextWordOnLine.end+1))),nextWordOnLine?column=nextWordOnLine.start+1:column=model.getLineMaxColumn(lineNumber);return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column)},WordOperations2._moveWordPartRight=function(model,position){var lineNumber=position.lineNumber,maxColumn=model.getLineMaxColumn(lineNumber);if(position.column===maxColumn)return lineNumber<model.getLineCount()?new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber+1,1):position;for(var lineContent=model.getLineContent(lineNumber),column=position.column+1;column<maxColumn;column++){var left=lineContent.charCodeAt(column-2),right=lineContent.charCodeAt(column-1);if(left===95&&right!==95)return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.C(left)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.D(right))return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.D(left)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.D(right)&&column+1<maxColumn){var rightRight=lineContent.charCodeAt(column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.C(rightRight))return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column)}}return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,maxColumn)},WordOperations2._deleteWordLeftWhitespace=function(model,position){var lineContent=model.getLineContent(position.lineNumber),startIndex=position.column-2,lastNonWhitespace=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.E(lineContent,startIndex);return lastNonWhitespace+1<startIndex?new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,lastNonWhitespace+2,position.lineNumber,position.column):null},WordOperations2.deleteWordLeft=function(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){if(!selection.isEmpty())return selection;var position=new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(selection.positionLineNumber,selection.positionColumn),lineNumber=position.lineNumber,column=position.column;if(lineNumber===1&&column===1)return null;if(whitespaceHeuristics){var r=this._deleteWordLeftWhitespace(model,position);if(r)return r}var prevWordOnLine=WordOperations2._findPreviousWordOnLine(wordSeparators,model,position);return wordNavigationType===0?prevWordOnLine?column=prevWordOnLine.start+1:column>1?column=1:(lineNumber--,column=model.getLineMaxColumn(lineNumber)):(prevWordOnLine&&column<=prevWordOnLine.end+1&&(prevWordOnLine=WordOperations2._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.start+1))),prevWordOnLine?column=prevWordOnLine.end+1:column>1?column=1:(lineNumber--,column=model.getLineMaxColumn(lineNumber))),new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(lineNumber,column,position.lineNumber,position.column)},WordOperations2._deleteWordPartLeft=function(model,selection){if(!selection.isEmpty())return selection;var pos=selection.getPosition(),toPosition=WordOperations2._moveWordPartLeft(model,pos);return new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(pos.lineNumber,pos.column,toPosition.lineNumber,toPosition.column)},WordOperations2._findFirstNonWhitespaceChar=function(str,startIndex){for(var len=str.length,chIndex=startIndex;chIndex<len;chIndex++){var ch=str.charAt(chIndex);if(ch!==" "&&ch!=="	")return chIndex}return len},WordOperations2._deleteWordRightWhitespace=function(model,position){var lineContent=model.getLineContent(position.lineNumber),startIndex=position.column-1,firstNonWhitespace=this._findFirstNonWhitespaceChar(lineContent,startIndex);return startIndex+1<firstNonWhitespace?new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,position.column,position.lineNumber,firstNonWhitespace+1):null},WordOperations2.deleteWordRight=function(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){if(!selection.isEmpty())return selection;var position=new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(selection.positionLineNumber,selection.positionColumn),lineNumber=position.lineNumber,column=position.column,lineCount=model.getLineCount(),maxColumn=model.getLineMaxColumn(lineNumber);if(lineNumber===lineCount&&column===maxColumn)return null;if(whitespaceHeuristics){var r=this._deleteWordRightWhitespace(model,position);if(r)return r}var nextWordOnLine=WordOperations2._findNextWordOnLine(wordSeparators,model,position);return wordNavigationType===2?nextWordOnLine?column=nextWordOnLine.end+1:column<maxColumn||lineNumber===lineCount?column=maxColumn:(lineNumber++,nextWordOnLine=WordOperations2._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,1)),nextWordOnLine?column=nextWordOnLine.start+1:column=model.getLineMaxColumn(lineNumber)):(nextWordOnLine&&column>=nextWordOnLine.start+1&&(nextWordOnLine=WordOperations2._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,nextWordOnLine.end+1))),nextWordOnLine?column=nextWordOnLine.start+1:column<maxColumn||lineNumber===lineCount?column=maxColumn:(lineNumber++,nextWordOnLine=WordOperations2._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,1)),nextWordOnLine?column=nextWordOnLine.start+1:column=model.getLineMaxColumn(lineNumber))),new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(lineNumber,column,position.lineNumber,position.column)},WordOperations2._deleteWordPartRight=function(model,selection){if(!selection.isEmpty())return selection;var pos=selection.getPosition(),toPosition=WordOperations2._moveWordPartRight(model,pos);return new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(pos.lineNumber,pos.column,toPosition.lineNumber,toPosition.column)},WordOperations2.word=function(config,model,cursor,inSelectionMode,position){var wordSeparators=Object(_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_2__.a)(config.wordSeparators),prevWord=WordOperations2._findPreviousWordOnLine(wordSeparators,model,position),nextWord=WordOperations2._findNextWordOnLine(wordSeparators,model,position);if(!inSelectionMode){var startColumn_1,endColumn_1;return prevWord&&prevWord.wordType===1&&prevWord.start<=position.column-1&&position.column-1<=prevWord.end?(startColumn_1=prevWord.start+1,endColumn_1=prevWord.end+1):nextWord&&nextWord.wordType===1&&nextWord.start<=position.column-1&&position.column-1<=nextWord.end?(startColumn_1=nextWord.start+1,endColumn_1=nextWord.end+1):(prevWord?startColumn_1=prevWord.end+1:startColumn_1=1,nextWord?endColumn_1=nextWord.start+1:endColumn_1=model.getLineMaxColumn(position.lineNumber)),new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,startColumn_1,position.lineNumber,endColumn_1),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(position.lineNumber,endColumn_1),0)}var startColumn,endColumn;prevWord&&prevWord.wordType===1&&prevWord.start<position.column-1&&position.column-1<prevWord.end?(startColumn=prevWord.start+1,endColumn=prevWord.end+1):nextWord&&nextWord.wordType===1&&nextWord.start<position.column-1&&position.column-1<nextWord.end?(startColumn=nextWord.start+1,endColumn=nextWord.end+1):(startColumn=position.column,endColumn=position.column);var lineNumber=position.lineNumber,column;if(cursor.selectionStart.containsPosition(position))column=cursor.selectionStart.endColumn;else if(position.isBeforeOrEqual(cursor.selectionStart.getStartPosition())){column=startColumn;var possiblePosition=new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);cursor.selectionStart.containsPosition(possiblePosition)&&(column=cursor.selectionStart.endColumn)}else{column=endColumn;var possiblePosition=new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);cursor.selectionStart.containsPosition(possiblePosition)&&(column=cursor.selectionStart.startColumn)}return cursor.move(!0,lineNumber,column,0)},WordOperations2}(),WordPartOperations=function(_super){__extends(WordPartOperations2,_super);function WordPartOperations2(){return _super!==null&&_super.apply(this,arguments)||this}return WordPartOperations2.deleteWordPartLeft=function(wordSeparators,model,selection,whitespaceHeuristics){var candidates=enforceDefined([WordOperations.deleteWordLeft(wordSeparators,model,selection,whitespaceHeuristics,0),WordOperations.deleteWordLeft(wordSeparators,model,selection,whitespaceHeuristics,2),WordOperations._deleteWordPartLeft(model,selection)]);return candidates.sort(_core_range_js__WEBPACK_IMPORTED_MODULE_4__.a.compareRangesUsingEnds),candidates[2]},WordPartOperations2.deleteWordPartRight=function(wordSeparators,model,selection,whitespaceHeuristics){var candidates=enforceDefined([WordOperations.deleteWordRight(wordSeparators,model,selection,whitespaceHeuristics,0),WordOperations.deleteWordRight(wordSeparators,model,selection,whitespaceHeuristics,2),WordOperations._deleteWordPartRight(model,selection)]);return candidates.sort(_core_range_js__WEBPACK_IMPORTED_MODULE_4__.a.compareRangesUsingStarts),candidates[0]},WordPartOperations2.moveWordPartLeft=function(wordSeparators,model,position){var candidates=enforceDefined([WordOperations.moveWordLeft(wordSeparators,model,position,0),WordOperations.moveWordLeft(wordSeparators,model,position,2),WordOperations._moveWordPartLeft(model,position)]);return candidates.sort(_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a.compare),candidates[2]},WordPartOperations2.moveWordPartRight=function(wordSeparators,model,position){var candidates=enforceDefined([WordOperations.moveWordRight(wordSeparators,model,position,0),WordOperations.moveWordRight(wordSeparators,model,position,2),WordOperations._moveWordPartRight(model,position)]);return candidates.sort(_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a.compare),candidates[0]},WordPartOperations2}(WordOperations);function enforceDefined(arr){return arr.filter(function(el){return!!el})}},3501:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IClipboardService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IClipboardService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("clipboardService")},3502:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getPathLabel}),__webpack_require__.d(__webpack_exports__,"a",function(){return getBaseLabel}),__webpack_require__.d(__webpack_exports__,"c",function(){return normalizeDriveLetter});var _uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2640),_path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3236),_strings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2123),_network_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2814),_platform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2236),_resources_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2785);function getPathLabel(resource,userHomeProvider,rootProvider){if(typeof resource=="string"&&(resource=_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.file(resource)),rootProvider){var baseResource=rootProvider.getWorkspaceFolder(resource);if(baseResource){var hasMultipleRoots=rootProvider.getWorkspace().folders.length>1,pathLabel=void 0;if(Object(_resources_js__WEBPACK_IMPORTED_MODULE_5__.e)(baseResource.uri,resource)?pathLabel="":pathLabel=Object(_resources_js__WEBPACK_IMPORTED_MODULE_5__.h)(baseResource.uri,resource),hasMultipleRoots){var rootName=baseResource.name?baseResource.name:Object(_resources_js__WEBPACK_IMPORTED_MODULE_5__.b)(baseResource.uri);pathLabel=pathLabel?rootName+" \u2022 "+pathLabel:rootName}return pathLabel}}if(resource.scheme!==_network_js__WEBPACK_IMPORTED_MODULE_3__.b.file&&resource.scheme!==_network_js__WEBPACK_IMPORTED_MODULE_3__.b.untitled)return resource.with({query:null,fragment:null}).toString(!0);if(hasDriveLetter(resource.fsPath))return Object(_path_js__WEBPACK_IMPORTED_MODULE_1__.normalize)(normalizeDriveLetter(resource.fsPath));var res=Object(_path_js__WEBPACK_IMPORTED_MODULE_1__.normalize)(resource.fsPath);return!_platform_js__WEBPACK_IMPORTED_MODULE_4__.h&&userHomeProvider&&(res=tildify(res,userHomeProvider.userHome)),res}function getBaseLabel(resource){if(resource){typeof resource=="string"&&(resource=_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.file(resource));var base=Object(_resources_js__WEBPACK_IMPORTED_MODULE_5__.b)(resource)||(resource.scheme===_network_js__WEBPACK_IMPORTED_MODULE_3__.b.file?resource.fsPath:resource.path);return hasDriveLetter(base)?normalizeDriveLetter(base):base}}function hasDriveLetter(path){return!!(_platform_js__WEBPACK_IMPORTED_MODULE_4__.h&&path&&path[1]===":")}function normalizeDriveLetter(path){return hasDriveLetter(path)?path.charAt(0).toUpperCase()+path.slice(1):path}var normalizedUserHomeCached=Object.create(null);function tildify(path,userHome){if(_platform_js__WEBPACK_IMPORTED_MODULE_4__.h||!path||!userHome)return path;var normalizedUserHome=normalizedUserHomeCached.original===userHome?normalizedUserHomeCached.normalized:void 0;return normalizedUserHome||(normalizedUserHome=""+Object(_strings_js__WEBPACK_IMPORTED_MODULE_2__.L)(userHome,_path_js__WEBPACK_IMPORTED_MODULE_1__.posix.sep)+_path_js__WEBPACK_IMPORTED_MODULE_1__.posix.sep,normalizedUserHomeCached={original:userHome,normalized:normalizedUserHome}),(_platform_js__WEBPACK_IMPORTED_MODULE_4__.d?Object(_strings_js__WEBPACK_IMPORTED_MODULE_2__.O)(path,normalizedUserHome):Object(_strings_js__WEBPACK_IMPORTED_MODULE_2__.P)(path,normalizedUserHome))&&(path="~/"+path.substr(normalizedUserHome.length)),path}},3503:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LineDecoration}),__webpack_require__.d(__webpack_exports__,"b",function(){return LineDecorationsNormalizer});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),LineDecoration=function(){function LineDecoration2(startColumn,endColumn,className,type){this.startColumn=startColumn,this.endColumn=endColumn,this.className=className,this.type=type}return LineDecoration2._equals=function(a,b){return a.startColumn===b.startColumn&&a.endColumn===b.endColumn&&a.className===b.className&&a.type===b.type},LineDecoration2.equalsArr=function(a,b){var aLen=a.length,bLen=b.length;if(aLen!==bLen)return!1;for(var i=0;i<aLen;i++)if(!LineDecoration2._equals(a[i],b[i]))return!1;return!0},LineDecoration2.filter=function(lineDecorations,lineNumber,minLineColumn,maxLineColumn){if(lineDecorations.length===0)return[];for(var result=[],resultLen=0,i=0,len=lineDecorations.length;i<len;i++){var d=lineDecorations[i],range=d.range;if(!(range.endLineNumber<lineNumber||range.startLineNumber>lineNumber)&&!(range.isEmpty()&&(d.type===0||d.type===3))){var startColumn=range.startLineNumber===lineNumber?range.startColumn:minLineColumn,endColumn=range.endLineNumber===lineNumber?range.endColumn:maxLineColumn;result[resultLen++]=new LineDecoration2(startColumn,endColumn,d.inlineClassName,d.type)}}return result},LineDecoration2.compare=function(a,b){return a.startColumn===b.startColumn?a.endColumn===b.endColumn?a.className<b.className?-1:a.className>b.className?1:0:a.endColumn-b.endColumn:a.startColumn-b.startColumn},LineDecoration2}(),DecorationSegment=function(){function DecorationSegment2(startOffset,endOffset,className){this.startOffset=startOffset,this.endOffset=endOffset,this.className=className}return DecorationSegment2}(),Stack=function(){function Stack2(){this.stopOffsets=[],this.classNames=[],this.count=0}return Stack2.prototype.consumeLowerThan=function(maxStopOffset,nextStartOffset,result){for(;this.count>0&&this.stopOffsets[0]<maxStopOffset;){for(var i=0;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;result.push(new DecorationSegment(nextStartOffset,this.stopOffsets[i],this.classNames.join(" "))),nextStartOffset=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.count-=i+1}return this.count>0&&nextStartOffset<maxStopOffset&&(result.push(new DecorationSegment(nextStartOffset,maxStopOffset-1,this.classNames.join(" "))),nextStartOffset=maxStopOffset),nextStartOffset},Stack2.prototype.insert=function(stopOffset,className){if(this.count===0||this.stopOffsets[this.count-1]<=stopOffset)this.stopOffsets.push(stopOffset),this.classNames.push(className);else for(var i=0;i<this.count;i++)if(this.stopOffsets[i]>=stopOffset){this.stopOffsets.splice(i,0,stopOffset),this.classNames.splice(i,0,className);break}this.count++},Stack2}(),LineDecorationsNormalizer=function(){function LineDecorationsNormalizer2(){}return LineDecorationsNormalizer2.normalize=function(lineContent,lineDecorations){if(lineDecorations.length===0)return[];for(var result=[],stack=new Stack,nextStartOffset=0,i=0,len=lineDecorations.length;i<len;i++){var d=lineDecorations[i],startColumn=d.startColumn,endColumn=d.endColumn,className=d.className;if(startColumn>1){var charCodeBefore=lineContent.charCodeAt(startColumn-2);_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.A(charCodeBefore)&&startColumn--}if(endColumn>1){var charCodeBefore=lineContent.charCodeAt(endColumn-2);_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.A(charCodeBefore)&&endColumn--}var currentStartOffset=startColumn-1,currentEndOffset=endColumn-2;nextStartOffset=stack.consumeLowerThan(currentStartOffset,nextStartOffset,result),stack.count===0&&(nextStartOffset=currentStartOffset),stack.insert(currentEndOffset,className)}return stack.consumeLowerThan(1073741824,nextStartOffset,result),result},LineDecorationsNormalizer2}()},3504:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createStringBuilder});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),createStringBuilder;typeof TextDecoder<"u"?createStringBuilder=function(capacity){return new StringBuilder(capacity)}:createStringBuilder=function(capacity){return new CompatStringBuilder};var StringBuilder=function(){function StringBuilder2(capacity){this._decoder=new TextDecoder("UTF-16LE"),this._capacity=capacity|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return StringBuilder2.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0},StringBuilder2.prototype.build=function(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()},StringBuilder2.prototype._buildBuffer=function(){if(this._bufferLength===0)return"";var view=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(view)},StringBuilder2.prototype._flushBuffer=function(){var bufferString=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[bufferString]:this._completedStrings[this._completedStrings.length]=bufferString},StringBuilder2.prototype.write1=function(charCode){var remainingSpace=this._capacity-this._bufferLength;remainingSpace<=1&&(remainingSpace===0||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.A(charCode))&&this._flushBuffer(),this._buffer[this._bufferLength++]=charCode},StringBuilder2.prototype.appendASCII=function(charCode){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=charCode},StringBuilder2.prototype.appendASCIIString=function(str){var strLen=str.length;if(this._bufferLength+strLen>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=str;return}for(var i=0;i<strLen;i++)this._buffer[this._bufferLength++]=str.charCodeAt(i)},StringBuilder2}(),CompatStringBuilder=function(){function CompatStringBuilder2(){this._pieces=[],this._piecesLen=0}return CompatStringBuilder2.prototype.reset=function(){this._pieces=[],this._piecesLen=0},CompatStringBuilder2.prototype.build=function(){return this._pieces.join("")},CompatStringBuilder2.prototype.write1=function(charCode){this._pieces[this._piecesLen++]=String.fromCharCode(charCode)},CompatStringBuilder2.prototype.appendASCII=function(charCode){this._pieces[this._piecesLen++]=String.fromCharCode(charCode)},CompatStringBuilder2.prototype.appendASCIIString=function(str){this._pieces[this._piecesLen++]=str},CompatStringBuilder2}()},3505:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PrefixSumComputer}),__webpack_require__.d(__webpack_exports__,"b",function(){return PrefixSumComputerWithCache});var _base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3493),PrefixSumIndexOfResult=function(){function PrefixSumIndexOfResult2(index,remainder){this.index=index,this.remainder=remainder}return PrefixSumIndexOfResult2}(),PrefixSumComputer=function(){function PrefixSumComputer2(values){this.values=values,this.prefixSum=new Uint32Array(values.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return PrefixSumComputer2.prototype.getCount=function(){return this.values.length},PrefixSumComputer2.prototype.insertValues=function(insertIndex,insertValues){insertIndex=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(insertIndex);var oldValues=this.values,oldPrefixSum=this.prefixSum,insertValuesLen=insertValues.length;return insertValuesLen===0?!1:(this.values=new Uint32Array(oldValues.length+insertValuesLen),this.values.set(oldValues.subarray(0,insertIndex),0),this.values.set(oldValues.subarray(insertIndex),insertIndex+insertValuesLen),this.values.set(insertValues,insertIndex),insertIndex-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=insertIndex-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(oldPrefixSum.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},PrefixSumComputer2.prototype.changeValue=function(index,value){return index=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(index),value=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(value),this.values[index]===value?!1:(this.values[index]=value,index-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=index-1),!0)},PrefixSumComputer2.prototype.removeValues=function(startIndex,cnt){startIndex=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(startIndex),cnt=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(cnt);var oldValues=this.values,oldPrefixSum=this.prefixSum;if(startIndex>=oldValues.length)return!1;var maxCnt=oldValues.length-startIndex;return cnt>=maxCnt&&(cnt=maxCnt),cnt===0?!1:(this.values=new Uint32Array(oldValues.length-cnt),this.values.set(oldValues.subarray(0,startIndex),0),this.values.set(oldValues.subarray(startIndex+cnt),startIndex),this.prefixSum=new Uint32Array(this.values.length),startIndex-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=startIndex-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(oldPrefixSum.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},PrefixSumComputer2.prototype.getTotalValue=function(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)},PrefixSumComputer2.prototype.getAccumulatedValue=function(index){return index<0?0:(index=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(index),this._getAccumulatedValue(index))},PrefixSumComputer2.prototype._getAccumulatedValue=function(index){if(index<=this.prefixSumValidIndex[0])return this.prefixSum[index];var startIndex=this.prefixSumValidIndex[0]+1;startIndex===0&&(this.prefixSum[0]=this.values[0],startIndex++),index>=this.values.length&&(index=this.values.length-1);for(var i=startIndex;i<=index;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],index),this.prefixSum[index]},PrefixSumComputer2.prototype.getIndexOf=function(accumulatedValue){accumulatedValue=Math.floor(accumulatedValue),this.getTotalValue();for(var low=0,high=this.values.length-1,mid=0,midStop=0,midStart=0;low<=high;)if(mid=low+(high-low)/2|0,midStop=this.prefixSum[mid],midStart=midStop-this.values[mid],accumulatedValue<midStart)high=mid-1;else if(accumulatedValue>=midStop)low=mid+1;else break;return new PrefixSumIndexOfResult(mid,accumulatedValue-midStart)},PrefixSumComputer2}(),PrefixSumComputerWithCache=function(){function PrefixSumComputerWithCache2(values){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new PrefixSumComputer(values),this._bustCache()}return PrefixSumComputerWithCache2.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},PrefixSumComputerWithCache2.prototype.insertValues=function(insertIndex,insertValues){this._actual.insertValues(insertIndex,insertValues)&&this._bustCache()},PrefixSumComputerWithCache2.prototype.changeValue=function(index,value){this._actual.changeValue(index,value)&&this._bustCache()},PrefixSumComputerWithCache2.prototype.removeValues=function(startIndex,cnt){this._actual.removeValues(startIndex,cnt)&&this._bustCache()},PrefixSumComputerWithCache2.prototype.getTotalValue=function(){return this._actual.getTotalValue()},PrefixSumComputerWithCache2.prototype.getAccumulatedValue=function(index){return this._actual.getAccumulatedValue(index)},PrefixSumComputerWithCache2.prototype.getIndexOf=function(accumulatedValue){if(accumulatedValue=Math.floor(accumulatedValue),this._cache!==null){var cacheIndex=accumulatedValue-this._cacheAccumulatedValueStart;if(cacheIndex>=0&&cacheIndex<this._cache.length)return this._cache[cacheIndex]}return this._actual.getIndexOf(accumulatedValue)},PrefixSumComputerWithCache2.prototype.warmUpCache=function(accumulatedValueStart,accumulatedValueEnd){for(var newCache=[],accumulatedValue=accumulatedValueStart;accumulatedValue<=accumulatedValueEnd;accumulatedValue++)newCache[accumulatedValue-accumulatedValueStart]=this.getIndexOf(accumulatedValue);this._cache=newCache,this._cacheAccumulatedValueStart=accumulatedValueStart},PrefixSumComputerWithCache2}()},3506:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdGenerator}),__webpack_require__.d(__webpack_exports__,"b",function(){return defaultGenerator});var IdGenerator=function(){function IdGenerator2(prefix){this._prefix=prefix,this._lastId=0}return IdGenerator2.prototype.nextId=function(){return this._prefix+ ++this._lastId},IdGenerator2}(),defaultGenerator=new IdGenerator("id#")},3507:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IconLabel});var _iconlabel_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5780),_iconlabel_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_iconlabel_css__WEBPACK_IMPORTED_MODULE_0__),_dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2124),_highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3508),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2033),_common_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3379),_common_objects_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2734),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),FastLabelNode=function(){function FastLabelNode2(_element){this._element=_element}return Object.defineProperty(FastLabelNode2.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(FastLabelNode2.prototype,"textContent",{set:function(content){this.disposed||content===this._textContent||(this._textContent=content,this._element.textContent=content)},enumerable:!0,configurable:!0}),Object.defineProperty(FastLabelNode2.prototype,"className",{set:function(className){this.disposed||className===this._className||(this._className=className,this._element.className=className)},enumerable:!0,configurable:!0}),Object.defineProperty(FastLabelNode2.prototype,"title",{set:function(title){this.disposed||title===this._title||(this._title=title,this._title?this._element.title=title:this._element.removeAttribute("title"))},enumerable:!0,configurable:!0}),Object.defineProperty(FastLabelNode2.prototype,"empty",{set:function(empty){this.disposed||empty===this._empty||(this._empty=empty,this._element.style.marginLeft=empty?"0":"")},enumerable:!0,configurable:!0}),FastLabelNode2.prototype.dispose=function(){this.disposed=!0},FastLabelNode2}(),IconLabel=function(_super){__extends(IconLabel2,_super);function IconLabel2(container,options){var _a,_b,_this=_super.call(this)||this;_this.domNode=_this._register(new FastLabelNode(_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a(".monaco-icon-label"))));var labelContainer=_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(_this.domNode.element,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a(".monaco-icon-label-container")),nameContainer=_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(labelContainer,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.monaco-icon-name-container"));return _this.descriptionContainer=_this._register(new FastLabelNode(_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(labelContainer,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.monaco-icon-description-container")))),!((_a=options)===null||_a===void 0)&&_a.supportHighlights?_this.nameNode=new LabelWithHighlights(nameContainer,!!options.supportCodicons):_this.nameNode=new Label(nameContainer),!((_b=options)===null||_b===void 0)&&_b.supportDescriptionHighlights?_this.descriptionNodeFactory=function(){return new _highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__.a(_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(_this.descriptionContainer.element,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.label-description")),!!options.supportCodicons)}:_this.descriptionNodeFactory=function(){return _this._register(new FastLabelNode(_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(_this.descriptionContainer.element,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.label-description"))))},_this}return IconLabel2.prototype.setLabel=function(label,description,options){var _a,_b,_c,classes=["monaco-icon-label"];options&&(options.extraClasses&&classes.push.apply(classes,options.extraClasses),options.italic&&classes.push("italic")),this.domNode.className=classes.join(" "),this.domNode.title=((_a=options)===null||_a===void 0?void 0:_a.title)||"",this.nameNode.setLabel(label,options),(description||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof _highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__.a?(this.descriptionNode.set(description||"",options?options.descriptionMatches:void 0),!((_b=options)===null||_b===void 0)&&_b.descriptionTitle?this.descriptionNode.element.title=options.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=description||"",this.descriptionNode.title=((_c=options)===null||_c===void 0?void 0:_c.descriptionTitle)||"",this.descriptionNode.empty=!description))},IconLabel2}(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a),Label=function(){function Label2(container){this.container=container,this.label=void 0,this.singleLabel=void 0}return Label2.prototype.setLabel=function(label,options){var _a,_b,_c,_d;if(!(this.label===label&&Object(_common_objects_js__WEBPACK_IMPORTED_MODULE_5__.e)(this.options,options)))if(this.label=label,this.options=options,typeof label=="string")this.singleLabel||(this.container.innerHTML="",_dom_js__WEBPACK_IMPORTED_MODULE_1__.M(this.container,"multiple"),this.singleLabel=_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(this.container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("a.label-name",{id:(_a=options)===null||_a===void 0?void 0:_a.domId}))),this.singleLabel.textContent=label;else{this.container.innerHTML="",_dom_js__WEBPACK_IMPORTED_MODULE_1__.f(this.container,"multiple"),this.singleLabel=void 0;for(var i=0;i<label.length;i++){var l=label[i],id=((_b=options)===null||_b===void 0?void 0:_b.domId)&&((_c=options)===null||_c===void 0?void 0:_c.domId)+"_"+i;_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(this.container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("a.label-name",{id,"data-icon-label-count":label.length,"data-icon-label-index":i},l)),i<label.length-1&&_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(this.container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.label-separator",void 0,((_d=options)===null||_d===void 0?void 0:_d.separator)||"/"))}}},Label2}();function splitMatches(labels,separator,matches){if(matches){var labelStart=0;return labels.map(function(label){var labelRange={start:labelStart,end:labelStart+label.length},result=matches.map(function(match){return _common_range_js__WEBPACK_IMPORTED_MODULE_4__.a.intersect(labelRange,match)}).filter(function(range){return!_common_range_js__WEBPACK_IMPORTED_MODULE_4__.a.isEmpty(range)}).map(function(_a){var start=_a.start,end=_a.end;return{start:start-labelStart,end:end-labelStart}});return labelStart=labelRange.end+separator.length,result})}}var LabelWithHighlights=function(){function LabelWithHighlights2(container,supportCodicons){this.container=container,this.supportCodicons=supportCodicons,this.label=void 0,this.singleLabel=void 0}return LabelWithHighlights2.prototype.setLabel=function(label,options){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;if(!(this.label===label&&Object(_common_objects_js__WEBPACK_IMPORTED_MODULE_5__.e)(this.options,options)))if(this.label=label,this.options=options,typeof label=="string")this.singleLabel||(this.container.innerHTML="",_dom_js__WEBPACK_IMPORTED_MODULE_1__.M(this.container,"multiple"),this.singleLabel=new _highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__.a(_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(this.container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("a.label-name",{id:(_a=options)===null||_a===void 0?void 0:_a.domId})),this.supportCodicons)),this.singleLabel.set(label,(_b=options)===null||_b===void 0?void 0:_b.matches,(_c=options)===null||_c===void 0?void 0:_c.title,(_d=options)===null||_d===void 0?void 0:_d.labelEscapeNewLines);else{this.container.innerHTML="",_dom_js__WEBPACK_IMPORTED_MODULE_1__.f(this.container,"multiple"),this.singleLabel=void 0;for(var separator=((_e=options)===null||_e===void 0?void 0:_e.separator)||"/",matches=splitMatches(label,separator,(_f=options)===null||_f===void 0?void 0:_f.matches),i=0;i<label.length;i++){var l=label[i],m=matches?matches[i]:void 0,id=((_g=options)===null||_g===void 0?void 0:_g.domId)&&((_h=options)===null||_h===void 0?void 0:_h.domId)+"_"+i,name_1=_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("a.label-name",{id,"data-icon-label-count":label.length,"data-icon-label-index":i}),highlightedLabel=new _highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__.a(_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(this.container,name_1),this.supportCodicons);highlightedLabel.set(l,m,(_j=options)===null||_j===void 0?void 0:_j.title,(_k=options)===null||_k===void 0?void 0:_k.labelEscapeNewLines),i<label.length-1&&_dom_js__WEBPACK_IMPORTED_MODULE_1__.q(name_1,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.label-separator",void 0,separator))}}},LabelWithHighlights2}()},3508:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return HighlightedLabel});var _common_objects_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2734),_codiconLabel_codiconLabel_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3373),_common_strings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2123),HighlightedLabel=function(){function HighlightedLabel2(container,supportCodicons){this.supportCodicons=supportCodicons,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",container.appendChild(this.domNode)}return Object.defineProperty(HighlightedLabel2.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),HighlightedLabel2.prototype.set=function(text,highlights,title,escapeNewLines){highlights===void 0&&(highlights=[]),title===void 0&&(title=""),text||(text=""),escapeNewLines&&(text=HighlightedLabel2.escapeNewLines(text,highlights)),!(this.didEverRender&&this.text===text&&this.title===title&&_common_objects_js__WEBPACK_IMPORTED_MODULE_0__.e(this.highlights,highlights))&&(Array.isArray(highlights)||(highlights=[]),this.text=text,this.title=title,this.highlights=highlights,this.render())},HighlightedLabel2.prototype.render=function(){for(var htmlContent="",pos=0,_i=0,_a=this.highlights;_i<_a.length;_i++){var highlight=_a[_i];if(highlight.end!==highlight.start){if(pos<highlight.start){htmlContent+="<span>";var substring_1=this.text.substring(pos,highlight.start);htmlContent+=this.supportCodicons?Object(_codiconLabel_codiconLabel_js__WEBPACK_IMPORTED_MODULE_1__.a)(substring_1):Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.o)(substring_1),htmlContent+="</span>",pos=highlight.end}htmlContent+='<span class="highlight">';var substring=this.text.substring(highlight.start,highlight.end);htmlContent+=this.supportCodicons?Object(_codiconLabel_codiconLabel_js__WEBPACK_IMPORTED_MODULE_1__.a)(substring):Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.o)(substring),htmlContent+="</span>",pos=highlight.end}}if(pos<this.text.length){htmlContent+="<span>";var substring=this.text.substring(pos);htmlContent+=this.supportCodicons?Object(_codiconLabel_codiconLabel_js__WEBPACK_IMPORTED_MODULE_1__.a)(substring):Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.o)(substring),htmlContent+="</span>"}this.domNode.innerHTML=htmlContent,this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0},HighlightedLabel2.escapeNewLines=function(text,highlights){var total=0,extra=0;return text.replace(/\r\n|\r|\n/g,function(match,offset){extra=match===`\r
`?-1:0,offset+=total;for(var _i=0,highlights_1=highlights;_i<highlights_1.length;_i++){var highlight=highlights_1[_i];highlight.end<=offset||(highlight.start>=offset&&(highlight.start+=extra),highlight.end>=offset&&(highlight.end+=extra))}return total+=extra,"\u23CE"})},HighlightedLabel2}()},3509:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return clamp});function clamp(value,min,max){return Math.min(Math.max(value,min),max)}},3510:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ILogService}),__webpack_require__.d(__webpack_exports__,"b",function(){return NullLogService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),ILogService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("logService"),NullLogService=function(){function NullLogService2(){}return NullLogService2.prototype.trace=function(message){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i]},NullLogService2.prototype.error=function(message){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i]},NullLogService2.prototype.dispose=function(){},NullLogService2}()},3511:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IWorkspaceContextService}),__webpack_require__.d(__webpack_exports__,"b",function(){return WorkspaceFolder});var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2640),_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2785),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2232),_base_common_map_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2803),IWorkspaceContextService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__.c)("contextService"),IWorkspace;(function(IWorkspace2){function isIWorkspace(thing){return thing&&typeof thing=="object"&&typeof thing.id=="string"&&Array.isArray(thing.folders)}IWorkspace2.isIWorkspace=isIWorkspace})(IWorkspace||(IWorkspace={}));var IWorkspaceFolder;(function(IWorkspaceFolder2){function isIWorkspaceFolder(thing){return thing&&typeof thing=="object"&&_base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.isUri(thing.uri)&&typeof thing.name=="string"&&typeof thing.toResource=="function"}IWorkspaceFolder2.isIWorkspaceFolder=isIWorkspaceFolder})(IWorkspaceFolder||(IWorkspaceFolder={}));var Workspace=function(){function Workspace2(_id,folders,_configuration){folders===void 0&&(folders=[]),_configuration===void 0&&(_configuration=null),this._id=_id,this._configuration=_configuration,this._foldersMap=_base_common_map_js__WEBPACK_IMPORTED_MODULE_3__.c.forPaths(),this.folders=folders}return Object.defineProperty(Workspace2.prototype,"folders",{get:function(){return this._folders},set:function(folders){this._folders=folders,this.updateFoldersMap()},enumerable:!0,configurable:!0}),Object.defineProperty(Workspace2.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(Workspace2.prototype,"configuration",{get:function(){return this._configuration},set:function(configuration){this._configuration=configuration},enumerable:!0,configurable:!0}),Workspace2.prototype.getFolder=function(resource){return resource&&this._foldersMap.findSubstr(resource.with({scheme:resource.scheme,authority:resource.authority,path:resource.path}).toString())||null},Workspace2.prototype.updateFoldersMap=function(){this._foldersMap=_base_common_map_js__WEBPACK_IMPORTED_MODULE_3__.c.forPaths();for(var _i=0,_a=this.folders;_i<_a.length;_i++){var folder=_a[_i];this._foldersMap.set(folder.uri.toString(),folder)}},Workspace2.prototype.toJSON=function(){return{id:this.id,folders:this.folders,configuration:this.configuration}},Workspace2}(),WorkspaceFolder=function(){function WorkspaceFolder2(data,raw){this.raw=raw,this.uri=data.uri,this.index=data.index,this.name=data.name}return WorkspaceFolder2.prototype.toResource=function(relativePath){return _base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__.f(this.uri,relativePath)},WorkspaceFolder2.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}},WorkspaceFolder2}()},3512:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return Text}),__webpack_require__.d(__webpack_exports__,"b",function(){return Placeholder}),__webpack_require__.d(__webpack_exports__,"a",function(){return Choice}),__webpack_require__.d(__webpack_exports__,"c",function(){return SnippetParser});var __extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},_a,Scanner=function(){function Scanner2(){this.value="",this.pos=0}return Scanner2.isDigitCharacter=function(ch){return ch>=48&&ch<=57},Scanner2.isVariableCharacter=function(ch){return ch===95||ch>=97&&ch<=122||ch>=65&&ch<=90},Scanner2.prototype.text=function(value){this.value=value,this.pos=0},Scanner2.prototype.tokenText=function(token){return this.value.substr(token.pos,token.len)},Scanner2.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var pos=this.pos,len=0,ch=this.value.charCodeAt(pos),type;if(type=Scanner2._table[ch],typeof type=="number")return this.pos+=1,{type,pos,len:1};if(Scanner2.isDigitCharacter(ch)){type=8;do len+=1,ch=this.value.charCodeAt(pos+len);while(Scanner2.isDigitCharacter(ch));return this.pos+=len,{type,pos,len}}if(Scanner2.isVariableCharacter(ch)){type=9;do ch=this.value.charCodeAt(pos+ ++len);while(Scanner2.isVariableCharacter(ch)||Scanner2.isDigitCharacter(ch));return this.pos+=len,{type,pos,len}}type=10;do len+=1,ch=this.value.charCodeAt(pos+len);while(!isNaN(ch)&&typeof Scanner2._table[ch]>"u"&&!Scanner2.isDigitCharacter(ch)&&!Scanner2.isVariableCharacter(ch));return this.pos+=len,{type,pos,len}},Scanner2._table=(_a={},_a[36]=0,_a[58]=1,_a[44]=2,_a[123]=3,_a[125]=4,_a[92]=5,_a[47]=6,_a[124]=7,_a[43]=11,_a[45]=12,_a[63]=13,_a),Scanner2}(),Marker=function(){function Marker2(){this._children=[]}return Marker2.prototype.appendChild=function(child){return child instanceof Text&&this._children[this._children.length-1]instanceof Text?this._children[this._children.length-1].value+=child.value:(child.parent=this,this._children.push(child)),this},Marker2.prototype.replace=function(child,others){var parent=child.parent,idx=parent.children.indexOf(child),newChildren=parent.children.slice(0);newChildren.splice.apply(newChildren,__spreadArrays([idx,1],others)),parent._children=newChildren,function _fixParent(children,parent2){for(var _i=0,children_1=children;_i<children_1.length;_i++){var child_1=children_1[_i];child_1.parent=parent2,_fixParent(child_1.children,child_1)}}(others,parent)},Object.defineProperty(Marker2.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(Marker2.prototype,"snippet",{get:function(){for(var candidate=this;;){if(!candidate)return;if(candidate instanceof TextmateSnippet)return candidate;candidate=candidate.parent}},enumerable:!0,configurable:!0}),Marker2.prototype.toString=function(){return this.children.reduce(function(prev,cur){return prev+cur.toString()},"")},Marker2.prototype.len=function(){return 0},Marker2}(),Text=function(_super){__extends(Text2,_super);function Text2(value){var _this_1=_super.call(this)||this;return _this_1.value=value,_this_1}return Text2.prototype.toString=function(){return this.value},Text2.prototype.len=function(){return this.value.length},Text2.prototype.clone=function(){return new Text2(this.value)},Text2}(Marker),TransformableMarker=function(_super){__extends(TransformableMarker2,_super);function TransformableMarker2(){return _super!==null&&_super.apply(this,arguments)||this}return TransformableMarker2}(Marker),Placeholder=function(_super){__extends(Placeholder2,_super);function Placeholder2(index){var _this_1=_super.call(this)||this;return _this_1.index=index,_this_1}return Placeholder2.compareByIndex=function(a,b){return a.index===b.index?0:a.isFinalTabstop?1:b.isFinalTabstop||a.index<b.index?-1:a.index>b.index?1:0},Object.defineProperty(Placeholder2.prototype,"isFinalTabstop",{get:function(){return this.index===0},enumerable:!0,configurable:!0}),Object.defineProperty(Placeholder2.prototype,"choice",{get:function(){return this._children.length===1&&this._children[0]instanceof Choice?this._children[0]:void 0},enumerable:!0,configurable:!0}),Placeholder2.prototype.clone=function(){var ret=new Placeholder2(this.index);return this.transform&&(ret.transform=this.transform.clone()),ret._children=this.children.map(function(child){return child.clone()}),ret},Placeholder2}(TransformableMarker),Choice=function(_super){__extends(Choice2,_super);function Choice2(){var _this_1=_super!==null&&_super.apply(this,arguments)||this;return _this_1.options=[],_this_1}return Choice2.prototype.appendChild=function(marker){return marker instanceof Text&&(marker.parent=this,this.options.push(marker)),this},Choice2.prototype.toString=function(){return this.options[0].value},Choice2.prototype.len=function(){return this.options[0].len()},Choice2.prototype.clone=function(){var ret=new Choice2;return this.options.forEach(ret.appendChild,ret),ret},Choice2}(Marker),Transform=function(_super){__extends(Transform2,_super);function Transform2(){var _this_1=_super!==null&&_super.apply(this,arguments)||this;return _this_1.regexp=new RegExp(""),_this_1}return Transform2.prototype.resolve=function(value){var _this=this,didMatch=!1,ret=value.replace(this.regexp,function(){return didMatch=!0,_this._replace(Array.prototype.slice.call(arguments,0,-2))});return!didMatch&&this._children.some(function(child){return child instanceof FormatString&&!!child.elseValue})&&(ret=this._replace([])),ret},Transform2.prototype._replace=function(groups){for(var ret="",_i=0,_a2=this._children;_i<_a2.length;_i++){var marker=_a2[_i];if(marker instanceof FormatString){var value=groups[marker.index]||"";value=marker.resolve(value),ret+=value}else ret+=marker.toString()}return ret},Transform2.prototype.toString=function(){return""},Transform2.prototype.clone=function(){var ret=new Transform2;return ret.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),ret._children=this.children.map(function(child){return child.clone()}),ret},Transform2}(Marker),FormatString=function(_super){__extends(FormatString2,_super);function FormatString2(index,shorthandName,ifValue,elseValue){var _this_1=_super.call(this)||this;return _this_1.index=index,_this_1.shorthandName=shorthandName,_this_1.ifValue=ifValue,_this_1.elseValue=elseValue,_this_1}return FormatString2.prototype.resolve=function(value){return this.shorthandName==="upcase"?value?value.toLocaleUpperCase():"":this.shorthandName==="downcase"?value?value.toLocaleLowerCase():"":this.shorthandName==="capitalize"?value?value[0].toLocaleUpperCase()+value.substr(1):"":this.shorthandName==="pascalcase"?value?this._toPascalCase(value):"":value&&typeof this.ifValue=="string"?this.ifValue:!value&&typeof this.elseValue=="string"?this.elseValue:value||""},FormatString2.prototype._toPascalCase=function(value){var match=value.match(/[a-z]+/gi);return match?match.map(function(word){return word.charAt(0).toUpperCase()+word.substr(1).toLowerCase()}).join(""):value},FormatString2.prototype.clone=function(){var ret=new FormatString2(this.index,this.shorthandName,this.ifValue,this.elseValue);return ret},FormatString2}(Marker),Variable=function(_super){__extends(Variable2,_super);function Variable2(name){var _this_1=_super.call(this)||this;return _this_1.name=name,_this_1}return Variable2.prototype.resolve=function(resolver){var value=resolver.resolve(this);return this.transform&&(value=this.transform.resolve(value||"")),value!==void 0?(this._children=[new Text(value)],!0):!1},Variable2.prototype.clone=function(){var ret=new Variable2(this.name);return this.transform&&(ret.transform=this.transform.clone()),ret._children=this.children.map(function(child){return child.clone()}),ret},Variable2}(TransformableMarker);function walk(marker,visitor){for(var stack=__spreadArrays(marker);stack.length>0;){var marker_1=stack.shift(),recurse=visitor(marker_1);if(!recurse)break;stack.unshift.apply(stack,marker_1.children)}}var TextmateSnippet=function(_super){__extends(TextmateSnippet2,_super);function TextmateSnippet2(){return _super!==null&&_super.apply(this,arguments)||this}return Object.defineProperty(TextmateSnippet2.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var all_1=[],last_1;this.walk(function(candidate){return candidate instanceof Placeholder&&(all_1.push(candidate),last_1=!last_1||last_1.index<candidate.index?candidate:last_1),!0}),this._placeholders={all:all_1,last:last_1}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(TextmateSnippet2.prototype,"placeholders",{get:function(){var all=this.placeholderInfo.all;return all},enumerable:!0,configurable:!0}),TextmateSnippet2.prototype.offset=function(marker){var pos=0,found=!1;return this.walk(function(candidate){return candidate===marker?(found=!0,!1):(pos+=candidate.len(),!0)}),found?pos:-1},TextmateSnippet2.prototype.fullLen=function(marker){var ret=0;return walk([marker],function(marker2){return ret+=marker2.len(),!0}),ret},TextmateSnippet2.prototype.enclosingPlaceholders=function(placeholder){for(var ret=[],parent=placeholder.parent;parent;)parent instanceof Placeholder&&ret.push(parent),parent=parent.parent;return ret},TextmateSnippet2.prototype.resolveVariables=function(resolver){var _this_1=this;return this.walk(function(candidate){return candidate instanceof Variable&&candidate.resolve(resolver)&&(_this_1._placeholders=void 0),!0}),this},TextmateSnippet2.prototype.appendChild=function(child){return this._placeholders=void 0,_super.prototype.appendChild.call(this,child)},TextmateSnippet2.prototype.replace=function(child,others){return this._placeholders=void 0,_super.prototype.replace.call(this,child,others)},TextmateSnippet2.prototype.clone=function(){var ret=new TextmateSnippet2;return this._children=this.children.map(function(child){return child.clone()}),ret},TextmateSnippet2.prototype.walk=function(visitor){walk(this.children,visitor)},TextmateSnippet2}(Marker),SnippetParser=function(){function SnippetParser2(){this._scanner=new Scanner,this._token={type:14,pos:0,len:0}}return SnippetParser2.escape=function(value){return value.replace(/\$|}|\\/g,"\\$&")},SnippetParser2.prototype.parse=function(value,insertFinalTabstop,enforceFinalTabstop){this._scanner.text(value),this._token=this._scanner.next();for(var snippet=new TextmateSnippet;this._parse(snippet););var placeholderDefaultValues=new Map,incompletePlaceholders=[],placeholderCount=0;snippet.walk(function(marker){return marker instanceof Placeholder&&(placeholderCount+=1,marker.isFinalTabstop?placeholderDefaultValues.set(0,void 0):!placeholderDefaultValues.has(marker.index)&&marker.children.length>0?placeholderDefaultValues.set(marker.index,marker.children):incompletePlaceholders.push(marker)),!0});for(var _i=0,incompletePlaceholders_1=incompletePlaceholders;_i<incompletePlaceholders_1.length;_i++){var placeholder=incompletePlaceholders_1[_i],defaultValues=placeholderDefaultValues.get(placeholder.index);if(defaultValues){var clone=new Placeholder(placeholder.index);clone.transform=placeholder.transform;for(var _a2=0,defaultValues_1=defaultValues;_a2<defaultValues_1.length;_a2++){var child=defaultValues_1[_a2];clone.appendChild(child.clone())}snippet.replace(placeholder,[clone])}}return enforceFinalTabstop||(enforceFinalTabstop=placeholderCount>0&&insertFinalTabstop),!placeholderDefaultValues.has(0)&&enforceFinalTabstop&&snippet.appendChild(new Placeholder(0)),snippet},SnippetParser2.prototype._accept=function(type,value){if(type===void 0||this._token.type===type){var ret=value?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),ret}return!1},SnippetParser2.prototype._backTo=function(token){return this._scanner.pos=token.pos+token.len,this._token=token,!1},SnippetParser2.prototype._until=function(type){for(var start=this._token;this._token.type!==type;){if(this._token.type===14)return!1;if(this._token.type===5){var nextToken=this._scanner.next();if(nextToken.type!==0&&nextToken.type!==4&&nextToken.type!==5)return!1}this._token=this._scanner.next()}var value=this._scanner.value.substring(start.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),value},SnippetParser2.prototype._parse=function(marker){return this._parseEscaped(marker)||this._parseTabstopOrVariableName(marker)||this._parseComplexPlaceholder(marker)||this._parseComplexVariable(marker)||this._parseAnything(marker)},SnippetParser2.prototype._parseEscaped=function(marker){var value;return(value=this._accept(5,!0))?(value=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||value,marker.appendChild(new Text(value)),!0):!1},SnippetParser2.prototype._parseTabstopOrVariableName=function(parent){var value,token=this._token,match=this._accept(0)&&(value=this._accept(9,!0)||this._accept(8,!0));return match?(parent.appendChild(/^\d+$/.test(value)?new Placeholder(Number(value)):new Variable(value)),!0):this._backTo(token)},SnippetParser2.prototype._parseComplexPlaceholder=function(parent){var index,token=this._token,match=this._accept(0)&&this._accept(3)&&(index=this._accept(8,!0));if(!match)return this._backTo(token);var placeholder=new Placeholder(Number(index));if(this._accept(1))for(;;){if(this._accept(4))return parent.appendChild(placeholder),!0;if(!this._parse(placeholder))return parent.appendChild(new Text("${"+index+":")),placeholder.children.forEach(parent.appendChild,parent),!0}else if(placeholder.index>0&&this._accept(7))for(var choice=new Choice;;){if(this._parseChoiceElement(choice)){if(this._accept(2))continue;if(this._accept(7)&&(placeholder.appendChild(choice),this._accept(4)))return parent.appendChild(placeholder),!0}return this._backTo(token),!1}else return this._accept(6)?this._parseTransform(placeholder)?(parent.appendChild(placeholder),!0):(this._backTo(token),!1):this._accept(4)?(parent.appendChild(placeholder),!0):this._backTo(token)},SnippetParser2.prototype._parseChoiceElement=function(parent){for(var token=this._token,values=[];!(this._token.type===2||this._token.type===7);){var value=void 0;if((value=this._accept(5,!0))?value=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||value:value=this._accept(void 0,!0),!value)return this._backTo(token),!1;values.push(value)}return values.length===0?(this._backTo(token),!1):(parent.appendChild(new Text(values.join(""))),!0)},SnippetParser2.prototype._parseComplexVariable=function(parent){var name,token=this._token,match=this._accept(0)&&this._accept(3)&&(name=this._accept(9,!0));if(!match)return this._backTo(token);var variable=new Variable(name);if(this._accept(1))for(;;){if(this._accept(4))return parent.appendChild(variable),!0;if(!this._parse(variable))return parent.appendChild(new Text("${"+name+":")),variable.children.forEach(parent.appendChild,parent),!0}else return this._accept(6)?this._parseTransform(variable)?(parent.appendChild(variable),!0):(this._backTo(token),!1):this._accept(4)?(parent.appendChild(variable),!0):this._backTo(token)},SnippetParser2.prototype._parseTransform=function(parent){for(var transform=new Transform,regexValue="",regexOptions="";!this._accept(6);){var escaped=void 0;if(escaped=this._accept(5,!0)){escaped=this._accept(6,!0)||escaped,regexValue+=escaped;continue}if(this._token.type!==14){regexValue+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){var escaped=void 0;if(escaped=this._accept(5,!0)){escaped=this._accept(5,!0)||this._accept(6,!0)||escaped,transform.appendChild(new Text(escaped));continue}if(!(this._parseFormatString(transform)||this._parseAnything(transform)))return!1}for(;!this._accept(4);){if(this._token.type!==14){regexOptions+=this._accept(void 0,!0);continue}return!1}try{transform.regexp=new RegExp(regexValue,regexOptions)}catch{return!1}return parent.transform=transform,!0},SnippetParser2.prototype._parseFormatString=function(parent){var token=this._token;if(!this._accept(0))return!1;var complex=!1;this._accept(3)&&(complex=!0);var index=this._accept(8,!0);if(index)if(complex){if(this._accept(4))return parent.appendChild(new FormatString(Number(index))),!0;if(!this._accept(1))return this._backTo(token),!1}else return parent.appendChild(new FormatString(Number(index))),!0;else return this._backTo(token),!1;if(this._accept(6)){var shorthand=this._accept(9,!0);return!shorthand||!this._accept(4)?(this._backTo(token),!1):(parent.appendChild(new FormatString(Number(index),shorthand)),!0)}else if(this._accept(11)){var ifValue=this._until(4);if(ifValue)return parent.appendChild(new FormatString(Number(index),void 0,ifValue,void 0)),!0}else if(this._accept(12)){var elseValue=this._until(4);if(elseValue)return parent.appendChild(new FormatString(Number(index),void 0,void 0,elseValue)),!0}else if(this._accept(13)){var ifValue=this._until(1);if(ifValue){var elseValue=this._until(4);if(elseValue)return parent.appendChild(new FormatString(Number(index),void 0,ifValue,elseValue)),!0}}else{var elseValue=this._until(4);if(elseValue)return parent.appendChild(new FormatString(Number(index),void 0,void 0,elseValue)),!0}return this._backTo(token),!1},SnippetParser2.prototype._parseAnything=function(marker){return this._token.type!==14?(marker.appendChild(new Text(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1},SnippetParser2}()},3597:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BaseEditorQuickOpenAction});var editorQuickOpen=__webpack_require__(5782),editorExtensions=__webpack_require__(2099),textModel=__webpack_require__(2720),dom=__webpack_require__(2124),quickopen=__webpack_require__(5783),nls=__webpack_require__(2069),platform=__webpack_require__(2236),types=__webpack_require__(2631),quickOpenViewer_DataSource=function(){function DataSource(arg){this.modelProvider=Object(types.g)(arg.getModel)?arg:{getModel:function(){return arg}}}return DataSource.prototype.getId=function(tree,element){if(!element)return null;var model=this.modelProvider.getModel();return model===element?"__root__":model.dataSource.getId(element)},DataSource.prototype.hasChildren=function(tree,element){var model=this.modelProvider.getModel();return!!(model&&model===element&&model.entries.length>0)},DataSource.prototype.getChildren=function(tree,element){var model=this.modelProvider.getModel();return Promise.resolve(model===element?model.entries:[])},DataSource.prototype.getParent=function(tree,element){return Promise.resolve(null)},DataSource}(),AccessibilityProvider=function(){function AccessibilityProvider2(modelProvider){this.modelProvider=modelProvider}return AccessibilityProvider2.prototype.getAriaLabel=function(tree,element){var model=this.modelProvider.getModel();return model.accessibilityProvider?model.accessibilityProvider.getAriaLabel(element):null},AccessibilityProvider2.prototype.getPosInSet=function(tree,element){var model=this.modelProvider.getModel(),i=0;if(model.filter)for(var _i=0,_a=model.entries;_i<_a.length;_i++){var entry=_a[_i];if(model.filter.isVisible(entry)&&i++,entry===element)break}else i=model.entries.indexOf(element)+1;return String(i)},AccessibilityProvider2.prototype.getSetSize=function(){var model=this.modelProvider.getModel(),n=0;if(model.filter)for(var _i=0,_a=model.entries;_i<_a.length;_i++){var entry=_a[_i];model.filter.isVisible(entry)&&n++}else n=model.entries.length;return String(n)},AccessibilityProvider2}(),Filter=function(){function Filter2(modelProvider){this.modelProvider=modelProvider}return Filter2.prototype.isVisible=function(tree,element){var model=this.modelProvider.getModel();return model.filter?model.filter.isVisible(element):!0},Filter2}(),Renderer=function(){function Renderer2(modelProvider,styles){this.modelProvider=modelProvider,this.styles=styles}return Renderer2.prototype.updateStyles=function(styles){this.styles=styles},Renderer2.prototype.getHeight=function(tree,element){var model=this.modelProvider.getModel();return model.renderer.getHeight(element)},Renderer2.prototype.getTemplateId=function(tree,element){var model=this.modelProvider.getModel();return model.renderer.getTemplateId(element)},Renderer2.prototype.renderTemplate=function(tree,templateId,container){var model=this.modelProvider.getModel();return model.renderer.renderTemplate(templateId,container,this.styles)},Renderer2.prototype.renderElement=function(tree,element,templateId,templateData){var model=this.modelProvider.getModel();model.renderer.renderElement(element,templateId,templateData,this.styles)},Renderer2.prototype.disposeTemplate=function(tree,templateId,templateData){var model=this.modelProvider.getModel();model.renderer.disposeTemplate(templateId,templateData)},Renderer2}(),inputBox=__webpack_require__(3605),browser_tree=__webpack_require__(5784),errors=__webpack_require__(2176),keyCodes=__webpack_require__(2768),treeDefaults_KeybindingDispatcher=function(){function KeybindingDispatcher(){this._arr=[]}return KeybindingDispatcher.prototype.set=function(keybinding,callback){this._arr.push({keybinding:Object(keyCodes.f)(keybinding,platform.a),callback})},KeybindingDispatcher.prototype.dispatch=function(keybinding){for(var i=this._arr.length-1;i>=0;i--){var item=this._arr[i];if(keybinding.toChord().equals(item.keybinding))return item.callback}return null},KeybindingDispatcher}(),treeDefaults_DefaultController=function(){function DefaultController(options){var _this=this;options===void 0&&(options={clickBehavior:0,keyboardSupport:!0,openMode:0}),this.options=options,this.downKeyBindingDispatcher=new treeDefaults_KeybindingDispatcher,this.upKeyBindingDispatcher=new treeDefaults_KeybindingDispatcher,(typeof options.keyboardSupport!="boolean"||options.keyboardSupport)&&(this.downKeyBindingDispatcher.set(16,function(t,e){return _this.onUp(t,e)}),this.downKeyBindingDispatcher.set(18,function(t,e){return _this.onDown(t,e)}),this.downKeyBindingDispatcher.set(15,function(t,e){return _this.onLeft(t,e)}),this.downKeyBindingDispatcher.set(17,function(t,e){return _this.onRight(t,e)}),platform.e&&(this.downKeyBindingDispatcher.set(2064,function(t,e){return _this.onLeft(t,e)}),this.downKeyBindingDispatcher.set(300,function(t,e){return _this.onDown(t,e)}),this.downKeyBindingDispatcher.set(302,function(t,e){return _this.onUp(t,e)})),this.downKeyBindingDispatcher.set(11,function(t,e){return _this.onPageUp(t,e)}),this.downKeyBindingDispatcher.set(12,function(t,e){return _this.onPageDown(t,e)}),this.downKeyBindingDispatcher.set(14,function(t,e){return _this.onHome(t,e)}),this.downKeyBindingDispatcher.set(13,function(t,e){return _this.onEnd(t,e)}),this.downKeyBindingDispatcher.set(10,function(t,e){return _this.onSpace(t,e)}),this.downKeyBindingDispatcher.set(9,function(t,e){return _this.onEscape(t,e)}),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2051,this.onEnter.bind(this)))}return DefaultController.prototype.onMouseDown=function(tree,element,event,origin){return origin===void 0&&(origin="mouse"),this.options.clickBehavior===0&&(event.leftButton||event.middleButton)?event.target&&(event.target.tagName&&event.target.tagName.toLowerCase()==="input"||dom.x(event.target,"scrollbar","monaco-tree")||dom.x(event.target,"monaco-action-bar","row"))?!1:this.onLeftClick(tree,element,event,origin):!1},DefaultController.prototype.onClick=function(tree,element,event){var isMac=platform.e;return isMac&&event.ctrlKey?(event.preventDefault(),event.stopPropagation(),!1):event.target&&event.target.tagName&&event.target.tagName.toLowerCase()==="input"||this.options.clickBehavior===0&&(event.leftButton||event.middleButton)?!1:this.onLeftClick(tree,element,event)},DefaultController.prototype.onLeftClick=function(tree,element,eventish,origin){origin===void 0&&(origin="mouse");var event=eventish,payload={origin,originalEvent:eventish,didClickOnTwistie:this.isClickOnTwistie(event)};if(tree.getInput()===element)tree.clearFocus(payload),tree.clearSelection(payload);else{var isSingleMouseDown=eventish&&event.browserEvent&&event.browserEvent.type==="mousedown"&&event.browserEvent.detail===1;isSingleMouseDown||eventish.preventDefault(),eventish.stopPropagation(),tree.domFocus(),tree.setSelection([element],payload),tree.setFocus(element,payload),this.shouldToggleExpansion(element,event,origin)&&(tree.isExpanded(element)?tree.collapse(element).then(void 0,errors.e):tree.expand(element).then(void 0,errors.e))}return!0},DefaultController.prototype.shouldToggleExpansion=function(element,event,origin){var isDoubleClick=origin==="mouse"&&event.detail===2;return this.openOnSingleClick||isDoubleClick||this.isClickOnTwistie(event)},Object.defineProperty(DefaultController.prototype,"openOnSingleClick",{get:function(){return this.options.openMode===0},enumerable:!0,configurable:!0}),DefaultController.prototype.isClickOnTwistie=function(event){var element=event.target;if(!dom.G(element,"content"))return!1;var twistieStyle=window.getComputedStyle(element,":before");if(twistieStyle.backgroundImage==="none"||twistieStyle.display==="none")return!1;var twistieWidth=parseInt(twistieStyle.width)+parseInt(twistieStyle.paddingRight);return event.browserEvent.offsetX<=twistieWidth},DefaultController.prototype.onContextMenu=function(tree,element,event){return event.target&&event.target.tagName&&event.target.tagName.toLowerCase()==="input"||event&&(event.preventDefault(),event.stopPropagation()),!1},DefaultController.prototype.onTap=function(tree,element,event){var target=event.initialTarget;return target&&target.tagName&&target.tagName.toLowerCase()==="input"?!1:this.onLeftClick(tree,element,event,"touch")},DefaultController.prototype.onKeyDown=function(tree,event){return this.onKey(this.downKeyBindingDispatcher,tree,event)},DefaultController.prototype.onKeyUp=function(tree,event){return this.onKey(this.upKeyBindingDispatcher,tree,event)},DefaultController.prototype.onKey=function(bindings,tree,event){var handler=bindings.dispatch(event.toKeybinding());return handler&&handler(tree,event)?(event.preventDefault(),event.stopPropagation(),!0):!1},DefaultController.prototype.onUp=function(tree,event){var payload={origin:"keyboard",originalEvent:event};return tree.getHighlight()?tree.clearHighlight(payload):(tree.focusPrevious(1,payload),tree.reveal(tree.getFocus()).then(void 0,errors.e)),!0},DefaultController.prototype.onPageUp=function(tree,event){var payload={origin:"keyboard",originalEvent:event};return tree.getHighlight()?tree.clearHighlight(payload):(tree.focusPreviousPage(payload),tree.reveal(tree.getFocus()).then(void 0,errors.e)),!0},DefaultController.prototype.onDown=function(tree,event){var payload={origin:"keyboard",originalEvent:event};return tree.getHighlight()?tree.clearHighlight(payload):(tree.focusNext(1,payload),tree.reveal(tree.getFocus()).then(void 0,errors.e)),!0},DefaultController.prototype.onPageDown=function(tree,event){var payload={origin:"keyboard",originalEvent:event};return tree.getHighlight()?tree.clearHighlight(payload):(tree.focusNextPage(payload),tree.reveal(tree.getFocus()).then(void 0,errors.e)),!0},DefaultController.prototype.onHome=function(tree,event){var payload={origin:"keyboard",originalEvent:event};return tree.getHighlight()?tree.clearHighlight(payload):(tree.focusFirst(payload),tree.reveal(tree.getFocus()).then(void 0,errors.e)),!0},DefaultController.prototype.onEnd=function(tree,event){var payload={origin:"keyboard",originalEvent:event};return tree.getHighlight()?tree.clearHighlight(payload):(tree.focusLast(payload),tree.reveal(tree.getFocus()).then(void 0,errors.e)),!0},DefaultController.prototype.onLeft=function(tree,event){var payload={origin:"keyboard",originalEvent:event};if(tree.getHighlight())tree.clearHighlight(payload);else{var focus_1=tree.getFocus();tree.collapse(focus_1).then(function(didCollapse){if(focus_1&&!didCollapse)return tree.focusParent(payload),tree.reveal(tree.getFocus())}).then(void 0,errors.e)}return!0},DefaultController.prototype.onRight=function(tree,event){var payload={origin:"keyboard",originalEvent:event};if(tree.getHighlight())tree.clearHighlight(payload);else{var focus_2=tree.getFocus();tree.expand(focus_2).then(function(didExpand){if(focus_2&&!didExpand)return tree.focusFirstChild(payload),tree.reveal(tree.getFocus())}).then(void 0,errors.e)}return!0},DefaultController.prototype.onEnter=function(tree,event){var payload={origin:"keyboard",originalEvent:event};if(tree.getHighlight())return!1;var focus=tree.getFocus();return focus&&tree.setSelection([focus],payload),!0},DefaultController.prototype.onSpace=function(tree,event){if(tree.getHighlight())return!1;var focus=tree.getFocus();return focus&&tree.toggleExpansion(focus),!0},DefaultController.prototype.onEscape=function(tree,event){var payload={origin:"keyboard",originalEvent:event};return tree.getHighlight()?(tree.clearHighlight(payload),!0):tree.getSelection().length?(tree.clearSelection(payload),!0):tree.getFocus()?(tree.clearFocus(payload),!0):!1},DefaultController}(),DefaultDragAndDrop=function(){function DefaultDragAndDrop2(){}return DefaultDragAndDrop2.prototype.getDragURI=function(tree,element){return null},DefaultDragAndDrop2.prototype.onDragStart=function(tree,data,originalEvent){},DefaultDragAndDrop2.prototype.onDragOver=function(tree,data,targetElement,originalEvent){return null},DefaultDragAndDrop2.prototype.drop=function(tree,data,targetElement,originalEvent){},DefaultDragAndDrop2}(),DefaultFilter=function(){function DefaultFilter2(){}return DefaultFilter2.prototype.isVisible=function(tree,element){return!0},DefaultFilter2}(),DefaultAccessibilityProvider=function(){function DefaultAccessibilityProvider2(){}return DefaultAccessibilityProvider2.prototype.getAriaLabel=function(tree,element){return null},DefaultAccessibilityProvider2}(),DefaultTreestyler=function(){function DefaultTreestyler2(styleElement,selectorSuffix){this.styleElement=styleElement,this.selectorSuffix=selectorSuffix}return DefaultTreestyler2.prototype.style=function(styles){var suffix=this.selectorSuffix?"."+this.selectorSuffix:"",content=[];styles.listFocusBackground&&content.push(".monaco-tree"+suffix+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+styles.listFocusBackground+"; }"),styles.listFocusForeground&&content.push(".monaco-tree"+suffix+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+styles.listFocusForeground+"; }"),styles.listActiveSelectionBackground&&content.push(".monaco-tree"+suffix+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+styles.listActiveSelectionBackground+"; }"),styles.listActiveSelectionForeground&&content.push(".monaco-tree"+suffix+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+styles.listActiveSelectionForeground+"; }"),styles.listFocusAndSelectionBackground&&content.push(`
				.monaco-tree-drag-image,
				.monaco-tree`+suffix+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+styles.listFocusAndSelectionBackground+`; }
			`),styles.listFocusAndSelectionForeground&&content.push(`
				.monaco-tree-drag-image,
				.monaco-tree`+suffix+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+styles.listFocusAndSelectionForeground+`; }
			`),styles.listInactiveSelectionBackground&&content.push(".monaco-tree"+suffix+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+styles.listInactiveSelectionBackground+"; }"),styles.listInactiveSelectionForeground&&content.push(".monaco-tree"+suffix+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+styles.listInactiveSelectionForeground+"; }"),styles.listHoverBackground&&content.push(".monaco-tree"+suffix+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+styles.listHoverBackground+"; }"),styles.listHoverForeground&&content.push(".monaco-tree"+suffix+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+styles.listHoverForeground+"; }"),styles.listDropBackground&&content.push(`
				.monaco-tree`+suffix+` .monaco-tree-wrapper.drop-target,
				.monaco-tree`+suffix+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+styles.listDropBackground+` !important; color: inherit !important; }
			`),styles.listFocusOutline&&content.push(`
				.monaco-tree-drag-image																															{ border: 1px solid `+styles.listFocusOutline+`; background: #000; }
				.monaco-tree`+suffix+` .monaco-tree-rows > .monaco-tree-row 														{ border: 1px solid transparent; }
				.monaco-tree`+suffix+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) 						{ border: 1px dotted "+styles.listFocusOutline+`; }
				.monaco-tree`+suffix+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) 						{ border: 1px solid "+styles.listFocusOutline+`; }
				.monaco-tree`+suffix+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  							{ border: 1px solid "+styles.listFocusOutline+`; }
				.monaco-tree`+suffix+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  	{ border: 1px dashed "+styles.listFocusOutline+`; }
				.monaco-tree`+suffix+` .monaco-tree-wrapper.drop-target,
				.monaco-tree`+suffix+" .monaco-tree-rows > .monaco-tree-row.drop-target												{ border: 1px dashed "+styles.listFocusOutline+`; }
			`);var newStyles=content.join(`
`);newStyles!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=newStyles)},DefaultTreestyler2}(),assert=__webpack_require__(3489),lifecycle=__webpack_require__(2033),common_event=__webpack_require__(2106),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),treeModel_LockData=function(){function LockData(item){this._onDispose=new common_event.a,this.onDispose=this._onDispose.event,this._item=item}return Object.defineProperty(LockData.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),LockData.prototype.dispose=function(){this._onDispose&&(this._onDispose.fire(),this._onDispose.dispose(),this._onDispose=void 0)},LockData}(),treeModel_Lock=function(){function Lock(){this.locks=Object.create({})}return Lock.prototype.isLocked=function(item){return!!this.locks[item.id]},Lock.prototype.run=function(item,fn){var _this=this,lock=this.getLock(item);if(lock)return new Promise(function(c,e){common_event.b.once(lock.onDispose)(function(){return _this.run(item,fn).then(c,e)})});var result;return new Promise(function(c,e){if(item.isDisposed())return e(new Error("Item is disposed."));var lock2=_this.locks[item.id]=new treeModel_LockData(item);return result=fn().then(function(r){return delete _this.locks[item.id],lock2.dispose(),r}).then(c,e),result})},Lock.prototype.getLock=function(item){var key;for(key in this.locks){var lock=this.locks[key];if(item.intersects(lock.item))return lock}return null},Lock}(),treeModel_ItemRegistry=function(){function ItemRegistry(){this._isDisposed=!1,this._onDidRevealItem=new common_event.d,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new common_event.d,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new common_event.d,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new common_event.d,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new common_event.d,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new common_event.d,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new common_event.d,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new common_event.d,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new common_event.d,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new common_event.d,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new common_event.d,this.onDidDisposeItem=this._onDidDisposeItem.event,this.items={}}return ItemRegistry.prototype.register=function(item){assert.a(!this.isRegistered(item.id),"item already registered: "+item.id);var disposable=Object(lifecycle.e)(this._onDidRevealItem.add(item.onDidReveal),this._onExpandItem.add(item.onExpand),this._onDidExpandItem.add(item.onDidExpand),this._onCollapseItem.add(item.onCollapse),this._onDidCollapseItem.add(item.onDidCollapse),this._onDidAddTraitItem.add(item.onDidAddTrait),this._onDidRemoveTraitItem.add(item.onDidRemoveTrait),this._onDidRefreshItem.add(item.onDidRefresh),this._onRefreshItemChildren.add(item.onRefreshChildren),this._onDidRefreshItemChildren.add(item.onDidRefreshChildren),this._onDidDisposeItem.add(item.onDidDispose));this.items[item.id]={item,disposable}},ItemRegistry.prototype.deregister=function(item){assert.a(this.isRegistered(item.id),"item not registered: "+item.id),this.items[item.id].disposable.dispose(),delete this.items[item.id]},ItemRegistry.prototype.isRegistered=function(id){return this.items.hasOwnProperty(id)},ItemRegistry.prototype.getItem=function(id){var result=this.items[id];return result?result.item:null},ItemRegistry.prototype.dispose=function(){this.items={},this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._isDisposed=!0},ItemRegistry.prototype.isDisposed=function(){return this._isDisposed},ItemRegistry}(),treeModel_Item=function(){function Item(id,registry,context,lock,element){this._onDidCreate=new common_event.a,this._onDidReveal=new common_event.a,this.onDidReveal=this._onDidReveal.event,this._onExpand=new common_event.a,this.onExpand=this._onExpand.event,this._onDidExpand=new common_event.a,this.onDidExpand=this._onDidExpand.event,this._onCollapse=new common_event.a,this.onCollapse=this._onCollapse.event,this._onDidCollapse=new common_event.a,this.onDidCollapse=this._onDidCollapse.event,this._onDidAddTrait=new common_event.a,this.onDidAddTrait=this._onDidAddTrait.event,this._onDidRemoveTrait=new common_event.a,this.onDidRemoveTrait=this._onDidRemoveTrait.event,this._onDidRefresh=new common_event.a,this.onDidRefresh=this._onDidRefresh.event,this._onRefreshChildren=new common_event.a,this.onRefreshChildren=this._onRefreshChildren.event,this._onDidRefreshChildren=new common_event.a,this.onDidRefreshChildren=this._onDidRefreshChildren.event,this._onDidDispose=new common_event.a,this.onDidDispose=this._onDidDispose.event,this.registry=registry,this.context=context,this.lock=lock,this.element=element,this.id=id,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.traits={},this.depth=0,this.expanded=!!(this.context.dataSource.shouldAutoexpand&&this.context.dataSource.shouldAutoexpand(this.context.tree,element)),this._onDidCreate.fire(this),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return Item.prototype.getElement=function(){return this.element},Item.prototype.hasChildren=function(){return this.doesHaveChildren},Item.prototype.getDepth=function(){return this.depth},Item.prototype.isVisible=function(){return this.visible},Item.prototype.setVisible=function(value){this.visible=value},Item.prototype.isExpanded=function(){return this.expanded},Item.prototype._setExpanded=function(value){this.expanded=value},Item.prototype.reveal=function(relativeTop){relativeTop===void 0&&(relativeTop=null);var eventData={item:this,relativeTop};this._onDidReveal.fire(eventData)},Item.prototype.expand=function(){var _this=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return Promise.resolve(!1);var result=this.lock.run(this,function(){if(_this.isExpanded()||!_this.doesHaveChildren)return Promise.resolve(!1);var eventData={item:_this},result2;return _this._onExpand.fire(eventData),_this.needsChildrenRefresh?result2=_this.refreshChildren(!1,!0,!0):result2=Promise.resolve(null),result2.then(function(){return _this._setExpanded(!0),_this._onDidExpand.fire(eventData),!0})});return result.then(function(r){return _this.isDisposed()?!1:_this.context.options.autoExpandSingleChildren&&r&&_this.firstChild!==null&&_this.firstChild===_this.lastChild&&_this.firstChild.isVisible()?_this.firstChild.expand().then(function(){return!0}):r})},Item.prototype.collapse=function(recursive){var _this=this;if(recursive===void 0&&(recursive=!1),recursive){var collapseChildrenPromise_1=Promise.resolve(null);return this.forEachChild(function(child){collapseChildrenPromise_1=collapseChildrenPromise_1.then(function(){return child.collapse(!0)})}),collapseChildrenPromise_1.then(function(){return _this.collapse(!1)})}else return!this.isExpanded()||this.lock.isLocked(this)?Promise.resolve(!1):this.lock.run(this,function(){var eventData={item:_this};return _this._onCollapse.fire(eventData),_this._setExpanded(!1),_this._onDidCollapse.fire(eventData),Promise.resolve(!0)})},Item.prototype.addTrait=function(trait){var eventData={item:this,trait};this.traits[trait]=!0,this._onDidAddTrait.fire(eventData)},Item.prototype.removeTrait=function(trait){var eventData={item:this,trait};delete this.traits[trait],this._onDidRemoveTrait.fire(eventData)},Item.prototype.hasTrait=function(trait){return this.traits[trait]||!1},Item.prototype.getAllTraits=function(){var result=[],trait;for(trait in this.traits)this.traits.hasOwnProperty(trait)&&this.traits[trait]&&result.push(trait);return result},Item.prototype.getHeight=function(){return this.height},Item.prototype.refreshChildren=function(recursive,safe,force){var _this=this;if(safe===void 0&&(safe=!1),force===void 0&&(force=!1),!force&&!this.isExpanded()){var setNeedsChildrenRefresh_1=function(item){item.needsChildrenRefresh=!0,item.forEachChild(setNeedsChildrenRefresh_1)};return setNeedsChildrenRefresh_1(this),Promise.resolve(this)}this.needsChildrenRefresh=!1;var doRefresh=function(){var eventData={item:_this,isNested:safe};_this._onRefreshChildren.fire(eventData);var childrenPromise;_this.doesHaveChildren?childrenPromise=_this.context.dataSource.getChildren(_this.context.tree,_this.element):childrenPromise=Promise.resolve([]);var result=childrenPromise.then(function(elements){if(_this.isDisposed()||_this.registry.isDisposed())return Promise.resolve(null);if(!Array.isArray(elements))return Promise.reject(new Error("Please return an array of children."));elements=elements?elements.slice(0):[],elements=_this.sort(elements);for(var staleItems={};_this.firstChild!==null;)staleItems[_this.firstChild.id]=_this.firstChild,_this.removeChild(_this.firstChild);for(var i=0,len=elements.length;i<len;i++){var element=elements[i],id=_this.context.dataSource.getId(_this.context.tree,element),item=staleItems[id]||new Item(id,_this.registry,_this.context,_this.lock,element);item.element=element,recursive&&(item.needsChildrenRefresh=recursive),delete staleItems[id],_this.addChild(item)}for(var staleItemId in staleItems)staleItems.hasOwnProperty(staleItemId)&&staleItems[staleItemId].dispose();return recursive?Promise.all(_this.mapEachChild(function(child){return child.doRefresh(recursive,!0)})):Promise.all(_this.mapEachChild(function(child){return child.isExpanded()&&child.needsChildrenRefresh?child.doRefresh(recursive,!0):(child.updateVisibility(),Promise.resolve(null))}))});return result.then(void 0,errors.e).then(function(){return _this._onDidRefreshChildren.fire(eventData)})};return safe?doRefresh():this.lock.run(this,doRefresh)},Item.prototype.doRefresh=function(recursive,safe){return safe===void 0&&(safe=!1),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.updateVisibility(),this._onDidRefresh.fire(this),this.refreshChildren(recursive,safe)},Item.prototype.updateVisibility=function(){this.setVisible(this._isVisible())},Item.prototype.refresh=function(recursive){return this.doRefresh(recursive)},Item.prototype.getNavigator=function(){return new TreeNavigator(this)},Item.prototype.intersects=function(other){return this.isAncestorOf(other)||other.isAncestorOf(this)},Item.prototype.isAncestorOf=function(startItem){for(var item=startItem;item;){if(item.id===this.id)return!0;item=item.parent}return!1},Item.prototype.addChild=function(item,afterItem){afterItem===void 0&&(afterItem=this.lastChild);var isEmpty=this.firstChild===null,atHead=afterItem===null,atTail=afterItem===this.lastChild;if(isEmpty)this.firstChild=this.lastChild=item,item.next=item.previous=null;else if(atHead){if(!this.firstChild)throw new Error("Invalid tree state");this.firstChild.previous=item,item.next=this.firstChild,item.previous=null,this.firstChild=item}else if(atTail){if(!this.lastChild)throw new Error("Invalid tree state");this.lastChild.next=item,item.next=null,item.previous=this.lastChild,this.lastChild=item}else{if(item.previous=afterItem,!afterItem)throw new Error("Invalid tree state");if(item.next=afterItem.next,!afterItem.next)throw new Error("Invalid tree state");afterItem.next.previous=item,afterItem.next=item}item.parent=this,item.depth=this.depth+1},Item.prototype.removeChild=function(item){var isFirstChild=this.firstChild===item,isLastChild=this.lastChild===item;if(isFirstChild&&isLastChild)this.firstChild=this.lastChild=null;else if(isFirstChild){if(!item.next)throw new Error("Invalid tree state");item.next.previous=null,this.firstChild=item.next}else if(isLastChild){if(!item.previous)throw new Error("Invalid tree state");item.previous.next=null,this.lastChild=item.previous}else{if(!item.next)throw new Error("Invalid tree state");if(item.next.previous=item.previous,!item.previous)throw new Error("Invalid tree state");item.previous.next=item.next}item.parent=null,item.depth=NaN},Item.prototype.forEachChild=function(fn){for(var child=this.firstChild,next;child;)next=child.next,fn(child),child=next},Item.prototype.mapEachChild=function(fn){var result=[];return this.forEachChild(function(child){result.push(fn(child))}),result},Item.prototype.sort=function(elements){var _this=this,sorter=this.context.sorter;return sorter?elements.sort(function(element,otherElement){return sorter.compare(_this.context.tree,element,otherElement)}):elements},Item.prototype._getHeight=function(){return this.context.renderer?this.context.renderer.getHeight(this.context.tree,this.element):0},Item.prototype._isVisible=function(){return this.context.filter?this.context.filter.isVisible(this.context.tree,this.element):!1},Item.prototype.isDisposed=function(){return this._isDisposed},Item.prototype.dispose=function(){this.forEachChild(function(child){return child.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this._onDidDispose.fire(this),this.registry.deregister(this),this._onDidCreate.dispose(),this._onDidReveal.dispose(),this._onExpand.dispose(),this._onDidExpand.dispose(),this._onCollapse.dispose(),this._onDidCollapse.dispose(),this._onDidAddTrait.dispose(),this._onDidRemoveTrait.dispose(),this._onDidRefresh.dispose(),this._onRefreshChildren.dispose(),this._onDidRefreshChildren.dispose(),this._onDidDispose.dispose(),this._isDisposed=!0},Item}(),RootItem=function(_super){__extends(RootItem2,_super);function RootItem2(id,registry,context,lock,element){return _super.call(this,id,registry,context,lock,element)||this}return RootItem2.prototype.isVisible=function(){return!1},RootItem2.prototype.setVisible=function(value){},RootItem2.prototype.isExpanded=function(){return!0},RootItem2.prototype._setExpanded=function(value){},RootItem2.prototype._getHeight=function(){return 0},RootItem2.prototype._isVisible=function(){return!1},RootItem2}(treeModel_Item),TreeNavigator=function(){function TreeNavigator2(item,subTreeOnly){subTreeOnly===void 0&&(subTreeOnly=!0),this.item=item,this.start=subTreeOnly?item:null}return TreeNavigator2.lastDescendantOf=function(item){return item?item instanceof RootItem?TreeNavigator2.lastDescendantOf(item.lastChild):item.isVisible()?!item.isExpanded()||item.lastChild===null?item:TreeNavigator2.lastDescendantOf(item.lastChild):TreeNavigator2.lastDescendantOf(item.previous):null},TreeNavigator2.prototype.current=function(){return this.item||null},TreeNavigator2.prototype.next=function(){if(this.item)do if((this.item instanceof RootItem||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},TreeNavigator2.prototype.previous=function(){if(this.item)do{var previous=TreeNavigator2.lastDescendantOf(this.item.previous);previous?this.item=previous:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},TreeNavigator2.prototype.parent=function(){if(this.item){var parent_1=this.item.parent;parent_1&&parent_1!==this.start&&parent_1.isVisible()?this.item=parent_1:this.item=null}return this.item||null},TreeNavigator2.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},TreeNavigator2.prototype.last=function(){return TreeNavigator2.lastDescendantOf(this.start)},TreeNavigator2}(),treeModel_TreeModel=function(){function TreeModel(context){this.registry=new treeModel_ItemRegistry,this.registryDisposable=lifecycle.a.None,this._onSetInput=new common_event.a,this.onSetInput=this._onSetInput.event,this._onDidSetInput=new common_event.a,this.onDidSetInput=this._onDidSetInput.event,this._onRefresh=new common_event.a,this.onRefresh=this._onRefresh.event,this._onDidRefresh=new common_event.a,this.onDidRefresh=this._onDidRefresh.event,this._onDidHighlight=new common_event.a,this.onDidHighlight=this._onDidHighlight.event,this._onDidSelect=new common_event.a,this.onDidSelect=this._onDidSelect.event,this._onDidFocus=new common_event.a,this.onDidFocus=this._onDidFocus.event,this._onDidRevealItem=new common_event.f,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new common_event.f,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new common_event.f,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new common_event.f,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new common_event.f,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new common_event.f,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new common_event.f,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new common_event.f,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new common_event.f,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new common_event.f,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new common_event.f,this.context=context,this.input=null,this.traitsToItems={}}return TreeModel.prototype.setInput=function(element){var _this=this,eventData={item:this.input};this._onSetInput.fire(eventData),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new treeModel_Lock,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new treeModel_ItemRegistry,this._onDidRevealItem.input=this.registry.onDidRevealItem,this._onExpandItem.input=this.registry.onExpandItem,this._onDidExpandItem.input=this.registry.onDidExpandItem,this._onCollapseItem.input=this.registry.onCollapseItem,this._onDidCollapseItem.input=this.registry.onDidCollapseItem,this._onDidAddTraitItem.input=this.registry.onDidAddTraitItem,this._onDidRemoveTraitItem.input=this.registry.onDidRemoveTraitItem,this._onDidRefreshItem.input=this.registry.onDidRefreshItem,this._onRefreshItemChildren.input=this.registry.onRefreshItemChildren,this._onDidRefreshItemChildren.input=this.registry.onDidRefreshItemChildren,this._onDidDisposeItem.input=this.registry.onDidDisposeItem,this.registryDisposable=this.registry.onDidDisposeItem(function(item){return item.getAllTraits().forEach(function(trait){return delete _this.traitsToItems[trait][item.id]})});var id=this.context.dataSource.getId(this.context.tree,element);return this.input=new RootItem(id,this.registry,this.context,this.lock,element),eventData={item:this.input},this._onDidSetInput.fire(eventData),this.refresh(this.input)},TreeModel.prototype.getInput=function(){return this.input?this.input.getElement():null},TreeModel.prototype.refresh=function(element,recursive){var _this=this;element===void 0&&(element=null),recursive===void 0&&(recursive=!0);var item=this.getItem(element);if(!item)return Promise.resolve(null);var eventData={item,recursive};return this._onRefresh.fire(eventData),item.refresh(recursive).then(function(){_this._onDidRefresh.fire(eventData)})},TreeModel.prototype.expand=function(element){var item=this.getItem(element);return item?item.expand():Promise.resolve(!1)},TreeModel.prototype.collapse=function(element,recursive){recursive===void 0&&(recursive=!1);var item=this.getItem(element);return item?item.collapse(recursive):Promise.resolve(!1)},TreeModel.prototype.toggleExpansion=function(element,recursive){return recursive===void 0&&(recursive=!1),this.isExpanded(element)?this.collapse(element,recursive):this.expand(element)},TreeModel.prototype.isExpanded=function(element){var item=this.getItem(element);return item?item.isExpanded():!1},TreeModel.prototype.reveal=function(element,relativeTop){var _this=this;return relativeTop===void 0&&(relativeTop=null),this.resolveUnknownParentChain(element).then(function(chain){var result=Promise.resolve(null);return chain.forEach(function(e){result=result.then(function(){return _this.expand(e)})}),result}).then(function(){var item=_this.getItem(element);if(item)return item.reveal(relativeTop)})},TreeModel.prototype.resolveUnknownParentChain=function(element){var _this=this;return this.context.dataSource.getParent(this.context.tree,element).then(function(parent){return parent?_this.resolveUnknownParentChain(parent).then(function(result){return result.push(parent),result}):Promise.resolve([])})},TreeModel.prototype.setHighlight=function(element,eventPayload){this.setTraits("highlighted",element?[element]:[]);var eventData={highlight:this.getHighlight(),payload:eventPayload};this._onDidHighlight.fire(eventData)},TreeModel.prototype.getHighlight=function(includeHidden){includeHidden===void 0&&(includeHidden=!1);var result=this.getElementsWithTrait("highlighted",includeHidden);return result.length===0?null:result[0]},TreeModel.prototype.setSelection=function(elements,eventPayload){this.setTraits("selected",elements);var eventData={selection:this.getSelection(),payload:eventPayload};this._onDidSelect.fire(eventData)},TreeModel.prototype.getSelection=function(includeHidden){return includeHidden===void 0&&(includeHidden=!1),this.getElementsWithTrait("selected",includeHidden)},TreeModel.prototype.setFocus=function(element,eventPayload){this.setTraits("focused",element?[element]:[]);var eventData={focus:this.getFocus(),payload:eventPayload};this._onDidFocus.fire(eventData)},TreeModel.prototype.getFocus=function(includeHidden){includeHidden===void 0&&(includeHidden=!1);var result=this.getElementsWithTrait("focused",includeHidden);return result.length===0?null:result[0]},TreeModel.prototype.focusNext=function(count,eventPayload){count===void 0&&(count=1);for(var item=this.getFocus()||this.input,nextItem,nav=this.getNavigator(item,!1),i=0;i<count&&(nextItem=nav.next(),!!nextItem);i++)item=nextItem;this.setFocus(item,eventPayload)},TreeModel.prototype.focusPrevious=function(count,eventPayload){count===void 0&&(count=1);for(var item=this.getFocus()||this.input,previousItem,nav=this.getNavigator(item,!1),i=0;i<count&&(previousItem=nav.previous(),!!previousItem);i++)item=previousItem;this.setFocus(item,eventPayload)},TreeModel.prototype.focusParent=function(eventPayload){var item=this.getFocus()||this.input,nav=this.getNavigator(item,!1),parent=nav.parent();parent&&this.setFocus(parent,eventPayload)},TreeModel.prototype.focusFirstChild=function(eventPayload){var item=this.getItem(this.getFocus()||this.input),nav=this.getNavigator(item,!1),next=nav.next(),parent=nav.parent();parent===item&&this.setFocus(next,eventPayload)},TreeModel.prototype.focusFirst=function(eventPayload,from){this.focusNth(0,eventPayload,from)},TreeModel.prototype.focusNth=function(index,eventPayload,from){for(var navItem=this.getParent(from),nav=this.getNavigator(navItem),item=nav.first(),i=0;i<index;i++)item=nav.next();item&&this.setFocus(item,eventPayload)},TreeModel.prototype.focusLast=function(eventPayload,from){var navItem=this.getParent(from),item;if(from&&navItem)item=navItem.lastChild;else{var nav=this.getNavigator(navItem);item=nav.last()}item&&this.setFocus(item,eventPayload)},TreeModel.prototype.getParent=function(from){if(from){var fromItem=this.getItem(from);if(fromItem&&fromItem.parent)return fromItem.parent}return this.getItem(this.input)},TreeModel.prototype.getNavigator=function(element,subTreeOnly){return element===void 0&&(element=null),subTreeOnly===void 0&&(subTreeOnly=!0),new TreeNavigator(this.getItem(element),subTreeOnly)},TreeModel.prototype.getItem=function(element){return element===void 0&&(element=null),element===null?this.input:element instanceof treeModel_Item?element:typeof element=="string"?this.registry.getItem(element):this.registry.getItem(this.context.dataSource.getId(this.context.tree,element))},TreeModel.prototype.removeTraits=function(trait,elements){var items=this.traitsToItems[trait]||{},item,id;if(elements.length===0){for(id in items)items.hasOwnProperty(id)&&(item=items[id],item.removeTrait(trait));delete this.traitsToItems[trait]}else for(var i=0,len=elements.length;i<len;i++)item=this.getItem(elements[i]),item&&(item.removeTrait(trait),delete items[item.id])},TreeModel.prototype.setTraits=function(trait,elements){if(elements.length===0)this.removeTraits(trait,elements);else{for(var items={},item=void 0,i=0,len=elements.length;i<len;i++)item=this.getItem(elements[i]),item&&(items[item.id]=item);var traitItems=this.traitsToItems[trait]||{},itemsToRemoveTrait=[],id=void 0;for(id in traitItems)traitItems.hasOwnProperty(id)&&(items.hasOwnProperty(id)?delete items[id]:itemsToRemoveTrait.push(traitItems[id]));for(var i=0,len=itemsToRemoveTrait.length;i<len;i++)item=itemsToRemoveTrait[i],item.removeTrait(trait),delete traitItems[item.id];for(id in items)items.hasOwnProperty(id)&&(item=items[id],item.addTrait(trait),traitItems[id]=item);this.traitsToItems[trait]=traitItems}},TreeModel.prototype.getElementsWithTrait=function(trait,includeHidden){var elements=[],items=this.traitsToItems[trait]||{},id;for(id in items)items.hasOwnProperty(id)&&(items[id].isVisible()||includeHidden)&&elements.push(items[id].getElement());return elements},TreeModel.prototype.dispose=function(){this.registry.dispose(),this._onSetInput.dispose(),this._onDidSetInput.dispose(),this._onRefresh.dispose(),this._onDidRefresh.dispose(),this._onDidHighlight.dispose(),this._onDidSelect.dispose(),this._onDidFocus.dispose(),this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._onDidDisposeItem.dispose()},TreeModel}(),browser=__webpack_require__(2642),diff_diff=__webpack_require__(3606),touch=__webpack_require__(3112),strings=__webpack_require__(2123),browser_mouseEvent=__webpack_require__(2813),browser_keyboardEvent=__webpack_require__(3111),ElementsDragAndDropData=function(){function ElementsDragAndDropData2(elements){this.elements=elements}return ElementsDragAndDropData2.prototype.update=function(dataTransfer){},ElementsDragAndDropData2.prototype.getData=function(){return this.elements},ElementsDragAndDropData2}(),ExternalElementsDragAndDropData=function(){function ExternalElementsDragAndDropData2(elements){this.elements=elements}return ExternalElementsDragAndDropData2.prototype.update=function(dataTransfer){},ExternalElementsDragAndDropData2.prototype.getData=function(){return this.elements},ExternalElementsDragAndDropData2}(),DesktopDragAndDropData=function(){function DesktopDragAndDropData2(){this.types=[],this.files=[]}return DesktopDragAndDropData2.prototype.update=function(dataTransfer){dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,dataTransfer.types)),dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,dataTransfer.files),this.files=this.files.filter(function(f){return f.size||f.type}))},DesktopDragAndDropData2.prototype.getData=function(){return{types:this.types,files:this.files}},DesktopDragAndDropData2}(),iterator=__webpack_require__(3110),scrollableElement=__webpack_require__(3105),treeViewModel_HeightMap=function(){function HeightMap(){this.heightMap=[],this.indexes={}}return HeightMap.prototype.getContentHeight=function(){var last=this.heightMap[this.heightMap.length-1];return last?last.top+last.height:0},HeightMap.prototype.onInsertItems=function(iterator2,afterItemId){afterItemId===void 0&&(afterItemId=null);var item=null,viewItem,i,j,totalSize,sizeDiff=0;if(afterItemId===null)i=0,totalSize=0;else{if(i=this.indexes[afterItemId]+1,viewItem=this.heightMap[i-1],!viewItem){console.error("view item doesnt exist");return}totalSize=viewItem.top+viewItem.height}for(var boundSplice=this.heightMap.splice.bind(this.heightMap,i,0),itemsToInsert=[];item=iterator2.next();)viewItem=this.createViewItem(item),viewItem.top=totalSize+sizeDiff,this.indexes[item.id]=i++,itemsToInsert.push(viewItem),sizeDiff+=viewItem.height;for(boundSplice.apply(this.heightMap,itemsToInsert),j=i;j<this.heightMap.length;j++)viewItem=this.heightMap[j],viewItem.top+=sizeDiff,this.indexes[viewItem.model.id]=j;for(j=itemsToInsert.length-1;j>=0;j--)this.onInsertItem(itemsToInsert[j]);for(j=this.heightMap.length-1;j>=i;j--)this.onRefreshItem(this.heightMap[j]);return sizeDiff},HeightMap.prototype.onInsertItem=function(item){},HeightMap.prototype.onRemoveItems=function(iterator2){for(var itemId=null,viewItem,startIndex=null,i=0,sizeDiff=0;itemId=iterator2.next();){if(i=this.indexes[itemId],viewItem=this.heightMap[i],!viewItem){console.error("view item doesnt exist");return}sizeDiff-=viewItem.height,delete this.indexes[itemId],this.onRemoveItem(viewItem),startIndex===null&&(startIndex=i)}if(!(sizeDiff===0||startIndex===null))for(this.heightMap.splice(startIndex,i-startIndex+1),i=startIndex;i<this.heightMap.length;i++)viewItem=this.heightMap[i],viewItem.top+=sizeDiff,this.indexes[viewItem.model.id]=i,this.onRefreshItem(viewItem)},HeightMap.prototype.onRemoveItem=function(item){},HeightMap.prototype.onRefreshItemSet=function(items){var _this=this,sortedItems=items.sort(function(a,b){return _this.indexes[a.id]-_this.indexes[b.id]});this.onRefreshItems(new iterator.a(sortedItems))},HeightMap.prototype.onRefreshItems=function(iterator2){for(var item=null,viewItem,newHeight,i,j=null,cummDiff=0;item=iterator2.next();){for(i=this.indexes[item.id];cummDiff!==0&&j!==null&&j<i;j++)viewItem=this.heightMap[j],viewItem.top+=cummDiff,this.onRefreshItem(viewItem);viewItem=this.heightMap[i],newHeight=item.getHeight(),viewItem.top+=cummDiff,cummDiff+=newHeight-viewItem.height,viewItem.height=newHeight,this.onRefreshItem(viewItem,!0),j=i+1}if(cummDiff!==0&&j!==null)for(;j<this.heightMap.length;j++)viewItem=this.heightMap[j],viewItem.top+=cummDiff,this.onRefreshItem(viewItem)},HeightMap.prototype.onRefreshItem=function(item,needsRender){needsRender===void 0&&(needsRender=!1)},HeightMap.prototype.indexAt=function(position){for(var left=0,right=this.heightMap.length,center,item;left<right;)if(center=Math.floor((left+right)/2),item=this.heightMap[center],position<item.top)right=center;else if(position>=item.top+item.height){if(left===center)break;left=center}else return center;return this.heightMap.length},HeightMap.prototype.indexAfter=function(position){return Math.min(this.indexAt(position)+1,this.heightMap.length)},HeightMap.prototype.itemAtIndex=function(index){return this.heightMap[index]},HeightMap.prototype.itemAfter=function(item){return this.heightMap[this.indexes[item.model.id]+1]||null},HeightMap.prototype.createViewItem=function(item){throw new Error("not implemented")},HeightMap.prototype.dispose=function(){this.heightMap=[],this.indexes={}},HeightMap}(),tree_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ContextMenuEvent=function(){function ContextMenuEvent2(posx,posy,target){this._posx=posx,this._posy=posy,this._target=target}return ContextMenuEvent2.prototype.preventDefault=function(){},ContextMenuEvent2.prototype.stopPropagation=function(){},Object.defineProperty(ContextMenuEvent2.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),ContextMenuEvent2}(),MouseContextMenuEvent=function(_super){tree_extends(MouseContextMenuEvent2,_super);function MouseContextMenuEvent2(originalEvent){var _this=_super.call(this,originalEvent.posx,originalEvent.posy,originalEvent.target)||this;return _this.originalEvent=originalEvent,_this}return MouseContextMenuEvent2.prototype.preventDefault=function(){this.originalEvent.preventDefault()},MouseContextMenuEvent2.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},MouseContextMenuEvent2}(ContextMenuEvent),KeyboardContextMenuEvent=function(_super){tree_extends(KeyboardContextMenuEvent2,_super);function KeyboardContextMenuEvent2(posx,posy,originalEvent){var _this=_super.call(this,posx,posy,originalEvent.target)||this;return _this.originalEvent=originalEvent,_this}return KeyboardContextMenuEvent2.prototype.preventDefault=function(){this.originalEvent.preventDefault()},KeyboardContextMenuEvent2.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},KeyboardContextMenuEvent2}(ContextMenuEvent),dnd=__webpack_require__(3374),common_async=__webpack_require__(2237),treeView_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function removeFromParent(element){try{element.parentElement.removeChild(element)}catch{}}var RowCache=function(){function RowCache2(context){this.context=context,this._cache={"":[]}}return RowCache2.prototype.alloc=function(templateId){var result=this.cache(templateId).pop();if(!result){var content=document.createElement("div");content.className="content";var row=document.createElement("div");row.appendChild(content);var templateData=null;try{templateData=this.context.renderer.renderTemplate(this.context.tree,templateId,content)}catch(err){console.error("Tree usage error: exception while rendering template"),console.error(err)}result={element:row,templateId,templateData}}return result},RowCache2.prototype.release=function(templateId,row){removeFromParent(row.element),this.cache(templateId).push(row)},RowCache2.prototype.cache=function(templateId){return this._cache[templateId]||(this._cache[templateId]=[])},RowCache2.prototype.garbageCollect=function(){var _this=this;this._cache&&Object.keys(this._cache).forEach(function(templateId){_this._cache[templateId].forEach(function(cachedRow){_this.context.renderer.disposeTemplate(_this.context.tree,templateId,cachedRow.templateData),cachedRow.element=null,cachedRow.templateData=null}),delete _this._cache[templateId]})},RowCache2.prototype.dispose=function(){this.garbageCollect(),this._cache=null},RowCache2}(),treeView_ViewItem=function(){function ViewItem(context,model){var _this=this;this.width=0,this.needsRender=!1,this.uri=null,this.unbindDragStart=lifecycle.a.None,this._draggable=!1,this.context=context,this.model=model,this.id=this.model.id,this.row=null,this.top=0,this.height=model.getHeight(),this._styles={},model.getAllTraits().forEach(function(t){return _this._styles[t]=!0}),model.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(ViewItem.prototype,"expanded",{set:function(value){value?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"loading",{set:function(value){value?this.addClass("codicon-loading"):this.removeClass("codicon-loading")},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"draggable",{get:function(){return this._draggable},set:function(value){this._draggable=value,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"dropTarget",{set:function(value){value?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),ViewItem.prototype.addClass=function(name){this._styles[name]=!0,this.render(!0)},ViewItem.prototype.removeClass=function(name){delete this._styles[name],this.render(!0)},ViewItem.prototype.render=function(skipUserRender){var _this=this;if(skipUserRender===void 0&&(skipUserRender=!1),!(!this.model||!this.element)){var classes=["monaco-tree-row"];classes.push.apply(classes,Object.keys(this._styles)),this.model.hasChildren()&&classes.push("has-children"),this.element.className=classes.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var accessibility=this.context.accessibilityProvider,ariaLabel=accessibility.getAriaLabel(this.context.tree,this.model.getElement());if(ariaLabel&&this.element.setAttribute("aria-label",ariaLabel),accessibility.getPosInSet&&accessibility.getSetSize&&(this.element.setAttribute("aria-setsize",accessibility.getSetSize()),this.element.setAttribute("aria-posinset",accessibility.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait("focused")){var base64Id=strings.M(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",base64Id)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(!!this._styles.expanded)):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var uri=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());if(uri!==this.uri&&(this.unbindDragStart&&this.unbindDragStart.dispose(),uri?(this.uri=uri,this.draggable=!0,this.unbindDragStart=dom.j(this.element,"dragstart",function(e){_this.onDragStart(e)})):this.uri=null),!skipUserRender&&this.element){var paddingLeft=0;if(this.context.horizontalScrolling){var style=window.getComputedStyle(this.element);paddingLeft=parseFloat(style.paddingLeft)}this.context.horizontalScrolling&&(this.element.style.width=browser.h?"-moz-fit-content":"fit-content");try{this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}catch(err){console.error("Tree usage error: exception while rendering element"),console.error(err)}this.context.horizontalScrolling&&(this.width=dom.A(this.element)+paddingLeft,this.element.style.width="")}}},ViewItem.prototype.insertInDOM=function(container,afterElement){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[treeView_TreeView.BINDING]=this),!this.element.parentElement){if(afterElement===null)container.appendChild(this.element);else try{container.insertBefore(this.element,afterElement)}catch{console.warn("Failed to locate previous tree element"),container.appendChild(this.element)}this.render()}},ViewItem.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart.dispose(),this.uri=null,this.element[treeView_TreeView.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},ViewItem.prototype.dispose=function(){this.row=null},ViewItem}(),RootViewItem=function(_super){treeView_extends(RootViewItem2,_super);function RootViewItem2(context,model,wrapper){var _this=_super.call(this,context,model)||this;return _this.row={element:wrapper,templateData:null,templateId:null},_this}return RootViewItem2.prototype.render=function(){if(!(!this.model||!this.element)){var classes=["monaco-tree-wrapper"];classes.push.apply(classes,Object.keys(this._styles)),this.model.hasChildren()&&classes.push("has-children"),this.element.className=classes.join(" ")}},RootViewItem2.prototype.insertInDOM=function(container,afterElement){},RootViewItem2.prototype.removeFromDOM=function(){},RootViewItem2}(treeView_ViewItem);function reactionEquals(one,other){return!one&&!other?!0:!one||!other||one.accept!==other.accept||one.bubble!==other.bubble?!1:one.effect===other.effect}var treeView_TreeView=function(_super){treeView_extends(TreeView,_super);function TreeView(context,container){var _this=_super.call(this)||this;_this.model=null,_this.lastPointerType="",_this.lastClickTimeStamp=0,_this.contentWidthUpdateDelayer=new common_async.a(50),_this.isRefreshing=!1,_this.refreshingPreviousChildrenIds={},_this.currentDragAndDropData=null,_this.currentDropTarget=null,_this.currentDropTargets=null,_this.currentDropDisposable=lifecycle.a.None,_this.gestureDisposable=lifecycle.a.None,_this.dragAndDropScrollInterval=null,_this.dragAndDropScrollTimeout=null,_this.dragAndDropMouseY=null,_this.highlightedItemWasDraggable=!1,_this.onHiddenScrollTop=null,_this._onDOMFocus=new common_event.a,_this.onDOMFocus=_this._onDOMFocus.event,_this._onDOMBlur=new common_event.a,_this._onDidScroll=new common_event.a,TreeView.counter++,_this.instance=TreeView.counter;var horizontalScrollMode=typeof context.options.horizontalScrollMode>"u"?2:context.options.horizontalScrollMode;_this.horizontalScrolling=horizontalScrollMode!==2,_this.context={dataSource:context.dataSource,renderer:context.renderer,controller:context.controller,dnd:context.dnd,filter:context.filter,sorter:context.sorter,tree:context.tree,accessibilityProvider:context.accessibilityProvider,options:context.options,cache:new RowCache(context),horizontalScrolling:_this.horizontalScrolling},_this.modelListeners=[],_this.viewListeners=[],_this.items={},_this.domNode=document.createElement("div"),_this.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+_this.instance,_this.domNode.tabIndex=context.options.preventRootFocus?-1:0,_this.styleElement=dom.w(_this.domNode),_this.treeStyler=context.styler||new DefaultTreestyler(_this.styleElement,"monaco-tree-instance-"+_this.instance),_this.domNode.setAttribute("role","tree"),_this.context.options.ariaLabel&&_this.domNode.setAttribute("aria-label",_this.context.options.ariaLabel),_this.context.options.alwaysFocused&&dom.f(_this.domNode,"focused"),_this.context.options.paddingOnRow||dom.f(_this.domNode,"no-row-padding"),_this.wrapper=document.createElement("div"),_this.wrapper.className="monaco-tree-wrapper",_this.scrollableElement=new scrollableElement.b(_this.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:horizontalScrollMode,vertical:typeof context.options.verticalScrollMode<"u"?context.options.verticalScrollMode:1,useShadows:context.options.useShadows}),_this.scrollableElement.onScroll(function(e){_this.render(e.scrollTop,e.height,e.scrollLeft,e.width,e.scrollWidth),_this._onDidScroll.fire()}),browser.i?(_this.wrapper.style.msTouchAction="none",_this.wrapper.style.msContentZooming="none"):_this.gestureDisposable=touch.b.addTarget(_this.wrapper),_this.rowsContainer=document.createElement("div"),_this.rowsContainer.className="monaco-tree-rows",context.options.showTwistie&&(_this.rowsContainer.className+=" show-twisties");var focusTracker=dom.W(_this.domNode);return _this.viewListeners.push(focusTracker.onDidFocus(function(){return _this.onFocus()})),_this.viewListeners.push(focusTracker.onDidBlur(function(){return _this.onBlur()})),_this.viewListeners.push(focusTracker),_this.viewListeners.push(dom.j(_this.domNode,"keydown",function(e){return _this.onKeyDown(e)})),_this.viewListeners.push(dom.j(_this.domNode,"keyup",function(e){return _this.onKeyUp(e)})),_this.viewListeners.push(dom.j(_this.domNode,"mousedown",function(e){return _this.onMouseDown(e)})),_this.viewListeners.push(dom.j(_this.domNode,"mouseup",function(e){return _this.onMouseUp(e)})),_this.viewListeners.push(dom.j(_this.wrapper,"auxclick",function(e){e&&e.button===1&&_this.onMouseMiddleClick(e)})),_this.viewListeners.push(dom.j(_this.wrapper,"click",function(e){return _this.onClick(e)})),_this.viewListeners.push(dom.j(_this.domNode,"contextmenu",function(e){return _this.onContextMenu(e)})),_this.viewListeners.push(dom.j(_this.wrapper,touch.a.Tap,function(e){return _this.onTap(e)})),_this.viewListeners.push(dom.j(_this.wrapper,touch.a.Change,function(e){return _this.onTouchChange(e)})),browser.i&&(_this.viewListeners.push(dom.j(_this.wrapper,"MSPointerDown",function(e){return _this.onMsPointerDown(e)})),_this.viewListeners.push(dom.j(_this.wrapper,"MSGestureTap",function(e){return _this.onMsGestureTap(e)})),_this.viewListeners.push(dom.m(_this.wrapper,"MSGestureChange",function(e){return _this.onThrottledMsGestureChange(e)},function(lastEvent,event){event.stopPropagation(),event.preventDefault();var result={translationY:event.translationY,translationX:event.translationX};return lastEvent&&(result.translationY+=lastEvent.translationY,result.translationX+=lastEvent.translationX),result}))),_this.viewListeners.push(dom.j(window,"dragover",function(e){return _this.onDragOver(e)})),_this.viewListeners.push(dom.j(_this.wrapper,"drop",function(e){return _this.onDrop(e)})),_this.viewListeners.push(dom.j(window,"dragend",function(e){return _this.onDragEnd(e)})),_this.viewListeners.push(dom.j(window,"dragleave",function(e){return _this.onDragOver(e)})),_this.wrapper.appendChild(_this.rowsContainer),_this.domNode.appendChild(_this.scrollableElement.getDomNode()),container.appendChild(_this.domNode),_this.lastRenderTop=0,_this.lastRenderHeight=0,_this.didJustPressContextMenuKey=!1,_this.currentDropTarget=null,_this.currentDropTargets=[],_this.shouldInvalidateDropReaction=!1,_this.dragAndDropScrollInterval=null,_this.dragAndDropScrollTimeout=null,_this.onRowsChanged(),_this.layout(),_this.setupMSGesture(),_this.applyStyles(context.options),_this}return TreeView.prototype.applyStyles=function(styles){this.treeStyler.style(styles)},TreeView.prototype.createViewItem=function(item){return new treeView_ViewItem(this.context,item)},TreeView.prototype.getHTMLElement=function(){return this.domNode},TreeView.prototype.focus=function(){this.domNode.focus()},TreeView.prototype.isFocused=function(){return document.activeElement===this.domNode},TreeView.prototype.blur=function(){this.domNode.blur()},TreeView.prototype.setupMSGesture=function(){var _this=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return _this.msGesture.target=_this.wrapper},100))},TreeView.prototype.isTreeVisible=function(){return this.onHiddenScrollTop===null},TreeView.prototype.layout=function(height,width){this.isTreeVisible()&&(this.viewHeight=height||dom.z(this.wrapper),this.scrollHeight=this.getContentHeight(),this.horizontalScrolling&&(this.viewWidth=width||dom.A(this.wrapper)))},TreeView.prototype.render=function(scrollTop,viewHeight,scrollLeft,viewWidth,scrollWidth){var i,stop,renderTop=scrollTop,renderBottom=scrollTop+viewHeight,thisRenderBottom=this.lastRenderTop+this.lastRenderHeight;for(i=this.indexAfter(renderBottom)-1,stop=this.indexAt(Math.max(thisRenderBottom,renderTop));i>=stop;i--)this.insertItemInDOM(this.itemAtIndex(i));for(i=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(renderBottom))-1,stop=this.indexAt(renderTop);i>=stop;i--)this.insertItemInDOM(this.itemAtIndex(i));for(i=this.indexAt(this.lastRenderTop),stop=Math.min(this.indexAt(renderTop),this.indexAfter(thisRenderBottom));i<stop;i++)this.removeItemFromDOM(this.itemAtIndex(i));for(i=Math.max(this.indexAfter(renderBottom),this.indexAt(this.lastRenderTop)),stop=this.indexAfter(thisRenderBottom);i<stop;i++)this.removeItemFromDOM(this.itemAtIndex(i));var topItem=this.itemAtIndex(this.indexAt(renderTop));topItem&&(this.rowsContainer.style.top=topItem.top-renderTop+"px"),this.horizontalScrolling&&(this.rowsContainer.style.left=-scrollLeft+"px",this.rowsContainer.style.width=Math.max(scrollWidth,viewWidth)+"px"),this.lastRenderTop=renderTop,this.lastRenderHeight=renderBottom-renderTop},TreeView.prototype.setModel=function(newModel){this.releaseModel(),this.model=newModel,this.model.onRefresh(this.onRefreshing,this,this.modelListeners),this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners),this.model.onSetInput(this.onClearingInput,this,this.modelListeners),this.model.onDidSetInput(this.onSetInput,this,this.modelListeners),this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners),this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners),this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners),this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners),this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners),this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners),this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners),this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners),this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners),this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)},TreeView.prototype.onRefreshing=function(){this.isRefreshing=!0},TreeView.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},TreeView.prototype.onRowsChanged=function(scrollTop){scrollTop===void 0&&(scrollTop=this.scrollTop),!this.isRefreshing&&(this.scrollTop=scrollTop,this.updateScrollWidth())},TreeView.prototype.updateScrollWidth=function(){var _this=this;this.horizontalScrolling&&this.contentWidthUpdateDelayer.trigger(function(){for(var keys=Object.keys(_this.items),scrollWidth=0,_i=0,keys_1=keys;_i<keys_1.length;_i++){var key=keys_1[_i];scrollWidth=Math.max(scrollWidth,_this.items[key].width)}_this.scrollWidth=scrollWidth+10})},TreeView.prototype.focusNextPage=function(eventPayload){var _this=this,lastPageIndex=this.indexAt(this.scrollTop+this.viewHeight);lastPageIndex=lastPageIndex===0?0:lastPageIndex-1;var lastPageElement=this.itemAtIndex(lastPageIndex).model.getElement(),currentlyFocusedElement=this.model.getFocus();if(currentlyFocusedElement!==lastPageElement)this.model.setFocus(lastPageElement,eventPayload);else{var previousScrollTop=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==previousScrollTop&&setTimeout(function(){_this.focusNextPage(eventPayload)},0)}},TreeView.prototype.focusPreviousPage=function(eventPayload){var _this=this,firstPageIndex;this.scrollTop===0?firstPageIndex=this.indexAt(this.scrollTop):firstPageIndex=this.indexAfter(this.scrollTop-1);var firstPageElement=this.itemAtIndex(firstPageIndex).model.getElement(),currentlyFocusedElement=this.model.getFocus();if(currentlyFocusedElement!==firstPageElement)this.model.setFocus(firstPageElement,eventPayload);else{var previousScrollTop=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==previousScrollTop&&setTimeout(function(){_this.focusPreviousPage(eventPayload)},0)}},Object.defineProperty(TreeView.prototype,"viewHeight",{get:function(){var scrollDimensions=this.scrollableElement.getScrollDimensions();return scrollDimensions.height},set:function(height){this.scrollableElement.setScrollDimensions({height})},enumerable:!0,configurable:!0}),Object.defineProperty(TreeView.prototype,"scrollHeight",{set:function(scrollHeight){scrollHeight=scrollHeight+(this.horizontalScrolling?10:0),this.scrollableElement.setScrollDimensions({scrollHeight})},enumerable:!0,configurable:!0}),Object.defineProperty(TreeView.prototype,"viewWidth",{get:function(){var scrollDimensions=this.scrollableElement.getScrollDimensions();return scrollDimensions.width},set:function(viewWidth){this.scrollableElement.setScrollDimensions({width:viewWidth})},enumerable:!0,configurable:!0}),Object.defineProperty(TreeView.prototype,"scrollWidth",{set:function(scrollWidth){this.scrollableElement.setScrollDimensions({scrollWidth})},enumerable:!0,configurable:!0}),Object.defineProperty(TreeView.prototype,"scrollTop",{get:function(){var scrollPosition=this.scrollableElement.getScrollPosition();return scrollPosition.scrollTop},set:function(scrollTop){var scrollHeight=this.getContentHeight()+(this.horizontalScrolling?10:0);this.scrollableElement.setScrollDimensions({scrollHeight}),this.scrollableElement.setScrollPosition({scrollTop})},enumerable:!0,configurable:!0}),TreeView.prototype.onClearingInput=function(e){var item=e.item;item&&(this.onRemoveItems(new iterator.e(item.getNavigator(),function(item2){return item2&&item2.id})),this.onRowsChanged())},TreeView.prototype.onSetInput=function(e){this.context.cache.garbageCollect(),this.inputItem=new RootViewItem(this.context,e.item,this.wrapper)},TreeView.prototype.onItemChildrenRefreshing=function(e){var item=e.item,viewItem=this.items[item.id];if(viewItem&&this.context.options.showLoading&&(viewItem.loadingTimer=setTimeout(function(){viewItem.loadingTimer=0,viewItem.loading=!0},TreeView.LOADING_DECORATION_DELAY)),!e.isNested){for(var childrenIds=[],navigator_1=item.getNavigator(),childItem=void 0;childItem=navigator_1.next();)childrenIds.push(childItem.id);this.refreshingPreviousChildrenIds[item.id]=childrenIds}},TreeView.prototype.onItemChildrenRefreshed=function(e){var _this=this,item=e.item,viewItem=this.items[item.id];if(viewItem&&(viewItem.loadingTimer&&(clearTimeout(viewItem.loadingTimer),viewItem.loadingTimer=0),viewItem.loading=!1),!e.isNested){for(var previousChildrenIds_1=this.refreshingPreviousChildrenIds[item.id],afterModelItems_1=[],navigator_2=item.getNavigator(),childItem=void 0;childItem=navigator_2.next();)afterModelItems_1.push(childItem);var skipDiff=Math.abs(previousChildrenIds_1.length-afterModelItems_1.length)>1e3,diff=[],doToInsertItemsAlreadyExist=!1;if(!skipDiff){var lcs=new diff_diff.a({getElements:function(){return previousChildrenIds_1}},{getElements:function(){return afterModelItems_1.map(function(item2){return item2.id})}},null);diff=lcs.ComputeDiff(!1).changes,doToInsertItemsAlreadyExist=diff.some(function(d){if(d.modifiedLength>0){for(var i=d.modifiedStart,len=d.modifiedStart+d.modifiedLength;i<len;i++)if(_this.items.hasOwnProperty(afterModelItems_1[i].id))return!0}return!1})}if(!skipDiff&&!doToInsertItemsAlreadyExist&&diff.length<50)for(var _i=0,diff_1=diff;_i<diff_1.length;_i++){var diffChange=diff_1[_i];if(diffChange.originalLength>0&&this.onRemoveItems(new iterator.a(previousChildrenIds_1,diffChange.originalStart,diffChange.originalStart+diffChange.originalLength)),diffChange.modifiedLength>0){var beforeItem=afterModelItems_1[diffChange.modifiedStart-1]||item;beforeItem=beforeItem.getDepth()>0?beforeItem:null,this.onInsertItems(new iterator.a(afterModelItems_1,diffChange.modifiedStart,diffChange.modifiedStart+diffChange.modifiedLength),beforeItem?beforeItem.id:null)}}else(skipDiff||diff.length)&&(this.onRemoveItems(new iterator.a(previousChildrenIds_1)),this.onInsertItems(new iterator.a(afterModelItems_1),item.getDepth()>0?item.id:null));(skipDiff||diff.length)&&this.onRowsChanged()}},TreeView.prototype.onItemRefresh=function(item){this.onItemsRefresh([item])},TreeView.prototype.onItemsRefresh=function(items){var _this=this;this.onRefreshItemSet(items.filter(function(item){return _this.items.hasOwnProperty(item.id)})),this.onRowsChanged()},TreeView.prototype.onItemExpanding=function(e){var viewItem=this.items[e.item.id];viewItem&&(viewItem.expanded=!0)},TreeView.prototype.onItemExpanded=function(e){var item=e.item,viewItem=this.items[item.id];if(viewItem){viewItem.expanded=!0;var height=this.onInsertItems(item.getNavigator(),item.id)||0,scrollTop=this.scrollTop;viewItem.top+viewItem.height<=this.scrollTop&&(scrollTop+=height),this.onRowsChanged(scrollTop)}},TreeView.prototype.onItemCollapsing=function(e){var item=e.item,viewItem=this.items[item.id];viewItem&&(viewItem.expanded=!1,this.onRemoveItems(new iterator.e(item.getNavigator(),function(item2){return item2&&item2.id})),this.onRowsChanged())},TreeView.prototype.onItemReveal=function(e){var item=e.item,relativeTop=e.relativeTop,viewItem=this.items[item.id];if(viewItem)if(relativeTop!==null){relativeTop=relativeTop<0?0:relativeTop,relativeTop=relativeTop>1?1:relativeTop;var m=viewItem.height-this.viewHeight;this.scrollTop=m*relativeTop+viewItem.top}else{var viewItemBottom=viewItem.top+viewItem.height,wrapperBottom=this.scrollTop+this.viewHeight;viewItem.top<this.scrollTop?this.scrollTop=viewItem.top:viewItemBottom>=wrapperBottom&&(this.scrollTop=viewItemBottom-this.viewHeight)}},TreeView.prototype.onItemAddTrait=function(e){var item=e.item,trait=e.trait,viewItem=this.items[item.id];viewItem&&viewItem.addClass(trait),trait==="highlighted"&&(dom.f(this.domNode,trait),viewItem&&(this.highlightedItemWasDraggable=!!viewItem.draggable,viewItem.draggable&&(viewItem.draggable=!1)))},TreeView.prototype.onItemRemoveTrait=function(e){var item=e.item,trait=e.trait,viewItem=this.items[item.id];viewItem&&viewItem.removeClass(trait),trait==="highlighted"&&(dom.M(this.domNode,trait),this.highlightedItemWasDraggable&&(viewItem.draggable=!0),this.highlightedItemWasDraggable=!1)},TreeView.prototype.onModelFocusChange=function(){var focus=this.model&&this.model.getFocus();dom.V(this.domNode,"no-focused-item",!focus),focus?this.domNode.setAttribute("aria-activedescendant",strings.M(this.context.dataSource.getId(this.context.tree,focus))):this.domNode.removeAttribute("aria-activedescendant")},TreeView.prototype.onInsertItem=function(item){var _this=this;item.onDragStart=function(e){_this.onDragStart(item,e)},item.needsRender=!0,this.refreshViewItem(item),this.items[item.id]=item},TreeView.prototype.onRefreshItem=function(item,needsRender){needsRender===void 0&&(needsRender=!1),item.needsRender=item.needsRender||needsRender,this.refreshViewItem(item)},TreeView.prototype.onRemoveItem=function(item){this.removeItemFromDOM(item),item.dispose(),delete this.items[item.id]},TreeView.prototype.refreshViewItem=function(item){item.render(),this.shouldBeRendered(item)?this.insertItemInDOM(item):this.removeItemFromDOM(item)},TreeView.prototype.onClick=function(e){if(!(this.lastPointerType&&this.lastPointerType!=="mouse")){var event=new browser_mouseEvent.b(e),item=this.getItemAround(event.target);item&&(browser.i&&Date.now()-this.lastClickTimeStamp<300&&(event.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,item.model.getElement(),event))}},TreeView.prototype.onMouseMiddleClick=function(e){if(this.context.controller.onMouseMiddleClick){var event=new browser_mouseEvent.b(e),item=this.getItemAround(event.target);item&&this.context.controller.onMouseMiddleClick(this.context.tree,item.model.getElement(),event)}},TreeView.prototype.onMouseDown=function(e){if(this.didJustPressContextMenuKey=!1,!!this.context.controller.onMouseDown&&!(this.lastPointerType&&this.lastPointerType!=="mouse")){var event=new browser_mouseEvent.b(e);if(!(event.ctrlKey&&platform.f&&platform.e)){var item=this.getItemAround(event.target);item&&this.context.controller.onMouseDown(this.context.tree,item.model.getElement(),event)}}},TreeView.prototype.onMouseUp=function(e){if(this.context.controller.onMouseUp&&!(this.lastPointerType&&this.lastPointerType!=="mouse")){var event=new browser_mouseEvent.b(e);if(!(event.ctrlKey&&platform.f&&platform.e)){var item=this.getItemAround(event.target);item&&this.context.controller.onMouseUp(this.context.tree,item.model.getElement(),event)}}},TreeView.prototype.onTap=function(e){var item=this.getItemAround(e.initialTarget);item&&this.context.controller.onTap(this.context.tree,item.model.getElement(),e)},TreeView.prototype.onTouchChange=function(event){event.preventDefault(),event.stopPropagation(),this.scrollTop-=event.translationY},TreeView.prototype.onContextMenu=function(event){var resultEvent,element;if(event instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var keyboardEvent=new browser_keyboardEvent.a(event);element=this.model.getFocus();var position=void 0;if(!element)element=this.model.getInput(),position=dom.B(this.inputItem.element);else{var id=this.context.dataSource.getId(this.context.tree,element),viewItem=this.items[id];position=dom.B(viewItem.element)}resultEvent=new KeyboardContextMenuEvent(position.left+position.width,position.top,keyboardEvent)}else{var mouseEvent=new browser_mouseEvent.b(event),item=this.getItemAround(mouseEvent.target);if(!item)return;element=item.model.getElement(),resultEvent=new MouseContextMenuEvent(mouseEvent)}this.context.controller.onContextMenu(this.context.tree,element,resultEvent)},TreeView.prototype.onKeyDown=function(e){var event=new browser_keyboardEvent.a(e);this.didJustPressContextMenuKey=event.keyCode===58||event.shiftKey&&event.keyCode===68,!(event.target&&event.target.tagName&&event.target.tagName.toLowerCase()==="input")&&(this.didJustPressContextMenuKey&&(event.preventDefault(),event.stopPropagation()),this.context.controller.onKeyDown(this.context.tree,event))},TreeView.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new browser_keyboardEvent.a(e))},TreeView.prototype.onDragStart=function(item,e){if(!this.model.getHighlight()){var element=item.model.getElement(),selection=this.model.getSelection(),elements;if(selection.indexOf(element)>-1?elements=selection:elements=[element],e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setData(dnd.a.RESOURCES,JSON.stringify([item.uri])),e.dataTransfer.setDragImage){var label=void 0;this.context.dnd.getDragLabel?label=this.context.dnd.getDragLabel(this.context.tree,elements):label=String(elements.length);var dragImage_1=document.createElement("div");dragImage_1.className="monaco-tree-drag-image",dragImage_1.textContent=label,document.body.appendChild(dragImage_1),e.dataTransfer.setDragImage(dragImage_1,-10,-10),setTimeout(function(){return document.body.removeChild(dragImage_1)},0)}this.currentDragAndDropData=new ElementsDragAndDropData(elements),dnd.c.CurrentDragAndDropData=new ExternalElementsDragAndDropData(elements),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new browser_mouseEvent.a(e))}},TreeView.prototype.setupDragAndDropScrollInterval=function(){var _this=this,viewTop=dom.D(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(_this.dragAndDropMouseY!==null){var diff=_this.dragAndDropMouseY-viewTop,scrollDiff=0,upperLimit=_this.viewHeight-35;diff<35?scrollDiff=Math.max(-14,.2*(diff-35)):diff>upperLimit&&(scrollDiff=Math.min(14,.2*(diff-upperLimit))),_this.scrollTop+=scrollDiff}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){_this.cancelDragAndDropScrollInterval(),_this.dragAndDropScrollTimeout=null},1e3))},TreeView.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},TreeView.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},TreeView.prototype.onDragOver=function(e){var _this=this;e.preventDefault();var event=new browser_mouseEvent.a(e),viewItem=this.getItemAround(event.target);if(!viewItem||event.posx===0&&event.posy===0&&event.browserEvent.type===dom.d.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(i){return i.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=event.posy,!this.currentDragAndDropData)if(dnd.c.CurrentDragAndDropData)this.currentDragAndDropData=dnd.c.CurrentDragAndDropData;else{if(!event.dataTransfer.types)return!1;this.currentDragAndDropData=new DesktopDragAndDropData}this.currentDragAndDropData.update(event.browserEvent.dataTransfer);var element,item=viewItem.model,reaction;do{if(element=item?item.getElement():this.model.getInput(),reaction=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,element,event),!reaction||reaction.bubble!==1)break;item=item&&item.parent}while(item);if(!item)return this.currentDropElement=null,!1;var canDrop=reaction&&reaction.accept;canDrop?(this.currentDropElement=item.getElement(),event.preventDefault(),event.dataTransfer.dropEffect=reaction.effect===0?"copy":"move"):this.currentDropElement=null;var currentDropTarget=item.id===this.inputItem.id?this.inputItem:this.items[item.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==currentDropTarget||!reactionEquals(this.currentDropElementReaction,reaction))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(i){return i.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.currentDropTarget=currentDropTarget,this.currentDropElementReaction=reaction,canDrop)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),reaction.bubble===0)for(var nav=item.getNavigator(),child=void 0;child=nav.next();)viewItem=this.items[child.id],viewItem&&(viewItem.dropTarget=!0,this.currentDropTargets.push(viewItem));if(reaction.autoExpand){var timeoutPromise_1=Object(common_async.l)(500);this.currentDropDisposable=lifecycle.h(function(){return timeoutPromise_1.cancel()}),timeoutPromise_1.then(function(){return _this.context.tree.expand(_this.currentDropElement)}).then(function(){return _this.shouldInvalidateDropReaction=!0})}}return!0},TreeView.prototype.onDrop=function(e){if(this.currentDropElement){var event_1=new browser_mouseEvent.a(e);event_1.preventDefault(),this.currentDragAndDropData.update(event_1.browserEvent.dataTransfer),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,event_1),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},TreeView.prototype.onDragEnd=function(e){this.currentDropTarget&&(this.currentDropTargets.forEach(function(i){return i.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropDisposable.dispose(),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,dnd.c.CurrentDragAndDropData=void 0,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},TreeView.prototype.onFocus=function(){this.context.options.alwaysFocused||dom.f(this.domNode,"focused"),this._onDOMFocus.fire()},TreeView.prototype.onBlur=function(){this.context.options.alwaysFocused||dom.M(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},TreeView.prototype.onMsPointerDown=function(event){if(this.msGesture){var pointerType=event.pointerType;if(pointerType===(event.MSPOINTER_TYPE_MOUSE||"mouse")){this.lastPointerType="mouse";return}else if(pointerType===(event.MSPOINTER_TYPE_TOUCH||"touch"))this.lastPointerType="touch";else return;event.stopPropagation(),event.preventDefault(),this.msGesture.addPointer(event.pointerId)}},TreeView.prototype.onThrottledMsGestureChange=function(event){this.scrollTop-=event.translationY},TreeView.prototype.onMsGestureTap=function(event){event.initialTarget=document.elementFromPoint(event.clientX,event.clientY),this.onTap(event)},TreeView.prototype.insertItemInDOM=function(item){var elementAfter=null,itemAfter=this.itemAfter(item);itemAfter&&itemAfter.element&&(elementAfter=itemAfter.element),item.insertInDOM(this.rowsContainer,elementAfter)},TreeView.prototype.removeItemFromDOM=function(item){item&&item.removeFromDOM()},TreeView.prototype.shouldBeRendered=function(item){return item.top<this.lastRenderTop+this.lastRenderHeight&&item.top+item.height>this.lastRenderTop},TreeView.prototype.getItemAround=function(element){var candidate=this.inputItem,el=element;do{if(el[TreeView.BINDING]&&(candidate=el[TreeView.BINDING]),el===this.wrapper||el===this.domNode)return candidate;if(el===this.scrollableElement.getDomNode()||el===document.body)return}while(el=el.parentElement)},TreeView.prototype.releaseModel=function(){this.model&&(this.modelListeners=lifecycle.f(this.modelListeners),this.model=null)},TreeView.prototype.dispose=function(){var _this=this;this.scrollableElement.dispose(),this.releaseModel(),this.viewListeners=lifecycle.f(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.items&&Object.keys(this.items).forEach(function(key){return _this.items[key].removeFromDOM()}),this.context.cache&&this.context.cache.dispose(),this.gestureDisposable.dispose(),_super.prototype.dispose.call(this)},TreeView.BINDING="monaco-tree-row",TreeView.LOADING_DECORATION_DELAY=800,TreeView.counter=0,TreeView}(treeViewModel_HeightMap),color=__webpack_require__(2663),objects=__webpack_require__(2734),treeImpl_TreeContext=function(){function TreeContext(tree,configuration,options){if(options===void 0&&(options={}),this.tree=tree,this.configuration=configuration,this.options=options,!configuration.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=configuration.dataSource,this.renderer=configuration.renderer,this.controller=configuration.controller||new treeDefaults_DefaultController({clickBehavior:1,keyboardSupport:typeof options.keyboardSupport!="boolean"||options.keyboardSupport}),this.dnd=configuration.dnd||new DefaultDragAndDrop,this.filter=configuration.filter||new DefaultFilter,this.sorter=configuration.sorter,this.accessibilityProvider=configuration.accessibilityProvider||new DefaultAccessibilityProvider,this.styler=configuration.styler}return TreeContext}(),defaultStyles={listFocusBackground:color.a.fromHex("#073655"),listActiveSelectionBackground:color.a.fromHex("#0E639C"),listActiveSelectionForeground:color.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:color.a.fromHex("#094771"),listFocusAndSelectionForeground:color.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:color.a.fromHex("#3F3F46"),listHoverBackground:color.a.fromHex("#2A2D2E"),listDropBackground:color.a.fromHex("#383B3D")},treeImpl_Tree=function(){function Tree(container,configuration,options){options===void 0&&(options={}),this._onDidChangeFocus=new common_event.f,this.onDidChangeFocus=this._onDidChangeFocus.event,this._onDidChangeSelection=new common_event.f,this.onDidChangeSelection=this._onDidChangeSelection.event,this._onHighlightChange=new common_event.f,this._onDidExpandItem=new common_event.f,this._onDidCollapseItem=new common_event.f,this._onDispose=new common_event.a,this.onDidDispose=this._onDispose.event,this.container=container,Object(objects.g)(options,defaultStyles,!1),options.twistiePixels=typeof options.twistiePixels=="number"?options.twistiePixels:32,options.showTwistie=options.showTwistie!==!1,options.indentPixels=typeof options.indentPixels=="number"?options.indentPixels:12,options.alwaysFocused=options.alwaysFocused===!0,options.useShadows=options.useShadows!==!1,options.paddingOnRow=options.paddingOnRow!==!1,options.showLoading=options.showLoading!==!1,this.context=new treeImpl_TreeContext(this,configuration,options),this.model=new treeModel_TreeModel(this.context),this.view=new treeView_TreeView(this.context,this.container),this.view.setModel(this.model),this._onDidChangeFocus.input=this.model.onDidFocus,this._onDidChangeSelection.input=this.model.onDidSelect,this._onHighlightChange.input=this.model.onDidHighlight,this._onDidExpandItem.input=this.model.onDidExpandItem,this._onDidCollapseItem.input=this.model.onDidCollapseItem}return Tree.prototype.style=function(styles){this.view.applyStyles(styles)},Object.defineProperty(Tree.prototype,"onDidFocus",{get:function(){return this.view.onDOMFocus},enumerable:!0,configurable:!0}),Tree.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},Tree.prototype.layout=function(height,width){this.view.layout(height,width)},Tree.prototype.domFocus=function(){this.view.focus()},Tree.prototype.isDOMFocused=function(){return this.view.isFocused()},Tree.prototype.domBlur=function(){this.view.blur()},Tree.prototype.setInput=function(element){return this.model.setInput(element)},Tree.prototype.getInput=function(){return this.model.getInput()},Tree.prototype.expand=function(element){return this.model.expand(element)},Tree.prototype.collapse=function(element,recursive){return recursive===void 0&&(recursive=!1),this.model.collapse(element,recursive)},Tree.prototype.toggleExpansion=function(element,recursive){return recursive===void 0&&(recursive=!1),this.model.toggleExpansion(element,recursive)},Tree.prototype.isExpanded=function(element){return this.model.isExpanded(element)},Tree.prototype.reveal=function(element,relativeTop){return relativeTop===void 0&&(relativeTop=null),this.model.reveal(element,relativeTop)},Tree.prototype.getHighlight=function(){return this.model.getHighlight()},Tree.prototype.clearHighlight=function(eventPayload){this.model.setHighlight(null,eventPayload)},Tree.prototype.setSelection=function(elements,eventPayload){this.model.setSelection(elements,eventPayload)},Tree.prototype.getSelection=function(){return this.model.getSelection()},Tree.prototype.clearSelection=function(eventPayload){this.model.setSelection([],eventPayload)},Tree.prototype.setFocus=function(element,eventPayload){this.model.setFocus(element,eventPayload)},Tree.prototype.getFocus=function(){return this.model.getFocus()},Tree.prototype.focusNext=function(count,eventPayload){this.model.focusNext(count,eventPayload)},Tree.prototype.focusPrevious=function(count,eventPayload){this.model.focusPrevious(count,eventPayload)},Tree.prototype.focusParent=function(eventPayload){this.model.focusParent(eventPayload)},Tree.prototype.focusFirstChild=function(eventPayload){this.model.focusFirstChild(eventPayload)},Tree.prototype.focusFirst=function(eventPayload,from){this.model.focusFirst(eventPayload,from)},Tree.prototype.focusNth=function(index,eventPayload){this.model.focusNth(index,eventPayload)},Tree.prototype.focusLast=function(eventPayload,from){this.model.focusLast(eventPayload,from)},Tree.prototype.focusNextPage=function(eventPayload){this.view.focusNextPage(eventPayload)},Tree.prototype.focusPreviousPage=function(eventPayload){this.view.focusPreviousPage(eventPayload)},Tree.prototype.clearFocus=function(eventPayload){this.model.setFocus(null,eventPayload)},Tree.prototype.dispose=function(){this._onDispose.fire(),this.model.dispose(),this.view.dispose(),this._onDidChangeFocus.dispose(),this._onDidChangeSelection.dispose(),this._onHighlightChange.dispose(),this._onDidExpandItem.dispose(),this._onDidCollapseItem.dispose(),this._onDispose.dispose()},Tree}(),progressbar=__webpack_require__(5785),progressbar_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),css_done="done",css_active="active",css_infinite="infinite",css_discrete="discrete",css_progress_container="monaco-progress-container",css_progress_bit="progress-bit",defaultOpts={progressBarBackground:color.a.fromHex("#0E70C0")},progressbar_ProgressBar=function(_super){progressbar_extends(ProgressBar,_super);function ProgressBar(container,options){var _this=_super.call(this)||this;return _this.options=options||Object.create(null),Object(objects.g)(_this.options,defaultOpts,!1),_this.workedVal=0,_this.progressBarBackground=_this.options.progressBarBackground,_this._register(_this.showDelayedScheduler=new common_async.d(function(){return Object(dom.U)(_this.element)},0)),_this.create(container),_this}return ProgressBar.prototype.create=function(container){this.element=document.createElement("div"),Object(dom.f)(this.element,css_progress_container),container.appendChild(this.element),this.bit=document.createElement("div"),Object(dom.f)(this.bit,css_progress_bit),this.element.appendChild(this.bit),this.applyStyles()},ProgressBar.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",Object(dom.N)(this.element,css_active,css_infinite,css_discrete),this.workedVal=0,this.totalWork=void 0},ProgressBar.prototype.stop=function(){return this.doDone(!1)},ProgressBar.prototype.doDone=function(delayed){var _this=this;return Object(dom.f)(this.element,css_done),Object(dom.G)(this.element,css_infinite)?(this.bit.style.opacity="0",delayed?setTimeout(function(){return _this.off()},200):this.off()):(this.bit.style.width="inherit",delayed?setTimeout(function(){return _this.off()},200):this.off()),this},ProgressBar.prototype.hide=function(){Object(dom.H)(this.element),this.showDelayedScheduler.cancel()},ProgressBar.prototype.style=function(styles){this.progressBarBackground=styles.progressBarBackground,this.applyStyles()},ProgressBar.prototype.applyStyles=function(){if(this.bit){var background=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=background}},ProgressBar}(lifecycle.a),quickOpenWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),quickOpenWidget_QuickOpenController=function(_super){quickOpenWidget_extends(QuickOpenController,_super);function QuickOpenController(){return _super!==null&&_super.apply(this,arguments)||this}return QuickOpenController.prototype.onContextMenu=function(tree,element,event){return platform.e?this.onLeftClick(tree,element,event):_super.prototype.onContextMenu.call(this,tree,element,event)},QuickOpenController}(treeDefaults_DefaultController),quickOpenWidget_defaultStyles={background:color.a.fromHex("#1E1E1E"),foreground:color.a.fromHex("#CCCCCC"),pickerGroupForeground:color.a.fromHex("#0097FB"),pickerGroupBorder:color.a.fromHex("#3F3F46"),widgetShadow:color.a.fromHex("#000000"),progressBarBackground:color.a.fromHex("#0E70C0")},DEFAULT_INPUT_ARIA_LABEL=nls.a("quickOpenAriaLabel","Quick picker. Type to narrow down results."),quickOpenWidget_QuickOpenWidget=function(_super){quickOpenWidget_extends(QuickOpenWidget,_super);function QuickOpenWidget(container,callbacks,options){var _this=_super.call(this)||this;return _this.isDisposed=!1,_this.container=container,_this.callbacks=callbacks,_this.options=options,_this.styles=options||Object.create(null),Object(objects.g)(_this.styles,quickOpenWidget_defaultStyles,!1),_this.model=null,_this}return QuickOpenWidget.prototype.getModel=function(){return this.model},QuickOpenWidget.prototype.create=function(){var _this=this;this.element=document.createElement("div"),dom.f(this.element,"monaco-quick-open-widget"),this.container.appendChild(this.element),this._register(dom.j(this.element,dom.d.CONTEXT_MENU,function(e){return dom.c.stop(e,!0)})),this._register(dom.j(this.element,dom.d.FOCUS,function(e){return _this.gainingFocus()},!0)),this._register(dom.j(this.element,dom.d.BLUR,function(e){return _this.loosingFocus(e)},!0)),this._register(dom.j(this.element,dom.d.KEY_DOWN,function(e){var keyboardEvent=new browser_keyboardEvent.a(e);if(keyboardEvent.keyCode===9)dom.c.stop(e,!0),_this.hide(2);else if(keyboardEvent.keyCode===2&&!keyboardEvent.altKey&&!keyboardEvent.ctrlKey&&!keyboardEvent.metaKey){var stops=e.currentTarget.querySelectorAll("input, .monaco-tree, .monaco-tree-row.focused .action-label.icon");keyboardEvent.shiftKey&&keyboardEvent.target===stops[0]?(dom.c.stop(e,!0),stops[stops.length-1].focus()):!keyboardEvent.shiftKey&&keyboardEvent.target===stops[stops.length-1]&&(dom.c.stop(e,!0),stops[0].focus())}})),this.progressBar=this._register(new progressbar_ProgressBar(this.element,{progressBarBackground:this.styles.progressBarBackground})),this.progressBar.hide(),this.inputContainer=document.createElement("div"),dom.f(this.inputContainer,"quick-open-input"),this.element.appendChild(this.inputContainer),this.inputBox=this._register(new inputBox.b(this.inputContainer,void 0,{placeholder:this.options.inputPlaceHolder||"",ariaLabel:DEFAULT_INPUT_ARIA_LABEL,inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder})),this.inputElement=this.inputBox.inputElement,this.inputElement.setAttribute("role","combobox"),this.inputElement.setAttribute("aria-haspopup","false"),this.inputElement.setAttribute("aria-autocomplete","list"),this._register(dom.j(this.inputBox.inputElement,dom.d.INPUT,function(e){return _this.onType()})),this._register(dom.j(this.inputBox.inputElement,dom.d.KEY_DOWN,function(e){var keyboardEvent=new browser_keyboardEvent.a(e),shouldOpenInBackground=_this.shouldOpenInBackground(keyboardEvent);if(keyboardEvent.keyCode!==2){if(keyboardEvent.keyCode===18||keyboardEvent.keyCode===16||keyboardEvent.keyCode===12||keyboardEvent.keyCode===11)dom.c.stop(e,!0),_this.navigateInTree(keyboardEvent.keyCode,keyboardEvent.shiftKey),_this.inputBox.inputElement.selectionStart===_this.inputBox.inputElement.selectionEnd&&(_this.inputBox.inputElement.selectionStart=_this.inputBox.value.length);else if(keyboardEvent.keyCode===3||shouldOpenInBackground){dom.c.stop(e,!0);var focus_1=_this.tree.getFocus();focus_1&&_this.elementSelected(focus_1,e,shouldOpenInBackground?2:1)}}})),this.resultCount=document.createElement("div"),dom.f(this.resultCount,"quick-open-result-count"),this.resultCount.setAttribute("aria-live","polite"),this.resultCount.setAttribute("aria-atomic","true"),this.element.appendChild(this.resultCount),this.treeContainer=document.createElement("div"),dom.f(this.treeContainer,"quick-open-tree"),this.element.appendChild(this.treeContainer);var createTree=this.options.treeCreator||function(container,config,opts){return new treeImpl_Tree(container,config,opts)};return this.tree=this._register(createTree(this.treeContainer,{dataSource:new quickOpenViewer_DataSource(this),controller:new quickOpenWidget_QuickOpenController({clickBehavior:1,keyboardSupport:this.options.keyboardSupport}),renderer:this.renderer=new Renderer(this,this.styles),filter:new Filter(this),accessibilityProvider:new AccessibilityProvider(this)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:3,horizontalScrollMode:2,ariaLabel:nls.a("treeAriaLabel","Quick Picker"),keyboardSupport:this.options.keyboardSupport,preventRootFocus:!1})),this.treeElement=this.tree.getHTMLElement(),this._register(this.tree.onDidChangeFocus(function(event){_this.elementFocused(event.focus,event)})),this._register(this.tree.onDidChangeSelection(function(event){if(event.selection&&event.selection.length>0){var mouseEvent=event.payload&&event.payload.originalEvent instanceof browser_mouseEvent.b?event.payload.originalEvent:void 0,shouldOpenInBackground=mouseEvent?_this.shouldOpenInBackground(mouseEvent):!1;_this.elementSelected(event.selection[0],event,shouldOpenInBackground?2:1)}})),this._register(dom.j(this.treeContainer,dom.d.KEY_DOWN,function(e){var keyboardEvent=new browser_keyboardEvent.a(e);if(_this.quickNavigateConfiguration){if(keyboardEvent.keyCode===18||keyboardEvent.keyCode===16||keyboardEvent.keyCode===12||keyboardEvent.keyCode===11)dom.c.stop(e,!0),_this.navigateInTree(keyboardEvent.keyCode);else if(keyboardEvent.keyCode===3){dom.c.stop(e,!0);var focus_2=_this.tree.getFocus();focus_2&&_this.elementSelected(focus_2,e)}}})),this._register(dom.j(this.treeContainer,dom.d.KEY_UP,function(e){var keyboardEvent=new browser_keyboardEvent.a(e),keyCode=keyboardEvent.keyCode;if(_this.quickNavigateConfiguration){var quickNavKeys=_this.quickNavigateConfiguration.keybindings,wasTriggerKeyPressed=quickNavKeys.some(function(k){var _a=k.getParts(),firstPart=_a[0],chordPart=_a[1];return chordPart?!1:firstPart.shiftKey&&keyCode===4?!(keyboardEvent.ctrlKey||keyboardEvent.altKey||keyboardEvent.metaKey):!!(firstPart.altKey&&keyCode===6||firstPart.ctrlKey&&keyCode===5||firstPart.metaKey&&keyCode===57)});if(wasTriggerKeyPressed){var focus_3=_this.tree.getFocus();focus_3&&_this.elementSelected(focus_3,e)}}})),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),this._register(dom.j(this.treeContainer,dom.d.KEY_DOWN,function(e){var keyboardEvent=new browser_keyboardEvent.a(e);_this.quickNavigateConfiguration||(keyboardEvent.keyCode===18||keyboardEvent.keyCode===16||keyboardEvent.keyCode===12||keyboardEvent.keyCode===11)&&(dom.c.stop(e,!0),_this.navigateInTree(keyboardEvent.keyCode,keyboardEvent.shiftKey),_this.treeElement.focus())})),this.element},QuickOpenWidget.prototype.style=function(styles){this.styles=styles,this.applyStyles()},QuickOpenWidget.prototype.applyStyles=function(){if(this.element){var foreground=this.styles.foreground?this.styles.foreground.toString():null,background=this.styles.background?this.styles.background.toString():"",borderColor=this.styles.borderColor?this.styles.borderColor.toString():"",widgetShadow=this.styles.widgetShadow?this.styles.widgetShadow.toString():"";this.element.style.color=foreground,this.element.style.backgroundColor=background,this.element.style.borderColor=borderColor,this.element.style.borderWidth=borderColor?"1px":"",this.element.style.borderStyle=borderColor?"solid":"",this.element.style.boxShadow=widgetShadow?"0 5px 8px "+widgetShadow:""}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&!this.options.treeCreator&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},QuickOpenWidget.prototype.shouldOpenInBackground=function(e){if(e instanceof browser_keyboardEvent.a){if(e.keyCode!==17||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return!1;var element=this.inputBox.inputElement;return element.selectionEnd===this.inputBox.value.length&&element.selectionStart===element.selectionEnd}return e.middleButton},QuickOpenWidget.prototype.onType=function(){var value=this.inputBox.value;this.helpText&&(value?dom.H(this.helpText):dom.U(this.helpText)),this.callbacks.onType(value)},QuickOpenWidget.prototype.navigateInTree=function(keyCode,isShift){var model=this.tree.getInput(),entries=model?model.entries:[],oldFocus=this.tree.getFocus();switch(keyCode){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:isShift?this.tree.focusPrevious():this.tree.focusNext();break}var newFocus=this.tree.getFocus();entries.length>1&&oldFocus===newFocus&&(keyCode===16||keyCode===2&&isShift?this.tree.focusLast():(keyCode===18||keyCode===2&&!isShift)&&this.tree.focusFirst()),newFocus=this.tree.getFocus(),newFocus&&this.tree.reveal(newFocus)},QuickOpenWidget.prototype.elementFocused=function(value,event){if(!(!value||!this.isVisible())){var arivaActiveDescendant=this.treeElement.getAttribute("aria-activedescendant");arivaActiveDescendant?this.inputElement.setAttribute("aria-activedescendant",arivaActiveDescendant):this.inputElement.removeAttribute("aria-activedescendant");var context={event,keymods:this.extractKeyMods(event),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(value,0,context)}},QuickOpenWidget.prototype.elementSelected=function(value,event,preferredMode){var hide=!0;if(this.isVisible()){var mode=preferredMode||1,context={event,keymods:this.extractKeyMods(event),quickNavigateConfiguration:this.quickNavigateConfiguration};hide=this.model.runner.run(value,mode,context)}hide&&this.hide(0)},QuickOpenWidget.prototype.extractKeyMods=function(event){return{ctrlCmd:event&&(event.ctrlKey||event.metaKey||event.payload&&event.payload.originalEvent&&(event.payload.originalEvent.ctrlKey||event.payload.originalEvent.metaKey)),alt:event&&(event.altKey||event.payload&&event.payload.originalEvent&&event.payload.originalEvent.altKey)}},QuickOpenWidget.prototype.show=function(param,options){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=options?options.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(dom.H(this.inputContainer),dom.U(this.element),this.tree.domFocus()):(dom.U(this.inputContainer),dom.U(this.element),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||types.j(param)?dom.H(this.helpText):dom.U(this.helpText)),types.j(param)?this.doShowWithPrefix(param):(options&&options.value&&this.restoreLastInput(options.value),this.doShowWithInput(param,options&&options.autoFocus?options.autoFocus:{})),options&&options.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(options.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},QuickOpenWidget.prototype.restoreLastInput=function(lastInput){this.inputBox.value=lastInput,this.inputBox.select(),this.callbacks.onType(lastInput)},QuickOpenWidget.prototype.doShowWithPrefix=function(prefix){this.inputBox.value=prefix,this.callbacks.onType(prefix)},QuickOpenWidget.prototype.doShowWithInput=function(input,autoFocus){this.setInput(input,autoFocus)},QuickOpenWidget.prototype.setInputAndLayout=function(input,autoFocus){var _this=this;this.treeContainer.style.height=this.getHeight(input)+"px",this.tree.setInput(null).then(function(){return _this.model=input,_this.inputElement.setAttribute("aria-haspopup",String(input&&input.entries&&input.entries.length>0)),_this.tree.setInput(input)}).then(function(){_this.tree.layout();var entries=input?input.entries.filter(function(e){return _this.isElementVisible(input,e)}):[];_this.updateResultCount(entries.length),entries.length&&_this.autoFocus(input,entries,autoFocus)})},QuickOpenWidget.prototype.isElementVisible=function(input,e){return input.filter?input.filter.isVisible(e):!0},QuickOpenWidget.prototype.autoFocus=function(input,entries,autoFocus){if(autoFocus===void 0&&(autoFocus={}),autoFocus.autoFocusPrefixMatch){for(var caseSensitiveMatch=void 0,caseInsensitiveMatch=void 0,prefix=autoFocus.autoFocusPrefixMatch,lowerCasePrefix=prefix.toLowerCase(),_i=0,entries_1=entries;_i<entries_1.length;_i++){var entry=entries_1[_i],label=input.dataSource.getLabel(entry)||"";if(!caseSensitiveMatch&&label.indexOf(prefix)===0?caseSensitiveMatch=entry:!caseInsensitiveMatch&&label.toLowerCase().indexOf(lowerCasePrefix)===0&&(caseInsensitiveMatch=entry),caseSensitiveMatch&&caseInsensitiveMatch)break}var entryToFocus=caseSensitiveMatch||caseInsensitiveMatch;if(entryToFocus){this.tree.setFocus(entryToFocus),this.tree.reveal(entryToFocus,.5);return}}autoFocus.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus())):typeof autoFocus.autoFocusIndex=="number"?entries.length>autoFocus.autoFocusIndex&&(this.tree.focusNth(autoFocus.autoFocusIndex),this.tree.reveal(this.tree.getFocus())):autoFocus.autoFocusSecondEntry?entries.length>1&&this.tree.focusNth(1):autoFocus.autoFocusLastEntry&&entries.length>1&&this.tree.focusLast()},QuickOpenWidget.prototype.getHeight=function(input){var _this=this,renderer=input.renderer;if(!input){var itemHeight=renderer.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*itemHeight:0}var height=0,preferredItemsHeight;this.layoutDimensions&&this.layoutDimensions.height&&(preferredItemsHeight=(this.layoutDimensions.height-50)*.4),(!preferredItemsHeight||preferredItemsHeight>QuickOpenWidget.MAX_ITEMS_HEIGHT)&&(preferredItemsHeight=QuickOpenWidget.MAX_ITEMS_HEIGHT);for(var entries=input.entries.filter(function(e){return _this.isElementVisible(input,e)}),maxEntries=this.options.maxItemsToShow||entries.length,i=0;i<maxEntries&&i<entries.length;i++){var entryHeight=renderer.getHeight(entries[i]);if(height+entryHeight<=preferredItemsHeight)height+=entryHeight;else break}return height},QuickOpenWidget.prototype.updateResultCount=function(count){this.resultCount.textContent=nls.a({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results",count)},QuickOpenWidget.prototype.hide=function(reason){this.isVisible()&&(this.visible=!1,dom.H(this.element),this.element.blur(),this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style.height=(this.options.minItemsToShow?this.options.minItemsToShow*22:0)+"px",this.progressBar.stop().hide(),this.tree.isDOMFocused()?this.tree.domBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),reason===0?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(reason))},QuickOpenWidget.prototype.setInput=function(input,autoFocus,ariaLabel){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(input,autoFocus),this.inputBox&&this.inputBox.setAriaLabel(ariaLabel||DEFAULT_INPUT_ARIA_LABEL))},QuickOpenWidget.prototype.onInputChanging=function(){var _this=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),dom.f(this.element,"content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){dom.M(_this.element,"content-changing")},500)},QuickOpenWidget.prototype.getInput=function(){return this.tree.getInput()},QuickOpenWidget.prototype.isVisible=function(){return this.visible},QuickOpenWidget.prototype.layout=function(dimension){this.layoutDimensions=dimension;var quickOpenWidth=Math.min(this.layoutDimensions.width*.62,QuickOpenWidget.MAX_WIDTH);this.element&&(this.element.style.width=quickOpenWidth+"px",this.element.style.marginLeft="-"+quickOpenWidth/2+"px",this.inputContainer.style.width=quickOpenWidth-12+"px")},QuickOpenWidget.prototype.gainingFocus=function(){this.isLoosingFocus=!1},QuickOpenWidget.prototype.loosingFocus=function(e){var _this=this;if(this.isVisible()){var relatedTarget=e.relatedTarget;!this.quickNavigateConfiguration&&dom.I(relatedTarget,this.element)||(this.isLoosingFocus=!0,setTimeout(function(){if(!(!_this.isLoosingFocus||_this.isDisposed)){var veto=_this.callbacks.onFocusLost&&_this.callbacks.onFocusLost();veto||_this.hide(1)}},0))}},QuickOpenWidget.prototype.dispose=function(){_super.prototype.dispose.call(this),this.isDisposed=!0},QuickOpenWidget.MAX_WIDTH=600,QuickOpenWidget.MAX_ITEMS_HEIGHT=20*22,QuickOpenWidget}(lifecycle.a),colorRegistry=__webpack_require__(2623),styler=__webpack_require__(3285),quickOpenEditorWidget_QuickOpenEditorWidget=function(){function QuickOpenEditorWidget(codeEditor,onOk,onCancel,onType,configuration,themeService){this.codeEditor=codeEditor,this.themeService=themeService,this.visible=!1,this.domNode=document.createElement("div"),this.quickOpenWidget=new quickOpenWidget_QuickOpenWidget(this.domNode,{onOk,onCancel,onType},{inputPlaceHolder:void 0,inputAriaLabel:configuration.inputAriaLabel,keyboardSupport:!0}),this.styler=Object(styler.d)(this.quickOpenWidget,this.themeService,{pickerGroupForeground:colorRegistry.W}),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)}return QuickOpenEditorWidget.prototype.setInput=function(model,focus){this.quickOpenWidget.setInput(model,focus)},QuickOpenEditorWidget.prototype.getId=function(){return QuickOpenEditorWidget.ID},QuickOpenEditorWidget.prototype.getDomNode=function(){return this.domNode},QuickOpenEditorWidget.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose(),this.styler.dispose()},QuickOpenEditorWidget.prototype.show=function(value){this.visible=!0;var editorLayout=this.codeEditor.getLayoutInfo();editorLayout&&this.quickOpenWidget.layout(new dom.b(editorLayout.width,editorLayout.height)),this.quickOpenWidget.show(value),this.codeEditor.layoutOverlayWidget(this)},QuickOpenEditorWidget.prototype.getPosition=function(){return this.visible?{preference:2}:null},QuickOpenEditorWidget.ID="editor.contrib.quickOpenEditorWidget",QuickOpenEditorWidget}(),common_themeService=__webpack_require__(2235),editorQuickOpen_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},editorQuickOpen_QuickOpenController=function(){function QuickOpenController(editor,themeService){this.themeService=themeService,this.widget=null,this.rangeHighlightDecorationId=null,this.lastKnownEditorSelection=null,this.editor=editor}return QuickOpenController.get=function(editor){return editor.getContribution(QuickOpenController.ID)},QuickOpenController.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},QuickOpenController.prototype.run=function(opts){var _this=this;this.widget&&(this.widget.destroy(),this.widget=null);var onClose=function(canceled){_this.clearDecorations(),canceled&&_this.lastKnownEditorSelection&&(_this.editor.setSelection(_this.lastKnownEditorSelection),_this.editor.revealRangeInCenterIfOutsideViewport(_this.lastKnownEditorSelection,0)),_this.lastKnownEditorSelection=null,(document.activeElement===document.body||!canceled)&&_this.editor.focus()};this.widget=new quickOpenEditorWidget_QuickOpenEditorWidget(this.editor,function(){return onClose(!1)},function(){return onClose(!0)},function(value){_this.widget.setInput(opts.getModel(value),opts.getAutoFocus(value))},{inputAriaLabel:opts.inputAriaLabel},this.themeService),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),this.widget.show("")},QuickOpenController.prototype.decorateLine=function(range,editor){var oldDecorations=[];this.rangeHighlightDecorationId&&(oldDecorations.push(this.rangeHighlightDecorationId),this.rangeHighlightDecorationId=null);var newDecorations=[{range,options:QuickOpenController._RANGE_HIGHLIGHT_DECORATION}],decorations=editor.deltaDecorations(oldDecorations,newDecorations);this.rangeHighlightDecorationId=decorations[0]},QuickOpenController.prototype.clearDecorations=function(){this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this.rangeHighlightDecorationId=null)},QuickOpenController.ID="editor.controller.quickOpenController",QuickOpenController._RANGE_HIGHLIGHT_DECORATION=textModel.a.register({className:"rangeHighlight",isWholeLine:!0}),QuickOpenController=__decorate([__param(1,common_themeService.c)],QuickOpenController),QuickOpenController}(),BaseEditorQuickOpenAction=function(_super){editorQuickOpen_extends(BaseEditorQuickOpenAction2,_super);function BaseEditorQuickOpenAction2(inputAriaLabel,opts){var _this=_super.call(this,opts)||this;return _this._inputAriaLabel=inputAriaLabel,_this}return BaseEditorQuickOpenAction2.prototype.getController=function(editor){return editorQuickOpen_QuickOpenController.get(editor)},BaseEditorQuickOpenAction2.prototype._show=function(controller,opts){controller.run({inputAriaLabel:this._inputAriaLabel,getModel:function(value){return opts.getModel(value)},getAutoFocus:function(searchValue){return opts.getAutoFocus(searchValue)}})},BaseEditorQuickOpenAction2}(editorExtensions.b);Object(editorExtensions.h)(editorQuickOpen_QuickOpenController.ID,editorQuickOpen_QuickOpenController)},3598:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IListService}),__webpack_require__.d(__webpack_exports__,"b",function(){return listService_ListService}),__webpack_require__.d(__webpack_exports__,"d",function(){return WorkbenchListFocusContextKey}),__webpack_require__.d(__webpack_exports__,"c",function(){return listService_WorkbenchAsyncDataTree});var dom=__webpack_require__(2124),listWidget=__webpack_require__(3601),lifecycle=__webpack_require__(2033),nls=__webpack_require__(2069),configuration=__webpack_require__(2786),configurationRegistry=__webpack_require__(3280),contextkey=__webpack_require__(2238),instantiation=__webpack_require__(2232),keybinding=__webpack_require__(2760),platform=__webpack_require__(2818),styler=__webpack_require__(3285),common_themeService=__webpack_require__(2235),InputFocusedContextKey="inputFocus",media_tree=__webpack_require__(5789),common_event=__webpack_require__(2106),keyboardEvent=__webpack_require__(3111),browser_dnd=__webpack_require__(3374),arrays=__webpack_require__(2389),listView=__webpack_require__(3602),browser_event=__webpack_require__(2849),filters=__webpack_require__(3168),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),TreeError=function(_super){__extends(TreeError2,_super);function TreeError2(user,message){return _super.call(this,"TreeError ["+user+"] "+message)||this}return TreeError2}(Error),WeakMapper=function(){function WeakMapper2(fn){this.fn=fn,this._map=new WeakMap}return WeakMapper2.prototype.map=function(key){var result=this._map.get(key);return result||(result=this.fn(key),this._map.set(key,result)),result},WeakMapper2}(),common_iterator=__webpack_require__(3110),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function isFilterResult(obj){return typeof obj=="object"&&"visibility"in obj&&"data"in obj}function getVisibleState(visibility){switch(visibility){case!0:return 1;case!1:return 0;default:return visibility}}function isCollapsibleStateUpdate(update){return typeof update.collapsible=="boolean"}var indexTreeModel_IndexTreeModel=function(){function IndexTreeModel(user,list,rootElement,options){options===void 0&&(options={}),this.user=user,this.list=list,this.rootRef=[],this.eventBufferer=new common_event.c,this._onDidChangeCollapseState=new common_event.a,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new common_event.a,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new common_event.a,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof options.collapseByDefault>"u"?!1:options.collapseByDefault,this.filter=options.filter,this.autoExpandSingleChildren=typeof options.autoExpandSingleChildren>"u"?!1:options.autoExpandSingleChildren,this.root={parent:void 0,element:rootElement,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visible:!0,filterData:void 0}}return IndexTreeModel.prototype.splice=function(location,deleteCount,toInsert,onDidCreateNode,onDidDeleteNode){var _a,_this=this;if(location.length===0)throw new TreeError(this.user,"Invalid tree location");for(var _b=this.getParentNodeWithListIndex(location),parentNode=_b.parentNode,listIndex=_b.listIndex,revealed=_b.revealed,visible=_b.visible,treeListElementsToInsert=[],nodesToInsertIterator=common_iterator.d.map(common_iterator.d.from(toInsert),function(el){return _this.createTreeNode(el,parentNode,parentNode.visible?1:0,revealed,treeListElementsToInsert,onDidCreateNode)}),lastIndex=location[location.length-1],visibleChildStartIndex=0,i=lastIndex;i>=0&&i<parentNode.children.length;i--){var child=parentNode.children[i];if(child.visible){visibleChildStartIndex=child.visibleChildIndex;break}}var nodesToInsert=[],insertedVisibleChildrenCount=0,renderNodeCount=0;common_iterator.d.forEach(nodesToInsertIterator,function(child2){nodesToInsert.push(child2),renderNodeCount+=child2.renderNodeCount,child2.visible&&(child2.visibleChildIndex=visibleChildStartIndex+insertedVisibleChildrenCount++)});for(var deletedNodes=(_a=parentNode.children).splice.apply(_a,__spreadArrays([lastIndex,deleteCount],nodesToInsert)),deletedVisibleChildrenCount=0,_i=0,deletedNodes_1=deletedNodes;_i<deletedNodes_1.length;_i++){var child=deletedNodes_1[_i];child.visible&&deletedVisibleChildrenCount++}if(deletedVisibleChildrenCount!==0)for(var i=lastIndex+nodesToInsert.length;i<parentNode.children.length;i++){var child=parentNode.children[i];child.visible&&(child.visibleChildIndex-=deletedVisibleChildrenCount)}if(parentNode.visibleChildrenCount+=insertedVisibleChildrenCount-deletedVisibleChildrenCount,revealed&&visible){var visibleDeleteCount=deletedNodes.reduce(function(r,node){return r+(node.visible?node.renderNodeCount:0)},0);this._updateAncestorsRenderNodeCount(parentNode,renderNodeCount-visibleDeleteCount),this.list.splice(listIndex,visibleDeleteCount,treeListElementsToInsert)}if(deletedNodes.length>0&&onDidDeleteNode){var visit_1=function(node){onDidDeleteNode(node),node.children.forEach(visit_1)};deletedNodes.forEach(visit_1)}this._onDidSplice.fire({insertedNodes:nodesToInsert,deletedNodes})},IndexTreeModel.prototype.rerender=function(location){if(location.length===0)throw new TreeError(this.user,"Invalid tree location");var _a=this.getTreeNodeWithListIndex(location),node=_a.node,listIndex=_a.listIndex,revealed=_a.revealed;revealed&&this.list.splice(listIndex,1,[node])},IndexTreeModel.prototype.getListIndex=function(location){var _a=this.getTreeNodeWithListIndex(location),listIndex=_a.listIndex,visible=_a.visible,revealed=_a.revealed;return visible&&revealed?listIndex:-1},IndexTreeModel.prototype.getListRenderCount=function(location){return this.getTreeNode(location).renderNodeCount},IndexTreeModel.prototype.setCollapsible=function(location,collapsible){var _this=this,node=this.getTreeNode(location);typeof collapsible>"u"&&(collapsible=!node.collapsible);var update={collapsible};return this.eventBufferer.bufferEvents(function(){return _this._setCollapseState(location,update)})},IndexTreeModel.prototype.isCollapsed=function(location){return this.getTreeNode(location).collapsed},IndexTreeModel.prototype.setCollapsed=function(location,collapsed,recursive){var _this=this,node=this.getTreeNode(location);typeof collapsed>"u"&&(collapsed=!node.collapsed);var update={collapsed,recursive:recursive||!1};return this.eventBufferer.bufferEvents(function(){return _this._setCollapseState(location,update)})},IndexTreeModel.prototype._setCollapseState=function(location,update){var _a=this.getTreeNodeWithListIndex(location),node=_a.node,listIndex=_a.listIndex,revealed=_a.revealed,result=this._setListNodeCollapseState(node,listIndex,revealed,update);if(node!==this.root&&this.autoExpandSingleChildren&&result&&!isCollapsibleStateUpdate(update)&&node.collapsible&&!node.collapsed&&!update.recursive){for(var onlyVisibleChildIndex=-1,i=0;i<node.children.length;i++){var child=node.children[i];if(child.visible)if(onlyVisibleChildIndex>-1){onlyVisibleChildIndex=-1;break}else onlyVisibleChildIndex=i}onlyVisibleChildIndex>-1&&this._setCollapseState(__spreadArrays(location,[onlyVisibleChildIndex]),update)}return result},IndexTreeModel.prototype._setListNodeCollapseState=function(node,listIndex,revealed,update){var result=this._setNodeCollapseState(node,update,!1);if(!revealed||!node.visible||!result)return result;var previousRenderNodeCount=node.renderNodeCount,toInsert=this.updateNodeAfterCollapseChange(node),deleteCount=previousRenderNodeCount-(listIndex===-1?0:1);return this.list.splice(listIndex+1,deleteCount,toInsert.slice(1)),result},IndexTreeModel.prototype._setNodeCollapseState=function(node,update,deep){var result;if(node===this.root?result=!1:(isCollapsibleStateUpdate(update)?(result=node.collapsible!==update.collapsible,node.collapsible=update.collapsible):(result=node.collapsed!==update.collapsed,node.collapsed=update.collapsed),result&&this._onDidChangeCollapseState.fire({node,deep})),!isCollapsibleStateUpdate(update)&&update.recursive)for(var _i=0,_a=node.children;_i<_a.length;_i++){var child=_a[_i];result=this._setNodeCollapseState(child,update,!0)||result}return result},IndexTreeModel.prototype.expandTo=function(location){var _this=this;this.eventBufferer.bufferEvents(function(){for(var node=_this.getTreeNode(location);node.parent;)node=node.parent,location=location.slice(0,location.length-1),node.collapsed&&_this._setCollapseState(location,{collapsed:!1,recursive:!1})})},IndexTreeModel.prototype.refilter=function(){var previousRenderNodeCount=this.root.renderNodeCount,toInsert=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,previousRenderNodeCount,toInsert)},IndexTreeModel.prototype.createTreeNode=function(treeElement,parent,parentVisibility,revealed,treeListElements,onDidCreateNode){var _this=this,node={parent,element:treeElement.element,children:[],depth:parent.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof treeElement.collapsible=="boolean"?treeElement.collapsible:typeof treeElement.collapsed<"u",collapsed:typeof treeElement.collapsed>"u"?this.collapseByDefault:treeElement.collapsed,renderNodeCount:1,visible:!0,filterData:void 0},visibility=this._filterNode(node,parentVisibility);revealed&&treeListElements.push(node);var childElements=common_iterator.d.from(treeElement.children),childRevealed=revealed&&visibility!==0&&!node.collapsed,childNodes=common_iterator.d.map(childElements,function(el){return _this.createTreeNode(el,node,visibility,childRevealed,treeListElements,onDidCreateNode)}),visibleChildrenCount=0,renderNodeCount=1;return common_iterator.d.forEach(childNodes,function(child){node.children.push(child),renderNodeCount+=child.renderNodeCount,child.visible&&(child.visibleChildIndex=visibleChildrenCount++)}),node.collapsible=node.collapsible||node.children.length>0,node.visibleChildrenCount=visibleChildrenCount,node.visible=visibility===2?visibleChildrenCount>0:visibility===1,node.visible?node.collapsed||(node.renderNodeCount=renderNodeCount):(node.renderNodeCount=0,revealed&&treeListElements.pop()),onDidCreateNode&&onDidCreateNode(node),node},IndexTreeModel.prototype.updateNodeAfterCollapseChange=function(node){var previousRenderNodeCount=node.renderNodeCount,result=[];return this._updateNodeAfterCollapseChange(node,result),this._updateAncestorsRenderNodeCount(node.parent,result.length-previousRenderNodeCount),result},IndexTreeModel.prototype._updateNodeAfterCollapseChange=function(node,result){if(node.visible===!1)return 0;if(result.push(node),node.renderNodeCount=1,!node.collapsed)for(var _i=0,_a=node.children;_i<_a.length;_i++){var child=_a[_i];node.renderNodeCount+=this._updateNodeAfterCollapseChange(child,result)}return this._onDidChangeRenderNodeCount.fire(node),node.renderNodeCount},IndexTreeModel.prototype.updateNodeAfterFilterChange=function(node){var previousRenderNodeCount=node.renderNodeCount,result=[];return this._updateNodeAfterFilterChange(node,node.visible?1:0,result),this._updateAncestorsRenderNodeCount(node.parent,result.length-previousRenderNodeCount),result},IndexTreeModel.prototype._updateNodeAfterFilterChange=function(node,parentVisibility,result,revealed){revealed===void 0&&(revealed=!0);var visibility;if(node!==this.root){if(visibility=this._filterNode(node,parentVisibility),visibility===0)return node.visible=!1,node.renderNodeCount=0,!1;revealed&&result.push(node)}var resultStartLength=result.length;node.renderNodeCount=node===this.root?0:1;var hasVisibleDescendants=!1;if(!node.collapsed||visibility!==0){for(var visibleChildIndex=0,_i=0,_a=node.children;_i<_a.length;_i++){var child=_a[_i];hasVisibleDescendants=this._updateNodeAfterFilterChange(child,visibility,result,revealed&&!node.collapsed)||hasVisibleDescendants,child.visible&&(child.visibleChildIndex=visibleChildIndex++)}node.visibleChildrenCount=visibleChildIndex}else node.visibleChildrenCount=0;return node!==this.root&&(node.visible=visibility===2?hasVisibleDescendants:visibility===1),node.visible?node.collapsed||(node.renderNodeCount+=result.length-resultStartLength):(node.renderNodeCount=0,revealed&&result.pop()),this._onDidChangeRenderNodeCount.fire(node),node.visible},IndexTreeModel.prototype._updateAncestorsRenderNodeCount=function(node,diff){if(diff!==0)for(;node;)node.renderNodeCount+=diff,this._onDidChangeRenderNodeCount.fire(node),node=node.parent},IndexTreeModel.prototype._filterNode=function(node,parentVisibility){var result=this.filter?this.filter.filter(node.element,parentVisibility):1;return typeof result=="boolean"?(node.filterData=void 0,result?1:0):isFilterResult(result)?(node.filterData=result.data,getVisibleState(result.visibility)):(node.filterData=void 0,getVisibleState(result))},IndexTreeModel.prototype.getTreeNode=function(location,node){if(node===void 0&&(node=this.root),!location||location.length===0)return node;var index=location[0],rest=location.slice(1);if(index<0||index>node.children.length)throw new TreeError(this.user,"Invalid tree location");return this.getTreeNode(rest,node.children[index])},IndexTreeModel.prototype.getTreeNodeWithListIndex=function(location){if(location.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var _a=this.getParentNodeWithListIndex(location),parentNode=_a.parentNode,listIndex=_a.listIndex,revealed=_a.revealed,visible=_a.visible,index=location[location.length-1];if(index<0||index>parentNode.children.length)throw new TreeError(this.user,"Invalid tree location");var node=parentNode.children[index];return{node,listIndex,revealed,visible:visible&&node.visible}},IndexTreeModel.prototype.getParentNodeWithListIndex=function(location,node,listIndex,revealed,visible){node===void 0&&(node=this.root),listIndex===void 0&&(listIndex=0),revealed===void 0&&(revealed=!0),visible===void 0&&(visible=!0);var index=location[0],rest=location.slice(1);if(index<0||index>node.children.length)throw new TreeError(this.user,"Invalid tree location");for(var i=0;i<index;i++)listIndex+=node.children[i].renderNodeCount;return revealed=revealed&&!node.collapsed,visible=visible&&node.visible,rest.length===0?{parentNode:node,listIndex,revealed,visible}:this.getParentNodeWithListIndex(rest,node.children[index],listIndex+1,revealed,visible)},IndexTreeModel.prototype.getNode=function(location){return location===void 0&&(location=[]),this.getTreeNode(location)},IndexTreeModel.prototype.getNodeLocation=function(node){for(var location=[],indexTreeNode=node;indexTreeNode.parent;)location.push(indexTreeNode.parent.children.indexOf(indexTreeNode)),indexTreeNode=indexTreeNode.parent;return location.reverse()},IndexTreeModel.prototype.getParentNodeLocation=function(location){if(location.length!==0)return location.length===1?[]:Object(arrays.w)(location)[0]},IndexTreeModel}(),common_async=__webpack_require__(2237),common_platform=__webpack_require__(2236),map=__webpack_require__(2803),numbers=__webpack_require__(3509),collections=__webpack_require__(3281),abstractTree_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},abstractTree_spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},TreeElementsDragAndDropData=function(_super){abstractTree_extends(TreeElementsDragAndDropData2,_super);function TreeElementsDragAndDropData2(data){var _this=_super.call(this,data.elements.map(function(node){return node.element}))||this;return _this.data=data,_this}return TreeElementsDragAndDropData2}(listView.a);function asTreeDragAndDropData(data){return data instanceof listView.a?new TreeElementsDragAndDropData(data):data}var abstractTree_TreeNodeListDragAndDrop=function(){function TreeNodeListDragAndDrop(modelProvider,dnd){this.modelProvider=modelProvider,this.dnd=dnd,this.autoExpandDisposable=lifecycle.a.None}return TreeNodeListDragAndDrop.prototype.getDragURI=function(node){return this.dnd.getDragURI(node.element)},TreeNodeListDragAndDrop.prototype.getDragLabel=function(nodes,originalEvent){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(nodes.map(function(node){return node.element}),originalEvent)},TreeNodeListDragAndDrop.prototype.onDragStart=function(data,originalEvent){this.dnd.onDragStart&&this.dnd.onDragStart(asTreeDragAndDropData(data),originalEvent)},TreeNodeListDragAndDrop.prototype.onDragOver=function(data,targetNode,targetIndex,originalEvent,raw){var _this=this;raw===void 0&&(raw=!0);var result=this.dnd.onDragOver(asTreeDragAndDropData(data),targetNode&&targetNode.element,targetIndex,originalEvent),didChangeAutoExpandNode=this.autoExpandNode!==targetNode;if(didChangeAutoExpandNode&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=targetNode),typeof targetNode>"u")return result;if(didChangeAutoExpandNode&&typeof result!="boolean"&&result.autoExpand&&(this.autoExpandDisposable=Object(common_async.g)(function(){var model2=_this.modelProvider(),ref2=model2.getNodeLocation(targetNode);model2.isCollapsed(ref2)&&model2.setCollapsed(ref2,!1),_this.autoExpandNode=void 0},500)),typeof result=="boolean"||!result.accept||typeof result.bubble>"u"||result.feedback){if(!raw){var accept=typeof result=="boolean"?result:result.accept,effect=typeof result=="boolean"?void 0:result.effect;return{accept,effect,feedback:[targetIndex]}}return result}if(result.bubble===1){var model_1=this.modelProvider(),ref_1=model_1.getNodeLocation(targetNode),parentRef=model_1.getParentNodeLocation(ref_1),parentNode=model_1.getNode(parentRef),parentIndex=parentRef&&model_1.getListIndex(parentRef);return this.onDragOver(data,parentNode,parentIndex,originalEvent,!1)}var model=this.modelProvider(),ref=model.getNodeLocation(targetNode),start=model.getListIndex(ref),length=model.getListRenderCount(ref);return __assign(__assign({},result),{feedback:Object(arrays.u)(start,start+length)})},TreeNodeListDragAndDrop.prototype.drop=function(data,targetNode,targetIndex,originalEvent){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(asTreeDragAndDropData(data),targetNode&&targetNode.element,targetIndex,originalEvent)},TreeNodeListDragAndDrop.prototype.onDragEnd=function(originalEvent){this.dnd.onDragEnd&&this.dnd.onDragEnd(originalEvent)},TreeNodeListDragAndDrop}();function asListOptions(modelProvider,options){return options&&__assign(__assign({},options),{identityProvider:options.identityProvider&&{getId:function(el){return options.identityProvider.getId(el.element)}},dnd:options.dnd&&new abstractTree_TreeNodeListDragAndDrop(modelProvider,options.dnd),multipleSelectionController:options.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return options.multipleSelectionController.isSelectionSingleChangeEvent(__assign(__assign({},e),{element:e.element}))},isSelectionRangeChangeEvent:function(e){return options.multipleSelectionController.isSelectionRangeChangeEvent(__assign(__assign({},e),{element:e.element}))}},accessibilityProvider:options.accessibilityProvider&&__assign(__assign({},options.accessibilityProvider),{getAriaLabel:function(e){return options.accessibilityProvider.getAriaLabel(e.element)},getAriaLevel:function(node){return node.depth},getActiveDescendantId:options.accessibilityProvider.getActiveDescendantId&&function(node){return options.accessibilityProvider.getActiveDescendantId(node.element)}}),keyboardNavigationLabelProvider:options.keyboardNavigationLabelProvider&&__assign(__assign({},options.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(node){return options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(node.element)}}),enableKeyboardNavigation:options.simpleKeyboardNavigation,ariaProvider:{getSetSize:function(node){var model=modelProvider(),ref=model.getNodeLocation(node),parentRef=model.getParentNodeLocation(ref),parentNode=model.getNode(parentRef);return parentNode.visibleChildrenCount},getPosInSet:function(node){return node.visibleChildIndex+1}}})}var ComposedTreeDelegate=function(){function ComposedTreeDelegate2(delegate){this.delegate=delegate}return ComposedTreeDelegate2.prototype.getHeight=function(element){return this.delegate.getHeight(element.element)},ComposedTreeDelegate2.prototype.getTemplateId=function(element){return this.delegate.getTemplateId(element.element)},ComposedTreeDelegate2.prototype.hasDynamicHeight=function(element){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(element.element)},ComposedTreeDelegate2.prototype.setDynamicHeight=function(element,height){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(element.element,height)},ComposedTreeDelegate2}(),RenderIndentGuides;(function(RenderIndentGuides2){RenderIndentGuides2.None="none",RenderIndentGuides2.OnHover="onHover",RenderIndentGuides2.Always="always"})(RenderIndentGuides||(RenderIndentGuides={}));var abstractTree_EventCollection=function(){function EventCollection(onDidChange,_elements){var _this=this;_elements===void 0&&(_elements=[]),this._elements=_elements,this.onDidChange=common_event.b.forEach(onDidChange,function(elements){return _this._elements=elements})}return Object.defineProperty(EventCollection.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),EventCollection}(),abstractTree_TreeRenderer=function(){function TreeRenderer(renderer,modelProvider,onDidChangeCollapseState,activeNodes,options){options===void 0&&(options={}),this.renderer=renderer,this.modelProvider=modelProvider,this.activeNodes=activeNodes,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=TreeRenderer.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new collections.a,this.activeIndentNodes=new Set,this.indentGuidesDisposable=lifecycle.a.None,this.disposables=new lifecycle.b,this.templateId=renderer.templateId,this.updateOptions(options),common_event.b.map(onDidChangeCollapseState,function(e){return e.node})(this.onDidChangeNodeTwistieState,this,this.disposables),renderer.onDidChangeTwistieState&&renderer.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}return TreeRenderer.prototype.updateOptions=function(options){if(options===void 0&&(options={}),typeof options.indent<"u"&&(this.indent=Object(numbers.a)(options.indent,0,40)),typeof options.renderIndentGuides<"u"){var shouldRenderIndentGuides=options.renderIndentGuides!==RenderIndentGuides.None;if(shouldRenderIndentGuides!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=shouldRenderIndentGuides,this.indentGuidesDisposable.dispose(),shouldRenderIndentGuides)){var disposables=new lifecycle.b;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,disposables),this.indentGuidesDisposable=disposables,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof options.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=options.hideTwistiesOfChildlessElements)},TreeRenderer.prototype.renderTemplate=function(container){var el=Object(dom.q)(container,Object(dom.a)(".monaco-tl-row")),indent=Object(dom.q)(el,Object(dom.a)(".monaco-tl-indent")),twistie=Object(dom.q)(el,Object(dom.a)(".monaco-tl-twistie")),contents=Object(dom.q)(el,Object(dom.a)(".monaco-tl-contents")),templateData=this.renderer.renderTemplate(contents);return{container,indent,twistie,indentGuidesDisposable:lifecycle.a.None,templateData}},TreeRenderer.prototype.renderElement=function(node,index,templateData,height){typeof height=="number"&&(this.renderedNodes.set(node,{templateData,height}),this.renderedElements.set(node.element,node));var indent=TreeRenderer.DefaultIndent+(node.depth-1)*this.indent;templateData.twistie.style.paddingLeft=indent+"px",templateData.indent.style.width=indent+this.indent-16+"px",this.renderTwistie(node,templateData),typeof height=="number"&&this.renderIndentGuides(node,templateData),this.renderer.renderElement(node,index,templateData.templateData,height)},TreeRenderer.prototype.disposeElement=function(node,index,templateData,height){templateData.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(node,index,templateData.templateData,height),typeof height=="number"&&(this.renderedNodes.delete(node),this.renderedElements.delete(node.element))},TreeRenderer.prototype.disposeTemplate=function(templateData){this.renderer.disposeTemplate(templateData.templateData)},TreeRenderer.prototype.onDidChangeTwistieState=function(element){var node=this.renderedElements.get(element);node&&this.onDidChangeNodeTwistieState(node)},TreeRenderer.prototype.onDidChangeNodeTwistieState=function(node){var data=this.renderedNodes.get(node);data&&(this.renderTwistie(node,data.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(node,data.templateData))},TreeRenderer.prototype.renderTwistie=function(node,templateData){this.renderer.renderTwistie&&this.renderer.renderTwistie(node.element,templateData.twistie),node.collapsible&&(!this.hideTwistiesOfChildlessElements||node.visibleChildrenCount>0)?(Object(dom.g)(templateData.twistie,"codicon","codicon-chevron-down","collapsible"),Object(dom.V)(templateData.twistie,"collapsed",node.collapsed)):Object(dom.N)(templateData.twistie,"codicon","codicon-chevron-down","collapsible","collapsed"),node.collapsible?templateData.container.setAttribute("aria-expanded",String(!node.collapsed)):templateData.container.removeAttribute("aria-expanded")},TreeRenderer.prototype.renderIndentGuides=function(target,templateData){var _this=this;if(Object(dom.t)(templateData.indent),templateData.indentGuidesDisposable.dispose(),!!this.shouldRenderIndentGuides){for(var disposableStore=new lifecycle.b,model=this.modelProvider(),node=target,_loop_1=function(){var ref=model.getNodeLocation(node),parentRef=model.getParentNodeLocation(ref);if(!parentRef)return"break";var parent_1=model.getNode(parentRef),guide=Object(dom.a)(".indent-guide",{style:"width: "+this_1.indent+"px"});this_1.activeIndentNodes.has(parent_1)&&Object(dom.f)(guide,"active"),templateData.indent.childElementCount===0?templateData.indent.appendChild(guide):templateData.indent.insertBefore(guide,templateData.indent.firstElementChild),this_1.renderedIndentGuides.add(parent_1,guide),disposableStore.add(Object(lifecycle.h)(function(){return _this.renderedIndentGuides.delete(parent_1,guide)})),node=parent_1},this_1=this;;){var state_1=_loop_1();if(state_1==="break")break}templateData.indentGuidesDisposable=disposableStore}},TreeRenderer.prototype._onDidChangeActiveNodes=function(nodes){var _this=this;if(this.shouldRenderIndentGuides){var set=new Set,model=this.modelProvider();nodes.forEach(function(node){var ref=model.getNodeLocation(node);try{var parentRef=model.getParentNodeLocation(ref);node.collapsible&&node.children.length>0&&!node.collapsed?set.add(node):parentRef&&set.add(model.getNode(parentRef))}catch{}}),this.activeIndentNodes.forEach(function(node){set.has(node)||_this.renderedIndentGuides.forEach(node,function(line){return Object(dom.M)(line,"active")})}),set.forEach(function(node){_this.activeIndentNodes.has(node)||_this.renderedIndentGuides.forEach(node,function(line){return Object(dom.f)(line,"active")})}),this.activeIndentNodes=set}},TreeRenderer.prototype.dispose=function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Object(lifecycle.f)(this.disposables)},TreeRenderer.DefaultIndent=8,TreeRenderer}(),abstractTree_TypeFilter=function(){function TypeFilter(tree,keyboardNavigationLabelProvider,_filter){this.tree=tree,this.keyboardNavigationLabelProvider=keyboardNavigationLabelProvider,this._filter=_filter,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new lifecycle.b,tree.onWillRefilter(this.reset,this,this.disposables)}return Object.defineProperty(TypeFilter.prototype,"totalCount",{get:function(){return this._totalCount},enumerable:!0,configurable:!0}),Object.defineProperty(TypeFilter.prototype,"matchCount",{get:function(){return this._matchCount},enumerable:!0,configurable:!0}),Object.defineProperty(TypeFilter.prototype,"pattern",{set:function(pattern){this._pattern=pattern,this._lowercasePattern=pattern.toLowerCase()},enumerable:!0,configurable:!0}),TypeFilter.prototype.filter=function(element,parentVisibility){if(this._filter){var result=this._filter.filter(element,parentVisibility);if(this.tree.options.simpleKeyboardNavigation)return result;var visibility=void 0;if(typeof result=="boolean"?visibility=result?1:0:isFilterResult(result)?visibility=getVisibleState(result.visibility):visibility=result,visibility===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:filters.a.Default,visibility:!0};var label=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(element),labelStr=label&&label.toString();if(typeof labelStr>"u")return{data:filters.a.Default,visibility:!0};var score=Object(filters.d)(this._pattern,this._lowercasePattern,0,labelStr,labelStr.toLowerCase(),0,!0);return score?(this._matchCount++,{data:score,visibility:!0}):this.tree.options.filterOnType?2:{data:filters.a.Default,visibility:!0}},TypeFilter.prototype.reset=function(){this._totalCount=0,this._matchCount=0},TypeFilter.prototype.dispose=function(){Object(lifecycle.f)(this.disposables)},TypeFilter}(),abstractTree_TypeFilterController=function(){function TypeFilterController(tree,model,view,filter,keyboardNavigationDelegate){this.tree=tree,this.view=view,this.filter=filter,this.keyboardNavigationDelegate=keyboardNavigationDelegate,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new common_event.a,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new common_event.a,this.enabledDisposables=new lifecycle.b,this.disposables=new lifecycle.b,this.domNode=Object(dom.a)(".monaco-list-type-filter."+this.positionClassName),this.domNode.draggable=!0,Object(browser_event.a)(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=Object(dom.q)(view.getHTMLElement(),Object(dom.a)(".monaco-list-type-filter-message")),this.labelDomNode=Object(dom.q)(this.domNode,Object(dom.a)("span.label"));var controls=Object(dom.q)(this.domNode,Object(dom.a)(".controls"));this._filterOnType=!!tree.options.filterOnType,this.filterOnTypeDomNode=Object(dom.q)(controls,Object(dom.a)("input.filter.codicon.codicon-list-selection")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitle(),Object(browser_event.a)(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=Object(dom.q)(controls,Object(dom.a)("button.clear.codicon.codicon-close")),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=Object(nls.a)("clear","Clear"),this.keyboardNavigationEventFilter=tree.options.keyboardNavigationEventFilter,model.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(tree.options)}return Object.defineProperty(TypeFilterController.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(TypeFilterController.prototype,"pattern",{get:function(){return this._pattern},enumerable:!0,configurable:!0}),Object.defineProperty(TypeFilterController.prototype,"filterOnType",{get:function(){return this._filterOnType},enumerable:!0,configurable:!0}),TypeFilterController.prototype.updateOptions=function(options){options.simpleKeyboardNavigation?this.disable():this.enable(),typeof options.filterOnType<"u"&&(this._filterOnType=!!options.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),typeof options.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=options.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")},TypeFilterController.prototype.enable=function(){var _this=this;if(!this._enabled){var onKeyDown=common_event.b.chain(Object(browser_event.a)(this.view.getHTMLElement(),"keydown")).filter(function(e){return!isInputElement(e.target)||e.target===_this.filterOnTypeDomNode}).filter(function(e){return e.key!=="Dead"&&!/^Media/.test(e.key)}).map(function(e){return new keyboardEvent.a(e)}).filter(this.keyboardNavigationEventFilter||function(){return!0}).filter(function(){return _this.automaticKeyboardNavigation||_this.triggered}).filter(function(e){return _this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)||(_this.pattern.length>0||_this.triggered)&&(e.keyCode===9||e.keyCode===1)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||e.keyCode===1&&(common_platform.e?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey}).forEach(function(e){e.stopPropagation(),e.preventDefault()}).event,onClear=Object(browser_event.a)(this.clearDomNode,"click");common_event.b.chain(common_event.b.any(onKeyDown,onClear)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}},TypeFilterController.prototype.disable=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)},TypeFilterController.prototype.onEventOrInput=function(e){typeof e=="string"?this.onInput(e):e instanceof MouseEvent||e.keyCode===9||e.keyCode===1&&(common_platform.e?e.altKey:e.ctrlKey)?this.onInput(""):e.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)},TypeFilterController.prototype.onInput=function(pattern){var container=this.view.getHTMLElement();pattern&&!this.domNode.parentElement?container.append(this.domNode):!pattern&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=pattern,this._onDidChangePattern.fire(pattern),this.filter.pattern=pattern,this.tree.refilter(),pattern&&this.tree.focusNext(0,!0,void 0,function(node){return!filters.a.isDefault(node.filterData)});var focus=this.tree.getFocus();if(focus.length>0){var element=focus[0];this.tree.getRelativeTop(element)===null&&this.tree.reveal(element,.5)}this.render(),pattern||(this.triggered=!1)},TypeFilterController.prototype.onDragStart=function(){var _this=this,container=this.view.getHTMLElement(),left=Object(dom.B)(container).left,containerWidth=container.clientWidth,midContainerWidth=containerWidth/2,width=this.domNode.clientWidth,disposables=new lifecycle.b,positionClassName=this.positionClassName,updatePosition=function(){switch(positionClassName){case"nw":_this.domNode.style.top="4px",_this.domNode.style.left="4px";break;case"ne":_this.domNode.style.top="4px",_this.domNode.style.left=containerWidth-width-6+"px";break}},onDragOver=function(event){event.preventDefault();var x=event.screenX-left;event.dataTransfer&&(event.dataTransfer.dropEffect="none"),x<midContainerWidth?positionClassName="nw":positionClassName="ne",updatePosition()},onDragEnd=function(){_this.positionClassName=positionClassName,_this.domNode.className="monaco-list-type-filter "+_this.positionClassName,_this.domNode.style.top="",_this.domNode.style.left="",Object(lifecycle.f)(disposables)};updatePosition(),Object(dom.M)(this.domNode,positionClassName),Object(dom.f)(this.domNode,"dragging"),disposables.add(Object(lifecycle.h)(function(){return Object(dom.M)(_this.domNode,"dragging")})),Object(browser_event.a)(document,"dragover")(onDragOver,null,disposables),Object(browser_event.a)(this.domNode,"dragend")(onDragEnd,null,disposables),browser_dnd.c.CurrentDragAndDropData=new browser_dnd.b("vscode-ui"),disposables.add(Object(lifecycle.h)(function(){return browser_dnd.c.CurrentDragAndDropData=void 0}))},TypeFilterController.prototype.onDidSpliceModel=function(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())},TypeFilterController.prototype.onDidChangeFilterOnType=function(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitle()},TypeFilterController.prototype.updateFilterOnTypeTitle=function(){this.filterOnType?this.filterOnTypeDomNode.title=Object(nls.a)("disable filter on type","Disable Filter on Type"):this.filterOnTypeDomNode.title=Object(nls.a)("enable filter on type","Enable Filter on Type")},TypeFilterController.prototype.render=function(){var noMatches=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&noMatches?(this.messageDomNode.textContent=Object(nls.a)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerHTML="",this._empty=!1),Object(dom.V)(this.domNode,"no-matches",noMatches),this.domNode.title=Object(nls.a)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)},TypeFilterController.prototype.shouldAllowFocus=function(node){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!filters.a.isDefault(node.filterData)},TypeFilterController.prototype.dispose=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),Object(lifecycle.f)(this.disposables)},TypeFilterController}();function isInputElement(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"}function asTreeEvent(event){return{elements:event.elements.map(function(node){return node.element}),browserEvent:event.browserEvent}}function dfs(node,fn){fn(node),node.children.forEach(function(child){return dfs(child,fn)})}var abstractTree_Trait=function(){function Trait(identityProvider){this.identityProvider=identityProvider,this.nodes=[],this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event}return Object.defineProperty(Trait.prototype,"nodeSet",{get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet},enumerable:!0,configurable:!0}),Trait.prototype.set=function(nodes,browserEvent){Object(arrays.g)(this.nodes,nodes)||this._set(nodes,!1,browserEvent)},Trait.prototype._set=function(nodes,silent,browserEvent){if(this.nodes=abstractTree_spreadArrays(nodes),this.elements=void 0,this._nodeSet=void 0,!silent){var that_1=this;this._onDidChange.fire({get elements(){return that_1.get()},browserEvent})}},Trait.prototype.get=function(){return this.elements||(this.elements=this.nodes.map(function(node){return node.element})),abstractTree_spreadArrays(this.elements)},Trait.prototype.getNodes=function(){return this.nodes},Trait.prototype.has=function(node){return this.nodeSet.has(node)},Trait.prototype.onDidModelSplice=function(_a){var _this=this,insertedNodes=_a.insertedNodes,deletedNodes=_a.deletedNodes;if(!this.identityProvider){var set_1=this.createNodeSet(),visit_1=function(node2){return set_1.delete(node2)};deletedNodes.forEach(function(node2){return dfs(node2,visit_1)}),this.set(Object(map.e)(set_1));return}var deletedNodesIdSet=new Set,deletedNodesVisitor=function(node2){return deletedNodesIdSet.add(_this.identityProvider.getId(node2.element).toString())};deletedNodes.forEach(function(node2){return dfs(node2,deletedNodesVisitor)});var insertedNodesMap=new Map,insertedNodesVisitor=function(node2){return insertedNodesMap.set(_this.identityProvider.getId(node2.element).toString(),node2)};insertedNodes.forEach(function(node2){return dfs(node2,insertedNodesVisitor)});for(var nodes=[],_i=0,_b=this.nodes;_i<_b.length;_i++){var node=_b[_i],id=this.identityProvider.getId(node.element).toString(),wasDeleted=deletedNodesIdSet.has(id);if(!wasDeleted)nodes.push(node);else{var insertedNode=insertedNodesMap.get(id);insertedNode&&nodes.push(insertedNode)}}this._set(nodes,!0)},Trait.prototype.createNodeSet=function(){for(var set=new Set,_i=0,_a=this.nodes;_i<_a.length;_i++){var node=_a[_i];set.add(node)}return set},Trait}(),abstractTree_TreeNodeListMouseController=function(_super){abstractTree_extends(TreeNodeListMouseController,_super);function TreeNodeListMouseController(list,tree){var _this=_super.call(this,list)||this;return _this.tree=tree,_this}return TreeNodeListMouseController.prototype.onPointer=function(e){if(!isInputElement(e.browserEvent.target)){var node=e.element;if(!node)return _super.prototype.onPointer.call(this,e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return _super.prototype.onPointer.call(this,e);var onTwistie=Object(dom.G)(e.browserEvent.target,"monaco-tl-twistie");if(!this.tree.openOnSingleClick&&e.browserEvent.detail!==2&&!onTwistie)return _super.prototype.onPointer.call(this,e);var expandOnlyOnTwistieClick=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?expandOnlyOnTwistieClick=this.tree.expandOnlyOnTwistieClick(node.element):expandOnlyOnTwistieClick=!!this.tree.expandOnlyOnTwistieClick,expandOnlyOnTwistieClick&&!onTwistie)return _super.prototype.onPointer.call(this,e);if(node.collapsible){var model=this.tree.model,location_1=model.getNodeLocation(node),recursive=e.browserEvent.altKey;if(model.setCollapsed(location_1,void 0,recursive),expandOnlyOnTwistieClick&&onTwistie)return}_super.prototype.onPointer.call(this,e)}},TreeNodeListMouseController.prototype.onDoubleClick=function(e){var onTwistie=Object(dom.G)(e.browserEvent.target,"monaco-tl-twistie");onTwistie||_super.prototype.onDoubleClick.call(this,e)},TreeNodeListMouseController}(listWidget.d),abstractTree_TreeNodeList=function(_super){abstractTree_extends(TreeNodeList,_super);function TreeNodeList(user,container,virtualDelegate,renderers,focusTrait,selectionTrait,options){var _this=_super.call(this,user,container,virtualDelegate,renderers,options)||this;return _this.focusTrait=focusTrait,_this.selectionTrait=selectionTrait,_this}return TreeNodeList.prototype.createMouseController=function(options){return new abstractTree_TreeNodeListMouseController(this,options.tree)},TreeNodeList.prototype.splice=function(start,deleteCount,elements){var _this=this;if(elements===void 0&&(elements=[]),_super.prototype.splice.call(this,start,deleteCount,elements),elements.length!==0){var additionalFocus=[],additionalSelection=[];elements.forEach(function(node,index){_this.focusTrait.has(node)&&additionalFocus.push(start+index),_this.selectionTrait.has(node)&&additionalSelection.push(start+index)}),additionalFocus.length>0&&_super.prototype.setFocus.call(this,Object(arrays.f)(abstractTree_spreadArrays(_super.prototype.getFocus.call(this),additionalFocus))),additionalSelection.length>0&&_super.prototype.setSelection.call(this,Object(arrays.f)(abstractTree_spreadArrays(_super.prototype.getSelection.call(this),additionalSelection)))}},TreeNodeList.prototype.setFocus=function(indexes,browserEvent,fromAPI){var _this=this;fromAPI===void 0&&(fromAPI=!1),_super.prototype.setFocus.call(this,indexes,browserEvent),fromAPI||this.focusTrait.set(indexes.map(function(i){return _this.element(i)}),browserEvent)},TreeNodeList.prototype.setSelection=function(indexes,browserEvent,fromAPI){var _this=this;fromAPI===void 0&&(fromAPI=!1),_super.prototype.setSelection.call(this,indexes,browserEvent),fromAPI||this.selectionTrait.set(indexes.map(function(i){return _this.element(i)}),browserEvent)},TreeNodeList}(listWidget.c),abstractTree_AbstractTree=function(){function AbstractTree(user,container,delegate,renderers,_options){var _this=this;_options===void 0&&(_options={}),this._options=_options,this.eventBufferer=new common_event.c,this.disposables=new lifecycle.b,this._onWillRefilter=new common_event.a,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new common_event.a;var treeDelegate=new ComposedTreeDelegate(delegate),onDidChangeCollapseStateRelay=new common_event.f,onDidChangeActiveNodes=new common_event.f,activeNodes=new abstractTree_EventCollection(onDidChangeActiveNodes.event);this.renderers=renderers.map(function(r2){return new abstractTree_TreeRenderer(r2,function(){return _this.model},onDidChangeCollapseStateRelay.event,activeNodes,_options)});for(var _i=0,_a=this.renderers;_i<_a.length;_i++){var r=_a[_i];this.disposables.add(r)}var filter;_options.keyboardNavigationLabelProvider&&(filter=new abstractTree_TypeFilter(this,_options.keyboardNavigationLabelProvider,_options.filter),_options=__assign(__assign({},_options),{filter}),this.disposables.add(filter)),this.focus=new abstractTree_Trait(_options.identityProvider),this.selection=new abstractTree_Trait(_options.identityProvider),this.view=new abstractTree_TreeNodeList(user,container,treeDelegate,this.renderers,this.focus,this.selection,__assign(__assign({},asListOptions(function(){return _this.model},_options)),{tree:this})),this.model=this.createModel(user,this.view,_options),onDidChangeCollapseStateRelay.input=this.model.onDidChangeCollapseState;var onDidModelSplice=common_event.b.forEach(this.model.onDidSplice,function(e){_this.eventBufferer.bufferEvents(function(){_this.focus.onDidModelSplice(e),_this.selection.onDidModelSplice(e)})});if(onDidModelSplice(function(){return null},null,this.disposables),onDidChangeActiveNodes.input=common_event.b.chain(common_event.b.any(onDidModelSplice,this.focus.onDidChange,this.selection.onDidChange)).debounce(function(){return null},0).map(function(){for(var set=new Set,_i2=0,_a2=_this.focus.getNodes();_i2<_a2.length;_i2++){var node=_a2[_i2];set.add(node)}for(var _b=0,_c=_this.selection.getNodes();_b<_c.length;_b++){var node=_c[_b];set.add(node)}return Object(arrays.n)(set)}).event,_options.keyboardSupport!==!1){var onKeyDown=common_event.b.chain(this.view.onKeyDown).filter(function(e){return!isInputElement(e.target)}).map(function(e){return new keyboardEvent.a(e)});onKeyDown.filter(function(e){return e.keyCode===15}).on(this.onLeftArrow,this,this.disposables),onKeyDown.filter(function(e){return e.keyCode===17}).on(this.onRightArrow,this,this.disposables),onKeyDown.filter(function(e){return e.keyCode===10}).on(this.onSpace,this,this.disposables)}if(_options.keyboardNavigationLabelProvider){var delegate_1=_options.keyboardNavigationDelegate||listWidget.a;this.typeFilterController=new abstractTree_TypeFilterController(this,this.model,this.view,filter,delegate_1),this.focusNavigationFilter=function(node){return _this.typeFilterController.shouldAllowFocus(node)},this.disposables.add(this.typeFilterController)}this.styleElement=Object(dom.w)(this.view.getHTMLElement()),Object(dom.V)(this.getHTMLElement(),"always",this._options.renderIndentGuides===RenderIndentGuides.Always)}return Object.defineProperty(AbstractTree.prototype,"onDidChangeFocus",{get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractTree.prototype,"onDidChangeSelection",{get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractTree.prototype,"onDidOpen",{get:function(){return common_event.b.map(this.view.onDidOpen,asTreeEvent)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractTree.prototype,"onDidFocus",{get:function(){return this.view.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractTree.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractTree.prototype,"openOnSingleClick",{get:function(){return typeof this._options.openOnSingleClick>"u"?!0:this._options.openOnSingleClick},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractTree.prototype,"expandOnlyOnTwistieClick",{get:function(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!1:this._options.expandOnlyOnTwistieClick},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractTree.prototype,"onDidDispose",{get:function(){return this.view.onDidDispose},enumerable:!0,configurable:!0}),AbstractTree.prototype.updateOptions=function(optionsUpdate){optionsUpdate===void 0&&(optionsUpdate={}),this._options=__assign(__assign({},this._options),optionsUpdate);for(var _i=0,_a=this.renderers;_i<_a.length;_i++){var renderer=_a[_i];renderer.updateOptions(optionsUpdate)}this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),Object(dom.V)(this.getHTMLElement(),"always",this._options.renderIndentGuides===RenderIndentGuides.Always)},Object.defineProperty(AbstractTree.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),AbstractTree.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},Object.defineProperty(AbstractTree.prototype,"scrollTop",{get:function(){return this.view.scrollTop},set:function(scrollTop){this.view.scrollTop=scrollTop},enumerable:!0,configurable:!0}),AbstractTree.prototype.domFocus=function(){this.view.domFocus()},AbstractTree.prototype.layout=function(height,width){this.view.layout(height,width)},AbstractTree.prototype.style=function(styles){var suffix="."+this.view.domId,content=[];styles.treeIndentGuidesStroke&&(content.push(".monaco-list"+suffix+":hover .monaco-tl-indent > .indent-guide, .monaco-list"+suffix+".always .monaco-tl-indent > .indent-guide  { border-color: "+styles.treeIndentGuidesStroke.transparent(.4)+"; }"),content.push(".monaco-list"+suffix+" .monaco-tl-indent > .indent-guide.active { border-color: "+styles.treeIndentGuidesStroke+"; }"));var newStyles=content.join(`
`);newStyles!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=newStyles),this.view.style(styles)},AbstractTree.prototype.collapse=function(location,recursive){return recursive===void 0&&(recursive=!1),this.model.setCollapsed(location,!0,recursive)},AbstractTree.prototype.expand=function(location,recursive){return recursive===void 0&&(recursive=!1),this.model.setCollapsed(location,!1,recursive)},AbstractTree.prototype.setCollapsible=function(location,collapsible){return this.model.setCollapsible(location,collapsible)},AbstractTree.prototype.isCollapsed=function(location){return this.model.isCollapsed(location)},AbstractTree.prototype.refilter=function(){this._onWillRefilter.fire(void 0),this.model.refilter()},AbstractTree.prototype.setSelection=function(elements,browserEvent){var _this=this,nodes=elements.map(function(e){return _this.model.getNode(e)});this.selection.set(nodes,browserEvent);var indexes=elements.map(function(e){return _this.model.getListIndex(e)}).filter(function(i){return i>-1});this.view.setSelection(indexes,browserEvent,!0)},AbstractTree.prototype.getSelection=function(){return this.selection.get()},AbstractTree.prototype.setFocus=function(elements,browserEvent){var _this=this,nodes=elements.map(function(e){return _this.model.getNode(e)});this.focus.set(nodes,browserEvent);var indexes=elements.map(function(e){return _this.model.getListIndex(e)}).filter(function(i){return i>-1});this.view.setFocus(indexes,browserEvent,!0)},AbstractTree.prototype.focusNext=function(n,loop,browserEvent,filter){n===void 0&&(n=1),loop===void 0&&(loop=!1),filter===void 0&&(filter=this.focusNavigationFilter),this.view.focusNext(n,loop,browserEvent,filter)},AbstractTree.prototype.getFocus=function(){return this.focus.get()},AbstractTree.prototype.reveal=function(location,relativeTop){this.model.expandTo(location);var index=this.model.getListIndex(location);index!==-1&&this.view.reveal(index,relativeTop)},AbstractTree.prototype.getRelativeTop=function(location){var index=this.model.getListIndex(location);return index===-1?null:this.view.getRelativeTop(index)},AbstractTree.prototype.onLeftArrow=function(e){e.preventDefault(),e.stopPropagation();var nodes=this.view.getFocusedElements();if(nodes.length!==0){var node=nodes[0],location=this.model.getNodeLocation(node),didChange=this.model.setCollapsed(location,!0);if(!didChange){var parentLocation=this.model.getParentNodeLocation(location);if(!parentLocation)return;var parentListIndex=this.model.getListIndex(parentLocation);this.view.reveal(parentListIndex),this.view.setFocus([parentListIndex])}}},AbstractTree.prototype.onRightArrow=function(e){e.preventDefault(),e.stopPropagation();var nodes=this.view.getFocusedElements();if(nodes.length!==0){var node=nodes[0],location=this.model.getNodeLocation(node),didChange=this.model.setCollapsed(location,!1);if(!didChange){if(!node.children.some(function(child){return child.visible}))return;var focusedIndex=this.view.getFocus()[0],firstChildIndex=focusedIndex+1;this.view.reveal(firstChildIndex),this.view.setFocus([firstChildIndex])}}},AbstractTree.prototype.onSpace=function(e){e.preventDefault(),e.stopPropagation();var nodes=this.view.getFocusedElements();if(nodes.length!==0){var node=nodes[0],location=this.model.getNodeLocation(node),recursive=e.browserEvent.altKey;this.model.setCollapsed(location,void 0,recursive)}},AbstractTree.prototype.dispose=function(){Object(lifecycle.f)(this.disposables),this.view.dispose()},AbstractTree}(),objectTreeModel_assign=function(){return objectTreeModel_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},objectTreeModel_assign.apply(this,arguments)},objectTreeModel_spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},objectTreeModel_ObjectTreeModel=function(){function ObjectTreeModel(user,list,options){options===void 0&&(options={}),this.user=user,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new indexTreeModel_IndexTreeModel(user,list,null,options),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,options.sorter&&(this.sorter={compare:function(a,b){return options.sorter.compare(a.element,b.element)}}),this.identityProvider=options.identityProvider}return ObjectTreeModel.prototype.setChildren=function(element,children,onDidCreateNode,onDidDeleteNode){var location=this.getElementLocation(element);this._setChildren(location,this.preserveCollapseState(children),onDidCreateNode,onDidDeleteNode)},ObjectTreeModel.prototype._setChildren=function(location,children,onDidCreateNode,onDidDeleteNode){var _this=this,insertedElements=new Set,insertedElementIds=new Set,_onDidCreateNode=function(node){if(insertedElements.add(node.element),_this.nodes.set(node.element,node),_this.identityProvider){var id=_this.identityProvider.getId(node.element).toString();insertedElementIds.add(id),_this.nodesByIdentity.set(id,node)}onDidCreateNode&&onDidCreateNode(node)},_onDidDeleteNode=function(node){if(insertedElements.has(node.element)||_this.nodes.delete(node.element),_this.identityProvider){var id=_this.identityProvider.getId(node.element).toString();insertedElementIds.has(id)||_this.nodesByIdentity.delete(id)}onDidDeleteNode&&onDidDeleteNode(node)};this.model.splice(objectTreeModel_spreadArrays(location,[0]),Number.MAX_VALUE,children,_onDidCreateNode,_onDidDeleteNode)},ObjectTreeModel.prototype.preserveCollapseState=function(elements){var _this=this,iterator=elements?Object(common_iterator.f)(elements):common_iterator.d.empty();return this.sorter&&(iterator=common_iterator.d.fromArray(Object(arrays.r)(common_iterator.d.collect(iterator),this.sorter.compare.bind(this.sorter)))),common_iterator.d.map(iterator,function(treeElement){var node=_this.nodes.get(treeElement.element);if(!node&&_this.identityProvider){var id=_this.identityProvider.getId(treeElement.element).toString();node=_this.nodesByIdentity.get(id)}if(!node)return objectTreeModel_assign(objectTreeModel_assign({},treeElement),{children:_this.preserveCollapseState(treeElement.children)});var collapsible=typeof treeElement.collapsible=="boolean"?treeElement.collapsible:node.collapsible,collapsed=typeof treeElement.collapsed<"u"?treeElement.collapsed:node.collapsed;return objectTreeModel_assign(objectTreeModel_assign({},treeElement),{collapsible,collapsed,children:_this.preserveCollapseState(treeElement.children)})})},ObjectTreeModel.prototype.rerender=function(element){var location=this.getElementLocation(element);this.model.rerender(location)},ObjectTreeModel.prototype.getListIndex=function(element){var location=this.getElementLocation(element);return this.model.getListIndex(location)},ObjectTreeModel.prototype.getListRenderCount=function(element){var location=this.getElementLocation(element);return this.model.getListRenderCount(location)},ObjectTreeModel.prototype.setCollapsible=function(element,collapsible){var location=this.getElementLocation(element);return this.model.setCollapsible(location,collapsible)},ObjectTreeModel.prototype.isCollapsed=function(element){var location=this.getElementLocation(element);return this.model.isCollapsed(location)},ObjectTreeModel.prototype.setCollapsed=function(element,collapsed,recursive){var location=this.getElementLocation(element);return this.model.setCollapsed(location,collapsed,recursive)},ObjectTreeModel.prototype.expandTo=function(element){var location=this.getElementLocation(element);this.model.expandTo(location)},ObjectTreeModel.prototype.refilter=function(){this.model.refilter()},ObjectTreeModel.prototype.getNode=function(element){if(element===void 0&&(element=null),element===null)return this.model.getNode(this.model.rootRef);var node=this.nodes.get(element);if(!node)throw new TreeError(this.user,"Tree element not found: "+element);return node},ObjectTreeModel.prototype.getNodeLocation=function(node){return node.element},ObjectTreeModel.prototype.getParentNodeLocation=function(element){if(element===null)throw new TreeError(this.user,"Invalid getParentNodeLocation call");var node=this.nodes.get(element);if(!node)throw new TreeError(this.user,"Tree element not found: "+element);var location=this.model.getNodeLocation(node),parentLocation=this.model.getParentNodeLocation(location),parent=this.model.getNode(parentLocation);return parent.element},ObjectTreeModel.prototype.getElementLocation=function(element){if(element===null)return[];var node=this.nodes.get(element);if(!node)throw new TreeError(this.user,"Tree element not found: "+element);return this.model.getNodeLocation(node)},ObjectTreeModel}(),compressedObjectTreeModel_assign=function(){return compressedObjectTreeModel_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},compressedObjectTreeModel_assign.apply(this,arguments)};function noCompress(element){var elements=[element.element],incompressible=element.incompressible||!1;return{element:{elements,incompressible},children:common_iterator.d.map(common_iterator.d.from(element.children),noCompress),collapsible:element.collapsible,collapsed:element.collapsed}}function compress(element){for(var elements=[element.element],incompressible=element.incompressible||!1,childrenIterator,children;childrenIterator=common_iterator.d.from(element.children),children=common_iterator.d.collect(childrenIterator,2),!(children.length!==1||(element=children[0],element.incompressible));)elements.push(element.element);return{element:{elements,incompressible},children:common_iterator.d.map(common_iterator.d.concat(common_iterator.d.fromArray(children),childrenIterator),compress),collapsible:element.collapsible,collapsed:element.collapsed}}function _decompress(element,index){index===void 0&&(index=0);var children;return index<element.element.elements.length-1?children=common_iterator.d.single(_decompress(element,index+1)):children=common_iterator.d.map(common_iterator.d.from(element.children),function(el){return _decompress(el,0)}),index===0&&element.element.incompressible?{element:element.element.elements[index],children,incompressible:!0,collapsible:element.collapsible,collapsed:element.collapsed}:{element:element.element.elements[index],children,collapsible:element.collapsible,collapsed:element.collapsed}}function decompress(element){return _decompress(element,0)}function splice(treeElement,element,children){return treeElement.element===element?compressedObjectTreeModel_assign(compressedObjectTreeModel_assign({},treeElement),{children}):compressedObjectTreeModel_assign(compressedObjectTreeModel_assign({},treeElement),{children:common_iterator.d.map(common_iterator.d.from(treeElement.children),function(e){return splice(e,element,children)})})}var compressedObjectTreeModel_CompressedObjectTreeModel=function(){function CompressedObjectTreeModel(user,list,options){options===void 0&&(options={}),this.user=user,this.nodes=new Map,this.model=new objectTreeModel_ObjectTreeModel(user,list,options),this.enabled=typeof options.compressionEnabled>"u"?!0:options.compressionEnabled}return Object.defineProperty(CompressedObjectTreeModel.prototype,"onDidSplice",{get:function(){return this.model.onDidSplice},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedObjectTreeModel.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),CompressedObjectTreeModel.prototype.setChildren=function(element,children){if(element===null){var compressedChildren=common_iterator.d.map(common_iterator.d.from(children),this.enabled?compress:noCompress);this._setChildren(null,compressedChildren);return}var compressedNode=this.nodes.get(element);if(!compressedNode)throw new Error("Unknown compressed tree node");var node=this.model.getNode(compressedNode),compressedParentNode=this.model.getParentNodeLocation(compressedNode),parent=this.model.getNode(compressedParentNode),decompressedElement=decompress(node),splicedElement=splice(decompressedElement,element,common_iterator.d.from(children)),recompressedElement=(this.enabled?compress:noCompress)(splicedElement),parentChildren=parent.children.map(function(child){return child===node?recompressedElement:child});this._setChildren(parent.element,parentChildren)},CompressedObjectTreeModel.prototype.setCompressionEnabled=function(enabled){if(enabled!==this.enabled){this.enabled=enabled;var root=this.model.getNode(),rootChildren=common_iterator.d.from(root.children),decompressedRootChildren=common_iterator.d.map(rootChildren,decompress),recompressedRootChildren=common_iterator.d.map(decompressedRootChildren,enabled?compress:noCompress);this._setChildren(null,recompressedRootChildren)}},CompressedObjectTreeModel.prototype._setChildren=function(node,children){var _this=this,insertedElements=new Set,_onDidCreateNode=function(node2){for(var _i=0,_a=node2.element.elements;_i<_a.length;_i++){var element=_a[_i];insertedElements.add(element),_this.nodes.set(element,node2.element)}},_onDidDeleteNode=function(node2){for(var _i=0,_a=node2.element.elements;_i<_a.length;_i++){var element=_a[_i];insertedElements.has(element)||_this.nodes.delete(element)}};this.model.setChildren(node,children,_onDidCreateNode,_onDidDeleteNode)},CompressedObjectTreeModel.prototype.getListIndex=function(location){var node=this.getCompressedNode(location);return this.model.getListIndex(node)},CompressedObjectTreeModel.prototype.getListRenderCount=function(location){var node=this.getCompressedNode(location);return this.model.getListRenderCount(node)},CompressedObjectTreeModel.prototype.getNode=function(location){if(typeof location>"u")return this.model.getNode();var node=this.getCompressedNode(location);return this.model.getNode(node)},CompressedObjectTreeModel.prototype.getNodeLocation=function(node){var compressedNode=this.model.getNodeLocation(node);return compressedNode===null?null:compressedNode.elements[compressedNode.elements.length-1]},CompressedObjectTreeModel.prototype.getParentNodeLocation=function(location){var compressedNode=this.getCompressedNode(location),parentNode=this.model.getParentNodeLocation(compressedNode);return parentNode===null?null:parentNode.elements[parentNode.elements.length-1]},CompressedObjectTreeModel.prototype.setCollapsible=function(location,collapsible){var compressedNode=this.getCompressedNode(location);return this.model.setCollapsible(compressedNode,collapsible)},CompressedObjectTreeModel.prototype.isCollapsed=function(location){var compressedNode=this.getCompressedNode(location);return this.model.isCollapsed(compressedNode)},CompressedObjectTreeModel.prototype.setCollapsed=function(location,collapsed,recursive){var compressedNode=this.getCompressedNode(location);return this.model.setCollapsed(compressedNode,collapsed,recursive)},CompressedObjectTreeModel.prototype.expandTo=function(location){var compressedNode=this.getCompressedNode(location);this.model.expandTo(compressedNode)},CompressedObjectTreeModel.prototype.rerender=function(location){var compressedNode=this.getCompressedNode(location);this.model.rerender(compressedNode)},CompressedObjectTreeModel.prototype.refilter=function(){this.model.refilter()},CompressedObjectTreeModel.prototype.getCompressedNode=function(element){if(element===null)return null;var node=this.nodes.get(element);if(!node)throw new TreeError(this.user,"Tree element not found: "+element);return node},CompressedObjectTreeModel}(),DefaultElementMapper=function(elements){return elements[elements.length-1]},CompressedTreeNodeWrapper=function(){function CompressedTreeNodeWrapper2(unwrapper,node){this.unwrapper=unwrapper,this.node=node}return Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"element",{get:function(){return this.node.element===null?null:this.unwrapper(this.node.element)},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"children",{get:function(){var _this=this;return this.node.children.map(function(node){return new CompressedTreeNodeWrapper2(_this.unwrapper,node)})},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(CompressedTreeNodeWrapper2.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),CompressedTreeNodeWrapper2}();function mapList(nodeMapper,list){return{splice:function(start,deleteCount,toInsert){list.splice(start,deleteCount,toInsert.map(function(node){return nodeMapper.map(node)}))}}}function mapOptions(compressedNodeUnwrapper,options){return compressedObjectTreeModel_assign(compressedObjectTreeModel_assign({},options),{sorter:options.sorter&&{compare:function(node,otherNode){return options.sorter.compare(node.elements[0],otherNode.elements[0])}},identityProvider:options.identityProvider&&{getId:function(node){return options.identityProvider.getId(compressedNodeUnwrapper(node))}},filter:options.filter&&{filter:function(node,parentVisibility){return options.filter.filter(compressedNodeUnwrapper(node),parentVisibility)}}})}var compressedObjectTreeModel_CompressibleObjectTreeModel=function(){function CompressibleObjectTreeModel(user,list,options){var _this=this;options===void 0&&(options={}),this.elementMapper=options.elementMapper||DefaultElementMapper;var compressedNodeUnwrapper=function(node){return _this.elementMapper(node.elements)};this.nodeMapper=new WeakMapper(function(node){return new CompressedTreeNodeWrapper(compressedNodeUnwrapper,node)}),this.model=new compressedObjectTreeModel_CompressedObjectTreeModel(user,mapList(this.nodeMapper,list),mapOptions(compressedNodeUnwrapper,options))}return Object.defineProperty(CompressibleObjectTreeModel.prototype,"onDidSplice",{get:function(){var _this=this;return common_event.b.map(this.model.onDidSplice,function(_a){var insertedNodes=_a.insertedNodes,deletedNodes=_a.deletedNodes;return{insertedNodes:insertedNodes.map(function(node){return _this.nodeMapper.map(node)}),deletedNodes:deletedNodes.map(function(node){return _this.nodeMapper.map(node)})}})},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleObjectTreeModel.prototype,"onDidChangeCollapseState",{get:function(){var _this=this;return common_event.b.map(this.model.onDidChangeCollapseState,function(_a){var node=_a.node,deep=_a.deep;return{node:_this.nodeMapper.map(node),deep}})},enumerable:!0,configurable:!0}),CompressibleObjectTreeModel.prototype.setChildren=function(element,children){this.model.setChildren(element,children)},CompressibleObjectTreeModel.prototype.setCompressionEnabled=function(enabled){this.model.setCompressionEnabled(enabled)},CompressibleObjectTreeModel.prototype.getListIndex=function(location){return this.model.getListIndex(location)},CompressibleObjectTreeModel.prototype.getListRenderCount=function(location){return this.model.getListRenderCount(location)},CompressibleObjectTreeModel.prototype.getNode=function(location){return this.nodeMapper.map(this.model.getNode(location))},CompressibleObjectTreeModel.prototype.getNodeLocation=function(node){return node.element},CompressibleObjectTreeModel.prototype.getParentNodeLocation=function(location){return this.model.getParentNodeLocation(location)},CompressibleObjectTreeModel.prototype.setCollapsible=function(location,collapsed){return this.model.setCollapsible(location,collapsed)},CompressibleObjectTreeModel.prototype.isCollapsed=function(location){return this.model.isCollapsed(location)},CompressibleObjectTreeModel.prototype.setCollapsed=function(location,collapsed,recursive){return this.model.setCollapsed(location,collapsed,recursive)},CompressibleObjectTreeModel.prototype.expandTo=function(location){return this.model.expandTo(location)},CompressibleObjectTreeModel.prototype.rerender=function(location){return this.model.rerender(location)},CompressibleObjectTreeModel.prototype.refilter=function(){return this.model.refilter()},CompressibleObjectTreeModel.prototype.getCompressedTreeNode=function(location){return location===void 0&&(location=null),this.model.getNode(location)},CompressibleObjectTreeModel}(),decorators=__webpack_require__(3364),objectTree_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),objectTree_assign=function(){return objectTree_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},objectTree_assign.apply(this,arguments)},__decorate=function(decorators2,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators2,target,key,desc);else for(var i=decorators2.length-1;i>=0;i--)(d=decorators2[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},objectTree_ObjectTree=function(_super){objectTree_extends(ObjectTree,_super);function ObjectTree(user,container,delegate,renderers,options){return options===void 0&&(options={}),_super.call(this,user,container,delegate,renderers,options)||this}return Object.defineProperty(ObjectTree.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),ObjectTree.prototype.setChildren=function(element,children){this.model.setChildren(element,children)},ObjectTree.prototype.rerender=function(element){if(element===void 0){this.view.rerender();return}this.model.rerender(element)},ObjectTree.prototype.createModel=function(user,view,options){return new objectTreeModel_ObjectTreeModel(user,view,options)},ObjectTree}(abstractTree_AbstractTree),objectTree_CompressibleRenderer=function(){function CompressibleRenderer(_compressedTreeNodeProvider,renderer){this._compressedTreeNodeProvider=_compressedTreeNodeProvider,this.renderer=renderer,this.templateId=renderer.templateId,renderer.onDidChangeTwistieState&&(this.onDidChangeTwistieState=renderer.onDidChangeTwistieState)}return Object.defineProperty(CompressibleRenderer.prototype,"compressedTreeNodeProvider",{get:function(){return this._compressedTreeNodeProvider()},enumerable:!0,configurable:!0}),CompressibleRenderer.prototype.renderTemplate=function(container){var data=this.renderer.renderTemplate(container);return{compressedTreeNode:void 0,data}},CompressibleRenderer.prototype.renderElement=function(node,index,templateData,height){var compressedTreeNode=this.compressedTreeNodeProvider.getCompressedTreeNode(node.element);compressedTreeNode.element.elements.length===1?(templateData.compressedTreeNode=void 0,this.renderer.renderElement(node,index,templateData.data,height)):(templateData.compressedTreeNode=compressedTreeNode,this.renderer.renderCompressedElements(compressedTreeNode,index,templateData.data,height))},CompressibleRenderer.prototype.disposeElement=function(node,index,templateData,height){templateData.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(templateData.compressedTreeNode,index,templateData.data,height):this.renderer.disposeElement&&this.renderer.disposeElement(node,index,templateData.data,height)},CompressibleRenderer.prototype.disposeTemplate=function(templateData){this.renderer.disposeTemplate(templateData.data)},CompressibleRenderer.prototype.renderTwistie=function(element,twistieElement){this.renderer.renderTwistie&&this.renderer.renderTwistie(element,twistieElement)},__decorate([decorators.a],CompressibleRenderer.prototype,"compressedTreeNodeProvider",null),CompressibleRenderer}();function asObjectTreeOptions(compressedTreeNodeProvider,options){return options&&objectTree_assign(objectTree_assign({},options),{keyboardNavigationLabelProvider:options.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(e){var compressedTreeNode;try{compressedTreeNode=compressedTreeNodeProvider().getCompressedTreeNode(e)}catch{return options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e)}return compressedTreeNode.element.elements.length===1?options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e):options.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(compressedTreeNode.element.elements)}}})}var objectTree_CompressibleObjectTree=function(_super){objectTree_extends(CompressibleObjectTree,_super);function CompressibleObjectTree(user,container,delegate,renderers,options){options===void 0&&(options={});var _this=this,compressedTreeNodeProvider=function(){return _this},compressibleRenderers=renderers.map(function(r){return new objectTree_CompressibleRenderer(compressedTreeNodeProvider,r)});return _this=_super.call(this,user,container,delegate,compressibleRenderers,asObjectTreeOptions(compressedTreeNodeProvider,options))||this,_this}return CompressibleObjectTree.prototype.setChildren=function(element,children){this.model.setChildren(element,children)},CompressibleObjectTree.prototype.createModel=function(user,view,options){return new compressedObjectTreeModel_CompressibleObjectTreeModel(user,view,options)},CompressibleObjectTree.prototype.updateOptions=function(optionsUpdate){optionsUpdate===void 0&&(optionsUpdate={}),_super.prototype.updateOptions.call(this,optionsUpdate),typeof optionsUpdate.compressionEnabled<"u"&&this.model.setCompressionEnabled(optionsUpdate.compressionEnabled)},CompressibleObjectTree.prototype.getCompressedTreeNode=function(element){return element===void 0&&(element=null),this.model.getCompressedTreeNode(element)},CompressibleObjectTree}(objectTree_ObjectTree),errors=__webpack_require__(2176),asyncDataTree_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),asyncDataTree_assign=function(){return asyncDataTree_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},asyncDataTree_assign.apply(this,arguments)},__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},asyncDataTree_spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function createAsyncDataTreeNode(props){return asyncDataTree_assign(asyncDataTree_assign({},props),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function isAncestor(ancestor,descendant){return descendant.parent?descendant.parent===ancestor?!0:isAncestor(ancestor,descendant.parent):!1}function intersects(node,other){return node===other||isAncestor(node,other)||isAncestor(other,node)}var AsyncDataTreeNodeWrapper=function(){function AsyncDataTreeNodeWrapper2(node){this.node=node}return Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"element",{get:function(){return this.node.element.element},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"children",{get:function(){return this.node.children.map(function(node){return new AsyncDataTreeNodeWrapper2(node)})},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTreeNodeWrapper2.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),AsyncDataTreeNodeWrapper2}(),asyncDataTree_AsyncDataTreeRenderer=function(){function AsyncDataTreeRenderer(renderer,nodeMapper,onDidChangeTwistieState){this.renderer=renderer,this.nodeMapper=nodeMapper,this.onDidChangeTwistieState=onDidChangeTwistieState,this.renderedNodes=new Map,this.templateId=renderer.templateId}return AsyncDataTreeRenderer.prototype.renderTemplate=function(container){var templateData=this.renderer.renderTemplate(container);return{templateData}},AsyncDataTreeRenderer.prototype.renderElement=function(node,index,templateData,height){this.renderer.renderElement(this.nodeMapper.map(node),index,templateData.templateData,height)},AsyncDataTreeRenderer.prototype.renderTwistie=function(element,twistieElement){return Object(dom.V)(twistieElement,"codicon-loading",element.slow),!1},AsyncDataTreeRenderer.prototype.disposeElement=function(node,index,templateData,height){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(node),index,templateData.templateData,height)},AsyncDataTreeRenderer.prototype.disposeTemplate=function(templateData){this.renderer.disposeTemplate(templateData.templateData)},AsyncDataTreeRenderer.prototype.dispose=function(){this.renderedNodes.clear()},AsyncDataTreeRenderer}();function asyncDataTree_asTreeEvent(e){return{browserEvent:e.browserEvent,elements:e.elements.map(function(e2){return e2.element})}}var AsyncDataTreeElementsDragAndDropData=function(_super){asyncDataTree_extends(AsyncDataTreeElementsDragAndDropData2,_super);function AsyncDataTreeElementsDragAndDropData2(data){var _this=_super.call(this,data.elements.map(function(node){return node.element}))||this;return _this.data=data,_this}return AsyncDataTreeElementsDragAndDropData2}(listView.a);function asAsyncDataTreeDragAndDropData(data){return data instanceof listView.a?new AsyncDataTreeElementsDragAndDropData(data):data}var AsyncDataTreeNodeListDragAndDrop=function(){function AsyncDataTreeNodeListDragAndDrop2(dnd){this.dnd=dnd}return AsyncDataTreeNodeListDragAndDrop2.prototype.getDragURI=function(node){return this.dnd.getDragURI(node.element)},AsyncDataTreeNodeListDragAndDrop2.prototype.getDragLabel=function(nodes,originalEvent){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(nodes.map(function(node){return node.element}),originalEvent)},AsyncDataTreeNodeListDragAndDrop2.prototype.onDragStart=function(data,originalEvent){this.dnd.onDragStart&&this.dnd.onDragStart(asAsyncDataTreeDragAndDropData(data),originalEvent)},AsyncDataTreeNodeListDragAndDrop2.prototype.onDragOver=function(data,targetNode,targetIndex,originalEvent,raw){return raw===void 0&&(raw=!0),this.dnd.onDragOver(asAsyncDataTreeDragAndDropData(data),targetNode&&targetNode.element,targetIndex,originalEvent)},AsyncDataTreeNodeListDragAndDrop2.prototype.drop=function(data,targetNode,targetIndex,originalEvent){this.dnd.drop(asAsyncDataTreeDragAndDropData(data),targetNode&&targetNode.element,targetIndex,originalEvent)},AsyncDataTreeNodeListDragAndDrop2.prototype.onDragEnd=function(originalEvent){this.dnd.onDragEnd&&this.dnd.onDragEnd(originalEvent)},AsyncDataTreeNodeListDragAndDrop2}();function asyncDataTree_asObjectTreeOptions(options){return options&&asyncDataTree_assign(asyncDataTree_assign({},options),{collapseByDefault:!0,identityProvider:options.identityProvider&&{getId:function(el){return options.identityProvider.getId(el.element)}},dnd:options.dnd&&new AsyncDataTreeNodeListDragAndDrop(options.dnd),multipleSelectionController:options.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return options.multipleSelectionController.isSelectionSingleChangeEvent(asyncDataTree_assign(asyncDataTree_assign({},e),{element:e.element}))},isSelectionRangeChangeEvent:function(e){return options.multipleSelectionController.isSelectionRangeChangeEvent(asyncDataTree_assign(asyncDataTree_assign({},e),{element:e.element}))}},accessibilityProvider:options.accessibilityProvider&&asyncDataTree_assign(asyncDataTree_assign({},options.accessibilityProvider),{getAriaLabel:function(e){return options.accessibilityProvider.getAriaLabel(e.element)},getAriaLevel:options.accessibilityProvider.getAriaLevel&&function(node){return options.accessibilityProvider.getAriaLevel(node.element)},getActiveDescendantId:options.accessibilityProvider.getActiveDescendantId&&function(node){return options.accessibilityProvider.getActiveDescendantId(node.element)}}),filter:options.filter&&{filter:function(e,parentVisibility){return options.filter.filter(e.element,parentVisibility)}},keyboardNavigationLabelProvider:options.keyboardNavigationLabelProvider&&asyncDataTree_assign(asyncDataTree_assign({},options.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(e){return options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof options.expandOnlyOnTwistieClick>"u"?void 0:typeof options.expandOnlyOnTwistieClick!="function"?options.expandOnlyOnTwistieClick:function(e){return options.expandOnlyOnTwistieClick(e.element)},ariaProvider:void 0,additionalScrollHeight:options.additionalScrollHeight})}function asyncDataTree_dfs(node,fn){fn(node),node.children.forEach(function(child){return asyncDataTree_dfs(child,fn)})}var asyncDataTree_AsyncDataTree=function(){function AsyncDataTree(user,container,delegate,renderers,dataSource,options){options===void 0&&(options={}),this.user=user,this.dataSource=dataSource,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new common_event.a,this._onDidChangeNodeSlowState=new common_event.a,this.nodeMapper=new WeakMapper(function(node){return new AsyncDataTreeNodeWrapper(node)}),this.disposables=new lifecycle.b,this.identityProvider=options.identityProvider,this.autoExpandSingleChildren=typeof options.autoExpandSingleChildren>"u"?!1:options.autoExpandSingleChildren,this.sorter=options.sorter,this.collapseByDefault=options.collapseByDefault,this.tree=this.createTree(user,container,delegate,renderers,options),this.root=createAsyncDataTreeNode({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=asyncDataTree_assign(asyncDataTree_assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object.defineProperty(AsyncDataTree.prototype,"onDidChangeFocus",{get:function(){return common_event.b.map(this.tree.onDidChangeFocus,asyncDataTree_asTreeEvent)},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTree.prototype,"onDidChangeSelection",{get:function(){return common_event.b.map(this.tree.onDidChangeSelection,asyncDataTree_asTreeEvent)},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTree.prototype,"onDidOpen",{get:function(){return common_event.b.map(this.tree.onDidOpen,asyncDataTree_asTreeEvent)},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTree.prototype,"onDidFocus",{get:function(){return this.tree.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(AsyncDataTree.prototype,"onDidDispose",{get:function(){return this.tree.onDidDispose},enumerable:!0,configurable:!0}),AsyncDataTree.prototype.createTree=function(user,container,delegate,renderers,options){var _this=this,objectTreeDelegate=new ComposedTreeDelegate(delegate),objectTreeRenderers=renderers.map(function(r){return new asyncDataTree_AsyncDataTreeRenderer(r,_this.nodeMapper,_this._onDidChangeNodeSlowState.event)}),objectTreeOptions=asyncDataTree_asObjectTreeOptions(options)||{};return new objectTree_ObjectTree(user,container,objectTreeDelegate,objectTreeRenderers,objectTreeOptions)},AsyncDataTree.prototype.updateOptions=function(options){options===void 0&&(options={}),this.tree.updateOptions(options)},AsyncDataTree.prototype.getHTMLElement=function(){return this.tree.getHTMLElement()},Object.defineProperty(AsyncDataTree.prototype,"scrollTop",{get:function(){return this.tree.scrollTop},set:function(scrollTop){this.tree.scrollTop=scrollTop},enumerable:!0,configurable:!0}),AsyncDataTree.prototype.domFocus=function(){this.tree.domFocus()},AsyncDataTree.prototype.layout=function(height,width){this.tree.layout(height,width)},AsyncDataTree.prototype.style=function(styles){this.tree.style(styles)},AsyncDataTree.prototype.getInput=function(){return this.root.element},AsyncDataTree.prototype.setInput=function(input,viewState){return __awaiter(this,void 0,void 0,function(){var viewStateContext;return __generator(this,function(_a){switch(_a.label){case 0:return this.refreshPromises.forEach(function(promise){return promise.cancel()}),this.refreshPromises.clear(),this.root.element=input,viewStateContext=viewState&&{viewState,focus:[],selection:[]},[4,this._updateChildren(input,!0,!1,viewStateContext)];case 1:return _a.sent(),viewStateContext&&(this.tree.setFocus(viewStateContext.focus),this.tree.setSelection(viewStateContext.selection)),viewState&&typeof viewState.scrollTop=="number"&&(this.scrollTop=viewState.scrollTop),[2]}})})},AsyncDataTree.prototype._updateChildren=function(element,recursive,rerender,viewStateContext){return element===void 0&&(element=this.root.element),recursive===void 0&&(recursive=!0),rerender===void 0&&(rerender=!1),__awaiter(this,void 0,void 0,function(){var node;return __generator(this,function(_a){switch(_a.label){case 0:if(typeof this.root.element>"u")throw new TreeError(this.user,"Tree input not set");return this.root.refreshPromise?[4,this.root.refreshPromise]:[3,3];case 1:return _a.sent(),[4,common_event.b.toPromise(this._onDidRender.event)];case 2:_a.sent(),_a.label=3;case 3:return node=this.getDataNode(element),[4,this.refreshAndRenderNode(node,recursive,viewStateContext)];case 4:if(_a.sent(),rerender)try{this.tree.rerender(node)}catch{}return[2]}})})},AsyncDataTree.prototype.rerender=function(element){if(element===void 0||element===this.root.element){this.tree.rerender();return}var node=this.getDataNode(element);this.tree.rerender(node)},AsyncDataTree.prototype.collapse=function(element,recursive){recursive===void 0&&(recursive=!1);var node=this.getDataNode(element);return this.tree.collapse(node===this.root?null:node,recursive)},AsyncDataTree.prototype.expand=function(element,recursive){return recursive===void 0&&(recursive=!1),__awaiter(this,void 0,void 0,function(){var node,result;return __generator(this,function(_a){switch(_a.label){case 0:if(typeof this.root.element>"u")throw new TreeError(this.user,"Tree input not set");return this.root.refreshPromise?[4,this.root.refreshPromise]:[3,3];case 1:return _a.sent(),[4,common_event.b.toPromise(this._onDidRender.event)];case 2:_a.sent(),_a.label=3;case 3:return node=this.getDataNode(element),node.refreshPromise?[4,this.root.refreshPromise]:[3,6];case 4:return _a.sent(),[4,common_event.b.toPromise(this._onDidRender.event)];case 5:_a.sent(),_a.label=6;case 6:return node!==this.root&&!node.refreshPromise&&!this.tree.isCollapsed(node)?[2,!1]:(result=this.tree.expand(node===this.root?null:node,recursive),node.refreshPromise?[4,this.root.refreshPromise]:[3,9]);case 7:return _a.sent(),[4,common_event.b.toPromise(this._onDidRender.event)];case 8:_a.sent(),_a.label=9;case 9:return[2,result]}})})},AsyncDataTree.prototype.setSelection=function(elements,browserEvent){var _this=this,nodes=elements.map(function(e){return _this.getDataNode(e)});this.tree.setSelection(nodes,browserEvent)},AsyncDataTree.prototype.getSelection=function(){var nodes=this.tree.getSelection();return nodes.map(function(n){return n.element})},AsyncDataTree.prototype.setFocus=function(elements,browserEvent){var _this=this,nodes=elements.map(function(e){return _this.getDataNode(e)});this.tree.setFocus(nodes,browserEvent)},AsyncDataTree.prototype.getFocus=function(){var nodes=this.tree.getFocus();return nodes.map(function(n){return n.element})},AsyncDataTree.prototype.reveal=function(element,relativeTop){this.tree.reveal(this.getDataNode(element),relativeTop)},AsyncDataTree.prototype.getDataNode=function(element){var node=this.nodes.get(element===this.root.element?null:element);if(!node)throw new TreeError(this.user,"Data tree node not found: "+element);return node},AsyncDataTree.prototype.refreshAndRenderNode=function(node,recursive,viewStateContext){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.refreshNode(node,recursive,viewStateContext)];case 1:return _a.sent(),this.render(node,viewStateContext),[2]}})})},AsyncDataTree.prototype.refreshNode=function(node,recursive,viewStateContext){return __awaiter(this,void 0,void 0,function(){var result,_this=this;return __generator(this,function(_a){return this.subTreeRefreshPromises.forEach(function(refreshPromise,refreshNode){!result&&intersects(refreshNode,node)&&(result=refreshPromise.then(function(){return _this.refreshNode(node,recursive,viewStateContext)}))}),result?[2,result]:[2,this.doRefreshSubTree(node,recursive,viewStateContext)]})})},AsyncDataTree.prototype.doRefreshSubTree=function(node,recursive,viewStateContext){return __awaiter(this,void 0,void 0,function(){var done,childrenToRefresh,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:node.refreshPromise=new Promise(function(c){return done=c}),this.subTreeRefreshPromises.set(node,node.refreshPromise),node.refreshPromise.finally(function(){node.refreshPromise=void 0,_this.subTreeRefreshPromises.delete(node)}),_a.label=1;case 1:return _a.trys.push([1,,4,5]),[4,this.doRefreshNode(node,recursive,viewStateContext)];case 2:return childrenToRefresh=_a.sent(),node.stale=!1,[4,Promise.all(childrenToRefresh.map(function(child){return _this.doRefreshSubTree(child,recursive,viewStateContext)}))];case 3:return _a.sent(),[3,5];case 4:return done(),[7];case 5:return[2]}})})},AsyncDataTree.prototype.doRefreshNode=function(node,recursive,viewStateContext){return __awaiter(this,void 0,void 0,function(){var childrenPromise,slowTimeout_1,children,err_1,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:node.hasChildren=!!this.dataSource.hasChildren(node.element),node.hasChildren?(slowTimeout_1=Object(common_async.l)(800),slowTimeout_1.then(function(){node.slow=!0,_this._onDidChangeNodeSlowState.fire(node)},function(_){return null}),childrenPromise=this.doGetChildren(node).finally(function(){return slowTimeout_1.cancel()})):childrenPromise=Promise.resolve([]),_a.label=1;case 1:return _a.trys.push([1,3,4,5]),[4,childrenPromise];case 2:return children=_a.sent(),[2,this.setChildren(node,children,recursive,viewStateContext)];case 3:if(err_1=_a.sent(),node!==this.root&&this.tree.collapse(node===this.root?null:node),Object(errors.d)(err_1))return[2,[]];throw err_1;case 4:return node.slow&&(node.slow=!1,this._onDidChangeNodeSlowState.fire(node)),[7];case 5:return[2]}})})},AsyncDataTree.prototype.doGetChildren=function(node){var _this=this,result=this.refreshPromises.get(node);return result||(result=Object(common_async.f)(function(){return __awaiter(_this,void 0,void 0,function(){var children;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.dataSource.getChildren(node.element)];case 1:return children=_a.sent(),[2,this.processChildren(children)]}})})}),this.refreshPromises.set(node,result),result.finally(function(){return _this.refreshPromises.delete(node)}))},AsyncDataTree.prototype._onDidChangeCollapseState=function(_a){var node=_a.node,deep=_a.deep;!node.collapsed&&node.element.stale&&(deep?this.collapse(node.element.element):this.refreshAndRenderNode(node.element,!1).catch(errors.e))},AsyncDataTree.prototype.setChildren=function(node,childrenElements,recursive,viewStateContext){var _a,_this=this;if(node.children.length===0&&childrenElements.length===0)return[];for(var nodesToForget=new Map,childrenTreeNodesById=new Map,_i=0,_b=node.children;_i<_b.length;_i++){var child=_b[_i];if(nodesToForget.set(child.element,child),this.identityProvider){var collapsed=this.tree.isCollapsed(child);childrenTreeNodesById.set(child.id,{node:child,collapsed})}}for(var childrenToRefresh=[],children=childrenElements.map(function(element){var hasChildren=!!_this.dataSource.hasChildren(element);if(!_this.identityProvider){var asyncDataTreeNode=createAsyncDataTreeNode({element,parent:node,hasChildren});return hasChildren&&_this.collapseByDefault&&!_this.collapseByDefault(element)&&(asyncDataTreeNode.collapsedByDefault=!1,childrenToRefresh.push(asyncDataTreeNode)),asyncDataTreeNode}var id=_this.identityProvider.getId(element).toString(),result=childrenTreeNodesById.get(id);if(result){var asyncDataTreeNode=result.node;return nodesToForget.delete(asyncDataTreeNode.element),_this.nodes.delete(asyncDataTreeNode.element),_this.nodes.set(element,asyncDataTreeNode),asyncDataTreeNode.element=element,asyncDataTreeNode.hasChildren=hasChildren,recursive?result.collapsed?(asyncDataTreeNode.children.forEach(function(node2){return asyncDataTree_dfs(node2,function(node3){return _this.nodes.delete(node3.element)})}),asyncDataTreeNode.children.splice(0,asyncDataTreeNode.children.length),asyncDataTreeNode.stale=!0):childrenToRefresh.push(asyncDataTreeNode):hasChildren&&_this.collapseByDefault&&!_this.collapseByDefault(element)&&(asyncDataTreeNode.collapsedByDefault=!1,childrenToRefresh.push(asyncDataTreeNode)),asyncDataTreeNode}var childAsyncDataTreeNode=createAsyncDataTreeNode({element,parent:node,id,hasChildren});return viewStateContext&&viewStateContext.viewState.focus&&viewStateContext.viewState.focus.indexOf(id)>-1&&viewStateContext.focus.push(childAsyncDataTreeNode),viewStateContext&&viewStateContext.viewState.selection&&viewStateContext.viewState.selection.indexOf(id)>-1&&viewStateContext.selection.push(childAsyncDataTreeNode),viewStateContext&&viewStateContext.viewState.expanded&&viewStateContext.viewState.expanded.indexOf(id)>-1?childrenToRefresh.push(childAsyncDataTreeNode):hasChildren&&_this.collapseByDefault&&!_this.collapseByDefault(element)&&(childAsyncDataTreeNode.collapsedByDefault=!1,childrenToRefresh.push(childAsyncDataTreeNode)),childAsyncDataTreeNode}),_c=0,_d=Object(map.e)(nodesToForget);_c<_d.length;_c++){var node_1=_d[_c];asyncDataTree_dfs(node_1,function(node2){return _this.nodes.delete(node2.element)})}for(var _e=0,children_1=children;_e<children_1.length;_e++){var child=children_1[_e];this.nodes.set(child.element,child)}return(_a=node.children).splice.apply(_a,asyncDataTree_spreadArrays([0,node.children.length],children)),node!==this.root&&this.autoExpandSingleChildren&&children.length===1&&childrenToRefresh.length===0&&(children[0].collapsedByDefault=!1,childrenToRefresh.push(children[0])),childrenToRefresh},AsyncDataTree.prototype.render=function(node,viewStateContext){var _this=this,children=node.children.map(function(node2){return _this.asTreeElement(node2,viewStateContext)});this.tree.setChildren(node===this.root?null:node,children),node!==this.root&&this.tree.setCollapsible(node,node.hasChildren),this._onDidRender.fire()},AsyncDataTree.prototype.asTreeElement=function(node,viewStateContext){var _this=this;if(node.stale)return{element:node,collapsible:node.hasChildren,collapsed:!0};var collapsed;return viewStateContext&&viewStateContext.viewState.expanded&&node.id&&viewStateContext.viewState.expanded.indexOf(node.id)>-1?collapsed=!1:collapsed=node.collapsedByDefault,node.collapsedByDefault=void 0,{element:node,children:node.hasChildren?common_iterator.d.map(common_iterator.d.fromArray(node.children),function(child){return _this.asTreeElement(child,viewStateContext)}):[],collapsible:node.hasChildren,collapsed}},AsyncDataTree.prototype.processChildren=function(children){return this.sorter&&children.sort(this.sorter.compare.bind(this.sorter)),children},AsyncDataTree.prototype.dispose=function(){this.disposables.dispose()},AsyncDataTree}(),CompressibleAsyncDataTreeNodeWrapper=function(){function CompressibleAsyncDataTreeNodeWrapper2(node){this.node=node}return Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"element",{get:function(){return{elements:this.node.element.elements.map(function(e){return e.element}),incompressible:this.node.element.incompressible}},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"children",{get:function(){return this.node.children.map(function(node){return new CompressibleAsyncDataTreeNodeWrapper2(node)})},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(CompressibleAsyncDataTreeNodeWrapper2.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),CompressibleAsyncDataTreeNodeWrapper2}(),asyncDataTree_CompressibleAsyncDataTreeRenderer=function(){function CompressibleAsyncDataTreeRenderer(renderer,nodeMapper,compressibleNodeMapperProvider,onDidChangeTwistieState){this.renderer=renderer,this.nodeMapper=nodeMapper,this.compressibleNodeMapperProvider=compressibleNodeMapperProvider,this.onDidChangeTwistieState=onDidChangeTwistieState,this.renderedNodes=new Map,this.disposables=[],this.templateId=renderer.templateId}return CompressibleAsyncDataTreeRenderer.prototype.renderTemplate=function(container){var templateData=this.renderer.renderTemplate(container);return{templateData}},CompressibleAsyncDataTreeRenderer.prototype.renderElement=function(node,index,templateData,height){this.renderer.renderElement(this.nodeMapper.map(node),index,templateData.templateData,height)},CompressibleAsyncDataTreeRenderer.prototype.renderCompressedElements=function(node,index,templateData,height){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(node),index,templateData.templateData,height)},CompressibleAsyncDataTreeRenderer.prototype.renderTwistie=function(element,twistieElement){return Object(dom.V)(twistieElement,"codicon-loading",element.slow),!1},CompressibleAsyncDataTreeRenderer.prototype.disposeElement=function(node,index,templateData,height){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(node),index,templateData.templateData,height)},CompressibleAsyncDataTreeRenderer.prototype.disposeCompressedElements=function(node,index,templateData,height){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(node),index,templateData.templateData,height)},CompressibleAsyncDataTreeRenderer.prototype.disposeTemplate=function(templateData){this.renderer.disposeTemplate(templateData.templateData)},CompressibleAsyncDataTreeRenderer.prototype.dispose=function(){this.renderedNodes.clear(),this.disposables=Object(lifecycle.f)(this.disposables)},CompressibleAsyncDataTreeRenderer}();function asCompressibleObjectTreeOptions(options){var objectTreeOptions=options&&asyncDataTree_asObjectTreeOptions(options);return objectTreeOptions&&asyncDataTree_assign(asyncDataTree_assign({},objectTreeOptions),{keyboardNavigationLabelProvider:objectTreeOptions.keyboardNavigationLabelProvider&&asyncDataTree_assign(asyncDataTree_assign({},objectTreeOptions.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(els){return options.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(els.map(function(e){return e.element}))}})})}var asyncDataTree_CompressibleAsyncDataTree=function(_super){asyncDataTree_extends(CompressibleAsyncDataTree,_super);function CompressibleAsyncDataTree(user,container,virtualDelegate,compressionDelegate,renderers,dataSource,options){options===void 0&&(options={});var _this=_super.call(this,user,container,virtualDelegate,renderers,dataSource,options)||this;return _this.compressionDelegate=compressionDelegate,_this.compressibleNodeMapper=new WeakMapper(function(node){return new CompressibleAsyncDataTreeNodeWrapper(node)}),_this.filter=options.filter,_this}return CompressibleAsyncDataTree.prototype.createTree=function(user,container,delegate,renderers,options){var _this=this,objectTreeDelegate=new ComposedTreeDelegate(delegate),objectTreeRenderers=renderers.map(function(r){return new asyncDataTree_CompressibleAsyncDataTreeRenderer(r,_this.nodeMapper,function(){return _this.compressibleNodeMapper},_this._onDidChangeNodeSlowState.event)}),objectTreeOptions=asCompressibleObjectTreeOptions(options)||{};return new objectTree_CompressibleObjectTree(user,container,objectTreeDelegate,objectTreeRenderers,objectTreeOptions)},CompressibleAsyncDataTree.prototype.asTreeElement=function(node,viewStateContext){return asyncDataTree_assign({incompressible:this.compressionDelegate.isIncompressible(node.element)},_super.prototype.asTreeElement.call(this,node,viewStateContext))},CompressibleAsyncDataTree.prototype.updateOptions=function(options){options===void 0&&(options={}),this.tree.updateOptions(options)},CompressibleAsyncDataTree.prototype.render=function(node,viewStateContext){var _this=this;if(!this.identityProvider)return _super.prototype.render.call(this,node,viewStateContext);var getId=function(element){return _this.identityProvider.getId(element).toString()},getUncompressedIds=function(nodes){for(var result=new Set,_i=0,nodes_1=nodes;_i<nodes_1.length;_i++){var node_2=nodes_1[_i],compressedNode=_this.tree.getCompressedTreeNode(node_2===_this.root?null:node_2);if(compressedNode.element)for(var _a=0,_b=compressedNode.element.elements;_a<_b.length;_a++){var node_3=_b[_a];result.add(getId(node_3.element))}}return result},oldSelection=getUncompressedIds(this.tree.getSelection()),oldFocus=getUncompressedIds(this.tree.getFocus());_super.prototype.render.call(this,node,viewStateContext);var selection=this.getSelection(),didChangeSelection=!1,focus=this.getFocus(),didChangeFocus=!1,visit=function(node2){var compressedNode=node2.element;if(compressedNode)for(var i=0;i<compressedNode.elements.length;i++){var id=getId(compressedNode.elements[i].element),element=compressedNode.elements[compressedNode.elements.length-1].element;oldSelection.has(id)&&selection.indexOf(element)===-1&&(selection.push(element),didChangeSelection=!0),oldFocus.has(id)&&focus.indexOf(element)===-1&&(focus.push(element),didChangeFocus=!0)}node2.children.forEach(visit)};visit(this.tree.getCompressedTreeNode(node===this.root?null:node)),didChangeSelection&&this.setSelection(selection),didChangeFocus&&this.setFocus(focus)},CompressibleAsyncDataTree.prototype.processChildren=function(children){var _this=this;return this.filter&&(children=children.filter(function(e){var result=_this.filter.filter(e,1),visibility=getVisibility(result);if(visibility===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return visibility===1})),_super.prototype.processChildren.call(this,children)},CompressibleAsyncDataTree}(asyncDataTree_AsyncDataTree);function getVisibility(filterResult){return typeof filterResult=="boolean"?filterResult?1:0:isFilterResult(filterResult)?getVisibleState(filterResult.visibility):getVisibleState(filterResult)}var dataTree_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),dataTree_DataTree=function(_super){dataTree_extends(DataTree,_super);function DataTree(user,container,delegate,renderers,dataSource,options){options===void 0&&(options={});var _this=_super.call(this,user,container,delegate,renderers,options)||this;return _this.user=user,_this.dataSource=dataSource,_this.identityProvider=options.identityProvider,_this}return DataTree.prototype.createModel=function(user,view,options){return new objectTreeModel_ObjectTreeModel(user,view,options)},DataTree}(abstractTree_AbstractTree),accessibility=__webpack_require__(3167),listService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),listService_assign=function(){return listService_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},listService_assign.apply(this,arguments)},listService_decorate=function(decorators2,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators2,target,key,desc);else for(var i=decorators2.length-1;i>=0;i--)(d=decorators2[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},listService_a,IListService=Object(instantiation.c)("listService"),listService_ListService=function(){function ListService(themeService){this.disposables=new lifecycle.b,this.lists=[],this._lastFocusedWidget=void 0;var styleController=new listWidget.b(Object(dom.w)(),"");this.disposables.add(Object(styler.b)(styleController,themeService))}return Object.defineProperty(ListService.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:!0,configurable:!0}),ListService.prototype.register=function(widget,extraContextKeys){var _this=this;if(this.lists.some(function(l){return l.widget===widget}))throw new Error("Cannot register the same widget multiple times");var registeredList={widget,extraContextKeys};return this.lists.push(registeredList),widget.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=widget),Object(lifecycle.e)(widget.onDidFocus(function(){return _this._lastFocusedWidget=widget}),Object(lifecycle.h)(function(){return _this.lists.splice(_this.lists.indexOf(registeredList),1)}),widget.onDidDispose(function(){_this.lists=_this.lists.filter(function(l){return l!==registeredList}),_this._lastFocusedWidget===widget&&(_this._lastFocusedWidget=void 0)}))},ListService.prototype.dispose=function(){this.disposables.dispose()},ListService=listService_decorate([__param(0,common_themeService.c)],ListService),ListService}(),RawWorkbenchListFocusContextKey=new contextkey.d("listFocus",!0),WorkbenchListSupportsMultiSelectContextKey=new contextkey.d("listSupportsMultiselect",!0),WorkbenchListFocusContextKey=contextkey.a.and(RawWorkbenchListFocusContextKey,contextkey.a.not(InputFocusedContextKey)),WorkbenchListHasSelectionOrFocus=new contextkey.d("listHasSelectionOrFocus",!1),WorkbenchListDoubleSelection=new contextkey.d("listDoubleSelection",!1),WorkbenchListMultiSelection=new contextkey.d("listMultiSelection",!1),WorkbenchListSupportsKeyboardNavigation=new contextkey.d("listSupportsKeyboardNavigation",!0),WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation",WorkbenchListAutomaticKeyboardNavigation=new contextkey.d(WorkbenchListAutomaticKeyboardNavigationKey,!0),didBindWorkbenchListAutomaticKeyboardNavigation=!1;function createScopedContextKeyService(contextKeyService,widget){var result=contextKeyService.createScoped(widget.getHTMLElement());return RawWorkbenchListFocusContextKey.bindTo(result),result}var multiSelectModifierSettingKey="workbench.list.multiSelectModifier",openModeSettingKey="workbench.list.openMode",horizontalScrollingKey="workbench.list.horizontalScrolling",keyboardNavigationSettingKey="workbench.list.keyboardNavigation",automaticKeyboardNavigationSettingKey="workbench.list.automaticKeyboardNavigation",treeIndentKey="workbench.tree.indent",treeRenderIndentGuidesKey="workbench.tree.renderIndentGuides";function getHorizontalScrollingSetting(configurationService){return Object(configuration.f)(configurationService,horizontalScrollingKey,"workbench.tree.horizontalScrolling")}function useAltAsMultipleSelectionModifier(configurationService){return configurationService.getValue(multiSelectModifierSettingKey)==="alt"}function useSingleClickToOpen(configurationService){return configurationService.getValue(openModeSettingKey)!=="doubleClick"}var listService_MultipleSelectionController=function(_super){listService_extends(MultipleSelectionController,_super);function MultipleSelectionController(configurationService){var _this=_super.call(this)||this;return _this.configurationService=configurationService,_this.useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService),_this.registerListeners(),_this}return MultipleSelectionController.prototype.registerListeners=function(){var _this=this;this._register(this.configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration(multiSelectModifierSettingKey)&&(_this.useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(_this.configurationService))}))},MultipleSelectionController.prototype.isSelectionSingleChangeEvent=function(event){return this.useAltAsMultipleSelectionModifier?event.browserEvent.altKey:Object(listWidget.f)(event)},MultipleSelectionController.prototype.isSelectionRangeChangeEvent=function(event){return Object(listWidget.e)(event)},MultipleSelectionController}(lifecycle.a),WorkbenchOpenController=function(_super){listService_extends(WorkbenchOpenController2,_super);function WorkbenchOpenController2(configurationService,existingOpenController){var _this=_super.call(this)||this;return _this.configurationService=configurationService,_this.existingOpenController=existingOpenController,_this.openOnSingleClick=useSingleClickToOpen(configurationService),_this.registerListeners(),_this}return WorkbenchOpenController2.prototype.registerListeners=function(){var _this=this;this._register(this.configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration(openModeSettingKey)&&(_this.openOnSingleClick=useSingleClickToOpen(_this.configurationService))}))},WorkbenchOpenController2.prototype.shouldOpen=function(event){if(event instanceof MouseEvent){var isLeftButton=event.button===0,isDoubleClick=event.detail===2;return isLeftButton&&!this.openOnSingleClick&&!isDoubleClick?!1:isLeftButton||event.button===1?this.existingOpenController?this.existingOpenController.shouldOpen(event):!0:!1}return this.existingOpenController?this.existingOpenController.shouldOpen(event):!0},WorkbenchOpenController2}(lifecycle.a);function toWorkbenchListOptions(options,configurationService,keybindingService){var disposables=new lifecycle.b,result=listService_assign({},options);if(options.multipleSelectionSupport!==!1&&!options.multipleSelectionController){var multipleSelectionController=new listService_MultipleSelectionController(configurationService);result.multipleSelectionController=multipleSelectionController,disposables.add(multipleSelectionController)}var openController=new WorkbenchOpenController(configurationService,options.openController);return result.openController=openController,disposables.add(openController),result.keyboardNavigationDelegate={mightProducePrintableCharacter:function(e){return keybindingService.mightProducePrintableCharacter(e)}},[result,disposables]}function createKeyboardNavigationEventFilter(container,keybindingService){var inChord=!1;return function(event){if(inChord)return inChord=!1,!1;var result=keybindingService.softDispatch(event,container);return result&&result.enterChord?(inChord=!0,!1):(inChord=!1,!0)}}var listService_WorkbenchObjectTree=function(_super){listService_extends(WorkbenchObjectTree,_super);function WorkbenchObjectTree(user,container,delegate,renderers,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){var _this=this,_a=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService),treeOptions=_a.options,getAutomaticKeyboardNavigation=_a.getAutomaticKeyboardNavigation,disposable=_a.disposable;return _this=_super.call(this,user,container,delegate,renderers,treeOptions)||this,_this.disposables.add(disposable),_this.internals=new listService_WorkbenchTreeInternals(_this,treeOptions,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),_this.disposables.add(_this.internals),_this}return WorkbenchObjectTree=listService_decorate([__param(5,contextkey.c),__param(6,IListService),__param(7,common_themeService.c),__param(8,configuration.a),__param(9,keybinding.a),__param(10,accessibility.b)],WorkbenchObjectTree),WorkbenchObjectTree}(objectTree_ObjectTree),listService_WorkbenchDataTree=function(_super){listService_extends(WorkbenchDataTree,_super);function WorkbenchDataTree(user,container,delegate,renderers,dataSource,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){var _this=this,_a=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService),treeOptions=_a.options,getAutomaticKeyboardNavigation=_a.getAutomaticKeyboardNavigation,disposable=_a.disposable;return _this=_super.call(this,user,container,delegate,renderers,dataSource,treeOptions)||this,_this.disposables.add(disposable),_this.internals=new listService_WorkbenchTreeInternals(_this,treeOptions,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),_this.disposables.add(_this.internals),_this}return WorkbenchDataTree=listService_decorate([__param(6,contextkey.c),__param(7,IListService),__param(8,common_themeService.c),__param(9,configuration.a),__param(10,keybinding.a),__param(11,accessibility.b)],WorkbenchDataTree),WorkbenchDataTree}(dataTree_DataTree),listService_WorkbenchAsyncDataTree=function(_super){listService_extends(WorkbenchAsyncDataTree,_super);function WorkbenchAsyncDataTree(user,container,delegate,renderers,dataSource,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){var _this=this,_a=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService),treeOptions=_a.options,getAutomaticKeyboardNavigation=_a.getAutomaticKeyboardNavigation,disposable=_a.disposable;return _this=_super.call(this,user,container,delegate,renderers,dataSource,treeOptions)||this,_this.disposables.add(disposable),_this.internals=new listService_WorkbenchTreeInternals(_this,treeOptions,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),_this.disposables.add(_this.internals),_this}return WorkbenchAsyncDataTree=listService_decorate([__param(6,contextkey.c),__param(7,IListService),__param(8,common_themeService.c),__param(9,configuration.a),__param(10,keybinding.a),__param(11,accessibility.b)],WorkbenchAsyncDataTree),WorkbenchAsyncDataTree}(asyncDataTree_AsyncDataTree),listService_WorkbenchCompressibleAsyncDataTree=function(_super){listService_extends(WorkbenchCompressibleAsyncDataTree,_super);function WorkbenchCompressibleAsyncDataTree(user,container,virtualDelegate,compressionDelegate,renderers,dataSource,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){var _this=this,_a=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService),treeOptions=_a.options,getAutomaticKeyboardNavigation=_a.getAutomaticKeyboardNavigation,disposable=_a.disposable;return _this=_super.call(this,user,container,virtualDelegate,compressionDelegate,renderers,dataSource,treeOptions)||this,_this.disposables.add(disposable),_this.internals=new listService_WorkbenchTreeInternals(_this,treeOptions,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),_this.disposables.add(_this.internals),_this}return WorkbenchCompressibleAsyncDataTree=listService_decorate([__param(7,contextkey.c),__param(8,IListService),__param(9,common_themeService.c),__param(10,configuration.a),__param(11,keybinding.a),__param(12,accessibility.b)],WorkbenchCompressibleAsyncDataTree),WorkbenchCompressibleAsyncDataTree}(asyncDataTree_CompressibleAsyncDataTree);function workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService){WorkbenchListSupportsKeyboardNavigation.bindTo(contextKeyService),didBindWorkbenchListAutomaticKeyboardNavigation||(WorkbenchListAutomaticKeyboardNavigation.bindTo(contextKeyService),didBindWorkbenchListAutomaticKeyboardNavigation=!0);var getAutomaticKeyboardNavigation=function(){var automaticKeyboardNavigation=contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationKey);return automaticKeyboardNavigation&&(automaticKeyboardNavigation=configurationService.getValue(automaticKeyboardNavigationSettingKey)),automaticKeyboardNavigation},accessibilityOn=accessibilityService.getAccessibilitySupport()===2,keyboardNavigation=accessibilityOn?"simple":configurationService.getValue(keyboardNavigationSettingKey),horizontalScrolling=typeof options.horizontalScrolling<"u"?options.horizontalScrolling:getHorizontalScrollingSetting(configurationService),openOnSingleClick=useSingleClickToOpen(configurationService),_a=toWorkbenchListOptions(options,configurationService,keybindingService),workbenchListOptions=_a[0],disposable=_a[1],additionalScrollHeight=options.additionalScrollHeight;return{getAutomaticKeyboardNavigation,disposable,options:listService_assign(listService_assign({keyboardSupport:!1},workbenchListOptions),{indent:configurationService.getValue(treeIndentKey),renderIndentGuides:configurationService.getValue(treeRenderIndentGuidesKey),automaticKeyboardNavigation:getAutomaticKeyboardNavigation(),simpleKeyboardNavigation:keyboardNavigation==="simple",filterOnType:keyboardNavigation==="filter",horizontalScrolling,openOnSingleClick,keyboardNavigationEventFilter:createKeyboardNavigationEventFilter(container,keybindingService),additionalScrollHeight,hideTwistiesOfChildlessElements:options.hideTwistiesOfChildlessElements})}}var listService_WorkbenchTreeInternals=function(){function WorkbenchTreeInternals(tree,options,getAutomaticKeyboardNavigation,overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService){var _this=this;this.disposables=[],this.contextKeyService=createScopedContextKeyService(contextKeyService,tree);var listSupportsMultiSelect=WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);listSupportsMultiSelect.set(options.multipleSelectionSupport!==!1),this.hasSelectionOrFocus=WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService);var interestingContextKeys=new Set;interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationKey);var updateKeyboardNavigation=function(){var accessibilityOn=accessibilityService.getAccessibilitySupport()===2,keyboardNavigation=accessibilityOn?"simple":configurationService.getValue(keyboardNavigationSettingKey);tree.updateOptions({simpleKeyboardNavigation:keyboardNavigation==="simple",filterOnType:keyboardNavigation==="filter"})};this.disposables.push(this.contextKeyService,listService.register(tree),overrideStyles?Object(styler.b)(tree,themeService,overrideStyles):lifecycle.a.None,tree.onDidChangeSelection(function(){var selection=tree.getSelection(),focus=tree.getFocus();_this.hasSelectionOrFocus.set(selection.length>0||focus.length>0),_this.hasMultiSelection.set(selection.length>1),_this.hasDoubleSelection.set(selection.length===2)}),tree.onDidChangeFocus(function(){var selection=tree.getSelection(),focus=tree.getFocus();_this.hasSelectionOrFocus.set(selection.length>0||focus.length>0)}),configurationService.onDidChangeConfiguration(function(e){if(e.affectsConfiguration(openModeSettingKey)&&tree.updateOptions({openOnSingleClick:useSingleClickToOpen(configurationService)}),e.affectsConfiguration(multiSelectModifierSettingKey)&&(_this._useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService)),e.affectsConfiguration(treeIndentKey)){var indent=configurationService.getValue(treeIndentKey);tree.updateOptions({indent})}if(e.affectsConfiguration(treeRenderIndentGuidesKey)){var renderIndentGuides=configurationService.getValue(treeRenderIndentGuidesKey);tree.updateOptions({renderIndentGuides})}e.affectsConfiguration(keyboardNavigationSettingKey)&&updateKeyboardNavigation(),e.affectsConfiguration(automaticKeyboardNavigationSettingKey)&&tree.updateOptions({automaticKeyboardNavigation:getAutomaticKeyboardNavigation()})}),this.contextKeyService.onDidChangeContext(function(e){e.affectsSome(interestingContextKeys)&&tree.updateOptions({automaticKeyboardNavigation:getAutomaticKeyboardNavigation()})}),accessibilityService.onDidChangeAccessibilitySupport(function(){return updateKeyboardNavigation()}))}return WorkbenchTreeInternals.prototype.dispose=function(){this.disposables=Object(lifecycle.f)(this.disposables)},WorkbenchTreeInternals=listService_decorate([__param(4,contextkey.c),__param(5,IListService),__param(6,common_themeService.c),__param(7,configuration.a),__param(8,accessibility.b)],WorkbenchTreeInternals),WorkbenchTreeInternals}(),listService_configurationRegistry=platform.a.as(configurationRegistry.a.Configuration);listService_configurationRegistry.registerConfiguration({id:"workbench",order:7,title:Object(nls.a)("workbenchConfigurationTitle","Workbench"),type:"object",properties:(listService_a={},listService_a[multiSelectModifierSettingKey]={type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[Object(nls.a)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),Object(nls.a)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Object(nls.a)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},listService_a[openModeSettingKey]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(nls.a)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},listService_a[horizontalScrollingKey]={type:"boolean",default:!1,description:Object(nls.a)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench.")},listService_a["workbench.tree.horizontalScrolling"]={type:"boolean",default:!1,description:Object(nls.a)("tree horizontalScrolling setting","Controls whether trees support horizontal scrolling in the workbench."),deprecationMessage:Object(nls.a)("deprecated","This setting is deprecated, please use '{0}' instead.",horizontalScrollingKey)},listService_a[treeIndentKey]={type:"number",default:8,minimum:0,maximum:40,description:Object(nls.a)("tree indent setting","Controls tree indentation in pixels.")},listService_a[treeRenderIndentGuidesKey]={type:"string",enum:["none","onHover","always"],default:"onHover",description:Object(nls.a)("render tree indent guides","Controls whether the tree should render indent guides.")},listService_a[keyboardNavigationSettingKey]={type:"string",enum:["simple","highlight","filter"],enumDescriptions:[Object(nls.a)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),Object(nls.a)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),Object(nls.a)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:Object(nls.a)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},listService_a[automaticKeyboardNavigationSettingKey]={type:"boolean",default:!0,markdownDescription:Object(nls.a)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},listService_a)})},3601:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DefaultKeyboardNavigationDelegate}),__webpack_require__.d(__webpack_exports__,"f",function(){return isSelectionSingleChangeEvent}),__webpack_require__.d(__webpack_exports__,"e",function(){return isSelectionRangeChangeEvent}),__webpack_require__.d(__webpack_exports__,"d",function(){return listWidget_MouseController}),__webpack_require__.d(__webpack_exports__,"b",function(){return listWidget_DefaultStyleController}),__webpack_require__.d(__webpack_exports__,"c",function(){return listWidget_List});var list_list=__webpack_require__(5788),nls=__webpack_require__(2069),lifecycle=__webpack_require__(2033),types=__webpack_require__(2631),arrays=__webpack_require__(2389),decorators=__webpack_require__(3364),dom=__webpack_require__(2124),platform=__webpack_require__(2236),touch=__webpack_require__(3112),keyboardEvent=__webpack_require__(3111),common_event=__webpack_require__(2106),browser_event=__webpack_require__(2849),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ListAriaRootRole;(function(ListAriaRootRole2){ListAriaRootRole2.TREE="tree",ListAriaRootRole2.FORM="form"})(ListAriaRootRole||(ListAriaRootRole={}));var ListError=function(_super){__extends(ListError2,_super);function ListError2(user,message){return _super.call(this,"ListError ["+user+"] "+message)||this}return ListError2}(Error),listView=__webpack_require__(3602),color=__webpack_require__(2663),objects=__webpack_require__(2734),CombinedSpliceable=function(){function CombinedSpliceable2(spliceables){this.spliceables=spliceables}return CombinedSpliceable2.prototype.splice=function(start,deleteCount,elements){this.spliceables.forEach(function(s){return s.splice(start,deleteCount,elements)})},CombinedSpliceable2}(),numbers=__webpack_require__(3509),filters=__webpack_require__(3168),listWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},__decorate=function(decorators2,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators2,target,key,desc);else for(var i=decorators2.length-1;i>=0;i--)(d=decorators2[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},listWidget_TraitRenderer=function(){function TraitRenderer(trait){this.trait=trait,this.renderedElements=[]}return Object.defineProperty(TraitRenderer.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),TraitRenderer.prototype.renderTemplate=function(container){return container},TraitRenderer.prototype.renderElement=function(element,index,templateData){var renderedElementIndex=Object(arrays.k)(this.renderedElements,function(el){return el.templateData===templateData});if(renderedElementIndex>=0){var rendered=this.renderedElements[renderedElementIndex];this.trait.unrender(templateData),rendered.index=index}else{var rendered={index,templateData};this.renderedElements.push(rendered)}this.trait.renderIndex(index,templateData)},TraitRenderer.prototype.splice=function(start,deleteCount,insertCount){for(var rendered=[],_i=0,_a=this.renderedElements;_i<_a.length;_i++){var renderedElement=_a[_i];renderedElement.index<start?rendered.push(renderedElement):renderedElement.index>=start+deleteCount&&rendered.push({index:renderedElement.index+insertCount-deleteCount,templateData:renderedElement.templateData})}this.renderedElements=rendered},TraitRenderer.prototype.renderIndexes=function(indexes){for(var _i=0,_a=this.renderedElements;_i<_a.length;_i++){var _b=_a[_i],index=_b.index,templateData=_b.templateData;indexes.indexOf(index)>-1&&this.trait.renderIndex(index,templateData)}},TraitRenderer.prototype.disposeTemplate=function(templateData){var index=Object(arrays.k)(this.renderedElements,function(el){return el.templateData===templateData});index<0||this.renderedElements.splice(index,1)},TraitRenderer}(),listWidget_Trait=function(){function Trait(_trait){this._trait=_trait,this.indexes=[],this.sortedIndexes=[],this._onChange=new common_event.a,this.onChange=this._onChange.event}return Object.defineProperty(Trait.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(Trait.prototype,"renderer",{get:function(){return new listWidget_TraitRenderer(this)},enumerable:!0,configurable:!0}),Trait.prototype.splice=function(start,deleteCount,elements){var diff=elements.length-deleteCount,end=start+deleteCount,indexes=__spreadArrays(this.sortedIndexes.filter(function(i){return i<start}),elements.map(function(hasTrait,i){return hasTrait?i+start:-1}).filter(function(i){return i!==-1}),this.sortedIndexes.filter(function(i){return i>=end}).map(function(i){return i+diff}));this.renderer.splice(start,deleteCount,elements.length),this._set(indexes,indexes)},Trait.prototype.renderIndex=function(index,container){dom.V(container,this._trait,this.contains(index))},Trait.prototype.unrender=function(container){dom.M(container,this._trait)},Trait.prototype.set=function(indexes,browserEvent){return this._set(indexes,__spreadArrays(indexes).sort(numericSort),browserEvent)},Trait.prototype._set=function(indexes,sortedIndexes,browserEvent){var result=this.indexes,sortedResult=this.sortedIndexes;this.indexes=indexes,this.sortedIndexes=sortedIndexes;var toRender=disjunction(sortedResult,indexes);return this.renderer.renderIndexes(toRender),this._onChange.fire({indexes,browserEvent}),result},Trait.prototype.get=function(){return this.indexes},Trait.prototype.contains=function(index){return Object(arrays.c)(this.sortedIndexes,index,numericSort)>=0},Trait.prototype.dispose=function(){Object(lifecycle.f)(this._onChange)},__decorate([decorators.a],Trait.prototype,"renderer",null),Trait}(),FocusTrait=function(_super){listWidget_extends(FocusTrait2,_super);function FocusTrait2(){return _super.call(this,"focused")||this}return FocusTrait2.prototype.renderIndex=function(index,container){_super.prototype.renderIndex.call(this,index,container),this.contains(index)?container.setAttribute("aria-selected","true"):container.removeAttribute("aria-selected")},FocusTrait2}(listWidget_Trait),TraitSpliceable=function(){function TraitSpliceable2(trait,view,identityProvider){this.trait=trait,this.view=view,this.identityProvider=identityProvider}return TraitSpliceable2.prototype.splice=function(start,deleteCount,elements){var _this=this;if(!this.identityProvider)return this.trait.splice(start,deleteCount,elements.map(function(){return!1}));var pastElementsWithTrait=this.trait.get().map(function(i){return _this.identityProvider.getId(_this.view.element(i)).toString()}),elementsWithTrait=elements.map(function(e){return pastElementsWithTrait.indexOf(_this.identityProvider.getId(e).toString())>-1});this.trait.splice(start,deleteCount,elementsWithTrait)},TraitSpliceable2}();function isInputElement(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"}var listWidget_KeyboardController=function(){function KeyboardController(list,view,options){this.list=list,this.view=view,this.disposables=new lifecycle.b;var multipleSelectionSupport=options.multipleSelectionSupport!==!1;this.openController=options.openController||DefaultOpenController;var onKeyDown=common_event.b.chain(Object(browser_event.a)(view.domNode,"keydown")).filter(function(e){return!isInputElement(e.target)}).map(function(e){return new keyboardEvent.a(e)});onKeyDown.filter(function(e){return e.keyCode===3}).on(this.onEnter,this,this.disposables),onKeyDown.filter(function(e){return e.keyCode===16}).on(this.onUpArrow,this,this.disposables),onKeyDown.filter(function(e){return e.keyCode===18}).on(this.onDownArrow,this,this.disposables),onKeyDown.filter(function(e){return e.keyCode===11}).on(this.onPageUpArrow,this,this.disposables),onKeyDown.filter(function(e){return e.keyCode===12}).on(this.onPageDownArrow,this,this.disposables),onKeyDown.filter(function(e){return e.keyCode===9}).on(this.onEscape,this,this.disposables),multipleSelectionSupport&&onKeyDown.filter(function(e){return(platform.e?e.metaKey:e.ctrlKey)&&e.keyCode===31}).on(this.onCtrlA,this,this.disposables)}return KeyboardController.prototype.onEnter=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open(this.list.getFocus(),e.browserEvent)},KeyboardController.prototype.onUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},KeyboardController.prototype.onDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},KeyboardController.prototype.onPageUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},KeyboardController.prototype.onPageDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},KeyboardController.prototype.onCtrlA=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Object(arrays.u)(this.list.length),e.browserEvent),this.view.domNode.focus()},KeyboardController.prototype.onEscape=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus()},KeyboardController.prototype.dispose=function(){this.disposables.dispose()},KeyboardController}(),TypeLabelControllerState;(function(TypeLabelControllerState2){TypeLabelControllerState2[TypeLabelControllerState2.Idle=0]="Idle",TypeLabelControllerState2[TypeLabelControllerState2.Typing=1]="Typing"})(TypeLabelControllerState||(TypeLabelControllerState={}));var DefaultKeyboardNavigationDelegate=new(function(){function class_1(){}return class_1.prototype.mightProducePrintableCharacter=function(event){return event.ctrlKey||event.metaKey||event.altKey?!1:event.keyCode>=31&&event.keyCode<=56||event.keyCode>=21&&event.keyCode<=30||event.keyCode>=93&&event.keyCode<=102||event.keyCode>=80&&event.keyCode<=90},class_1}()),listWidget_TypeLabelController=function(){function TypeLabelController(list,view,keyboardNavigationLabelProvider,delegate){this.list=list,this.view=view,this.keyboardNavigationLabelProvider=keyboardNavigationLabelProvider,this.delegate=delegate,this.enabled=!1,this.state=TypeLabelControllerState.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.enabledDisposables=new lifecycle.b,this.disposables=new lifecycle.b,this.updateOptions(list.options)}return TypeLabelController.prototype.updateOptions=function(options){var enableKeyboardNavigation=typeof options.enableKeyboardNavigation>"u"?!0:!!options.enableKeyboardNavigation;enableKeyboardNavigation?this.enable():this.disable(),typeof options.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=options.automaticKeyboardNavigation)},TypeLabelController.prototype.enable=function(){var _this=this;if(!this.enabled){var onChar=common_event.b.chain(Object(browser_event.a)(this.view.domNode,"keydown")).filter(function(e){return!isInputElement(e.target)}).filter(function(){return _this.automaticKeyboardNavigation||_this.triggered}).map(function(event){return new keyboardEvent.a(event)}).filter(function(e){return _this.delegate.mightProducePrintableCharacter(e)}).forEach(function(e){e.stopPropagation(),e.preventDefault()}).map(function(event){return event.browserEvent.key}).event,onClear=common_event.b.debounce(onChar,function(){return null},800),onInput=common_event.b.reduce(common_event.b.any(onChar,onClear),function(r,i){return i===null?null:(r||"")+i});onInput(this.onInput,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}},TypeLabelController.prototype.disable=function(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)},TypeLabelController.prototype.onInput=function(word){if(!word){this.state=TypeLabelControllerState.Idle,this.triggered=!1;return}var focus=this.list.getFocus(),start=focus.length>0?focus[0]:0,delta=this.state===TypeLabelControllerState.Idle?1:0;this.state=TypeLabelControllerState.Typing;for(var i=0;i<this.list.length;i++){var index=(start+i+delta)%this.list.length,label=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index)),labelStr=label&&label.toString();if(typeof labelStr>"u"||Object(filters.g)(word,labelStr)){this.list.setFocus([index]),this.list.reveal(index);return}}},TypeLabelController.prototype.dispose=function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()},TypeLabelController}(),listWidget_DOMFocusController=function(){function DOMFocusController(list,view){this.list=list,this.view=view,this.disposables=new lifecycle.b;var onKeyDown=common_event.b.chain(Object(browser_event.a)(view.domNode,"keydown")).filter(function(e){return!isInputElement(e.target)}).map(function(e){return new keyboardEvent.a(e)});onKeyDown.filter(function(e){return e.keyCode===2&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey}).on(this.onTab,this,this.disposables)}return DOMFocusController.prototype.onTab=function(e){if(e.target===this.view.domNode){var focus=this.list.getFocus();if(focus.length!==0){var focusedDomElement=this.view.domElement(focus[0]);if(focusedDomElement){var tabIndexElement=focusedDomElement.querySelector("[tabIndex]");if(!(!tabIndexElement||!(tabIndexElement instanceof HTMLElement)||tabIndexElement.tabIndex===-1)){var style=window.getComputedStyle(tabIndexElement);style.visibility==="hidden"||style.display==="none"||(e.preventDefault(),e.stopPropagation(),tabIndexElement.focus())}}}}},DOMFocusController.prototype.dispose=function(){this.disposables.dispose()},DOMFocusController}();function isSelectionSingleChangeEvent(event){return platform.e?event.browserEvent.metaKey:event.browserEvent.ctrlKey}function isSelectionRangeChangeEvent(event){return event.browserEvent.shiftKey}function isMouseRightClick(event){return event instanceof MouseEvent&&event.button===2}var DefaultMultipleSelectionController={isSelectionSingleChangeEvent,isSelectionRangeChangeEvent},DefaultOpenController={shouldOpen:function(event){return event instanceof MouseEvent?!isMouseRightClick(event):!0}},listWidget_MouseController=function(){function MouseController(list){this.list=list,this.disposables=new lifecycle.b,this.multipleSelectionSupport=list.options.multipleSelectionSupport!==!1,this.multipleSelectionSupport&&(this.multipleSelectionController=list.options.multipleSelectionController||DefaultMultipleSelectionController),this.openController=list.options.openController||DefaultOpenController,this.mouseSupport=typeof list.options.mouseSupport>"u"||!!list.options.mouseSupport,this.mouseSupport&&(list.onMouseDown(this.onMouseDown,this,this.disposables),list.onContextMenu(this.onContextMenu,this,this.disposables),list.onMouseDblClick(this.onDoubleClick,this,this.disposables),list.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(touch.b.addTarget(list.getHTMLElement()))),list.onMouseClick(this.onPointer,this,this.disposables),list.onMouseMiddleClick(this.onPointer,this,this.disposables),list.onTap(this.onPointer,this,this.disposables)}return MouseController.prototype.isSelectionSingleChangeEvent=function(event){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(event):platform.e?event.browserEvent.metaKey:event.browserEvent.ctrlKey},MouseController.prototype.isSelectionRangeChangeEvent=function(event){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(event):event.browserEvent.shiftKey},MouseController.prototype.isSelectionChangeEvent=function(event){return this.isSelectionSingleChangeEvent(event)||this.isSelectionRangeChangeEvent(event)},MouseController.prototype.onMouseDown=function(e){document.activeElement!==e.browserEvent.target&&this.list.domFocus()},MouseController.prototype.onContextMenu=function(e){var focus=typeof e.index>"u"?[]:[e.index];this.list.setFocus(focus,e.browserEvent)},MouseController.prototype.onPointer=function(e){if(this.mouseSupport&&!isInputElement(e.browserEvent.target)){var reference=this.list.getFocus()[0],selection=this.list.getSelection();reference=reference===void 0?selection[0]:reference;var focus=e.index;if(typeof focus>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e))return this.changeSelection(e,reference);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return this.changeSelection(e,reference);this.list.setFocus([focus],e.browserEvent),isMouseRightClick(e.browserEvent)||(this.list.setSelection([focus],e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open([focus],e.browserEvent))}},MouseController.prototype.onDoubleClick=function(e){if(!isInputElement(e.browserEvent.target)&&!(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))){var focus=this.list.getFocus();this.list.setSelection(focus,e.browserEvent),this.list.pin(focus)}},MouseController.prototype.changeSelection=function(e,reference){var focus=e.index;if(this.isSelectionRangeChangeEvent(e)&&reference!==void 0){var min=Math.min(reference,focus),max=Math.max(reference,focus),rangeSelection=Object(arrays.u)(min,max+1),selection=this.list.getSelection(),contiguousRange=getContiguousRangeContaining(disjunction(selection,[reference]),reference);if(contiguousRange.length===0)return;var newSelection=disjunction(rangeSelection,relativeComplement(selection,contiguousRange));this.list.setSelection(newSelection,e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){var selection=this.list.getSelection(),newSelection=selection.filter(function(i){return i!==focus});this.list.setFocus([focus]),selection.length===newSelection.length?this.list.setSelection(__spreadArrays(newSelection,[focus]),e.browserEvent):this.list.setSelection(newSelection,e.browserEvent)}},MouseController.prototype.dispose=function(){this.disposables.dispose()},MouseController}(),listWidget_DefaultStyleController=function(){function DefaultStyleController(styleElement,selectorSuffix){this.styleElement=styleElement,this.selectorSuffix=selectorSuffix}return DefaultStyleController.prototype.style=function(styles){var suffix=this.selectorSuffix&&"."+this.selectorSuffix,content=[];styles.listBackground&&(styles.listBackground.isOpaque()?content.push(".monaco-list"+suffix+" .monaco-list-rows { background: "+styles.listBackground+"; }"):platform.e||console.warn("List with id '"+this.selectorSuffix+"' was styled with a non-opaque background color. This will break sub-pixel antialiasing.")),styles.listFocusBackground&&(content.push(".monaco-list"+suffix+":focus .monaco-list-row.focused { background-color: "+styles.listFocusBackground+"; }"),content.push(".monaco-list"+suffix+":focus .monaco-list-row.focused:hover { background-color: "+styles.listFocusBackground+"; }")),styles.listFocusForeground&&content.push(".monaco-list"+suffix+":focus .monaco-list-row.focused { color: "+styles.listFocusForeground+"; }"),styles.listActiveSelectionBackground&&(content.push(".monaco-list"+suffix+":focus .monaco-list-row.selected { background-color: "+styles.listActiveSelectionBackground+"; }"),content.push(".monaco-list"+suffix+":focus .monaco-list-row.selected:hover { background-color: "+styles.listActiveSelectionBackground+"; }")),styles.listActiveSelectionForeground&&content.push(".monaco-list"+suffix+":focus .monaco-list-row.selected { color: "+styles.listActiveSelectionForeground+"; }"),styles.listFocusAndSelectionBackground&&content.push(`
				.monaco-drag-image,
				.monaco-list`+suffix+":focus .monaco-list-row.selected.focused { background-color: "+styles.listFocusAndSelectionBackground+`; }
			`),styles.listFocusAndSelectionForeground&&content.push(`
				.monaco-drag-image,
				.monaco-list`+suffix+":focus .monaco-list-row.selected.focused { color: "+styles.listFocusAndSelectionForeground+`; }
			`),styles.listInactiveFocusBackground&&(content.push(".monaco-list"+suffix+" .monaco-list-row.focused { background-color:  "+styles.listInactiveFocusBackground+"; }"),content.push(".monaco-list"+suffix+" .monaco-list-row.focused:hover { background-color:  "+styles.listInactiveFocusBackground+"; }")),styles.listInactiveSelectionBackground&&(content.push(".monaco-list"+suffix+" .monaco-list-row.selected { background-color:  "+styles.listInactiveSelectionBackground+"; }"),content.push(".monaco-list"+suffix+" .monaco-list-row.selected:hover { background-color:  "+styles.listInactiveSelectionBackground+"; }")),styles.listInactiveSelectionForeground&&content.push(".monaco-list"+suffix+" .monaco-list-row.selected { color: "+styles.listInactiveSelectionForeground+"; }"),styles.listHoverBackground&&content.push(".monaco-list"+suffix+":not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  "+styles.listHoverBackground+"; }"),styles.listHoverForeground&&content.push(".monaco-list"+suffix+" .monaco-list-row:hover:not(.selected):not(.focused) { color:  "+styles.listHoverForeground+"; }"),styles.listSelectionOutline&&content.push(".monaco-list"+suffix+" .monaco-list-row.selected { outline: 1px dotted "+styles.listSelectionOutline+"; outline-offset: -1px; }"),styles.listFocusOutline&&content.push(`
				.monaco-drag-image,
				.monaco-list`+suffix+":focus .monaco-list-row.focused { outline: 1px solid "+styles.listFocusOutline+`; outline-offset: -1px; }
			`),styles.listInactiveFocusOutline&&content.push(".monaco-list"+suffix+" .monaco-list-row.focused { outline: 1px dotted "+styles.listInactiveFocusOutline+"; outline-offset: -1px; }"),styles.listHoverOutline&&content.push(".monaco-list"+suffix+" .monaco-list-row:hover { outline: 1px dashed "+styles.listHoverOutline+"; outline-offset: -1px; }"),styles.listDropBackground&&content.push(`
				.monaco-list`+suffix+`.drop-target,
				.monaco-list`+suffix+` .monaco-list-rows.drop-target,
				.monaco-list`+suffix+" .monaco-list-row.drop-target { background-color: "+styles.listDropBackground+` !important; color: inherit !important; }
			`),styles.listFilterWidgetBackground&&content.push(".monaco-list-type-filter { background-color: "+styles.listFilterWidgetBackground+" }"),styles.listFilterWidgetOutline&&content.push(".monaco-list-type-filter { border: 1px solid "+styles.listFilterWidgetOutline+"; }"),styles.listFilterWidgetNoMatchesOutline&&content.push(".monaco-list-type-filter.no-matches { border: 1px solid "+styles.listFilterWidgetNoMatchesOutline+"; }"),styles.listMatchesShadow&&content.push(".monaco-list-type-filter { box-shadow: 1px 1px 1px "+styles.listMatchesShadow+"; }");var newStyles=content.join(`
`);newStyles!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=newStyles)},DefaultStyleController}(),defaultStyles={listFocusBackground:color.a.fromHex("#7FB0D0"),listActiveSelectionBackground:color.a.fromHex("#0E639C"),listActiveSelectionForeground:color.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:color.a.fromHex("#094771"),listFocusAndSelectionForeground:color.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:color.a.fromHex("#3F3F46"),listHoverBackground:color.a.fromHex("#2A2D2E"),listDropBackground:color.a.fromHex("#383B3D"),treeIndentGuidesStroke:color.a.fromHex("#a9a9a9")},DefaultOptions={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},ariaRootRole:ListAriaRootRole.TREE};function getContiguousRangeContaining(range,value){var index=range.indexOf(value);if(index===-1)return[];for(var result=[],i=index-1;i>=0&&range[i]===value-(index-i);)result.push(range[i--]);for(result.reverse(),i=index;i<range.length&&range[i]===value+(i-index);)result.push(range[i++]);return result}function disjunction(one,other){for(var result=[],i=0,j=0;i<one.length||j<other.length;)if(i>=one.length)result.push(other[j++]);else if(j>=other.length)result.push(one[i++]);else if(one[i]===other[j]){result.push(one[i]),i++,j++;continue}else one[i]<other[j]?result.push(one[i++]):result.push(other[j++]);return result}function relativeComplement(one,other){for(var result=[],i=0,j=0;i<one.length||j<other.length;)if(i>=one.length)result.push(other[j++]);else if(j>=other.length)result.push(one[i++]);else if(one[i]===other[j]){i++,j++;continue}else one[i]<other[j]?result.push(one[i++]):j++;return result}var numericSort=function(a,b){return a-b},PipelineRenderer=function(){function PipelineRenderer2(_templateId,renderers){this._templateId=_templateId,this.renderers=renderers}return Object.defineProperty(PipelineRenderer2.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),PipelineRenderer2.prototype.renderTemplate=function(container){return this.renderers.map(function(r){return r.renderTemplate(container)})},PipelineRenderer2.prototype.renderElement=function(element,index,templateData,height){for(var i=0,_i=0,_a=this.renderers;_i<_a.length;_i++){var renderer=_a[_i];renderer.renderElement(element,index,templateData[i++],height)}},PipelineRenderer2.prototype.disposeElement=function(element,index,templateData,height){for(var i=0,_i=0,_a=this.renderers;_i<_a.length;_i++){var renderer=_a[_i];renderer.disposeElement&&renderer.disposeElement(element,index,templateData[i],height),i+=1}},PipelineRenderer2.prototype.disposeTemplate=function(templateData){for(var i=0,_i=0,_a=this.renderers;_i<_a.length;_i++){var renderer=_a[_i];renderer.disposeTemplate(templateData[i++])}},PipelineRenderer2}(),AccessibiltyRenderer=function(){function AccessibiltyRenderer2(accessibilityProvider){this.accessibilityProvider=accessibilityProvider,this.templateId="a18n"}return AccessibiltyRenderer2.prototype.renderTemplate=function(container){return container},AccessibiltyRenderer2.prototype.renderElement=function(element,index,container){var ariaLabel=this.accessibilityProvider.getAriaLabel(element);ariaLabel?container.setAttribute("aria-label",ariaLabel):container.removeAttribute("aria-label");var ariaLevel=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(element);typeof ariaLevel=="number"?container.setAttribute("aria-level",""+ariaLevel):container.removeAttribute("aria-level")},AccessibiltyRenderer2.prototype.disposeTemplate=function(templateData){},AccessibiltyRenderer2}(),ListViewDragAndDrop=function(){function ListViewDragAndDrop2(list,dnd){this.list=list,this.dnd=dnd}return ListViewDragAndDrop2.prototype.getDragElements=function(element){var selection=this.list.getSelectedElements(),elements=selection.indexOf(element)>-1?selection:[element];return elements},ListViewDragAndDrop2.prototype.getDragURI=function(element){return this.dnd.getDragURI(element)},ListViewDragAndDrop2.prototype.getDragLabel=function(elements,originalEvent){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(elements,originalEvent)},ListViewDragAndDrop2.prototype.onDragStart=function(data,originalEvent){this.dnd.onDragStart&&this.dnd.onDragStart(data,originalEvent)},ListViewDragAndDrop2.prototype.onDragOver=function(data,targetElement,targetIndex,originalEvent){return this.dnd.onDragOver(data,targetElement,targetIndex,originalEvent)},ListViewDragAndDrop2.prototype.onDragEnd=function(originalEvent){this.dnd.onDragEnd&&this.dnd.onDragEnd(originalEvent)},ListViewDragAndDrop2.prototype.drop=function(data,targetElement,targetIndex,originalEvent){this.dnd.drop(data,targetElement,targetIndex,originalEvent)},ListViewDragAndDrop2}(),listWidget_List=function(){function List(user,container,virtualDelegate,renderers,_options){_options===void 0&&(_options=DefaultOptions),this.user=user,this._options=_options,this.eventBufferer=new common_event.c,this.disposables=new lifecycle.b,this._onDidOpen=new common_event.a,this.onDidOpen=this._onDidOpen.event,this._onDidPin=new common_event.a,this.didJustPressContextMenuKey=!1,this._onDidDispose=new common_event.a,this.onDidDispose=this._onDidDispose.event,this.focus=new FocusTrait,this.selection=new listWidget_Trait("selected"),Object(objects.g)(_options,defaultStyles,!1);var baseRenderers=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=_options.accessibilityProvider,this.accessibilityProvider&&(baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),renderers=renderers.map(function(r){return new PipelineRenderer(r.templateId,__spreadArrays(baseRenderers,[r]))});var viewOptions=__assign(__assign({},_options),{dnd:_options.dnd&&new ListViewDragAndDrop(this,_options.dnd)});if(this.view=new listView.b(container,virtualDelegate,renderers,viewOptions),typeof _options.ariaRole!="string"?this.view.domNode.setAttribute("role",ListAriaRootRole.TREE):this.view.domNode.setAttribute("role",_options.ariaRole),_options.styleController)this.styleController=_options.styleController(this.view.domId);else{var styleElement=dom.w(this.view.domNode);this.styleController=new listWidget_DefaultStyleController(styleElement,this.view.domId)}if(this.spliceable=new CombinedSpliceable([new TraitSpliceable(this.focus,this.view,_options.identityProvider),new TraitSpliceable(this.selection,this.view,_options.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=common_event.b.map(Object(browser_event.a)(this.view.domNode,"focus",!0),function(){return null}),this.onDidBlur=common_event.b.map(Object(browser_event.a)(this.view.domNode,"blur",!0),function(){return null}),this.disposables.add(new listWidget_DOMFocusController(this,this.view)),typeof _options.keyboardSupport!="boolean"||_options.keyboardSupport){var controller=new listWidget_KeyboardController(this,this.view,_options);this.disposables.add(controller)}if(_options.keyboardNavigationLabelProvider){var delegate=_options.keyboardNavigationDelegate||DefaultKeyboardNavigationDelegate;this.typeLabelController=new listWidget_TypeLabelController(this,this.view,_options.keyboardNavigationLabelProvider,delegate),this.disposables.add(this.typeLabelController)}this.disposables.add(this.createMouseController(_options)),this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),_options.ariaLabel&&this.view.domNode.setAttribute("aria-label",Object(nls.a)("aria list","{0}. Use the navigation keys to navigate.",_options.ariaLabel))}return Object.defineProperty(List.prototype,"onFocusChange",{get:function(){var _this=this;return common_event.b.map(this.eventBufferer.wrapEvent(this.focus.onChange),function(e){return _this.toListEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onSelectionChange",{get:function(){var _this=this;return common_event.b.map(this.eventBufferer.wrapEvent(this.selection.onChange),function(e){return _this.toListEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"domId",{get:function(){return this.view.domId},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onMouseDblClick",{get:function(){return this.view.onMouseDblClick},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onMouseMiddleClick",{get:function(){return this.view.onMouseMiddleClick},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onMouseDown",{get:function(){return this.view.onMouseDown},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onTouchStart",{get:function(){return this.view.onTouchStart},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onTap",{get:function(){return this.view.onTap},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onContextMenu",{get:function(){var _this=this,fromKeydown=common_event.b.chain(Object(browser_event.a)(this.view.domNode,"keydown")).map(function(e){return new keyboardEvent.a(e)}).filter(function(e){return _this.didJustPressContextMenuKey=e.keyCode===58||e.shiftKey&&e.keyCode===68}).filter(function(e){return e.preventDefault(),e.stopPropagation(),!1}).event,fromKeyup=common_event.b.chain(Object(browser_event.a)(this.view.domNode,"keyup")).filter(function(){var didJustPressContextMenuKey=_this.didJustPressContextMenuKey;return _this.didJustPressContextMenuKey=!1,didJustPressContextMenuKey}).filter(function(){return _this.getFocus().length>0&&!!_this.view.domElement(_this.getFocus()[0])}).map(function(browserEvent){var index=_this.getFocus()[0],element=_this.view.element(index),anchor=_this.view.domElement(index);return{index,element,anchor,browserEvent}}).event,fromMouse=common_event.b.chain(this.view.onContextMenu).filter(function(){return!_this.didJustPressContextMenuKey}).map(function(_a){var element=_a.element,index=_a.index,browserEvent=_a.browserEvent;return{element,index,anchor:{x:browserEvent.clientX+1,y:browserEvent.clientY},browserEvent}}).event;return common_event.b.any(fromKeydown,fromKeyup,fromMouse)},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"onKeyDown",{get:function(){return Object(browser_event.a)(this.view.domNode,"keydown")},enumerable:!0,configurable:!0}),List.prototype.createMouseController=function(options){return new listWidget_MouseController(this)},List.prototype.updateOptions=function(optionsUpdate){optionsUpdate===void 0&&(optionsUpdate={}),this._options=__assign(__assign({},this._options),optionsUpdate),this.typeLabelController&&this.typeLabelController.updateOptions(this._options)},Object.defineProperty(List.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),List.prototype.splice=function(start,deleteCount,elements){var _this=this;if(elements===void 0&&(elements=[]),start<0||start>this.view.length)throw new ListError(this.user,"Invalid start index: "+start);if(deleteCount<0)throw new ListError(this.user,"Invalid delete count: "+deleteCount);deleteCount===0&&elements.length===0||this.eventBufferer.bufferEvents(function(){return _this.spliceable.splice(start,deleteCount,elements)})},List.prototype.rerender=function(){this.view.rerender()},List.prototype.element=function(index){return this.view.element(index)},Object.defineProperty(List.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"contentHeight",{get:function(){return this.view.contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(List.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(scrollTop){this.view.setScrollTop(scrollTop)},enumerable:!0,configurable:!0}),List.prototype.domFocus=function(){this.view.domNode.focus()},List.prototype.layout=function(height,width){this.view.layout(height,width)},List.prototype.setSelection=function(indexes,browserEvent){for(var _i=0,indexes_1=indexes;_i<indexes_1.length;_i++){var index=indexes_1[_i];if(index<0||index>=this.length)throw new ListError(this.user,"Invalid index "+index)}this.selection.set(indexes,browserEvent)},List.prototype.getSelection=function(){return this.selection.get()},List.prototype.getSelectedElements=function(){var _this=this;return this.getSelection().map(function(i){return _this.view.element(i)})},List.prototype.setFocus=function(indexes,browserEvent){for(var _i=0,indexes_2=indexes;_i<indexes_2.length;_i++){var index=indexes_2[_i];if(index<0||index>=this.length)throw new ListError(this.user,"Invalid index "+index)}this.focus.set(indexes,browserEvent)},List.prototype.focusNext=function(n,loop,browserEvent,filter){if(n===void 0&&(n=1),loop===void 0&&(loop=!1),this.length!==0){var focus=this.focus.get(),index=this.findNextIndex(focus.length>0?focus[0]+n:0,loop,filter);index>-1&&this.setFocus([index],browserEvent)}},List.prototype.focusPrevious=function(n,loop,browserEvent,filter){if(n===void 0&&(n=1),loop===void 0&&(loop=!1),this.length!==0){var focus=this.focus.get(),index=this.findPreviousIndex(focus.length>0?focus[0]-n:0,loop,filter);index>-1&&this.setFocus([index],browserEvent)}},List.prototype.focusNextPage=function(browserEvent,filter){var _this=this,lastPageIndex=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);lastPageIndex=lastPageIndex===0?0:lastPageIndex-1;var lastPageElement=this.view.element(lastPageIndex),currentlyFocusedElement=this.getFocusedElements()[0];if(currentlyFocusedElement!==lastPageElement){var lastGoodPageIndex=this.findPreviousIndex(lastPageIndex,!1,filter);lastGoodPageIndex>-1&&currentlyFocusedElement!==this.view.element(lastGoodPageIndex)?this.setFocus([lastGoodPageIndex],browserEvent):this.setFocus([lastPageIndex],browserEvent)}else{var previousScrollTop=this.view.getScrollTop();this.view.setScrollTop(previousScrollTop+this.view.renderHeight-this.view.elementHeight(lastPageIndex)),this.view.getScrollTop()!==previousScrollTop&&setTimeout(function(){return _this.focusNextPage(browserEvent,filter)},0)}},List.prototype.focusPreviousPage=function(browserEvent,filter){var _this=this,firstPageIndex,scrollTop=this.view.getScrollTop();scrollTop===0?firstPageIndex=this.view.indexAt(scrollTop):firstPageIndex=this.view.indexAfter(scrollTop-1);var firstPageElement=this.view.element(firstPageIndex),currentlyFocusedElement=this.getFocusedElements()[0];if(currentlyFocusedElement!==firstPageElement){var firstGoodPageIndex=this.findNextIndex(firstPageIndex,!1,filter);firstGoodPageIndex>-1&&currentlyFocusedElement!==this.view.element(firstGoodPageIndex)?this.setFocus([firstGoodPageIndex],browserEvent):this.setFocus([firstPageIndex],browserEvent)}else{var previousScrollTop=scrollTop;this.view.setScrollTop(scrollTop-this.view.renderHeight),this.view.getScrollTop()!==previousScrollTop&&setTimeout(function(){return _this.focusPreviousPage(browserEvent,filter)},0)}},List.prototype.focusLast=function(browserEvent,filter){if(this.length!==0){var index=this.findPreviousIndex(this.length-1,!1,filter);index>-1&&this.setFocus([index],browserEvent)}},List.prototype.focusFirst=function(browserEvent,filter){if(this.length!==0){var index=this.findNextIndex(0,!1,filter);index>-1&&this.setFocus([index],browserEvent)}},List.prototype.findNextIndex=function(index,loop,filter){loop===void 0&&(loop=!1);for(var i=0;i<this.length;i++){if(index>=this.length&&!loop)return-1;if(index=index%this.length,!filter||filter(this.element(index)))return index;index++}return-1},List.prototype.findPreviousIndex=function(index,loop,filter){loop===void 0&&(loop=!1);for(var i=0;i<this.length;i++){if(index<0&&!loop)return-1;if(index=(this.length+index%this.length)%this.length,!filter||filter(this.element(index)))return index;index--}return-1},List.prototype.getFocus=function(){return this.focus.get()},List.prototype.getFocusedElements=function(){var _this=this;return this.getFocus().map(function(i){return _this.view.element(i)})},List.prototype.reveal=function(index,relativeTop){if(index<0||index>=this.length)throw new ListError(this.user,"Invalid index "+index);var scrollTop=this.view.getScrollTop(),elementTop=this.view.elementTop(index),elementHeight=this.view.elementHeight(index);if(Object(types.h)(relativeTop)){var m=elementHeight-this.view.renderHeight;this.view.setScrollTop(m*Object(numbers.a)(relativeTop,0,1)+elementTop)}else{var viewItemBottom=elementTop+elementHeight,wrapperBottom=scrollTop+this.view.renderHeight;elementTop<scrollTop&&viewItemBottom>=wrapperBottom||(elementTop<scrollTop?this.view.setScrollTop(elementTop):viewItemBottom>=wrapperBottom&&this.view.setScrollTop(viewItemBottom-this.view.renderHeight))}},List.prototype.getRelativeTop=function(index){if(index<0||index>=this.length)throw new ListError(this.user,"Invalid index "+index);var scrollTop=this.view.getScrollTop(),elementTop=this.view.elementTop(index),elementHeight=this.view.elementHeight(index);if(elementTop<scrollTop||elementTop+elementHeight>scrollTop+this.view.renderHeight)return null;var m=elementHeight-this.view.renderHeight;return Math.abs((scrollTop-elementTop)/m)},List.prototype.getHTMLElement=function(){return this.view.domNode},List.prototype.open=function(indexes,browserEvent){for(var _this=this,_i=0,indexes_3=indexes;_i<indexes_3.length;_i++){var index=indexes_3[_i];if(index<0||index>=this.length)throw new ListError(this.user,"Invalid index "+index)}this._onDidOpen.fire({indexes,elements:indexes.map(function(i){return _this.view.element(i)}),browserEvent})},List.prototype.pin=function(indexes,browserEvent){for(var _this=this,_i=0,indexes_4=indexes;_i<indexes_4.length;_i++){var index=indexes_4[_i];if(index<0||index>=this.length)throw new ListError(this.user,"Invalid index "+index)}this._onDidPin.fire({indexes,elements:indexes.map(function(i){return _this.view.element(i)}),browserEvent})},List.prototype.style=function(styles){this.styleController.style(styles)},List.prototype.toListEvent=function(_a){var _this=this,indexes=_a.indexes,browserEvent=_a.browserEvent;return{indexes,elements:indexes.map(function(i){return _this.view.element(i)}),browserEvent}},List.prototype._onFocusChange=function(){var focus=this.focus.get();dom.V(this.view.domNode,"element-focused",focus.length>0),this.onDidChangeActiveDescendant()},List.prototype.onDidChangeActiveDescendant=function(){var _a,focus=this.focus.get();if(focus.length>0){var id=void 0;!((_a=this.accessibilityProvider)===null||_a===void 0)&&_a.getActiveDescendantId&&(id=this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]))),this.view.domNode.setAttribute("aria-activedescendant",id||this.view.getElementDomId(focus[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")},List.prototype._onSelectionChange=function(){var selection=this.selection.get();dom.V(this.view.domNode,"selection-none",selection.length===0),dom.V(this.view.domNode,"selection-single",selection.length===1),dom.V(this.view.domNode,"selection-multiple",selection.length>1)},List.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidOpen.dispose(),this._onDidPin.dispose(),this._onDidDispose.dispose()},__decorate([decorators.a],List.prototype,"onFocusChange",null),__decorate([decorators.a],List.prototype,"onSelectionChange",null),__decorate([decorators.a],List.prototype,"onContextMenu",null),List}()},3602:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ElementsDragAndDropData}),__webpack_require__.d(__webpack_exports__,"b",function(){return listView_ListView});var objects=__webpack_require__(2734),lifecycle=__webpack_require__(2033),touch=__webpack_require__(3112),dom=__webpack_require__(2124),common_event=__webpack_require__(2106),browser_event=__webpack_require__(2849),scrollableElement=__webpack_require__(3105),common_range=__webpack_require__(3379);function groupIntersect(range,groups){for(var result=[],_i=0,groups_1=groups;_i<groups_1.length;_i++){var r=groups_1[_i];if(!(range.start>=r.range.end)){if(range.end<r.range.start)break;var intersection=common_range.a.intersect(range,r.range);common_range.a.isEmpty(intersection)||result.push({range:intersection,size:r.size})}}return result}function shift(_a,much){var start=_a.start,end=_a.end;return{start:start+much,end:end+much}}function consolidate(groups){for(var result=[],previousGroup=null,_i=0,groups_2=groups;_i<groups_2.length;_i++){var group=groups_2[_i],start=group.range.start,end=group.range.end,size=group.size;if(previousGroup&&size===previousGroup.size){previousGroup.range.end=end;continue}previousGroup={range:{start,end},size},result.push(previousGroup)}return result}function concat(){for(var groups=[],_i=0;_i<arguments.length;_i++)groups[_i]=arguments[_i];return consolidate(groups.reduce(function(r,g){return r.concat(g)},[]))}var RangeMap=function(){function RangeMap2(){this.groups=[],this._size=0}return RangeMap2.prototype.splice=function(index,deleteCount,items){items===void 0&&(items=[]);var diff=items.length-deleteCount,before=groupIntersect({start:0,end:index},this.groups),after=groupIntersect({start:index+deleteCount,end:Number.POSITIVE_INFINITY},this.groups).map(function(g){return{range:shift(g.range,diff),size:g.size}}),middle=items.map(function(item,i){return{range:{start:index+i,end:index+i+1},size:item.size}});this.groups=concat(before,middle,after),this._size=this.groups.reduce(function(t,g){return t+g.size*(g.range.end-g.range.start)},0)},Object.defineProperty(RangeMap2.prototype,"count",{get:function(){var len=this.groups.length;return len?this.groups[len-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(RangeMap2.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),RangeMap2.prototype.indexAt=function(position){if(position<0)return-1;for(var index=0,size=0,_i=0,_a=this.groups;_i<_a.length;_i++){var group=_a[_i],count=group.range.end-group.range.start,newSize=size+count*group.size;if(position<newSize)return index+Math.floor((position-size)/group.size);index+=count,size=newSize}return index},RangeMap2.prototype.indexAfter=function(position){return Math.min(this.indexAt(position)+1,this.count)},RangeMap2.prototype.positionAt=function(index){if(index<0)return-1;for(var position=0,count=0,_i=0,_a=this.groups;_i<_a.length;_i++){var group=_a[_i],groupCount=group.range.end-group.range.start,newCount=count+groupCount;if(index<newCount)return position+(index-count)*group.size;position+=groupCount*group.size,count=newCount}return-1},RangeMap2}();function removeFromParent(element){try{element.parentElement&&element.parentElement.removeChild(element)}catch{}}var rowCache_RowCache=function(){function RowCache(renderers){this.renderers=renderers,this.cache=new Map}return RowCache.prototype.alloc=function(templateId){var result=this.getTemplateCache(templateId).pop();if(!result){var domNode=Object(dom.a)(".monaco-list-row"),renderer=this.getRenderer(templateId),templateData=renderer.renderTemplate(domNode);result={domNode,templateId,templateData}}return result},RowCache.prototype.release=function(row){row&&this.releaseRow(row)},RowCache.prototype.releaseRow=function(row){var domNode=row.domNode,templateId=row.templateId;domNode&&(Object(dom.M)(domNode,"scrolling"),removeFromParent(domNode));var cache=this.getTemplateCache(templateId);cache.push(row)},RowCache.prototype.getTemplateCache=function(templateId){var result=this.cache.get(templateId);return result||(result=[],this.cache.set(templateId,result)),result},RowCache.prototype.dispose=function(){var _this=this;this.cache.forEach(function(cachedRows,templateId){for(var _i=0,cachedRows_1=cachedRows;_i<cachedRows_1.length;_i++){var cachedRow=cachedRows_1[_i],renderer=_this.getRenderer(templateId);renderer.disposeTemplate(cachedRow.templateData),cachedRow.domNode=null,cachedRow.templateData=null}}),this.cache.clear()},RowCache.prototype.getRenderer=function(templateId){var renderer=this.renderers.get(templateId);if(!renderer)throw new Error("No renderer found for "+templateId);return renderer},RowCache}(),decorators=__webpack_require__(3364),arrays=__webpack_require__(2389),dnd=__webpack_require__(3374),common_async=__webpack_require__(2237),browser=__webpack_require__(2642),__decorate=function(decorators2,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators2,target,key,desc);else for(var i=decorators2.length-1;i>=0;i--)(d=decorators2[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},DefaultOptions={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(e){return[e]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1},ElementsDragAndDropData=function(){function ElementsDragAndDropData2(elements){this.elements=elements}return ElementsDragAndDropData2.prototype.update=function(){},ElementsDragAndDropData2.prototype.getData=function(){return this.elements},ElementsDragAndDropData2}(),ExternalElementsDragAndDropData=function(){function ExternalElementsDragAndDropData2(elements){this.elements=elements}return ExternalElementsDragAndDropData2.prototype.update=function(){},ExternalElementsDragAndDropData2.prototype.getData=function(){return this.elements},ExternalElementsDragAndDropData2}(),DesktopDragAndDropData=function(){function DesktopDragAndDropData2(){this.types=[],this.files=[]}return DesktopDragAndDropData2.prototype.update=function(dataTransfer){var _a;if(dataTransfer.types&&(_a=this.types).splice.apply(_a,__spreadArrays([0,this.types.length],dataTransfer.types)),dataTransfer.files){this.files.splice(0,this.files.length);for(var i=0;i<dataTransfer.files.length;i++){var file=dataTransfer.files.item(i);file&&(file.size||file.type)&&this.files.push(file)}}},DesktopDragAndDropData2.prototype.getData=function(){return{types:this.types,files:this.files}},DesktopDragAndDropData2}();function equalsDragFeedback(f1,f2){return Array.isArray(f1)&&Array.isArray(f2)?Object(arrays.g)(f1,f2):f1===f2}var listView_ListView=function(){function ListView(container,virtualDelegate,renderers,options){var _this=this;if(options===void 0&&(options=DefaultOptions),this.virtualDelegate=virtualDelegate,this.domId="list_id_"+ ++ListView.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new common_async.a(50),this.splicing=!1,this.dragOverAnimationStopDisposable=lifecycle.a.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=lifecycle.a.None,this.onDragLeaveTimeout=lifecycle.a.None,this.disposables=new lifecycle.b,this._onDidChangeContentHeight=new common_event.a,options.horizontalScrolling&&options.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new RangeMap;for(var _i=0,renderers_1=renderers;_i<renderers_1.length;_i++){var renderer=renderers_1[_i];this.renderers.set(renderer.templateId,renderer)}this.cache=this.disposables.add(new rowCache_RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",dom.f(this.domNode,this.domId),this.domNode.tabIndex=0,dom.V(this.domNode,"mouse-support",typeof options.mouseSupport=="boolean"?options.mouseSupport:!0),this.horizontalScrolling=Object(objects.f)(options,function(o){return o.horizontalScrolling},DefaultOptions.horizontalScrolling),dom.V(this.domNode,"horizontal-scrolling",this.horizontalScrolling),this.additionalScrollHeight=typeof options.additionalScrollHeight>"u"?0:options.additionalScrollHeight,this.ariaProvider=options.ariaProvider||{getSetSize:function(e,i,length){return length},getPosInSet:function(_,index){return index+1}},this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.disposables.add(touch.b.addTarget(this.rowsContainer)),this.scrollableElement=this.disposables.add(new scrollableElement.b(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:this.horizontalScrolling?1:2,vertical:Object(objects.f)(options,function(o){return o.verticalScrollMode},DefaultOptions.verticalScrollMode),useShadows:Object(objects.f)(options,function(o){return o.useShadows},DefaultOptions.useShadows)})),this.domNode.appendChild(this.scrollableElement.getDomNode()),container.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),Object(browser_event.a)(this.rowsContainer,touch.a.Change)(this.onTouchChange,this,this.disposables),Object(browser_event.a)(this.scrollableElement.getDomNode(),"scroll")(function(e){return e.target.scrollTop=0},null,this.disposables),common_event.b.map(Object(browser_event.a)(this.domNode,"dragover"),function(e){return _this.toDragEvent(e)})(this.onDragOver,this,this.disposables),common_event.b.map(Object(browser_event.a)(this.domNode,"drop"),function(e){return _this.toDragEvent(e)})(this.onDrop,this,this.disposables),Object(browser_event.a)(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),Object(browser_event.a)(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=Object(objects.f)(options,function(o){return o.setRowLineHeight},DefaultOptions.setRowLineHeight),this.supportDynamicHeights=Object(objects.f)(options,function(o){return o.supportDynamicHeights},DefaultOptions.supportDynamicHeights),this.dnd=Object(objects.f)(options,function(o){return o.dnd},DefaultOptions.dnd),this.layout()}return Object.defineProperty(ListView.prototype,"contentHeight",{get:function(){return this.rangeMap.size},enumerable:!0,configurable:!0}),ListView.prototype.splice=function(start,deleteCount,elements){if(elements===void 0&&(elements=[]),this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(start,deleteCount,elements)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}},ListView.prototype._splice=function(start,deleteCount,elements){var _a,_this=this;elements===void 0&&(elements=[]);for(var previousRenderRange=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),deleteRange={start,end:start+deleteCount},removeRange=common_range.a.intersect(previousRenderRange,deleteRange),i=removeRange.start;i<removeRange.end;i++)this.removeItemFromDOM(i);var previousRestRange={start:start+deleteCount,end:this.items.length},previousRenderedRestRange=common_range.a.intersect(previousRestRange,previousRenderRange),previousUnrenderedRestRanges=common_range.a.relativeComplement(previousRestRange,previousRenderRange),inserted=elements.map(function(element){return{id:String(_this.itemId++),element,templateId:_this.virtualDelegate.getTemplateId(element),size:_this.virtualDelegate.getHeight(element),width:void 0,hasDynamicHeight:!!_this.virtualDelegate.hasDynamicHeight&&_this.virtualDelegate.hasDynamicHeight(element),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:lifecycle.a.None}}),deleted;start===0&&deleteCount>=this.items.length?(this.rangeMap=new RangeMap,this.rangeMap.splice(0,0,inserted),this.items=inserted,deleted=[]):(this.rangeMap.splice(start,deleteCount,inserted),deleted=(_a=this.items).splice.apply(_a,__spreadArrays([start,deleteCount],inserted)));for(var delta=elements.length-deleteCount,renderRange=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),renderedRestRange=shift(previousRenderedRestRange,delta),updateRange=common_range.a.intersect(renderRange,renderedRestRange),i=updateRange.start;i<updateRange.end;i++)this.updateItemInDOM(this.items[i],i);for(var removeRanges=common_range.a.relativeComplement(renderedRestRange,renderRange),_i=0,removeRanges_1=removeRanges;_i<removeRanges_1.length;_i++)for(var range=removeRanges_1[_i],i=range.start;i<range.end;i++)this.removeItemFromDOM(i);for(var unrenderedRestRanges=previousUnrenderedRestRanges.map(function(r){return shift(r,delta)}),elementsRange={start,end:start+elements.length},insertRanges=__spreadArrays([elementsRange],unrenderedRestRanges).map(function(r){return common_range.a.intersect(renderRange,r)}),beforeElement=this.getNextToLastElement(insertRanges),_b=0,insertRanges_1=insertRanges;_b<insertRanges_1.length;_b++)for(var range=insertRanges_1[_b],i=range.start;i<range.end;i++)this.insertItemInDOM(i,beforeElement);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),deleted.map(function(i2){return i2.element})},ListView.prototype.eventuallyUpdateScrollDimensions=function(){var _this=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+"px",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=dom.T(function(){_this.scrollableElement.setScrollDimensions({scrollHeight:_this.scrollHeight}),_this.updateScrollWidth(),_this.scrollableElementUpdateDisposable=null}))},ListView.prototype.eventuallyUpdateScrollWidth=function(){var _this=this;this.horizontalScrolling&&this.scrollableElementWidthDelayer.trigger(function(){return _this.updateScrollWidth()})},ListView.prototype.updateScrollWidth=function(){if(this.horizontalScrolling){this.items.length===0&&this.scrollableElement.setScrollDimensions({scrollWidth:0});for(var scrollWidth=0,_i=0,_a=this.items;_i<_a.length;_i++){var item=_a[_i];typeof item.width<"u"&&(scrollWidth=Math.max(scrollWidth,item.width))}this.scrollWidth=scrollWidth,this.scrollableElement.setScrollDimensions({scrollWidth:scrollWidth+10})}},ListView.prototype.rerender=function(){if(this.supportDynamicHeights){for(var _i=0,_a=this.items;_i<_a.length;_i++){var item=_a[_i];item.lastDynamicHeightWidth=void 0}this._rerender(this.lastRenderTop,this.lastRenderHeight)}},Object.defineProperty(ListView.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"renderHeight",{get:function(){var scrollDimensions=this.scrollableElement.getScrollDimensions();return scrollDimensions.height},enumerable:!0,configurable:!0}),ListView.prototype.element=function(index){return this.items[index].element},ListView.prototype.domElement=function(index){var row=this.items[index].row;return row&&row.domNode},ListView.prototype.elementHeight=function(index){return this.items[index].size},ListView.prototype.elementTop=function(index){return this.rangeMap.positionAt(index)},ListView.prototype.indexAt=function(position){return this.rangeMap.indexAt(position)},ListView.prototype.indexAfter=function(position){return this.rangeMap.indexAfter(position)},ListView.prototype.layout=function(height,width){var scrollDimensions={height:typeof height=="number"?height:dom.z(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,scrollDimensions.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(scrollDimensions),typeof width<"u"&&(this.renderWidth=width,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof width=="number"?width:dom.A(this.domNode)}))},ListView.prototype.render=function(renderTop,renderHeight,renderLeft,scrollWidth){for(var previousRenderRange=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),renderRange=this.getRenderRange(renderTop,renderHeight),rangesToInsert=common_range.a.relativeComplement(renderRange,previousRenderRange),rangesToRemove=common_range.a.relativeComplement(previousRenderRange,renderRange),beforeElement=this.getNextToLastElement(rangesToInsert),_i=0,rangesToInsert_1=rangesToInsert;_i<rangesToInsert_1.length;_i++)for(var range=rangesToInsert_1[_i],i=range.start;i<range.end;i++)this.insertItemInDOM(i,beforeElement);for(var _a=0,rangesToRemove_1=rangesToRemove;_a<rangesToRemove_1.length;_a++)for(var range=rangesToRemove_1[_a],i=range.start;i<range.end;i++)this.removeItemFromDOM(i);this.rowsContainer.style.left="-"+renderLeft+"px",this.rowsContainer.style.top="-"+renderTop+"px",this.horizontalScrolling&&(this.rowsContainer.style.width=Math.max(scrollWidth,this.renderWidth)+"px"),this.lastRenderTop=renderTop,this.lastRenderHeight=renderHeight},ListView.prototype.insertItemInDOM=function(index,beforeElement){var _this=this,item=this.items[index];if(!item.row){item.row=this.cache.alloc(item.templateId);var role=this.ariaProvider.getRole?this.ariaProvider.getRole(item.element):"treeitem";item.row.domNode.setAttribute("role",role);var checked=this.ariaProvider.isChecked?this.ariaProvider.isChecked(item.element):void 0;typeof checked<"u"&&item.row.domNode.setAttribute("aria-checked",String(checked))}item.row.domNode.parentElement||(beforeElement?this.rowsContainer.insertBefore(item.row.domNode,beforeElement):this.rowsContainer.appendChild(item.row.domNode)),this.updateItemInDOM(item,index);var renderer=this.renderers.get(item.templateId);if(!renderer)throw new Error("No renderer found for template id "+item.templateId);renderer&&renderer.renderElement(item.element,index,item.row.templateData,item.size);var uri=this.dnd.getDragURI(item.element);if(item.dragStartDisposable.dispose(),item.row.domNode.draggable=!!uri,uri){var onDragStart=Object(browser_event.a)(item.row.domNode,"dragstart");item.dragStartDisposable=onDragStart(function(event){return _this.onDragStart(item.element,uri,event)})}this.horizontalScrolling&&(this.measureItemWidth(item),this.eventuallyUpdateScrollWidth())},ListView.prototype.measureItemWidth=function(item){if(!(!item.row||!item.row.domNode)){item.row.domNode.style.width=browser.h?"-moz-fit-content":"fit-content",item.width=dom.A(item.row.domNode);var style=window.getComputedStyle(item.row.domNode);style.paddingLeft&&(item.width+=parseFloat(style.paddingLeft)),style.paddingRight&&(item.width+=parseFloat(style.paddingRight)),item.row.domNode.style.width=""}},ListView.prototype.updateItemInDOM=function(item,index){item.row.domNode.style.top=this.elementTop(index)+"px",item.row.domNode.style.height=item.size+"px",this.setRowLineHeight&&(item.row.domNode.style.lineHeight=item.size+"px"),item.row.domNode.setAttribute("data-index",""+index),item.row.domNode.setAttribute("data-last-element",index===this.length-1?"true":"false"),item.row.domNode.setAttribute("aria-setsize",String(this.ariaProvider.getSetSize(item.element,index,this.length))),item.row.domNode.setAttribute("aria-posinset",String(this.ariaProvider.getPosInSet(item.element,index))),item.row.domNode.setAttribute("id",this.getElementDomId(index)),dom.V(item.row.domNode,"drop-target",item.dropTarget)},ListView.prototype.removeItemFromDOM=function(index){var item=this.items[index];item.dragStartDisposable.dispose();var renderer=this.renderers.get(item.templateId);renderer&&renderer.disposeElement&&renderer.disposeElement(item.element,index,item.row.templateData,item.size),this.cache.release(item.row),item.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()},ListView.prototype.getScrollTop=function(){var scrollPosition=this.scrollableElement.getScrollPosition();return scrollPosition.scrollTop},ListView.prototype.setScrollTop=function(scrollTop){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop})},Object.defineProperty(ListView.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(scrollTop){this.setScrollTop(scrollTop)},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"scrollHeight",{get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"onMouseClick",{get:function(){var _this=this;return common_event.b.map(Object(browser_event.a)(this.domNode,"click"),function(e){return _this.toMouseEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"onMouseDblClick",{get:function(){var _this=this;return common_event.b.map(Object(browser_event.a)(this.domNode,"dblclick"),function(e){return _this.toMouseEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"onMouseMiddleClick",{get:function(){var _this=this;return common_event.b.filter(common_event.b.map(Object(browser_event.a)(this.domNode,"auxclick"),function(e){return _this.toMouseEvent(e)}),function(e){return e.browserEvent.button===1})},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"onMouseDown",{get:function(){var _this=this;return common_event.b.map(Object(browser_event.a)(this.domNode,"mousedown"),function(e){return _this.toMouseEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"onContextMenu",{get:function(){var _this=this;return common_event.b.map(Object(browser_event.a)(this.domNode,"contextmenu"),function(e){return _this.toMouseEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"onTouchStart",{get:function(){var _this=this;return common_event.b.map(Object(browser_event.a)(this.domNode,"touchstart"),function(e){return _this.toTouchEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"onTap",{get:function(){var _this=this;return common_event.b.map(Object(browser_event.a)(this.rowsContainer,touch.a.Tap),function(e){return _this.toGestureEvent(e)})},enumerable:!0,configurable:!0}),ListView.prototype.toMouseEvent=function(browserEvent){var index=this.getItemIndexFromEventTarget(browserEvent.target||null),item=typeof index>"u"?void 0:this.items[index],element=item&&item.element;return{browserEvent,index,element}},ListView.prototype.toTouchEvent=function(browserEvent){var index=this.getItemIndexFromEventTarget(browserEvent.target||null),item=typeof index>"u"?void 0:this.items[index],element=item&&item.element;return{browserEvent,index,element}},ListView.prototype.toGestureEvent=function(browserEvent){var index=this.getItemIndexFromEventTarget(browserEvent.initialTarget||null),item=typeof index>"u"?void 0:this.items[index],element=item&&item.element;return{browserEvent,index,element}},ListView.prototype.toDragEvent=function(browserEvent){var index=this.getItemIndexFromEventTarget(browserEvent.target||null),item=typeof index>"u"?void 0:this.items[index],element=item&&item.element;return{browserEvent,index,element}},ListView.prototype.onScroll=function(e){try{this.render(e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height)}catch(err){throw console.error("Got bad scroll event:",e),err}},ListView.prototype.onTouchChange=function(event){event.preventDefault(),event.stopPropagation(),this.scrollTop-=event.translationY},ListView.prototype.onDragStart=function(element,uri,event){if(event.dataTransfer){var elements=this.dnd.getDragElements(element);if(event.dataTransfer.effectAllowed="copyMove",event.dataTransfer.setData(dnd.a.RESOURCES,JSON.stringify([uri])),event.dataTransfer.setDragImage){var label=void 0;this.dnd.getDragLabel&&(label=this.dnd.getDragLabel(elements,event)),typeof label>"u"&&(label=String(elements.length));var dragImage_1=dom.a(".monaco-drag-image");dragImage_1.textContent=label,document.body.appendChild(dragImage_1),event.dataTransfer.setDragImage(dragImage_1,-10,-10),setTimeout(function(){return document.body.removeChild(dragImage_1)},0)}this.currentDragData=new ElementsDragAndDropData(elements),dnd.c.CurrentDragAndDropData=new ExternalElementsDragAndDropData(elements),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,event)}},ListView.prototype.onDragOver=function(event){var _this=this;if(event.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),dnd.c.CurrentDragAndDropData&&dnd.c.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(event.browserEvent),!event.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(dnd.c.CurrentDragAndDropData)this.currentDragData=dnd.c.CurrentDragAndDropData;else{if(!event.browserEvent.dataTransfer.types)return!1;this.currentDragData=new DesktopDragAndDropData}var result=this.dnd.onDragOver(this.currentDragData,event.element,event.index,event.browserEvent);if(this.canDrop=typeof result=="boolean"?result:result.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;event.browserEvent.dataTransfer.dropEffect=typeof result!="boolean"&&result.effect===0?"copy":"move";var feedback;if(typeof result!="boolean"&&result.feedback?feedback=result.feedback:typeof event.index>"u"?feedback=[-1]:feedback=[event.index],feedback=Object(arrays.e)(feedback).filter(function(i){return i>=-1&&i<_this.length}).sort(),feedback=feedback[0]===-1?[-1]:feedback,equalsDragFeedback(this.currentDragFeedback,feedback))return!0;if(this.currentDragFeedback=feedback,this.currentDragFeedbackDisposable.dispose(),feedback[0]===-1)dom.f(this.domNode,"drop-target"),dom.f(this.rowsContainer,"drop-target"),this.currentDragFeedbackDisposable=Object(lifecycle.h)(function(){dom.M(_this.domNode,"drop-target"),dom.M(_this.rowsContainer,"drop-target")});else{for(var _i=0,feedback_1=feedback;_i<feedback_1.length;_i++){var index=feedback_1[_i],item=this.items[index];item.dropTarget=!0,item.row&&item.row.domNode&&dom.f(item.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=Object(lifecycle.h)(function(){for(var _i2=0,feedback_2=feedback;_i2<feedback_2.length;_i2++){var index2=feedback_2[_i2],item2=_this.items[index2];item2.dropTarget=!1,item2.row&&item2.row.domNode&&dom.M(item2.row.domNode,"drop-target")}})}return!0},ListView.prototype.onDragLeave=function(){var _this=this;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Object(common_async.g)(function(){return _this.clearDragOverFeedback()},100)},ListView.prototype.onDrop=function(event){if(this.canDrop){var dragData=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,dnd.c.CurrentDragAndDropData=void 0,!(!dragData||!event.browserEvent.dataTransfer)&&(event.browserEvent.preventDefault(),dragData.update(event.browserEvent.dataTransfer),this.dnd.drop(dragData,event.element,event.index,event.browserEvent))}},ListView.prototype.onDragEnd=function(event){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,dnd.c.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(event)},ListView.prototype.clearDragOverFeedback=function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=lifecycle.a.None},ListView.prototype.setupDragAndDropScrollTopAnimation=function(event){var _this=this;if(!this.dragOverAnimationDisposable){var viewTop=dom.D(this.domNode).top;this.dragOverAnimationDisposable=dom.p(this.animateDragAndDropScrollTop.bind(this,viewTop))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Object(common_async.g)(function(){_this.dragOverAnimationDisposable&&(_this.dragOverAnimationDisposable.dispose(),_this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=event.pageY},ListView.prototype.animateDragAndDropScrollTop=function(viewTop){if(this.dragOverMouseY!==void 0){var diff=this.dragOverMouseY-viewTop,upperLimit=this.renderHeight-35;diff<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(diff-35))):diff>upperLimit&&(this.scrollTop+=Math.min(14,Math.floor(.3*(diff-upperLimit))))}},ListView.prototype.teardownDragAndDropScrollTopAnimation=function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},ListView.prototype.getItemIndexFromEventTarget=function(target){for(var element=target;element instanceof HTMLElement&&element!==this.rowsContainer;){var rawIndex=element.getAttribute("data-index");if(rawIndex){var index=Number(rawIndex);if(!isNaN(index))return index}element=element.parentElement}},ListView.prototype.getRenderRange=function(renderTop,renderHeight){return{start:this.rangeMap.indexAt(renderTop),end:this.rangeMap.indexAfter(renderTop+renderHeight-1)}},ListView.prototype._rerender=function(renderTop,renderHeight){var previousRenderRange=this.getRenderRange(renderTop,renderHeight),anchorElementIndex,anchorElementTopDelta;renderTop===this.elementTop(previousRenderRange.start)?(anchorElementIndex=previousRenderRange.start,anchorElementTopDelta=0):previousRenderRange.end-previousRenderRange.start>1&&(anchorElementIndex=previousRenderRange.start+1,anchorElementTopDelta=this.elementTop(anchorElementIndex)-renderTop);for(var heightDiff=0;;){for(var renderRange=this.getRenderRange(renderTop,renderHeight),didChange=!1,i=renderRange.start;i<renderRange.end;i++){var diff=this.probeDynamicHeight(i);diff!==0&&this.rangeMap.splice(i,1,[this.items[i]]),heightDiff+=diff,didChange=didChange||diff!==0}if(!didChange){heightDiff!==0&&this.eventuallyUpdateScrollDimensions();for(var unrenderRanges=common_range.a.relativeComplement(previousRenderRange,renderRange),_i=0,unrenderRanges_1=unrenderRanges;_i<unrenderRanges_1.length;_i++)for(var range=unrenderRanges_1[_i],i=range.start;i<range.end;i++)this.items[i].row&&this.removeItemFromDOM(i);for(var renderRanges=common_range.a.relativeComplement(renderRange,previousRenderRange),_a=0,renderRanges_1=renderRanges;_a<renderRanges_1.length;_a++)for(var range=renderRanges_1[_a],i=range.start;i<range.end;i++){var afterIndex=i+1,beforeRow=afterIndex<this.items.length?this.items[afterIndex].row:null,beforeElement=beforeRow?beforeRow.domNode:null;this.insertItemInDOM(i,beforeElement)}for(var i=renderRange.start;i<renderRange.end;i++)this.items[i].row&&this.updateItemInDOM(this.items[i],i);typeof anchorElementIndex=="number"&&(this.scrollTop=this.elementTop(anchorElementIndex)-anchorElementTopDelta),this._onDidChangeContentHeight.fire(this.contentHeight);return}}},ListView.prototype.probeDynamicHeight=function(index){var item=this.items[index];if(!item.hasDynamicHeight||item.lastDynamicHeightWidth===this.renderWidth)return 0;var size=item.size,row=this.cache.alloc(item.templateId);row.domNode.style.height="",this.rowsContainer.appendChild(row.domNode);var renderer=this.renderers.get(item.templateId);return renderer&&(renderer.renderElement(item.element,index,row.templateData,void 0),renderer.disposeElement&&renderer.disposeElement(item.element,index,row.templateData,void 0)),item.size=row.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(item.element,item.size),item.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(row.domNode),this.cache.release(row),item.size-size},ListView.prototype.getNextToLastElement=function(ranges){var lastRange=ranges[ranges.length-1];if(!lastRange)return null;var nextToLastItem=this.items[lastRange.end];return!nextToLastItem||!nextToLastItem.row?null:nextToLastItem.row.domNode},ListView.prototype.getElementDomId=function(index){return this.domId+"_"+index},ListView.prototype.dispose=function(){if(this.items){for(var _i=0,_a=this.items;_i<_a.length;_i++){var item=_a[_i];if(item.row){var renderer=this.renderers.get(item.row.templateId);renderer&&renderer.disposeTemplate(item.row.templateData)}}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Object(lifecycle.f)(this.disposables)},ListView.InstanceCount=0,__decorate([decorators.a],ListView.prototype,"onMouseClick",null),__decorate([decorators.a],ListView.prototype,"onMouseDblClick",null),__decorate([decorators.a],ListView.prototype,"onMouseMiddleClick",null),__decorate([decorators.a],ListView.prototype,"onMouseDown",null),__decorate([decorators.a],ListView.prototype,"onContextMenu",null),__decorate([decorators.a],ListView.prototype,"onTouchStart",null),__decorate([decorators.a],ListView.prototype,"onTap",null),ListView}()},3603:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return cursorTypeOperations_TypeOperations}),__webpack_require__.d(__webpack_exports__,"b",function(){return cursorTypeOperations_TypeWithAutoClosingCommand});var errors=__webpack_require__(2176),strings=__webpack_require__(2123),replaceCommand=__webpack_require__(3240),shiftCommand=__webpack_require__(3874),core_range=__webpack_require__(2056),core_selection=__webpack_require__(2629),surroundSelectionCommand_SurroundSelectionCommand=function(){function SurroundSelectionCommand(range,charBeforeSelection,charAfterSelection){this._range=range,this._charBeforeSelection=charBeforeSelection,this._charAfterSelection=charAfterSelection}return SurroundSelectionCommand.prototype.getEditOperations=function(model,builder){builder.addTrackedEditOperation(new core_range.a(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),builder.addTrackedEditOperation(new core_range.a(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},SurroundSelectionCommand.prototype.computeCursorState=function(model,helper){var inverseEditOperations=helper.getInverseEditOperations(),firstOperationRange=inverseEditOperations[0].range,secondOperationRange=inverseEditOperations[1].range;return new core_selection.a(firstOperationRange.endLineNumber,firstOperationRange.endColumn,secondOperationRange.endLineNumber,secondOperationRange.endColumn-this._charAfterSelection.length)},SurroundSelectionCommand}(),cursorCommon=__webpack_require__(2787),wordCharacterClassifier=__webpack_require__(3282),languageConfiguration=__webpack_require__(3284),languageConfigurationRegistry=__webpack_require__(2810),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),cursorTypeOperations_TypeOperations=function(){function TypeOperations(){}return TypeOperations.indent=function(config,model,selections){if(model===null||selections===null)return[];for(var commands=[],i=0,len=selections.length;i<len;i++)commands[i]=new shiftCommand.a(selections[i],{isUnshift:!1,tabSize:config.tabSize,indentSize:config.indentSize,insertSpaces:config.insertSpaces,useTabStops:config.useTabStops,autoIndent:config.autoIndent});return commands},TypeOperations.outdent=function(config,model,selections){for(var commands=[],i=0,len=selections.length;i<len;i++)commands[i]=new shiftCommand.a(selections[i],{isUnshift:!0,tabSize:config.tabSize,indentSize:config.indentSize,insertSpaces:config.insertSpaces,useTabStops:config.useTabStops,autoIndent:config.autoIndent});return commands},TypeOperations.shiftIndent=function(config,indentation,count){return count=count||1,shiftCommand.a.shiftIndent(indentation,indentation.length+count,config.tabSize,config.indentSize,config.insertSpaces)},TypeOperations.unshiftIndent=function(config,indentation,count){return count=count||1,shiftCommand.a.unshiftIndent(indentation,indentation.length+count,config.tabSize,config.indentSize,config.insertSpaces)},TypeOperations._distributedPaste=function(config,model,selections,text){for(var commands=[],i=0,len=selections.length;i<len;i++)commands[i]=new replaceCommand.a(selections[i],text[i]);return new cursorCommon.e(0,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},TypeOperations._simplePaste=function(config,model,selections,text,pasteOnNewLine){for(var commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i],position=selection.getPosition();if(pasteOnNewLine&&!selection.isEmpty()&&(pasteOnNewLine=!1),pasteOnNewLine&&text.indexOf(`
`)!==text.length-1&&(pasteOnNewLine=!1),pasteOnNewLine){var typeSelection=new core_range.a(position.lineNumber,1,position.lineNumber,1);commands[i]=new replaceCommand.b(typeSelection,text,selection)}else commands[i]=new replaceCommand.a(selection,text)}return new cursorCommon.e(0,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},TypeOperations._distributePasteToCursors=function(config,selections,text,pasteOnNewLine,multicursorText){if(pasteOnNewLine||selections.length===1)return null;if(multicursorText&&multicursorText.length===selections.length)return multicursorText;if(config.multiCursorPaste==="spread"){text.charCodeAt(text.length-1)===10&&(text=text.substr(0,text.length-1)),text.charCodeAt(text.length-1)===13&&(text=text.substr(0,text.length-1));var lines=text.split(/\r\n|\r|\n/);if(lines.length===selections.length)return lines}return null},TypeOperations.paste=function(config,model,selections,text,pasteOnNewLine,multicursorText){var distributedPaste=this._distributePasteToCursors(config,selections,text,pasteOnNewLine,multicursorText);return distributedPaste?(selections=selections.sort(core_range.a.compareRangesUsingStarts),this._distributedPaste(config,model,selections,distributedPaste)):this._simplePaste(config,model,selections,text,pasteOnNewLine)},TypeOperations._goodIndentForLine=function(config,model,lineNumber){var action=null,indentation="",expectedIndentAction=languageConfigurationRegistry.a.getInheritIndentForLine(config.autoIndent,model,lineNumber,!1);if(expectedIndentAction)action=expectedIndentAction.action,indentation=expectedIndentAction.indentation;else if(lineNumber>1){var lastLineNumber=void 0;for(lastLineNumber=lineNumber-1;lastLineNumber>=1;lastLineNumber--){var lineText=model.getLineContent(lastLineNumber),nonWhitespaceIdx=strings.E(lineText);if(nonWhitespaceIdx>=0)break}if(lastLineNumber<1)return null;var maxColumn=model.getLineMaxColumn(lastLineNumber),expectedEnterAction=languageConfigurationRegistry.a.getEnterAction(config.autoIndent,model,new core_range.a(lastLineNumber,maxColumn,lastLineNumber,maxColumn));expectedEnterAction&&(indentation=expectedEnterAction.indentation+expectedEnterAction.appendText)}return action&&(action===languageConfiguration.a.Indent&&(indentation=TypeOperations.shiftIndent(config,indentation)),action===languageConfiguration.a.Outdent&&(indentation=TypeOperations.unshiftIndent(config,indentation)),indentation=config.normalizeIndentation(indentation)),indentation||null},TypeOperations._replaceJumpToNextIndent=function(config,model,selection,insertsAutoWhitespace){var typeText="",position=selection.getStartPosition();if(config.insertSpaces)for(var visibleColumnFromColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,position),indentSize=config.indentSize,spacesCnt=indentSize-visibleColumnFromColumn%indentSize,i=0;i<spacesCnt;i++)typeText+=" ";else typeText="	";return new replaceCommand.a(selection,typeText,insertsAutoWhitespace)},TypeOperations.tab=function(config,model,selections){for(var commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i];if(selection.isEmpty()){var lineText=model.getLineContent(selection.startLineNumber);if(/^\s*$/.test(lineText)&&model.isCheapToTokenize(selection.startLineNumber)){var goodIndent=this._goodIndentForLine(config,model,selection.startLineNumber);goodIndent=goodIndent||"	";var possibleTypeText=config.normalizeIndentation(goodIndent);if(!strings.O(lineText,possibleTypeText)){commands[i]=new replaceCommand.a(new core_range.a(selection.startLineNumber,1,selection.startLineNumber,lineText.length+1),possibleTypeText,!0);continue}}commands[i]=this._replaceJumpToNextIndent(config,model,selection,!0)}else{if(selection.startLineNumber===selection.endLineNumber){var lineMaxColumn=model.getLineMaxColumn(selection.startLineNumber);if(selection.startColumn!==1||selection.endColumn!==lineMaxColumn){commands[i]=this._replaceJumpToNextIndent(config,model,selection,!1);continue}}commands[i]=new shiftCommand.a(selection,{isUnshift:!1,tabSize:config.tabSize,indentSize:config.indentSize,insertSpaces:config.insertSpaces,useTabStops:config.useTabStops,autoIndent:config.autoIndent})}}return commands},TypeOperations.replacePreviousChar=function(prevEditOperationType,config,model,selections,txt,replaceCharCnt){for(var commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i];if(!selection.isEmpty()){commands[i]=null;continue}var pos=selection.getPosition(),startColumn=Math.max(1,pos.column-replaceCharCnt),range=new core_range.a(pos.lineNumber,startColumn,pos.lineNumber,pos.column);commands[i]=new replaceCommand.a(range,txt)}return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:prevEditOperationType!==1,shouldPushStackElementAfter:!1})},TypeOperations._typeCommand=function(range,text,keepPosition){return keepPosition?new replaceCommand.e(range,text,!0):new replaceCommand.a(range,text,!0)},TypeOperations._enter=function(config,model,keepPosition,range){if(config.autoIndent===0)return TypeOperations._typeCommand(range,`
`,keepPosition);if(!model.isCheapToTokenize(range.getStartPosition().lineNumber)||config.autoIndent===1){var lineText_1=model.getLineContent(range.startLineNumber),indentation_1=strings.u(lineText_1).substring(0,range.startColumn-1);return TypeOperations._typeCommand(range,`
`+config.normalizeIndentation(indentation_1),keepPosition)}var r=languageConfigurationRegistry.a.getEnterAction(config.autoIndent,model,range);if(r){if(r.indentAction===languageConfiguration.a.None)return TypeOperations._typeCommand(range,`
`+config.normalizeIndentation(r.indentation+r.appendText),keepPosition);if(r.indentAction===languageConfiguration.a.Indent)return TypeOperations._typeCommand(range,`
`+config.normalizeIndentation(r.indentation+r.appendText),keepPosition);if(r.indentAction===languageConfiguration.a.IndentOutdent){var normalIndent=config.normalizeIndentation(r.indentation),increasedIndent=config.normalizeIndentation(r.indentation+r.appendText),typeText=`
`+increasedIndent+`
`+normalIndent;return keepPosition?new replaceCommand.e(range,typeText,!0):new replaceCommand.d(range,typeText,-1,increasedIndent.length-normalIndent.length,!0)}else if(r.indentAction===languageConfiguration.a.Outdent){var actualIndentation=TypeOperations.unshiftIndent(config,r.indentation);return TypeOperations._typeCommand(range,`
`+config.normalizeIndentation(actualIndentation+r.appendText),keepPosition)}}var lineText=model.getLineContent(range.startLineNumber),indentation=strings.u(lineText).substring(0,range.startColumn-1);if(config.autoIndent>=4){var ir=languageConfigurationRegistry.a.getIndentForEnter(config.autoIndent,model,range,{unshiftIndent:function(indent){return TypeOperations.unshiftIndent(config,indent)},shiftIndent:function(indent){return TypeOperations.shiftIndent(config,indent)},normalizeIndentation:function(indent){return config.normalizeIndentation(indent)}});if(ir){var oldEndViewColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,range.getEndPosition()),oldEndColumn=range.endColumn,beforeText=`
`;indentation!==config.normalizeIndentation(ir.beforeEnter)&&(beforeText=config.normalizeIndentation(ir.beforeEnter)+lineText.substring(indentation.length,range.startColumn-1)+`
`,range=new core_range.a(range.startLineNumber,1,range.endLineNumber,range.endColumn));var newLineContent=model.getLineContent(range.endLineNumber),firstNonWhitespace=strings.q(newLineContent);if(firstNonWhitespace>=0?range=range.setEndPosition(range.endLineNumber,Math.max(range.endColumn,firstNonWhitespace+1)):range=range.setEndPosition(range.endLineNumber,model.getLineMaxColumn(range.endLineNumber)),keepPosition)return new replaceCommand.e(range,beforeText+config.normalizeIndentation(ir.afterEnter),!0);var offset=0;return oldEndColumn<=firstNonWhitespace+1&&(config.insertSpaces||(oldEndViewColumn=Math.ceil(oldEndViewColumn/config.indentSize)),offset=Math.min(oldEndViewColumn+1-config.normalizeIndentation(ir.afterEnter).length-1,0)),new replaceCommand.d(range,beforeText+config.normalizeIndentation(ir.afterEnter),0,offset,!0)}}return TypeOperations._typeCommand(range,`
`+config.normalizeIndentation(indentation),keepPosition)},TypeOperations._isAutoIndentType=function(config,model,selections){if(config.autoIndent<4)return!1;for(var i=0,len=selections.length;i<len;i++)if(!model.isCheapToTokenize(selections[i].getEndPosition().lineNumber))return!1;return!0},TypeOperations._runAutoIndentType=function(config,model,range,ch){var currentIndentation=languageConfigurationRegistry.a.getIndentationAtPosition(model,range.startLineNumber,range.startColumn),actualIndentation=languageConfigurationRegistry.a.getIndentActionForType(config.autoIndent,model,range,ch,{shiftIndent:function(indentation){return TypeOperations.shiftIndent(config,indentation)},unshiftIndent:function(indentation){return TypeOperations.unshiftIndent(config,indentation)}});if(actualIndentation===null)return null;if(actualIndentation!==config.normalizeIndentation(currentIndentation)){var firstNonWhitespace=model.getLineFirstNonWhitespaceColumn(range.startLineNumber);return firstNonWhitespace===0?TypeOperations._typeCommand(new core_range.a(range.startLineNumber,0,range.endLineNumber,range.endColumn),config.normalizeIndentation(actualIndentation)+ch,!1):TypeOperations._typeCommand(new core_range.a(range.startLineNumber,0,range.endLineNumber,range.endColumn),config.normalizeIndentation(actualIndentation)+model.getLineContent(range.startLineNumber).substring(firstNonWhitespace-1,range.startColumn-1)+ch,!1)}return null},TypeOperations._isAutoClosingOvertype=function(config,model,selections,autoClosedCharacters,ch){if(config.autoClosingOvertype==="never"||!config.autoClosingPairsClose2.has(ch))return!1;for(var i=0,len=selections.length;i<len;i++){var selection=selections[i];if(!selection.isEmpty())return!1;var position=selection.getPosition(),lineText=model.getLineContent(position.lineNumber),afterCharacter=lineText.charAt(position.column-1);if(afterCharacter!==ch)return!1;var chIsQuote=Object(cursorCommon.g)(ch),beforeCharacter=position.column>2?lineText.charCodeAt(position.column-2):0;if(beforeCharacter===92&&chIsQuote)return!1;if(config.autoClosingOvertype==="auto"){for(var found=!1,j=0,lenJ=autoClosedCharacters.length;j<lenJ;j++){var autoClosedCharacter=autoClosedCharacters[j];if(position.lineNumber===autoClosedCharacter.startLineNumber&&position.column===autoClosedCharacter.startColumn){found=!0;break}}if(!found)return!1}}return!0},TypeOperations._runAutoClosingOvertype=function(prevEditOperationType,config,model,selections,ch){for(var commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i],position=selection.getPosition(),typeSelection=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column+1);commands[i]=new replaceCommand.a(typeSelection,ch)}return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:prevEditOperationType!==1,shouldPushStackElementAfter:!1})},TypeOperations._isBeforeClosingBrace=function(config,autoClosingPair,characterAfter){var otherAutoClosingPairs=config.autoClosingPairsClose2.get(characterAfter);if(!otherAutoClosingPairs)return!1;for(var thisBraceIsSymmetric=autoClosingPair.open===autoClosingPair.close,_i=0,otherAutoClosingPairs_1=otherAutoClosingPairs;_i<otherAutoClosingPairs_1.length;_i++){var otherAutoClosingPair=otherAutoClosingPairs_1[_i],otherBraceIsSymmetric=otherAutoClosingPair.open===otherAutoClosingPair.close;if(!(!thisBraceIsSymmetric&&otherBraceIsSymmetric))return!0}return!1},TypeOperations._findAutoClosingPairOpen=function(config,model,positions,ch){var autoClosingPairCandidates=config.autoClosingPairsOpen2.get(ch);if(!autoClosingPairCandidates)return null;for(var autoClosingPair=null,_i=0,autoClosingPairCandidates_1=autoClosingPairCandidates;_i<autoClosingPairCandidates_1.length;_i++){var autoClosingPairCandidate=autoClosingPairCandidates_1[_i];if(autoClosingPair===null||autoClosingPairCandidate.open.length>autoClosingPair.open.length){for(var candidateIsMatch=!0,_a=0,positions_1=positions;_a<positions_1.length;_a++){var position=positions_1[_a],relevantText=model.getValueInRange(new core_range.a(position.lineNumber,position.column-autoClosingPairCandidate.open.length+1,position.lineNumber,position.column));if(relevantText+ch!==autoClosingPairCandidate.open){candidateIsMatch=!1;break}}candidateIsMatch&&(autoClosingPair=autoClosingPairCandidate)}}return autoClosingPair},TypeOperations._isAutoClosingOpenCharType=function(config,model,selections,ch,insertOpenCharacter){var chIsQuote=Object(cursorCommon.g)(ch),autoCloseConfig=chIsQuote?config.autoClosingQuotes:config.autoClosingBrackets;if(autoCloseConfig==="never")return null;var autoClosingPair=this._findAutoClosingPairOpen(config,model,selections.map(function(s){return s.getPosition()}),ch);if(!autoClosingPair)return null;for(var shouldAutoCloseBefore=chIsQuote?config.shouldAutoCloseBefore.quote:config.shouldAutoCloseBefore.bracket,i=0,len=selections.length;i<len;i++){var selection=selections[i];if(!selection.isEmpty())return null;var position=selection.getPosition(),lineText=model.getLineContent(position.lineNumber);if(lineText.length>position.column-1){var characterAfter=lineText.charAt(position.column-1),isBeforeCloseBrace=TypeOperations._isBeforeClosingBrace(config,autoClosingPair,characterAfter);if(!isBeforeCloseBrace&&!shouldAutoCloseBefore(characterAfter))return null}if(!model.isCheapToTokenize(position.lineNumber))return null;if(autoClosingPair.open.length===1&&chIsQuote&&autoCloseConfig!=="always"){var wordSeparators=Object(wordCharacterClassifier.a)(config.wordSeparators);if(insertOpenCharacter&&position.column>1&&wordSeparators.get(lineText.charCodeAt(position.column-2))===0||!insertOpenCharacter&&position.column>2&&wordSeparators.get(lineText.charCodeAt(position.column-3))===0)return null}model.forceTokenization(position.lineNumber);var lineTokens=model.getLineTokens(position.lineNumber),shouldAutoClosePair=!1;try{shouldAutoClosePair=languageConfigurationRegistry.a.shouldAutoClosePair(autoClosingPair,lineTokens,insertOpenCharacter?position.column:position.column-1)}catch(e){Object(errors.e)(e)}if(!shouldAutoClosePair)return null}return autoClosingPair},TypeOperations._runAutoClosingOpenCharType=function(prevEditOperationType,config,model,selections,ch,insertOpenCharacter,autoClosingPair){for(var commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i];commands[i]=new cursorTypeOperations_TypeWithAutoClosingCommand(selection,ch,insertOpenCharacter,autoClosingPair.close)}return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},TypeOperations._shouldSurroundChar=function(config,ch){return Object(cursorCommon.g)(ch)?config.autoSurround==="quotes"||config.autoSurround==="languageDefined":config.autoSurround==="brackets"||config.autoSurround==="languageDefined"},TypeOperations._isSurroundSelectionType=function(config,model,selections,ch){if(!TypeOperations._shouldSurroundChar(config,ch)||!config.surroundingPairs.hasOwnProperty(ch))return!1;for(var isTypingAQuoteCharacter=Object(cursorCommon.g)(ch),i=0,len=selections.length;i<len;i++){var selection=selections[i];if(selection.isEmpty())return!1;for(var selectionContainsOnlyWhitespace=!0,lineNumber=selection.startLineNumber;lineNumber<=selection.endLineNumber;lineNumber++){var lineText=model.getLineContent(lineNumber),startIndex=lineNumber===selection.startLineNumber?selection.startColumn-1:0,endIndex=lineNumber===selection.endLineNumber?selection.endColumn-1:lineText.length,selectedText=lineText.substring(startIndex,endIndex);if(/[^ \t]/.test(selectedText)){selectionContainsOnlyWhitespace=!1;break}}if(selectionContainsOnlyWhitespace)return!1;if(isTypingAQuoteCharacter&&selection.startLineNumber===selection.endLineNumber&&selection.startColumn+1===selection.endColumn){var selectionText=model.getValueInRange(selection);if(Object(cursorCommon.g)(selectionText))return!1}}return!0},TypeOperations._runSurroundSelectionType=function(prevEditOperationType,config,model,selections,ch){for(var commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i],closeCharacter=config.surroundingPairs[ch];commands[i]=new surroundSelectionCommand_SurroundSelectionCommand(selection,ch,closeCharacter)}return new cursorCommon.e(0,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},TypeOperations._isTypeInterceptorElectricChar=function(config,model,selections){return!!(selections.length===1&&model.isCheapToTokenize(selections[0].getEndPosition().lineNumber))},TypeOperations._typeInterceptorElectricChar=function(prevEditOperationType,config,model,selection,ch){if(!config.electricChars.hasOwnProperty(ch)||!selection.isEmpty())return null;var position=selection.getPosition();model.forceTokenization(position.lineNumber);var lineTokens=model.getLineTokens(position.lineNumber),electricAction;try{electricAction=languageConfigurationRegistry.a.onElectricCharacter(ch,lineTokens,position.column)}catch(e){return Object(errors.e)(e),null}if(!electricAction)return null;if(electricAction.matchOpenBracket){var endColumn=(lineTokens.getLineContent()+ch).lastIndexOf(electricAction.matchOpenBracket)+1,match=model.findMatchingBracketUp(electricAction.matchOpenBracket,{lineNumber:position.lineNumber,column:endColumn});if(match){if(match.startLineNumber===position.lineNumber)return null;var matchLine=model.getLineContent(match.startLineNumber),matchLineIndentation=strings.u(matchLine),newIndentation=config.normalizeIndentation(matchLineIndentation),lineText=model.getLineContent(position.lineNumber),lineFirstNonBlankColumn=model.getLineFirstNonWhitespaceColumn(position.lineNumber)||position.column,prefix=lineText.substring(lineFirstNonBlankColumn-1,position.column-1),typeText=newIndentation+prefix+ch,typeSelection=new core_range.a(position.lineNumber,1,position.lineNumber,position.column),command=new replaceCommand.a(typeSelection,typeText);return new cursorCommon.e(1,[command],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},TypeOperations.compositionEndWithInterceptors=function(prevEditOperationType,config,model,selectionsWhenCompositionStarted,selections,autoClosedCharacters){if(!selectionsWhenCompositionStarted||core_selection.a.selectionsArrEqual(selectionsWhenCompositionStarted,selections))return null;for(var ch=null,_i=0,selections_1=selections;_i<selections_1.length;_i++){var selection=selections_1[_i];if(!selection.isEmpty())return null;var position=selection.getPosition(),currentChar=model.getValueInRange(new core_range.a(position.lineNumber,position.column-1,position.lineNumber,position.column));if(ch===null)ch=currentChar;else if(ch!==currentChar)return null}if(!ch)return null;if(this._isAutoClosingOvertype(config,model,selections,autoClosedCharacters,ch)){var commands=selections.map(function(s){return new replaceCommand.a(new core_range.a(s.positionLineNumber,s.positionColumn,s.positionLineNumber,s.positionColumn+1),"",!1)});return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var autoClosingPairOpenCharType=this._isAutoClosingOpenCharType(config,model,selections,ch,!1);return autoClosingPairOpenCharType?this._runAutoClosingOpenCharType(prevEditOperationType,config,model,selections,ch,!1,autoClosingPairOpenCharType):null},TypeOperations.typeWithInterceptors=function(prevEditOperationType,config,model,selections,autoClosedCharacters,ch){if(ch===`
`){for(var commands_1=[],i=0,len=selections.length;i<len;i++)commands_1[i]=TypeOperations._enter(config,model,!1,selections[i]);return new cursorCommon.e(1,commands_1,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoIndentType(config,model,selections)){for(var commands_2=[],autoIndentFails=!1,i=0,len=selections.length;i<len;i++)if(commands_2[i]=this._runAutoIndentType(config,model,selections[i],ch),!commands_2[i]){autoIndentFails=!0;break}if(!autoIndentFails)return new cursorCommon.e(1,commands_2,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(config,model,selections,autoClosedCharacters,ch))return this._runAutoClosingOvertype(prevEditOperationType,config,model,selections,ch);var autoClosingPairOpenCharType=this._isAutoClosingOpenCharType(config,model,selections,ch,!0);if(autoClosingPairOpenCharType)return this._runAutoClosingOpenCharType(prevEditOperationType,config,model,selections,ch,!0,autoClosingPairOpenCharType);if(this._isSurroundSelectionType(config,model,selections,ch))return this._runSurroundSelectionType(prevEditOperationType,config,model,selections,ch);if(this._isTypeInterceptorElectricChar(config,model,selections)){var r=this._typeInterceptorElectricChar(prevEditOperationType,config,model,selections[0],ch);if(r)return r}for(var commands=[],i=0,len=selections.length;i<len;i++)commands[i]=new replaceCommand.a(selections[i],ch);var shouldPushStackElementBefore=prevEditOperationType!==1;return ch===" "&&(shouldPushStackElementBefore=!0),new cursorCommon.e(1,commands,{shouldPushStackElementBefore,shouldPushStackElementAfter:!1})},TypeOperations.typeWithoutInterceptors=function(prevEditOperationType,config,model,selections,str){for(var commands=[],i=0,len=selections.length;i<len;i++)commands[i]=new replaceCommand.a(selections[i],str);return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:prevEditOperationType!==1,shouldPushStackElementAfter:!1})},TypeOperations.lineInsertBefore=function(config,model,selections){if(model===null||selections===null)return[];for(var commands=[],i=0,len=selections.length;i<len;i++){var lineNumber=selections[i].positionLineNumber;if(lineNumber===1)commands[i]=new replaceCommand.e(new core_range.a(1,1,1,1),`
`);else{lineNumber--;var column=model.getLineMaxColumn(lineNumber);commands[i]=this._enter(config,model,!1,new core_range.a(lineNumber,column,lineNumber,column))}}return commands},TypeOperations.lineInsertAfter=function(config,model,selections){if(model===null||selections===null)return[];for(var commands=[],i=0,len=selections.length;i<len;i++){var lineNumber=selections[i].positionLineNumber,column=model.getLineMaxColumn(lineNumber);commands[i]=this._enter(config,model,!1,new core_range.a(lineNumber,column,lineNumber,column))}return commands},TypeOperations.lineBreakInsert=function(config,model,selections){for(var commands=[],i=0,len=selections.length;i<len;i++)commands[i]=this._enter(config,model,!0,selections[i]);return commands},TypeOperations}(),cursorTypeOperations_TypeWithAutoClosingCommand=function(_super){__extends(TypeWithAutoClosingCommand,_super);function TypeWithAutoClosingCommand(selection,openCharacter,insertOpenCharacter,closeCharacter){var _this=_super.call(this,selection,(insertOpenCharacter?openCharacter:"")+closeCharacter,0,-closeCharacter.length)||this;return _this._openCharacter=openCharacter,_this._closeCharacter=closeCharacter,_this.closeCharacterRange=null,_this.enclosingRange=null,_this}return TypeWithAutoClosingCommand.prototype.computeCursorState=function(model,helper){var inverseEditOperations=helper.getInverseEditOperations(),range=inverseEditOperations[0].range;return this.closeCharacterRange=new core_range.a(range.startLineNumber,range.endColumn-this._closeCharacter.length,range.endLineNumber,range.endColumn),this.enclosingRange=new core_range.a(range.startLineNumber,range.endColumn-this._openCharacter.length-this._closeCharacter.length,range.endLineNumber,range.endColumn),_super.prototype.computeCursorState.call(this,model,helper)},TypeWithAutoClosingCommand}(replaceCommand.d)},3604:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return quickOpenModel_QuickOpenEntry}),__webpack_require__.d(__webpack_exports__,"b",function(){return QuickOpenEntryGroup}),__webpack_require__.d(__webpack_exports__,"c",function(){return quickOpenModel_QuickOpenModel});var nls=__webpack_require__(2069),types=__webpack_require__(2631),iconLabel=__webpack_require__(3507),actionbar=__webpack_require__(3239),highlightedLabel=__webpack_require__(3508),dom=__webpack_require__(2124),keybindingLabel=__webpack_require__(5781),objects=__webpack_require__(2734),keybindingLabels=__webpack_require__(3880),$=dom.a,keybindingLabel_KeybindingLabel=function(){function KeybindingLabel(container,os,options){this.os=os,this.options=options,this.domNode=dom.q(container,$(".monaco-keybinding")),this.didEverRender=!1,container.appendChild(this.domNode)}return KeybindingLabel.prototype.set=function(keybinding,matches){this.didEverRender&&this.keybinding===keybinding&&KeybindingLabel.areSame(this.matches,matches)||(this.keybinding=keybinding,this.matches=matches,this.render())},KeybindingLabel.prototype.render=function(){if(dom.t(this.domNode),this.keybinding){var _a=this.keybinding.getParts(),firstPart=_a[0],chordPart=_a[1];firstPart&&this.renderPart(this.domNode,firstPart,this.matches?this.matches.firstPart:null),chordPart&&(dom.q(this.domNode,$("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,chordPart,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0},KeybindingLabel.prototype.renderPart=function(parent,part,match){var _a,_b,_c,_d,_e,modifierLabels=keybindingLabels.b.modifierLabels[this.os];part.ctrlKey&&this.renderKey(parent,modifierLabels.ctrlKey,!!(!((_a=match)===null||_a===void 0)&&_a.ctrlKey),modifierLabels.separator),part.shiftKey&&this.renderKey(parent,modifierLabels.shiftKey,!!(!((_b=match)===null||_b===void 0)&&_b.shiftKey),modifierLabels.separator),part.altKey&&this.renderKey(parent,modifierLabels.altKey,!!(!((_c=match)===null||_c===void 0)&&_c.altKey),modifierLabels.separator),part.metaKey&&this.renderKey(parent,modifierLabels.metaKey,!!(!((_d=match)===null||_d===void 0)&&_d.metaKey),modifierLabels.separator);var keyLabel=part.keyLabel;keyLabel&&this.renderKey(parent,keyLabel,!!(!((_e=match)===null||_e===void 0)&&_e.keyCode),"")},KeybindingLabel.prototype.renderKey=function(parent,label,highlight,separator){dom.q(parent,$("span.monaco-keybinding-key"+(highlight?".highlight":""),void 0,label)),separator&&dom.q(parent,$("span.monaco-keybinding-key-separator",void 0,separator))},KeybindingLabel.prototype.renderUnbound=function(parent){dom.q(parent,$("span.monaco-keybinding-key",void 0,Object(nls.a)("unbound","Unbound")))},KeybindingLabel.areSame=function(a,b){return a===b||!a&&!b?!0:!!a&&!!b&&Object(objects.e)(a.firstPart,b.firstPart)&&Object(objects.e)(a.chordPart,b.chordPart)},KeybindingLabel}(),platform=__webpack_require__(2236),arrays=__webpack_require__(2389),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),IDS=0,quickOpenModel_QuickOpenEntry=function(){function QuickOpenEntry(highlights){highlights===void 0&&(highlights=[]),this.id=(IDS++).toString(),this.labelHighlights=highlights,this.descriptionHighlights=[]}return QuickOpenEntry.prototype.getId=function(){return this.id},QuickOpenEntry.prototype.getLabel=function(){},QuickOpenEntry.prototype.getLabelOptions=function(){},QuickOpenEntry.prototype.getAriaLabel=function(){return Object(arrays.d)([this.getLabel(),this.getDescription(),this.getDetail()]).join(", ")},QuickOpenEntry.prototype.getDetail=function(){},QuickOpenEntry.prototype.getIcon=function(){},QuickOpenEntry.prototype.getDescription=function(){},QuickOpenEntry.prototype.getTooltip=function(){},QuickOpenEntry.prototype.getDescriptionTooltip=function(){},QuickOpenEntry.prototype.getKeybinding=function(){},QuickOpenEntry.prototype.isHidden=function(){return!!this.hidden},QuickOpenEntry.prototype.setHighlights=function(labelHighlights,descriptionHighlights,detailHighlights){this.labelHighlights=labelHighlights,this.descriptionHighlights=descriptionHighlights,this.detailHighlights=detailHighlights},QuickOpenEntry.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},QuickOpenEntry.prototype.run=function(mode,context){return!1},QuickOpenEntry}(),QuickOpenEntryGroup=function(_super){__extends(QuickOpenEntryGroup2,_super);function QuickOpenEntryGroup2(entry,groupLabel,withBorder){var _this=_super.call(this)||this;return _this.entry=entry,_this.groupLabel=groupLabel,_this.withBorder=withBorder,_this}return QuickOpenEntryGroup2.prototype.getGroupLabel=function(){return this.groupLabel},QuickOpenEntryGroup2.prototype.setGroupLabel=function(groupLabel){this.groupLabel=groupLabel},QuickOpenEntryGroup2.prototype.showBorder=function(){return!!this.withBorder},QuickOpenEntryGroup2.prototype.setShowBorder=function(showBorder){this.withBorder=showBorder},QuickOpenEntryGroup2.prototype.getLabel=function(){return this.entry?this.entry.getLabel():_super.prototype.getLabel.call(this)},QuickOpenEntryGroup2.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():_super.prototype.getLabelOptions.call(this)},QuickOpenEntryGroup2.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():_super.prototype.getAriaLabel.call(this)},QuickOpenEntryGroup2.prototype.getDetail=function(){return this.entry?this.entry.getDetail():_super.prototype.getDetail.call(this)},QuickOpenEntryGroup2.prototype.getIcon=function(){return this.entry?this.entry.getIcon():_super.prototype.getIcon.call(this)},QuickOpenEntryGroup2.prototype.getDescription=function(){return this.entry?this.entry.getDescription():_super.prototype.getDescription.call(this)},QuickOpenEntryGroup2.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():_super.prototype.getHighlights.call(this)},QuickOpenEntryGroup2.prototype.isHidden=function(){return this.entry?this.entry.isHidden():_super.prototype.isHidden.call(this)},QuickOpenEntryGroup2.prototype.setHighlights=function(labelHighlights,descriptionHighlights,detailHighlights){this.entry?this.entry.setHighlights(labelHighlights,descriptionHighlights,detailHighlights):_super.prototype.setHighlights.call(this,labelHighlights,descriptionHighlights,detailHighlights)},QuickOpenEntryGroup2.prototype.run=function(mode,context){return this.entry?this.entry.run(mode,context):_super.prototype.run.call(this,mode,context)},QuickOpenEntryGroup2}(quickOpenModel_QuickOpenEntry),NoActionProvider=function(){function NoActionProvider2(){}return NoActionProvider2.prototype.hasActions=function(tree,element){return!1},NoActionProvider2.prototype.getActions=function(tree,element){return null},NoActionProvider2}(),templateEntry="quickOpenEntry",templateEntryGroup="quickOpenEntryGroup",quickOpenModel_Renderer=function(){function Renderer(actionProvider,actionRunner){actionProvider===void 0&&(actionProvider=new NoActionProvider),this.actionProvider=actionProvider,this.actionRunner=actionRunner}return Renderer.prototype.getHeight=function(entry){return entry.getDetail()?44:22},Renderer.prototype.getTemplateId=function(entry){return entry instanceof QuickOpenEntryGroup?templateEntryGroup:templateEntry},Renderer.prototype.renderTemplate=function(templateId,container,styles){var entryContainer=document.createElement("div");dom.f(entryContainer,"sub-content"),container.appendChild(entryContainer);var row1=dom.a(".quick-open-row"),row2=dom.a(".quick-open-row"),entry=dom.a(".quick-open-entry",void 0,row1,row2);entryContainer.appendChild(entry);var icon=document.createElement("span");row1.appendChild(icon);var label=new iconLabel.a(row1,{supportHighlights:!0,supportDescriptionHighlights:!0,supportCodicons:!0}),keybindingContainer=document.createElement("span");row1.appendChild(keybindingContainer),dom.f(keybindingContainer,"quick-open-entry-keybinding");var keybinding=new keybindingLabel_KeybindingLabel(keybindingContainer,platform.a),detailContainer=document.createElement("div");row2.appendChild(detailContainer),dom.f(detailContainer,"quick-open-entry-meta");var detail=new highlightedLabel.a(detailContainer,!0),group;templateId===templateEntryGroup&&(group=document.createElement("div"),dom.f(group,"results-group"),container.appendChild(group)),dom.f(container,"actions");var actionBarContainer=document.createElement("div");dom.f(actionBarContainer,"primary-action-bar"),container.appendChild(actionBarContainer);var actionBar=new actionbar.a(actionBarContainer,{actionRunner:this.actionRunner});return{container,entry,icon,label,detail,keybinding,group,actionBar}},Renderer.prototype.renderElement=function(entry,templateId,data,styles){this.actionProvider.hasActions(null,entry)?dom.f(data.container,"has-actions"):dom.M(data.container,"has-actions"),data.actionBar.context=entry;var actions=this.actionProvider.getActions(null,entry);if(data.actionBar.isEmpty()&&actions&&actions.length>0?data.actionBar.push(actions,{icon:!0,label:!1}):!data.actionBar.isEmpty()&&(!actions||actions.length===0)&&data.actionBar.clear(),entry instanceof QuickOpenEntryGroup&&entry.getGroupLabel()?dom.f(data.container,"has-group-label"):dom.M(data.container,"has-group-label"),entry instanceof QuickOpenEntryGroup){var group=entry,groupData=data;group.showBorder()?(dom.f(groupData.container,"results-group-separator"),styles.pickerGroupBorder&&(groupData.container.style.borderTopColor=styles.pickerGroupBorder.toString())):(dom.M(groupData.container,"results-group-separator"),groupData.container.style.borderTopColor="");var groupLabel=group.getGroupLabel()||"";groupData.group&&(groupData.group.textContent=groupLabel,styles.pickerGroupForeground&&(groupData.group.style.color=styles.pickerGroupForeground.toString()))}if(entry instanceof quickOpenModel_QuickOpenEntry){var _a=entry.getHighlights(),labelHighlights=_a[0],descriptionHighlights=_a[1],detailHighlights=_a[2],iconClass=entry.getIcon()?"quick-open-entry-icon "+entry.getIcon():"";data.icon.className=iconClass;var options=entry.getLabelOptions()||Object.create(null);options.matches=labelHighlights||[],options.title=entry.getTooltip(),options.descriptionTitle=entry.getDescriptionTooltip()||entry.getDescription(),options.descriptionMatches=descriptionHighlights||[],data.label.setLabel(entry.getLabel()||"",entry.getDescription(),options),data.detail.set(entry.getDetail(),detailHighlights),data.keybinding.set(entry.getKeybinding())}},Renderer.prototype.disposeTemplate=function(templateId,templateData){templateData.actionBar.dispose(),templateData.actionBar=null,templateData.container=null,templateData.entry=null,templateData.keybinding=null,templateData.detail=null,templateData.group=null,templateData.icon=null,templateData.label.dispose(),templateData.label=null},Renderer}(),quickOpenModel_QuickOpenModel=function(){function QuickOpenModel(entries,actionProvider){entries===void 0&&(entries=[]),actionProvider===void 0&&(actionProvider=new NoActionProvider),this._entries=entries,this._dataSource=this,this._renderer=new quickOpenModel_Renderer(actionProvider),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(QuickOpenModel.prototype,"entries",{get:function(){return this._entries},set:function(entries){this._entries=entries},enumerable:!0,configurable:!0}),Object.defineProperty(QuickOpenModel.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(QuickOpenModel.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(QuickOpenModel.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(QuickOpenModel.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(QuickOpenModel.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),QuickOpenModel.prototype.getId=function(entry){return entry.getId()},QuickOpenModel.prototype.getLabel=function(entry){return types.o(entry.getLabel())},QuickOpenModel.prototype.getAriaLabel=function(entry){var ariaLabel=entry.getAriaLabel();return ariaLabel?nls.a("quickOpenAriaLabelEntry","{0}, picker",entry.getAriaLabel()):nls.a("quickOpenAriaLabel","picker")},QuickOpenModel.prototype.isVisible=function(entry){return!entry.isHidden()},QuickOpenModel.prototype.run=function(entry,mode,context){return entry.run(mode,context)},QuickOpenModel}()},3605:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return inputBox_InputBox}),__webpack_require__.d(__webpack_exports__,"a",function(){return inputBox_HistoryInputBox});var inputBox=__webpack_require__(5758),nls=__webpack_require__(2069),browser=__webpack_require__(2642),dom=__webpack_require__(2124),formattedTextRenderer=__webpack_require__(3488),aria=__webpack_require__(2815),actionbar=__webpack_require__(3239),common_event=__webpack_require__(2106),widget=__webpack_require__(2816),color=__webpack_require__(2663),objects=__webpack_require__(2734),iterator=__webpack_require__(3110),history_HistoryNavigator=function(){function HistoryNavigator(history,limit){history===void 0&&(history=[]),limit===void 0&&(limit=10),this._initialize(history),this._limit=limit,this._onChange()}return HistoryNavigator.prototype.add=function(t){this._history.delete(t),this._history.add(t),this._onChange()},HistoryNavigator.prototype.next=function(){return this._navigator.next()},HistoryNavigator.prototype.previous=function(){return this._navigator.previous()},HistoryNavigator.prototype.current=function(){return this._navigator.current()},HistoryNavigator.prototype.parent=function(){return null},HistoryNavigator.prototype.first=function(){return this._navigator.first()},HistoryNavigator.prototype.last=function(){return this._navigator.last()},HistoryNavigator.prototype.has=function(t){return this._history.has(t)},HistoryNavigator.prototype._onChange=function(){this._reduceToLimit();var elements=this._elements;this._navigator=new iterator.b(elements,0,elements.length,elements.length)},HistoryNavigator.prototype._reduceToLimit=function(){var data=this._elements;data.length>this._limit&&this._initialize(data.slice(data.length-this._limit))},HistoryNavigator.prototype._initialize=function(history){this._history=new Set;for(var _i=0,history_1=history;_i<history_1.length;_i++){var entry=history_1[_i];this._history.add(entry)}},Object.defineProperty(HistoryNavigator.prototype,"_elements",{get:function(){var elements=[];return this._history.forEach(function(e){return elements.push(e)}),elements},enumerable:!0,configurable:!0}),HistoryNavigator}(),scrollableElement=__webpack_require__(3105),browser_event=__webpack_require__(2849),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),$=dom.a,defaultOpts={inputBackground:color.a.fromHex("#3C3C3C"),inputForeground:color.a.fromHex("#CCCCCC"),inputValidationInfoBorder:color.a.fromHex("#55AAFF"),inputValidationInfoBackground:color.a.fromHex("#063B49"),inputValidationWarningBorder:color.a.fromHex("#B89500"),inputValidationWarningBackground:color.a.fromHex("#352A05"),inputValidationErrorBorder:color.a.fromHex("#BE1100"),inputValidationErrorBackground:color.a.fromHex("#5A1D1D")},inputBox_InputBox=function(_super){__extends(InputBox,_super);function InputBox(container,contextViewProvider,options){var _this=_super.call(this)||this;_this.state="idle",_this.maxHeight=Number.POSITIVE_INFINITY,_this._onDidChange=_this._register(new common_event.a),_this.onDidChange=_this._onDidChange.event,_this._onDidHeightChange=_this._register(new common_event.a),_this.onDidHeightChange=_this._onDidHeightChange.event,_this.contextViewProvider=contextViewProvider,_this.options=options||Object.create(null),Object(objects.g)(_this.options,defaultOpts,!1),_this.message=null,_this.placeholder=_this.options.placeholder||"",_this.ariaLabel=_this.options.ariaLabel||"",_this.inputBackground=_this.options.inputBackground,_this.inputForeground=_this.options.inputForeground,_this.inputBorder=_this.options.inputBorder,_this.inputValidationInfoBorder=_this.options.inputValidationInfoBorder,_this.inputValidationInfoBackground=_this.options.inputValidationInfoBackground,_this.inputValidationInfoForeground=_this.options.inputValidationInfoForeground,_this.inputValidationWarningBorder=_this.options.inputValidationWarningBorder,_this.inputValidationWarningBackground=_this.options.inputValidationWarningBackground,_this.inputValidationWarningForeground=_this.options.inputValidationWarningForeground,_this.inputValidationErrorBorder=_this.options.inputValidationErrorBorder,_this.inputValidationErrorBackground=_this.options.inputValidationErrorBackground,_this.inputValidationErrorForeground=_this.options.inputValidationErrorForeground,_this.options.validationOptions&&(_this.validation=_this.options.validationOptions.validation),_this.element=dom.q(container,$(".monaco-inputbox.idle"));var tagName=_this.options.flexibleHeight?"textarea":"input",wrapper=dom.q(_this.element,$(".wrapper"));if(_this.input=dom.q(wrapper,$(tagName+".input.empty")),_this.input.setAttribute("autocorrect","off"),_this.input.setAttribute("autocapitalize","off"),_this.input.setAttribute("spellcheck","false"),_this.onfocus(_this.input,function(){return dom.f(_this.element,"synthetic-focus")}),_this.onblur(_this.input,function(){return dom.M(_this.element,"synthetic-focus")}),_this.options.flexibleHeight){_this.maxHeight=typeof _this.options.flexibleMaxHeight=="number"?_this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,_this.mirror=dom.q(wrapper,$("div.mirror")),_this.mirror.innerHTML="&#160;",_this.scrollableElement=new scrollableElement.b(_this.element,{vertical:1}),_this.options.flexibleWidth&&(_this.input.setAttribute("wrap","off"),_this.mirror.style.whiteSpace="pre",_this.mirror.style.wordWrap="initial"),dom.q(container,_this.scrollableElement.getDomNode()),_this._register(_this.scrollableElement),_this._register(_this.scrollableElement.onScroll(function(e){return _this.input.scrollTop=e.scrollTop}));var onSelectionChange=common_event.b.filter(Object(browser_event.a)(document,"selectionchange"),function(){var _a,selection=document.getSelection();return((_a=selection)===null||_a===void 0?void 0:_a.anchorNode)===wrapper});_this._register(onSelectionChange(_this.updateScrollDimensions,_this)),_this._register(_this.onDidHeightChange(_this.updateScrollDimensions,_this))}else _this.input.type=_this.options.type||"text",_this.input.setAttribute("wrap","off");return _this.ariaLabel&&_this.input.setAttribute("aria-label",_this.ariaLabel),_this.placeholder&&_this.setPlaceHolder(_this.placeholder),_this.oninput(_this.input,function(){return _this.onValueChange()}),_this.onblur(_this.input,function(){return _this.onBlur()}),_this.onfocus(_this.input,function(){return _this.onFocus()}),_this.placeholder&&browser.i&&_this.onclick(_this.input,function(e){dom.c.stop(e,!0),_this.input.focus()}),_this.ignoreGesture(_this.input),setTimeout(function(){return _this.updateMirror()},0),_this.options.actions&&(_this.actionbar=_this._register(new actionbar.a(_this.element)),_this.actionbar.push(_this.options.actions,{icon:!0,label:!1})),_this.applyStyles(),_this}return InputBox.prototype.onBlur=function(){this._hideMessage()},InputBox.prototype.onFocus=function(){this._showMessage()},InputBox.prototype.setPlaceHolder=function(placeHolder){this.placeholder=placeHolder,this.input.setAttribute("placeholder",placeHolder),this.input.title=placeHolder},InputBox.prototype.setAriaLabel=function(label){this.ariaLabel=label,label?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")},Object.defineProperty(InputBox.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(InputBox.prototype,"value",{get:function(){return this.input.value},set:function(newValue){this.input.value!==newValue&&(this.input.value=newValue,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(InputBox.prototype,"height",{get:function(){return typeof this.cachedHeight=="number"?this.cachedHeight:dom.E(this.element)},enumerable:!0,configurable:!0}),InputBox.prototype.focus=function(){this.input.focus()},InputBox.prototype.blur=function(){this.input.blur()},InputBox.prototype.hasFocus=function(){return document.activeElement===this.input},InputBox.prototype.select=function(range){range===void 0&&(range=null),this.input.select(),range&&this.input.setSelectionRange(range.start,range.end)},InputBox.prototype.enable=function(){this.input.removeAttribute("disabled")},InputBox.prototype.disable=function(){this.blur(),this.input.disabled=!0,this._hideMessage()},Object.defineProperty(InputBox.prototype,"width",{get:function(){return dom.F(this.input)},set:function(width){if(this.options.flexibleHeight&&this.options.flexibleWidth){var horizontalPadding=0;if(this.mirror){var paddingLeft=parseFloat(this.mirror.style.paddingLeft||"")||0,paddingRight=parseFloat(this.mirror.style.paddingRight||"")||0;horizontalPadding=paddingLeft+paddingRight}this.input.style.width=width-horizontalPadding+"px"}else this.input.style.width=width+"px";this.mirror&&(this.mirror.style.width=width+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(InputBox.prototype,"paddingRight",{set:function(paddingRight){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width="calc(100% - "+paddingRight+"px)":this.input.style.paddingRight=paddingRight+"px",this.mirror&&(this.mirror.style.paddingRight=paddingRight+"px")},enumerable:!0,configurable:!0}),InputBox.prototype.updateScrollDimensions=function(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)){var scrollHeight=this.cachedContentHeight,height=this.cachedHeight,scrollTop=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight,height}),this.scrollableElement.setScrollPosition({scrollTop})}},InputBox.prototype.showMessage=function(message,force){this.message=message,dom.M(this.element,"idle"),dom.M(this.element,"info"),dom.M(this.element,"warning"),dom.M(this.element,"error"),dom.f(this.element,this.classForType(message.type));var styles=this.stylesForType(this.message.type);this.element.style.border=styles.border?"1px solid "+styles.border:"";var alertText;message.type===3?alertText=nls.a("alertErrorMessage","Error: {0}",message.content):message.type===2?alertText=nls.a("alertWarningMessage","Warning: {0}",message.content):alertText=nls.a("alertInfoMessage","Info: {0}",message.content),aria.a(alertText),(this.hasFocus()||force)&&this._showMessage()},InputBox.prototype.hideMessage=function(){this.message=null,dom.M(this.element,"info"),dom.M(this.element,"warning"),dom.M(this.element,"error"),dom.f(this.element,"idle"),this._hideMessage(),this.applyStyles()},InputBox.prototype.validate=function(){var errorMsg=null;return this.validation&&(errorMsg=this.validation(this.value),errorMsg?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(errorMsg)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!errorMsg},InputBox.prototype.stylesForType=function(type){switch(type){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}},InputBox.prototype.classForType=function(type){switch(type){case 1:return"info";case 2:return"warning";default:return"error"}},InputBox.prototype._showMessage=function(){var _this=this;if(!(!this.contextViewProvider||!this.message)){var div,layout=function(){return div.style.width=dom.F(_this.element)+"px"};this.contextViewProvider.showContextView({getAnchor:function(){return _this.element},anchorAlignment:1,render:function(container){if(!_this.message)return null;div=dom.q(container,$(".monaco-inputbox-container")),layout();var renderOptions={inline:!0,className:"monaco-inputbox-message"},spanElement=_this.message.formatContent?Object(formattedTextRenderer.b)(_this.message.content,renderOptions):Object(formattedTextRenderer.c)(_this.message.content,renderOptions);dom.f(spanElement,_this.classForType(_this.message.type));var styles=_this.stylesForType(_this.message.type);return spanElement.style.backgroundColor=styles.background?styles.background.toString():"",spanElement.style.color=styles.foreground?styles.foreground.toString():null,spanElement.style.border=styles.border?"1px solid "+styles.border:"",dom.q(div,spanElement),null},onHide:function(){_this.state="closed"},layout}),this.state="open"}},InputBox.prototype._hideMessage=function(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")},InputBox.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),dom.V(this.input,"empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()},InputBox.prototype.updateMirror=function(){if(this.mirror){var value=this.value,lastCharCode=value.charCodeAt(value.length-1),suffix=lastCharCode===10?" ":"",mirrorTextContent=value+suffix;mirrorTextContent?this.mirror.textContent=value+suffix:this.mirror.innerHTML="&#160;",this.layout()}},InputBox.prototype.style=function(styles){this.inputBackground=styles.inputBackground,this.inputForeground=styles.inputForeground,this.inputBorder=styles.inputBorder,this.inputValidationInfoBackground=styles.inputValidationInfoBackground,this.inputValidationInfoForeground=styles.inputValidationInfoForeground,this.inputValidationInfoBorder=styles.inputValidationInfoBorder,this.inputValidationWarningBackground=styles.inputValidationWarningBackground,this.inputValidationWarningForeground=styles.inputValidationWarningForeground,this.inputValidationWarningBorder=styles.inputValidationWarningBorder,this.inputValidationErrorBackground=styles.inputValidationErrorBackground,this.inputValidationErrorForeground=styles.inputValidationErrorForeground,this.inputValidationErrorBorder=styles.inputValidationErrorBorder,this.applyStyles()},InputBox.prototype.applyStyles=function(){var background=this.inputBackground?this.inputBackground.toString():"",foreground=this.inputForeground?this.inputForeground.toString():"",border=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=background,this.element.style.color=foreground,this.input.style.backgroundColor=background,this.input.style.color=foreground,this.element.style.borderWidth=border?"1px":"",this.element.style.borderStyle=border?"solid":"",this.element.style.borderColor=border},InputBox.prototype.layout=function(){if(this.mirror){var previousHeight=this.cachedContentHeight;this.cachedContentHeight=dom.E(this.mirror),previousHeight!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}},InputBox.prototype.insertAtCursor=function(text){var inputElement=this.inputElement,start=inputElement.selectionStart,end=inputElement.selectionEnd,content=inputElement.value;start!==null&&end!==null&&(this.value=content.substr(0,start)+text+content.substr(end),inputElement.setSelectionRange(start+1,start+1),this.layout())},InputBox.prototype.dispose=function(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),_super.prototype.dispose.call(this)},InputBox}(widget.a),inputBox_HistoryInputBox=function(_super){__extends(HistoryInputBox,_super);function HistoryInputBox(container,contextViewProvider,options){var _this=_super.call(this,container,contextViewProvider,options)||this;return _this.history=new history_HistoryNavigator(options.history,100),_this}return HistoryInputBox.prototype.addToHistory=function(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)},HistoryInputBox.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var next=this.getNextValue();next&&(next=next===this.value?this.getNextValue():next),next&&(this.value=next,aria.c(this.value))},HistoryInputBox.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var previous=this.getPreviousValue();previous&&(previous=previous===this.value?this.getPreviousValue():previous),previous&&(this.value=previous,aria.c(this.value))},HistoryInputBox.prototype.getCurrentValue=function(){var currentValue=this.history.current();return currentValue||(currentValue=this.history.last(),this.history.next()),currentValue},HistoryInputBox.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()},HistoryInputBox.prototype.getNextValue=function(){return this.history.next()||this.history.last()},HistoryInputBox}(inputBox_InputBox)},3606:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return stringDiff}),__webpack_require__.d(__webpack_exports__,"a",function(){return diff_LcsDiff});var DiffChange=function(){function DiffChange2(originalStart,originalLength,modifiedStart,modifiedLength){this.originalStart=originalStart,this.originalLength=originalLength,this.modifiedStart=modifiedStart,this.modifiedLength=modifiedLength}return DiffChange2.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},DiffChange2.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},DiffChange2}(),hash=__webpack_require__(3498),StringDiffSequence=function(){function StringDiffSequence2(source){this.source=source}return StringDiffSequence2.prototype.getElements=function(){for(var source=this.source,characters=new Int32Array(source.length),i=0,len=source.length;i<len;i++)characters[i]=source.charCodeAt(i);return characters},StringDiffSequence2}();function stringDiff(original,modified,pretty){return new diff_LcsDiff(new StringDiffSequence(original),new StringDiffSequence(modified)).ComputeDiff(pretty).changes}var Debug=function(){function Debug2(){}return Debug2.Assert=function(condition,message){if(!condition)throw new Error(message)},Debug2}(),MyArray=function(){function MyArray2(){}return MyArray2.Copy=function(sourceArray,sourceIndex,destinationArray,destinationIndex,length){for(var i=0;i<length;i++)destinationArray[destinationIndex+i]=sourceArray[sourceIndex+i]},MyArray2.Copy2=function(sourceArray,sourceIndex,destinationArray,destinationIndex,length){for(var i=0;i<length;i++)destinationArray[destinationIndex+i]=sourceArray[sourceIndex+i]},MyArray2}(),diff_DiffChangeHelper=function(){function DiffChangeHelper(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}return DiffChangeHelper.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824},DiffChangeHelper.prototype.AddOriginalElement=function(originalIndex,modifiedIndex){this.m_originalStart=Math.min(this.m_originalStart,originalIndex),this.m_modifiedStart=Math.min(this.m_modifiedStart,modifiedIndex),this.m_originalCount++},DiffChangeHelper.prototype.AddModifiedElement=function(originalIndex,modifiedIndex){this.m_originalStart=Math.min(this.m_originalStart,originalIndex),this.m_modifiedStart=Math.min(this.m_modifiedStart,modifiedIndex),this.m_modifiedCount++},DiffChangeHelper.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},DiffChangeHelper.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},DiffChangeHelper}(),diff_LcsDiff=function(){function LcsDiff(originalSequence,modifiedSequence,continueProcessingPredicate){continueProcessingPredicate===void 0&&(continueProcessingPredicate=null),this.ContinueProcessingPredicate=continueProcessingPredicate;var _a=LcsDiff._getElements(originalSequence),originalStringElements=_a[0],originalElementsOrHash=_a[1],originalHasStrings=_a[2],_b=LcsDiff._getElements(modifiedSequence),modifiedStringElements=_b[0],modifiedElementsOrHash=_b[1],modifiedHasStrings=_b[2];this._hasStrings=originalHasStrings&&modifiedHasStrings,this._originalStringElements=originalStringElements,this._originalElementsOrHash=originalElementsOrHash,this._modifiedStringElements=modifiedStringElements,this._modifiedElementsOrHash=modifiedElementsOrHash,this.m_forwardHistory=[],this.m_reverseHistory=[]}return LcsDiff._isStringArray=function(arr){return arr.length>0&&typeof arr[0]=="string"},LcsDiff._getElements=function(sequence){var elements=sequence.getElements();if(LcsDiff._isStringArray(elements)){for(var hashes=new Int32Array(elements.length),i=0,len=elements.length;i<len;i++)hashes[i]=Object(hash.b)(elements[i],0);return[elements,hashes,!0]}return elements instanceof Int32Array?[[],elements,!1]:[[],new Int32Array(elements),!1]},LcsDiff.prototype.ElementsAreEqual=function(originalIndex,newIndex){return this._originalElementsOrHash[originalIndex]!==this._modifiedElementsOrHash[newIndex]?!1:this._hasStrings?this._originalStringElements[originalIndex]===this._modifiedStringElements[newIndex]:!0},LcsDiff.prototype.OriginalElementsAreEqual=function(index1,index2){return this._originalElementsOrHash[index1]!==this._originalElementsOrHash[index2]?!1:this._hasStrings?this._originalStringElements[index1]===this._originalStringElements[index2]:!0},LcsDiff.prototype.ModifiedElementsAreEqual=function(index1,index2){return this._modifiedElementsOrHash[index1]!==this._modifiedElementsOrHash[index2]?!1:this._hasStrings?this._modifiedStringElements[index1]===this._modifiedStringElements[index2]:!0},LcsDiff.prototype.ComputeDiff=function(pretty){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,pretty)},LcsDiff.prototype._ComputeDiff=function(originalStart,originalEnd,modifiedStart,modifiedEnd,pretty){var quitEarlyArr=[!1],changes=this.ComputeDiffRecursive(originalStart,originalEnd,modifiedStart,modifiedEnd,quitEarlyArr);return pretty&&(changes=this.PrettifyChanges(changes)),{quitEarly:quitEarlyArr[0],changes}},LcsDiff.prototype.ComputeDiffRecursive=function(originalStart,originalEnd,modifiedStart,modifiedEnd,quitEarlyArr){for(quitEarlyArr[0]=!1;originalStart<=originalEnd&&modifiedStart<=modifiedEnd&&this.ElementsAreEqual(originalStart,modifiedStart);)originalStart++,modifiedStart++;for(;originalEnd>=originalStart&&modifiedEnd>=modifiedStart&&this.ElementsAreEqual(originalEnd,modifiedEnd);)originalEnd--,modifiedEnd--;if(originalStart>originalEnd||modifiedStart>modifiedEnd){var changes=void 0;return modifiedStart<=modifiedEnd?(Debug.Assert(originalStart===originalEnd+1,"originalStart should only be one more than originalEnd"),changes=[new DiffChange(originalStart,0,modifiedStart,modifiedEnd-modifiedStart+1)]):originalStart<=originalEnd?(Debug.Assert(modifiedStart===modifiedEnd+1,"modifiedStart should only be one more than modifiedEnd"),changes=[new DiffChange(originalStart,originalEnd-originalStart+1,modifiedStart,0)]):(Debug.Assert(originalStart===originalEnd+1,"originalStart should only be one more than originalEnd"),Debug.Assert(modifiedStart===modifiedEnd+1,"modifiedStart should only be one more than modifiedEnd"),changes=[]),changes}var midOriginalArr=[0],midModifiedArr=[0],result=this.ComputeRecursionPoint(originalStart,originalEnd,modifiedStart,modifiedEnd,midOriginalArr,midModifiedArr,quitEarlyArr),midOriginal=midOriginalArr[0],midModified=midModifiedArr[0];if(result!==null)return result;if(!quitEarlyArr[0]){var leftChanges=this.ComputeDiffRecursive(originalStart,midOriginal,modifiedStart,midModified,quitEarlyArr),rightChanges=[];return quitEarlyArr[0]?rightChanges=[new DiffChange(midOriginal+1,originalEnd-(midOriginal+1)+1,midModified+1,modifiedEnd-(midModified+1)+1)]:rightChanges=this.ComputeDiffRecursive(midOriginal+1,originalEnd,midModified+1,modifiedEnd,quitEarlyArr),this.ConcatenateChanges(leftChanges,rightChanges)}return[new DiffChange(originalStart,originalEnd-originalStart+1,modifiedStart,modifiedEnd-modifiedStart+1)]},LcsDiff.prototype.WALKTRACE=function(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr){var forwardChanges=null,reverseChanges=null,changeHelper=new diff_DiffChangeHelper,diagonalMin=diagonalForwardStart,diagonalMax=diagonalForwardEnd,diagonalRelative=midOriginalArr[0]-midModifiedArr[0]-diagonalForwardOffset,lastOriginalIndex=-1073741824,historyIndex=this.m_forwardHistory.length-1;do{var diagonal=diagonalRelative+diagonalForwardBase;diagonal===diagonalMin||diagonal<diagonalMax&&forwardPoints[diagonal-1]<forwardPoints[diagonal+1]?(originalIndex=forwardPoints[diagonal+1],modifiedIndex=originalIndex-diagonalRelative-diagonalForwardOffset,originalIndex<lastOriginalIndex&&changeHelper.MarkNextChange(),lastOriginalIndex=originalIndex,changeHelper.AddModifiedElement(originalIndex+1,modifiedIndex),diagonalRelative=diagonal+1-diagonalForwardBase):(originalIndex=forwardPoints[diagonal-1]+1,modifiedIndex=originalIndex-diagonalRelative-diagonalForwardOffset,originalIndex<lastOriginalIndex&&changeHelper.MarkNextChange(),lastOriginalIndex=originalIndex-1,changeHelper.AddOriginalElement(originalIndex,modifiedIndex+1),diagonalRelative=diagonal-1-diagonalForwardBase),historyIndex>=0&&(forwardPoints=this.m_forwardHistory[historyIndex],diagonalForwardBase=forwardPoints[0],diagonalMin=1,diagonalMax=forwardPoints.length-1)}while(--historyIndex>=-1);if(forwardChanges=changeHelper.getReverseChanges(),quitEarlyArr[0]){var originalStartPoint=midOriginalArr[0]+1,modifiedStartPoint=midModifiedArr[0]+1;if(forwardChanges!==null&&forwardChanges.length>0){var lastForwardChange=forwardChanges[forwardChanges.length-1];originalStartPoint=Math.max(originalStartPoint,lastForwardChange.getOriginalEnd()),modifiedStartPoint=Math.max(modifiedStartPoint,lastForwardChange.getModifiedEnd())}reverseChanges=[new DiffChange(originalStartPoint,originalEnd-originalStartPoint+1,modifiedStartPoint,modifiedEnd-modifiedStartPoint+1)]}else{changeHelper=new diff_DiffChangeHelper,diagonalMin=diagonalReverseStart,diagonalMax=diagonalReverseEnd,diagonalRelative=midOriginalArr[0]-midModifiedArr[0]-diagonalReverseOffset,lastOriginalIndex=1073741824,historyIndex=deltaIsEven?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{var diagonal=diagonalRelative+diagonalReverseBase;diagonal===diagonalMin||diagonal<diagonalMax&&reversePoints[diagonal-1]>=reversePoints[diagonal+1]?(originalIndex=reversePoints[diagonal+1]-1,modifiedIndex=originalIndex-diagonalRelative-diagonalReverseOffset,originalIndex>lastOriginalIndex&&changeHelper.MarkNextChange(),lastOriginalIndex=originalIndex+1,changeHelper.AddOriginalElement(originalIndex+1,modifiedIndex+1),diagonalRelative=diagonal+1-diagonalReverseBase):(originalIndex=reversePoints[diagonal-1],modifiedIndex=originalIndex-diagonalRelative-diagonalReverseOffset,originalIndex>lastOriginalIndex&&changeHelper.MarkNextChange(),lastOriginalIndex=originalIndex,changeHelper.AddModifiedElement(originalIndex+1,modifiedIndex+1),diagonalRelative=diagonal-1-diagonalReverseBase),historyIndex>=0&&(reversePoints=this.m_reverseHistory[historyIndex],diagonalReverseBase=reversePoints[0],diagonalMin=1,diagonalMax=reversePoints.length-1)}while(--historyIndex>=-1);reverseChanges=changeHelper.getChanges()}return this.ConcatenateChanges(forwardChanges,reverseChanges)},LcsDiff.prototype.ComputeRecursionPoint=function(originalStart,originalEnd,modifiedStart,modifiedEnd,midOriginalArr,midModifiedArr,quitEarlyArr){var originalIndex=0,modifiedIndex=0,diagonalForwardStart=0,diagonalForwardEnd=0,diagonalReverseStart=0,diagonalReverseEnd=0;originalStart--,modifiedStart--,midOriginalArr[0]=0,midModifiedArr[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var maxDifferences=originalEnd-originalStart+(modifiedEnd-modifiedStart),numDiagonals=maxDifferences+1,forwardPoints=new Int32Array(numDiagonals),reversePoints=new Int32Array(numDiagonals),diagonalForwardBase=modifiedEnd-modifiedStart,diagonalReverseBase=originalEnd-originalStart,diagonalForwardOffset=originalStart-modifiedStart,diagonalReverseOffset=originalEnd-modifiedEnd,delta=diagonalReverseBase-diagonalForwardBase,deltaIsEven=delta%2===0;forwardPoints[diagonalForwardBase]=originalStart,reversePoints[diagonalReverseBase]=originalEnd,quitEarlyArr[0]=!1;for(var numDifferences=1;numDifferences<=maxDifferences/2+1;numDifferences++){var furthestOriginalIndex=0,furthestModifiedIndex=0;diagonalForwardStart=this.ClipDiagonalBound(diagonalForwardBase-numDifferences,numDifferences,diagonalForwardBase,numDiagonals),diagonalForwardEnd=this.ClipDiagonalBound(diagonalForwardBase+numDifferences,numDifferences,diagonalForwardBase,numDiagonals);for(var diagonal=diagonalForwardStart;diagonal<=diagonalForwardEnd;diagonal+=2){diagonal===diagonalForwardStart||diagonal<diagonalForwardEnd&&forwardPoints[diagonal-1]<forwardPoints[diagonal+1]?originalIndex=forwardPoints[diagonal+1]:originalIndex=forwardPoints[diagonal-1]+1,modifiedIndex=originalIndex-(diagonal-diagonalForwardBase)-diagonalForwardOffset;for(var tempOriginalIndex=originalIndex;originalIndex<originalEnd&&modifiedIndex<modifiedEnd&&this.ElementsAreEqual(originalIndex+1,modifiedIndex+1);)originalIndex++,modifiedIndex++;if(forwardPoints[diagonal]=originalIndex,originalIndex+modifiedIndex>furthestOriginalIndex+furthestModifiedIndex&&(furthestOriginalIndex=originalIndex,furthestModifiedIndex=modifiedIndex),!deltaIsEven&&Math.abs(diagonal-diagonalReverseBase)<=numDifferences-1&&originalIndex>=reversePoints[diagonal])return midOriginalArr[0]=originalIndex,midModifiedArr[0]=modifiedIndex,tempOriginalIndex<=reversePoints[diagonal]&&1447>0&&numDifferences<=1447+1?this.WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr):null}var matchLengthOfLongest=(furthestOriginalIndex-originalStart+(furthestModifiedIndex-modifiedStart)-numDifferences)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(furthestOriginalIndex,matchLengthOfLongest))return quitEarlyArr[0]=!0,midOriginalArr[0]=furthestOriginalIndex,midModifiedArr[0]=furthestModifiedIndex,matchLengthOfLongest>0&&1447>0&&numDifferences<=1447+1?this.WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr):(originalStart++,modifiedStart++,[new DiffChange(originalStart,originalEnd-originalStart+1,modifiedStart,modifiedEnd-modifiedStart+1)]);diagonalReverseStart=this.ClipDiagonalBound(diagonalReverseBase-numDifferences,numDifferences,diagonalReverseBase,numDiagonals),diagonalReverseEnd=this.ClipDiagonalBound(diagonalReverseBase+numDifferences,numDifferences,diagonalReverseBase,numDiagonals);for(var diagonal=diagonalReverseStart;diagonal<=diagonalReverseEnd;diagonal+=2){diagonal===diagonalReverseStart||diagonal<diagonalReverseEnd&&reversePoints[diagonal-1]>=reversePoints[diagonal+1]?originalIndex=reversePoints[diagonal+1]-1:originalIndex=reversePoints[diagonal-1],modifiedIndex=originalIndex-(diagonal-diagonalReverseBase)-diagonalReverseOffset;for(var tempOriginalIndex=originalIndex;originalIndex>originalStart&&modifiedIndex>modifiedStart&&this.ElementsAreEqual(originalIndex,modifiedIndex);)originalIndex--,modifiedIndex--;if(reversePoints[diagonal]=originalIndex,deltaIsEven&&Math.abs(diagonal-diagonalForwardBase)<=numDifferences&&originalIndex<=forwardPoints[diagonal])return midOriginalArr[0]=originalIndex,midModifiedArr[0]=modifiedIndex,tempOriginalIndex>=forwardPoints[diagonal]&&1447>0&&numDifferences<=1447+1?this.WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr):null}if(numDifferences<=1447){var temp=new Int32Array(diagonalForwardEnd-diagonalForwardStart+2);temp[0]=diagonalForwardBase-diagonalForwardStart+1,MyArray.Copy2(forwardPoints,diagonalForwardStart,temp,1,diagonalForwardEnd-diagonalForwardStart+1),this.m_forwardHistory.push(temp),temp=new Int32Array(diagonalReverseEnd-diagonalReverseStart+2),temp[0]=diagonalReverseBase-diagonalReverseStart+1,MyArray.Copy2(reversePoints,diagonalReverseStart,temp,1,diagonalReverseEnd-diagonalReverseStart+1),this.m_reverseHistory.push(temp)}}return this.WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr)},LcsDiff.prototype.PrettifyChanges=function(changes){for(var i=0;i<changes.length;i++){for(var change=changes[i],originalStop=i<changes.length-1?changes[i+1].originalStart:this._originalElementsOrHash.length,modifiedStop=i<changes.length-1?changes[i+1].modifiedStart:this._modifiedElementsOrHash.length,checkOriginal=change.originalLength>0,checkModified=change.modifiedLength>0;change.originalStart+change.originalLength<originalStop&&change.modifiedStart+change.modifiedLength<modifiedStop&&(!checkOriginal||this.OriginalElementsAreEqual(change.originalStart,change.originalStart+change.originalLength))&&(!checkModified||this.ModifiedElementsAreEqual(change.modifiedStart,change.modifiedStart+change.modifiedLength));)change.originalStart++,change.modifiedStart++;var mergedChangeArr=[null];if(i<changes.length-1&&this.ChangesOverlap(changes[i],changes[i+1],mergedChangeArr)){changes[i]=mergedChangeArr[0],changes.splice(i+1,1),i--;continue}}for(var i=changes.length-1;i>=0;i--){var change=changes[i],originalStop=0,modifiedStop=0;if(i>0){var prevChange=changes[i-1];prevChange.originalLength>0&&(originalStop=prevChange.originalStart+prevChange.originalLength),prevChange.modifiedLength>0&&(modifiedStop=prevChange.modifiedStart+prevChange.modifiedLength)}for(var checkOriginal=change.originalLength>0,checkModified=change.modifiedLength>0,bestDelta=0,bestScore=this._boundaryScore(change.originalStart,change.originalLength,change.modifiedStart,change.modifiedLength),delta=1;;delta++){var originalStart=change.originalStart-delta,modifiedStart=change.modifiedStart-delta;if(originalStart<originalStop||modifiedStart<modifiedStop||checkOriginal&&!this.OriginalElementsAreEqual(originalStart,originalStart+change.originalLength)||checkModified&&!this.ModifiedElementsAreEqual(modifiedStart,modifiedStart+change.modifiedLength))break;var score=this._boundaryScore(originalStart,change.originalLength,modifiedStart,change.modifiedLength);score>bestScore&&(bestScore=score,bestDelta=delta)}change.originalStart-=bestDelta,change.modifiedStart-=bestDelta}return changes},LcsDiff.prototype._OriginalIsBoundary=function(index){return index<=0||index>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[index])},LcsDiff.prototype._OriginalRegionIsBoundary=function(originalStart,originalLength){if(this._OriginalIsBoundary(originalStart)||this._OriginalIsBoundary(originalStart-1))return!0;if(originalLength>0){var originalEnd=originalStart+originalLength;if(this._OriginalIsBoundary(originalEnd-1)||this._OriginalIsBoundary(originalEnd))return!0}return!1},LcsDiff.prototype._ModifiedIsBoundary=function(index){return index<=0||index>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[index])},LcsDiff.prototype._ModifiedRegionIsBoundary=function(modifiedStart,modifiedLength){if(this._ModifiedIsBoundary(modifiedStart)||this._ModifiedIsBoundary(modifiedStart-1))return!0;if(modifiedLength>0){var modifiedEnd=modifiedStart+modifiedLength;if(this._ModifiedIsBoundary(modifiedEnd-1)||this._ModifiedIsBoundary(modifiedEnd))return!0}return!1},LcsDiff.prototype._boundaryScore=function(originalStart,originalLength,modifiedStart,modifiedLength){var originalScore=this._OriginalRegionIsBoundary(originalStart,originalLength)?1:0,modifiedScore=this._ModifiedRegionIsBoundary(modifiedStart,modifiedLength)?1:0;return originalScore+modifiedScore},LcsDiff.prototype.ConcatenateChanges=function(left,right){var mergedChangeArr=[];if(left.length===0||right.length===0)return right.length>0?right:left;if(this.ChangesOverlap(left[left.length-1],right[0],mergedChangeArr)){var result=new Array(left.length+right.length-1);return MyArray.Copy(left,0,result,0,left.length-1),result[left.length-1]=mergedChangeArr[0],MyArray.Copy(right,1,result,left.length,right.length-1),result}else{var result=new Array(left.length+right.length);return MyArray.Copy(left,0,result,0,left.length),MyArray.Copy(right,0,result,left.length,right.length),result}},LcsDiff.prototype.ChangesOverlap=function(left,right,mergedChangeArr){if(Debug.Assert(left.originalStart<=right.originalStart,"Left change is not less than or equal to right change"),Debug.Assert(left.modifiedStart<=right.modifiedStart,"Left change is not less than or equal to right change"),left.originalStart+left.originalLength>=right.originalStart||left.modifiedStart+left.modifiedLength>=right.modifiedStart){var originalStart=left.originalStart,originalLength=left.originalLength,modifiedStart=left.modifiedStart,modifiedLength=left.modifiedLength;return left.originalStart+left.originalLength>=right.originalStart&&(originalLength=right.originalStart+right.originalLength-left.originalStart),left.modifiedStart+left.modifiedLength>=right.modifiedStart&&(modifiedLength=right.modifiedStart+right.modifiedLength-left.modifiedStart),mergedChangeArr[0]=new DiffChange(originalStart,originalLength,modifiedStart,modifiedLength),!0}else return mergedChangeArr[0]=null,!1},LcsDiff.prototype.ClipDiagonalBound=function(diagonal,numDifferences,diagonalBaseIndex,numDiagonals){if(diagonal>=0&&diagonal<numDiagonals)return diagonal;var diagonalsBelow=diagonalBaseIndex,diagonalsAbove=numDiagonals-diagonalBaseIndex-1,diffEven=numDifferences%2===0;if(diagonal<0){var lowerBoundEven=diagonalsBelow%2===0;return diffEven===lowerBoundEven?0:1}else{var upperBoundEven=diagonalsAbove%2===0;return diffEven===upperBoundEven?numDiagonals-1:numDiagonals-2}},LcsDiff}()},3862:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IframeUtils});var hasDifferentOriginAncestorFlag=!1,sameOriginWindowChainCache=null;function getParentWindowIfSameOrigin(w){if(!w.parent||w.parent===w)return null;try{var location_1=w.location,parentLocation=w.parent.location;if(location_1.protocol!==parentLocation.protocol||location_1.hostname!==parentLocation.hostname||location_1.port!==parentLocation.port)return hasDifferentOriginAncestorFlag=!0,null}catch{return hasDifferentOriginAncestorFlag=!0,null}return w.parent}function findIframeElementInParentWindow(parentWindow,childWindow){for(var parentWindowIframes=parentWindow.document.getElementsByTagName("iframe"),iframe,i=0,len=parentWindowIframes.length;i<len;i++)if(iframe=parentWindowIframes[i],iframe.contentWindow===childWindow)return iframe;return null}var IframeUtils=function(){function IframeUtils2(){}return IframeUtils2.getSameOriginWindowChain=function(){if(!sameOriginWindowChainCache){sameOriginWindowChainCache=[];var w=window,parent_1;do parent_1=getParentWindowIfSameOrigin(w),parent_1?sameOriginWindowChainCache.push({window:w,iframeElement:findIframeElementInParentWindow(parent_1,w)}):sameOriginWindowChainCache.push({window:w,iframeElement:null}),w=parent_1;while(w)}return sameOriginWindowChainCache.slice(0)},IframeUtils2.hasDifferentOriginAncestor=function(){return sameOriginWindowChainCache||this.getSameOriginWindowChain(),hasDifferentOriginAncestorFlag},IframeUtils2.getPositionOfChildWindowRelativeToAncestorWindow=function(childWindow,ancestorWindow){if(!ancestorWindow||childWindow===ancestorWindow)return{top:0,left:0};for(var top=0,left=0,windowChain=this.getSameOriginWindowChain(),_i=0,windowChain_1=windowChain;_i<windowChain_1.length;_i++){var windowChainEl=windowChain_1[_i];if(windowChainEl.window===ancestorWindow||!windowChainEl.iframeElement)break;var boundingRect=windowChainEl.iframeElement.getBoundingClientRect();top+=boundingRect.top,left+=boundingRect.left}return{top,left}},IframeUtils2}()},3863:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Extensions});var _registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2818),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),Extensions={JSONContribution:"base.contributions.json"};function normalizeId(id){return id.length>0&&id.charAt(id.length-1)==="#"?id.substring(0,id.length-1):id}var JSONContributionRegistry=function(){function JSONContributionRegistry2(){this._onDidChangeSchema=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.schemasById={}}return JSONContributionRegistry2.prototype.registerSchema=function(uri,unresolvedSchemaContent){this.schemasById[normalizeId(uri)]=unresolvedSchemaContent,this._onDidChangeSchema.fire(uri)},JSONContributionRegistry2.prototype.notifySchemaChanged=function(uri){this._onDidChangeSchema.fire(uri)},JSONContributionRegistry2}(),jsonContributionRegistry=new JSONContributionRegistry;_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.add(Extensions.JSONContribution,jsonContributionRegistry)},3864:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return match});var _arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2389),_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2123),_extpath_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3865),_path_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3236),_map_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2803),_async_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2237),GLOBSTAR="**",GLOB_SPLIT="/",PATH_REGEX="[/\\\\]",NO_PATH_REGEX="[^/\\\\]",ALL_FORWARD_SLASHES=/\//g;function starsToRegExp(starCount){switch(starCount){case 0:return"";case 1:return NO_PATH_REGEX+"*?";default:return"(?:"+PATH_REGEX+"|"+NO_PATH_REGEX+"+"+PATH_REGEX+"|"+PATH_REGEX+NO_PATH_REGEX+"+)*?"}}function splitGlobAware(pattern,splitChar){if(!pattern)return[];for(var segments=[],inBraces=!1,inBrackets=!1,curVal="",_i=0,pattern_1=pattern;_i<pattern_1.length;_i++){var char=pattern_1[_i];switch(char){case splitChar:if(!inBraces&&!inBrackets){segments.push(curVal),curVal="";continue}break;case"{":inBraces=!0;break;case"}":inBraces=!1;break;case"[":inBrackets=!0;break;case"]":inBrackets=!1;break}curVal+=char}return curVal&&segments.push(curVal),segments}function parseRegExp(pattern){if(!pattern)return"";var regEx="",segments=splitGlobAware(pattern,GLOB_SPLIT);if(segments.every(function(s){return s===GLOBSTAR}))regEx=".*";else{var previousSegmentWasGlobStar_1=!1;segments.forEach(function(segment,index){if(segment===GLOBSTAR){previousSegmentWasGlobStar_1||(regEx+=starsToRegExp(2),previousSegmentWasGlobStar_1=!0);return}for(var inBraces=!1,braceVal="",inBrackets=!1,bracketVal="",_i=0,segment_1=segment;_i<segment_1.length;_i++){var char=segment_1[_i];if(char!=="}"&&inBraces){braceVal+=char;continue}if(inBrackets&&(char!=="]"||!bracketVal)){var res=void 0;char==="-"?res=char:(char==="^"||char==="!")&&!bracketVal?res="^":char===GLOB_SPLIT?res="":res=_strings_js__WEBPACK_IMPORTED_MODULE_1__.p(char),bracketVal+=res;continue}switch(char){case"{":inBraces=!0;continue;case"[":inBrackets=!0;continue;case"}":var choices=splitGlobAware(braceVal,","),braceRegExp="(?:"+choices.map(function(c){return parseRegExp(c)}).join("|")+")";regEx+=braceRegExp,inBraces=!1,braceVal="";break;case"]":regEx+="["+bracketVal+"]",inBrackets=!1,bracketVal="";break;case"?":regEx+=NO_PATH_REGEX;continue;case"*":regEx+=starsToRegExp(1);continue;default:regEx+=_strings_js__WEBPACK_IMPORTED_MODULE_1__.p(char)}}index<segments.length-1&&(segments[index+1]!==GLOBSTAR||index+2<segments.length)&&(regEx+=PATH_REGEX),previousSegmentWasGlobStar_1=!1})}return regEx}var T1=/^\*\*\/\*\.[\w\.-]+$/,T2=/^\*\*\/([\w\.-]+)\/?$/,T3=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,T3_2=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,T4=/^\*\*((\/[\w\.-]+)+)\/?$/,T5=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,CACHE=new _map_js__WEBPACK_IMPORTED_MODULE_4__.a(1e4),FALSE=function(){return!1},NULL=function(){return null};function parsePattern(arg1,options){if(!arg1)return NULL;var pattern;typeof arg1!="string"?pattern=arg1.pattern:pattern=arg1,pattern=pattern.trim();var patternKey=pattern+"_"+!!options.trimForExclusions,parsedPattern=CACHE.get(patternKey);if(parsedPattern)return wrapRelativePattern(parsedPattern,arg1);var match2;if(T1.test(pattern)){var base_1=pattern.substr(4);parsedPattern=function(path,basename){return typeof path=="string"&&_strings_js__WEBPACK_IMPORTED_MODULE_1__.m(path,base_1)?pattern:null}}else(match2=T2.exec(trimForExclusions(pattern,options)))?parsedPattern=trivia2(match2[1],pattern):(options.trimForExclusions?T3_2:T3).test(pattern)?parsedPattern=trivia3(pattern,options):(match2=T4.exec(trimForExclusions(pattern,options)))?parsedPattern=trivia4and5(match2[1].substr(1),pattern,!0):(match2=T5.exec(trimForExclusions(pattern,options)))?parsedPattern=trivia4and5(match2[1],pattern,!1):parsedPattern=toRegExp(pattern);return CACHE.set(patternKey,parsedPattern),wrapRelativePattern(parsedPattern,arg1)}function wrapRelativePattern(parsedPattern,arg2){return typeof arg2=="string"?parsedPattern:function(path,basename){return _extpath_js__WEBPACK_IMPORTED_MODULE_2__.a(path,arg2.base)?parsedPattern(_path_js__WEBPACK_IMPORTED_MODULE_3__.relative(arg2.base,path),basename):null}}function trimForExclusions(pattern,options){return options.trimForExclusions&&_strings_js__WEBPACK_IMPORTED_MODULE_1__.m(pattern,"/**")?pattern.substr(0,pattern.length-2):pattern}function trivia2(base,originalPattern){var slashBase="/"+base,backslashBase="\\"+base,parsedPattern=function(path,basename){return typeof path!="string"?null:basename?basename===base?originalPattern:null:path===base||_strings_js__WEBPACK_IMPORTED_MODULE_1__.m(path,slashBase)||_strings_js__WEBPACK_IMPORTED_MODULE_1__.m(path,backslashBase)?originalPattern:null},basenames=[base];return parsedPattern.basenames=basenames,parsedPattern.patterns=[originalPattern],parsedPattern.allBasenames=basenames,parsedPattern}function trivia3(pattern,options){var parsedPatterns=aggregateBasenameMatches(pattern.slice(1,-1).split(",").map(function(pattern2){return parsePattern(pattern2,options)}).filter(function(pattern2){return pattern2!==NULL}),pattern),n=parsedPatterns.length;if(!n)return NULL;if(n===1)return parsedPatterns[0];var parsedPattern=function(path,basename){for(var i=0,n_1=parsedPatterns.length;i<n_1;i++)if(parsedPatterns[i](path,basename))return pattern;return null},withBasenames=_arrays_js__WEBPACK_IMPORTED_MODULE_0__.j(parsedPatterns,function(pattern2){return!!pattern2.allBasenames});withBasenames&&(parsedPattern.allBasenames=withBasenames.allBasenames);var allPaths=parsedPatterns.reduce(function(all,current){return current.allPaths?all.concat(current.allPaths):all},[]);return allPaths.length&&(parsedPattern.allPaths=allPaths),parsedPattern}function trivia4and5(path,pattern,matchPathEnds){var nativePath=_path_js__WEBPACK_IMPORTED_MODULE_3__.sep!==_path_js__WEBPACK_IMPORTED_MODULE_3__.posix.sep?path.replace(ALL_FORWARD_SLASHES,_path_js__WEBPACK_IMPORTED_MODULE_3__.sep):path,nativePathEnd=_path_js__WEBPACK_IMPORTED_MODULE_3__.sep+nativePath,parsedPattern=matchPathEnds?function(path2,basename){return typeof path2=="string"&&(path2===nativePath||_strings_js__WEBPACK_IMPORTED_MODULE_1__.m(path2,nativePathEnd))?pattern:null}:function(path2,basename){return typeof path2=="string"&&path2===nativePath?pattern:null};return parsedPattern.allPaths=[(matchPathEnds?"*/":"./")+path],parsedPattern}function toRegExp(pattern){try{var regExp_1=new RegExp("^"+parseRegExp(pattern)+"$");return function(path,basename){return regExp_1.lastIndex=0,typeof path=="string"&&regExp_1.test(path)?pattern:null}}catch{return NULL}}function match(arg1,path,hasSibling){return!arg1||typeof path!="string"?!1:parse(arg1)(path,void 0,hasSibling)}function parse(arg1,options){if(options===void 0&&(options={}),!arg1)return FALSE;if(typeof arg1=="string"||isRelativePattern(arg1)){var parsedPattern_1=parsePattern(arg1,options);if(parsedPattern_1===NULL)return FALSE;var resultPattern=function(path,basename){return!!parsedPattern_1(path,basename)};return parsedPattern_1.allBasenames&&(resultPattern.allBasenames=parsedPattern_1.allBasenames),parsedPattern_1.allPaths&&(resultPattern.allPaths=parsedPattern_1.allPaths),resultPattern}return parsedExpression(arg1,options)}function isRelativePattern(obj){var rp=obj;return rp&&typeof rp.base=="string"&&typeof rp.pattern=="string"}function parsedExpression(expression,options){var parsedPatterns=aggregateBasenameMatches(Object.getOwnPropertyNames(expression).map(function(pattern){return parseExpressionPattern(pattern,expression[pattern],options)}).filter(function(pattern){return pattern!==NULL})),n=parsedPatterns.length;if(!n)return NULL;if(!parsedPatterns.some(function(parsedPattern){return!!parsedPattern.requiresSiblings})){if(n===1)return parsedPatterns[0];var resultExpression_1=function(path,basename){for(var i=0,n_2=parsedPatterns.length;i<n_2;i++){var result=parsedPatterns[i](path,basename);if(result)return result}return null},withBasenames_1=_arrays_js__WEBPACK_IMPORTED_MODULE_0__.j(parsedPatterns,function(pattern){return!!pattern.allBasenames});withBasenames_1&&(resultExpression_1.allBasenames=withBasenames_1.allBasenames);var allPaths_1=parsedPatterns.reduce(function(all,current){return current.allPaths?all.concat(current.allPaths):all},[]);return allPaths_1.length&&(resultExpression_1.allPaths=allPaths_1),resultExpression_1}var resultExpression=function(path,basename,hasSibling){for(var name=void 0,i=0,n_3=parsedPatterns.length;i<n_3;i++){var parsedPattern=parsedPatterns[i];parsedPattern.requiresSiblings&&hasSibling&&(basename||(basename=_path_js__WEBPACK_IMPORTED_MODULE_3__.basename(path)),name||(name=basename.substr(0,basename.length-_path_js__WEBPACK_IMPORTED_MODULE_3__.extname(path).length)));var result=parsedPattern(path,basename,name,hasSibling);if(result)return result}return null},withBasenames=_arrays_js__WEBPACK_IMPORTED_MODULE_0__.j(parsedPatterns,function(pattern){return!!pattern.allBasenames});withBasenames&&(resultExpression.allBasenames=withBasenames.allBasenames);var allPaths=parsedPatterns.reduce(function(all,current){return current.allPaths?all.concat(current.allPaths):all},[]);return allPaths.length&&(resultExpression.allPaths=allPaths),resultExpression}function parseExpressionPattern(pattern,value,options){if(value===!1)return NULL;var parsedPattern=parsePattern(pattern,options);if(parsedPattern===NULL)return NULL;if(typeof value=="boolean")return parsedPattern;if(value){var when_1=value.when;if(typeof when_1=="string"){var result=function(path,basename,name,hasSibling){if(!hasSibling||!parsedPattern(path,basename))return null;var clausePattern=when_1.replace("$(basename)",name),matched=hasSibling(clausePattern);return Object(_async_js__WEBPACK_IMPORTED_MODULE_5__.i)(matched)?matched.then(function(m){return m?pattern:null}):matched?pattern:null};return result.requiresSiblings=!0,result}}return parsedPattern}function aggregateBasenameMatches(parsedPatterns,result){var basenamePatterns=parsedPatterns.filter(function(parsedPattern){return!!parsedPattern.basenames});if(basenamePatterns.length<2)return parsedPatterns;var basenames=basenamePatterns.reduce(function(all,current){var basenames2=current.basenames;return basenames2?all.concat(basenames2):all},[]),patterns;if(result){patterns=[];for(var i=0,n=basenames.length;i<n;i++)patterns.push(result)}else patterns=basenamePatterns.reduce(function(all,current){var patterns2=current.patterns;return patterns2?all.concat(patterns2):all},[]);var aggregate=function(path,basename){if(typeof path!="string")return null;if(!basename){var i2=void 0;for(i2=path.length;i2>0;i2--){var ch=path.charCodeAt(i2-1);if(ch===47||ch===92)break}basename=path.substr(i2)}var index=basenames.indexOf(basename);return index!==-1?patterns[index]:null};aggregate.basenames=basenames,aggregate.patterns=patterns,aggregate.allBasenames=basenames;var aggregatedPatterns=parsedPatterns.filter(function(parsedPattern){return!parsedPattern.basenames});return aggregatedPatterns.push(aggregate),aggregatedPatterns}},3865:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return toSlashes}),__webpack_require__.d(__webpack_exports__,"a",function(){return isEqualOrParent}),__webpack_require__.d(__webpack_exports__,"b",function(){return isWindowsDriveLetter});var _strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3236);function toSlashes(osPath){return osPath.replace(/[\\/]/g,_path_js__WEBPACK_IMPORTED_MODULE_1__.posix.sep)}function isEqualOrParent(path,candidate,ignoreCase,separator){if(separator===void 0&&(separator=_path_js__WEBPACK_IMPORTED_MODULE_1__.sep),path===candidate)return!0;if(!path||!candidate||candidate.length>path.length)return!1;if(ignoreCase){var beginsWith=Object(_strings_js__WEBPACK_IMPORTED_MODULE_0__.P)(path,candidate);if(!beginsWith)return!1;if(candidate.length===path.length)return!0;var sepOffset=candidate.length;return candidate.charAt(candidate.length-1)===separator&&sepOffset--,path.charAt(sepOffset)===separator}return candidate.charAt(candidate.length-1)!==separator&&(candidate+=separator),path.indexOf(candidate)===0}function isWindowsDriveLetter(char0){return char0>=65&&char0<=90||char0>=97&&char0<=122}},3866:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CopyOptions}),__webpack_require__.d(__webpack_exports__,"b",function(){return TextAreaInput});var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2642),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2124),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2237),_base_common_event_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2106),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2033),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2236),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2123),_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3867),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2629),_base_browser_canIUse_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3279),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),CopyOptions={forceCopyWithSyntaxHighlighting:!1},InMemoryClipboardMetadataManager=function(){function InMemoryClipboardMetadataManager2(){this._lastState=null}return InMemoryClipboardMetadataManager2.prototype.set=function(lastCopiedValue,data){this._lastState={lastCopiedValue,data}},InMemoryClipboardMetadataManager2.prototype.get=function(pastedText){return this._lastState&&this._lastState.lastCopiedValue===pastedText?this._lastState.data:(this._lastState=null,null)},InMemoryClipboardMetadataManager2.INSTANCE=new InMemoryClipboardMetadataManager2,InMemoryClipboardMetadataManager2}(),TextAreaInput=function(_super){__extends(TextAreaInput2,_super);function TextAreaInput2(host,textArea){var _this=_super.call(this)||this;_this.textArea=textArea,_this._onFocus=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onFocus=_this._onFocus.event,_this._onBlur=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onBlur=_this._onBlur.event,_this._onKeyDown=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onKeyDown=_this._onKeyDown.event,_this._onKeyUp=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onKeyUp=_this._onKeyUp.event,_this._onCut=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onCut=_this._onCut.event,_this._onPaste=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onPaste=_this._onPaste.event,_this._onType=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onType=_this._onType.event,_this._onCompositionStart=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onCompositionStart=_this._onCompositionStart.event,_this._onCompositionUpdate=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onCompositionUpdate=_this._onCompositionUpdate.event,_this._onCompositionEnd=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onCompositionEnd=_this._onCompositionEnd.event,_this._onSelectionChangeRequest=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),_this.onSelectionChangeRequest=_this._onSelectionChangeRequest.event,_this._host=host,_this._textArea=_this._register(new TextAreaWrapper(textArea)),_this._lastTextAreaEvent=0,_this._asyncTriggerCut=_this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.d(function(){return _this._onCut.fire()},0)),_this._textAreaState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.EMPTY,_this._selectionChangeListener=null,_this.writeScreenReaderContent("ctor"),_this._hasFocus=!1,_this._isDoingComposition=!1,_this._nextCommand=0,_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.o(textArea.domNode,"keydown",function(e){_this._isDoingComposition&&(e.keyCode===109||e.keyCode===1)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),_this._onKeyDown.fire(e)})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.o(textArea.domNode,"keyup",function(e){_this._onKeyUp.fire(e)})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"compositionstart",function(e){_this._lastTextAreaEvent=1,!_this._isDoingComposition&&(_this._isDoingComposition=!0,_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.f||_this._setAndWriteTextAreaState("compositionstart",_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.EMPTY),_this._onCompositionStart.fire())}));var deduceInputFromTextAreaValue=function(couldBeEmojiInput,couldBeTypingAtOffset0){var oldState=_this._textAreaState,newState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.readFromTextArea(_this._textArea);return[newState,_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.deduceInput(oldState,newState,couldBeEmojiInput,couldBeTypingAtOffset0)]},deduceComposition=function(text){var oldState=_this._textAreaState,newState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.selectedText(text),typeInput={text:newState.value,replaceCharCnt:oldState.selectionEnd-oldState.selectionStart};return[newState,typeInput]},compositionDataInValid=function(locale){return!!(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.f&&locale==="ja"||_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.i&&locale.indexOf("zh-Han")===0)};return _this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"compositionupdate",function(e){if(_this._lastTextAreaEvent=2,compositionDataInValid(e.locale)){var _a=deduceInputFromTextAreaValue(!1,!1),newState_1=_a[0],typeInput_1=_a[1];_this._textAreaState=newState_1,_this._onType.fire(typeInput_1),_this._onCompositionUpdate.fire(e);return}var _b=deduceComposition(e.data),newState=_b[0],typeInput=_b[1];_this._textAreaState=newState,_this._onType.fire(typeInput),_this._onCompositionUpdate.fire(e)})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"compositionend",function(e){if(_this._lastTextAreaEvent=3,!!_this._isDoingComposition){if(compositionDataInValid(e.locale)){var _a=deduceInputFromTextAreaValue(!1,!1),newState=_a[0],typeInput=_a[1];_this._textAreaState=newState,_this._onType.fire(typeInput)}else{var _b=deduceComposition(e.data),newState=_b[0],typeInput=_b[1];_this._textAreaState=newState,_this._onType.fire(typeInput)}(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.f||_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.d)&&(_this._textAreaState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.readFromTextArea(_this._textArea)),_this._isDoingComposition&&(_this._isDoingComposition=!1,_this._onCompositionEnd.fire())}})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"input",function(){var previousEventWasFocus=_this._lastTextAreaEvent===8;if(_this._lastTextAreaEvent=4,_this._textArea.setIgnoreSelectionChangeTime("received input event"),!_this._isDoingComposition){var _a=deduceInputFromTextAreaValue(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_5__.e,previousEventWasFocus&&_base_common_platform_js__WEBPACK_IMPORTED_MODULE_5__.e),newState=_a[0],typeInput=_a[1];typeInput.replaceCharCnt===0&&typeInput.text.length===1&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_6__.A(typeInput.text.charCodeAt(0))||(_this._textAreaState=newState,_this._nextCommand===0?typeInput.text!==""&&_this._onType.fire(typeInput):(typeInput.text!==""&&_this._firePaste(typeInput.text,null),_this._nextCommand=0))}})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"cut",function(e){_this._lastTextAreaEvent=5,_this._textArea.setIgnoreSelectionChangeTime("received cut event"),_this._ensureClipboardGetsEditorSelection(e),_this._asyncTriggerCut.schedule()})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"copy",function(e){_this._lastTextAreaEvent=6,_this._ensureClipboardGetsEditorSelection(e)})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"paste",function(e){if(_this._lastTextAreaEvent=7,_this._textArea.setIgnoreSelectionChangeTime("received paste event"),ClipboardEventUtils.canUseTextData(e)){var _a=ClipboardEventUtils.getTextData(e),pastePlainText=_a[0],metadata=_a[1];pastePlainText!==""&&_this._firePaste(pastePlainText,metadata)}else _this._textArea.getSelectionStart()!==_this._textArea.getSelectionEnd()&&_this._setAndWriteTextAreaState("paste",_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.EMPTY),_this._nextCommand=1})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"focus",function(){_this._lastTextAreaEvent=8,_this._setHasFocus(!0)})),_this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(textArea.domNode,"blur",function(){_this._lastTextAreaEvent=9,_this._setHasFocus(!1)})),_this}return TextAreaInput2.prototype._installSelectionChangeListener=function(){var _this=this,previousSelectionChangeEventTime=0;return _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.j(document,"selectionchange",function(e){if(_this._hasFocus&&!_this._isDoingComposition&&!(!_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.d||!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_5__.h)){var now=Date.now(),delta1=now-previousSelectionChangeEventTime;if(previousSelectionChangeEventTime=now,!(delta1<5)){var delta2=now-_this._textArea.getIgnoreSelectionChangeTime();if(_this._textArea.resetSelectionChangeTime(),!(delta2<100)&&!(!_this._textAreaState.selectionStartPosition||!_this._textAreaState.selectionEndPosition)){var newValue=_this._textArea.getValue();if(_this._textAreaState.value===newValue){var newSelectionStart=_this._textArea.getSelectionStart(),newSelectionEnd=_this._textArea.getSelectionEnd();if(!(_this._textAreaState.selectionStart===newSelectionStart&&_this._textAreaState.selectionEnd===newSelectionEnd)){var _newSelectionStartPosition=_this._textAreaState.deduceEditorPosition(newSelectionStart),newSelectionStartPosition=_this._host.deduceModelPosition(_newSelectionStartPosition[0],_newSelectionStartPosition[1],_newSelectionStartPosition[2]),_newSelectionEndPosition=_this._textAreaState.deduceEditorPosition(newSelectionEnd),newSelectionEndPosition=_this._host.deduceModelPosition(_newSelectionEndPosition[0],_newSelectionEndPosition[1],_newSelectionEndPosition[2]),newSelection=new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_8__.a(newSelectionStartPosition.lineNumber,newSelectionStartPosition.column,newSelectionEndPosition.lineNumber,newSelectionEndPosition.column);_this._onSelectionChangeRequest.fire(newSelection)}}}}}})},TextAreaInput2.prototype.dispose=function(){_super.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)},TextAreaInput2.prototype.focusTextArea=function(){this._setHasFocus(!0)},TextAreaInput2.prototype.isFocused=function(){return this._hasFocus},TextAreaInput2.prototype._setHasFocus=function(newHasFocus){this._hasFocus!==newHasFocus&&(this._hasFocus=newHasFocus,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.e?this._setAndWriteTextAreaState("focusgain",_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},TextAreaInput2.prototype._setAndWriteTextAreaState=function(reason,textAreaState){this._hasFocus||(textAreaState=textAreaState.collapseSelection()),textAreaState.writeToTextArea(reason,this._textArea,this._hasFocus),this._textAreaState=textAreaState},TextAreaInput2.prototype.writeScreenReaderContent=function(reason){this._isDoingComposition||this._setAndWriteTextAreaState(reason,this._host.getScreenReaderContent(this._textAreaState))},TextAreaInput2.prototype._ensureClipboardGetsEditorSelection=function(e){var dataToCopy=this._host.getDataToCopy(ClipboardEventUtils.canUseTextData(e)&&_base_browser_canIUse_js__WEBPACK_IMPORTED_MODULE_9__.a.clipboard.richText),storedMetadata={version:1,isFromEmptySelection:dataToCopy.isFromEmptySelection,multicursorText:dataToCopy.multicursorText};if(InMemoryClipboardMetadataManager.INSTANCE.set(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.h?dataToCopy.text.replace(/\r\n/g,`
`):dataToCopy.text,storedMetadata),!ClipboardEventUtils.canUseTextData(e)){this._setAndWriteTextAreaState("copy or cut",_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.selectedText(dataToCopy.text));return}ClipboardEventUtils.setTextData(e,dataToCopy.text,dataToCopy.html,storedMetadata)},TextAreaInput2.prototype._firePaste=function(text,metadata){metadata||(metadata=InMemoryClipboardMetadataManager.INSTANCE.get(text)),this._onPaste.fire({text,metadata})},TextAreaInput2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.a),ClipboardEventUtils=function(){function ClipboardEventUtils2(){}return ClipboardEventUtils2.canUseTextData=function(e){return!!(e.clipboardData||window.clipboardData)},ClipboardEventUtils2.getTextData=function(e){if(e.clipboardData){e.preventDefault();var text=e.clipboardData.getData("text/plain"),metadata=null,rawmetadata=e.clipboardData.getData("vscode-editor-data");if(typeof rawmetadata=="string")try{metadata=JSON.parse(rawmetadata),metadata.version!==1&&(metadata=null)}catch{}return[text,metadata]}if(window.clipboardData)return e.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},ClipboardEventUtils2.setTextData=function(e,text,html,metadata){if(e.clipboardData){e.clipboardData.setData("text/plain",text),typeof html=="string"&&e.clipboardData.setData("text/html",html),e.clipboardData.setData("vscode-editor-data",JSON.stringify(metadata)),e.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",text),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},ClipboardEventUtils2}(),TextAreaWrapper=function(_super){__extends(TextAreaWrapper2,_super);function TextAreaWrapper2(_textArea){var _this=_super.call(this)||this;return _this._actual=_textArea,_this._ignoreSelectionChangeTime=0,_this}return TextAreaWrapper2.prototype.setIgnoreSelectionChangeTime=function(reason){this._ignoreSelectionChangeTime=Date.now()},TextAreaWrapper2.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},TextAreaWrapper2.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},TextAreaWrapper2.prototype.getValue=function(){return this._actual.domNode.value},TextAreaWrapper2.prototype.setValue=function(reason,value){var textArea=this._actual.domNode;textArea.value!==value&&(this.setIgnoreSelectionChangeTime("setValue"),textArea.value=value)},TextAreaWrapper2.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},TextAreaWrapper2.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},TextAreaWrapper2.prototype.setSelectionRange=function(reason,selectionStart,selectionEnd){var textArea=this._actual.domNode,currentIsFocused=document.activeElement===textArea,currentSelectionStart=textArea.selectionStart,currentSelectionEnd=textArea.selectionEnd;if(currentIsFocused&&currentSelectionStart===selectionStart&&currentSelectionEnd===selectionEnd){_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.h&&window.parent!==window&&textArea.focus();return}if(currentIsFocused){this.setIgnoreSelectionChangeTime("setSelectionRange"),textArea.setSelectionRange(selectionStart,selectionEnd),_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.h&&window.parent!==window&&textArea.focus();return}try{var scrollState=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.S(textArea);this.setIgnoreSelectionChangeTime("setSelectionRange"),textArea.focus(),textArea.setSelectionRange(selectionStart,selectionEnd),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.Q(textArea,scrollState)}catch{}},TextAreaWrapper2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.a)},3867:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return TextAreaState}),__webpack_require__.d(__webpack_exports__,"a",function(){return PagedScreenReaderStrategy});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_common_core_position_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2233),_common_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2056),TextAreaState=function(){function TextAreaState2(value,selectionStart,selectionEnd,selectionStartPosition,selectionEndPosition){this.value=value,this.selectionStart=selectionStart,this.selectionEnd=selectionEnd,this.selectionStartPosition=selectionStartPosition,this.selectionEndPosition=selectionEndPosition}return TextAreaState2.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},TextAreaState2.readFromTextArea=function(textArea){return new TextAreaState2(textArea.getValue(),textArea.getSelectionStart(),textArea.getSelectionEnd(),null,null)},TextAreaState2.prototype.collapseSelection=function(){return new TextAreaState2(this.value,this.value.length,this.value.length,null,null)},TextAreaState2.prototype.writeToTextArea=function(reason,textArea,select){textArea.setValue(reason,this.value),select&&textArea.setSelectionRange(reason,this.selectionStart,this.selectionEnd)},TextAreaState2.prototype.deduceEditorPosition=function(offset){if(offset<=this.selectionStart){var str=this.value.substring(offset,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,str,-1)}if(offset>=this.selectionEnd){var str=this.value.substring(this.selectionEnd,offset);return this._finishDeduceEditorPosition(this.selectionEndPosition,str,1)}var str1=this.value.substring(this.selectionStart,offset);if(str1.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,str1,1);var str2=this.value.substring(offset,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,str2,-1)},TextAreaState2.prototype._finishDeduceEditorPosition=function(anchor,deltaText,signum){for(var lineFeedCnt=0,lastLineFeedIndex=-1;(lastLineFeedIndex=deltaText.indexOf(`
`,lastLineFeedIndex+1))!==-1;)lineFeedCnt++;return[anchor,signum*deltaText.length,lineFeedCnt]},TextAreaState2.selectedText=function(text){return new TextAreaState2(text,0,text.length,null,null)},TextAreaState2.deduceInput=function(previousState,currentState,couldBeEmojiInput,couldBeTypingAtOffset0){if(!previousState)return{text:"",replaceCharCnt:0};var previousValue=previousState.value,previousSelectionStart=previousState.selectionStart,previousSelectionEnd=previousState.selectionEnd,currentValue=currentState.value,currentSelectionStart=currentState.selectionStart,currentSelectionEnd=currentState.selectionEnd;couldBeTypingAtOffset0&&previousValue.length>0&&previousSelectionStart===previousSelectionEnd&&currentSelectionStart===currentSelectionEnd&&!_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.O(currentValue,previousValue)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.m(currentValue,previousValue)&&(previousSelectionStart=0,previousSelectionEnd=0);var previousSuffix=previousValue.substring(previousSelectionEnd),currentSuffix=currentValue.substring(currentSelectionEnd),suffixLength=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.d(previousSuffix,currentSuffix);currentValue=currentValue.substring(0,currentValue.length-suffixLength),previousValue=previousValue.substring(0,previousValue.length-suffixLength);var previousPrefix=previousValue.substring(0,previousSelectionStart),currentPrefix=currentValue.substring(0,currentSelectionStart),prefixLength=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.c(previousPrefix,currentPrefix);if(currentValue=currentValue.substring(prefixLength),previousValue=previousValue.substring(prefixLength),currentSelectionStart-=prefixLength,previousSelectionStart-=prefixLength,currentSelectionEnd-=prefixLength,previousSelectionEnd-=prefixLength,couldBeEmojiInput&&currentSelectionStart===currentSelectionEnd&&previousValue.length>0){var potentialEmojiInput=null;if(currentSelectionStart===currentValue.length?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.O(currentValue,previousValue)&&(potentialEmojiInput=currentValue.substring(previousValue.length)):_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.m(currentValue,previousValue)&&(potentialEmojiInput=currentValue.substring(0,currentValue.length-previousValue.length)),potentialEmojiInput!==null&&potentialEmojiInput.length>0&&(/\uFE0F/.test(potentialEmojiInput)||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.g(potentialEmojiInput)))return{text:potentialEmojiInput,replaceCharCnt:0}}if(currentSelectionStart===currentSelectionEnd){if(previousValue===currentValue&&previousSelectionStart===0&&previousSelectionEnd===previousValue.length&&currentSelectionStart===currentValue.length&&currentValue.indexOf(`
`)===-1&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.h(currentValue))return{text:"",replaceCharCnt:0};var replacePreviousCharacters_1=previousPrefix.length-prefixLength;return{text:currentValue,replaceCharCnt:replacePreviousCharacters_1}}var replacePreviousCharacters=previousSelectionEnd-previousSelectionStart;return{text:currentValue,replaceCharCnt:replacePreviousCharacters}},TextAreaState2.EMPTY=new TextAreaState2("",0,0,null,null),TextAreaState2}(),PagedScreenReaderStrategy=function(){function PagedScreenReaderStrategy2(){}return PagedScreenReaderStrategy2._getPageOfLine=function(lineNumber,linesPerPage){return Math.floor((lineNumber-1)/linesPerPage)},PagedScreenReaderStrategy2._getRangeForPage=function(page,linesPerPage){var offset=page*linesPerPage,startLineNumber=offset+1,endLineNumber=offset+linesPerPage;return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(startLineNumber,1,endLineNumber+1,1)},PagedScreenReaderStrategy2.fromEditorSelection=function(previousState,model,selection,linesPerPage,trimLongText){var selectionStartPage=PagedScreenReaderStrategy2._getPageOfLine(selection.startLineNumber,linesPerPage),selectionStartPageRange=PagedScreenReaderStrategy2._getRangeForPage(selectionStartPage,linesPerPage),selectionEndPage=PagedScreenReaderStrategy2._getPageOfLine(selection.endLineNumber,linesPerPage),selectionEndPageRange=PagedScreenReaderStrategy2._getRangeForPage(selectionEndPage,linesPerPage),pretextRange=selectionStartPageRange.intersectRanges(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(1,1,selection.startLineNumber,selection.startColumn)),pretext=model.getValueInRange(pretextRange,1),lastLine=model.getLineCount(),lastLineMaxColumn=model.getLineMaxColumn(lastLine),posttextRange=selectionEndPageRange.intersectRanges(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(selection.endLineNumber,selection.endColumn,lastLine,lastLineMaxColumn)),posttext=model.getValueInRange(posttextRange,1),text;if(selectionStartPage===selectionEndPage||selectionStartPage+1===selectionEndPage)text=model.getValueInRange(selection,1);else{var selectionRange1=selectionStartPageRange.intersectRanges(selection),selectionRange2=selectionEndPageRange.intersectRanges(selection);text=model.getValueInRange(selectionRange1,1)+String.fromCharCode(8230)+model.getValueInRange(selectionRange2,1)}if(trimLongText){var LIMIT_CHARS=500;pretext.length>LIMIT_CHARS&&(pretext=pretext.substring(pretext.length-LIMIT_CHARS,pretext.length)),posttext.length>LIMIT_CHARS&&(posttext=posttext.substring(0,LIMIT_CHARS)),text.length>2*LIMIT_CHARS&&(text=text.substring(0,LIMIT_CHARS)+String.fromCharCode(8230)+text.substring(text.length-LIMIT_CHARS,text.length))}return new TextAreaState(pretext+text+posttext,pretext.length,pretext.length+text.length,new _common_core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(selection.startLineNumber,selection.startColumn),new _common_core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(selection.endLineNumber,selection.endColumn))},PagedScreenReaderStrategy2}()},3868:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SyncDescriptor});var SyncDescriptor=function(){function SyncDescriptor2(ctor,staticArguments,supportsDelayedInstantiation){staticArguments===void 0&&(staticArguments=[]),supportsDelayedInstantiation===void 0&&(supportsDelayedInstantiation=!1),this.ctor=ctor,this.staticArguments=staticArguments,this.supportsDelayedInstantiation=supportsDelayedInstantiation}return SyncDescriptor2}()},3869:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getColors}),__webpack_require__.d(__webpack_exports__,"a",function(){return getColorPresentations});var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2649),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2176),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2640),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2099),_common_core_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2056),_common_modes_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2240),_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2817);function getColors(model,token){var colors=[],providers=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.c.ordered(model).reverse(),promises=providers.map(function(provider){return Promise.resolve(provider.provideDocumentColors(model,token)).then(function(result){if(Array.isArray(result))for(var _i=0,result_1=result;_i<result_1.length;_i++){var colorInfo=result_1[_i];colors.push({colorInfo,provider})}})});return Promise.all(promises).then(function(){return colors})}function getColorPresentations(model,colorInfo,provider,token){return Promise.resolve(provider.provideColorPresentations(model,colorInfo,token))}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.j)("_executeDocumentColorProvider",function(accessor,args){var resource=args.resource;if(!(resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.a))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)();var model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_6__.a).getModel(resource);if(!model)throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)();var rawCIs=[],providers=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.c.ordered(model).reverse(),promises=providers.map(function(provider){return Promise.resolve(provider.provideDocumentColors(model,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None)).then(function(result){if(Array.isArray(result))for(var _i=0,result_2=result;_i<result_2.length;_i++){var ci=result_2[_i];rawCIs.push({range:ci.range,color:[ci.color.red,ci.color.green,ci.color.blue,ci.color.alpha]})}})});return Promise.all(promises).then(function(){return rawCIs})}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.j)("_executeColorPresentationProvider",function(accessor,args){var resource=args.resource,color=args.color,range=args.range;if(!(resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.a)||!Array.isArray(color)||color.length!==4||!_common_core_range_js__WEBPACK_IMPORTED_MODULE_4__.a.isIRange(range))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)();var red=color[0],green=color[1],blue=color[2],alpha=color[3],model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_6__.a).getModel(resource);if(!model)throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)();var colorInfo={range,color:{red,green,blue,alpha}},presentations=[],providers=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.c.ordered(model).reverse(),promises=providers.map(function(provider){return Promise.resolve(provider.provideColorPresentations(model,colorInfo,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None)).then(function(result){Array.isArray(result)&&presentations.push.apply(presentations,result)})});return Promise.all(promises).then(function(){return presentations})})},3870:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return SubmenuAction}),__webpack_require__.d(__webpack_exports__,"a",function(){return Menu});var _menu_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5752),_menu_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_menu_css__WEBPACK_IMPORTED_MODULE_0__),_nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2069),_common_strings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2123),_common_actions_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3113),_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3239),_dom_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2124),_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3111),_common_async_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2237),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2033),_scrollbar_scrollableElement_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3105),_common_platform_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2236),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g,Direction;(function(Direction2){Direction2[Direction2.Right=0]="Right",Direction2[Direction2.Left=1]="Left"})(Direction||(Direction={}));var SubmenuAction=function(_super){__extends(SubmenuAction2,_super);function SubmenuAction2(label,entries,cssClass){var _this=_super.call(this,cssClass||"submenu",label,"",!0)||this;return _this.entries=entries,_this}return SubmenuAction2}(_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.a),Menu=function(_super){__extends(Menu2,_super);function Menu2(container,actions,options){options===void 0&&(options={});var _this=this;Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.f)(container,"monaco-menu-container"),container.setAttribute("role","presentation");var menuElement=document.createElement("div");Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.f)(menuElement,"monaco-menu"),menuElement.setAttribute("role","presentation"),_this=_super.call(this,menuElement,{orientation:2,actionViewItemProvider:function(action){return _this.doGetActionViewItem(action,options,parentData)},context:options.context,actionRunner:options.actionRunner,ariaLabel:options.ariaLabel,triggerKeys:{keys:__spreadArrays([3],_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.e?[10]:[]),keyDown:!0}})||this,_this.menuElement=menuElement,_this.actionsList.setAttribute("role","menu"),_this.actionsList.tabIndex=0,_this.menuDisposables=_this._register(new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.b),Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(menuElement,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_DOWN,function(e){var event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__.a(e);event.equals(2)&&e.preventDefault()}),options.enableMnemonics&&_this.menuDisposables.add(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(menuElement,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_DOWN,function(e){var key=e.key.toLocaleLowerCase();if(_this.mnemonics.has(key)){_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0);var actions_1=_this.mnemonics.get(key);if(actions_1.length===1&&(actions_1[0]instanceof SubmenuMenuActionViewItem&&actions_1[0].container&&_this.focusItemByElement(actions_1[0].container),actions_1[0].onClick(e)),actions_1.length>1){var action=actions_1.shift();action&&action.container&&(_this.focusItemByElement(action.container),actions_1.push(action)),_this.mnemonics.set(key,actions_1)}}})),_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.d&&_this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(menuElement,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_DOWN,function(e){var event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__.a(e);event.equals(14)||event.equals(11)?(_this.focusedItem=_this.viewItems.length-1,_this.focusNext(),_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0)):(event.equals(13)||event.equals(12))&&(_this.focusedItem=0,_this.focusPrevious(),_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0))})),_this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(_this.domNode,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_OUT,function(e){var relatedTarget=e.relatedTarget;Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.I)(relatedTarget,_this.domNode)||(_this.focusedItem=void 0,_this.updateFocus(),e.stopPropagation())})),_this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(_this.actionsList,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_OVER,function(e){var target=e.target;if(!(!target||!Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.I)(target,_this.actionsList)||target===_this.actionsList)){for(;target.parentElement!==_this.actionsList&&target.parentElement!==null;)target=target.parentElement;if(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.G)(target,"action-item")){var lastFocusedItem=_this.focusedItem;_this.setFocusedItem(target),lastFocusedItem!==_this.focusedItem&&_this.updateFocus()}}}));var parentData={parent:_this};_this.mnemonics=new Map,_this.scrollableElement=_this._register(new _scrollbar_scrollableElement_js__WEBPACK_IMPORTED_MODULE_9__.a(menuElement,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));var scrollElement=_this.scrollableElement.getDomNode();return scrollElement.style.position="",_this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(scrollElement,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_UP,function(e){e.preventDefault()})),menuElement.style.maxHeight=Math.max(10,window.innerHeight-container.getBoundingClientRect().top-30)+"px",_this.push(actions,{icon:!0,label:!0,isMenu:!0}),container.appendChild(_this.scrollableElement.getDomNode()),_this.scrollableElement.scanDomNode(),_this.viewItems.filter(function(item){return!(item instanceof MenuSeparatorActionViewItem)}).forEach(function(item,index,array){item.updatePositionInSet(index+1,array.length)}),_this}return Menu2.prototype.style=function(style){var container=this.getContainer(),fgColor=style.foregroundColor?""+style.foregroundColor:"",bgColor=style.backgroundColor?""+style.backgroundColor:"",border=style.borderColor?"1px solid "+style.borderColor:"",shadow=style.shadowColor?"0 2px 4px "+style.shadowColor:"";container.style.border=border,this.domNode.style.color=fgColor,this.domNode.style.backgroundColor=bgColor,container.style.boxShadow=shadow,this.viewItems&&this.viewItems.forEach(function(item){(item instanceof BaseMenuActionViewItem||item instanceof MenuSeparatorActionViewItem)&&item.style(style)})},Menu2.prototype.getContainer=function(){return this.scrollableElement.getDomNode()},Object.defineProperty(Menu2.prototype,"onScroll",{get:function(){return this.scrollableElement.onScroll},enumerable:!0,configurable:!0}),Object.defineProperty(Menu2.prototype,"scrollOffset",{get:function(){return this.menuElement.scrollTop},enumerable:!0,configurable:!0}),Menu2.prototype.focusItemByElement=function(element){var lastFocusedItem=this.focusedItem;this.setFocusedItem(element),lastFocusedItem!==this.focusedItem&&this.updateFocus()},Menu2.prototype.setFocusedItem=function(element){for(var i=0;i<this.actionsList.children.length;i++){var elem=this.actionsList.children[i];if(element===elem){this.focusedItem=i;break}}},Menu2.prototype.updateFocus=function(fromRight){_super.prototype.updateFocus.call(this,fromRight,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})},Menu2.prototype.doGetActionViewItem=function(action,options,parentData){if(action instanceof _actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_4__.d)return new MenuSeparatorActionViewItem(options.context,action,{icon:!0});if(action instanceof SubmenuAction){var menuActionViewItem=new SubmenuMenuActionViewItem(action,action.entries,parentData,options);if(options.enableMnemonics){var mnemonic=menuActionViewItem.getMnemonic();if(mnemonic&&menuActionViewItem.isEnabled()){var actionViewItems=[];this.mnemonics.has(mnemonic)&&(actionViewItems=this.mnemonics.get(mnemonic)),actionViewItems.push(menuActionViewItem),this.mnemonics.set(mnemonic,actionViewItems)}}return menuActionViewItem}else{var menuItemOptions={enableMnemonics:options.enableMnemonics};if(options.getKeyBinding){var keybinding=options.getKeyBinding(action);if(keybinding){var keybindingLabel=keybinding.getLabel();keybindingLabel&&(menuItemOptions.keybinding=keybindingLabel)}}var menuActionViewItem=new BaseMenuActionViewItem(options.context,action,menuItemOptions);if(options.enableMnemonics){var mnemonic=menuActionViewItem.getMnemonic();if(mnemonic&&menuActionViewItem.isEnabled()){var actionViewItems=[];this.mnemonics.has(mnemonic)&&(actionViewItems=this.mnemonics.get(mnemonic)),actionViewItems.push(menuActionViewItem),this.mnemonics.set(mnemonic,actionViewItems)}}return menuActionViewItem}},Menu2}(_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_4__.a),BaseMenuActionViewItem=function(_super){__extends(BaseMenuActionViewItem2,_super);function BaseMenuActionViewItem2(ctx,action,options){options===void 0&&(options={});var _this=this;if(options.isMenu=!0,_this=_super.call(this,action,action,options)||this,_this.options=options,_this.options.icon=options.icon!==void 0?options.icon:!1,_this.options.label=options.label!==void 0?options.label:!0,_this.cssClass="",_this.options.label&&options.enableMnemonics){var label=_this.getAction().label;if(label){var matches=MENU_MNEMONIC_REGEX.exec(label);matches&&(_this.mnemonic=(matches[1]?matches[1]:matches[3]).toLocaleLowerCase())}}return _this.runOnceToEnableMouseUp=new _common_async_js__WEBPACK_IMPORTED_MODULE_7__.d(function(){_this.element&&_this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(_this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_UP,function(e){e.defaultPrevented||(_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0),_this.onClick(e))}))},100),_this._register(_this.runOnceToEnableMouseUp),_this}return BaseMenuActionViewItem2.prototype.render=function(container){_super.prototype.render.call(this,container),this.element&&(this.container=container,this.item=Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.q)(this.element,Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)("a.action-menu-item")),this._action.id===_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_4__.d.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.q)(this.item,Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)("span.menu-item-check")),this.check.setAttribute("role","none"),this.label=Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.q)(this.item,Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)("span.action-label")),this.options.label&&this.options.keybinding&&(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.q)(this.item,Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())},BaseMenuActionViewItem2.prototype.blur=function(){_super.prototype.blur.call(this),this.applyStyle()},BaseMenuActionViewItem2.prototype.focus=function(){_super.prototype.focus.call(this),this.item&&this.item.focus(),this.applyStyle()},BaseMenuActionViewItem2.prototype.updatePositionInSet=function(pos,setSize){this.item&&(this.item.setAttribute("aria-posinset",""+pos),this.item.setAttribute("aria-setsize",""+setSize))},BaseMenuActionViewItem2.prototype.updateLabel=function(){if(this.options.label){var label=this.getAction().label;if(label){var cleanLabel=cleanMnemonic(label);this.options.enableMnemonics||(label=cleanLabel),this.label&&this.label.setAttribute("aria-label",cleanLabel.replace(/&&/g,"&"));var matches=MENU_MNEMONIC_REGEX.exec(label);if(matches){label=_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.o(label),MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;for(var escMatch=MENU_ESCAPED_MNEMONIC_REGEX.exec(label);escMatch&&escMatch[1];)escMatch=MENU_ESCAPED_MNEMONIC_REGEX.exec(label);escMatch&&(label=label.substr(0,escMatch.index)+'<u aria-hidden="true">'+escMatch[3]+"</u>"+label.substr(escMatch.index+escMatch[0].length)),label=label.replace(/&amp;&amp;/g,"&amp;"),this.item&&this.item.setAttribute("aria-keyshortcuts",(matches[1]?matches[1]:matches[3]).toLocaleLowerCase())}else label=label.replace(/&&/g,"&")}this.label&&(this.label.innerHTML=label.trim())}},BaseMenuActionViewItem2.prototype.updateTooltip=function(){var title=null;this.getAction().tooltip?title=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(title=this.getAction().label,this.options.keybinding&&(title=_nls_js__WEBPACK_IMPORTED_MODULE_1__.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",title,this.options.keybinding))),title&&this.item&&(this.item.title=title)},BaseMenuActionViewItem2.prototype.updateClass=function(){this.cssClass&&this.item&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.N)(this.item,this.cssClass),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.label,"icon"),this.cssClass&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.label,this.cssClass),this.updateEnabled()):this.label&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.M)(this.label,"icon")},BaseMenuActionViewItem2.prototype.updateEnabled=function(){this.getAction().enabled?(this.element&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.M)(this.element,"disabled"),this.item&&(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.M)(this.item,"disabled"),this.item.tabIndex=0)):(this.element&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.element,"disabled"),this.item&&(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.item,"disabled"),Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.P)(this.item)))},BaseMenuActionViewItem2.prototype.updateChecked=function(){this.item&&(this.getAction().checked?(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.M)(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))},BaseMenuActionViewItem2.prototype.getMnemonic=function(){return this.mnemonic},BaseMenuActionViewItem2.prototype.applyStyle=function(){if(this.menuStyle){var isSelected=this.element&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.G)(this.element,"focused"),fgColor=isSelected&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,bgColor=isSelected&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:this.menuStyle.backgroundColor,border=isSelected&&this.menuStyle.selectionBorderColor?"thin solid "+this.menuStyle.selectionBorderColor:"";this.item&&(this.item.style.color=fgColor?""+fgColor:null,this.item.style.backgroundColor=bgColor?""+bgColor:""),this.check&&(this.check.style.backgroundColor=fgColor?""+fgColor:""),this.container&&(this.container.style.border=border)}},BaseMenuActionViewItem2.prototype.style=function(style){this.menuStyle=style,this.applyStyle()},BaseMenuActionViewItem2}(_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_4__.c),SubmenuMenuActionViewItem=function(_super){__extends(SubmenuMenuActionViewItem2,_super);function SubmenuMenuActionViewItem2(action,submenuActions,parentData,submenuOptions){var _this=_super.call(this,action,action,submenuOptions)||this;return _this.submenuActions=submenuActions,_this.parentData=parentData,_this.submenuOptions=submenuOptions,_this.mysubmenu=null,_this.submenuDisposables=_this._register(new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.b),_this.mouseOver=!1,_this.expandDirection=submenuOptions&&submenuOptions.expandDirection!==void 0?submenuOptions.expandDirection:Direction.Right,_this.showScheduler=new _common_async_js__WEBPACK_IMPORTED_MODULE_7__.d(function(){_this.mouseOver&&(_this.cleanupExistingSubmenu(!1),_this.createSubmenu(!1))},250),_this.hideScheduler=new _common_async_js__WEBPACK_IMPORTED_MODULE_7__.d(function(){_this.element&&!Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.I)(document.activeElement,_this.element)&&_this.parentData.submenu===_this.mysubmenu&&(_this.parentData.parent.focus(!1),_this.cleanupExistingSubmenu(!0))},750),_this}return SubmenuMenuActionViewItem2.prototype.render=function(container){var _this=this;_super.prototype.render.call(this,container),this.element&&(this.item&&(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.q)(this.item,Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)("span.submenu-indicator")),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_UP,function(e){var event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__.a(e);(event.equals(17)||event.equals(3))&&(_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0),_this.createSubmenu(!0))})),this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_DOWN,function(e){var event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__.a(e);document.activeElement===_this.item&&(event.equals(17)||event.equals(3))&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0)})),this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_OVER,function(e){_this.mouseOver||(_this.mouseOver=!0,_this.showScheduler.schedule())})),this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.MOUSE_LEAVE,function(e){_this.mouseOver=!1})),this._register(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.FOCUS_OUT,function(e){_this.element&&!Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.I)(document.activeElement,_this.element)&&_this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(function(){_this.parentData.parent.focus(!1),_this.cleanupExistingSubmenu(!1)})))},SubmenuMenuActionViewItem2.prototype.onClick=function(e){_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)},SubmenuMenuActionViewItem2.prototype.cleanupExistingSubmenu=function(force){this.parentData.submenu&&(force||this.parentData.submenu!==this.mysubmenu)&&(this.parentData.submenu.dispose(),this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0))},SubmenuMenuActionViewItem2.prototype.createSubmenu=function(selectFirstItem){var _this=this;if(selectFirstItem===void 0&&(selectFirstItem=!0),!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.q)(this.element,Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)("div.monaco-submenu")),Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.submenuContainer,"menubar-menu-items-holder","context-view");var computedStyles=getComputedStyle(this.parentData.parent.domNode),paddingTop=parseFloat(computedStyles.paddingTop||"0")||0;this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-paddingTop+"px",this.parentData.submenu=new Menu(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);var boundingRect=this.element.getBoundingClientRect(),childBoundingRect=this.submenuContainer.getBoundingClientRect();this.expandDirection===Direction.Right?window.innerWidth<=boundingRect.right+childBoundingRect.width?(this.submenuContainer.style.left="10px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset+boundingRect.height+"px"):(this.submenuContainer.style.left=this.element.offsetWidth+"px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-paddingTop+"px"):this.expandDirection===Direction.Left&&(this.submenuContainer.style.right=this.element.offsetWidth+"px",this.submenuContainer.style.left="auto",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-paddingTop+"px"),this.submenuDisposables.add(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(this.submenuContainer,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_UP,function(e){var event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__.a(e);event.equals(15)&&(_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0),_this.parentData.parent.focus(),_this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.j)(this.submenuContainer,_dom_js__WEBPACK_IMPORTED_MODULE_5__.d.KEY_DOWN,function(e){var event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__.a(e);event.equals(15)&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.stop(e,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(function(){_this.parentData.parent.focus(),_this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(selectFirstItem),this.mysubmenu=this.parentData.submenu}},SubmenuMenuActionViewItem2.prototype.updateAriaExpanded=function(value){var _a;this.item&&((_a=this.item)===null||_a===void 0||_a.setAttribute("aria-expanded",value))},SubmenuMenuActionViewItem2.prototype.applyStyle=function(){if(_super.prototype.applyStyle.call(this),!!this.menuStyle){var isSelected=this.element&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_5__.G)(this.element,"focused"),fgColor=isSelected&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.backgroundColor=fgColor?""+fgColor:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}},SubmenuMenuActionViewItem2.prototype.dispose=function(){_super.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)},SubmenuMenuActionViewItem2}(BaseMenuActionViewItem),MenuSeparatorActionViewItem=function(_super){__extends(MenuSeparatorActionViewItem2,_super);function MenuSeparatorActionViewItem2(){return _super!==null&&_super.apply(this,arguments)||this}return MenuSeparatorActionViewItem2.prototype.style=function(style){this.label&&(this.label.style.borderBottomColor=style.separatorColor?""+style.separatorColor:"")},MenuSeparatorActionViewItem2}(_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_4__.b);function cleanMnemonic(label){var regex=MENU_MNEMONIC_REGEX,matches=regex.exec(label);if(!matches)return label;var mnemonicInText=!matches[1];return label.replace(regex,mnemonicInText?"$2$3":"").trim()}},3871:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Scrollable});var _event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2106),_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2033),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),ScrollState=function(){function ScrollState2(width,scrollWidth,scrollLeft,height,scrollHeight,scrollTop){width=width|0,scrollWidth=scrollWidth|0,scrollLeft=scrollLeft|0,height=height|0,scrollHeight=scrollHeight|0,scrollTop=scrollTop|0,width<0&&(width=0),scrollLeft+width>scrollWidth&&(scrollLeft=scrollWidth-width),scrollLeft<0&&(scrollLeft=0),height<0&&(height=0),scrollTop+height>scrollHeight&&(scrollTop=scrollHeight-height),scrollTop<0&&(scrollTop=0),this.width=width,this.scrollWidth=scrollWidth,this.scrollLeft=scrollLeft,this.height=height,this.scrollHeight=scrollHeight,this.scrollTop=scrollTop}return ScrollState2.prototype.equals=function(other){return this.width===other.width&&this.scrollWidth===other.scrollWidth&&this.scrollLeft===other.scrollLeft&&this.height===other.height&&this.scrollHeight===other.scrollHeight&&this.scrollTop===other.scrollTop},ScrollState2.prototype.withScrollDimensions=function(update){return new ScrollState2(typeof update.width<"u"?update.width:this.width,typeof update.scrollWidth<"u"?update.scrollWidth:this.scrollWidth,this.scrollLeft,typeof update.height<"u"?update.height:this.height,typeof update.scrollHeight<"u"?update.scrollHeight:this.scrollHeight,this.scrollTop)},ScrollState2.prototype.withScrollPosition=function(update){return new ScrollState2(this.width,this.scrollWidth,typeof update.scrollLeft<"u"?update.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,typeof update.scrollTop<"u"?update.scrollTop:this.scrollTop)},ScrollState2.prototype.createScrollEvent=function(previous){var widthChanged=this.width!==previous.width,scrollWidthChanged=this.scrollWidth!==previous.scrollWidth,scrollLeftChanged=this.scrollLeft!==previous.scrollLeft,heightChanged=this.height!==previous.height,scrollHeightChanged=this.scrollHeight!==previous.scrollHeight,scrollTopChanged=this.scrollTop!==previous.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged,scrollWidthChanged,scrollLeftChanged,heightChanged,scrollHeightChanged,scrollTopChanged}},ScrollState2}(),Scrollable=function(_super){__extends(Scrollable2,_super);function Scrollable2(smoothScrollDuration,scheduleAtNextAnimationFrame){var _this=_super.call(this)||this;return _this._onScroll=_this._register(new _event_js__WEBPACK_IMPORTED_MODULE_0__.a),_this.onScroll=_this._onScroll.event,_this._smoothScrollDuration=smoothScrollDuration,_this._scheduleAtNextAnimationFrame=scheduleAtNextAnimationFrame,_this._state=new ScrollState(0,0,0,0,0,0),_this._smoothScrolling=null,_this}return Scrollable2.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),_super.prototype.dispose.call(this)},Scrollable2.prototype.setSmoothScrollDuration=function(smoothScrollDuration){this._smoothScrollDuration=smoothScrollDuration},Scrollable2.prototype.validateScrollPosition=function(scrollPosition){return this._state.withScrollPosition(scrollPosition)},Scrollable2.prototype.getScrollDimensions=function(){return this._state},Scrollable2.prototype.setScrollDimensions=function(dimensions){var newState=this._state.withScrollDimensions(dimensions);this._setState(newState),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)},Scrollable2.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state},Scrollable2.prototype.getCurrentScrollPosition=function(){return this._state},Scrollable2.prototype.setScrollPositionNow=function(update){var newState=this._state.withScrollPosition(update);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(newState)},Scrollable2.prototype.setScrollPositionSmooth=function(update){var _this=this;if(this._smoothScrollDuration===0)return this.setScrollPositionNow(update);if(this._smoothScrolling){update={scrollLeft:typeof update.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:update.scrollLeft,scrollTop:typeof update.scrollTop>"u"?this._smoothScrolling.to.scrollTop:update.scrollTop};var validTarget=this._state.withScrollPosition(update);if(this._smoothScrolling.to.scrollLeft===validTarget.scrollLeft&&this._smoothScrolling.to.scrollTop===validTarget.scrollTop)return;var newSmoothScrolling=this._smoothScrolling.combine(this._state,validTarget,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=newSmoothScrolling}else{var validTarget=this._state.withScrollPosition(update);this._smoothScrolling=SmoothScrollingOperation.start(this._state,validTarget,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){_this._smoothScrolling&&(_this._smoothScrolling.animationFrameDisposable=null,_this._performSmoothScrolling())})},Scrollable2.prototype._performSmoothScrolling=function(){var _this=this;if(this._smoothScrolling){var update=this._smoothScrolling.tick(),newState=this._state.withScrollPosition(update);if(this._setState(newState),update.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){_this._smoothScrolling&&(_this._smoothScrolling.animationFrameDisposable=null,_this._performSmoothScrolling())})}},Scrollable2.prototype._setState=function(newState){var oldState=this._state;oldState.equals(newState)||(this._state=newState,this._onScroll.fire(this._state.createScrollEvent(oldState)))},Scrollable2}(_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a),SmoothScrollingUpdate=function(){function SmoothScrollingUpdate2(scrollLeft,scrollTop,isDone){this.scrollLeft=scrollLeft,this.scrollTop=scrollTop,this.isDone=isDone}return SmoothScrollingUpdate2}();function createEaseOutCubic(from,to){var delta=to-from;return function(completion){return from+delta*easeOutCubic(completion)}}function createComposed(a,b,cut){return function(completion){return completion<cut?a(completion/cut):b((completion-cut)/(1-cut))}}var SmoothScrollingOperation=function(){function SmoothScrollingOperation2(from,to,startTime,duration){this.from=from,this.to=to,this.duration=duration,this._startTime=startTime,this.animationFrameDisposable=null,this._initAnimations()}return SmoothScrollingOperation2.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)},SmoothScrollingOperation2.prototype._initAnimation=function(from,to,viewportSize){var delta=Math.abs(from-to);if(delta>2.5*viewportSize){var stop1=void 0,stop2=void 0;return from<to?(stop1=from+.75*viewportSize,stop2=to-.75*viewportSize):(stop1=from-.75*viewportSize,stop2=to+.75*viewportSize),createComposed(createEaseOutCubic(from,stop1),createEaseOutCubic(stop2,to),.33)}return createEaseOutCubic(from,to)},SmoothScrollingOperation2.prototype.dispose=function(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)},SmoothScrollingOperation2.prototype.acceptScrollDimensions=function(state){this.to=state.withScrollPosition(this.to),this._initAnimations()},SmoothScrollingOperation2.prototype.tick=function(){return this._tick(Date.now())},SmoothScrollingOperation2.prototype._tick=function(now){var completion=(now-this._startTime)/this.duration;if(completion<1){var newScrollLeft=this.scrollLeft(completion),newScrollTop=this.scrollTop(completion);return new SmoothScrollingUpdate(newScrollLeft,newScrollTop,!1)}return new SmoothScrollingUpdate(this.to.scrollLeft,this.to.scrollTop,!0)},SmoothScrollingOperation2.prototype.combine=function(from,to,duration){return SmoothScrollingOperation2.start(from,to,duration)},SmoothScrollingOperation2.start=function(from,to,duration){duration=duration+10;var startTime=Date.now()-10;return new SmoothScrollingOperation2(from,to,startTime,duration)},SmoothScrollingOperation2}();function easeInCubic(t){return Math.pow(t,3)}function easeOutCubic(t){return 1-easeInCubic(1-t)}},3872:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DeleteOperations});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3240),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2787),_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3499),_core_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2056),DeleteOperations=function(){function DeleteOperations2(){}return DeleteOperations2.deleteRight=function(prevEditOperationType,config,model,selections){for(var commands=[],shouldPushStackElementBefore=prevEditOperationType!==3,i=0,len=selections.length;i<len;i++){var selection=selections[i],deleteSelection=selection;if(deleteSelection.isEmpty()){var position=selection.getPosition(),rightOfPosition=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.right(config,model,position.lineNumber,position.column);deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(rightOfPosition.lineNumber,rightOfPosition.column,position.lineNumber,position.column)}if(deleteSelection.isEmpty()){commands[i]=null;continue}deleteSelection.startLineNumber!==deleteSelection.endLineNumber&&(shouldPushStackElementBefore=!0),commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteSelection,"")}return[shouldPushStackElementBefore,commands]},DeleteOperations2._isAutoClosingPairDelete=function(config,model,selections){if(config.autoClosingBrackets==="never"&&config.autoClosingQuotes==="never")return!1;for(var i=0,len=selections.length;i<len;i++){var selection=selections[i],position=selection.getPosition();if(!selection.isEmpty())return!1;var lineText=model.getLineContent(position.lineNumber),character=lineText[position.column-2],autoClosingPairCandidates=config.autoClosingPairsOpen2.get(character);if(!autoClosingPairCandidates)return!1;if(Object(_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.g)(character)){if(config.autoClosingQuotes==="never")return!1}else if(config.autoClosingBrackets==="never")return!1;for(var afterCharacter=lineText[position.column-1],foundAutoClosingPair=!1,_i=0,autoClosingPairCandidates_1=autoClosingPairCandidates;_i<autoClosingPairCandidates_1.length;_i++){var autoClosingPairCandidate=autoClosingPairCandidates_1[_i];autoClosingPairCandidate.open===character&&autoClosingPairCandidate.close===afterCharacter&&(foundAutoClosingPair=!0)}if(!foundAutoClosingPair)return!1}return!0},DeleteOperations2._runAutoClosingPairDelete=function(config,model,selections){for(var commands=[],i=0,len=selections.length;i<len;i++){var position=selections[i].getPosition(),deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,position.column-1,position.lineNumber,position.column+1);commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteSelection,"")}return[!0,commands]},DeleteOperations2.deleteLeft=function(prevEditOperationType,config,model,selections){if(this._isAutoClosingPairDelete(config,model,selections))return this._runAutoClosingPairDelete(config,model,selections);for(var commands=[],shouldPushStackElementBefore=prevEditOperationType!==2,i=0,len=selections.length;i<len;i++){var selection=selections[i],deleteSelection=selection;if(deleteSelection.isEmpty()){var position=selection.getPosition();if(config.useTabStops&&position.column>1){var lineContent=model.getLineContent(position.lineNumber),firstNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.q(lineContent),lastIndentationColumn=firstNonWhitespaceIndex===-1?lineContent.length+1:firstNonWhitespaceIndex+1;if(position.column<=lastIndentationColumn){var fromVisibleColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.a.visibleColumnFromColumn2(config,model,position),toVisibleColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.a.prevIndentTabStop(fromVisibleColumn,config.indentSize),toColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.a.columnFromVisibleColumn2(config,model,position.lineNumber,toVisibleColumn);deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,toColumn,position.lineNumber,position.column)}else deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,position.column-1,position.lineNumber,position.column)}else{var leftOfPosition=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.left(config,model,position.lineNumber,position.column);deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(leftOfPosition.lineNumber,leftOfPosition.column,position.lineNumber,position.column)}}if(deleteSelection.isEmpty()){commands[i]=null;continue}deleteSelection.startLineNumber!==deleteSelection.endLineNumber&&(shouldPushStackElementBefore=!0),commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteSelection,"")}return[shouldPushStackElementBefore,commands]},DeleteOperations2.cut=function(config,model,selections){for(var commands=[],i=0,len=selections.length;i<len;i++){var selection=selections[i];if(selection.isEmpty())if(config.emptySelectionClipboard){var position=selection.getPosition(),startLineNumber=void 0,startColumn=void 0,endLineNumber=void 0,endColumn=void 0;position.lineNumber<model.getLineCount()?(startLineNumber=position.lineNumber,startColumn=1,endLineNumber=position.lineNumber+1,endColumn=1):position.lineNumber>1?(startLineNumber=position.lineNumber-1,startColumn=model.getLineMaxColumn(position.lineNumber-1),endLineNumber=position.lineNumber,endColumn=model.getLineMaxColumn(position.lineNumber)):(startLineNumber=position.lineNumber,startColumn=1,endLineNumber=position.lineNumber,endColumn=model.getLineMaxColumn(position.lineNumber));var deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(startLineNumber,startColumn,endLineNumber,endColumn);deleteSelection.isEmpty()?commands[i]=null:commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteSelection,"")}else commands[i]=null;else commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(selection,"")}return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.e(0,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},DeleteOperations2}()},3873:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return CursorMoveCommands}),__webpack_require__.d(__webpack_exports__,"a",function(){return CursorMove});var _base_common_types_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2631),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2787),_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3499),_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3500),_core_position_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2233),_core_range_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2056),CursorMoveCommands=function(){function CursorMoveCommands2(){}return CursorMoveCommands2.addCursorDown=function(context,cursors,useLogicalLine){for(var result=[],resultLen=0,i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[resultLen++]=new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d(cursor.modelState,cursor.viewState),useLogicalLine?result[resultLen++]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.translateDown(context.config,context.model,cursor.modelState)):result[resultLen++]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.translateDown(context.config,context.viewModel,cursor.viewState))}return result},CursorMoveCommands2.addCursorUp=function(context,cursors,useLogicalLine){for(var result=[],resultLen=0,i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[resultLen++]=new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d(cursor.modelState,cursor.viewState),useLogicalLine?result[resultLen++]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.translateUp(context.config,context.model,cursor.modelState)):result[resultLen++]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.translateUp(context.config,context.viewModel,cursor.viewState))}return result},CursorMoveCommands2.moveToBeginningOfLine=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=this._moveToLineStart(context,cursor,inSelectionMode)}return result},CursorMoveCommands2._moveToLineStart=function(context,cursor,inSelectionMode){var currentViewStateColumn=cursor.viewState.position.column,currentModelStateColumn=cursor.modelState.position.column,isFirstLineOfWrappedLine=currentViewStateColumn===currentModelStateColumn,currentViewStatelineNumber=cursor.viewState.position.lineNumber,firstNonBlankColumn=context.viewModel.getLineFirstNonWhitespaceColumn(currentViewStatelineNumber),isBeginningOfViewLine=currentViewStateColumn===firstNonBlankColumn;return!isFirstLineOfWrappedLine&&!isBeginningOfViewLine?this._moveToLineStartByView(context,cursor,inSelectionMode):this._moveToLineStartByModel(context,cursor,inSelectionMode)},CursorMoveCommands2._moveToLineStartByView=function(context,cursor,inSelectionMode){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToBeginningOfLine(context.config,context.viewModel,cursor.viewState,inSelectionMode))},CursorMoveCommands2._moveToLineStartByModel=function(context,cursor,inSelectionMode){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToBeginningOfLine(context.config,context.model,cursor.modelState,inSelectionMode))},CursorMoveCommands2.moveToEndOfLine=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=this._moveToLineEnd(context,cursor,inSelectionMode)}return result},CursorMoveCommands2._moveToLineEnd=function(context,cursor,inSelectionMode){var viewStatePosition=cursor.viewState.position,viewModelMaxColumn=context.viewModel.getLineMaxColumn(viewStatePosition.lineNumber),isEndOfViewLine=viewStatePosition.column===viewModelMaxColumn,modelStatePosition=cursor.modelState.position,modelMaxColumn=context.model.getLineMaxColumn(modelStatePosition.lineNumber),isEndLineOfWrappedLine=viewModelMaxColumn-viewStatePosition.column===modelMaxColumn-modelStatePosition.column;return isEndOfViewLine||isEndLineOfWrappedLine?this._moveToLineEndByModel(context,cursor,inSelectionMode):this._moveToLineEndByView(context,cursor,inSelectionMode)},CursorMoveCommands2._moveToLineEndByView=function(context,cursor,inSelectionMode){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToEndOfLine(context.config,context.viewModel,cursor.viewState,inSelectionMode))},CursorMoveCommands2._moveToLineEndByModel=function(context,cursor,inSelectionMode){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToEndOfLine(context.config,context.model,cursor.modelState,inSelectionMode))},CursorMoveCommands2.expandLineSelection=function(context,cursors){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],startLineNumber=cursor.modelState.selection.startLineNumber,lineCount=context.model.getLineCount(),endLineNumber=cursor.modelState.selection.endLineNumber,endColumn=void 0;endLineNumber===lineCount?endColumn=context.model.getLineMaxColumn(lineCount):(endLineNumber++,endColumn=1),result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(startLineNumber,1,startLineNumber,1),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(endLineNumber,endColumn),0))}return result},CursorMoveCommands2.moveToBeginningOfBuffer=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToBeginningOfBuffer(context.config,context.model,cursor.modelState,inSelectionMode))}return result},CursorMoveCommands2.moveToEndOfBuffer=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToEndOfBuffer(context.config,context.model,cursor.modelState,inSelectionMode))}return result},CursorMoveCommands2.selectAll=function(context,cursor){var lineCount=context.model.getLineCount(),maxColumn=context.model.getLineMaxColumn(lineCount);return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(1,1,1,1),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(lineCount,maxColumn),0))},CursorMoveCommands2.line=function(context,cursor,inSelectionMode,_position,_viewPosition){var position=context.model.validatePosition(_position),viewPosition=_viewPosition?context.validateViewPosition(new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(_viewPosition.lineNumber,_viewPosition.column),position):context.convertModelPositionToViewPosition(position);if(!inSelectionMode||!cursor.modelState.hasSelection()){var lineCount=context.model.getLineCount(),selectToLineNumber=position.lineNumber+1,selectToColumn=1;return selectToLineNumber>lineCount&&(selectToLineNumber=lineCount,selectToColumn=context.model.getLineMaxColumn(selectToLineNumber)),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(position.lineNumber,1,selectToLineNumber,selectToColumn),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(selectToLineNumber,selectToColumn),0))}var enteringLineNumber=cursor.modelState.selectionStart.getStartPosition().lineNumber;if(position.lineNumber<enteringLineNumber)return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(cursor.viewState.move(cursor.modelState.hasSelection(),viewPosition.lineNumber,1,0));if(position.lineNumber>enteringLineNumber){var lineCount=context.viewModel.getLineCount(),selectToViewLineNumber=viewPosition.lineNumber+1,selectToViewColumn=1;return selectToViewLineNumber>lineCount&&(selectToViewLineNumber=lineCount,selectToViewColumn=context.viewModel.getLineMaxColumn(selectToViewLineNumber)),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(cursor.viewState.move(cursor.modelState.hasSelection(),selectToViewLineNumber,selectToViewColumn,0))}else{var endPositionOfSelectionStart=cursor.modelState.selectionStart.getEndPosition();return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(cursor.modelState.move(cursor.modelState.hasSelection(),endPositionOfSelectionStart.lineNumber,endPositionOfSelectionStart.column,0))}},CursorMoveCommands2.word=function(context,cursor,inSelectionMode,_position){var position=context.model.validatePosition(_position);return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.word(context.config,context.model,cursor.modelState,inSelectionMode,position))},CursorMoveCommands2.cancelSelection=function(context,cursor){if(!cursor.modelState.hasSelection())return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d(cursor.modelState,cursor.viewState);var lineNumber=cursor.viewState.position.lineNumber,column=cursor.viewState.position.column;return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(lineNumber,column,lineNumber,column),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(lineNumber,column),0))},CursorMoveCommands2.moveTo=function(context,cursor,inSelectionMode,_position,_viewPosition){var position=context.model.validatePosition(_position),viewPosition=_viewPosition?context.validateViewPosition(new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(_viewPosition.lineNumber,_viewPosition.column),position):context.convertModelPositionToViewPosition(position);return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(cursor.viewState.move(inSelectionMode,viewPosition.lineNumber,viewPosition.column,0))},CursorMoveCommands2.move=function(context,cursors,args){var inSelectionMode=args.select,value=args.value;switch(args.direction){case 0:return args.unit===4?this._moveHalfLineLeft(context,cursors,inSelectionMode):this._moveLeft(context,cursors,inSelectionMode,value);case 1:return args.unit===4?this._moveHalfLineRight(context,cursors,inSelectionMode):this._moveRight(context,cursors,inSelectionMode,value);case 2:return args.unit===2?this._moveUpByViewLines(context,cursors,inSelectionMode,value):this._moveUpByModelLines(context,cursors,inSelectionMode,value);case 3:return args.unit===2?this._moveDownByViewLines(context,cursors,inSelectionMode,value):this._moveDownByModelLines(context,cursors,inSelectionMode,value);case 4:return this._moveToViewMinColumn(context,cursors,inSelectionMode);case 5:return this._moveToViewFirstNonWhitespaceColumn(context,cursors,inSelectionMode);case 6:return this._moveToViewCenterColumn(context,cursors,inSelectionMode);case 7:return this._moveToViewMaxColumn(context,cursors,inSelectionMode);case 8:return this._moveToViewLastNonWhitespaceColumn(context,cursors,inSelectionMode);case 9:{var cursor=cursors[0],visibleModelRange=context.getCompletelyVisibleModelRange(),modelLineNumber=this._firstLineNumberInRange(context.model,visibleModelRange,value),modelColumn=context.model.getLineFirstNonWhitespaceColumn(modelLineNumber);return[this._moveToModelPosition(context,cursor,inSelectionMode,modelLineNumber,modelColumn)]}case 11:{var cursor=cursors[0],visibleModelRange=context.getCompletelyVisibleModelRange(),modelLineNumber=this._lastLineNumberInRange(context.model,visibleModelRange,value),modelColumn=context.model.getLineFirstNonWhitespaceColumn(modelLineNumber);return[this._moveToModelPosition(context,cursor,inSelectionMode,modelLineNumber,modelColumn)]}case 10:{var cursor=cursors[0],visibleModelRange=context.getCompletelyVisibleModelRange(),modelLineNumber=Math.round((visibleModelRange.startLineNumber+visibleModelRange.endLineNumber)/2),modelColumn=context.model.getLineFirstNonWhitespaceColumn(modelLineNumber);return[this._moveToModelPosition(context,cursor,inSelectionMode,modelLineNumber,modelColumn)]}case 12:{for(var visibleViewRange=context.getCompletelyVisibleViewRange(),result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=this.findPositionInViewportIfOutside(context,cursor,visibleViewRange,inSelectionMode)}return result}}return null},CursorMoveCommands2.findPositionInViewportIfOutside=function(context,cursor,visibleViewRange,inSelectionMode){var viewLineNumber=cursor.viewState.position.lineNumber;if(visibleViewRange.startLineNumber<=viewLineNumber&&viewLineNumber<=visibleViewRange.endLineNumber-1)return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d(cursor.modelState,cursor.viewState);viewLineNumber>visibleViewRange.endLineNumber-1&&(viewLineNumber=visibleViewRange.endLineNumber-1),viewLineNumber<visibleViewRange.startLineNumber&&(viewLineNumber=visibleViewRange.startLineNumber);var viewColumn=context.viewModel.getLineFirstNonWhitespaceColumn(viewLineNumber);return this._moveToViewPosition(context,cursor,inSelectionMode,viewLineNumber,viewColumn)},CursorMoveCommands2._firstLineNumberInRange=function(model,range,count){var startLineNumber=range.startLineNumber;return range.startColumn!==model.getLineMinColumn(startLineNumber)&&startLineNumber++,Math.min(range.endLineNumber,startLineNumber+count-1)},CursorMoveCommands2._lastLineNumberInRange=function(model,range,count){var startLineNumber=range.startLineNumber;return range.startColumn!==model.getLineMinColumn(startLineNumber)&&startLineNumber++,Math.max(startLineNumber,range.endLineNumber-count+1)},CursorMoveCommands2._moveLeft=function(context,cursors,inSelectionMode,noOfColumns){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],newViewState=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveLeft(context.config,context.viewModel,cursor.viewState,inSelectionMode,noOfColumns);if(noOfColumns===1&&newViewState.position.lineNumber!==cursor.viewState.position.lineNumber){var newViewModelPosition=context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(newViewState.position);newViewModelPosition.lineNumber===cursor.modelState.position.lineNumber&&(newViewState=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveLeft(context.config,context.viewModel,newViewState,inSelectionMode,1))}result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(newViewState)}return result},CursorMoveCommands2._moveHalfLineLeft=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,halfLine=Math.round(context.viewModel.getLineContent(viewLineNumber).length/2);result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveLeft(context.config,context.viewModel,cursor.viewState,inSelectionMode,halfLine))}return result},CursorMoveCommands2._moveRight=function(context,cursors,inSelectionMode,noOfColumns){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],newViewState=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveRight(context.config,context.viewModel,cursor.viewState,inSelectionMode,noOfColumns);if(noOfColumns===1&&newViewState.position.lineNumber!==cursor.viewState.position.lineNumber){var newViewModelPosition=context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(newViewState.position);newViewModelPosition.lineNumber===cursor.modelState.position.lineNumber&&(newViewState=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveRight(context.config,context.viewModel,newViewState,inSelectionMode,1))}result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(newViewState)}return result},CursorMoveCommands2._moveHalfLineRight=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,halfLine=Math.round(context.viewModel.getLineContent(viewLineNumber).length/2);result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveRight(context.config,context.viewModel,cursor.viewState,inSelectionMode,halfLine))}return result},CursorMoveCommands2._moveDownByViewLines=function(context,cursors,inSelectionMode,linesCount){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveDown(context.config,context.viewModel,cursor.viewState,inSelectionMode,linesCount))}return result},CursorMoveCommands2._moveDownByModelLines=function(context,cursors,inSelectionMode,linesCount){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveDown(context.config,context.model,cursor.modelState,inSelectionMode,linesCount))}return result},CursorMoveCommands2._moveUpByViewLines=function(context,cursors,inSelectionMode,linesCount){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveUp(context.config,context.viewModel,cursor.viewState,inSelectionMode,linesCount))}return result},CursorMoveCommands2._moveUpByModelLines=function(context,cursors,inSelectionMode,linesCount){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveUp(context.config,context.model,cursor.modelState,inSelectionMode,linesCount))}return result},CursorMoveCommands2._moveToViewPosition=function(context,cursor,inSelectionMode,toViewLineNumber,toViewColumn){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(cursor.viewState.move(inSelectionMode,toViewLineNumber,toViewColumn,0))},CursorMoveCommands2._moveToModelPosition=function(context,cursor,inSelectionMode,toModelLineNumber,toModelColumn){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(cursor.modelState.move(inSelectionMode,toModelLineNumber,toModelColumn,0))},CursorMoveCommands2._moveToViewMinColumn=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=context.viewModel.getLineMinColumn(viewLineNumber);result[i]=this._moveToViewPosition(context,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result},CursorMoveCommands2._moveToViewFirstNonWhitespaceColumn=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=context.viewModel.getLineFirstNonWhitespaceColumn(viewLineNumber);result[i]=this._moveToViewPosition(context,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result},CursorMoveCommands2._moveToViewCenterColumn=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=Math.round((context.viewModel.getLineMaxColumn(viewLineNumber)+context.viewModel.getLineMinColumn(viewLineNumber))/2);result[i]=this._moveToViewPosition(context,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result},CursorMoveCommands2._moveToViewMaxColumn=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=context.viewModel.getLineMaxColumn(viewLineNumber);result[i]=this._moveToViewPosition(context,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result},CursorMoveCommands2._moveToViewLastNonWhitespaceColumn=function(context,cursors,inSelectionMode){for(var result=[],i=0,len=cursors.length;i<len;i++){var cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=context.viewModel.getLineLastNonWhitespaceColumn(viewLineNumber);result[i]=this._moveToViewPosition(context,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result},CursorMoveCommands2}(),CursorMove;(function(CursorMove2){var isCursorMoveArgs=function(arg){if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.i(arg))return!1;var cursorMoveArg=arg;return!(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.j(cursorMoveArg.to)||!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.k(cursorMoveArg.select)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.e(cursorMoveArg.select)||!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.k(cursorMoveArg.by)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.j(cursorMoveArg.by)||!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.k(cursorMoveArg.value)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.h(cursorMoveArg.value))};CursorMove2.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down'
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:isCursorMoveArgs,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},CursorMove2.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},CursorMove2.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function parse(args){if(!args.to)return null;var direction;switch(args.to){case CursorMove2.RawDirection.Left:direction=0;break;case CursorMove2.RawDirection.Right:direction=1;break;case CursorMove2.RawDirection.Up:direction=2;break;case CursorMove2.RawDirection.Down:direction=3;break;case CursorMove2.RawDirection.WrappedLineStart:direction=4;break;case CursorMove2.RawDirection.WrappedLineFirstNonWhitespaceCharacter:direction=5;break;case CursorMove2.RawDirection.WrappedLineColumnCenter:direction=6;break;case CursorMove2.RawDirection.WrappedLineEnd:direction=7;break;case CursorMove2.RawDirection.WrappedLineLastNonWhitespaceCharacter:direction=8;break;case CursorMove2.RawDirection.ViewPortTop:direction=9;break;case CursorMove2.RawDirection.ViewPortBottom:direction=11;break;case CursorMove2.RawDirection.ViewPortCenter:direction=10;break;case CursorMove2.RawDirection.ViewPortIfOutside:direction=12;break;default:return null}var unit=0;switch(args.by){case CursorMove2.RawUnit.Line:unit=1;break;case CursorMove2.RawUnit.WrappedLine:unit=2;break;case CursorMove2.RawUnit.Character:unit=3;break;case CursorMove2.RawUnit.HalfLine:unit=4;break}return{direction,unit,select:!!args.select,value:args.value||1}}CursorMove2.parse=parse})(CursorMove||(CursorMove={}))},3874:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ShiftCommand});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2787),_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2056),_core_selection_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2629),_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2810),repeatCache=Object.create(null);function cachedStringRepeat(str,count){repeatCache[str]||(repeatCache[str]=["",str]);for(var cache=repeatCache[str],i=cache.length;i<=count;i++)cache[i]=cache[i-1]+str;return cache[count]}var ShiftCommand=function(){function ShiftCommand2(range,opts){this._opts=opts,this._selection=range,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return ShiftCommand2.unshiftIndent=function(line,column,tabSize,indentSize,insertSpaces){var contentStartVisibleColumn=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.visibleColumnFromColumn(line,column,tabSize);if(insertSpaces){var indent=cachedStringRepeat(" ",indentSize),desiredTabStop=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.prevIndentTabStop(contentStartVisibleColumn,indentSize),indentCount=desiredTabStop/indentSize;return cachedStringRepeat(indent,indentCount)}else{var indent="	",desiredTabStop=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.prevRenderTabStop(contentStartVisibleColumn,tabSize),indentCount=desiredTabStop/tabSize;return cachedStringRepeat(indent,indentCount)}},ShiftCommand2.shiftIndent=function(line,column,tabSize,indentSize,insertSpaces){var contentStartVisibleColumn=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.visibleColumnFromColumn(line,column,tabSize);if(insertSpaces){var indent=cachedStringRepeat(" ",indentSize),desiredTabStop=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.nextIndentTabStop(contentStartVisibleColumn,indentSize),indentCount=desiredTabStop/indentSize;return cachedStringRepeat(indent,indentCount)}else{var indent="	",desiredTabStop=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.nextRenderTabStop(contentStartVisibleColumn,tabSize),indentCount=desiredTabStop/tabSize;return cachedStringRepeat(indent,indentCount)}},ShiftCommand2.prototype._addEditOperation=function(builder,range,text){this._useLastEditRangeForCursorEndPosition?builder.addTrackedEditOperation(range,text):builder.addEditOperation(range,text)},ShiftCommand2.prototype.getEditOperations=function(model,builder){var startLine=this._selection.startLineNumber,endLine=this._selection.endLineNumber;this._selection.endColumn===1&&startLine!==endLine&&(endLine=endLine-1);var _a=this._opts,tabSize=_a.tabSize,indentSize=_a.indentSize,insertSpaces=_a.insertSpaces,shouldIndentEmptyLines=startLine===endLine;if(this._selection.isEmpty()&&/^\s*$/.test(model.getLineContent(startLine))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var previousLineExtraSpaces=0,extraSpaces=0,lineNumber=startLine;lineNumber<=endLine;lineNumber++,previousLineExtraSpaces=extraSpaces){extraSpaces=0;var lineText=model.getLineContent(lineNumber),indentationEndIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.q(lineText);if(!(this._opts.isUnshift&&(lineText.length===0||indentationEndIndex===0))&&!(!shouldIndentEmptyLines&&!this._opts.isUnshift&&lineText.length===0)){if(indentationEndIndex===-1&&(indentationEndIndex=lineText.length),lineNumber>1){var contentStartVisibleColumn=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.visibleColumnFromColumn(lineText,indentationEndIndex+1,tabSize);if(contentStartVisibleColumn%indentSize!==0&&model.isCheapToTokenize(lineNumber-1)){var enterAction=_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_4__.a.getEnterAction(this._opts.autoIndent,model,new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber-1,model.getLineMaxColumn(lineNumber-1),lineNumber-1,model.getLineMaxColumn(lineNumber-1)));if(enterAction){if(extraSpaces=previousLineExtraSpaces,enterAction.appendText)for(var j=0,lenJ=enterAction.appendText.length;j<lenJ&&extraSpaces<indentSize&&enterAction.appendText.charCodeAt(j)===32;j++)extraSpaces++;enterAction.removeText&&(extraSpaces=Math.max(0,extraSpaces-enterAction.removeText));for(var j=0;j<extraSpaces&&!(indentationEndIndex===0||lineText.charCodeAt(indentationEndIndex-1)!==32);j++)indentationEndIndex--}}}if(!(this._opts.isUnshift&&indentationEndIndex===0)){var desiredIndent=void 0;this._opts.isUnshift?desiredIndent=ShiftCommand2.unshiftIndent(lineText,indentationEndIndex+1,tabSize,indentSize,insertSpaces):desiredIndent=ShiftCommand2.shiftIndent(lineText,indentationEndIndex+1,tabSize,indentSize,insertSpaces),this._addEditOperation(builder,new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,1,lineNumber,indentationEndIndex+1),desiredIndent),lineNumber===startLine&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=indentationEndIndex+1)}}}else for(var oneIndent=insertSpaces?cachedStringRepeat(" ",indentSize):"	",lineNumber=startLine;lineNumber<=endLine;lineNumber++){var lineText=model.getLineContent(lineNumber),indentationEndIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.q(lineText);if(!(this._opts.isUnshift&&(lineText.length===0||indentationEndIndex===0))&&!(!shouldIndentEmptyLines&&!this._opts.isUnshift&&lineText.length===0)&&(indentationEndIndex===-1&&(indentationEndIndex=lineText.length),!(this._opts.isUnshift&&indentationEndIndex===0)))if(this._opts.isUnshift){indentationEndIndex=Math.min(indentationEndIndex,indentSize);for(var i=0;i<indentationEndIndex;i++){var chr=lineText.charCodeAt(i);if(chr===9){indentationEndIndex=i+1;break}}this._addEditOperation(builder,new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,1,lineNumber,indentationEndIndex+1),"")}else this._addEditOperation(builder,new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,1,lineNumber,1),oneIndent),lineNumber===startLine&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}this._selectionId=builder.trackSelection(this._selection)},ShiftCommand2.prototype.computeCursorState=function(model,helper){if(this._useLastEditRangeForCursorEndPosition){var lastOp=helper.getInverseEditOperations()[0];return new _core_selection_js__WEBPACK_IMPORTED_MODULE_3__.a(lastOp.range.endLineNumber,lastOp.range.endColumn,lastOp.range.endLineNumber,lastOp.range.endColumn)}var result=helper.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var initialStartColumn=this._selection.startColumn,resultStartColumn=result.startColumn;return resultStartColumn<=initialStartColumn?result:result.getDirection()===0?new _core_selection_js__WEBPACK_IMPORTED_MODULE_3__.a(result.startLineNumber,initialStartColumn,result.endLineNumber,result.endColumn):new _core_selection_js__WEBPACK_IMPORTED_MODULE_3__.a(result.endLineNumber,result.endColumn,result.startLineNumber,initialStartColumn)}return result},ShiftCommand2}()},3875:function(module,exports,__webpack_require__){},3876:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EmbeddedCodeEditorWidget});var _base_common_objects_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2734),_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2732),_codeEditorWidget_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2653),_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2733),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2238),_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2232),_platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2761),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2235),_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3167),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},EmbeddedCodeEditorWidget=function(_super){__extends(EmbeddedCodeEditorWidget2,_super);function EmbeddedCodeEditorWidget2(domElement,options,parentEditor,instantiationService,codeEditorService,commandService,contextKeyService,themeService,notificationService,accessibilityService){var _this=_super.call(this,domElement,parentEditor.getRawOptions(),{},instantiationService,codeEditorService,commandService,contextKeyService,themeService,notificationService,accessibilityService)||this;return _this._parentEditor=parentEditor,_this._overwriteOptions=options,_super.prototype.updateOptions.call(_this,_this._overwriteOptions),_this._register(parentEditor.onDidChangeConfiguration(function(e){return _this._onParentConfigurationChanged(e)})),_this}return EmbeddedCodeEditorWidget2.prototype.getParentEditor=function(){return this._parentEditor},EmbeddedCodeEditorWidget2.prototype._onParentConfigurationChanged=function(e){_super.prototype.updateOptions.call(this,this._parentEditor.getRawOptions()),_super.prototype.updateOptions.call(this,this._overwriteOptions)},EmbeddedCodeEditorWidget2.prototype.updateOptions=function(newOptions){_base_common_objects_js__WEBPACK_IMPORTED_MODULE_0__.g(this._overwriteOptions,newOptions,!0),_super.prototype.updateOptions.call(this,this._overwriteOptions)},EmbeddedCodeEditorWidget2=__decorate([__param(3,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_5__.a),__param(4,_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_1__.a),__param(5,_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__.b),__param(6,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c),__param(7,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_7__.c),__param(8,_platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_6__.a),__param(9,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_8__.b)],EmbeddedCodeEditorWidget2),EmbeddedCodeEditorWidget2}(_codeEditorWidget_js__WEBPACK_IMPORTED_MODULE_2__.a)},3877:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OverviewRulerZone}),__webpack_require__.d(__webpack_exports__,"b",function(){return OverviewZoneManager});var ColorZone=function(){function ColorZone2(from,to,colorId){this.from=from|0,this.to=to|0,this.colorId=colorId|0}return ColorZone2.compare=function(a,b){return a.colorId===b.colorId?a.from===b.from?a.to-b.to:a.from-b.from:a.colorId-b.colorId},ColorZone2}(),OverviewRulerZone=function(){function OverviewRulerZone2(startLineNumber,endLineNumber,color){this.startLineNumber=startLineNumber,this.endLineNumber=endLineNumber,this.color=color,this._colorZone=null}return OverviewRulerZone2.compare=function(a,b){return a.color===b.color?a.startLineNumber===b.startLineNumber?a.endLineNumber-b.endLineNumber:a.startLineNumber-b.startLineNumber:a.color<b.color?-1:1},OverviewRulerZone2.prototype.setColorZone=function(colorZone){this._colorZone=colorZone},OverviewRulerZone2.prototype.getColorZones=function(){return this._colorZone},OverviewRulerZone2}(),OverviewZoneManager=function(){function OverviewZoneManager2(getVerticalOffsetForLine){this._getVerticalOffsetForLine=getVerticalOffsetForLine,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return OverviewZoneManager2.prototype.getId2Color=function(){return this._id2Color},OverviewZoneManager2.prototype.setZones=function(newZones){this._zones=newZones,this._zones.sort(OverviewRulerZone.compare)},OverviewZoneManager2.prototype.setLineHeight=function(lineHeight){return this._lineHeight===lineHeight?!1:(this._lineHeight=lineHeight,this._colorZonesInvalid=!0,!0)},OverviewZoneManager2.prototype.setPixelRatio=function(pixelRatio){this._pixelRatio=pixelRatio,this._colorZonesInvalid=!0},OverviewZoneManager2.prototype.getDOMWidth=function(){return this._domWidth},OverviewZoneManager2.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},OverviewZoneManager2.prototype.setDOMWidth=function(width){return this._domWidth===width?!1:(this._domWidth=width,this._colorZonesInvalid=!0,!0)},OverviewZoneManager2.prototype.getDOMHeight=function(){return this._domHeight},OverviewZoneManager2.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},OverviewZoneManager2.prototype.setDOMHeight=function(height){return this._domHeight===height?!1:(this._domHeight=height,this._colorZonesInvalid=!0,!0)},OverviewZoneManager2.prototype.getOuterHeight=function(){return this._outerHeight},OverviewZoneManager2.prototype.setOuterHeight=function(outerHeight){return this._outerHeight===outerHeight?!1:(this._outerHeight=outerHeight,this._colorZonesInvalid=!0,!0)},OverviewZoneManager2.prototype.resolveColorZones=function(){for(var colorZonesInvalid=this._colorZonesInvalid,lineHeight=Math.floor(this._lineHeight),totalHeight=Math.floor(this.getCanvasHeight()),outerHeight=Math.floor(this._outerHeight),heightRatio=totalHeight/outerHeight,halfMinimumHeight=Math.floor(4*this._pixelRatio/2),allColorZones=[],i=0,len=this._zones.length;i<len;i++){var zone=this._zones[i];if(!colorZonesInvalid){var colorZone_1=zone.getColorZones();if(colorZone_1){allColorZones.push(colorZone_1);continue}}var y1=Math.floor(heightRatio*this._getVerticalOffsetForLine(zone.startLineNumber)),y2=Math.floor(heightRatio*(this._getVerticalOffsetForLine(zone.endLineNumber)+lineHeight)),ycenter=Math.floor((y1+y2)/2),halfHeight=y2-ycenter;halfHeight<halfMinimumHeight&&(halfHeight=halfMinimumHeight),ycenter-halfHeight<0&&(ycenter=halfHeight),ycenter+halfHeight>totalHeight&&(ycenter=totalHeight-halfHeight);var color=zone.color,colorId=this._color2Id[color];colorId||(colorId=++this._lastAssignedId,this._color2Id[color]=colorId,this._id2Color[colorId]=color);var colorZone=new ColorZone(ycenter-halfHeight,ycenter+halfHeight,colorId);zone.setColorZone(colorZone),allColorZones.push(colorZone)}return this._colorZonesInvalid=!1,allColorZones.sort(ColorZone.compare),allColorZones},OverviewZoneManager2}()},3878:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return InternalEditorAction});var InternalEditorAction=function(){function InternalEditorAction2(id,label,alias,precondition,run,contextKeyService){this.id=id,this.label=label,this.alias=alias,this._precondition=precondition,this._run=run,this._contextKeyService=contextKeyService}return InternalEditorAction2.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},InternalEditorAction2.prototype.run=function(){if(!this.isSupported())return Promise.resolve(void 0);var r=this._run();return r||Promise.resolve(void 0)},InternalEditorAction2}()},3879:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return tokenizeToString}),__webpack_require__.d(__webpack_exports__,"a",function(){return tokenizeLineToHTML});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2123),_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3283),_nullMode_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3165),fallback={getInitialState:function(){return _nullMode_js__WEBPACK_IMPORTED_MODULE_2__.c},tokenize2:function(buffer,state,deltaOffset){return Object(_nullMode_js__WEBPACK_IMPORTED_MODULE_2__.e)(0,buffer,state,deltaOffset)}};function tokenizeToString(text,tokenizationSupport){return tokenizationSupport===void 0&&(tokenizationSupport=fallback),_tokenizeToString(text,tokenizationSupport||fallback)}function tokenizeLineToHTML(text,viewLineTokens,colorMap,startOffset,endOffset,tabSize,useNbsp){for(var result="<div>",charIndex=startOffset,tabsCharDelta=0,tokenIndex=0,tokenCount=viewLineTokens.getCount();tokenIndex<tokenCount;tokenIndex++){var tokenEndIndex=viewLineTokens.getEndOffset(tokenIndex);if(!(tokenEndIndex<=startOffset)){for(var partContent="";charIndex<tokenEndIndex&&charIndex<endOffset;charIndex++){var charCode=text.charCodeAt(charIndex);switch(charCode){case 9:var insertSpacesCount=tabSize-(charIndex+tabsCharDelta)%tabSize;for(tabsCharDelta+=insertSpacesCount-1;insertSpacesCount>0;)partContent+=useNbsp?"&#160;":" ",insertSpacesCount--;break;case 60:partContent+="&lt;";break;case 62:partContent+="&gt;";break;case 38:partContent+="&amp;";break;case 0:partContent+="&#00;";break;case 65279:case 8232:partContent+="\uFFFD";break;case 13:partContent+="&#8203";break;case 32:partContent+=useNbsp?"&#160;":" ";break;default:partContent+=String.fromCharCode(charCode)}}if(result+='<span style="'+viewLineTokens.getInlineStyle(tokenIndex,colorMap)+'">'+partContent+"</span>",tokenEndIndex>endOffset||charIndex>=endOffset)break}}return result+="</div>",result}function _tokenizeToString(text,tokenizationSupport){for(var result='<div class="monaco-tokenized-source">',lines=text.split(/\r\n|\r|\n/),currentState=tokenizationSupport.getInitialState(),i=0,len=lines.length;i<len;i++){var line=lines[i];i>0&&(result+="<br/>");var tokenizationResult=tokenizationSupport.tokenize2(line,currentState,0);_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a.convertToEndOffset(tokenizationResult.tokens,line.length);for(var lineTokens=new _core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a(tokenizationResult.tokens,line),viewLineTokens=lineTokens.inflate(),startOffset=0,j=0,lenJ=viewLineTokens.getCount();j<lenJ;j++){var type=viewLineTokens.getClassName(j),endIndex=viewLineTokens.getEndOffset(j);result+='<span class="'+type+'">'+_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.o(line.substring(startOffset,endIndex))+"</span>",startOffset=endIndex}currentState=tokenizationResult.endState}return result+="</div>",result}},3880:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return UILabelProvider}),__webpack_require__.d(__webpack_exports__,"a",function(){return AriaLabelProvider});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2069),ModifierLabelProvider=function(){function ModifierLabelProvider2(mac,windows,linux){linux===void 0&&(linux=windows),this.modifierLabels=[null],this.modifierLabels[2]=mac,this.modifierLabels[1]=windows,this.modifierLabels[3]=linux}return ModifierLabelProvider2.prototype.toLabel=function(OS,parts,keyLabelProvider){if(parts.length===0)return null;for(var result=[],i=0,len=parts.length;i<len;i++){var part=parts[i],keyLabel=keyLabelProvider(part);if(keyLabel===null)return null;result[i]=_simpleAsString(part,keyLabel,this.modifierLabels[OS])}return result.join(" ")},ModifierLabelProvider2}(),UILabelProvider=new ModifierLabelProvider({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),AriaLabelProvider=new ModifierLabelProvider({ctrlKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function _simpleAsString(modifiers,key,labels){if(key===null)return"";var result=[];return modifiers.ctrlKey&&result.push(labels.ctrlKey),modifiers.shiftKey&&result.push(labels.shiftKey),modifiers.altKey&&result.push(labels.altKey),modifiers.metaKey&&result.push(labels.metaKey),result.push(key),result.join(labels.separator)}},3881:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getDefinitionsAtPosition}),__webpack_require__.d(__webpack_exports__,"a",function(){return getDeclarationsAtPosition}),__webpack_require__.d(__webpack_exports__,"c",function(){return getImplementationsAtPosition}),__webpack_require__.d(__webpack_exports__,"e",function(){return getTypeDefinitionsAtPosition}),__webpack_require__.d(__webpack_exports__,"d",function(){return getReferencesAtPosition});var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2389),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2649),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2176),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2099),_common_modes_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2240),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}};function getLocationLinks(model,position,registry,provide){var provider=registry.ordered(model),promises=provider.map(function(provider2){return Promise.resolve(provide(provider2,model,position)).then(void 0,function(err){Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.f)(err)})});return Promise.all(promises).then(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.m).then(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.d)}function getDefinitionsAtPosition(model,position,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_4__.f,function(provider,model2,position2){return provider.provideDefinition(model2,position2,token)})}function getDeclarationsAtPosition(model,position,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_4__.e,function(provider,model2,position2){return provider.provideDeclaration(model2,position2,token)})}function getImplementationsAtPosition(model,position,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_4__.o,function(provider,model2,position2){return provider.provideImplementation(model2,position2,token)})}function getTypeDefinitionsAtPosition(model,position,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_4__.B,function(provider,model2,position2){return provider.provideTypeDefinition(model2,position2,token)})}function getReferencesAtPosition(model,position,compact,token){var _this=this;return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_4__.s,function(provider,model2,position2){return __awaiter(_this,void 0,void 0,function(){var result,resultWithoutDeclaration;return __generator(this,function(_a){switch(_a.label){case 0:return[4,provider.provideReferences(model2,position2,{includeDeclaration:!0},token)];case 1:return result=_a.sent(),!compact||!result||result.length!==2?[2,result]:[4,provider.provideReferences(model2,position2,{includeDeclaration:!1},token)];case 2:return resultWithoutDeclaration=_a.sent(),resultWithoutDeclaration&&resultWithoutDeclaration.length===1?[2,resultWithoutDeclaration]:[2,result]}})})})}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.e)("_executeDefinitionProvider",function(model,position){return getDefinitionsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.a.None)}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.e)("_executeDeclarationProvider",function(model,position){return getDeclarationsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.a.None)}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.e)("_executeImplementationProvider",function(model,position){return getImplementationsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.a.None)}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.e)("_executeTypeDefinitionProvider",function(model,position){return getTypeDefinitionsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.a.None)}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.e)("_executeReferenceProvider",function(model,position){return getReferencesAtPosition(model,position,!1,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.a.None)})},3882:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ClickLinkGesture});var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2642),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2033),_base_common_event_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2106),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2236),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function hasModifier(e,modifier){return!!e[modifier]}var ClickLinkMouseEvent=function(){function ClickLinkMouseEvent2(source,opts){this.target=source.target,this.hasTriggerModifier=hasModifier(source.event,opts.triggerModifier),this.hasSideBySideModifier=hasModifier(source.event,opts.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.i||source.event.detail<=1}return ClickLinkMouseEvent2}(),ClickLinkKeyboardEvent=function(){function ClickLinkKeyboardEvent2(source,opts){this.keyCodeIsTriggerKey=source.keyCode===opts.triggerKey,this.keyCodeIsSideBySideKey=source.keyCode===opts.triggerSideBySideKey,this.hasTriggerModifier=hasModifier(source,opts.triggerModifier)}return ClickLinkKeyboardEvent2}(),ClickLinkOptions=function(){function ClickLinkOptions2(triggerKey,triggerModifier,triggerSideBySideKey,triggerSideBySideModifier){this.triggerKey=triggerKey,this.triggerModifier=triggerModifier,this.triggerSideBySideKey=triggerSideBySideKey,this.triggerSideBySideModifier=triggerSideBySideModifier}return ClickLinkOptions2.prototype.equals=function(other){return this.triggerKey===other.triggerKey&&this.triggerModifier===other.triggerModifier&&this.triggerSideBySideKey===other.triggerSideBySideKey&&this.triggerSideBySideModifier===other.triggerSideBySideModifier},ClickLinkOptions2}();function createOptions(multiCursorModifier){return multiCursorModifier==="altKey"?_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.e?new ClickLinkOptions(57,"metaKey",6,"altKey"):new ClickLinkOptions(5,"ctrlKey",6,"altKey"):_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.e?new ClickLinkOptions(6,"altKey",57,"metaKey"):new ClickLinkOptions(6,"altKey",5,"ctrlKey")}var ClickLinkGesture=function(_super){__extends(ClickLinkGesture2,_super);function ClickLinkGesture2(editor){var _this=_super.call(this)||this;return _this._onMouseMoveOrRelevantKeyDown=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.a),_this.onMouseMoveOrRelevantKeyDown=_this._onMouseMoveOrRelevantKeyDown.event,_this._onExecute=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.a),_this.onExecute=_this._onExecute.event,_this._onCancel=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.a),_this.onCancel=_this._onCancel.event,_this._editor=editor,_this._opts=createOptions(_this._editor.getOption(57)),_this.lastMouseMoveEvent=null,_this.hasTriggerKeyOnMouseDown=!1,_this._register(_this._editor.onDidChangeConfiguration(function(e){if(e.hasChanged(57)){var newOpts=createOptions(_this._editor.getOption(57));if(_this._opts.equals(newOpts))return;_this._opts=newOpts,_this.lastMouseMoveEvent=null,_this.hasTriggerKeyOnMouseDown=!1,_this._onCancel.fire()}})),_this._register(_this._editor.onMouseMove(function(e){return _this.onEditorMouseMove(new ClickLinkMouseEvent(e,_this._opts))})),_this._register(_this._editor.onMouseDown(function(e){return _this.onEditorMouseDown(new ClickLinkMouseEvent(e,_this._opts))})),_this._register(_this._editor.onMouseUp(function(e){return _this.onEditorMouseUp(new ClickLinkMouseEvent(e,_this._opts))})),_this._register(_this._editor.onKeyDown(function(e){return _this.onEditorKeyDown(new ClickLinkKeyboardEvent(e,_this._opts))})),_this._register(_this._editor.onKeyUp(function(e){return _this.onEditorKeyUp(new ClickLinkKeyboardEvent(e,_this._opts))})),_this._register(_this._editor.onMouseDrag(function(){return _this.resetHandler()})),_this._register(_this._editor.onDidChangeCursorSelection(function(e){return _this.onDidChangeCursorSelection(e)})),_this._register(_this._editor.onDidChangeModel(function(e){return _this.resetHandler()})),_this._register(_this._editor.onDidChangeModelContent(function(){return _this.resetHandler()})),_this._register(_this._editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&_this.resetHandler()})),_this}return ClickLinkGesture2.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},ClickLinkGesture2.prototype.onEditorMouseMove=function(mouseEvent){this.lastMouseMoveEvent=mouseEvent,this._onMouseMoveOrRelevantKeyDown.fire([mouseEvent,null])},ClickLinkGesture2.prototype.onEditorMouseDown=function(mouseEvent){this.hasTriggerKeyOnMouseDown=mouseEvent.hasTriggerModifier},ClickLinkGesture2.prototype.onEditorMouseUp=function(mouseEvent){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(mouseEvent)},ClickLinkGesture2.prototype.onEditorKeyDown=function(e){this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()},ClickLinkGesture2.prototype.onEditorKeyUp=function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()},ClickLinkGesture2.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},ClickLinkGesture2}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a)},3883:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return parse});var _uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2640);function parse(text){var data=JSON.parse(text);return data=revive(data),data}function revive(obj,depth){if(depth===void 0&&(depth=0),!obj||depth>200)return obj;if(typeof obj=="object"){switch(obj.$mid){case 1:return _uri_js__WEBPACK_IMPORTED_MODULE_0__.a.revive(obj);case 2:return new RegExp(obj.source,obj.flags)}for(var key in obj)Object.hasOwnProperty.call(obj,key)&&(obj[key]=revive(obj[key],depth+1))}return obj}},3884:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IMarkerDecorationsService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2232),IMarkerDecorationsService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("markerDecorationsService")},3885:function(module,__webpack_exports__,__webpack_require__){"use strict";var _media_outlineTree_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5799),_media_outlineTree_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_media_outlineTree_css__WEBPACK_IMPORTED_MODULE_0__),_media_symbol_icons_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5800),_media_symbol_icons_css__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_media_symbol_icons_css__WEBPACK_IMPORTED_MODULE_1__),_nls_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2069),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2235),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2623),SYMBOL_ICON_ARRAY_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.arrayForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_BOOLEAN_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.booleanForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_CLASS_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_COLOR_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.colorForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_CONSTANT_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.constantForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_ENUMERATOR_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_EVENT_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_FIELD_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_FILE_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.fileForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_FOLDER_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.folderForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_FUNCTION_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_INTERFACE_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_KEY_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.keyForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_KEYWORD_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.keywordForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_METHOD_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_MODULE_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.moduleForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_NAMESPACE_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.namespaceForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_NULL_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.nullForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_NUMBER_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.numberForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_OBJECT_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.objectForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_OPERATOR_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.operatorForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_PACKAGE_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.packageForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_PROPERTY_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.propertyForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_REFERENCE_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.referenceForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_SNIPPET_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.snippetForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_STRING_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.stringForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_STRUCT_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.structForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_TEXT_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.textForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.typeParameterForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_UNIT_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.unitForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.W},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_VARIABLE_FOREGROUND=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_4__.Tb)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__.e)(function(theme,collector){var symbolIconArrayColor=theme.getColor(SYMBOL_ICON_ARRAY_FOREGROUND);symbolIconArrayColor&&collector.addRule(".codicon-symbol-array { color: "+symbolIconArrayColor+" !important; }");var symbolIconBooleanColor=theme.getColor(SYMBOL_ICON_BOOLEAN_FOREGROUND);symbolIconBooleanColor&&collector.addRule(".codicon-symbol-boolean { color: "+symbolIconBooleanColor+" !important; }");var symbolIconClassColor=theme.getColor(SYMBOL_ICON_CLASS_FOREGROUND);symbolIconClassColor&&collector.addRule(".codicon-symbol-class { color: "+symbolIconClassColor+" !important; }");var symbolIconMethodColor=theme.getColor(SYMBOL_ICON_METHOD_FOREGROUND);symbolIconMethodColor&&collector.addRule(".codicon-symbol-method { color: "+symbolIconMethodColor+" !important; }");var symbolIconColorColor=theme.getColor(SYMBOL_ICON_COLOR_FOREGROUND);symbolIconColorColor&&collector.addRule(".codicon-symbol-color { color: "+symbolIconColorColor+" !important; }");var symbolIconConstantColor=theme.getColor(SYMBOL_ICON_CONSTANT_FOREGROUND);symbolIconConstantColor&&collector.addRule(".codicon-symbol-constant { color: "+symbolIconConstantColor+" !important; }");var symbolIconConstructorColor=theme.getColor(SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);symbolIconConstructorColor&&collector.addRule(".codicon-symbol-constructor { color: "+symbolIconConstructorColor+" !important; }");var symbolIconEnumeratorColor=theme.getColor(SYMBOL_ICON_ENUMERATOR_FOREGROUND);symbolIconEnumeratorColor&&collector.addRule(`
			.codicon-symbol-value,.codicon-symbol-enum { color: `+symbolIconEnumeratorColor+" !important; }");var symbolIconEnumeratorMemberColor=theme.getColor(SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);symbolIconEnumeratorMemberColor&&collector.addRule(".codicon-symbol-enum-member { color: "+symbolIconEnumeratorMemberColor+" !important; }");var symbolIconEventColor=theme.getColor(SYMBOL_ICON_EVENT_FOREGROUND);symbolIconEventColor&&collector.addRule(".codicon-symbol-event { color: "+symbolIconEventColor+" !important; }");var symbolIconFieldColor=theme.getColor(SYMBOL_ICON_FIELD_FOREGROUND);symbolIconFieldColor&&collector.addRule(".codicon-symbol-field { color: "+symbolIconFieldColor+" !important; }");var symbolIconFileColor=theme.getColor(SYMBOL_ICON_FILE_FOREGROUND);symbolIconFileColor&&collector.addRule(".codicon-symbol-file { color: "+symbolIconFileColor+" !important; }");var symbolIconFolderColor=theme.getColor(SYMBOL_ICON_FOLDER_FOREGROUND);symbolIconFolderColor&&collector.addRule(".codicon-symbol-folder { color: "+symbolIconFolderColor+" !important; }");var symbolIconFunctionColor=theme.getColor(SYMBOL_ICON_FUNCTION_FOREGROUND);symbolIconFunctionColor&&collector.addRule(".codicon-symbol-function { color: "+symbolIconFunctionColor+" !important; }");var symbolIconInterfaceColor=theme.getColor(SYMBOL_ICON_INTERFACE_FOREGROUND);symbolIconInterfaceColor&&collector.addRule(".codicon-symbol-interface { color: "+symbolIconInterfaceColor+" !important; }");var symbolIconKeyColor=theme.getColor(SYMBOL_ICON_KEY_FOREGROUND);symbolIconKeyColor&&collector.addRule(".codicon-symbol-key { color: "+symbolIconKeyColor+" !important; }");var symbolIconKeywordColor=theme.getColor(SYMBOL_ICON_KEYWORD_FOREGROUND);symbolIconKeywordColor&&collector.addRule(".codicon-symbol-keyword { color: "+symbolIconKeywordColor+" !important; }");var symbolIconModuleColor=theme.getColor(SYMBOL_ICON_MODULE_FOREGROUND);symbolIconModuleColor&&collector.addRule(".codicon-symbol-module { color: "+symbolIconModuleColor+" !important; }");var outlineNamespaceColor=theme.getColor(SYMBOL_ICON_NAMESPACE_FOREGROUND);outlineNamespaceColor&&collector.addRule(".codicon-symbol-namespace { color: "+outlineNamespaceColor+" !important; }");var symbolIconNullColor=theme.getColor(SYMBOL_ICON_NULL_FOREGROUND);symbolIconNullColor&&collector.addRule(".codicon-symbol-null { color: "+symbolIconNullColor+" !important; }");var symbolIconNumberColor=theme.getColor(SYMBOL_ICON_NUMBER_FOREGROUND);symbolIconNumberColor&&collector.addRule(".codicon-symbol-number { color: "+symbolIconNumberColor+" !important; }");var symbolIconObjectColor=theme.getColor(SYMBOL_ICON_OBJECT_FOREGROUND);symbolIconObjectColor&&collector.addRule(".codicon-symbol-object { color: "+symbolIconObjectColor+" !important; }");var symbolIconOperatorColor=theme.getColor(SYMBOL_ICON_OPERATOR_FOREGROUND);symbolIconOperatorColor&&collector.addRule(".codicon-symbol-operator { color: "+symbolIconOperatorColor+" !important; }");var symbolIconPackageColor=theme.getColor(SYMBOL_ICON_PACKAGE_FOREGROUND);symbolIconPackageColor&&collector.addRule(".codicon-symbol-package { color: "+symbolIconPackageColor+" !important; }");var symbolIconPropertyColor=theme.getColor(SYMBOL_ICON_PROPERTY_FOREGROUND);symbolIconPropertyColor&&collector.addRule(".codicon-symbol-property { color: "+symbolIconPropertyColor+" !important; }");var symbolIconReferenceColor=theme.getColor(SYMBOL_ICON_REFERENCE_FOREGROUND);symbolIconReferenceColor&&collector.addRule(".codicon-symbol-reference { color: "+symbolIconReferenceColor+" !important; }");var symbolIconSnippetColor=theme.getColor(SYMBOL_ICON_SNIPPET_FOREGROUND);symbolIconSnippetColor&&collector.addRule(".codicon-symbol-snippet { color: "+symbolIconSnippetColor+" !important; }");var symbolIconStringColor=theme.getColor(SYMBOL_ICON_STRING_FOREGROUND);symbolIconStringColor&&collector.addRule(".codicon-symbol-string { color: "+symbolIconStringColor+" !important; }");var symbolIconStructColor=theme.getColor(SYMBOL_ICON_STRUCT_FOREGROUND);symbolIconStructColor&&collector.addRule(".codicon-symbol-struct { color: "+symbolIconStructColor+" !important; }");var symbolIconTextColor=theme.getColor(SYMBOL_ICON_TEXT_FOREGROUND);symbolIconTextColor&&collector.addRule(".codicon-symbol-text { color: "+symbolIconTextColor+" !important; }");var symbolIconTypeParameterColor=theme.getColor(SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);symbolIconTypeParameterColor&&collector.addRule(".codicon-symbol-type-parameter { color: "+symbolIconTypeParameterColor+" !important; }");var symbolIconUnitColor=theme.getColor(SYMBOL_ICON_UNIT_FOREGROUND);symbolIconUnitColor&&collector.addRule(".codicon-symbol-unit { color: "+symbolIconUnitColor+" !important; }");var symbolIconVariableColor=theme.getColor(SYMBOL_ICON_VARIABLE_FOREGROUND);symbolIconVariableColor&&collector.addRule(".codicon-symbol-variable { color: "+symbolIconVariableColor+" !important; }")})},3886:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BracketSelectionRangeProvider});var _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2233),_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2056),_base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3232),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},BracketSelectionRangeProvider=function(){function BracketSelectionRangeProvider2(){}return BracketSelectionRangeProvider2.prototype.provideSelectionRanges=function(model,positions){return __awaiter(this,void 0,void 0,function(){var result,_loop_1,_i,positions_1,position;return __generator(this,function(_a){switch(_a.label){case 0:result=[],_loop_1=function(position2){var bucket,ranges;return __generator(this,function(_a2){switch(_a2.label){case 0:return bucket=[],result.push(bucket),ranges=new Map,[4,new Promise(function(resolve){return BracketSelectionRangeProvider2._bracketsRightYield(resolve,0,model,position2,ranges)})];case 1:return _a2.sent(),[4,new Promise(function(resolve){return BracketSelectionRangeProvider2._bracketsLeftYield(resolve,0,model,position2,ranges,bucket)})];case 2:return _a2.sent(),[2]}})},_i=0,positions_1=positions,_a.label=1;case 1:return _i<positions_1.length?(position=positions_1[_i],[5,_loop_1(position)]):[3,4];case 2:_a.sent(),_a.label=3;case 3:return _i++,[3,1];case 4:return[2,result]}})})},BracketSelectionRangeProvider2._bracketsRightYield=function(resolve,round,model,pos,ranges){for(var counts=new Map,t1=Date.now();;){if(round>=BracketSelectionRangeProvider2._maxRounds){resolve();break}if(!pos){resolve();break}var bracket=model.findNextBracket(pos);if(!bracket){resolve();break}var d=Date.now()-t1;if(d>BracketSelectionRangeProvider2._maxDuration){setTimeout(function(){return BracketSelectionRangeProvider2._bracketsRightYield(resolve,round+1,model,pos,ranges)});break}var key=bracket.close[0];if(bracket.isOpen){var val=counts.has(key)?counts.get(key):0;counts.set(key,val+1)}else{var val=counts.has(key)?counts.get(key):0;if(val-=1,counts.set(key,Math.max(0,val)),val<0){var list=ranges.get(key);list||(list=new _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_2__.a,ranges.set(key,list)),list.push(bracket.range)}}pos=bracket.range.getEndPosition()}},BracketSelectionRangeProvider2._bracketsLeftYield=function(resolve,round,model,pos,ranges,bucket){for(var counts=new Map,t1=Date.now();;){if(round>=BracketSelectionRangeProvider2._maxRounds&&ranges.size===0){resolve();break}if(!pos){resolve();break}var bracket=model.findPrevBracket(pos);if(!bracket){resolve();break}var d=Date.now()-t1;if(d>BracketSelectionRangeProvider2._maxDuration){setTimeout(function(){return BracketSelectionRangeProvider2._bracketsLeftYield(resolve,round+1,model,pos,ranges,bucket)});break}var key=bracket.close[0];if(bracket.isOpen){var val=counts.has(key)?counts.get(key):0;if(val-=1,counts.set(key,Math.max(0,val)),val<0){var list=ranges.get(key);if(list){var closing=list.shift();list.size===0&&ranges.delete(key);var innerBracket=_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(bracket.range.getEndPosition(),closing.getStartPosition()),outerBracket=_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(bracket.range.getStartPosition(),closing.getEndPosition());bucket.push({range:innerBracket}),bucket.push({range:outerBracket}),BracketSelectionRangeProvider2._addBracketLeading(model,outerBracket,bucket)}}}else{var val=counts.has(key)?counts.get(key):0;counts.set(key,val+1)}pos=bracket.range.getStartPosition()}},BracketSelectionRangeProvider2._addBracketLeading=function(model,bracket,bucket){if(bracket.startLineNumber!==bracket.endLineNumber){var startLine=bracket.startLineNumber,column=model.getLineFirstNonWhitespaceColumn(startLine);column!==0&&column!==bracket.startColumn&&(bucket.push({range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__.a(startLine,column),bracket.getEndPosition())}),bucket.push({range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__.a(startLine,1),bracket.getEndPosition())}));var aboveLine=startLine-1;if(aboveLine>0){var column_1=model.getLineFirstNonWhitespaceColumn(aboveLine);column_1===bracket.startColumn&&column_1!==model.getLineLastNonWhitespaceColumn(aboveLine)&&(bucket.push({range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__.a(aboveLine,column_1),bracket.getEndPosition())}),bucket.push({range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__.a(aboveLine,1),bracket.getEndPosition())}))}}},BracketSelectionRangeProvider2._maxDuration=30,BracketSelectionRangeProvider2._maxRounds=2,BracketSelectionRangeProvider2}()},5013:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return codeActionCommands_QuickFixController}),__webpack_require__.d(__webpack_exports__,"e",function(){return codeActionCommands_QuickFixAction}),__webpack_require__.d(__webpack_exports__,"b",function(){return codeActionCommands_CodeActionCommand}),__webpack_require__.d(__webpack_exports__,"g",function(){return codeActionCommands_RefactorAction}),__webpack_require__.d(__webpack_exports__,"h",function(){return codeActionCommands_SourceAction}),__webpack_require__.d(__webpack_exports__,"d",function(){return codeActionCommands_OrganizeImportsAction}),__webpack_require__.d(__webpack_exports__,"c",function(){return codeActionCommands_FixAllAction}),__webpack_require__.d(__webpack_exports__,"a",function(){return codeActionCommands_AutoFixAction});var Lazy=function(){function Lazy2(executor){this.executor=executor,this._didRun=!1}return Lazy2.prototype.getValue=function(){if(!this._didRun)try{this._value=this.executor()}catch(err){this._error=err}finally{this._didRun=!0}if(this._error)throw this._error;return this._value},Object.defineProperty(Lazy2.prototype,"rawValue",{get:function(){return this._value},enumerable:!0,configurable:!0}),Lazy2}(),lifecycle=__webpack_require__(2033),strings=__webpack_require__(2123),editorExtensions=__webpack_require__(2099),services_bulkEditService=__webpack_require__(3497),editorContextKeys=__webpack_require__(2632),codeAction=__webpack_require__(3369),arrays=__webpack_require__(2389),errors=__webpack_require__(2176),messageController=__webpack_require__(3371),dom=__webpack_require__(2124),common_actions=__webpack_require__(3113),core_position=__webpack_require__(2233),types=__webpack_require__(3370),contextView=__webpack_require__(3114),keybinding=__webpack_require__(2760),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},CodeActionAction=function(_super){__extends(CodeActionAction2,_super);function CodeActionAction2(action,callback){var _this=_super.call(this,action.command?action.command.id:action.title,action.title,void 0,!action.disabled,callback)||this;return _this.action=action,_this}return CodeActionAction2}(common_actions.a),codeActionMenu_CodeActionMenu=function(_super){__extends(CodeActionMenu,_super);function CodeActionMenu(_editor,_delegate,_contextMenuService,keybindingService){var _this=_super.call(this)||this;return _this._editor=_editor,_this._delegate=_delegate,_this._contextMenuService=_contextMenuService,_this._visible=!1,_this._showingActions=_this._register(new lifecycle.d),_this._keybindingResolver=new codeActionMenu_CodeActionKeybindingResolver({getKeybindings:function(){return keybindingService.getKeybindings()}}),_this}return Object.defineProperty(CodeActionMenu.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),CodeActionMenu.prototype.show=function(codeActions,at,options){return __awaiter(this,void 0,void 0,function(){var actionsToShow,menuActions,anchor,resolver,_this=this;return __generator(this,function(_a){if(actionsToShow=options.includeDisabledActions?codeActions.allActions:codeActions.validActions,!actionsToShow.length)return this._visible=!1,[2];if(!this._editor.getDomNode())throw this._visible=!1,Object(errors.a)();return this._visible=!0,this._showingActions.value=codeActions,menuActions=actionsToShow.map(function(action){return new CodeActionAction(action,function(){return _this._delegate.onSelectCodeAction(action)})}),anchor=core_position.a.isIPosition(at)?this._toCoords(at):at||{x:0,y:0},resolver=this._keybindingResolver.getResolver(),this._contextMenuService.showContextMenu({getAnchor:function(){return anchor},getActions:function(){return menuActions},onHide:function(){_this._visible=!1,_this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:function(action){return action instanceof CodeActionAction?resolver(action.action):void 0}}),[2]})})},CodeActionMenu.prototype._toCoords=function(position){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(position,1),this._editor.render();var cursorCoords=this._editor.getScrolledVisiblePosition(position),editorCoords=Object(dom.B)(this._editor.getDomNode()),x=editorCoords.left+cursorCoords.left,y=editorCoords.top+cursorCoords.top+cursorCoords.height;return{x,y}},CodeActionMenu=__decorate([__param(2,contextView.a),__param(3,keybinding.a)],CodeActionMenu),CodeActionMenu}(lifecycle.a),codeActionMenu_CodeActionKeybindingResolver=function(){function CodeActionKeybindingResolver(_keybindingProvider){this._keybindingProvider=_keybindingProvider}return CodeActionKeybindingResolver.prototype.getResolver=function(){var _this=this,allCodeActionBindings=new Lazy(function(){return _this._keybindingProvider.getKeybindings().filter(function(item){return CodeActionKeybindingResolver.codeActionCommands.indexOf(item.command)>=0}).filter(function(item){return item.resolvedKeybinding}).map(function(item){var commandArgs=item.commandArgs;return item.command===codeAction.d?commandArgs={kind:types.b.SourceOrganizeImports.value}:item.command===codeAction.b&&(commandArgs={kind:types.b.SourceFixAll.value}),__assign({resolvedKeybinding:item.resolvedKeybinding},types.a.fromUser(commandArgs,{kind:types.b.None,apply:"never"}))})});return function(action){var _a;if(action.kind){var binding=_this.bestKeybindingForCodeAction(action,allCodeActionBindings.getValue());return(_a=binding)===null||_a===void 0?void 0:_a.resolvedKeybinding}}},CodeActionKeybindingResolver.prototype.bestKeybindingForCodeAction=function(action,candidates){if(action.kind){var kind=new types.b(action.kind);return candidates.filter(function(candidate){return candidate.kind.contains(kind)}).filter(function(candidate){return candidate.preferred?action.isPreferred:!0}).reduceRight(function(currentBest,candidate){return currentBest?currentBest.kind.contains(candidate.kind)?candidate:currentBest:candidate},void 0)}},CodeActionKeybindingResolver.codeActionCommands=[codeAction.e,codeAction.a,codeAction.f,codeAction.d,codeAction.b],CodeActionKeybindingResolver}(),globalMouseMoveMonitor=__webpack_require__(3238),common_event=__webpack_require__(2106),lightBulbWidget=__webpack_require__(5747),textModel=__webpack_require__(2720),nls=__webpack_require__(2069),themeService=__webpack_require__(2235),colorRegistry=__webpack_require__(2623),touch=__webpack_require__(3112),lightBulbWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),lightBulbWidget_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},lightBulbWidget_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},LightBulbState;(function(LightBulbState2){LightBulbState2.Hidden={type:0};var Showing=function(){function Showing2(actions,editorPosition,widgetPosition){this.actions=actions,this.editorPosition=editorPosition,this.widgetPosition=widgetPosition,this.type=1}return Showing2}();LightBulbState2.Showing=Showing})(LightBulbState||(LightBulbState={}));var lightBulbWidget_LightBulbWidget=function(_super){lightBulbWidget_extends(LightBulbWidget,_super);function LightBulbWidget(_editor,_quickFixActionId,_preferredFixActionId,_keybindingService){var _this=_super.call(this)||this;return _this._editor=_editor,_this._quickFixActionId=_quickFixActionId,_this._preferredFixActionId=_preferredFixActionId,_this._keybindingService=_keybindingService,_this._onClick=_this._register(new common_event.a),_this.onClick=_this._onClick.event,_this._state=LightBulbState.Hidden,_this._domNode=document.createElement("div"),_this._domNode.className="codicon codicon-lightbulb",_this._editor.addContentWidget(_this),_this._register(_this._editor.onDidChangeModelContent(function(_){var editorModel=_this._editor.getModel();(_this.state.type!==1||!editorModel||_this.state.editorPosition.lineNumber>=editorModel.getLineCount())&&_this.hide()})),touch.b.ignoreTarget(_this._domNode),_this._register(dom.n(_this._domNode,function(e){if(_this.state.type===1){_this._editor.focus(),e.preventDefault();var _a=dom.B(_this._domNode),top=_a.top,height=_a.height,lineHeight=_this._editor.getOption(47),pad=Math.floor(lineHeight/3);_this.state.widgetPosition.position!==null&&_this.state.widgetPosition.position.lineNumber<_this.state.editorPosition.lineNumber&&(pad+=lineHeight),_this._onClick.fire({x:e.posx,y:top+height+pad,actions:_this.state.actions})}})),_this._register(dom.j(_this._domNode,"mouseenter",function(e){if((e.buttons&1)===1){_this.hide();var monitor=new globalMouseMoveMonitor.a;monitor.startMonitoring(globalMouseMoveMonitor.b,function(){},function(){monitor.dispose()})}})),_this._register(_this._editor.onDidChangeConfiguration(function(e){e.hasChanged(45)&&!_this._editor.getOption(45).enabled&&_this.hide()})),_this._updateLightBulbTitle(),_this._register(_this._keybindingService.onDidUpdateKeybindings(_this._updateLightBulbTitle,_this)),_this}return LightBulbWidget.prototype.dispose=function(){_super.prototype.dispose.call(this),this._editor.removeContentWidget(this)},LightBulbWidget.prototype.getId=function(){return"LightBulbWidget"},LightBulbWidget.prototype.getDomNode=function(){return this._domNode},LightBulbWidget.prototype.getPosition=function(){return this._state.type===1?this._state.widgetPosition:null},LightBulbWidget.prototype.update=function(actions,atPosition){var _this=this;if(actions.validActions.length<=0)return this.hide();var options=this._editor.getOptions();if(!options.get(45).enabled)return this.hide();var lineNumber=atPosition.lineNumber,column=atPosition.column,model=this._editor.getModel();if(!model)return this.hide();var tabSize=model.getOptions().tabSize,fontInfo=options.get(32),lineContent=model.getLineContent(lineNumber),indent=textModel.b.computeIndentLevel(lineContent,tabSize),lineHasSpace=fontInfo.spaceWidth*indent>22,isFolded=function(lineNumber2){return lineNumber2>2&&_this._editor.getTopForLineNumber(lineNumber2)===_this._editor.getTopForLineNumber(lineNumber2-1)},effectiveLineNumber=lineNumber;if(!lineHasSpace){if(lineNumber>1&&!isFolded(lineNumber-1))effectiveLineNumber-=1;else if(!isFolded(lineNumber+1))effectiveLineNumber+=1;else if(column*fontInfo.spaceWidth<22)return this.hide()}this.state=new LightBulbState.Showing(actions,atPosition,{position:{lineNumber:effectiveLineNumber,column:1},preference:LightBulbWidget._posPref}),dom.V(this._domNode,"codicon-lightbulb-autofix",actions.hasAutoFix),this._editor.layoutContentWidget(this)},LightBulbWidget.prototype.hide=function(){this.state=LightBulbState.Hidden,this._editor.layoutContentWidget(this)},Object.defineProperty(LightBulbWidget.prototype,"state",{get:function(){return this._state},set:function(value){this._state=value,this._updateLightBulbTitle()},enumerable:!0,configurable:!0}),LightBulbWidget.prototype._updateLightBulbTitle=function(){if(this.state.type===1&&this.state.actions.hasAutoFix){var preferredKb=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(preferredKb){this.title=nls.a("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",preferredKb.getLabel());return}}var kb=this._keybindingService.lookupKeybinding(this._quickFixActionId);kb?this.title=nls.a("quickFixWithKb","Show Fixes ({0})",kb.getLabel()):this.title=nls.a("quickFix","Show Fixes")},Object.defineProperty(LightBulbWidget.prototype,"title",{set:function(value){this._domNode.title=value},enumerable:!0,configurable:!0}),LightBulbWidget._posPref=[0],LightBulbWidget=lightBulbWidget_decorate([lightBulbWidget_param(3,keybinding.a)],LightBulbWidget),LightBulbWidget}(lifecycle.a);Object(themeService.e)(function(theme,collector){var editorLightBulbForegroundColor=theme.getColor(colorRegistry.J);editorLightBulbForegroundColor&&collector.addRule(`
		.monaco-editor .contentWidgets .codicon-lightbulb,
		.monaco-workbench .markers-panel-container .codicon-lightbulb {
			color: `+editorLightBulbForegroundColor+`;
		}`);var editorLightBulbAutoFixForegroundColor=theme.getColor(colorRegistry.I);editorLightBulbAutoFixForegroundColor&&collector.addRule(`
		.monaco-editor .contentWidgets .codicon-lightbulb-autofix,
		.monaco-workbench .markers-panel-container .codicon-lightbulb-autofix {
			color: `+editorLightBulbAutoFixForegroundColor+`;
		}`)});var instantiation=__webpack_require__(2232),codeActionUi_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),codeActionUi_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},codeActionUi_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},codeActionUi_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},codeActionUi_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},codeActionUi_CodeActionUi=function(_super){codeActionUi_extends(CodeActionUi,_super);function CodeActionUi(_editor,quickFixActionId,preferredFixActionId,delegate,instantiationService){var _this=_super.call(this)||this;return _this._editor=_editor,_this.delegate=delegate,_this._activeCodeActions=_this._register(new lifecycle.d),_this._codeActionWidget=new Lazy(function(){return _this._register(instantiationService.createInstance(codeActionMenu_CodeActionMenu,_this._editor,{onSelectCodeAction:function(action){return codeActionUi_awaiter(_this,void 0,void 0,function(){return codeActionUi_generator(this,function(_a){return this.delegate.applyCodeAction(action,!0),[2]})})}}))}),_this._lightBulbWidget=new Lazy(function(){var widget=_this._register(instantiationService.createInstance(lightBulbWidget_LightBulbWidget,_this._editor,quickFixActionId,preferredFixActionId));return _this._register(widget.onClick(function(e){return _this.showCodeActionList(e.actions,e,{includeDisabledActions:!1})})),widget}),_this}return CodeActionUi.prototype.update=function(newState){var _a,_b,_c;return codeActionUi_awaiter(this,void 0,void 0,function(){var actions,e_1,validActionToApply,invalidAction,includeDisabledActions;return codeActionUi_generator(this,function(_d){switch(_d.label){case 0:if(newState.type!==1)return(_a=this._lightBulbWidget.rawValue)===null||_a===void 0||_a.hide(),[2];_d.label=1;case 1:return _d.trys.push([1,3,,4]),[4,newState.actions];case 2:return actions=_d.sent(),[3,4];case 3:return e_1=_d.sent(),Object(errors.e)(e_1),[2];case 4:if(this._lightBulbWidget.getValue().update(actions,newState.position),newState.trigger.type!=="manual")return[3,11];if(!(!((_b=newState.trigger.filter)===null||_b===void 0)&&_b.include))return[3,10];if(validActionToApply=this.tryGetValidActionToApply(newState.trigger,actions),!validActionToApply)return[3,9];_d.label=5;case 5:return _d.trys.push([5,,7,8]),[4,this.delegate.applyCodeAction(validActionToApply,!1)];case 6:return _d.sent(),[3,8];case 7:return actions.dispose(),[7];case 8:return[2];case 9:if(newState.trigger.context&&(invalidAction=this.getInvalidActionThatWouldHaveBeenApplied(newState.trigger,actions),invalidAction&&invalidAction.disabled))return messageController.a.get(this._editor).showMessage(invalidAction.disabled,newState.trigger.context.position),actions.dispose(),[2];_d.label=10;case 10:return includeDisabledActions=!!(!((_c=newState.trigger.filter)===null||_c===void 0)&&_c.include),newState.trigger.context&&(!actions.allActions.length||!includeDisabledActions&&!actions.validActions.length)?(messageController.a.get(this._editor).showMessage(newState.trigger.context.notAvailableMessage,newState.trigger.context.position),this._activeCodeActions.value=actions,actions.dispose(),[2]):(this._activeCodeActions.value=actions,this._codeActionWidget.getValue().show(actions,newState.position,{includeDisabledActions}),[3,12]);case 11:this._codeActionWidget.getValue().isVisible?actions.dispose():this._activeCodeActions.value=actions,_d.label=12;case 12:return[2]}})})},CodeActionUi.prototype.getInvalidActionThatWouldHaveBeenApplied=function(trigger,actions){if(actions.allActions.length&&(trigger.autoApply==="first"&&actions.validActions.length===0||trigger.autoApply==="ifSingle"&&actions.allActions.length===1))return Object(arrays.h)(actions.allActions,function(action){return action.disabled})},CodeActionUi.prototype.tryGetValidActionToApply=function(trigger,actions){if(actions.validActions.length&&(trigger.autoApply==="first"&&actions.validActions.length>0||trigger.autoApply==="ifSingle"&&actions.validActions.length===1))return actions.validActions[0]},CodeActionUi.prototype.showCodeActionList=function(actions,at,options){return codeActionUi_awaiter(this,void 0,void 0,function(){return codeActionUi_generator(this,function(_a){return this._codeActionWidget.getValue().show(actions,at,options),[2]})})},CodeActionUi=codeActionUi_decorate([codeActionUi_param(4,instantiation.a)],CodeActionUi),CodeActionUi}(lifecycle.a),commands=__webpack_require__(2733),contextkey=__webpack_require__(2238),markers=__webpack_require__(3193),notification=__webpack_require__(2761),progress=__webpack_require__(3194),common_async=__webpack_require__(2237),range=__webpack_require__(2056),modes=__webpack_require__(2240),common_resources=__webpack_require__(2785),codeActionModel_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),SUPPORTED_CODE_ACTIONS=new contextkey.d("supportedCodeAction",""),codeActionModel_CodeActionOracle=function(_super){codeActionModel_extends(CodeActionOracle,_super);function CodeActionOracle(_editor,_markerService,_signalChange,_delay){_delay===void 0&&(_delay=250);var _this=_super.call(this)||this;return _this._editor=_editor,_this._markerService=_markerService,_this._signalChange=_signalChange,_this._delay=_delay,_this._autoTriggerTimer=_this._register(new common_async.e),_this._register(_this._markerService.onMarkerChanged(function(e){return _this._onMarkerChanges(e)})),_this._register(_this._editor.onDidChangeCursorPosition(function(){return _this._onCursorChange()})),_this}return CodeActionOracle.prototype.trigger=function(trigger){var selection=this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);return this._createEventAndSignalChange(trigger,selection)},CodeActionOracle.prototype._onMarkerChanges=function(resources){var _this=this,model=this._editor.getModel();model&&resources.some(function(resource){return Object(common_resources.e)(resource,model.uri)})&&this._autoTriggerTimer.cancelAndSet(function(){_this.trigger({type:"auto"})},this._delay)},CodeActionOracle.prototype._onCursorChange=function(){var _this=this;this._autoTriggerTimer.cancelAndSet(function(){_this.trigger({type:"auto"})},this._delay)},CodeActionOracle.prototype._getRangeOfMarker=function(selection){var model=this._editor.getModel();if(model)for(var _i=0,_a=this._markerService.read({resource:model.uri});_i<_a.length;_i++){var marker=_a[_i],markerRange=model.validateRange(marker);if(range.a.intersectRanges(markerRange,selection))return range.a.lift(markerRange)}},CodeActionOracle.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(trigger){if(this._editor.hasModel()){var model=this._editor.getModel(),selection=this._editor.getSelection();if(selection.isEmpty()&&trigger.type==="auto"){var _a=selection.getPosition(),lineNumber=_a.lineNumber,column=_a.column,line=model.getLineContent(lineNumber);if(line.length===0)return;if(column===1){if(/\s/.test(line[0]))return}else if(column===model.getLineMaxColumn(lineNumber)){if(/\s/.test(line[line.length-1]))return}else if(/\s/.test(line[column-2])&&/\s/.test(line[column-1]))return}return selection}},CodeActionOracle.prototype._createEventAndSignalChange=function(trigger,selection){var model=this._editor.getModel();if(!selection||!model){this._signalChange(void 0);return}var markerRange=this._getRangeOfMarker(selection),position=markerRange?markerRange.getStartPosition():selection.getStartPosition(),e={trigger,selection,position};return this._signalChange(e),e},CodeActionOracle}(lifecycle.a),CodeActionsState;(function(CodeActionsState2){CodeActionsState2.Empty={type:0};var Triggered=function(){function Triggered2(trigger,rangeOrSelection,position,actions){this.trigger=trigger,this.rangeOrSelection=rangeOrSelection,this.position=position,this.actions=actions,this.type=1}return Triggered2}();CodeActionsState2.Triggered=Triggered})(CodeActionsState||(CodeActionsState={}));var codeActionModel_CodeActionModel=function(_super){codeActionModel_extends(CodeActionModel,_super);function CodeActionModel(_editor,_markerService,contextKeyService,_progressService){var _this=_super.call(this)||this;return _this._editor=_editor,_this._markerService=_markerService,_this._progressService=_progressService,_this._codeActionOracle=_this._register(new lifecycle.d),_this._state=CodeActionsState.Empty,_this._onDidChangeState=_this._register(new common_event.a),_this.onDidChangeState=_this._onDidChangeState.event,_this._supportedCodeActions=SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService),_this._register(_this._editor.onDidChangeModel(function(){return _this._update()})),_this._register(_this._editor.onDidChangeModelLanguage(function(){return _this._update()})),_this._register(modes.a.onDidChange(function(){return _this._update()})),_this._update(),_this}return CodeActionModel.prototype.dispose=function(){_super.prototype.dispose.call(this),this.setState(CodeActionsState.Empty,!0)},CodeActionModel.prototype._update=function(){var _this=this;this._codeActionOracle.value=void 0,this.setState(CodeActionsState.Empty);var model=this._editor.getModel();if(model&&modes.a.has(model)&&!this._editor.getOption(65)){for(var supportedActions=[],_i=0,_a=modes.a.all(model);_i<_a.length;_i++){var provider=_a[_i];Array.isArray(provider.providedCodeActionKinds)&&supportedActions.push.apply(supportedActions,provider.providedCodeActionKinds)}this._supportedCodeActions.set(supportedActions.join(" ")),this._codeActionOracle.value=new codeActionModel_CodeActionOracle(this._editor,this._markerService,function(trigger){if(!trigger){_this.setState(CodeActionsState.Empty);return}var actions=Object(common_async.f)(function(token){return Object(codeAction.c)(model,trigger.selection,trigger.trigger,token)});_this._progressService&&trigger.trigger.type==="manual"&&_this._progressService.showWhile(actions,250),_this.setState(new CodeActionsState.Triggered(trigger.trigger,trigger.selection,trigger.position,actions))},void 0),this._codeActionOracle.value.trigger({type:"auto"})}else this._supportedCodeActions.reset()},CodeActionModel.prototype.trigger=function(trigger){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(trigger)},CodeActionModel.prototype.setState=function(newState,skipNotify){newState!==this._state&&(this._state.type===1&&this._state.actions.cancel(),this._state=newState,skipNotify||this._onDidChangeState.fire(newState))},CodeActionModel}(lifecycle.a),codeActionCommands_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),codeActionCommands_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},codeActionCommands_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},codeActionCommands_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},codeActionCommands_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function contextKeyForSupportedActions(kind){return contextkey.a.regex(SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+Object(strings.p)(kind.value)+"\\b"))}var argsSchema={type:"object",required:["kind"],defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:nls.a("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:nls.a("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[nls.a("args.schema.apply.first","Always apply the first returned code action."),nls.a("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),nls.a("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:nls.a("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},codeActionCommands_QuickFixController=function(_super){codeActionCommands_extends(QuickFixController,_super);function QuickFixController(editor,markerService,contextKeyService,progressService,contextMenuService,keybindingService,_commandService,_bulkEditService,_instantiationService){var _this=_super.call(this)||this;return _this._commandService=_commandService,_this._bulkEditService=_bulkEditService,_this._instantiationService=_instantiationService,_this._editor=editor,_this._model=_this._register(new codeActionModel_CodeActionModel(_this._editor,markerService,contextKeyService,progressService)),_this._register(_this._model.onDidChangeState(function(newState){return _this.update(newState)})),_this._ui=new Lazy(function(){return _this._register(new codeActionUi_CodeActionUi(editor,codeActionCommands_QuickFixAction.Id,codeActionCommands_AutoFixAction.Id,{applyCodeAction:function(action,retrigger){return codeActionCommands_awaiter(_this,void 0,void 0,function(){return codeActionCommands_generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,,2,3]),[4,this._applyCodeAction(action)];case 1:return _a.sent(),[3,3];case 2:return retrigger&&this._trigger({type:"auto",filter:{}}),[7];case 3:return[2]}})})}},_this._instantiationService))}),_this}return QuickFixController.get=function(editor){return editor.getContribution(QuickFixController.ID)},QuickFixController.prototype.update=function(newState){this._ui.getValue().update(newState)},QuickFixController.prototype.showCodeActions=function(actions,at){return this._ui.getValue().showCodeActionList(actions,at,{includeDisabledActions:!1})},QuickFixController.prototype.manualTriggerAtCurrentPosition=function(notAvailableMessage,filter,autoApply){if(this._editor.hasModel()){messageController.a.get(this._editor).closeMessage();var triggerPosition=this._editor.getPosition();this._trigger({type:"manual",filter,autoApply,context:{notAvailableMessage,position:triggerPosition}})}},QuickFixController.prototype._trigger=function(trigger){return this._model.trigger(trigger)},QuickFixController.prototype._applyCodeAction=function(action){return this._instantiationService.invokeFunction(applyCodeAction,action,this._bulkEditService,this._commandService,this._editor)},QuickFixController.ID="editor.contrib.quickFixController",QuickFixController=codeActionCommands_decorate([codeActionCommands_param(1,markers.b),codeActionCommands_param(2,contextkey.c),codeActionCommands_param(3,progress.a),codeActionCommands_param(4,contextView.a),codeActionCommands_param(5,keybinding.a),codeActionCommands_param(6,commands.b),codeActionCommands_param(7,services_bulkEditService.a),codeActionCommands_param(8,instantiation.a)],QuickFixController),QuickFixController}(lifecycle.a);function applyCodeAction(accessor,action,bulkEditService,commandService,editor){return codeActionCommands_awaiter(this,void 0,void 0,function(){var notificationService,err_1,message;return codeActionCommands_generator(this,function(_a){switch(_a.label){case 0:return notificationService=accessor.get(notification.a),action.edit?[4,bulkEditService.apply(action.edit,{editor})]:[3,2];case 1:_a.sent(),_a.label=2;case 2:if(!action.command)return[3,6];_a.label=3;case 3:return _a.trys.push([3,5,,6]),[4,commandService.executeCommand.apply(commandService,__spreadArrays([action.command.id],action.command.arguments||[]))];case 4:return _a.sent(),[3,6];case 5:return err_1=_a.sent(),message=asMessage(err_1),notificationService.error(typeof message=="string"?message:nls.a("applyCodeActionFailed","An unknown error occurred while applying the code action")),[3,6];case 6:return[2]}})})}function asMessage(err){return typeof err=="string"?err:err instanceof Error&&typeof err.message=="string"?err.message:void 0}function triggerCodeActionsForEditorSelection(editor,notAvailableMessage,filter,autoApply){if(editor.hasModel()){var controller=codeActionCommands_QuickFixController.get(editor);controller&&controller.manualTriggerAtCurrentPosition(notAvailableMessage,filter,autoApply)}}var codeActionCommands_QuickFixAction=function(_super){codeActionCommands_extends(QuickFixAction,_super);function QuickFixAction(){return _super.call(this,{id:QuickFixAction.Id,label:nls.a("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCodeActionsProvider),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2132,weight:100}})||this}return QuickFixAction.prototype.run=function(_accessor,editor){return triggerCodeActionsForEditorSelection(editor,nls.a("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)},QuickFixAction.Id="editor.action.quickFix",QuickFixAction}(editorExtensions.b),codeActionCommands_CodeActionCommand=function(_super){codeActionCommands_extends(CodeActionCommand,_super);function CodeActionCommand(){return _super.call(this,{id:codeAction.a,precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:argsSchema}]}})||this}return CodeActionCommand.prototype.runEditorCommand=function(_accessor,editor,userArgs){var _a,args=types.a.fromUser(userArgs,{kind:types.b.Empty,apply:"ifSingle"});return triggerCodeActionsForEditorSelection(editor,typeof((_a=userArgs)===null||_a===void 0?void 0:_a.kind)=="string"?args.preferred?nls.a("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",userArgs.kind):nls.a("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",userArgs.kind):args.preferred?nls.a("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):nls.a("editor.action.codeAction.noneMessage","No code actions available"),{include:args.kind,includeSourceActions:!0,onlyIncludePreferredActions:args.preferred},args.apply)},CodeActionCommand}(editorExtensions.c),codeActionCommands_RefactorAction=function(_super){codeActionCommands_extends(RefactorAction,_super);function RefactorAction(){return _super.call(this,{id:codeAction.e,label:nls.a("refactor.label","Refactor..."),alias:"Refactor...",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCodeActionsProvider),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:argsSchema}]}})||this}return RefactorAction.prototype.run=function(_accessor,editor,userArgs){var _a,args=types.a.fromUser(userArgs,{kind:types.b.Refactor,apply:"never"});return triggerCodeActionsForEditorSelection(editor,typeof((_a=userArgs)===null||_a===void 0?void 0:_a.kind)=="string"?args.preferred?nls.a("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",userArgs.kind):nls.a("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",userArgs.kind):args.preferred?nls.a("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):nls.a("editor.action.refactor.noneMessage","No refactorings available"),{include:types.b.Refactor.contains(args.kind)?args.kind:types.b.None,onlyIncludePreferredActions:args.preferred},args.apply)},RefactorAction}(editorExtensions.b),codeActionCommands_SourceAction=function(_super){codeActionCommands_extends(SourceAction,_super);function SourceAction(){return _super.call(this,{id:codeAction.f,label:nls.a("source.label","Source Action..."),alias:"Source Action...",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.Source))},description:{description:"Source Action...",args:[{name:"args",schema:argsSchema}]}})||this}return SourceAction.prototype.run=function(_accessor,editor,userArgs){var _a,args=types.a.fromUser(userArgs,{kind:types.b.Source,apply:"never"});return triggerCodeActionsForEditorSelection(editor,typeof((_a=userArgs)===null||_a===void 0?void 0:_a.kind)=="string"?args.preferred?nls.a("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",userArgs.kind):nls.a("editor.action.source.noneMessage.kind","No source actions for '{0}' available",userArgs.kind):args.preferred?nls.a("editor.action.source.noneMessage.preferred","No preferred source actions available"):nls.a("editor.action.source.noneMessage","No source actions available"),{include:types.b.Source.contains(args.kind)?args.kind:types.b.None,includeSourceActions:!0,onlyIncludePreferredActions:args.preferred},args.apply)},SourceAction}(editorExtensions.b),codeActionCommands_OrganizeImportsAction=function(_super){codeActionCommands_extends(OrganizeImportsAction,_super);function OrganizeImportsAction(){return _super.call(this,{id:codeAction.d,label:nls.a("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.SourceOrganizeImports)),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1581,weight:100}})||this}return OrganizeImportsAction.prototype.run=function(_accessor,editor){return triggerCodeActionsForEditorSelection(editor,nls.a("editor.action.organize.noneMessage","No organize imports action available"),{include:types.b.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")},OrganizeImportsAction}(editorExtensions.b),codeActionCommands_FixAllAction=function(_super){codeActionCommands_extends(FixAllAction,_super);function FixAllAction(){return _super.call(this,{id:codeAction.b,label:nls.a("fixAll.label","Fix All"),alias:"Fix All",precondition:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.SourceFixAll))})||this}return FixAllAction.prototype.run=function(_accessor,editor){return triggerCodeActionsForEditorSelection(editor,nls.a("fixAll.noneMessage","No fix all action available"),{include:types.b.SourceFixAll,includeSourceActions:!0},"ifSingle")},FixAllAction}(editorExtensions.b),codeActionCommands_AutoFixAction=function(_super){codeActionCommands_extends(AutoFixAction,_super);function AutoFixAction(){return _super.call(this,{id:AutoFixAction.Id,label:nls.a("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.QuickFix)),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})||this}return AutoFixAction.prototype.run=function(_accessor,editor){return triggerCodeActionsForEditorSelection(editor,nls.a("editor.action.autoFix.noneMessage","No auto fixes available"),{include:types.b.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")},AutoFixAction.Id="editor.action.autoFix",AutoFixAction}(editorExtensions.b)},5015:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return referencesController_ReferencesController});var nls=__webpack_require__(2069),errors=__webpack_require__(2176),lifecycle=__webpack_require__(2033),codeEditorService=__webpack_require__(2732),instantiation=__webpack_require__(2232),contextkey=__webpack_require__(2238),configuration=__webpack_require__(2786),storage=__webpack_require__(3195),referencesModel=__webpack_require__(3380),referencesWidget=__webpack_require__(5786),dom=__webpack_require__(2124),color=__webpack_require__(2663),common_event=__webpack_require__(2106),network=__webpack_require__(2814),resources=__webpack_require__(2785),embeddedCodeEditorWidget=__webpack_require__(3876),core_range=__webpack_require__(2056),textModel=__webpack_require__(2720),resolverService=__webpack_require__(3233),iconLabel=__webpack_require__(3507),countBadge=__webpack_require__(5787),strings=__webpack_require__(2123),objects=__webpack_require__(2734),defaultOpts={badgeBackground:color.a.fromHex("#4D4D4D"),badgeForeground:color.a.fromHex("#FFFFFF")},countBadge_CountBadge=function(){function CountBadge(container,options){this.count=0,this.options=options||Object.create(null),Object(objects.g)(this.options,defaultOpts,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Object(dom.q)(container,Object(dom.a)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return CountBadge.prototype.setCount=function(count){this.count=count,this.render()},CountBadge.prototype.setTitleFormat=function(titleFormat){this.titleFormat=titleFormat,this.render()},CountBadge.prototype.render=function(){this.element.textContent=Object(strings.r)(this.countFormat,this.count),this.element.title=Object(strings.r)(this.titleFormat,this.count),this.applyStyles()},CountBadge.prototype.style=function(styles){this.badgeBackground=styles.badgeBackground,this.badgeForeground=styles.badgeForeground,this.badgeBorder=styles.badgeBorder,this.applyStyles()},CountBadge.prototype.applyStyles=function(){if(this.element){var background=this.badgeBackground?this.badgeBackground.toString():"",foreground=this.badgeForeground?this.badgeForeground.toString():"",border=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=background,this.element.style.color=foreground,this.element.style.borderWidth=border?"1px":"",this.element.style.borderStyle=border?"solid":"",this.element.style.borderColor=border}},CountBadge}(),label=__webpack_require__(3381),common_themeService=__webpack_require__(2235),styler=__webpack_require__(3285),labels=__webpack_require__(3502),keybinding=__webpack_require__(2760),filters=__webpack_require__(3168),highlightedLabel=__webpack_require__(3508),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},referencesTree_DataSource=function(){function DataSource(_resolverService){this._resolverService=_resolverService}return DataSource.prototype.hasChildren=function(element){return element instanceof referencesModel.c||element instanceof referencesModel.a&&!element.failure},DataSource.prototype.getChildren=function(element){if(element instanceof referencesModel.c)return element.groups;if(element instanceof referencesModel.a)return element.resolve(this._resolverService).then(function(val){return val.children});throw new Error("bad tree")},DataSource=__decorate([__param(0,resolverService.a)],DataSource),DataSource}(),referencesTree_Delegate=function(){function Delegate(){}return Delegate.prototype.getHeight=function(){return 23},Delegate.prototype.getTemplateId=function(element){return element instanceof referencesModel.a?referencesTree_FileReferencesRenderer.id:OneReferenceRenderer.id},Delegate}(),referencesTree_StringRepresentationProvider=function(){function StringRepresentationProvider(_keybindingService){this._keybindingService=_keybindingService}return StringRepresentationProvider.prototype.getKeyboardNavigationLabel=function(element){if(element instanceof referencesModel.b){var preview=element.parent.preview,parts=preview&&preview.preview(element.range);if(parts)return parts.value}return Object(resources.b)(element.uri)},StringRepresentationProvider=__decorate([__param(0,keybinding.a)],StringRepresentationProvider),StringRepresentationProvider}(),referencesTree_IdentityProvider=function(){function IdentityProvider(){}return IdentityProvider.prototype.getId=function(element){return element instanceof referencesModel.b?element.id:element.uri},IdentityProvider}(),referencesTree_FileReferencesTemplate=function(_super){__extends(FileReferencesTemplate,_super);function FileReferencesTemplate(container,_uriLabel,themeService){var _this=_super.call(this)||this;_this._uriLabel=_uriLabel;var parent=document.createElement("div");return dom.f(parent,"reference-file"),_this.file=_this._register(new iconLabel.a(parent,{supportHighlights:!0})),_this.badge=new countBadge_CountBadge(dom.q(parent,dom.a(".count"))),_this._register(Object(styler.a)(_this.badge,themeService)),container.appendChild(parent),_this}return FileReferencesTemplate.prototype.set=function(element,matches){var parent=Object(resources.d)(element.uri);this.file.setLabel(Object(labels.a)(element.uri),this._uriLabel.getUriLabel(parent,{relative:!0}),{title:this._uriLabel.getUriLabel(element.uri),matches});var len=element.children.length;this.badge.setCount(len),element.failure?this.badge.setTitleFormat(Object(nls.a)("referencesFailre","Failed to resolve file.")):len>1?this.badge.setTitleFormat(Object(nls.a)("referencesCount","{0} references",len)):this.badge.setTitleFormat(Object(nls.a)("referenceCount","{0} reference",len))},FileReferencesTemplate=__decorate([__param(1,label.a),__param(2,common_themeService.c)],FileReferencesTemplate),FileReferencesTemplate}(lifecycle.a),referencesTree_FileReferencesRenderer=function(){function FileReferencesRenderer(_instantiationService){this._instantiationService=_instantiationService,this.templateId=FileReferencesRenderer.id}return FileReferencesRenderer.prototype.renderTemplate=function(container){return this._instantiationService.createInstance(referencesTree_FileReferencesTemplate,container)},FileReferencesRenderer.prototype.renderElement=function(node,index,template){template.set(node.element,Object(filters.c)(node.filterData))},FileReferencesRenderer.prototype.disposeTemplate=function(templateData){templateData.dispose()},FileReferencesRenderer.id="FileReferencesRenderer",FileReferencesRenderer=__decorate([__param(0,instantiation.a)],FileReferencesRenderer),FileReferencesRenderer}(),referencesTree_OneReferenceTemplate=function(){function OneReferenceTemplate(container){this.label=new highlightedLabel.a(container,!1)}return OneReferenceTemplate.prototype.set=function(element,score){var filePreview=element.parent.preview,preview=filePreview&&filePreview.preview(element.range);if(!preview)this.label.set(Object(resources.b)(element.uri)+":"+(element.range.startLineNumber+1)+":"+(element.range.startColumn+1));else{var value=preview.value,highlight=preview.highlight;score&&!filters.a.isDefault(score)?(dom.V(this.label.element,"referenceMatch",!1),this.label.set(value,Object(filters.c)(score))):(dom.V(this.label.element,"referenceMatch",!0),this.label.set(value,[highlight]))}},OneReferenceTemplate}(),OneReferenceRenderer=function(){function OneReferenceRenderer2(){this.templateId=OneReferenceRenderer2.id}return OneReferenceRenderer2.prototype.renderTemplate=function(container){return new referencesTree_OneReferenceTemplate(container)},OneReferenceRenderer2.prototype.renderElement=function(node,index,templateData){templateData.set(node.element,node.filterData)},OneReferenceRenderer2.prototype.disposeTemplate=function(){},OneReferenceRenderer2.id="OneReferenceRenderer",OneReferenceRenderer2}(),AriaProvider=function(){function AriaProvider2(){}return AriaProvider2.prototype.getAriaLabel=function(element){return element.ariaMessage},AriaProvider2}(),browser_listService=__webpack_require__(3598),colorRegistry=__webpack_require__(2623),peekView=__webpack_require__(3412),splitview=__webpack_require__(5790),types=__webpack_require__(2631),numbers=__webpack_require__(3509),arrays=__webpack_require__(2389),sash_sash=__webpack_require__(3375),browser_event=__webpack_require__(2849),splitview_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},defaultStyles={separatorBorder:color.a.transparent},splitview_ViewItem=function(){function ViewItem(container,view,size,disposable){this.container=container,this.view=view,this.disposable=disposable,this._cachedVisibleSize=void 0,typeof size=="number"?(this._size=size,this._cachedVisibleSize=void 0,dom.f(container,"visible")):(this._size=0,this._cachedVisibleSize=size.cachedVisibleSize)}return Object.defineProperty(ViewItem.prototype,"size",{get:function(){return this._size},set:function(size){this._size=size},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"visible",{get:function(){return typeof this._cachedVisibleSize>"u"},enumerable:!0,configurable:!0}),ViewItem.prototype.setVisible=function(visible,size){visible!==this.visible&&(visible?(this.size=Object(numbers.a)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof size=="number"?size:this.size,this.size=0),dom.V(this.container,"visible",visible),this.view.setVisible&&this.view.setVisible(visible))},Object.defineProperty(ViewItem.prototype,"minimumSize",{get:function(){return this.visible?this.view.minimumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"viewMinimumSize",{get:function(){return this.view.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"maximumSize",{get:function(){return this.visible?this.view.maximumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"viewMaximumSize",{get:function(){return this.view.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"priority",{get:function(){return this.view.priority},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"snap",{get:function(){return!!this.view.snap},enumerable:!0,configurable:!0}),Object.defineProperty(ViewItem.prototype,"enabled",{set:function(enabled){this.container.style.pointerEvents=enabled?null:"none"},enumerable:!0,configurable:!0}),ViewItem.prototype.layout=function(offset,layoutContext){this.layoutContainer(offset),this.view.layout(this.size,offset,layoutContext)},ViewItem.prototype.dispose=function(){return this.disposable.dispose(),this.view},ViewItem}(),VerticalViewItem=function(_super){splitview_extends(VerticalViewItem2,_super);function VerticalViewItem2(){return _super!==null&&_super.apply(this,arguments)||this}return VerticalViewItem2.prototype.layoutContainer=function(offset){this.container.style.top=offset+"px",this.container.style.height=this.size+"px"},VerticalViewItem2}(splitview_ViewItem),HorizontalViewItem=function(_super){splitview_extends(HorizontalViewItem2,_super);function HorizontalViewItem2(){return _super!==null&&_super.apply(this,arguments)||this}return HorizontalViewItem2.prototype.layoutContainer=function(offset){this.container.style.left=offset+"px",this.container.style.width=this.size+"px"},HorizontalViewItem2}(splitview_ViewItem),State;(function(State2){State2[State2.Idle=0]="Idle",State2[State2.Busy=1]="Busy"})(State||(State={}));var Sizing;(function(Sizing2){Sizing2.Distribute={type:"distribute"};function Split(index){return{type:"split",index}}Sizing2.Split=Split;function Invisible(cachedVisibleSize){return{type:"invisible",cachedVisibleSize}}Sizing2.Invisible=Invisible})(Sizing||(Sizing={}));var splitview_SplitView=function(_super){splitview_extends(SplitView,_super);function SplitView(container,options){options===void 0&&(options={});var _this=_super.call(this)||this;return _this.size=0,_this.contentSize=0,_this.proportions=void 0,_this.viewItems=[],_this.sashItems=[],_this.state=State.Idle,_this._onDidSashChange=_this._register(new common_event.a),_this.onDidSashChange=_this._onDidSashChange.event,_this._onDidSashReset=_this._register(new common_event.a),_this._startSnappingEnabled=!0,_this._endSnappingEnabled=!0,_this.orientation=types.k(options.orientation)?0:options.orientation,_this.inverseAltBehavior=!!options.inverseAltBehavior,_this.proportionalLayout=types.k(options.proportionalLayout)?!0:!!options.proportionalLayout,_this.el=document.createElement("div"),dom.f(_this.el,"monaco-split-view2"),dom.f(_this.el,_this.orientation===0?"vertical":"horizontal"),container.appendChild(_this.el),_this.sashContainer=dom.q(_this.el,dom.a(".sash-container")),_this.viewContainer=dom.q(_this.el,dom.a(".split-view-container")),_this.style(options.styles||defaultStyles),options.descriptor&&(_this.size=options.descriptor.size,options.descriptor.views.forEach(function(viewDescriptor,index){var sizing=types.k(viewDescriptor.visible)||viewDescriptor.visible?viewDescriptor.size:{type:"invisible",cachedVisibleSize:viewDescriptor.size},view=viewDescriptor.view;_this.doAddView(view,sizing,index,!0)}),_this.contentSize=_this.viewItems.reduce(function(r,i){return r+i.size},0),_this.saveProportions()),_this}return Object.defineProperty(SplitView.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(sash){for(var _i=0,_a=this.sashItems;_i<_a.length;_i++){var sashItem=_a[_i];sashItem.sash.orthogonalStartSash=sash}this._orthogonalStartSash=sash},enumerable:!0,configurable:!0}),Object.defineProperty(SplitView.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(sash){for(var _i=0,_a=this.sashItems;_i<_a.length;_i++){var sashItem=_a[_i];sashItem.sash.orthogonalEndSash=sash}this._orthogonalEndSash=sash},enumerable:!0,configurable:!0}),Object.defineProperty(SplitView.prototype,"startSnappingEnabled",{get:function(){return this._startSnappingEnabled},set:function(startSnappingEnabled){this._startSnappingEnabled!==startSnappingEnabled&&(this._startSnappingEnabled=startSnappingEnabled,this.updateSashEnablement())},enumerable:!0,configurable:!0}),Object.defineProperty(SplitView.prototype,"endSnappingEnabled",{get:function(){return this._endSnappingEnabled},set:function(endSnappingEnabled){this._endSnappingEnabled!==endSnappingEnabled&&(this._endSnappingEnabled=endSnappingEnabled,this.updateSashEnablement())},enumerable:!0,configurable:!0}),SplitView.prototype.style=function(styles){styles.separatorBorder.isTransparent()?(dom.M(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(dom.f(this.el,"separator-border"),this.el.style.setProperty("--separator-border",styles.separatorBorder.toString()))},SplitView.prototype.addView=function(view,size,index){index===void 0&&(index=this.viewItems.length),this.doAddView(view,size,index,!1)},SplitView.prototype.layout=function(size,layoutContext){var _this=this,previousSize=Math.max(this.size,this.contentSize);if(this.size=size,this.layoutContext=layoutContext,this.proportions)for(var i=0;i<this.viewItems.length;i++){var item=this.viewItems[i];item.size=Object(numbers.a)(Math.round(this.proportions[i]*size),item.minimumSize,item.maximumSize)}else{var indexes=Object(arrays.u)(this.viewItems.length),lowPriorityIndexes=indexes.filter(function(i2){return _this.viewItems[i2].priority===1}),highPriorityIndexes=indexes.filter(function(i2){return _this.viewItems[i2].priority===2});this.resize(this.viewItems.length-1,size-previousSize,void 0,lowPriorityIndexes,highPriorityIndexes)}this.distributeEmptySpace(),this.layoutViews()},SplitView.prototype.saveProportions=function(){var _this=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(function(i){return i.size/_this.contentSize}))},SplitView.prototype.onSashStart=function(_a){for(var _this=this,sash=_a.sash,start=_a.start,alt=_a.alt,_i=0,_b=this.viewItems;_i<_b.length;_i++){var item=_b[_i];item.enabled=!1}var index=Object(arrays.k)(this.sashItems,function(item2){return item2.sash===sash}),disposable=Object(lifecycle.e)(Object(browser_event.a)(document.body,"keydown")(function(e){return resetSashDragState(_this.sashDragState.current,e.altKey)}),Object(browser_event.a)(document.body,"keyup")(function(){return resetSashDragState(_this.sashDragState.current,!1)})),resetSashDragState=function(start2,alt2){var sizes=_this.viewItems.map(function(i){return i.size}),minDelta=Number.NEGATIVE_INFINITY,maxDelta=Number.POSITIVE_INFINITY;if(_this.inverseAltBehavior&&(alt2=!alt2),alt2){var isLastSash=index===_this.sashItems.length-1;if(isLastSash){var viewItem=_this.viewItems[index];minDelta=(viewItem.minimumSize-viewItem.size)/2,maxDelta=(viewItem.maximumSize-viewItem.size)/2}else{var viewItem=_this.viewItems[index+1];minDelta=(viewItem.size-viewItem.maximumSize)/2,maxDelta=(viewItem.size-viewItem.minimumSize)/2}}var snapBefore,snapAfter;if(!alt2){var upIndexes=Object(arrays.u)(index,-1),downIndexes=Object(arrays.u)(index+1,_this.viewItems.length),minDeltaUp=upIndexes.reduce(function(r,i){return r+(_this.viewItems[i].minimumSize-sizes[i])},0),maxDeltaUp=upIndexes.reduce(function(r,i){return r+(_this.viewItems[i].viewMaximumSize-sizes[i])},0),maxDeltaDown=downIndexes.length===0?Number.POSITIVE_INFINITY:downIndexes.reduce(function(r,i){return r+(sizes[i]-_this.viewItems[i].minimumSize)},0),minDeltaDown=downIndexes.length===0?Number.NEGATIVE_INFINITY:downIndexes.reduce(function(r,i){return r+(sizes[i]-_this.viewItems[i].viewMaximumSize)},0),minDelta_1=Math.max(minDeltaUp,minDeltaDown),maxDelta_1=Math.min(maxDeltaDown,maxDeltaUp),snapBeforeIndex=_this.findFirstSnapIndex(upIndexes),snapAfterIndex=_this.findFirstSnapIndex(downIndexes);if(typeof snapBeforeIndex=="number"){var viewItem=_this.viewItems[snapBeforeIndex],halfSize=Math.floor(viewItem.viewMinimumSize/2);snapBefore={index:snapBeforeIndex,limitDelta:viewItem.visible?minDelta_1-halfSize:minDelta_1+halfSize,size:viewItem.size}}if(typeof snapAfterIndex=="number"){var viewItem=_this.viewItems[snapAfterIndex],halfSize=Math.floor(viewItem.viewMinimumSize/2);snapAfter={index:snapAfterIndex,limitDelta:viewItem.visible?maxDelta_1+halfSize:maxDelta_1-halfSize,size:viewItem.size}}}_this.sashDragState={start:start2,current:start2,index,sizes,minDelta,maxDelta,alt:alt2,snapBefore,snapAfter,disposable}};resetSashDragState(start,alt)},SplitView.prototype.onSashChange=function(_a){var current=_a.current,_b=this.sashDragState,index=_b.index,start=_b.start,sizes=_b.sizes,alt=_b.alt,minDelta=_b.minDelta,maxDelta=_b.maxDelta,snapBefore=_b.snapBefore,snapAfter=_b.snapAfter;this.sashDragState.current=current;var delta=current-start,newDelta=this.resize(index,delta,sizes,void 0,void 0,minDelta,maxDelta,snapBefore,snapAfter);if(alt){var isLastSash=index===this.sashItems.length-1,newSizes=this.viewItems.map(function(i){return i.size}),viewItemIndex=isLastSash?index:index+1,viewItem=this.viewItems[viewItemIndex],newMinDelta=viewItem.size-viewItem.maximumSize,newMaxDelta=viewItem.size-viewItem.minimumSize,resizeIndex=isLastSash?index-1:index+1;this.resize(resizeIndex,-newDelta,newSizes,void 0,void 0,newMinDelta,newMaxDelta)}this.distributeEmptySpace(),this.layoutViews()},SplitView.prototype.onSashEnd=function(index){this._onDidSashChange.fire(index),this.sashDragState.disposable.dispose(),this.saveProportions();for(var _i=0,_a=this.viewItems;_i<_a.length;_i++){var item=_a[_i];item.enabled=!0}},SplitView.prototype.onViewChange=function(item,size){var index=this.viewItems.indexOf(item);index<0||index>=this.viewItems.length||(size=typeof size=="number"?size:item.size,size=Object(numbers.a)(size,item.minimumSize,item.maximumSize),this.inverseAltBehavior&&index>0?(this.resize(index-1,Math.floor((item.size-size)/2)),this.distributeEmptySpace(),this.layoutViews()):(item.size=size,this.relayout([index],void 0)))},SplitView.prototype.resizeView=function(index,size){var _this=this;if(this.state!==State.Idle)throw new Error("Cant modify splitview");if(this.state=State.Busy,!(index<0||index>=this.viewItems.length)){var indexes=Object(arrays.u)(this.viewItems.length).filter(function(i){return i!==index}),lowPriorityIndexes=__spreadArrays(indexes.filter(function(i){return _this.viewItems[i].priority===1}),[index]),highPriorityIndexes=indexes.filter(function(i){return _this.viewItems[i].priority===2}),item=this.viewItems[index];size=Math.round(size),size=Object(numbers.a)(size,item.minimumSize,Math.min(item.maximumSize,this.size)),item.size=size,this.relayout(lowPriorityIndexes,highPriorityIndexes),this.state=State.Idle}},SplitView.prototype.distributeViewSizes=function(){for(var _this=this,flexibleViewItems=[],flexibleSize=0,_i=0,_a=this.viewItems;_i<_a.length;_i++){var item=_a[_i];item.maximumSize-item.minimumSize>0&&(flexibleViewItems.push(item),flexibleSize+=item.size)}for(var size=Math.floor(flexibleSize/flexibleViewItems.length),_b=0,flexibleViewItems_1=flexibleViewItems;_b<flexibleViewItems_1.length;_b++){var item=flexibleViewItems_1[_b];item.size=Object(numbers.a)(size,item.minimumSize,item.maximumSize)}var indexes=Object(arrays.u)(this.viewItems.length),lowPriorityIndexes=indexes.filter(function(i){return _this.viewItems[i].priority===1}),highPriorityIndexes=indexes.filter(function(i){return _this.viewItems[i].priority===2});this.relayout(lowPriorityIndexes,highPriorityIndexes)},SplitView.prototype.getViewSize=function(index){return index<0||index>=this.viewItems.length?-1:this.viewItems[index].size},SplitView.prototype.doAddView=function(view,size,index,skipLayout){var _this=this;if(index===void 0&&(index=this.viewItems.length),this.state!==State.Idle)throw new Error("Cant modify splitview");this.state=State.Busy;var container=dom.a(".split-view-view");index===this.viewItems.length?this.viewContainer.appendChild(container):this.viewContainer.insertBefore(container,this.viewContainer.children.item(index));var onChangeDisposable=view.onDidChange(function(size2){return _this.onViewChange(item,size2)}),containerDisposable=Object(lifecycle.h)(function(){return _this.viewContainer.removeChild(container)}),disposable=Object(lifecycle.e)(onChangeDisposable,containerDisposable),viewSize;typeof size=="number"?viewSize=size:size.type==="split"?viewSize=this.getViewSize(size.index)/2:size.type==="invisible"?viewSize={cachedVisibleSize:size.cachedVisibleSize}:viewSize=view.minimumSize;var item=this.orientation===0?new VerticalViewItem(container,view,viewSize,disposable):new HorizontalViewItem(container,view,viewSize,disposable);if(this.viewItems.splice(index,0,item),this.viewItems.length>1){var orientation_1=this.orientation===0?1:0,layoutProvider=this.orientation===0?{getHorizontalSashTop:function(sash){return _this.getSashPosition(sash)}}:{getVerticalSashLeft:function(sash){return _this.getSashPosition(sash)}},sash_1=new sash_sash.a(this.sashContainer,layoutProvider,{orientation:orientation_1,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),sashEventMapper=this.orientation===0?function(e){return{sash:sash_1,start:e.startY,current:e.currentY,alt:e.altKey}}:function(e){return{sash:sash_1,start:e.startX,current:e.currentX,alt:e.altKey}},onStart=common_event.b.map(sash_1.onDidStart,sashEventMapper),onStartDisposable=onStart(this.onSashStart,this),onChange=common_event.b.map(sash_1.onDidChange,sashEventMapper),onChangeDisposable_1=onChange(this.onSashChange,this),onEnd=common_event.b.map(sash_1.onDidEnd,function(){return Object(arrays.k)(_this.sashItems,function(item2){return item2.sash===sash_1})}),onEndDisposable=onEnd(this.onSashEnd,this),onDidResetDisposable=sash_1.onDidReset(function(){var index2=Object(arrays.k)(_this.sashItems,function(item2){return item2.sash===sash_1}),upIndexes=Object(arrays.u)(index2,-1),downIndexes=Object(arrays.u)(index2+1,_this.viewItems.length),snapBeforeIndex=_this.findFirstSnapIndex(upIndexes),snapAfterIndex=_this.findFirstSnapIndex(downIndexes);typeof snapBeforeIndex=="number"&&!_this.viewItems[snapBeforeIndex].visible||typeof snapAfterIndex=="number"&&!_this.viewItems[snapAfterIndex].visible||_this._onDidSashReset.fire(index2)}),disposable_1=Object(lifecycle.e)(onStartDisposable,onChangeDisposable_1,onEndDisposable,onDidResetDisposable,sash_1),sashItem={sash:sash_1,disposable:disposable_1};this.sashItems.splice(index-1,0,sashItem)}container.appendChild(view.element);var highPriorityIndexes;typeof size!="number"&&size.type==="split"&&(highPriorityIndexes=[size.index]),skipLayout||this.relayout([index],highPriorityIndexes),this.state=State.Idle,!skipLayout&&typeof size!="number"&&size.type==="distribute"&&this.distributeViewSizes()},SplitView.prototype.relayout=function(lowPriorityIndexes,highPriorityIndexes){var contentSize=this.viewItems.reduce(function(r,i){return r+i.size},0);this.resize(this.viewItems.length-1,this.size-contentSize,void 0,lowPriorityIndexes,highPriorityIndexes),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},SplitView.prototype.resize=function(index,delta,sizes,lowPriorityIndexes,highPriorityIndexes,overloadMinDelta,overloadMaxDelta,snapBefore,snapAfter){var _this=this;if(sizes===void 0&&(sizes=this.viewItems.map(function(i2){return i2.size})),overloadMinDelta===void 0&&(overloadMinDelta=Number.NEGATIVE_INFINITY),overloadMaxDelta===void 0&&(overloadMaxDelta=Number.POSITIVE_INFINITY),index<0||index>=this.viewItems.length)return 0;var upIndexes=Object(arrays.u)(index,-1),downIndexes=Object(arrays.u)(index+1,this.viewItems.length);if(highPriorityIndexes)for(var _i=0,highPriorityIndexes_1=highPriorityIndexes;_i<highPriorityIndexes_1.length;_i++){var index_1=highPriorityIndexes_1[_i];Object(arrays.t)(upIndexes,index_1),Object(arrays.t)(downIndexes,index_1)}if(lowPriorityIndexes)for(var _a=0,lowPriorityIndexes_1=lowPriorityIndexes;_a<lowPriorityIndexes_1.length;_a++){var index_2=lowPriorityIndexes_1[_a];Object(arrays.s)(upIndexes,index_2),Object(arrays.s)(downIndexes,index_2)}var upItems=upIndexes.map(function(i2){return _this.viewItems[i2]}),upSizes=upIndexes.map(function(i2){return sizes[i2]}),downItems=downIndexes.map(function(i2){return _this.viewItems[i2]}),downSizes=downIndexes.map(function(i2){return sizes[i2]}),minDeltaUp=upIndexes.reduce(function(r,i2){return r+(_this.viewItems[i2].minimumSize-sizes[i2])},0),maxDeltaUp=upIndexes.reduce(function(r,i2){return r+(_this.viewItems[i2].maximumSize-sizes[i2])},0),maxDeltaDown=downIndexes.length===0?Number.POSITIVE_INFINITY:downIndexes.reduce(function(r,i2){return r+(sizes[i2]-_this.viewItems[i2].minimumSize)},0),minDeltaDown=downIndexes.length===0?Number.NEGATIVE_INFINITY:downIndexes.reduce(function(r,i2){return r+(sizes[i2]-_this.viewItems[i2].maximumSize)},0),minDelta=Math.max(minDeltaUp,minDeltaDown,overloadMinDelta),maxDelta=Math.min(maxDeltaDown,maxDeltaUp,overloadMaxDelta),snapped=!1;if(snapBefore){var snapView=this.viewItems[snapBefore.index],visible=delta>=snapBefore.limitDelta;snapped=visible!==snapView.visible,snapView.setVisible(visible,snapBefore.size)}if(!snapped&&snapAfter){var snapView=this.viewItems[snapAfter.index],visible=delta<snapAfter.limitDelta;snapped=visible!==snapView.visible,snapView.setVisible(visible,snapAfter.size)}if(snapped)return this.resize(index,delta,sizes,lowPriorityIndexes,highPriorityIndexes,overloadMinDelta,overloadMaxDelta);delta=Object(numbers.a)(delta,minDelta,maxDelta);for(var i=0,deltaUp=delta;i<upItems.length;i++){var item=upItems[i],size=Object(numbers.a)(upSizes[i]+deltaUp,item.minimumSize,item.maximumSize),viewDelta=size-upSizes[i];deltaUp-=viewDelta,item.size=size}for(var i=0,deltaDown=delta;i<downItems.length;i++){var item=downItems[i],size=Object(numbers.a)(downSizes[i]-deltaDown,item.minimumSize,item.maximumSize),viewDelta=size-downSizes[i];deltaDown+=viewDelta,item.size=size}return delta},SplitView.prototype.distributeEmptySpace=function(lowPriorityIndex){for(var _this=this,contentSize=this.viewItems.reduce(function(r,i2){return r+i2.size},0),emptyDelta=this.size-contentSize,indexes=Object(arrays.u)(this.viewItems.length-1,-1),lowPriorityIndexes=indexes.filter(function(i2){return _this.viewItems[i2].priority===1}),highPriorityIndexes=indexes.filter(function(i2){return _this.viewItems[i2].priority===2}),_i=0,highPriorityIndexes_2=highPriorityIndexes;_i<highPriorityIndexes_2.length;_i++){var index=highPriorityIndexes_2[_i];Object(arrays.t)(indexes,index)}for(var _a=0,lowPriorityIndexes_2=lowPriorityIndexes;_a<lowPriorityIndexes_2.length;_a++){var index=lowPriorityIndexes_2[_a];Object(arrays.s)(indexes,index)}typeof lowPriorityIndex=="number"&&Object(arrays.s)(indexes,lowPriorityIndex);for(var i=0;emptyDelta!==0&&i<indexes.length;i++){var item=this.viewItems[indexes[i]],size=Object(numbers.a)(item.size+emptyDelta,item.minimumSize,item.maximumSize),viewDelta=size-item.size;emptyDelta-=viewDelta,item.size=size}},SplitView.prototype.layoutViews=function(){this.contentSize=this.viewItems.reduce(function(r,i){return r+i.size},0);for(var offset=0,_i=0,_a=this.viewItems;_i<_a.length;_i++){var viewItem=_a[_i];viewItem.layout(offset,this.layoutContext),offset+=viewItem.size}this.sashItems.forEach(function(item){return item.sash.layout()}),this.updateSashEnablement()},SplitView.prototype.updateSashEnablement=function(){var previous=!1,collapsesDown=this.viewItems.map(function(i){return previous=i.size-i.minimumSize>0||previous});previous=!1;var expandsDown=this.viewItems.map(function(i){return previous=i.maximumSize-i.size>0||previous}),reverseViews=__spreadArrays(this.viewItems).reverse();previous=!1;var collapsesUp=reverseViews.map(function(i){return previous=i.size-i.minimumSize>0||previous}).reverse();previous=!1;for(var expandsUp=reverseViews.map(function(i){return previous=i.maximumSize-i.size>0||previous}).reverse(),position=0,index=0;index<this.sashItems.length;index++){var sash=this.sashItems[index].sash,viewItem=this.viewItems[index];position+=viewItem.size;var min=!(collapsesDown[index]&&expandsUp[index+1]),max=!(expandsDown[index]&&collapsesUp[index+1]);if(min&&max){var upIndexes=Object(arrays.u)(index,-1),downIndexes=Object(arrays.u)(index+1,this.viewItems.length),snapBeforeIndex=this.findFirstSnapIndex(upIndexes),snapAfterIndex=this.findFirstSnapIndex(downIndexes),snappedBefore=typeof snapBeforeIndex=="number"&&!this.viewItems[snapBeforeIndex].visible,snappedAfter=typeof snapAfterIndex=="number"&&!this.viewItems[snapAfterIndex].visible;snappedBefore&&collapsesUp[index]&&(position>0||this.startSnappingEnabled)?sash.state=1:snappedAfter&&collapsesDown[index]&&(position<this.contentSize||this.endSnappingEnabled)?sash.state=2:sash.state=0}else min&&!max?sash.state=1:!min&&max?sash.state=2:sash.state=3}},SplitView.prototype.getSashPosition=function(sash){for(var position=0,i=0;i<this.sashItems.length;i++)if(position+=this.viewItems[i].size,this.sashItems[i].sash===sash)return Math.min(position,this.contentSize-2);return 0},SplitView.prototype.findFirstSnapIndex=function(indexes){for(var _i=0,indexes_1=indexes;_i<indexes_1.length;_i++){var index=indexes_1[_i],viewItem=this.viewItems[index];if(viewItem.visible&&viewItem.snap)return index}for(var _a=0,indexes_2=indexes;_a<indexes_2.length;_a++){var index=indexes_2[_a],viewItem=this.viewItems[index];if(viewItem.visible&&viewItem.maximumSize-viewItem.minimumSize>0)return;if(!viewItem.visible&&viewItem.snap)return index}},SplitView.prototype.dispose=function(){_super.prototype.dispose.call(this),this.viewItems.forEach(function(i){return i.dispose()}),this.viewItems=[],this.sashItems.forEach(function(i){return i.disposable.dispose()}),this.sashItems=[]},SplitView}(lifecycle.a),referencesWidget_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),referencesWidget_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},referencesWidget_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},referencesWidget_DecorationsManager=function(){function DecorationsManager(_editor,_model){var _this=this;this._editor=_editor,this._model=_model,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new lifecycle.b,this._callOnModelChange=new lifecycle.b,this._callOnDispose.add(this._editor.onDidChangeModel(function(){return _this._onModelChanged()})),this._onModelChanged()}return DecorationsManager.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},DecorationsManager.prototype._onModelChanged=function(){this._callOnModelChange.clear();var model=this._editor.getModel();if(model)for(var _i=0,_a=this._model.groups;_i<_a.length;_i++){var ref=_a[_i];if(Object(resources.e)(ref.uri,model.uri)){this._addDecorations(ref);return}}},DecorationsManager.prototype._addDecorations=function(reference){var _this=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function(event){return _this._onDecorationChanged()}));for(var newDecorations=[],newDecorationsActualIndex=[],i=0,len=reference.children.length;i<len;i++){var oneReference=reference.children[i];this._decorationIgnoreSet.has(oneReference.id)||(newDecorations.push({range:oneReference.range,options:DecorationsManager.DecorationOptions}),newDecorationsActualIndex.push(i))}for(var decorations=this._editor.deltaDecorations([],newDecorations),i=0;i<decorations.length;i++)this._decorations.set(decorations[i],reference.children[newDecorationsActualIndex[i]])}},DecorationsManager.prototype._onDecorationChanged=function(){var _this=this,toRemove=[],model=this._editor.getModel();if(model){this._decorations.forEach(function(reference,decorationId){var newRange=model.getDecorationRange(decorationId);if(newRange){var ignore=!1;if(!core_range.a.equalsRange(newRange,reference.range)){if(core_range.a.spansMultipleLines(newRange))ignore=!0;else{var lineLength=reference.range.endColumn-reference.range.startColumn,newLineLength=newRange.endColumn-newRange.startColumn;lineLength!==newLineLength&&(ignore=!0)}ignore?(_this._decorationIgnoreSet.add(reference.id),toRemove.push(decorationId)):reference.range=newRange}}});for(var i=0,len=toRemove.length;i<len;i++)this._decorations.delete(toRemove[i]);this._editor.deltaDecorations(toRemove,[])}},DecorationsManager.prototype.removeDecorations=function(){var toRemove=[];this._decorations.forEach(function(value,key){toRemove.push(key)}),this._editor.deltaDecorations(toRemove,[]),this._decorations.clear()},DecorationsManager.DecorationOptions=textModel.a.register({stickiness:1,className:"reference-decoration"}),DecorationsManager}(),LayoutData=function(){function LayoutData2(){this.ratio=.7,this.heightInLines=18}return LayoutData2.fromJSON=function(raw){var ratio,heightInLines;try{var data=JSON.parse(raw);ratio=data.ratio,heightInLines=data.heightInLines}catch{}return{ratio:ratio||.7,heightInLines:heightInLines||18}},LayoutData2}(),referencesWidget_ReferenceWidget=function(_super){referencesWidget_extends(ReferenceWidget,_super);function ReferenceWidget(editor,_defaultTreeKeyboardSupport,layoutData,themeService,_textModelResolverService,_instantiationService,_peekViewService,_uriLabel){var _this=_super.call(this,editor,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return _this._defaultTreeKeyboardSupport=_defaultTreeKeyboardSupport,_this.layoutData=layoutData,_this._textModelResolverService=_textModelResolverService,_this._instantiationService=_instantiationService,_this._peekViewService=_peekViewService,_this._uriLabel=_uriLabel,_this._disposeOnNewModel=new lifecycle.b,_this._callOnDispose=new lifecycle.b,_this._onDidSelectReference=new common_event.a,_this.onDidSelectReference=_this._onDidSelectReference.event,_this._dim={height:0,width:0},_this._applyTheme(themeService.getTheme()),_this._callOnDispose.add(themeService.onThemeChange(_this._applyTheme.bind(_this))),_this._peekViewService.addExclusiveWidget(editor,_this),_this.create(),_this}return ReferenceWidget.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(lifecycle.f)(this._preview),Object(lifecycle.f)(this._previewNotAvailableMessage),Object(lifecycle.f)(this._tree),Object(lifecycle.f)(this._previewModelReference),this._splitView.dispose(),_super.prototype.dispose.call(this)},ReferenceWidget.prototype._applyTheme=function(theme){var borderColor=theme.getColor(peekView.e)||color.a.transparent;this.style({arrowColor:borderColor,frameColor:borderColor,headerBackgroundColor:theme.getColor(peekView.p)||color.a.transparent,primaryHeadingColor:theme.getColor(peekView.q),secondaryHeadingColor:theme.getColor(peekView.r)})},ReferenceWidget.prototype.show=function(where){this.editor.revealRangeInCenterIfOutsideViewport(where,0),_super.prototype.show.call(this,where,this.layoutData.heightInLines||18)},ReferenceWidget.prototype.focus=function(){this._tree.domFocus()},ReferenceWidget.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})},ReferenceWidget.prototype._fillBody=function(containerElement){var _this=this;this.setCssClass("reference-zone-widget"),this._messageContainer=dom.q(containerElement,dom.a("div.messages")),dom.H(this._messageContainer),this._splitView=new splitview_SplitView(containerElement,{orientation:1}),this._previewContainer=dom.q(containerElement,dom.a("div.preview.inline"));var options={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(embeddedCodeEditorWidget.a,this._previewContainer,options,this.editor),dom.H(this._previewContainer),this._previewNotAvailableMessage=textModel.b.createFromString(nls.a("missingPreviewMessage","no preview available")),this._treeContainer=dom.q(containerElement,dom.a("div.ref-tree.inline"));var treeOptions={ariaLabel:nls.a("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new AriaProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(referencesTree_StringRepresentationProvider),identityProvider:new referencesTree_IdentityProvider,overrideStyles:{listBackground:peekView.j}};this._tree=this._instantiationService.createInstance(browser_listService.c,"ReferencesWidget",this._treeContainer,new referencesTree_Delegate,[this._instantiationService.createInstance(referencesTree_FileReferencesRenderer),this._instantiationService.createInstance(OneReferenceRenderer)],this._instantiationService.createInstance(referencesTree_DataSource),treeOptions),this._splitView.addView({onDidChange:common_event.b.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(width){_this._preview.layout({height:_this._dim.height,width})}},Sizing.Distribute),this._splitView.addView({onDidChange:common_event.b.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(width){_this._treeContainer.style.height=_this._dim.height+"px",_this._treeContainer.style.width=width+"px",_this._tree.layout(_this._dim.height,width)}},Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(function(){_this._dim.width&&(_this.layoutData.ratio=_this._splitView.getViewSize(0)/_this._dim.width)},void 0));var onEvent=function(element,kind){element instanceof referencesModel.b&&(kind==="show"&&_this._revealReference(element,!1),_this._onDidSelectReference.fire({element,kind,source:"tree"}))};this._tree.onDidChangeFocus(function(e){onEvent(e.elements[0],"show")}),this._tree.onDidOpen(function(e){e.browserEvent instanceof MouseEvent&&(e.browserEvent.ctrlKey||e.browserEvent.metaKey||e.browserEvent.altKey)?onEvent(e.elements[0],"side"):e.browserEvent instanceof KeyboardEvent||e.browserEvent instanceof MouseEvent&&e.browserEvent.detail===2||e.browserEvent.tapCount===2?onEvent(e.elements[0],"goto"):onEvent(e.elements[0],"show")}),dom.H(this._treeContainer)},ReferenceWidget.prototype._onWidth=function(width){this._dim&&this._doLayoutBody(this._dim.height,width)},ReferenceWidget.prototype._doLayoutBody=function(heightInPixel,widthInPixel){_super.prototype._doLayoutBody.call(this,heightInPixel,widthInPixel),this._dim={height:heightInPixel,width:widthInPixel},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(widthInPixel),this._splitView.resizeView(0,widthInPixel*this.layoutData.ratio)},ReferenceWidget.prototype.setSelection=function(selection){var _this=this;return this._revealReference(selection,!0).then(function(){_this._model&&(_this._tree.setSelection([selection]),_this._tree.setFocus([selection]))})},ReferenceWidget.prototype.setModel=function(newModel){return this._disposeOnNewModel.clear(),this._model=newModel,this._model?this._onNewModel():Promise.resolve()},ReferenceWidget.prototype._onNewModel=function(){var _this=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerHTML=nls.a("noResults","No results"),dom.U(this._messageContainer),Promise.resolve(void 0)):(dom.H(this._messageContainer),this._decorationsManager=new referencesWidget_DecorationsManager(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function(reference){return _this._tree.rerender(reference)})),this._disposeOnNewModel.add(this._preview.onMouseDown(function(e){var event=e.event,target=e.target;if(event.detail===2){var element=_this._getFocusedReference();element&&_this._onDidSelectReference.fire({element:{uri:element.uri,range:target.range},kind:event.ctrlKey||event.metaKey||event.altKey?"side":"open",source:"editor"})}})),dom.f(this.container,"results-loaded"),dom.U(this._treeContainer),dom.U(this._previewContainer),this._splitView.layout(this._dim.width),this.focus(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)},ReferenceWidget.prototype._getFocusedReference=function(){var element=this._tree.getFocus()[0];if(element instanceof referencesModel.b)return element;if(element instanceof referencesModel.a&&element.children.length>0)return element.children[0]},ReferenceWidget.prototype._revealReference=function(reference,revealParent){return __awaiter(this,void 0,void 0,function(){var promise,ref,model,scrollType,sel;return __generator(this,function(_a){switch(_a.label){case 0:return this._revealedReference===reference?[2]:(this._revealedReference=reference,reference.uri.scheme!==network.b.inMemory?this.setTitle(Object(resources.c)(reference.uri),this._uriLabel.getUriLabel(Object(resources.d)(reference.uri))):this.setTitle(nls.a("peekView.alternateTitle","References")),promise=this._textModelResolverService.createModelReference(reference.uri),this._tree.getInput()!==reference.parent?[3,1]:(this._tree.reveal(reference),[3,3]));case 1:return revealParent&&this._tree.reveal(reference.parent),[4,this._tree.expand(reference.parent)];case 2:_a.sent(),this._tree.reveal(reference),_a.label=3;case 3:return[4,promise];case 4:return ref=_a.sent(),this._model?(Object(lifecycle.f)(this._previewModelReference),model=ref.object,model?(scrollType=this._preview.getModel()===model.textEditorModel?0:1,sel=core_range.a.lift(reference.range).collapseToStart(),this._previewModelReference=ref,this._preview.setModel(model.textEditorModel),this._preview.setSelection(sel),this._preview.revealRangeInCenter(sel,scrollType)):(this._preview.setModel(this._previewNotAvailableMessage),ref.dispose()),[2]):(ref.dispose(),[2])}})})},ReferenceWidget=referencesWidget_decorate([referencesWidget_param(3,common_themeService.c),referencesWidget_param(4,resolverService.a),referencesWidget_param(5,instantiation.a),referencesWidget_param(6,peekView.a),referencesWidget_param(7,label.a)],ReferenceWidget),ReferenceWidget}(peekView.c);Object(common_themeService.e)(function(theme,collector){var findMatchHighlightColor=theme.getColor(peekView.m);findMatchHighlightColor&&collector.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+findMatchHighlightColor+"; }");var referenceHighlightColor=theme.getColor(peekView.h);referenceHighlightColor&&collector.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+referenceHighlightColor+"; }");var referenceHighlightBorder=theme.getColor(peekView.i);referenceHighlightBorder&&collector.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+referenceHighlightBorder+"; box-sizing: border-box; }");var hcOutline=theme.getColor(colorRegistry.b);hcOutline&&collector.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+hcOutline+"; box-sizing: border-box; }");var resultsBackground=theme.getColor(peekView.j);resultsBackground&&collector.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+resultsBackground+"; }");var resultsMatchForeground=theme.getColor(peekView.l);resultsMatchForeground&&collector.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+resultsMatchForeground+"; }");var resultsFileForeground=theme.getColor(peekView.k);resultsFileForeground&&collector.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+resultsFileForeground+"; }");var resultsSelectedBackground=theme.getColor(peekView.n);resultsSelectedBackground&&collector.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+resultsSelectedBackground+"; }");var resultsSelectedForeground=theme.getColor(peekView.o);resultsSelectedForeground&&collector.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+resultsSelectedForeground+" !important; }");var editorBackground=theme.getColor(peekView.f);editorBackground&&collector.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {"+("	background-color: "+editorBackground+";")+"}");var editorGutterBackground=theme.getColor(peekView.g);editorGutterBackground&&collector.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {"+("	background-color: "+editorGutterBackground+";")+"}")});var core_position=__webpack_require__(2233),notification=__webpack_require__(2761),common_async=__webpack_require__(2237),keybindingsRegistry=__webpack_require__(3234),referencesController_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},referencesController_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},referencesController_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},referencesController_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},ctxReferenceSearchVisible=new contextkey.d("referenceSearchVisible",!1),referencesController_ReferencesController=function(){function ReferencesController(_defaultTreeKeyboardSupport,_editor,contextKeyService,_editorService,_notificationService,_instantiationService,_storageService,_configurationService){this._defaultTreeKeyboardSupport=_defaultTreeKeyboardSupport,this._editor=_editor,this._editorService=_editorService,this._notificationService=_notificationService,this._instantiationService=_instantiationService,this._storageService=_storageService,this._configurationService=_configurationService,this._disposables=new lifecycle.b,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ctxReferenceSearchVisible.bindTo(contextKeyService)}return ReferencesController.get=function(editor){return editor.getContribution(ReferencesController.ID)},ReferencesController.prototype.dispose=function(){this._referenceSearchVisible.reset(),this._disposables.dispose(),Object(lifecycle.f)(this._widget),Object(lifecycle.f)(this._model),this._widget=void 0,this._model=void 0},ReferencesController.prototype.toggleWidget=function(range,modelPromise,peekMode){var _this=this,widgetPosition;if(this._widget&&(widgetPosition=this._widget.position),this.closeWidget(),!(widgetPosition&&range.containsPosition(widgetPosition))){this._peekMode=peekMode,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(function(){_this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(function(){_this._ignoreModelChangeEvent||_this.closeWidget()}));var storageKey="peekViewLayout",data=LayoutData.fromJSON(this._storageService.get(storageKey,0,"{}"));this._widget=this._instantiationService.createInstance(referencesWidget_ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,data),this._widget.setTitle(nls.a("labelLoading","Loading...")),this._widget.show(range),this._disposables.add(this._widget.onDidClose(function(){modelPromise.cancel(),_this._widget&&(_this._storageService.store(storageKey,JSON.stringify(_this._widget.layoutData),0),_this._widget=void 0),_this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(function(event){var element=event.element,kind=event.kind;if(element)switch(kind){case"open":(event.source!=="editor"||!_this._configurationService.getValue("editor.stablePeek"))&&_this.openReference(element,!1);break;case"side":_this.openReference(element,!0);break;case"goto":peekMode?_this._gotoReference(element):_this.openReference(element,!1);break}}));var requestId=++this._requestIdPool;modelPromise.then(function(model){if(!(requestId!==_this._requestIdPool||!_this._widget))return _this._model&&_this._model.dispose(),_this._model=model,_this._widget.setModel(_this._model).then(function(){if(_this._widget&&_this._model&&_this._editor.hasModel()){_this._model.isEmpty?_this._widget.setMetaTitle(""):_this._widget.setMetaTitle(nls.a("metaTitle.N","{0} ({1})",_this._model.title,_this._model.references.length));var uri=_this._editor.getModel().uri,pos=new core_position.a(range.startLineNumber,range.startColumn),selection=_this._model.nearestReference(uri,pos);if(selection)return _this._widget.setSelection(selection)}})},function(error){_this._notificationService.error(error)})}},ReferencesController.prototype.goToNextOrPreviousReference=function(fwd){return referencesController_awaiter(this,void 0,void 0,function(){var currentPosition,source,target,editorFocus;return referencesController_generator(this,function(_a){switch(_a.label){case 0:return!this._editor.hasModel()||!this._model||!this._widget?[2]:(currentPosition=this._widget.position,currentPosition?(source=this._model.nearestReference(this._editor.getModel().uri,currentPosition),source?(target=this._model.nextOrPreviousReference(source,fwd),editorFocus=this._editor.hasTextFocus(),[4,this._widget.setSelection(target)]):[2]):[2]);case 1:return _a.sent(),[4,this._gotoReference(target)];case 2:return _a.sent(),editorFocus&&this._editor.focus(),[2]}})})},ReferencesController.prototype.closeWidget=function(){this._referenceSearchVisible.reset(),this._disposables.clear(),Object(lifecycle.f)(this._widget),Object(lifecycle.f)(this._model),this._widget=void 0,this._model=void 0,this._editor.focus(),this._requestIdPool+=1},ReferencesController.prototype._gotoReference=function(ref){var _this=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var range=core_range.a.lift(ref.range).collapseToStart();return this._editorService.openCodeEditor({resource:ref.uri,options:{selection:range}},this._editor).then(function(openedEditor){var _a;if(_this._ignoreModelChangeEvent=!1,!openedEditor||!_this._widget){_this.closeWidget();return}if(_this._editor===openedEditor)_this._widget.show(range),_this._widget.focus();else{var other=ReferencesController.get(openedEditor),model_1=_this._model.clone();_this.closeWidget(),openedEditor.focus(),other.toggleWidget(range,Object(common_async.f)(function(_){return Promise.resolve(model_1)}),(_a=_this._peekMode,_a??!1))}},function(err){_this._ignoreModelChangeEvent=!1,Object(errors.e)(err)})},ReferencesController.prototype.openReference=function(ref,sideBySide){sideBySide||this.closeWidget();var uri=ref.uri,range=ref.range;this._editorService.openCodeEditor({resource:uri,options:{selection:range}},this._editor,sideBySide)},ReferencesController.ID="editor.contrib.referencesController",ReferencesController=referencesController_decorate([referencesController_param(2,contextkey.c),referencesController_param(3,codeEditorService.a),referencesController_param(4,notification.a),referencesController_param(5,instantiation.a),referencesController_param(6,storage.a),referencesController_param(7,configuration.a)],ReferencesController),ReferencesController}();function withController(accessor,fn){var outerEditor=Object(peekView.d)(accessor);if(outerEditor){var controller=referencesController_ReferencesController.get(outerEditor);controller&&fn(controller)}}keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:200+50,primary:62,secondary:[70],when:ctxReferenceSearchVisible,handler:function(accessor){withController(accessor,function(controller){controller.goToNextOrPreviousReference(!0)})}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"goToNextReferenceFromEmbeddedEditor",weight:100+50,primary:62,secondary:[70],when:peekView.b.inPeekEditor,handler:function(accessor){withController(accessor,function(controller){controller.goToNextOrPreviousReference(!0)})}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:200+50,primary:1086,secondary:[1094],when:ctxReferenceSearchVisible,handler:function(accessor){withController(accessor,function(controller){controller.goToNextOrPreviousReference(!1)})}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"goToPreviousReferenceFromEmbeddedEditor",weight:100+50,primary:1086,secondary:[1094],when:peekView.b.inPeekEditor,handler:function(accessor){withController(accessor,function(controller){controller.goToNextOrPreviousReference(!1)})}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:contextkey.a.and(ctxReferenceSearchVisible,contextkey.a.not("config.editor.stablePeek")),handler:function(accessor){withController(accessor,function(controller){return controller.closeWidget()})}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:100-101,primary:9,secondary:[1033],when:contextkey.a.and(peekView.b.inPeekEditor,contextkey.a.not("config.editor.stablePeek")),handler:function(accessor){withController(accessor,function(controller){return controller.closeWidget()})}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:contextkey.a.and(ctxReferenceSearchVisible,browser_listService.d),handler:function(accessor){var _a,listService=accessor.get(browser_listService.a),focus=(_a=listService.lastFocusedList)===null||_a===void 0?void 0:_a.getFocus();Array.isArray(focus)&&focus[0]instanceof referencesModel.b&&withController(accessor,function(controller){return controller.openReference(focus[0],!0)})}})},5741:function(module,exports,__webpack_require__){},5742:function(module,exports,__webpack_require__){},5743:function(module,exports,__webpack_require__){},5744:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__.d(__webpack_exports__,"a",function(){return cwd}),__webpack_require__.d(__webpack_exports__,"b",function(){return env}),__webpack_require__.d(__webpack_exports__,"c",function(){return platform});var _platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2236),safeProcess=typeof process>"u"?{cwd:function(){return"/"},env:Object.create(null),get platform(){return _platform_js__WEBPACK_IMPORTED_MODULE_0__.h?"win32":_platform_js__WEBPACK_IMPORTED_MODULE_0__.e?"darwin":"linux"},nextTick:function(callback){return Object(_platform_js__WEBPACK_IMPORTED_MODULE_0__.i)(callback)}}:process,cwd=safeProcess.cwd,env=safeProcess.env,platform=safeProcess.platform}).call(this,__webpack_require__(95))},5745:function(module,exports,__webpack_require__){},5746:function(module,exports,__webpack_require__){},5747:function(module,exports,__webpack_require__){},5748:function(module,exports,__webpack_require__){},5749:function(module,exports,__webpack_require__){},5750:function(module,exports,__webpack_require__){},5751:function(module,exports,__webpack_require__){},5752:function(module,exports,__webpack_require__){},5753:function(module,exports,__webpack_require__){},5754:function(module,exports,__webpack_require__){},5755:function(module,exports,__webpack_require__){},5756:function(module,exports,__webpack_require__){},5757:function(module,exports,__webpack_require__){},5758:function(module,exports,__webpack_require__){},5759:function(module,exports,__webpack_require__){},5760:function(module,exports,__webpack_require__){},5761:function(module,exports,__webpack_require__){},5762:function(module,exports,__webpack_require__){},5763:function(module,exports,__webpack_require__){},5764:function(module,exports,__webpack_require__){},5765:function(module,exports,__webpack_require__){},5766:function(module,exports,__webpack_require__){},5767:function(module,exports,__webpack_require__){},5768:function(module,exports,__webpack_require__){},5769:function(module,exports,__webpack_require__){},5770:function(module,exports,__webpack_require__){},5771:function(module,exports,__webpack_require__){},5772:function(module,exports,__webpack_require__){},5773:function(module,exports,__webpack_require__){},5774:function(module,exports,__webpack_require__){},5775:function(module,exports,__webpack_require__){},5776:function(module,exports,__webpack_require__){},5777:function(module,exports,__webpack_require__){},5778:function(module,exports,__webpack_require__){},5779:function(module,exports,__webpack_require__){},5780:function(module,exports,__webpack_require__){},5781:function(module,exports,__webpack_require__){},5782:function(module,exports,__webpack_require__){},5783:function(module,exports,__webpack_require__){},5784:function(module,exports,__webpack_require__){},5785:function(module,exports,__webpack_require__){},5786:function(module,exports,__webpack_require__){},5787:function(module,exports,__webpack_require__){},5788:function(module,exports,__webpack_require__){},5789:function(module,exports,__webpack_require__){},5790:function(module,exports,__webpack_require__){},5791:function(module,exports,__webpack_require__){},5792:function(module,exports,__webpack_require__){},5793:function(module,exports,__webpack_require__){},5794:function(module,exports,__webpack_require__){},5795:function(module,exports,__webpack_require__){},5796:function(module,exports,__webpack_require__){},5797:function(module,exports,__webpack_require__){},5798:function(module,exports,__webpack_require__){},5799:function(module,exports,__webpack_require__){},5800:function(module,exports,__webpack_require__){},5801:function(module,exports,__webpack_require__){},5802:function(module,exports,__webpack_require__){},5803:function(module,exports,__webpack_require__){},5804:function(module,exports,__webpack_require__){(function(setImmediate,global){/*!
Copyright (c) 2014 Taylor Hakes
Copyright (c) 2014 Forbes Lindesay
 */(function(global2,factory){factory()})(this,function(){"use strict";function finallyConstructor(callback){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){return constructor.reject(reason)})})}var setTimeoutFunc=setTimeout;function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise2(fn){if(!(this instanceof Promise2))throw new TypeError("Promises must be constructed via new");if(typeof fn!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(fn,this)}function handle(self2,deferred){for(;self2._state===3;)self2=self2._value;if(self2._state===0){self2._deferreds.push(deferred);return}self2._handled=!0,Promise2._immediateFn(function(){var cb=self2._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self2._state===1?resolve:reject)(deferred.promise,self2._value);return}var ret;try{ret=cb(self2._value)}catch(e){reject(deferred.promise,e);return}resolve(deferred.promise,ret)})}function resolve(self2,newValue){try{if(newValue===self2)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&(typeof newValue=="object"||typeof newValue=="function")){var then=newValue.then;if(newValue instanceof Promise2){self2._state=3,self2._value=newValue,finale(self2);return}else if(typeof then=="function"){doResolve(bind(then,newValue),self2);return}}self2._state=1,self2._value=newValue,finale(self2)}catch(e){reject(self2,e)}}function reject(self2,newValue){self2._state=2,self2._value=newValue,finale(self2)}function finale(self2){self2._state===2&&self2._deferreds.length===0&&Promise2._immediateFn(function(){self2._handled||Promise2._unhandledRejectionFn(self2._value)});for(var i=0,len=self2._deferreds.length;i<len;i++)handle(self2,self2._deferreds[i]);self2._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled=="function"?onFulfilled:null,this.onRejected=typeof onRejected=="function"?onRejected:null,this.promise=promise}function doResolve(fn,self2){var done=!1;try{fn(function(value){done||(done=!0,resolve(self2,value))},function(reason){done||(done=!0,reject(self2,reason))})}catch(ex){if(done)return;done=!0,reject(self2,ex)}}Promise2.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise2.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise2.prototype.finally=finallyConstructor,Promise2.all=function(arr){return new Promise2(function(resolve2,reject2){if(!arr||typeof arr.length>"u")throw new TypeError("Promise.all accepts an array");var args=Array.prototype.slice.call(arr);if(args.length===0)return resolve2([]);var remaining=args.length;function res(i2,val){try{if(val&&(typeof val=="object"||typeof val=="function")){var then=val.then;if(typeof then=="function"){then.call(val,function(val2){res(i2,val2)},reject2);return}}args[i2]=val,--remaining===0&&resolve2(args)}catch(ex){reject2(ex)}}for(var i=0;i<args.length;i++)res(i,args[i])})},Promise2.resolve=function(value){return value&&typeof value=="object"&&value.constructor===Promise2?value:new Promise2(function(resolve2){resolve2(value)})},Promise2.reject=function(value){return new Promise2(function(resolve2,reject2){reject2(value)})},Promise2.race=function(values){return new Promise2(function(resolve2,reject2){for(var i=0,len=values.length;i<len;i++)values[i].then(resolve2,reject2)})},Promise2._immediateFn=typeof setImmediate=="function"&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)},Promise2._unhandledRejectionFn=function(err){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",err)};var globalNS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();"Promise"in globalNS?globalNS.Promise.prototype.finally||(globalNS.Promise.prototype.finally=finallyConstructor):globalNS.Promise=Promise2})}).call(this,__webpack_require__(407).setImmediate,__webpack_require__(64))},5805:function(module,exports,__webpack_require__){},5806:function(module,exports,__webpack_require__){},5807:function(module,exports,__webpack_require__){},5808:function(module,exports,__webpack_require__){},5809:function(module,exports,__webpack_require__){},6307:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CancellationTokenSource",function(){return CancellationTokenSource}),__webpack_require__.d(__webpack_exports__,"Emitter",function(){return Emitter}),__webpack_require__.d(__webpack_exports__,"KeyCode",function(){return editor_api_KeyCode}),__webpack_require__.d(__webpack_exports__,"KeyMod",function(){return editor_api_KeyMod}),__webpack_require__.d(__webpack_exports__,"Position",function(){return Position}),__webpack_require__.d(__webpack_exports__,"Range",function(){return Range}),__webpack_require__.d(__webpack_exports__,"Selection",function(){return Selection}),__webpack_require__.d(__webpack_exports__,"SelectionDirection",function(){return editor_api_SelectionDirection}),__webpack_require__.d(__webpack_exports__,"MarkerSeverity",function(){return editor_api_MarkerSeverity}),__webpack_require__.d(__webpack_exports__,"MarkerTag",function(){return editor_api_MarkerTag}),__webpack_require__.d(__webpack_exports__,"Uri",function(){return Uri}),__webpack_require__.d(__webpack_exports__,"Token",function(){return Token}),__webpack_require__.d(__webpack_exports__,"editor",function(){return editor_api_editor}),__webpack_require__.d(__webpack_exports__,"languages",function(){return languages});var editorOptions=__webpack_require__(2784),polyfill=__webpack_require__(5804),cancellation=__webpack_require__(2649),common_event=__webpack_require__(2106),keyCodes=__webpack_require__(2768),common_uri=__webpack_require__(2640),core_position=__webpack_require__(2233),core_range=__webpack_require__(2056),core_selection=__webpack_require__(2629),core_token=__webpack_require__(3368),AccessibilitySupport;(function(AccessibilitySupport2){AccessibilitySupport2[AccessibilitySupport2.Unknown=0]="Unknown",AccessibilitySupport2[AccessibilitySupport2.Disabled=1]="Disabled",AccessibilitySupport2[AccessibilitySupport2.Enabled=2]="Enabled"})(AccessibilitySupport||(AccessibilitySupport={}));var CompletionItemInsertTextRule;(function(CompletionItemInsertTextRule2){CompletionItemInsertTextRule2[CompletionItemInsertTextRule2.KeepWhitespace=1]="KeepWhitespace",CompletionItemInsertTextRule2[CompletionItemInsertTextRule2.InsertAsSnippet=4]="InsertAsSnippet"})(CompletionItemInsertTextRule||(CompletionItemInsertTextRule={}));var CompletionItemKind;(function(CompletionItemKind2){CompletionItemKind2[CompletionItemKind2.Method=0]="Method",CompletionItemKind2[CompletionItemKind2.Function=1]="Function",CompletionItemKind2[CompletionItemKind2.Constructor=2]="Constructor",CompletionItemKind2[CompletionItemKind2.Field=3]="Field",CompletionItemKind2[CompletionItemKind2.Variable=4]="Variable",CompletionItemKind2[CompletionItemKind2.Class=5]="Class",CompletionItemKind2[CompletionItemKind2.Struct=6]="Struct",CompletionItemKind2[CompletionItemKind2.Interface=7]="Interface",CompletionItemKind2[CompletionItemKind2.Module=8]="Module",CompletionItemKind2[CompletionItemKind2.Property=9]="Property",CompletionItemKind2[CompletionItemKind2.Event=10]="Event",CompletionItemKind2[CompletionItemKind2.Operator=11]="Operator",CompletionItemKind2[CompletionItemKind2.Unit=12]="Unit",CompletionItemKind2[CompletionItemKind2.Value=13]="Value",CompletionItemKind2[CompletionItemKind2.Constant=14]="Constant",CompletionItemKind2[CompletionItemKind2.Enum=15]="Enum",CompletionItemKind2[CompletionItemKind2.EnumMember=16]="EnumMember",CompletionItemKind2[CompletionItemKind2.Keyword=17]="Keyword",CompletionItemKind2[CompletionItemKind2.Text=18]="Text",CompletionItemKind2[CompletionItemKind2.Color=19]="Color",CompletionItemKind2[CompletionItemKind2.File=20]="File",CompletionItemKind2[CompletionItemKind2.Reference=21]="Reference",CompletionItemKind2[CompletionItemKind2.Customcolor=22]="Customcolor",CompletionItemKind2[CompletionItemKind2.Folder=23]="Folder",CompletionItemKind2[CompletionItemKind2.TypeParameter=24]="TypeParameter",CompletionItemKind2[CompletionItemKind2.Snippet=25]="Snippet"})(CompletionItemKind||(CompletionItemKind={}));var CompletionItemTag;(function(CompletionItemTag2){CompletionItemTag2[CompletionItemTag2.Deprecated=1]="Deprecated"})(CompletionItemTag||(CompletionItemTag={}));var CompletionTriggerKind;(function(CompletionTriggerKind2){CompletionTriggerKind2[CompletionTriggerKind2.Invoke=0]="Invoke",CompletionTriggerKind2[CompletionTriggerKind2.TriggerCharacter=1]="TriggerCharacter",CompletionTriggerKind2[CompletionTriggerKind2.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(CompletionTriggerKind||(CompletionTriggerKind={}));var ContentWidgetPositionPreference;(function(ContentWidgetPositionPreference2){ContentWidgetPositionPreference2[ContentWidgetPositionPreference2.EXACT=0]="EXACT",ContentWidgetPositionPreference2[ContentWidgetPositionPreference2.ABOVE=1]="ABOVE",ContentWidgetPositionPreference2[ContentWidgetPositionPreference2.BELOW=2]="BELOW"})(ContentWidgetPositionPreference||(ContentWidgetPositionPreference={}));var CursorChangeReason;(function(CursorChangeReason2){CursorChangeReason2[CursorChangeReason2.NotSet=0]="NotSet",CursorChangeReason2[CursorChangeReason2.ContentFlush=1]="ContentFlush",CursorChangeReason2[CursorChangeReason2.RecoverFromMarkers=2]="RecoverFromMarkers",CursorChangeReason2[CursorChangeReason2.Explicit=3]="Explicit",CursorChangeReason2[CursorChangeReason2.Paste=4]="Paste",CursorChangeReason2[CursorChangeReason2.Undo=5]="Undo",CursorChangeReason2[CursorChangeReason2.Redo=6]="Redo"})(CursorChangeReason||(CursorChangeReason={}));var DefaultEndOfLine;(function(DefaultEndOfLine2){DefaultEndOfLine2[DefaultEndOfLine2.LF=1]="LF",DefaultEndOfLine2[DefaultEndOfLine2.CRLF=2]="CRLF"})(DefaultEndOfLine||(DefaultEndOfLine={}));var DocumentHighlightKind;(function(DocumentHighlightKind2){DocumentHighlightKind2[DocumentHighlightKind2.Text=0]="Text",DocumentHighlightKind2[DocumentHighlightKind2.Read=1]="Read",DocumentHighlightKind2[DocumentHighlightKind2.Write=2]="Write"})(DocumentHighlightKind||(DocumentHighlightKind={}));var EditorAutoIndentStrategy;(function(EditorAutoIndentStrategy2){EditorAutoIndentStrategy2[EditorAutoIndentStrategy2.None=0]="None",EditorAutoIndentStrategy2[EditorAutoIndentStrategy2.Keep=1]="Keep",EditorAutoIndentStrategy2[EditorAutoIndentStrategy2.Brackets=2]="Brackets",EditorAutoIndentStrategy2[EditorAutoIndentStrategy2.Advanced=3]="Advanced",EditorAutoIndentStrategy2[EditorAutoIndentStrategy2.Full=4]="Full"})(EditorAutoIndentStrategy||(EditorAutoIndentStrategy={}));var EditorOption;(function(EditorOption2){EditorOption2[EditorOption2.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",EditorOption2[EditorOption2.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",EditorOption2[EditorOption2.accessibilitySupport=2]="accessibilitySupport",EditorOption2[EditorOption2.accessibilityPageSize=3]="accessibilityPageSize",EditorOption2[EditorOption2.ariaLabel=4]="ariaLabel",EditorOption2[EditorOption2.autoClosingBrackets=5]="autoClosingBrackets",EditorOption2[EditorOption2.autoClosingOvertype=6]="autoClosingOvertype",EditorOption2[EditorOption2.autoClosingQuotes=7]="autoClosingQuotes",EditorOption2[EditorOption2.autoIndent=8]="autoIndent",EditorOption2[EditorOption2.automaticLayout=9]="automaticLayout",EditorOption2[EditorOption2.autoSurround=10]="autoSurround",EditorOption2[EditorOption2.codeLens=11]="codeLens",EditorOption2[EditorOption2.colorDecorators=12]="colorDecorators",EditorOption2[EditorOption2.contextmenu=13]="contextmenu",EditorOption2[EditorOption2.copyWithSyntaxHighlighting=14]="copyWithSyntaxHighlighting",EditorOption2[EditorOption2.cursorBlinking=15]="cursorBlinking",EditorOption2[EditorOption2.cursorSmoothCaretAnimation=16]="cursorSmoothCaretAnimation",EditorOption2[EditorOption2.cursorStyle=17]="cursorStyle",EditorOption2[EditorOption2.cursorSurroundingLines=18]="cursorSurroundingLines",EditorOption2[EditorOption2.cursorSurroundingLinesStyle=19]="cursorSurroundingLinesStyle",EditorOption2[EditorOption2.cursorWidth=20]="cursorWidth",EditorOption2[EditorOption2.disableLayerHinting=21]="disableLayerHinting",EditorOption2[EditorOption2.disableMonospaceOptimizations=22]="disableMonospaceOptimizations",EditorOption2[EditorOption2.dragAndDrop=23]="dragAndDrop",EditorOption2[EditorOption2.emptySelectionClipboard=24]="emptySelectionClipboard",EditorOption2[EditorOption2.extraEditorClassName=25]="extraEditorClassName",EditorOption2[EditorOption2.fastScrollSensitivity=26]="fastScrollSensitivity",EditorOption2[EditorOption2.find=27]="find",EditorOption2[EditorOption2.fixedOverflowWidgets=28]="fixedOverflowWidgets",EditorOption2[EditorOption2.folding=29]="folding",EditorOption2[EditorOption2.foldingStrategy=30]="foldingStrategy",EditorOption2[EditorOption2.fontFamily=31]="fontFamily",EditorOption2[EditorOption2.fontInfo=32]="fontInfo",EditorOption2[EditorOption2.fontLigatures=33]="fontLigatures",EditorOption2[EditorOption2.fontSize=34]="fontSize",EditorOption2[EditorOption2.fontWeight=35]="fontWeight",EditorOption2[EditorOption2.formatOnPaste=36]="formatOnPaste",EditorOption2[EditorOption2.formatOnType=37]="formatOnType",EditorOption2[EditorOption2.glyphMargin=38]="glyphMargin",EditorOption2[EditorOption2.gotoLocation=39]="gotoLocation",EditorOption2[EditorOption2.hideCursorInOverviewRuler=40]="hideCursorInOverviewRuler",EditorOption2[EditorOption2.highlightActiveIndentGuide=41]="highlightActiveIndentGuide",EditorOption2[EditorOption2.hover=42]="hover",EditorOption2[EditorOption2.inDiffEditor=43]="inDiffEditor",EditorOption2[EditorOption2.letterSpacing=44]="letterSpacing",EditorOption2[EditorOption2.lightbulb=45]="lightbulb",EditorOption2[EditorOption2.lineDecorationsWidth=46]="lineDecorationsWidth",EditorOption2[EditorOption2.lineHeight=47]="lineHeight",EditorOption2[EditorOption2.lineNumbers=48]="lineNumbers",EditorOption2[EditorOption2.lineNumbersMinChars=49]="lineNumbersMinChars",EditorOption2[EditorOption2.links=50]="links",EditorOption2[EditorOption2.matchBrackets=51]="matchBrackets",EditorOption2[EditorOption2.minimap=52]="minimap",EditorOption2[EditorOption2.mouseStyle=53]="mouseStyle",EditorOption2[EditorOption2.mouseWheelScrollSensitivity=54]="mouseWheelScrollSensitivity",EditorOption2[EditorOption2.mouseWheelZoom=55]="mouseWheelZoom",EditorOption2[EditorOption2.multiCursorMergeOverlapping=56]="multiCursorMergeOverlapping",EditorOption2[EditorOption2.multiCursorModifier=57]="multiCursorModifier",EditorOption2[EditorOption2.multiCursorPaste=58]="multiCursorPaste",EditorOption2[EditorOption2.occurrencesHighlight=59]="occurrencesHighlight",EditorOption2[EditorOption2.overviewRulerBorder=60]="overviewRulerBorder",EditorOption2[EditorOption2.overviewRulerLanes=61]="overviewRulerLanes",EditorOption2[EditorOption2.parameterHints=62]="parameterHints",EditorOption2[EditorOption2.quickSuggestions=63]="quickSuggestions",EditorOption2[EditorOption2.quickSuggestionsDelay=64]="quickSuggestionsDelay",EditorOption2[EditorOption2.readOnly=65]="readOnly",EditorOption2[EditorOption2.renderControlCharacters=66]="renderControlCharacters",EditorOption2[EditorOption2.renderIndentGuides=67]="renderIndentGuides",EditorOption2[EditorOption2.renderFinalNewline=68]="renderFinalNewline",EditorOption2[EditorOption2.renderLineHighlight=69]="renderLineHighlight",EditorOption2[EditorOption2.renderWhitespace=70]="renderWhitespace",EditorOption2[EditorOption2.revealHorizontalRightPadding=71]="revealHorizontalRightPadding",EditorOption2[EditorOption2.roundedSelection=72]="roundedSelection",EditorOption2[EditorOption2.rulers=73]="rulers",EditorOption2[EditorOption2.scrollbar=74]="scrollbar",EditorOption2[EditorOption2.scrollBeyondLastColumn=75]="scrollBeyondLastColumn",EditorOption2[EditorOption2.scrollBeyondLastLine=76]="scrollBeyondLastLine",EditorOption2[EditorOption2.selectionClipboard=77]="selectionClipboard",EditorOption2[EditorOption2.selectionHighlight=78]="selectionHighlight",EditorOption2[EditorOption2.selectOnLineNumbers=79]="selectOnLineNumbers",EditorOption2[EditorOption2.showFoldingControls=80]="showFoldingControls",EditorOption2[EditorOption2.showUnused=81]="showUnused",EditorOption2[EditorOption2.snippetSuggestions=82]="snippetSuggestions",EditorOption2[EditorOption2.smoothScrolling=83]="smoothScrolling",EditorOption2[EditorOption2.stopRenderingLineAfter=84]="stopRenderingLineAfter",EditorOption2[EditorOption2.suggest=85]="suggest",EditorOption2[EditorOption2.suggestFontSize=86]="suggestFontSize",EditorOption2[EditorOption2.suggestLineHeight=87]="suggestLineHeight",EditorOption2[EditorOption2.suggestOnTriggerCharacters=88]="suggestOnTriggerCharacters",EditorOption2[EditorOption2.suggestSelection=89]="suggestSelection",EditorOption2[EditorOption2.tabCompletion=90]="tabCompletion",EditorOption2[EditorOption2.useTabStops=91]="useTabStops",EditorOption2[EditorOption2.wordSeparators=92]="wordSeparators",EditorOption2[EditorOption2.wordWrap=93]="wordWrap",EditorOption2[EditorOption2.wordWrapBreakAfterCharacters=94]="wordWrapBreakAfterCharacters",EditorOption2[EditorOption2.wordWrapBreakBeforeCharacters=95]="wordWrapBreakBeforeCharacters",EditorOption2[EditorOption2.wordWrapBreakObtrusiveCharacters=96]="wordWrapBreakObtrusiveCharacters",EditorOption2[EditorOption2.wordWrapColumn=97]="wordWrapColumn",EditorOption2[EditorOption2.wordWrapMinified=98]="wordWrapMinified",EditorOption2[EditorOption2.wrappingIndent=99]="wrappingIndent",EditorOption2[EditorOption2.editorClassName=100]="editorClassName",EditorOption2[EditorOption2.pixelRatio=101]="pixelRatio",EditorOption2[EditorOption2.tabFocusMode=102]="tabFocusMode",EditorOption2[EditorOption2.layoutInfo=103]="layoutInfo",EditorOption2[EditorOption2.wrappingInfo=104]="wrappingInfo"})(EditorOption||(EditorOption={}));var EndOfLinePreference;(function(EndOfLinePreference2){EndOfLinePreference2[EndOfLinePreference2.TextDefined=0]="TextDefined",EndOfLinePreference2[EndOfLinePreference2.LF=1]="LF",EndOfLinePreference2[EndOfLinePreference2.CRLF=2]="CRLF"})(EndOfLinePreference||(EndOfLinePreference={}));var EndOfLineSequence;(function(EndOfLineSequence2){EndOfLineSequence2[EndOfLineSequence2.LF=0]="LF",EndOfLineSequence2[EndOfLineSequence2.CRLF=1]="CRLF"})(EndOfLineSequence||(EndOfLineSequence={}));var IndentAction;(function(IndentAction2){IndentAction2[IndentAction2.None=0]="None",IndentAction2[IndentAction2.Indent=1]="Indent",IndentAction2[IndentAction2.IndentOutdent=2]="IndentOutdent",IndentAction2[IndentAction2.Outdent=3]="Outdent"})(IndentAction||(IndentAction={}));var KeyCode;(function(KeyCode2){KeyCode2[KeyCode2.Unknown=0]="Unknown",KeyCode2[KeyCode2.Backspace=1]="Backspace",KeyCode2[KeyCode2.Tab=2]="Tab",KeyCode2[KeyCode2.Enter=3]="Enter",KeyCode2[KeyCode2.Shift=4]="Shift",KeyCode2[KeyCode2.Ctrl=5]="Ctrl",KeyCode2[KeyCode2.Alt=6]="Alt",KeyCode2[KeyCode2.PauseBreak=7]="PauseBreak",KeyCode2[KeyCode2.CapsLock=8]="CapsLock",KeyCode2[KeyCode2.Escape=9]="Escape",KeyCode2[KeyCode2.Space=10]="Space",KeyCode2[KeyCode2.PageUp=11]="PageUp",KeyCode2[KeyCode2.PageDown=12]="PageDown",KeyCode2[KeyCode2.End=13]="End",KeyCode2[KeyCode2.Home=14]="Home",KeyCode2[KeyCode2.LeftArrow=15]="LeftArrow",KeyCode2[KeyCode2.UpArrow=16]="UpArrow",KeyCode2[KeyCode2.RightArrow=17]="RightArrow",KeyCode2[KeyCode2.DownArrow=18]="DownArrow",KeyCode2[KeyCode2.Insert=19]="Insert",KeyCode2[KeyCode2.Delete=20]="Delete",KeyCode2[KeyCode2.KEY_0=21]="KEY_0",KeyCode2[KeyCode2.KEY_1=22]="KEY_1",KeyCode2[KeyCode2.KEY_2=23]="KEY_2",KeyCode2[KeyCode2.KEY_3=24]="KEY_3",KeyCode2[KeyCode2.KEY_4=25]="KEY_4",KeyCode2[KeyCode2.KEY_5=26]="KEY_5",KeyCode2[KeyCode2.KEY_6=27]="KEY_6",KeyCode2[KeyCode2.KEY_7=28]="KEY_7",KeyCode2[KeyCode2.KEY_8=29]="KEY_8",KeyCode2[KeyCode2.KEY_9=30]="KEY_9",KeyCode2[KeyCode2.KEY_A=31]="KEY_A",KeyCode2[KeyCode2.KEY_B=32]="KEY_B",KeyCode2[KeyCode2.KEY_C=33]="KEY_C",KeyCode2[KeyCode2.KEY_D=34]="KEY_D",KeyCode2[KeyCode2.KEY_E=35]="KEY_E",KeyCode2[KeyCode2.KEY_F=36]="KEY_F",KeyCode2[KeyCode2.KEY_G=37]="KEY_G",KeyCode2[KeyCode2.KEY_H=38]="KEY_H",KeyCode2[KeyCode2.KEY_I=39]="KEY_I",KeyCode2[KeyCode2.KEY_J=40]="KEY_J",KeyCode2[KeyCode2.KEY_K=41]="KEY_K",KeyCode2[KeyCode2.KEY_L=42]="KEY_L",KeyCode2[KeyCode2.KEY_M=43]="KEY_M",KeyCode2[KeyCode2.KEY_N=44]="KEY_N",KeyCode2[KeyCode2.KEY_O=45]="KEY_O",KeyCode2[KeyCode2.KEY_P=46]="KEY_P",KeyCode2[KeyCode2.KEY_Q=47]="KEY_Q",KeyCode2[KeyCode2.KEY_R=48]="KEY_R",KeyCode2[KeyCode2.KEY_S=49]="KEY_S",KeyCode2[KeyCode2.KEY_T=50]="KEY_T",KeyCode2[KeyCode2.KEY_U=51]="KEY_U",KeyCode2[KeyCode2.KEY_V=52]="KEY_V",KeyCode2[KeyCode2.KEY_W=53]="KEY_W",KeyCode2[KeyCode2.KEY_X=54]="KEY_X",KeyCode2[KeyCode2.KEY_Y=55]="KEY_Y",KeyCode2[KeyCode2.KEY_Z=56]="KEY_Z",KeyCode2[KeyCode2.Meta=57]="Meta",KeyCode2[KeyCode2.ContextMenu=58]="ContextMenu",KeyCode2[KeyCode2.F1=59]="F1",KeyCode2[KeyCode2.F2=60]="F2",KeyCode2[KeyCode2.F3=61]="F3",KeyCode2[KeyCode2.F4=62]="F4",KeyCode2[KeyCode2.F5=63]="F5",KeyCode2[KeyCode2.F6=64]="F6",KeyCode2[KeyCode2.F7=65]="F7",KeyCode2[KeyCode2.F8=66]="F8",KeyCode2[KeyCode2.F9=67]="F9",KeyCode2[KeyCode2.F10=68]="F10",KeyCode2[KeyCode2.F11=69]="F11",KeyCode2[KeyCode2.F12=70]="F12",KeyCode2[KeyCode2.F13=71]="F13",KeyCode2[KeyCode2.F14=72]="F14",KeyCode2[KeyCode2.F15=73]="F15",KeyCode2[KeyCode2.F16=74]="F16",KeyCode2[KeyCode2.F17=75]="F17",KeyCode2[KeyCode2.F18=76]="F18",KeyCode2[KeyCode2.F19=77]="F19",KeyCode2[KeyCode2.NumLock=78]="NumLock",KeyCode2[KeyCode2.ScrollLock=79]="ScrollLock",KeyCode2[KeyCode2.US_SEMICOLON=80]="US_SEMICOLON",KeyCode2[KeyCode2.US_EQUAL=81]="US_EQUAL",KeyCode2[KeyCode2.US_COMMA=82]="US_COMMA",KeyCode2[KeyCode2.US_MINUS=83]="US_MINUS",KeyCode2[KeyCode2.US_DOT=84]="US_DOT",KeyCode2[KeyCode2.US_SLASH=85]="US_SLASH",KeyCode2[KeyCode2.US_BACKTICK=86]="US_BACKTICK",KeyCode2[KeyCode2.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",KeyCode2[KeyCode2.US_BACKSLASH=88]="US_BACKSLASH",KeyCode2[KeyCode2.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",KeyCode2[KeyCode2.US_QUOTE=90]="US_QUOTE",KeyCode2[KeyCode2.OEM_8=91]="OEM_8",KeyCode2[KeyCode2.OEM_102=92]="OEM_102",KeyCode2[KeyCode2.NUMPAD_0=93]="NUMPAD_0",KeyCode2[KeyCode2.NUMPAD_1=94]="NUMPAD_1",KeyCode2[KeyCode2.NUMPAD_2=95]="NUMPAD_2",KeyCode2[KeyCode2.NUMPAD_3=96]="NUMPAD_3",KeyCode2[KeyCode2.NUMPAD_4=97]="NUMPAD_4",KeyCode2[KeyCode2.NUMPAD_5=98]="NUMPAD_5",KeyCode2[KeyCode2.NUMPAD_6=99]="NUMPAD_6",KeyCode2[KeyCode2.NUMPAD_7=100]="NUMPAD_7",KeyCode2[KeyCode2.NUMPAD_8=101]="NUMPAD_8",KeyCode2[KeyCode2.NUMPAD_9=102]="NUMPAD_9",KeyCode2[KeyCode2.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",KeyCode2[KeyCode2.NUMPAD_ADD=104]="NUMPAD_ADD",KeyCode2[KeyCode2.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",KeyCode2[KeyCode2.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",KeyCode2[KeyCode2.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",KeyCode2[KeyCode2.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",KeyCode2[KeyCode2.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",KeyCode2[KeyCode2.ABNT_C1=110]="ABNT_C1",KeyCode2[KeyCode2.ABNT_C2=111]="ABNT_C2",KeyCode2[KeyCode2.MAX_VALUE=112]="MAX_VALUE"})(KeyCode||(KeyCode={}));var MarkerSeverity;(function(MarkerSeverity2){MarkerSeverity2[MarkerSeverity2.Hint=1]="Hint",MarkerSeverity2[MarkerSeverity2.Info=2]="Info",MarkerSeverity2[MarkerSeverity2.Warning=4]="Warning",MarkerSeverity2[MarkerSeverity2.Error=8]="Error"})(MarkerSeverity||(MarkerSeverity={}));var MarkerTag;(function(MarkerTag2){MarkerTag2[MarkerTag2.Unnecessary=1]="Unnecessary",MarkerTag2[MarkerTag2.Deprecated=2]="Deprecated"})(MarkerTag||(MarkerTag={}));var MinimapPosition;(function(MinimapPosition2){MinimapPosition2[MinimapPosition2.Inline=1]="Inline",MinimapPosition2[MinimapPosition2.Gutter=2]="Gutter"})(MinimapPosition||(MinimapPosition={}));var MouseTargetType;(function(MouseTargetType2){MouseTargetType2[MouseTargetType2.UNKNOWN=0]="UNKNOWN",MouseTargetType2[MouseTargetType2.TEXTAREA=1]="TEXTAREA",MouseTargetType2[MouseTargetType2.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",MouseTargetType2[MouseTargetType2.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",MouseTargetType2[MouseTargetType2.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",MouseTargetType2[MouseTargetType2.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",MouseTargetType2[MouseTargetType2.CONTENT_TEXT=6]="CONTENT_TEXT",MouseTargetType2[MouseTargetType2.CONTENT_EMPTY=7]="CONTENT_EMPTY",MouseTargetType2[MouseTargetType2.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",MouseTargetType2[MouseTargetType2.CONTENT_WIDGET=9]="CONTENT_WIDGET",MouseTargetType2[MouseTargetType2.OVERVIEW_RULER=10]="OVERVIEW_RULER",MouseTargetType2[MouseTargetType2.SCROLLBAR=11]="SCROLLBAR",MouseTargetType2[MouseTargetType2.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",MouseTargetType2[MouseTargetType2.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(MouseTargetType||(MouseTargetType={}));var OverlayWidgetPositionPreference;(function(OverlayWidgetPositionPreference2){OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2.TOP_CENTER=2]="TOP_CENTER"})(OverlayWidgetPositionPreference||(OverlayWidgetPositionPreference={}));var OverviewRulerLane;(function(OverviewRulerLane2){OverviewRulerLane2[OverviewRulerLane2.Left=1]="Left",OverviewRulerLane2[OverviewRulerLane2.Center=2]="Center",OverviewRulerLane2[OverviewRulerLane2.Right=4]="Right",OverviewRulerLane2[OverviewRulerLane2.Full=7]="Full"})(OverviewRulerLane||(OverviewRulerLane={}));var RenderLineNumbersType;(function(RenderLineNumbersType2){RenderLineNumbersType2[RenderLineNumbersType2.Off=0]="Off",RenderLineNumbersType2[RenderLineNumbersType2.On=1]="On",RenderLineNumbersType2[RenderLineNumbersType2.Relative=2]="Relative",RenderLineNumbersType2[RenderLineNumbersType2.Interval=3]="Interval",RenderLineNumbersType2[RenderLineNumbersType2.Custom=4]="Custom"})(RenderLineNumbersType||(RenderLineNumbersType={}));var RenderMinimap;(function(RenderMinimap2){RenderMinimap2[RenderMinimap2.None=0]="None",RenderMinimap2[RenderMinimap2.Text=1]="Text",RenderMinimap2[RenderMinimap2.Blocks=2]="Blocks"})(RenderMinimap||(RenderMinimap={}));var ScrollType;(function(ScrollType2){ScrollType2[ScrollType2.Smooth=0]="Smooth",ScrollType2[ScrollType2.Immediate=1]="Immediate"})(ScrollType||(ScrollType={}));var ScrollbarVisibility;(function(ScrollbarVisibility2){ScrollbarVisibility2[ScrollbarVisibility2.Auto=1]="Auto",ScrollbarVisibility2[ScrollbarVisibility2.Hidden=2]="Hidden",ScrollbarVisibility2[ScrollbarVisibility2.Visible=3]="Visible"})(ScrollbarVisibility||(ScrollbarVisibility={}));var SelectionDirection;(function(SelectionDirection2){SelectionDirection2[SelectionDirection2.LTR=0]="LTR",SelectionDirection2[SelectionDirection2.RTL=1]="RTL"})(SelectionDirection||(SelectionDirection={}));var SignatureHelpTriggerKind;(function(SignatureHelpTriggerKind2){SignatureHelpTriggerKind2[SignatureHelpTriggerKind2.Invoke=1]="Invoke",SignatureHelpTriggerKind2[SignatureHelpTriggerKind2.TriggerCharacter=2]="TriggerCharacter",SignatureHelpTriggerKind2[SignatureHelpTriggerKind2.ContentChange=3]="ContentChange"})(SignatureHelpTriggerKind||(SignatureHelpTriggerKind={}));var SymbolKind;(function(SymbolKind2){SymbolKind2[SymbolKind2.File=0]="File",SymbolKind2[SymbolKind2.Module=1]="Module",SymbolKind2[SymbolKind2.Namespace=2]="Namespace",SymbolKind2[SymbolKind2.Package=3]="Package",SymbolKind2[SymbolKind2.Class=4]="Class",SymbolKind2[SymbolKind2.Method=5]="Method",SymbolKind2[SymbolKind2.Property=6]="Property",SymbolKind2[SymbolKind2.Field=7]="Field",SymbolKind2[SymbolKind2.Constructor=8]="Constructor",SymbolKind2[SymbolKind2.Enum=9]="Enum",SymbolKind2[SymbolKind2.Interface=10]="Interface",SymbolKind2[SymbolKind2.Function=11]="Function",SymbolKind2[SymbolKind2.Variable=12]="Variable",SymbolKind2[SymbolKind2.Constant=13]="Constant",SymbolKind2[SymbolKind2.String=14]="String",SymbolKind2[SymbolKind2.Number=15]="Number",SymbolKind2[SymbolKind2.Boolean=16]="Boolean",SymbolKind2[SymbolKind2.Array=17]="Array",SymbolKind2[SymbolKind2.Object=18]="Object",SymbolKind2[SymbolKind2.Key=19]="Key",SymbolKind2[SymbolKind2.Null=20]="Null",SymbolKind2[SymbolKind2.EnumMember=21]="EnumMember",SymbolKind2[SymbolKind2.Struct=22]="Struct",SymbolKind2[SymbolKind2.Event=23]="Event",SymbolKind2[SymbolKind2.Operator=24]="Operator",SymbolKind2[SymbolKind2.TypeParameter=25]="TypeParameter"})(SymbolKind||(SymbolKind={}));var SymbolTag;(function(SymbolTag2){SymbolTag2[SymbolTag2.Deprecated=1]="Deprecated"})(SymbolTag||(SymbolTag={}));var TextEditorCursorBlinkingStyle;(function(TextEditorCursorBlinkingStyle2){TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2.Hidden=0]="Hidden",TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2.Blink=1]="Blink",TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2.Smooth=2]="Smooth",TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2.Phase=3]="Phase",TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2.Expand=4]="Expand",TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2.Solid=5]="Solid"})(TextEditorCursorBlinkingStyle||(TextEditorCursorBlinkingStyle={}));var TextEditorCursorStyle;(function(TextEditorCursorStyle2){TextEditorCursorStyle2[TextEditorCursorStyle2.Line=1]="Line",TextEditorCursorStyle2[TextEditorCursorStyle2.Block=2]="Block",TextEditorCursorStyle2[TextEditorCursorStyle2.Underline=3]="Underline",TextEditorCursorStyle2[TextEditorCursorStyle2.LineThin=4]="LineThin",TextEditorCursorStyle2[TextEditorCursorStyle2.BlockOutline=5]="BlockOutline",TextEditorCursorStyle2[TextEditorCursorStyle2.UnderlineThin=6]="UnderlineThin"})(TextEditorCursorStyle||(TextEditorCursorStyle={}));var TrackedRangeStickiness;(function(TrackedRangeStickiness2){TrackedRangeStickiness2[TrackedRangeStickiness2.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",TrackedRangeStickiness2[TrackedRangeStickiness2.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",TrackedRangeStickiness2[TrackedRangeStickiness2.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",TrackedRangeStickiness2[TrackedRangeStickiness2.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(TrackedRangeStickiness||(TrackedRangeStickiness={}));var WrappingIndent;(function(WrappingIndent2){WrappingIndent2[WrappingIndent2.None=0]="None",WrappingIndent2[WrappingIndent2.Same=1]="Same",WrappingIndent2[WrappingIndent2.Indent=2]="Indent",WrappingIndent2[WrappingIndent2.DeepIndent=3]="DeepIndent"})(WrappingIndent||(WrappingIndent={}));var standaloneBase_KeyMod=function(){function KeyMod(){}return KeyMod.chord=function(firstPart,secondPart){return Object(keyCodes.a)(firstPart,secondPart)},KeyMod.CtrlCmd=2048,KeyMod.Shift=1024,KeyMod.Alt=512,KeyMod.WinCtrl=256,KeyMod}();function createMonacoBaseAPI(){return{editor:void 0,languages:void 0,CancellationTokenSource:cancellation.b,Emitter:common_event.a,KeyCode,KeyMod:standaloneBase_KeyMod,Position:core_position.a,Range:core_range.a,Selection:core_selection.a,SelectionDirection,MarkerSeverity,MarkerTag,Uri:common_uri.a,Token:core_token.a}}var standalone_tokens=__webpack_require__(5805),services_codeEditorService=__webpack_require__(2732),dom=__webpack_require__(2124),linkedList=__webpack_require__(3232),marshalling=__webpack_require__(3883),network=__webpack_require__(2814),resources=__webpack_require__(2785),commands=__webpack_require__(2733),common_opener=__webpack_require__(2850),EditorOpenContext;(function(EditorOpenContext2){EditorOpenContext2[EditorOpenContext2.API=0]="API",EditorOpenContext2[EditorOpenContext2.USER=1]="USER"})(EditorOpenContext||(EditorOpenContext={}));var __decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},openerService_CommandOpener=function(){function CommandOpener(_commandService){this._commandService=_commandService}return CommandOpener.prototype.open=function(target){return __awaiter(this,void 0,void 0,function(){var args,_a;return __generator(this,function(_b){switch(_b.label){case 0:if(!Object(common_opener.c)(target,network.b.command))return[2,!1];if(typeof target=="string"&&(target=common_uri.a.parse(target)),!commands.a.getCommand(target.path))throw new Error("command '"+target.path+"' NOT known");args=[];try{args=Object(marshalling.a)(decodeURIComponent(target.query))}catch{try{args=Object(marshalling.a)(target.query)}catch{}}return Array.isArray(args)||(args=[args]),[4,(_a=this._commandService).executeCommand.apply(_a,__spreadArrays([target.path],args))];case 1:return _b.sent(),[2,!0]}})})},CommandOpener=__decorate([__param(0,commands.b)],CommandOpener),CommandOpener}(),openerService_EditorOpener=function(){function EditorOpener(_editorService){this._editorService=_editorService}return EditorOpener.prototype.open=function(target,options){var _a,_b;return __awaiter(this,void 0,void 0,function(){var selection,match;return __generator(this,function(_c){switch(_c.label){case 0:return typeof target=="string"&&(target=common_uri.a.parse(target)),selection=void 0,match=/^L?(\d+)(?:,(\d+))?/.exec(target.fragment),match&&(selection={startLineNumber:parseInt(match[1]),startColumn:match[2]?parseInt(match[2]):1},target=target.with({fragment:""})),target.scheme===network.b.file&&(target=Object(resources.g)(target)),[4,this._editorService.openCodeEditor({resource:target,options:{selection,context:!((_a=options)===null||_a===void 0)&&_a.fromUserGesture?EditorOpenContext.USER:EditorOpenContext.API}},this._editorService.getFocusedCodeEditor(),(_b=options)===null||_b===void 0?void 0:_b.openToSide)];case 1:return _c.sent(),[2,!0]}})})},EditorOpener=__decorate([__param(0,services_codeEditorService.a)],EditorOpener),EditorOpener}(),openerService_OpenerService=function(){function OpenerService(editorService,commandService){var _this=this;this._openers=new linkedList.a,this._validators=new linkedList.a,this._resolvers=new linkedList.a,this._externalOpener={openExternal:function(href){return dom.X(href),Promise.resolve(!0)}},this._openers.push({open:function(target,options){return __awaiter(_this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return!((_a=options)===null||_a===void 0)&&_a.openExternal||Object(common_opener.c)(target,network.b.mailto)||Object(common_opener.c)(target,network.b.http)||Object(common_opener.c)(target,network.b.https)?[4,this._doOpenExternal(target,options)]:[3,2];case 1:return _b.sent(),[2,!0];case 2:return[2,!1]}})})}}),this._openers.push(new openerService_CommandOpener(commandService)),this._openers.push(new openerService_EditorOpener(editorService))}return OpenerService.prototype.open=function(target,options){return __awaiter(this,void 0,void 0,function(){var _i,_a,validator,_b,_c,opener_1,handled;return __generator(this,function(_d){switch(_d.label){case 0:_i=0,_a=this._validators.toArray(),_d.label=1;case 1:return _i<_a.length?(validator=_a[_i],[4,validator.shouldOpen(target)]):[3,4];case 2:if(!_d.sent())return[2,!1];_d.label=3;case 3:return _i++,[3,1];case 4:_b=0,_c=this._openers.toArray(),_d.label=5;case 5:return _b<_c.length?(opener_1=_c[_b],[4,opener_1.open(target,options)]):[3,8];case 6:if(handled=_d.sent(),handled)return[2,!0];_d.label=7;case 7:return _b++,[3,5];case 8:return[2,!1]}})})},OpenerService.prototype.resolveExternalUri=function(resource,options){return __awaiter(this,void 0,void 0,function(){var _i,_a,resolver,result;return __generator(this,function(_b){switch(_b.label){case 0:_i=0,_a=this._resolvers.toArray(),_b.label=1;case 1:return _i<_a.length?(resolver=_a[_i],[4,resolver.resolveExternalUri(resource,options)]):[3,4];case 2:if(result=_b.sent(),result)return[2,result];_b.label=3;case 3:return _i++,[3,1];case 4:return[2,{resolved:resource,dispose:function(){}}]}})})},OpenerService.prototype._doOpenExternal=function(resource,options){return __awaiter(this,void 0,void 0,function(){var uri,resolved;return __generator(this,function(_a){switch(_a.label){case 0:return uri=typeof resource=="string"?common_uri.a.parse(resource):resource,[4,this.resolveExternalUri(uri,options)];case 1:return resolved=_a.sent().resolved,typeof resource=="string"&&uri.toString()===resolved.toString()?[2,this._externalOpener.openExternal(resource)]:[2,this._externalOpener.openExternal(encodeURI(resolved.toString(!0)))]}})})},OpenerService.prototype.dispose=function(){this._validators.clear()},OpenerService=__decorate([__param(0,services_codeEditorService.a),__param(1,commands.b)],OpenerService),OpenerService}(),diffNavigator=__webpack_require__(2712),fontInfo=__webpack_require__(3491),editorCommon=__webpack_require__(3196),common_model=__webpack_require__(2819),modes=__webpack_require__(2240),nullMode=__webpack_require__(3165),services_editorWorkerService=__webpack_require__(3166),resolverService=__webpack_require__(3233),common_async=__webpack_require__(2237),lifecycle=__webpack_require__(2033),errors=__webpack_require__(2176),platform=__webpack_require__(2236),types=__webpack_require__(2631),__extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),INITIALIZE="$initialize",webWorkerWarningLogged=!1;function logOnceWebWorkerWarning(err){platform.g&&(webWorkerWarningLogged||(webWorkerWarningLogged=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(err.message))}var simpleWorker_SimpleWorkerProtocol=function(){function SimpleWorkerProtocol(handler){this._workerId=-1,this._handler=handler,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return SimpleWorkerProtocol.prototype.setWorkerId=function(workerId){this._workerId=workerId},SimpleWorkerProtocol.prototype.sendMessage=function(method,args){var _this=this,req=String(++this._lastSentReq);return new Promise(function(resolve,reject){_this._pendingReplies[req]={resolve,reject},_this._send({vsWorker:_this._workerId,req,method,args})})},SimpleWorkerProtocol.prototype.handleMessage=function(message){!message||!message.vsWorker||this._workerId!==-1&&message.vsWorker!==this._workerId||this._handleMessage(message)},SimpleWorkerProtocol.prototype._handleMessage=function(msg){var _this=this;if(msg.seq){var replyMessage=msg;if(!this._pendingReplies[replyMessage.seq]){console.warn("Got reply to unknown seq");return}var reply=this._pendingReplies[replyMessage.seq];if(delete this._pendingReplies[replyMessage.seq],replyMessage.err){var err=replyMessage.err;replyMessage.err.$isError&&(err=new Error,err.name=replyMessage.err.name,err.message=replyMessage.err.message,err.stack=replyMessage.err.stack),reply.reject(err);return}reply.resolve(replyMessage.res);return}var requestMessage=msg,req=requestMessage.req,result=this._handler.handleMessage(requestMessage.method,requestMessage.args);result.then(function(r){_this._send({vsWorker:_this._workerId,seq:req,res:r,err:void 0})},function(e){e.detail instanceof Error&&(e.detail=Object(errors.g)(e.detail)),_this._send({vsWorker:_this._workerId,seq:req,res:void 0,err:Object(errors.g)(e)})})},SimpleWorkerProtocol.prototype._send=function(msg){var transfer=[];if(msg.req)for(var m=msg,i=0;i<m.args.length;i++)m.args[i]instanceof ArrayBuffer&&transfer.push(m.args[i]);else{var m=msg;m.res instanceof ArrayBuffer&&transfer.push(m.res)}this._handler.sendMessage(msg,transfer)},SimpleWorkerProtocol}(),simpleWorker_SimpleWorkerClient=function(_super){__extends(SimpleWorkerClient,_super);function SimpleWorkerClient(workerFactory,moduleId,host){var _this=_super.call(this)||this,lazyProxyReject=null;_this._worker=_this._register(workerFactory.create("vs/base/common/worker/simpleWorker",function(msg){_this._protocol.handleMessage(msg)},function(err){lazyProxyReject&&lazyProxyReject(err)})),_this._protocol=new simpleWorker_SimpleWorkerProtocol({sendMessage:function(msg,transfer){_this._worker.postMessage(msg,transfer)},handleMessage:function(method,args){if(typeof host[method]!="function")return Promise.reject(new Error("Missing method "+method+" on main thread host."));try{return Promise.resolve(host[method].apply(host,args))}catch(e){return Promise.reject(e)}}}),_this._protocol.setWorkerId(_this._worker.getId());var loaderConfiguration=null;typeof self.require<"u"&&typeof self.require.getConfig=="function"?loaderConfiguration=self.require.getConfig():typeof self.requirejs<"u"&&(loaderConfiguration=self.requirejs.s.contexts._.config);var hostMethods=types.c(host);_this._onModuleLoaded=_this._protocol.sendMessage(INITIALIZE,[_this._worker.getId(),JSON.parse(JSON.stringify(loaderConfiguration)),moduleId,hostMethods]);var proxyMethodRequest=function(method,args){return _this._request(method,args)};return _this._lazyProxy=new Promise(function(resolve,reject){lazyProxyReject=reject,_this._onModuleLoaded.then(function(availableMethods){resolve(types.b(availableMethods,proxyMethodRequest))},function(e){reject(e),_this._onError("Worker failed to load "+moduleId,e)})}),_this}return SimpleWorkerClient.prototype.getProxyObject=function(){return this._lazyProxy},SimpleWorkerClient.prototype._request=function(method,args){var _this=this;return new Promise(function(resolve,reject){_this._onModuleLoaded.then(function(){_this._protocol.sendMessage(method,args).then(resolve,reject)},reject)})},SimpleWorkerClient.prototype._onError=function(message,error){console.error(message),console.info(error)},SimpleWorkerClient}(lifecycle.a),simpleWorker_SimpleWorkerServer=function(){function SimpleWorkerServer(postMessage,requestHandlerFactory){var _this=this;this._requestHandlerFactory=requestHandlerFactory,this._requestHandler=null,this._protocol=new simpleWorker_SimpleWorkerProtocol({sendMessage:function(msg,transfer){postMessage(msg,transfer)},handleMessage:function(method,args){return _this._handleMessage(method,args)}})}return SimpleWorkerServer.prototype.onmessage=function(msg){this._protocol.handleMessage(msg)},SimpleWorkerServer.prototype._handleMessage=function(method,args){if(method===INITIALIZE)return this.initialize(args[0],args[1],args[2],args[3]);if(!this._requestHandler||typeof this._requestHandler[method]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+method));try{return Promise.resolve(this._requestHandler[method].apply(this._requestHandler,args))}catch(e){return Promise.reject(e)}},SimpleWorkerServer.prototype.initialize=function(workerId,loaderConfig,moduleId,hostMethods){var _this=this;this._protocol.setWorkerId(workerId);var proxyMethodRequest=function(method,args){return _this._protocol.sendMessage(method,args)},hostProxy=types.b(hostMethods,proxyMethodRequest);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(hostProxy),Promise.resolve(types.c(this._requestHandler))):(loaderConfig&&(typeof loaderConfig.baseUrl<"u"&&delete loaderConfig.baseUrl,typeof loaderConfig.paths<"u"&&typeof loaderConfig.paths.vs<"u"&&delete loaderConfig.paths.vs,loaderConfig.catchError=!0,self.require.config(loaderConfig)),new Promise(function(resolve,reject){self.require([moduleId],function(module2){if(_this._requestHandler=module2.create(hostProxy),!_this._requestHandler){reject(new Error("No RequestHandler!"));return}resolve(types.c(_this._requestHandler))},reject)}))},SimpleWorkerServer}();function simpleWorker_create(postMessage){return new simpleWorker_SimpleWorkerServer(postMessage,null)}function getWorker(workerId,label){if(platform.b.MonacoEnvironment){if(typeof platform.b.MonacoEnvironment.getWorker=="function")return platform.b.MonacoEnvironment.getWorker(workerId,label);if(typeof platform.b.MonacoEnvironment.getWorkerUrl=="function")return new Worker(platform.b.MonacoEnvironment.getWorkerUrl(workerId,label))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function isPromiseLike(obj){return typeof obj.then=="function"}var WebWorker=function(){function WebWorker2(moduleId,id,label,onMessageCallback,onErrorCallback){this.id=id;var workerOrPromise=getWorker("workerMain.js",label);isPromiseLike(workerOrPromise)?this.worker=workerOrPromise:this.worker=Promise.resolve(workerOrPromise),this.postMessage(moduleId,[]),this.worker.then(function(w){w.onmessage=function(ev){onMessageCallback(ev.data)},w.onmessageerror=onErrorCallback,typeof w.addEventListener=="function"&&w.addEventListener("error",onErrorCallback)})}return WebWorker2.prototype.getId=function(){return this.id},WebWorker2.prototype.postMessage=function(message,transfer){this.worker&&this.worker.then(function(w){return w.postMessage(message,transfer)})},WebWorker2.prototype.dispose=function(){this.worker&&this.worker.then(function(w){return w.terminate()}),this.worker=null},WebWorker2}(),defaultWorkerFactory_DefaultWorkerFactory=function(){function DefaultWorkerFactory(label){this._label=label,this._webWorkerFailedBeforeError=!1}return DefaultWorkerFactory.prototype.create=function(moduleId,onMessageCallback,onErrorCallback){var _this=this,workerId=++DefaultWorkerFactory.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new WebWorker(moduleId,workerId,this._label||"anonymous"+workerId,onMessageCallback,function(err){logOnceWebWorkerWarning(err),_this._webWorkerFailedBeforeError=err,onErrorCallback(err)})},DefaultWorkerFactory.LAST_WORKER_ID=0,DefaultWorkerFactory}(),languageConfigurationRegistry=__webpack_require__(2810),arrays=__webpack_require__(2389),diff=__webpack_require__(3606),iterator=__webpack_require__(3110),strings=__webpack_require__(2123),MINIMUM_MATCHING_CHARACTER_LENGTH=3;function computeDiff(originalSequence,modifiedSequence,continueProcessingPredicate,pretty){var diffAlgo=new diff.a(originalSequence,modifiedSequence,continueProcessingPredicate);return diffAlgo.ComputeDiff(pretty)}var LineSequence=function(){function LineSequence2(lines){for(var startColumns=[],endColumns=[],i=0,length_1=lines.length;i<length_1;i++)startColumns[i]=getFirstNonBlankColumn(lines[i],1),endColumns[i]=getLastNonBlankColumn(lines[i],1);this.lines=lines,this._startColumns=startColumns,this._endColumns=endColumns}return LineSequence2.prototype.getElements=function(){for(var elements=[],i=0,len=this.lines.length;i<len;i++)elements[i]=this.lines[i].substring(this._startColumns[i]-1,this._endColumns[i]-1);return elements},LineSequence2.prototype.getStartLineNumber=function(i){return i+1},LineSequence2.prototype.getEndLineNumber=function(i){return i+1},LineSequence2.prototype.createCharSequence=function(shouldIgnoreTrimWhitespace,startIndex,endIndex){for(var charCodes=[],lineNumbers=[],columns=[],len=0,index=startIndex;index<=endIndex;index++)for(var lineContent=this.lines[index],startColumn=shouldIgnoreTrimWhitespace?this._startColumns[index]:1,endColumn=shouldIgnoreTrimWhitespace?this._endColumns[index]:lineContent.length+1,col=startColumn;col<endColumn;col++)charCodes[len]=lineContent.charCodeAt(col-1),lineNumbers[len]=index+1,columns[len]=col,len++;return new CharSequence(charCodes,lineNumbers,columns)},LineSequence2}(),CharSequence=function(){function CharSequence2(charCodes,lineNumbers,columns){this._charCodes=charCodes,this._lineNumbers=lineNumbers,this._columns=columns}return CharSequence2.prototype.getElements=function(){return this._charCodes},CharSequence2.prototype.getStartLineNumber=function(i){return this._lineNumbers[i]},CharSequence2.prototype.getStartColumn=function(i){return this._columns[i]},CharSequence2.prototype.getEndLineNumber=function(i){return this._lineNumbers[i]},CharSequence2.prototype.getEndColumn=function(i){return this._columns[i]+1},CharSequence2}(),CharChange=function(){function CharChange2(originalStartLineNumber,originalStartColumn,originalEndLineNumber,originalEndColumn,modifiedStartLineNumber,modifiedStartColumn,modifiedEndLineNumber,modifiedEndColumn){this.originalStartLineNumber=originalStartLineNumber,this.originalStartColumn=originalStartColumn,this.originalEndLineNumber=originalEndLineNumber,this.originalEndColumn=originalEndColumn,this.modifiedStartLineNumber=modifiedStartLineNumber,this.modifiedStartColumn=modifiedStartColumn,this.modifiedEndLineNumber=modifiedEndLineNumber,this.modifiedEndColumn=modifiedEndColumn}return CharChange2.createFromDiffChange=function(diffChange,originalCharSequence,modifiedCharSequence){var originalStartLineNumber,originalStartColumn,originalEndLineNumber,originalEndColumn,modifiedStartLineNumber,modifiedStartColumn,modifiedEndLineNumber,modifiedEndColumn;return diffChange.originalLength===0?(originalStartLineNumber=0,originalStartColumn=0,originalEndLineNumber=0,originalEndColumn=0):(originalStartLineNumber=originalCharSequence.getStartLineNumber(diffChange.originalStart),originalStartColumn=originalCharSequence.getStartColumn(diffChange.originalStart),originalEndLineNumber=originalCharSequence.getEndLineNumber(diffChange.originalStart+diffChange.originalLength-1),originalEndColumn=originalCharSequence.getEndColumn(diffChange.originalStart+diffChange.originalLength-1)),diffChange.modifiedLength===0?(modifiedStartLineNumber=0,modifiedStartColumn=0,modifiedEndLineNumber=0,modifiedEndColumn=0):(modifiedStartLineNumber=modifiedCharSequence.getStartLineNumber(diffChange.modifiedStart),modifiedStartColumn=modifiedCharSequence.getStartColumn(diffChange.modifiedStart),modifiedEndLineNumber=modifiedCharSequence.getEndLineNumber(diffChange.modifiedStart+diffChange.modifiedLength-1),modifiedEndColumn=modifiedCharSequence.getEndColumn(diffChange.modifiedStart+diffChange.modifiedLength-1)),new CharChange2(originalStartLineNumber,originalStartColumn,originalEndLineNumber,originalEndColumn,modifiedStartLineNumber,modifiedStartColumn,modifiedEndLineNumber,modifiedEndColumn)},CharChange2}();function postProcessCharChanges(rawChanges){if(rawChanges.length<=1)return rawChanges;for(var result=[rawChanges[0]],prevChange=result[0],i=1,len=rawChanges.length;i<len;i++){var currChange=rawChanges[i],originalMatchingLength=currChange.originalStart-(prevChange.originalStart+prevChange.originalLength),modifiedMatchingLength=currChange.modifiedStart-(prevChange.modifiedStart+prevChange.modifiedLength),matchingLength=Math.min(originalMatchingLength,modifiedMatchingLength);matchingLength<MINIMUM_MATCHING_CHARACTER_LENGTH?(prevChange.originalLength=currChange.originalStart+currChange.originalLength-prevChange.originalStart,prevChange.modifiedLength=currChange.modifiedStart+currChange.modifiedLength-prevChange.modifiedStart):(result.push(currChange),prevChange=currChange)}return result}var LineChange=function(){function LineChange2(originalStartLineNumber,originalEndLineNumber,modifiedStartLineNumber,modifiedEndLineNumber,charChanges){this.originalStartLineNumber=originalStartLineNumber,this.originalEndLineNumber=originalEndLineNumber,this.modifiedStartLineNumber=modifiedStartLineNumber,this.modifiedEndLineNumber=modifiedEndLineNumber,this.charChanges=charChanges}return LineChange2.createFromDiffResult=function(shouldIgnoreTrimWhitespace,diffChange,originalLineSequence,modifiedLineSequence,continueCharDiff,shouldComputeCharChanges,shouldPostProcessCharChanges){var originalStartLineNumber,originalEndLineNumber,modifiedStartLineNumber,modifiedEndLineNumber,charChanges=void 0;if(diffChange.originalLength===0?(originalStartLineNumber=originalLineSequence.getStartLineNumber(diffChange.originalStart)-1,originalEndLineNumber=0):(originalStartLineNumber=originalLineSequence.getStartLineNumber(diffChange.originalStart),originalEndLineNumber=originalLineSequence.getEndLineNumber(diffChange.originalStart+diffChange.originalLength-1)),diffChange.modifiedLength===0?(modifiedStartLineNumber=modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart)-1,modifiedEndLineNumber=0):(modifiedStartLineNumber=modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart),modifiedEndLineNumber=modifiedLineSequence.getEndLineNumber(diffChange.modifiedStart+diffChange.modifiedLength-1)),shouldComputeCharChanges&&diffChange.originalLength>0&&diffChange.originalLength<20&&diffChange.modifiedLength>0&&diffChange.modifiedLength<20&&continueCharDiff()){var originalCharSequence=originalLineSequence.createCharSequence(shouldIgnoreTrimWhitespace,diffChange.originalStart,diffChange.originalStart+diffChange.originalLength-1),modifiedCharSequence=modifiedLineSequence.createCharSequence(shouldIgnoreTrimWhitespace,diffChange.modifiedStart,diffChange.modifiedStart+diffChange.modifiedLength-1),rawChanges=computeDiff(originalCharSequence,modifiedCharSequence,continueCharDiff,!0).changes;shouldPostProcessCharChanges&&(rawChanges=postProcessCharChanges(rawChanges)),charChanges=[];for(var i=0,length_2=rawChanges.length;i<length_2;i++)charChanges.push(CharChange.createFromDiffChange(rawChanges[i],originalCharSequence,modifiedCharSequence))}return new LineChange2(originalStartLineNumber,originalEndLineNumber,modifiedStartLineNumber,modifiedEndLineNumber,charChanges)},LineChange2}(),DiffComputer=function(){function DiffComputer2(originalLines,modifiedLines,opts){this.shouldComputeCharChanges=opts.shouldComputeCharChanges,this.shouldPostProcessCharChanges=opts.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=opts.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=opts.shouldMakePrettyDiff,this.originalLines=originalLines,this.modifiedLines=modifiedLines,this.original=new LineSequence(originalLines),this.modified=new LineSequence(modifiedLines),this.continueLineDiff=createContinueProcessingPredicate(opts.maxComputationTime),this.continueCharDiff=createContinueProcessingPredicate(opts.maxComputationTime===0?0:Math.min(opts.maxComputationTime,5e3))}return DiffComputer2.prototype.computeDiff=function(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};var diffResult=computeDiff(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),rawChanges=diffResult.changes,quitEarly=diffResult.quitEarly;if(this.shouldIgnoreTrimWhitespace){for(var lineChanges=[],i=0,length_3=rawChanges.length;i<length_3;i++)lineChanges.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace,rawChanges[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly,changes:lineChanges}}for(var result=[],originalLineIndex=0,modifiedLineIndex=0,i=-1,len=rawChanges.length;i<len;i++){for(var nextChange=i+1<len?rawChanges[i+1]:null,originalStop=nextChange?nextChange.originalStart:this.originalLines.length,modifiedStop=nextChange?nextChange.modifiedStart:this.modifiedLines.length;originalLineIndex<originalStop&&modifiedLineIndex<modifiedStop;){var originalLine=this.originalLines[originalLineIndex],modifiedLine=this.modifiedLines[modifiedLineIndex];if(originalLine!==modifiedLine){{for(var originalStartColumn=getFirstNonBlankColumn(originalLine,1),modifiedStartColumn=getFirstNonBlankColumn(modifiedLine,1);originalStartColumn>1&&modifiedStartColumn>1;){var originalChar=originalLine.charCodeAt(originalStartColumn-2),modifiedChar=modifiedLine.charCodeAt(modifiedStartColumn-2);if(originalChar!==modifiedChar)break;originalStartColumn--,modifiedStartColumn--}(originalStartColumn>1||modifiedStartColumn>1)&&this._pushTrimWhitespaceCharChange(result,originalLineIndex+1,1,originalStartColumn,modifiedLineIndex+1,1,modifiedStartColumn)}{for(var originalEndColumn=getLastNonBlankColumn(originalLine,1),modifiedEndColumn=getLastNonBlankColumn(modifiedLine,1),originalMaxColumn=originalLine.length+1,modifiedMaxColumn=modifiedLine.length+1;originalEndColumn<originalMaxColumn&&modifiedEndColumn<modifiedMaxColumn;){var originalChar=originalLine.charCodeAt(originalEndColumn-1),modifiedChar=originalLine.charCodeAt(modifiedEndColumn-1);if(originalChar!==modifiedChar)break;originalEndColumn++,modifiedEndColumn++}(originalEndColumn<originalMaxColumn||modifiedEndColumn<modifiedMaxColumn)&&this._pushTrimWhitespaceCharChange(result,originalLineIndex+1,originalEndColumn,originalMaxColumn,modifiedLineIndex+1,modifiedEndColumn,modifiedMaxColumn)}}originalLineIndex++,modifiedLineIndex++}nextChange&&(result.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace,nextChange,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),originalLineIndex+=nextChange.originalLength,modifiedLineIndex+=nextChange.modifiedLength)}return{quitEarly,changes:result}},DiffComputer2.prototype._pushTrimWhitespaceCharChange=function(result,originalLineNumber,originalStartColumn,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedEndColumn){if(!this._mergeTrimWhitespaceCharChange(result,originalLineNumber,originalStartColumn,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedEndColumn)){var charChanges=void 0;this.shouldComputeCharChanges&&(charChanges=[new CharChange(originalLineNumber,originalStartColumn,originalLineNumber,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedLineNumber,modifiedEndColumn)]),result.push(new LineChange(originalLineNumber,originalLineNumber,modifiedLineNumber,modifiedLineNumber,charChanges))}},DiffComputer2.prototype._mergeTrimWhitespaceCharChange=function(result,originalLineNumber,originalStartColumn,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedEndColumn){var len=result.length;if(len===0)return!1;var prevChange=result[len-1];return prevChange.originalEndLineNumber===0||prevChange.modifiedEndLineNumber===0?!1:prevChange.originalEndLineNumber+1===originalLineNumber&&prevChange.modifiedEndLineNumber+1===modifiedLineNumber?(prevChange.originalEndLineNumber=originalLineNumber,prevChange.modifiedEndLineNumber=modifiedLineNumber,this.shouldComputeCharChanges&&prevChange.charChanges&&prevChange.charChanges.push(new CharChange(originalLineNumber,originalStartColumn,originalLineNumber,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedLineNumber,modifiedEndColumn)),!0):!1},DiffComputer2}();function getFirstNonBlankColumn(txt,defaultValue){var r=strings.q(txt);return r===-1?defaultValue:r+1}function getLastNonBlankColumn(txt,defaultValue){var r=strings.E(txt);return r===-1?defaultValue:r+2}function createContinueProcessingPredicate(maximumRuntime){if(maximumRuntime===0)return function(){return!0};var startTime=Date.now();return function(){return Date.now()-startTime<maximumRuntime}}var prefixSumComputer=__webpack_require__(3505),mirrorTextModel_MirrorTextModel=function(){function MirrorTextModel(uri,lines,eol,versionId){this._uri=uri,this._lines=lines,this._eol=eol,this._versionId=versionId,this._lineStarts=null}return MirrorTextModel.prototype.dispose=function(){this._lines.length=0},MirrorTextModel.prototype.getText=function(){return this._lines.join(this._eol)},MirrorTextModel.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var changes=e.changes,_i=0,changes_1=changes;_i<changes_1.length;_i++){var change=changes_1[_i];this._acceptDeleteRange(change.range),this._acceptInsertText(new core_position.a(change.range.startLineNumber,change.range.startColumn),change.text)}this._versionId=e.versionId},MirrorTextModel.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var eolLength=this._eol.length,linesLength=this._lines.length,lineStartValues=new Uint32Array(linesLength),i=0;i<linesLength;i++)lineStartValues[i]=this._lines[i].length+eolLength;this._lineStarts=new prefixSumComputer.a(lineStartValues)}},MirrorTextModel.prototype._setLineText=function(lineIndex,newValue){this._lines[lineIndex]=newValue,this._lineStarts&&this._lineStarts.changeValue(lineIndex,this._lines[lineIndex].length+this._eol.length)},MirrorTextModel.prototype._acceptDeleteRange=function(range){if(range.startLineNumber===range.endLineNumber){if(range.startColumn===range.endColumn)return;this._setLineText(range.startLineNumber-1,this._lines[range.startLineNumber-1].substring(0,range.startColumn-1)+this._lines[range.startLineNumber-1].substring(range.endColumn-1));return}this._setLineText(range.startLineNumber-1,this._lines[range.startLineNumber-1].substring(0,range.startColumn-1)+this._lines[range.endLineNumber-1].substring(range.endColumn-1)),this._lines.splice(range.startLineNumber,range.endLineNumber-range.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(range.startLineNumber,range.endLineNumber-range.startLineNumber)},MirrorTextModel.prototype._acceptInsertText=function(position,insertText){if(insertText.length!==0){var insertLines=insertText.split(/\r\n|\r|\n/);if(insertLines.length===1){this._setLineText(position.lineNumber-1,this._lines[position.lineNumber-1].substring(0,position.column-1)+insertLines[0]+this._lines[position.lineNumber-1].substring(position.column-1));return}insertLines[insertLines.length-1]+=this._lines[position.lineNumber-1].substring(position.column-1),this._setLineText(position.lineNumber-1,this._lines[position.lineNumber-1].substring(0,position.column-1)+insertLines[0]);for(var newLengths=new Uint32Array(insertLines.length-1),i=1;i<insertLines.length;i++)this._lines.splice(position.lineNumber+i-1,0,insertLines[i]),newLengths[i-1]=insertLines[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(position.lineNumber,newLengths)}},MirrorTextModel}(),wordHelper=__webpack_require__(3366),characterClassifier=__webpack_require__(3235),Uint8Matrix=function(){function Uint8Matrix2(rows,cols,defaultValue){for(var data=new Uint8Array(rows*cols),i=0,len=rows*cols;i<len;i++)data[i]=defaultValue;this._data=data,this.rows=rows,this.cols=cols}return Uint8Matrix2.prototype.get=function(row,col){return this._data[row*this.cols+col]},Uint8Matrix2.prototype.set=function(row,col,value){this._data[row*this.cols+col]=value},Uint8Matrix2}(),StateMachine=function(){function StateMachine2(edges){for(var maxCharCode=0,maxState=0,i=0,len=edges.length;i<len;i++){var _a=edges[i],from=_a[0],chCode=_a[1],to=_a[2];chCode>maxCharCode&&(maxCharCode=chCode),from>maxState&&(maxState=from),to>maxState&&(maxState=to)}maxCharCode++,maxState++;for(var states=new Uint8Matrix(maxState,maxCharCode,0),i=0,len=edges.length;i<len;i++){var _b=edges[i],from=_b[0],chCode=_b[1],to=_b[2];states.set(from,chCode,to)}this._states=states,this._maxCharCode=maxCharCode}return StateMachine2.prototype.nextState=function(currentState,chCode){return chCode<0||chCode>=this._maxCharCode?0:this._states.get(currentState,chCode)},StateMachine2}(),_stateMachine=null;function getStateMachine(){return _stateMachine===null&&(_stateMachine=new StateMachine([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),_stateMachine}var _classifier=null;function getClassifier(){if(_classifier===null){_classifier=new characterClassifier.a(0);for(var FORCE_TERMINATION_CHARACTERS=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF20\uFF03\uFF04\uFF05\uFF06\uFF0A\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026`,i=0;i<FORCE_TERMINATION_CHARACTERS.length;i++)_classifier.set(FORCE_TERMINATION_CHARACTERS.charCodeAt(i),1);for(var CANNOT_END_WITH_CHARACTERS=".,;",i=0;i<CANNOT_END_WITH_CHARACTERS.length;i++)_classifier.set(CANNOT_END_WITH_CHARACTERS.charCodeAt(i),2)}return _classifier}var LinkComputer=function(){function LinkComputer2(){}return LinkComputer2._createLink=function(classifier,line,lineNumber,linkBeginIndex,linkEndIndex){var lastIncludedCharIndex=linkEndIndex-1;do{var chCode=line.charCodeAt(lastIncludedCharIndex),chClass=classifier.get(chCode);if(chClass!==2)break;lastIncludedCharIndex--}while(lastIncludedCharIndex>linkBeginIndex);if(linkBeginIndex>0){var charCodeBeforeLink=line.charCodeAt(linkBeginIndex-1),lastCharCodeInLink=line.charCodeAt(lastIncludedCharIndex);(charCodeBeforeLink===40&&lastCharCodeInLink===41||charCodeBeforeLink===91&&lastCharCodeInLink===93||charCodeBeforeLink===123&&lastCharCodeInLink===125)&&lastIncludedCharIndex--}return{range:{startLineNumber:lineNumber,startColumn:linkBeginIndex+1,endLineNumber:lineNumber,endColumn:lastIncludedCharIndex+2},url:line.substring(linkBeginIndex,lastIncludedCharIndex+1)}},LinkComputer2.computeLinks=function(model,stateMachine){stateMachine===void 0&&(stateMachine=getStateMachine());for(var classifier=getClassifier(),result=[],i=1,lineCount=model.getLineCount();i<=lineCount;i++){for(var line=model.getLineContent(i),len=line.length,j=0,linkBeginIndex=0,linkBeginChCode=0,state=1,hasOpenParens=!1,hasOpenSquareBracket=!1,hasOpenCurlyBracket=!1;j<len;){var resetStateMachine=!1,chCode=line.charCodeAt(j);if(state===13){var chClass=void 0;switch(chCode){case 40:hasOpenParens=!0,chClass=0;break;case 41:chClass=hasOpenParens?0:1;break;case 91:hasOpenSquareBracket=!0,chClass=0;break;case 93:chClass=hasOpenSquareBracket?0:1;break;case 123:hasOpenCurlyBracket=!0,chClass=0;break;case 125:chClass=hasOpenCurlyBracket?0:1;break;case 39:chClass=linkBeginChCode===34||linkBeginChCode===96?0:1;break;case 34:chClass=linkBeginChCode===39||linkBeginChCode===96?0:1;break;case 96:chClass=linkBeginChCode===39||linkBeginChCode===34?0:1;break;case 42:chClass=linkBeginChCode===42?1:0;break;default:chClass=classifier.get(chCode)}chClass===1&&(result.push(LinkComputer2._createLink(classifier,line,i,linkBeginIndex,j)),resetStateMachine=!0)}else if(state===12){var chClass=void 0;chCode===91?(hasOpenSquareBracket=!0,chClass=0):chClass=classifier.get(chCode),chClass===1?resetStateMachine=!0:state=13}else state=stateMachine.nextState(state,chCode),state===0&&(resetStateMachine=!0);resetStateMachine&&(state=1,hasOpenParens=!1,hasOpenSquareBracket=!1,hasOpenCurlyBracket=!1,linkBeginIndex=j+1,linkBeginChCode=chCode),j++}state===13&&result.push(LinkComputer2._createLink(classifier,line,i,linkBeginIndex,len))}return result},LinkComputer2}();function computeLinks(model){return!model||typeof model.getLineCount!="function"||typeof model.getLineContent!="function"?[]:LinkComputer.computeLinks(model)}var BasicInplaceReplace=function(){function BasicInplaceReplace2(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return BasicInplaceReplace2.prototype.navigateValueSet=function(range1,text1,range2,text2,up){if(range1&&text1){var result=this.doNavigateValueSet(text1,up);if(result)return{range:range1,value:result}}if(range2&&text2){var result=this.doNavigateValueSet(text2,up);if(result)return{range:range2,value:result}}return null},BasicInplaceReplace2.prototype.doNavigateValueSet=function(text,up){var numberResult=this.numberReplace(text,up);return numberResult!==null?numberResult:this.textReplace(text,up)},BasicInplaceReplace2.prototype.numberReplace=function(value,up){var precision=Math.pow(10,value.length-(value.lastIndexOf(".")+1)),n1=Number(value),n2=parseFloat(value);return!isNaN(n1)&&!isNaN(n2)&&n1===n2?n1===0&&!up?null:(n1=Math.floor(n1*precision),n1+=up?precision:-precision,String(n1/precision)):null},BasicInplaceReplace2.prototype.textReplace=function(value,up){return this.valueSetsReplace(this._defaultValueSet,value,up)},BasicInplaceReplace2.prototype.valueSetsReplace=function(valueSets,value,up){for(var result=null,i=0,len=valueSets.length;result===null&&i<len;i++)result=this.valueSetReplace(valueSets[i],value,up);return result},BasicInplaceReplace2.prototype.valueSetReplace=function(valueSet,value,up){var idx=valueSet.indexOf(value);return idx>=0?(idx+=up?1:-1,idx<0?idx=valueSet.length-1:idx%=valueSet.length,valueSet[idx]):null},BasicInplaceReplace2.INSTANCE=new BasicInplaceReplace2,BasicInplaceReplace2}(),editorSimpleWorker_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),editorSimpleWorker_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},editorSimpleWorker_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},editorSimpleWorker_MirrorModel=function(_super){editorSimpleWorker_extends(MirrorModel,_super);function MirrorModel(){return _super!==null&&_super.apply(this,arguments)||this}return Object.defineProperty(MirrorModel.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(MirrorModel.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(MirrorModel.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),MirrorModel.prototype.getValue=function(){return this.getText()},MirrorModel.prototype.getLinesContent=function(){return this._lines.slice(0)},MirrorModel.prototype.getLineCount=function(){return this._lines.length},MirrorModel.prototype.getLineContent=function(lineNumber){return this._lines[lineNumber-1]},MirrorModel.prototype.getWordAtPosition=function(position,wordDefinition){var wordAtText=Object(wordHelper.d)(position.column,Object(wordHelper.c)(wordDefinition),this._lines[position.lineNumber-1],0);return wordAtText?new core_range.a(position.lineNumber,wordAtText.startColumn,position.lineNumber,wordAtText.endColumn):null},MirrorModel.prototype.createWordIterator=function(wordDefinition){var _this=this,obj,lineNumber=0,lineText,wordRangesIdx=0,wordRanges=[],next=function(){if(wordRangesIdx<wordRanges.length){var value=lineText.substring(wordRanges[wordRangesIdx].start,wordRanges[wordRangesIdx].end);return wordRangesIdx+=1,obj?obj.value=value:obj={done:!1,value},obj}else return lineNumber>=_this._lines.length?iterator.c:(lineText=_this._lines[lineNumber],wordRanges=_this._wordenize(lineText,wordDefinition),wordRangesIdx=0,lineNumber+=1,next())};return{next}},MirrorModel.prototype.getLineWords=function(lineNumber,wordDefinition){for(var content=this._lines[lineNumber-1],ranges=this._wordenize(content,wordDefinition),words=[],_i=0,ranges_1=ranges;_i<ranges_1.length;_i++){var range=ranges_1[_i];words.push({word:content.substring(range.start,range.end),startColumn:range.start+1,endColumn:range.end+1})}return words},MirrorModel.prototype._wordenize=function(content,wordDefinition){var result=[],match;for(wordDefinition.lastIndex=0;(match=wordDefinition.exec(content))&&match[0].length!==0;)result.push({start:match.index,end:match.index+match[0].length});return result},MirrorModel.prototype.getValueInRange=function(range){if(range=this._validateRange(range),range.startLineNumber===range.endLineNumber)return this._lines[range.startLineNumber-1].substring(range.startColumn-1,range.endColumn-1);var lineEnding=this._eol,startLineIndex=range.startLineNumber-1,endLineIndex=range.endLineNumber-1,resultLines=[];resultLines.push(this._lines[startLineIndex].substring(range.startColumn-1));for(var i=startLineIndex+1;i<endLineIndex;i++)resultLines.push(this._lines[i]);return resultLines.push(this._lines[endLineIndex].substring(0,range.endColumn-1)),resultLines.join(lineEnding)},MirrorModel.prototype.offsetAt=function(position){return position=this._validatePosition(position),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(position.lineNumber-2)+(position.column-1)},MirrorModel.prototype.positionAt=function(offset){offset=Math.floor(offset),offset=Math.max(0,offset),this._ensureLineStarts();var out=this._lineStarts.getIndexOf(offset),lineLength=this._lines[out.index].length;return{lineNumber:1+out.index,column:1+Math.min(out.remainder,lineLength)}},MirrorModel.prototype._validateRange=function(range){var start=this._validatePosition({lineNumber:range.startLineNumber,column:range.startColumn}),end=this._validatePosition({lineNumber:range.endLineNumber,column:range.endColumn});return start.lineNumber!==range.startLineNumber||start.column!==range.startColumn||end.lineNumber!==range.endLineNumber||end.column!==range.endColumn?{startLineNumber:start.lineNumber,startColumn:start.column,endLineNumber:end.lineNumber,endColumn:end.column}:range},MirrorModel.prototype._validatePosition=function(position){if(!core_position.a.isIPosition(position))throw new Error("bad position");var lineNumber=position.lineNumber,column=position.column,hasChanged=!1;if(lineNumber<1)lineNumber=1,column=1,hasChanged=!0;else if(lineNumber>this._lines.length)lineNumber=this._lines.length,column=this._lines[lineNumber-1].length+1,hasChanged=!0;else{var maxCharacter=this._lines[lineNumber-1].length+1;column<1?(column=1,hasChanged=!0):column>maxCharacter&&(column=maxCharacter,hasChanged=!0)}return hasChanged?{lineNumber,column}:position},MirrorModel}(mirrorTextModel_MirrorTextModel),editorSimpleWorker_EditorSimpleWorker=function(){function EditorSimpleWorker(host,foreignModuleFactory){this._host=host,this._models=Object.create(null),this._foreignModuleFactory=foreignModuleFactory,this._foreignModule=null}return EditorSimpleWorker.prototype.dispose=function(){this._models=Object.create(null)},EditorSimpleWorker.prototype._getModel=function(uri){return this._models[uri]},EditorSimpleWorker.prototype._getModels=function(){var _this=this,all=[];return Object.keys(this._models).forEach(function(key){return all.push(_this._models[key])}),all},EditorSimpleWorker.prototype.acceptNewModel=function(data){this._models[data.url]=new editorSimpleWorker_MirrorModel(common_uri.a.parse(data.url),data.lines,data.EOL,data.versionId)},EditorSimpleWorker.prototype.acceptModelChanged=function(strURL,e){if(this._models[strURL]){var model=this._models[strURL];model.onEvents(e)}},EditorSimpleWorker.prototype.acceptRemovedModel=function(strURL){this._models[strURL]&&delete this._models[strURL]},EditorSimpleWorker.prototype.computeDiff=function(originalUrl,modifiedUrl,ignoreTrimWhitespace,maxComputationTime){return editorSimpleWorker_awaiter(this,void 0,void 0,function(){var original,modified,originalLines,modifiedLines,diffComputer,diffResult,identical;return editorSimpleWorker_generator(this,function(_a){return original=this._getModel(originalUrl),modified=this._getModel(modifiedUrl),!original||!modified?[2,null]:(originalLines=original.getLinesContent(),modifiedLines=modified.getLinesContent(),diffComputer=new DiffComputer(originalLines,modifiedLines,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:ignoreTrimWhitespace,shouldMakePrettyDiff:!0,maxComputationTime}),diffResult=diffComputer.computeDiff(),identical=diffResult.changes.length>0?!1:this._modelsAreIdentical(original,modified),[2,{quitEarly:diffResult.quitEarly,identical,changes:diffResult.changes}])})})},EditorSimpleWorker.prototype._modelsAreIdentical=function(original,modified){var originalLineCount=original.getLineCount(),modifiedLineCount=modified.getLineCount();if(originalLineCount!==modifiedLineCount)return!1;for(var line=1;line<=originalLineCount;line++){var originalLine=original.getLineContent(line),modifiedLine=modified.getLineContent(line);if(originalLine!==modifiedLine)return!1}return!0},EditorSimpleWorker.prototype.computeMoreMinimalEdits=function(modelUrl,edits){return editorSimpleWorker_awaiter(this,void 0,void 0,function(){var model,result,lastEol,_i,edits_1,_a,range,text,eol,original,changes,editOffset,_b,changes_1,change,start,end,newEdit;return editorSimpleWorker_generator(this,function(_c){if(model=this._getModel(modelUrl),!model)return[2,edits];for(result=[],lastEol=void 0,edits=Object(arrays.r)(edits,function(a,b){if(a.range&&b.range)return core_range.a.compareRangesUsingStarts(a.range,b.range);var aRng=a.range?0:1,bRng=b.range?0:1;return aRng-bRng}),_i=0,edits_1=edits;_i<edits_1.length;_i++)if(_a=edits_1[_i],range=_a.range,text=_a.text,eol=_a.eol,typeof eol=="number"&&(lastEol=eol),!(core_range.a.isEmpty(range)&&!text)&&(original=model.getValueInRange(range),text=text.replace(/\r\n|\n|\r/g,model.eol),original!==text)){if(Math.max(text.length,original.length)>EditorSimpleWorker._diffLimit){result.push({range,text});continue}for(changes=Object(diff.b)(original,text,!1),editOffset=model.offsetAt(core_range.a.lift(range).getStartPosition()),_b=0,changes_1=changes;_b<changes_1.length;_b++)change=changes_1[_b],start=model.positionAt(editOffset+change.originalStart),end=model.positionAt(editOffset+change.originalStart+change.originalLength),newEdit={text:text.substr(change.modifiedStart,change.modifiedLength),range:{startLineNumber:start.lineNumber,startColumn:start.column,endLineNumber:end.lineNumber,endColumn:end.column}},model.getValueInRange(newEdit.range)!==newEdit.text&&result.push(newEdit)}return typeof lastEol=="number"&&result.push({eol:lastEol,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),[2,result]})})},EditorSimpleWorker.prototype.computeLinks=function(modelUrl){return editorSimpleWorker_awaiter(this,void 0,void 0,function(){var model;return editorSimpleWorker_generator(this,function(_a){return model=this._getModel(modelUrl),model?[2,computeLinks(model)]:[2,null]})})},EditorSimpleWorker.prototype.textualSuggest=function(modelUrl,position,wordDef,wordDefFlags){return editorSimpleWorker_awaiter(this,void 0,void 0,function(){var model,words,seen,wordDefRegExp,wordAt,iter,e,word;return editorSimpleWorker_generator(this,function(_a){if(model=this._getModel(modelUrl),!model)return[2,null];for(words=[],seen=new Set,wordDefRegExp=new RegExp(wordDef,wordDefFlags),wordAt=model.getWordAtPosition(position,wordDefRegExp),wordAt&&seen.add(model.getValueInRange(wordAt)),iter=model.createWordIterator(wordDefRegExp),e=iter.next();!e.done&&seen.size<=EditorSimpleWorker._suggestionsLimit;e=iter.next())word=e.value,!seen.has(word)&&(seen.add(word),isNaN(Number(word))&&words.push(word));return[2,words]})})},EditorSimpleWorker.prototype.computeWordRanges=function(modelUrl,range,wordDef,wordDefFlags){return editorSimpleWorker_awaiter(this,void 0,void 0,function(){var model,wordDefRegExp,result,line,words,_i,words_1,word,array;return editorSimpleWorker_generator(this,function(_a){if(model=this._getModel(modelUrl),!model)return[2,Object.create(null)];for(wordDefRegExp=new RegExp(wordDef,wordDefFlags),result=Object.create(null),line=range.startLineNumber;line<range.endLineNumber;line++)for(words=model.getLineWords(line,wordDefRegExp),_i=0,words_1=words;_i<words_1.length;_i++)word=words_1[_i],isNaN(Number(word.word))&&(array=result[word.word],array||(array=[],result[word.word]=array),array.push({startLineNumber:line,startColumn:word.startColumn,endLineNumber:line,endColumn:word.endColumn}));return[2,result]})})},EditorSimpleWorker.prototype.navigateValueSet=function(modelUrl,range,up,wordDef,wordDefFlags){return editorSimpleWorker_awaiter(this,void 0,void 0,function(){var model,wordDefRegExp,selectionText,wordRange,word,result;return editorSimpleWorker_generator(this,function(_a){return model=this._getModel(modelUrl),model?(wordDefRegExp=new RegExp(wordDef,wordDefFlags),range.startColumn===range.endColumn&&(range={startLineNumber:range.startLineNumber,startColumn:range.startColumn,endLineNumber:range.endLineNumber,endColumn:range.endColumn+1}),selectionText=model.getValueInRange(range),wordRange=model.getWordAtPosition({lineNumber:range.startLineNumber,column:range.startColumn},wordDefRegExp),wordRange?(word=model.getValueInRange(wordRange),result=BasicInplaceReplace.INSTANCE.navigateValueSet(range,selectionText,wordRange,word,up),[2,result]):[2,null]):[2,null]})})},EditorSimpleWorker.prototype.loadForeignModule=function(moduleId,createData,foreignHostMethods){var _this=this,proxyMethodRequest=function(method,args){return _this._host.fhr(method,args)},foreignHost=types.b(foreignHostMethods,proxyMethodRequest),ctx={host:foreignHost,getMirrorModels:function(){return _this._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ctx,createData),Promise.resolve(types.c(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))},EditorSimpleWorker.prototype.fmr=function(method,args){if(!this._foreignModule||typeof this._foreignModule[method]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+method));try{return Promise.resolve(this._foreignModule[method].apply(this._foreignModule,args))}catch(e){return Promise.reject(e)}},EditorSimpleWorker._diffLimit=1e5,EditorSimpleWorker._suggestionsLimit=1e4,EditorSimpleWorker}();function editorSimpleWorker_create(host){return new editorSimpleWorker_EditorSimpleWorker(host,null)}typeof importScripts=="function"&&(platform.b.monaco=createMonacoBaseAPI());var services_modelService=__webpack_require__(2817),instantiation=__webpack_require__(2232),ITextResourceConfigurationService=Object(instantiation.c)("textResourceConfigurationService"),ITextResourcePropertiesService=Object(instantiation.c)("textResourcePropertiesService"),log=__webpack_require__(3510),stopwatch=__webpack_require__(2664),editorWorkerServiceImpl_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),editorWorkerServiceImpl_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},editorWorkerServiceImpl_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},editorWorkerServiceImpl_awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},editorWorkerServiceImpl_generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},STOP_SYNC_MODEL_DELTA_TIME_MS=60*1e3,STOP_WORKER_DELTA_TIME_MS=5*60*1e3;function canSyncModel(modelService,resource){var model=modelService.getModel(resource);return!(!model||model.isTooLargeForSyncing())}var editorWorkerServiceImpl_EditorWorkerServiceImpl=function(_super){editorWorkerServiceImpl_extends(EditorWorkerServiceImpl,_super);function EditorWorkerServiceImpl(modelService,configurationService,logService){var _this=_super.call(this)||this;return _this._modelService=modelService,_this._workerManager=_this._register(new editorWorkerServiceImpl_WorkerManager(_this._modelService)),_this._logService=logService,_this._register(modes.q.register("*",{provideLinks:function(model,token){return canSyncModel(_this._modelService,model.uri)?_this._workerManager.withWorker().then(function(client){return client.computeLinks(model.uri)}).then(function(links){return links&&{links}}):Promise.resolve({links:[]})}})),_this._register(modes.d.register("*",new editorWorkerServiceImpl_WordBasedCompletionItemProvider(_this._workerManager,configurationService,_this._modelService))),_this}return EditorWorkerServiceImpl.prototype.dispose=function(){_super.prototype.dispose.call(this)},EditorWorkerServiceImpl.prototype.canComputeDiff=function(original,modified){return canSyncModel(this._modelService,original)&&canSyncModel(this._modelService,modified)},EditorWorkerServiceImpl.prototype.computeDiff=function(original,modified,ignoreTrimWhitespace,maxComputationTime){return this._workerManager.withWorker().then(function(client){return client.computeDiff(original,modified,ignoreTrimWhitespace,maxComputationTime)})},EditorWorkerServiceImpl.prototype.computeMoreMinimalEdits=function(resource,edits){var _this=this;if(Object(arrays.q)(edits)){if(!canSyncModel(this._modelService,resource))return Promise.resolve(edits);var sw_1=stopwatch.a.create(!0),result=this._workerManager.withWorker().then(function(client){return client.computeMoreMinimalEdits(resource,edits)});return result.finally(function(){return _this._logService.trace("FORMAT#computeMoreMinimalEdits",resource.toString(!0),sw_1.elapsed())}),result}else return Promise.resolve(void 0)},EditorWorkerServiceImpl.prototype.canNavigateValueSet=function(resource){return canSyncModel(this._modelService,resource)},EditorWorkerServiceImpl.prototype.navigateValueSet=function(resource,range,up){return this._workerManager.withWorker().then(function(client){return client.navigateValueSet(resource,range,up)})},EditorWorkerServiceImpl.prototype.canComputeWordRanges=function(resource){return canSyncModel(this._modelService,resource)},EditorWorkerServiceImpl.prototype.computeWordRanges=function(resource,range){return this._workerManager.withWorker().then(function(client){return client.computeWordRanges(resource,range)})},EditorWorkerServiceImpl=editorWorkerServiceImpl_decorate([editorWorkerServiceImpl_param(0,services_modelService.a),editorWorkerServiceImpl_param(1,ITextResourceConfigurationService),editorWorkerServiceImpl_param(2,log.a)],EditorWorkerServiceImpl),EditorWorkerServiceImpl}(lifecycle.a),editorWorkerServiceImpl_WordBasedCompletionItemProvider=function(){function WordBasedCompletionItemProvider(workerManager,configurationService,modelService){this._debugDisplayName="wordbasedCompletions",this._workerManager=workerManager,this._configurationService=configurationService,this._modelService=modelService}return WordBasedCompletionItemProvider.prototype.provideCompletionItems=function(model,position){return editorWorkerServiceImpl_awaiter(this,void 0,void 0,function(){var wordBasedSuggestions,word,replace,insert,client,words;return editorWorkerServiceImpl_generator(this,function(_a){switch(_a.label){case 0:return wordBasedSuggestions=this._configurationService.getValue(model.uri,position,"editor").wordBasedSuggestions,wordBasedSuggestions?canSyncModel(this._modelService,model.uri)?(word=model.getWordAtPosition(position),replace=word?new core_range.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn):core_range.a.fromPositions(position),insert=replace.setEndPosition(position.lineNumber,position.column),[4,this._workerManager.withWorker()]):[2,void 0]:[2,void 0];case 1:return client=_a.sent(),[4,client.textualSuggest(model.uri,position)];case 2:return words=_a.sent(),words?[2,{suggestions:words.map(function(word2){return{kind:18,label:word2,insertText:word2,range:{insert,replace}}})}]:[2,void 0]}})})},WordBasedCompletionItemProvider}(),editorWorkerServiceImpl_WorkerManager=function(_super){editorWorkerServiceImpl_extends(WorkerManager,_super);function WorkerManager(modelService){var _this=_super.call(this)||this;_this._modelService=modelService,_this._editorWorkerClient=null,_this._lastWorkerUsedTime=new Date().getTime();var stopWorkerInterval=_this._register(new common_async.c);return stopWorkerInterval.cancelAndSet(function(){return _this._checkStopIdleWorker()},Math.round(STOP_WORKER_DELTA_TIME_MS/2)),_this._register(_this._modelService.onModelRemoved(function(_){return _this._checkStopEmptyWorker()})),_this}return WorkerManager.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),_super.prototype.dispose.call(this)},WorkerManager.prototype._checkStopEmptyWorker=function(){if(this._editorWorkerClient){var models=this._modelService.getModels();models.length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},WorkerManager.prototype._checkStopIdleWorker=function(){if(this._editorWorkerClient){var timeSinceLastWorkerUsedTime=new Date().getTime()-this._lastWorkerUsedTime;timeSinceLastWorkerUsedTime>STOP_WORKER_DELTA_TIME_MS&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},WorkerManager.prototype.withWorker=function(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new editorWorkerServiceImpl_EditorWorkerClient(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)},WorkerManager}(lifecycle.a),editorWorkerServiceImpl_EditorModelManager=function(_super){editorWorkerServiceImpl_extends(EditorModelManager,_super);function EditorModelManager(proxy,modelService,keepIdleModels){var _this=_super.call(this)||this;if(_this._syncedModels=Object.create(null),_this._syncedModelsLastUsedTime=Object.create(null),_this._proxy=proxy,_this._modelService=modelService,!keepIdleModels){var timer=new common_async.c;timer.cancelAndSet(function(){return _this._checkStopModelSync()},Math.round(STOP_SYNC_MODEL_DELTA_TIME_MS/2)),_this._register(timer)}return _this}return EditorModelManager.prototype.dispose=function(){for(var modelUrl in this._syncedModels)Object(lifecycle.f)(this._syncedModels[modelUrl]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),_super.prototype.dispose.call(this)},EditorModelManager.prototype.ensureSyncedResources=function(resources2){for(var _i=0,resources_1=resources2;_i<resources_1.length;_i++){var resource=resources_1[_i],resourceStr=resource.toString();this._syncedModels[resourceStr]||this._beginModelSync(resource),this._syncedModels[resourceStr]&&(this._syncedModelsLastUsedTime[resourceStr]=new Date().getTime())}},EditorModelManager.prototype._checkStopModelSync=function(){var currentTime=new Date().getTime(),toRemove=[];for(var modelUrl in this._syncedModelsLastUsedTime){var elapsedTime=currentTime-this._syncedModelsLastUsedTime[modelUrl];elapsedTime>STOP_SYNC_MODEL_DELTA_TIME_MS&&toRemove.push(modelUrl)}for(var _i=0,toRemove_1=toRemove;_i<toRemove_1.length;_i++){var e=toRemove_1[_i];this._stopModelSync(e)}},EditorModelManager.prototype._beginModelSync=function(resource){var _this=this,model=this._modelService.getModel(resource);if(model&&!model.isTooLargeForSyncing()){var modelUrl=resource.toString();this._proxy.acceptNewModel({url:model.uri.toString(),lines:model.getLinesContent(),EOL:model.getEOL(),versionId:model.getVersionId()});var toDispose=new lifecycle.b;toDispose.add(model.onDidChangeContent(function(e){_this._proxy.acceptModelChanged(modelUrl.toString(),e)})),toDispose.add(model.onWillDispose(function(){_this._stopModelSync(modelUrl)})),toDispose.add(Object(lifecycle.h)(function(){_this._proxy.acceptRemovedModel(modelUrl)})),this._syncedModels[modelUrl]=toDispose}},EditorModelManager.prototype._stopModelSync=function(modelUrl){var toDispose=this._syncedModels[modelUrl];delete this._syncedModels[modelUrl],delete this._syncedModelsLastUsedTime[modelUrl],Object(lifecycle.f)(toDispose)},EditorModelManager}(lifecycle.a),SynchronousWorkerClient=function(){function SynchronousWorkerClient2(instance){this._instance=instance,this._proxyObj=Promise.resolve(this._instance)}return SynchronousWorkerClient2.prototype.dispose=function(){this._instance.dispose()},SynchronousWorkerClient2.prototype.getProxyObject=function(){return this._proxyObj},SynchronousWorkerClient2}(),EditorWorkerHost=function(){function EditorWorkerHost2(workerClient){this._workerClient=workerClient}return EditorWorkerHost2.prototype.fhr=function(method,args){return this._workerClient.fhr(method,args)},EditorWorkerHost2}(),editorWorkerServiceImpl_EditorWorkerClient=function(_super){editorWorkerServiceImpl_extends(EditorWorkerClient,_super);function EditorWorkerClient(modelService,keepIdleModels,label){var _this=_super.call(this)||this;return _this._modelService=modelService,_this._keepIdleModels=keepIdleModels,_this._workerFactory=new defaultWorkerFactory_DefaultWorkerFactory(label),_this._worker=null,_this._modelManager=null,_this}return EditorWorkerClient.prototype.fhr=function(method,args){throw new Error("Not implemented!")},EditorWorkerClient.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new simpleWorker_SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new EditorWorkerHost(this)))}catch(err){logOnceWebWorkerWarning(err),this._worker=new SynchronousWorkerClient(new editorSimpleWorker_EditorSimpleWorker(new EditorWorkerHost(this),null))}return this._worker},EditorWorkerClient.prototype._getProxy=function(){var _this=this;return this._getOrCreateWorker().getProxyObject().then(void 0,function(err){return logOnceWebWorkerWarning(err),_this._worker=new SynchronousWorkerClient(new editorSimpleWorker_EditorSimpleWorker(new EditorWorkerHost(_this),null)),_this._getOrCreateWorker().getProxyObject()})},EditorWorkerClient.prototype._getOrCreateModelManager=function(proxy){return this._modelManager||(this._modelManager=this._register(new editorWorkerServiceImpl_EditorModelManager(proxy,this._modelService,this._keepIdleModels))),this._modelManager},EditorWorkerClient.prototype._withSyncedResources=function(resources2){var _this=this;return this._getProxy().then(function(proxy){return _this._getOrCreateModelManager(proxy).ensureSyncedResources(resources2),proxy})},EditorWorkerClient.prototype.computeDiff=function(original,modified,ignoreTrimWhitespace,maxComputationTime){return this._withSyncedResources([original,modified]).then(function(proxy){return proxy.computeDiff(original.toString(),modified.toString(),ignoreTrimWhitespace,maxComputationTime)})},EditorWorkerClient.prototype.computeMoreMinimalEdits=function(resource,edits){return this._withSyncedResources([resource]).then(function(proxy){return proxy.computeMoreMinimalEdits(resource.toString(),edits)})},EditorWorkerClient.prototype.computeLinks=function(resource){return this._withSyncedResources([resource]).then(function(proxy){return proxy.computeLinks(resource.toString())})},EditorWorkerClient.prototype.textualSuggest=function(resource,position){var _this=this;return this._withSyncedResources([resource]).then(function(proxy){var model=_this._modelService.getModel(resource);if(!model)return null;var wordDefRegExp=languageConfigurationRegistry.a.getWordDefinition(model.getLanguageIdentifier().id),wordDef=wordDefRegExp.source,wordDefFlags=Object(strings.I)(wordDefRegExp);return proxy.textualSuggest(resource.toString(),position,wordDef,wordDefFlags)})},EditorWorkerClient.prototype.computeWordRanges=function(resource,range){var _this=this;return this._withSyncedResources([resource]).then(function(proxy){var model=_this._modelService.getModel(resource);if(!model)return Promise.resolve(null);var wordDefRegExp=languageConfigurationRegistry.a.getWordDefinition(model.getLanguageIdentifier().id),wordDef=wordDefRegExp.source,wordDefFlags=Object(strings.I)(wordDefRegExp);return proxy.computeWordRanges(resource.toString(),range,wordDef,wordDefFlags)})},EditorWorkerClient.prototype.navigateValueSet=function(resource,range,up){var _this=this;return this._withSyncedResources([resource]).then(function(proxy){var model=_this._modelService.getModel(resource);if(!model)return null;var wordDefRegExp=languageConfigurationRegistry.a.getWordDefinition(model.getLanguageIdentifier().id),wordDef=wordDefRegExp.source,wordDefFlags=Object(strings.I)(wordDefRegExp);return proxy.navigateValueSet(resource.toString(),range,up,wordDef,wordDefFlags)})},EditorWorkerClient}(lifecycle.a),webWorker_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function createWebWorker(modelService,opts){return new webWorker_MonacoWebWorkerImpl(modelService,opts)}var webWorker_MonacoWebWorkerImpl=function(_super){webWorker_extends(MonacoWebWorkerImpl,_super);function MonacoWebWorkerImpl(modelService,opts){var _this=_super.call(this,modelService,opts.keepIdleModels||!1,opts.label)||this;return _this._foreignModuleId=opts.moduleId,_this._foreignModuleCreateData=opts.createData||null,_this._foreignModuleHost=opts.host||null,_this._foreignProxy=null,_this}return MonacoWebWorkerImpl.prototype.fhr=function(method,args){if(!this._foreignModuleHost||typeof this._foreignModuleHost[method]!="function")return Promise.reject(new Error("Missing method "+method+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[method].apply(this._foreignModuleHost,args))}catch(e){return Promise.reject(e)}},MonacoWebWorkerImpl.prototype._getForeignProxy=function(){var _this=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then(function(proxy){var foreignHostMethods=_this._foreignModuleHost?types.c(_this._foreignModuleHost):[];return proxy.loadForeignModule(_this._foreignModuleId,_this._foreignModuleCreateData,foreignHostMethods).then(function(foreignMethods){_this._foreignModuleCreateData=null;for(var proxyMethodRequest=function(method,args){return proxy.fmr(method,args)},createProxyMethod=function(method,proxyMethodRequest2){return function(){var args=Array.prototype.slice.call(arguments,0);return proxyMethodRequest2(method,args)}},foreignProxy={},_i=0,foreignMethods_1=foreignMethods;_i<foreignMethods_1.length;_i++){var foreignMethod=foreignMethods_1[_i];foreignProxy[foreignMethod]=createProxyMethod(foreignMethod,proxyMethodRequest)}return foreignProxy})})),this._foreignProxy},MonacoWebWorkerImpl.prototype.getProxy=function(){return this._getForeignProxy()},MonacoWebWorkerImpl.prototype.withSyncedResources=function(resources2){var _this=this;return this._withSyncedResources(resources2).then(function(_){return _this.getProxy()})},MonacoWebWorkerImpl}(editorWorkerServiceImpl_EditorWorkerClient),core_lineTokens=__webpack_require__(3283),viewLineRenderer=__webpack_require__(3377),viewModel=__webpack_require__(3197);function isFuzzyActionArr(what){return Array.isArray(what)}function isFuzzyAction(what){return!isFuzzyActionArr(what)}function isString(what){return typeof what=="string"}function isIAction(what){return!isString(what)}function empty(s){return!s}function fixCase(lexer,str){return lexer.ignoreCase&&str?str.toLowerCase():str}function sanitize(s){return s.replace(/[&<>'"_]/g,"-")}function monarchCommon_log(lexer,msg){console.log(lexer.languageId+": "+msg)}function createError(lexer,msg){return new Error(lexer.languageId+": "+msg)}function substituteMatches(lexer,str,id,matches,state){var re=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,stateMatches=null;return str.replace(re,function(full,sub,dollar,hash,n,s,attr,ofs,total){return empty(dollar)?empty(hash)?!empty(n)&&n<matches.length?fixCase(lexer,matches[n]):!empty(attr)&&lexer&&typeof lexer[attr]=="string"?lexer[attr]:(stateMatches===null&&(stateMatches=state.split("."),stateMatches.unshift(state)),!empty(s)&&s<stateMatches.length?fixCase(lexer,stateMatches[s]):""):fixCase(lexer,id):"$"})}function findRules(lexer,inState){for(var state=inState;state&&state.length>0;){var rules=lexer.tokenizer[state];if(rules)return rules;var idx=state.lastIndexOf(".");idx<0?state=null:state=state.substr(0,idx)}return null}function stateExists(lexer,inState){for(var state=inState;state&&state.length>0;){var exist=lexer.stateNames[state];if(exist)return!0;var idx=state.lastIndexOf(".");idx<0?state=null:state=state.substr(0,idx)}return!1}var CACHE_STACK_DEPTH=5,MonarchStackElementFactory=function(){function MonarchStackElementFactory2(maxCacheDepth){this._maxCacheDepth=maxCacheDepth,this._entries=Object.create(null)}return MonarchStackElementFactory2.create=function(parent,state){return this._INSTANCE.create(parent,state)},MonarchStackElementFactory2.prototype.create=function(parent,state){if(parent!==null&&parent.depth>=this._maxCacheDepth)return new MonarchStackElement(parent,state);var stackElementId=MonarchStackElement.getStackElementId(parent);stackElementId.length>0&&(stackElementId+="|"),stackElementId+=state;var result=this._entries[stackElementId];return result||(result=new MonarchStackElement(parent,state),this._entries[stackElementId]=result,result)},MonarchStackElementFactory2._INSTANCE=new MonarchStackElementFactory2(CACHE_STACK_DEPTH),MonarchStackElementFactory2}(),MonarchStackElement=function(){function MonarchStackElement2(parent,state){this.parent=parent,this.state=state,this.depth=(this.parent?this.parent.depth:0)+1}return MonarchStackElement2.getStackElementId=function(element){for(var result="";element!==null;)result.length>0&&(result+="|"),result+=element.state,element=element.parent;return result},MonarchStackElement2._equals=function(a,b){for(;a!==null&&b!==null;){if(a===b)return!0;if(a.state!==b.state)return!1;a=a.parent,b=b.parent}return a===null&&b===null},MonarchStackElement2.prototype.equals=function(other){return MonarchStackElement2._equals(this,other)},MonarchStackElement2.prototype.push=function(state){return MonarchStackElementFactory.create(this,state)},MonarchStackElement2.prototype.pop=function(){return this.parent},MonarchStackElement2.prototype.popall=function(){for(var result=this;result.parent;)result=result.parent;return result},MonarchStackElement2.prototype.switchTo=function(state){return MonarchStackElementFactory.create(this.parent,state)},MonarchStackElement2}(),EmbeddedModeData=function(){function EmbeddedModeData2(modeId,state){this.modeId=modeId,this.state=state}return EmbeddedModeData2.prototype.equals=function(other){return this.modeId===other.modeId&&this.state.equals(other.state)},EmbeddedModeData2.prototype.clone=function(){var stateClone=this.state.clone();return stateClone===this.state?this:new EmbeddedModeData2(this.modeId,this.state)},EmbeddedModeData2}(),MonarchLineStateFactory=function(){function MonarchLineStateFactory2(maxCacheDepth){this._maxCacheDepth=maxCacheDepth,this._entries=Object.create(null)}return MonarchLineStateFactory2.create=function(stack,embeddedModeData){return this._INSTANCE.create(stack,embeddedModeData)},MonarchLineStateFactory2.prototype.create=function(stack,embeddedModeData){if(embeddedModeData!==null)return new MonarchLineState(stack,embeddedModeData);if(stack!==null&&stack.depth>=this._maxCacheDepth)return new MonarchLineState(stack,embeddedModeData);var stackElementId=MonarchStackElement.getStackElementId(stack),result=this._entries[stackElementId];return result||(result=new MonarchLineState(stack,null),this._entries[stackElementId]=result,result)},MonarchLineStateFactory2._INSTANCE=new MonarchLineStateFactory2(CACHE_STACK_DEPTH),MonarchLineStateFactory2}(),MonarchLineState=function(){function MonarchLineState2(stack,embeddedModeData){this.stack=stack,this.embeddedModeData=embeddedModeData}return MonarchLineState2.prototype.clone=function(){var embeddedModeDataClone=this.embeddedModeData?this.embeddedModeData.clone():null;return embeddedModeDataClone===this.embeddedModeData?this:MonarchLineStateFactory.create(this.stack,this.embeddedModeData)},MonarchLineState2.prototype.equals=function(other){return!(other instanceof MonarchLineState2)||!this.stack.equals(other.stack)?!1:this.embeddedModeData===null&&other.embeddedModeData===null?!0:this.embeddedModeData===null||other.embeddedModeData===null?!1:this.embeddedModeData.equals(other.embeddedModeData)},MonarchLineState2}(),monarchLexer_MonarchClassicTokensCollector=function(){function MonarchClassicTokensCollector(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return MonarchClassicTokensCollector.prototype.enterMode=function(startOffset,modeId){this._language=modeId},MonarchClassicTokensCollector.prototype.emit=function(startOffset,type){this._lastTokenType===type&&this._lastTokenLanguage===this._language||(this._lastTokenType=type,this._lastTokenLanguage=this._language,this._tokens.push(new core_token.a(startOffset,type,this._language)))},MonarchClassicTokensCollector.prototype.nestedModeTokenize=function(embeddedModeLine,embeddedModeData,offsetDelta){var nestedModeId=embeddedModeData.modeId,embeddedModeState=embeddedModeData.state,nestedModeTokenizationSupport=modes.A.get(nestedModeId);if(!nestedModeTokenizationSupport)return this.enterMode(offsetDelta,nestedModeId),this.emit(offsetDelta,""),embeddedModeState;var nestedResult=nestedModeTokenizationSupport.tokenize(embeddedModeLine,embeddedModeState,offsetDelta);return this._tokens=this._tokens.concat(nestedResult.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,nestedResult.endState},MonarchClassicTokensCollector.prototype.finalize=function(endState){return new core_token.b(this._tokens,endState)},MonarchClassicTokensCollector}(),monarchLexer_MonarchModernTokensCollector=function(){function MonarchModernTokensCollector(modeService,theme){this._modeService=modeService,this._theme=theme,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return MonarchModernTokensCollector.prototype.enterMode=function(startOffset,modeId){this._currentLanguageId=this._modeService.getLanguageIdentifier(modeId).id},MonarchModernTokensCollector.prototype.emit=function(startOffset,type){var metadata=this._theme.match(this._currentLanguageId,type);this._lastTokenMetadata!==metadata&&(this._lastTokenMetadata=metadata,this._tokens.push(startOffset),this._tokens.push(metadata))},MonarchModernTokensCollector._merge=function(a,b,c){var aLen=a!==null?a.length:0,bLen=b.length,cLen=c!==null?c.length:0;if(aLen===0&&bLen===0&&cLen===0)return new Uint32Array(0);if(aLen===0&&bLen===0)return c;if(bLen===0&&cLen===0)return a;var result=new Uint32Array(aLen+bLen+cLen);a!==null&&result.set(a);for(var i=0;i<bLen;i++)result[aLen+i]=b[i];return c!==null&&result.set(c,aLen+bLen),result},MonarchModernTokensCollector.prototype.nestedModeTokenize=function(embeddedModeLine,embeddedModeData,offsetDelta){var nestedModeId=embeddedModeData.modeId,embeddedModeState=embeddedModeData.state,nestedModeTokenizationSupport=modes.A.get(nestedModeId);if(!nestedModeTokenizationSupport)return this.enterMode(offsetDelta,nestedModeId),this.emit(offsetDelta,""),embeddedModeState;var nestedResult=nestedModeTokenizationSupport.tokenize2(embeddedModeLine,embeddedModeState,offsetDelta);return this._prependTokens=MonarchModernTokensCollector._merge(this._prependTokens,this._tokens,nestedResult.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,nestedResult.endState},MonarchModernTokensCollector.prototype.finalize=function(endState){return new core_token.c(MonarchModernTokensCollector._merge(this._prependTokens,this._tokens,null),endState)},MonarchModernTokensCollector}(),monarchLexer_MonarchTokenizer=function(){function MonarchTokenizer(modeService,standaloneThemeService,modeId,lexer){var _this=this;this._modeService=modeService,this._standaloneThemeService=standaloneThemeService,this._modeId=modeId,this._lexer=lexer,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var emitting=!1;this._tokenizationRegistryListener=modes.A.onDidChange(function(e){if(!emitting){for(var isOneOfMyEmbeddedModes=!1,i=0,len=e.changedLanguages.length;i<len;i++){var language=e.changedLanguages[i];if(_this._embeddedModes[language]){isOneOfMyEmbeddedModes=!0;break}}isOneOfMyEmbeddedModes&&(emitting=!0,modes.A.fire([_this._modeId]),emitting=!1)}})}return MonarchTokenizer.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},MonarchTokenizer.prototype.getLoadStatus=function(){var promises=[];for(var nestedModeId in this._embeddedModes){var tokenizationSupport=modes.A.get(nestedModeId);if(tokenizationSupport){if(tokenizationSupport instanceof MonarchTokenizer){var nestedModeStatus=tokenizationSupport.getLoadStatus();nestedModeStatus.loaded===!1&&promises.push(nestedModeStatus.promise)}continue}var tokenizationSupportPromise=modes.A.getPromise(nestedModeId);tokenizationSupportPromise&&promises.push(tokenizationSupportPromise)}return promises.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(promises).then(function(_){})}},MonarchTokenizer.prototype.getInitialState=function(){var rootState=MonarchStackElementFactory.create(null,this._lexer.start);return MonarchLineStateFactory.create(rootState,null)},MonarchTokenizer.prototype.tokenize=function(line,lineState,offsetDelta){var tokensCollector=new monarchLexer_MonarchClassicTokensCollector,endLineState=this._tokenize(line,lineState,offsetDelta,tokensCollector);return tokensCollector.finalize(endLineState)},MonarchTokenizer.prototype.tokenize2=function(line,lineState,offsetDelta){var tokensCollector=new monarchLexer_MonarchModernTokensCollector(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),endLineState=this._tokenize(line,lineState,offsetDelta,tokensCollector);return tokensCollector.finalize(endLineState)},MonarchTokenizer.prototype._tokenize=function(line,lineState,offsetDelta,collector){return lineState.embeddedModeData?this._nestedTokenize(line,lineState,offsetDelta,collector):this._myTokenize(line,lineState,offsetDelta,collector)},MonarchTokenizer.prototype._findLeavingNestedModeOffset=function(line,state){var rules=this._lexer.tokenizer[state.stack.state];if(!rules&&(rules=findRules(this._lexer,state.stack.state),!rules))throw createError(this._lexer,"tokenizer state is not defined: "+state.stack.state);for(var popOffset=-1,hasEmbeddedPopRule=!1,_i=0,rules_1=rules;_i<rules_1.length;_i++){var rule=rules_1[_i];if(!(!isIAction(rule.action)||rule.action.nextEmbedded!=="@pop")){hasEmbeddedPopRule=!0;var regex=rule.regex,regexSource=rule.regex.source;regexSource.substr(0,4)==="^(?:"&&regexSource.substr(regexSource.length-1,1)===")"&&(regex=new RegExp(regexSource.substr(4,regexSource.length-5),regex.ignoreCase?"i":""));var result=line.search(regex);result!==-1&&(popOffset===-1||result<popOffset)&&(popOffset=result)}}if(!hasEmbeddedPopRule)throw createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+state.stack.state);return popOffset},MonarchTokenizer.prototype._nestedTokenize=function(line,lineState,offsetDelta,tokensCollector){var popOffset=this._findLeavingNestedModeOffset(line,lineState);if(popOffset===-1){var nestedEndState=tokensCollector.nestedModeTokenize(line,lineState.embeddedModeData,offsetDelta);return MonarchLineStateFactory.create(lineState.stack,new EmbeddedModeData(lineState.embeddedModeData.modeId,nestedEndState))}var nestedModeLine=line.substring(0,popOffset);nestedModeLine.length>0&&tokensCollector.nestedModeTokenize(nestedModeLine,lineState.embeddedModeData,offsetDelta);var restOfTheLine=line.substring(popOffset);return this._myTokenize(restOfTheLine,lineState,offsetDelta+popOffset,tokensCollector)},MonarchTokenizer.prototype._safeRuleName=function(rule){return rule?rule.name:"(unknown)"},MonarchTokenizer.prototype._myTokenize=function(line,lineState,offsetDelta,tokensCollector){tokensCollector.enterMode(offsetDelta,this._modeId);for(var lineLength=line.length,embeddedModeData=lineState.embeddedModeData,stack=lineState.stack,pos=0,groupMatching=null,forceEvaluation=!0;forceEvaluation||pos<lineLength;){var pos0=pos,stackLen0=stack.depth,groupLen0=groupMatching?groupMatching.groups.length:0,state=stack.state,matches=null,matched=null,action=null,rule=null,enteringEmbeddedMode=null;if(groupMatching){matches=groupMatching.matches;var groupEntry=groupMatching.groups.shift();matched=groupEntry.matched,action=groupEntry.action,rule=groupMatching.rule,groupMatching.groups.length===0&&(groupMatching=null)}else{if(!forceEvaluation&&pos>=lineLength)break;forceEvaluation=!1;var rules=this._lexer.tokenizer[state];if(!rules&&(rules=findRules(this._lexer,state),!rules))throw createError(this._lexer,"tokenizer state is not defined: "+state);for(var restOfLine=line.substr(pos),_i=0,rules_2=rules;_i<rules_2.length;_i++){var rule_1=rules_2[_i];if((pos===0||!rule_1.matchOnlyAtLineStart)&&(matches=restOfLine.match(rule_1.regex),matches)){matched=matches[0],action=rule_1.action;break}}}if(matches||(matches=[""],matched=""),action||(pos<lineLength&&(matches=[line.charAt(pos)],matched=matches[0]),action=this._lexer.defaultToken),matched===null)break;for(pos+=matched.length;isFuzzyAction(action)&&isIAction(action)&&action.test;)action=action.test(matched,matches,state,pos===lineLength);var result=null;if(typeof action=="string"||Array.isArray(action))result=action;else if(action.group)result=action.group;else if(action.token!==null&&action.token!==void 0){if(action.tokenSubst?result=substituteMatches(this._lexer,action.token,matched,matches,state):result=action.token,action.nextEmbedded)if(action.nextEmbedded==="@pop"){if(!embeddedModeData)throw createError(this._lexer,"cannot pop embedded mode if not inside one");embeddedModeData=null}else{if(embeddedModeData)throw createError(this._lexer,"cannot enter embedded mode from within an embedded mode");enteringEmbeddedMode=substituteMatches(this._lexer,action.nextEmbedded,matched,matches,state)}if(action.goBack&&(pos=Math.max(0,pos-action.goBack)),action.switchTo&&typeof action.switchTo=="string"){var nextState=substituteMatches(this._lexer,action.switchTo,matched,matches,state);if(nextState[0]==="@"&&(nextState=nextState.substr(1)),findRules(this._lexer,nextState))stack=stack.switchTo(nextState);else throw createError(this._lexer,"trying to switch to a state '"+nextState+"' that is undefined in rule: "+this._safeRuleName(rule))}else{if(action.transform&&typeof action.transform=="function")throw createError(this._lexer,"action.transform not supported");if(action.next)if(action.next==="@push"){if(stack.depth>=this._lexer.maxStack)throw createError(this._lexer,"maximum tokenizer stack size reached: ["+stack.state+","+stack.parent.state+",...]");stack=stack.push(state)}else if(action.next==="@pop"){if(stack.depth<=1)throw createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(rule));stack=stack.pop()}else if(action.next==="@popall")stack=stack.popall();else{var nextState=substituteMatches(this._lexer,action.next,matched,matches,state);if(nextState[0]==="@"&&(nextState=nextState.substr(1)),findRules(this._lexer,nextState))stack=stack.push(nextState);else throw createError(this._lexer,"trying to set a next state '"+nextState+"' that is undefined in rule: "+this._safeRuleName(rule))}}action.log&&typeof action.log=="string"&&monarchCommon_log(this._lexer,this._lexer.languageId+": "+substituteMatches(this._lexer,action.log,matched,matches,state))}if(result===null)throw createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(rule));if(Array.isArray(result)){if(groupMatching&&groupMatching.groups.length>0)throw createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(rule));if(matches.length!==result.length+1)throw createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(rule));for(var totalLen=0,i=1;i<matches.length;i++)totalLen+=matches[i].length;if(totalLen!==matched.length)throw createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(rule));groupMatching={rule,matches,groups:[]};for(var i=0;i<result.length;i++)groupMatching.groups[i]={action:result[i],matched:matches[i+1]};pos-=matched.length;continue}else{if(result==="@rematch"&&(pos-=matched.length,matched="",matches=null,result=""),matched.length===0){if(lineLength===0||stackLen0!==stack.depth||state!==stack.state||(groupMatching?groupMatching.groups.length:0)!==groupLen0)continue;throw createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(rule))}var tokenType=null;if(isString(result)&&result.indexOf("@brackets")===0){var rest=result.substr(9),bracket=findBracket(this._lexer,matched);if(!bracket)throw createError(this._lexer,"@brackets token returned but no bracket defined as: "+matched);tokenType=sanitize(bracket.token+rest)}else{var token=result===""?"":result+this._lexer.tokenPostfix;tokenType=sanitize(token)}tokensCollector.emit(pos0+offsetDelta,tokenType)}if(enteringEmbeddedMode!==null){var enteringEmbeddedModeId=this._modeService.getModeIdForLanguageName(enteringEmbeddedMode);enteringEmbeddedModeId&&(enteringEmbeddedMode=enteringEmbeddedModeId);var embeddedModeData_1=this._getNestedEmbeddedModeData(enteringEmbeddedMode);if(pos<lineLength){var restOfLine=line.substr(pos);return this._nestedTokenize(restOfLine,MonarchLineStateFactory.create(stack,embeddedModeData_1),offsetDelta+pos,tokensCollector)}else return MonarchLineStateFactory.create(stack,embeddedModeData_1)}}return MonarchLineStateFactory.create(stack,embeddedModeData)},MonarchTokenizer.prototype._getNestedEmbeddedModeData=function(mimetypeOrModeId){var nestedModeId=this._locateMode(mimetypeOrModeId);if(nestedModeId){var tokenizationSupport=modes.A.get(nestedModeId);if(tokenizationSupport)return new EmbeddedModeData(nestedModeId,tokenizationSupport.getInitialState())}return new EmbeddedModeData(nestedModeId||nullMode.b,nullMode.c)},MonarchTokenizer.prototype._locateMode=function(mimetypeOrModeId){if(!mimetypeOrModeId||!this._modeService.isRegisteredMode(mimetypeOrModeId))return null;if(mimetypeOrModeId===this._modeId)return mimetypeOrModeId;var modeId=this._modeService.getModeId(mimetypeOrModeId);return modeId&&(this._modeService.triggerMode(modeId),this._embeddedModes[modeId]=!0),modeId},MonarchTokenizer}();function findBracket(lexer,matched){if(!matched)return null;matched=fixCase(lexer,matched);for(var brackets=lexer.brackets,_i=0,brackets_1=brackets;_i<brackets_1.length;_i++){var bracket=brackets_1[_i];if(bracket.open===matched)return{token:bracket.token,bracketType:1};if(bracket.close===matched)return{token:bracket.token,bracketType:-1}}return null}function createTokenizationSupport(modeService,standaloneThemeService,modeId,lexer){return new monarchLexer_MonarchTokenizer(modeService,standaloneThemeService,modeId,lexer)}var colorizer_Colorizer=function(){function Colorizer(){}return Colorizer.colorizeElement=function(themeService,modeService,domNode,options){options=options||{};var theme=options.theme||"vs",mimeType=options.mimeType||domNode.getAttribute("lang")||domNode.getAttribute("data-lang");if(!mimeType)return console.error("Mode not detected"),Promise.resolve();themeService.setTheme(theme);var text=domNode.firstChild?domNode.firstChild.nodeValue:"";domNode.className+=" "+theme;var render=function(str){domNode.innerHTML=str};return this.colorize(modeService,text||"",mimeType,options).then(render,function(err){return console.error(err)})},Colorizer.colorize=function(modeService,text,mimeType,options){var tabSize=4;options&&typeof options.tabSize=="number"&&(tabSize=options.tabSize),strings.Q(text)&&(text=text.substr(1));var lines=text.split(/\r\n|\r|\n/),language=modeService.getModeId(mimeType);if(!language)return Promise.resolve(_fakeColorize(lines,tabSize));modeService.triggerMode(language);var tokenizationSupport=modes.A.get(language);if(tokenizationSupport)return _colorize(lines,tabSize,tokenizationSupport);var tokenizationSupportPromise=modes.A.getPromise(language);return tokenizationSupportPromise?new Promise(function(resolve,reject){tokenizationSupportPromise.then(function(tokenizationSupport2){_colorize(lines,tabSize,tokenizationSupport2).then(resolve,reject)},reject)}):new Promise(function(resolve,reject){var listener=null,timeout=null,execute=function(){listener&&(listener.dispose(),listener=null),timeout&&(timeout.dispose(),timeout=null);var tokenizationSupport2=modes.A.get(language);if(tokenizationSupport2){_colorize(lines,tabSize,tokenizationSupport2).then(resolve,reject);return}resolve(_fakeColorize(lines,tabSize))};timeout=new common_async.e,timeout.cancelAndSet(execute,500),listener=modes.A.onDidChange(function(e){e.changedLanguages.indexOf(language)>=0&&execute()})})},Colorizer.colorizeLine=function(line,mightContainNonBasicASCII,mightContainRTL,tokens,tabSize){tabSize===void 0&&(tabSize=4);var isBasicASCII=viewModel.d.isBasicASCII(line,mightContainNonBasicASCII),containsRTL=viewModel.d.containsRTL(line,isBasicASCII,mightContainRTL),renderResult=Object(viewLineRenderer.e)(new viewLineRenderer.c(!1,!0,line,!1,isBasicASCII,containsRTL,0,tokens,[],tabSize,0,-1,"none",!1,!1,null));return renderResult.html},Colorizer.colorizeModelLine=function(model,lineNumber,tabSize){tabSize===void 0&&(tabSize=4);var content=model.getLineContent(lineNumber);model.forceTokenization(lineNumber);var tokens=model.getLineTokens(lineNumber),inflatedTokens=tokens.inflate();return this.colorizeLine(content,model.mightContainNonBasicASCII(),model.mightContainRTL(),inflatedTokens,tabSize)},Colorizer}();function _colorize(lines,tabSize,tokenizationSupport){return new Promise(function(c,e){var execute=function(){var result=_actualColorize(lines,tabSize,tokenizationSupport);if(tokenizationSupport instanceof monarchLexer_MonarchTokenizer){var status_1=tokenizationSupport.getLoadStatus();if(status_1.loaded===!1){status_1.promise.then(execute,e);return}}c(result)};execute()})}function _fakeColorize(lines,tabSize){var html=[],defaultMetadata=16793600,tokens=new Uint32Array(2);tokens[0]=0,tokens[1]=defaultMetadata;for(var i=0,length_1=lines.length;i<length_1;i++){var line=lines[i];tokens[0]=line.length;var lineTokens=new core_lineTokens.a(tokens,line),isBasicASCII=viewModel.d.isBasicASCII(line,!0),containsRTL=viewModel.d.containsRTL(line,isBasicASCII,!0),renderResult=Object(viewLineRenderer.e)(new viewLineRenderer.c(!1,!0,line,!1,isBasicASCII,containsRTL,0,lineTokens,[],tabSize,0,-1,"none",!1,!1,null));html=html.concat(renderResult.html),html.push("<br/>")}return html.join("")}function _actualColorize(lines,tabSize,tokenizationSupport){for(var html=[],state=tokenizationSupport.getInitialState(),i=0,length_2=lines.length;i<length_2;i++){var line=lines[i],tokenizeResult=tokenizationSupport.tokenize2(line,state,0);core_lineTokens.a.convertToEndOffset(tokenizeResult.tokens,line.length);var lineTokens=new core_lineTokens.a(tokenizeResult.tokens,line),isBasicASCII=viewModel.d.isBasicASCII(line,!0),containsRTL=viewModel.d.containsRTL(line,isBasicASCII,!0),renderResult=Object(viewLineRenderer.e)(new viewLineRenderer.c(!1,!0,line,!1,isBasicASCII,containsRTL,0,lineTokens.inflate(),[],tabSize,0,-1,"none",!1,!1,null));html=html.concat(renderResult.html),html.push("<br/>"),state=tokenizeResult.endState}return html.join("")}var browser_keyboardEvent=__webpack_require__(3111),common_severity=__webpack_require__(3372),editorBrowser=__webpack_require__(3376),commonEditorConfig=__webpack_require__(3490),editOperation=__webpack_require__(3115),common_configuration=__webpack_require__(2786),common_map=__webpack_require__(2803),objects=__webpack_require__(2734),configurationRegistry=__webpack_require__(3280),configurationModels_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),configurationModels_spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},configurationModels_ConfigurationModel=function(){function ConfigurationModel(_contents,_keys,_overrides){_contents===void 0&&(_contents={}),_keys===void 0&&(_keys=[]),_overrides===void 0&&(_overrides=[]),this._contents=_contents,this._keys=_keys,this._overrides=_overrides,this.isFrozen=!1}return Object.defineProperty(ConfigurationModel.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:!0,configurable:!0}),Object.defineProperty(ConfigurationModel.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:!0,configurable:!0}),Object.defineProperty(ConfigurationModel.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:!0,configurable:!0}),ConfigurationModel.prototype.isEmpty=function(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0},ConfigurationModel.prototype.getValue=function(section){return section?Object(common_configuration.d)(this.contents,section):this.contents},ConfigurationModel.prototype.override=function(identifier){var overrideContents=this.getContentsForOverrideIdentifer(identifier);if(!overrideContents||typeof overrideContents!="object"||!Object.keys(overrideContents).length)return this;for(var contents={},_i=0,_a=arrays.e(configurationModels_spreadArrays(Object.keys(this.contents),Object.keys(overrideContents)));_i<_a.length;_i++){var key=_a[_i],contentsForKey=this.contents[key],overrideContentsForKey=overrideContents[key];overrideContentsForKey&&(typeof contentsForKey=="object"&&typeof overrideContentsForKey=="object"?(contentsForKey=objects.c(contentsForKey),this.mergeContents(contentsForKey,overrideContentsForKey)):contentsForKey=overrideContentsForKey),contents[key]=contentsForKey}return new ConfigurationModel(contents)},ConfigurationModel.prototype.merge=function(){for(var others=[],_i=0;_i<arguments.length;_i++)others[_i]=arguments[_i];for(var contents=objects.c(this.contents),overrides=objects.c(this.overrides),keys=configurationModels_spreadArrays(this.keys),_a=0,others_1=others;_a<others_1.length;_a++){var other=others_1[_a];this.mergeContents(contents,other.contents);for(var _loop_1=function(otherOverride2){var override=overrides.filter(function(o){return arrays.g(o.identifiers,otherOverride2.identifiers)})[0];override?this_1.mergeContents(override.contents,otherOverride2.contents):overrides.push(objects.c(otherOverride2))},this_1=this,_b=0,_c=other.overrides;_b<_c.length;_b++){var otherOverride=_c[_b];_loop_1(otherOverride)}for(var _d=0,_e=other.keys;_d<_e.length;_d++){var key=_e[_d];keys.indexOf(key)===-1&&keys.push(key)}}return new ConfigurationModel(contents,keys,overrides)},ConfigurationModel.prototype.freeze=function(){return this.isFrozen=!0,this},ConfigurationModel.prototype.mergeContents=function(source,target){for(var _i=0,_a=Object.keys(target);_i<_a.length;_i++){var key=_a[_i];if(key in source&&types.i(source[key])&&types.i(target[key])){this.mergeContents(source[key],target[key]);continue}source[key]=objects.c(target[key])}},ConfigurationModel.prototype.checkAndFreeze=function(data){return this.isFrozen&&!Object.isFrozen(data)?objects.d(data):data},ConfigurationModel.prototype.getContentsForOverrideIdentifer=function(identifier){for(var _i=0,_a=this.overrides;_i<_a.length;_i++){var override=_a[_i];if(override.identifiers.indexOf(identifier)!==-1)return override.contents}return null},ConfigurationModel.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}},ConfigurationModel.prototype.setValue=function(key,value){this.addKey(key),Object(common_configuration.b)(this.contents,key,value,function(e){throw new Error(e)})},ConfigurationModel.prototype.removeValue=function(key){this.removeKey(key)&&Object(common_configuration.h)(this.contents,key)},ConfigurationModel.prototype.addKey=function(key){for(var index=this.keys.length,i=0;i<index;i++)key.indexOf(this.keys[i])===0&&(index=i);this.keys.splice(index,1,key)},ConfigurationModel.prototype.removeKey=function(key){var index=this.keys.indexOf(key);return index!==-1?(this.keys.splice(index,1),!0):!1},ConfigurationModel}(),configurationModels_DefaultConfigurationModel=function(_super){configurationModels_extends(DefaultConfigurationModel,_super);function DefaultConfigurationModel(){for(var _this=this,contents=Object(common_configuration.e)(),keys=Object(common_configuration.c)(),overrides=[],_i=0,_a=Object.keys(contents);_i<_a.length;_i++){var key=_a[_i];configurationRegistry.b.test(key)&&overrides.push({identifiers:[Object(common_configuration.g)(key).trim()],contents:Object(common_configuration.i)(contents[key],function(message){return console.error("Conflict in default settings file: "+message)})})}return _this=_super.call(this,contents,keys,overrides)||this,_this}return DefaultConfigurationModel}(configurationModels_ConfigurationModel),configurationModels_Configuration=function(){function Configuration(_defaultConfiguration,_localUserConfiguration,_remoteUserConfiguration,_workspaceConfiguration,_folderConfigurations,_memoryConfiguration,_memoryConfigurationByResource,_freeze){_remoteUserConfiguration===void 0&&(_remoteUserConfiguration=new configurationModels_ConfigurationModel),_workspaceConfiguration===void 0&&(_workspaceConfiguration=new configurationModels_ConfigurationModel),_folderConfigurations===void 0&&(_folderConfigurations=new common_map.b),_memoryConfiguration===void 0&&(_memoryConfiguration=new configurationModels_ConfigurationModel),_memoryConfigurationByResource===void 0&&(_memoryConfigurationByResource=new common_map.b),_freeze===void 0&&(_freeze=!0),this._defaultConfiguration=_defaultConfiguration,this._localUserConfiguration=_localUserConfiguration,this._remoteUserConfiguration=_remoteUserConfiguration,this._workspaceConfiguration=_workspaceConfiguration,this._folderConfigurations=_folderConfigurations,this._memoryConfiguration=_memoryConfiguration,this._memoryConfigurationByResource=_memoryConfigurationByResource,this._freeze=_freeze,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new common_map.b,this._userConfiguration=null}return Configuration.prototype.getValue=function(section,overrides,workspace2){var consolidateConfigurationModel=this.getConsolidateConfigurationModel(overrides,workspace2);return consolidateConfigurationModel.getValue(section)},Configuration.prototype.updateValue=function(key,value,overrides){overrides===void 0&&(overrides={});var memoryConfiguration;overrides.resource?(memoryConfiguration=this._memoryConfigurationByResource.get(overrides.resource),memoryConfiguration||(memoryConfiguration=new configurationModels_ConfigurationModel,this._memoryConfigurationByResource.set(overrides.resource,memoryConfiguration))):memoryConfiguration=this._memoryConfiguration,value===void 0?memoryConfiguration.removeValue(key):memoryConfiguration.setValue(key,value),overrides.resource||(this._workspaceConsolidatedConfiguration=null)},Configuration.prototype.inspect=function(key,overrides,workspace2){var consolidateConfigurationModel=this.getConsolidateConfigurationModel(overrides,workspace2),folderConfigurationModel=this.getFolderConfigurationModelForResource(overrides.resource,workspace2),memoryConfigurationModel=overrides.resource?this._memoryConfigurationByResource.get(overrides.resource)||this._memoryConfiguration:this._memoryConfiguration;return{default:overrides.overrideIdentifier?this._defaultConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key):this._defaultConfiguration.freeze().getValue(key),user:overrides.overrideIdentifier?this.userConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key):this.userConfiguration.freeze().getValue(key),userLocal:overrides.overrideIdentifier?this.localUserConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key):this.localUserConfiguration.freeze().getValue(key),userRemote:overrides.overrideIdentifier?this.remoteUserConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key):this.remoteUserConfiguration.freeze().getValue(key),workspace:workspace2?overrides.overrideIdentifier?this._workspaceConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key):this._workspaceConfiguration.freeze().getValue(key):void 0,workspaceFolder:folderConfigurationModel?overrides.overrideIdentifier?folderConfigurationModel.freeze().override(overrides.overrideIdentifier).getValue(key):folderConfigurationModel.freeze().getValue(key):void 0,memory:overrides.overrideIdentifier?memoryConfigurationModel.override(overrides.overrideIdentifier).getValue(key):memoryConfigurationModel.getValue(key),value:consolidateConfigurationModel.getValue(key)}},Object.defineProperty(Configuration.prototype,"userConfiguration",{get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(Configuration.prototype,"localUserConfiguration",{get:function(){return this._localUserConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(Configuration.prototype,"remoteUserConfiguration",{get:function(){return this._remoteUserConfiguration},enumerable:!0,configurable:!0}),Configuration.prototype.getConsolidateConfigurationModel=function(overrides,workspace2){var configurationModel=this.getConsolidatedConfigurationModelForResource(overrides,workspace2);return overrides.overrideIdentifier?configurationModel.override(overrides.overrideIdentifier):configurationModel},Configuration.prototype.getConsolidatedConfigurationModelForResource=function(_a,workspace2){var resource=_a.resource,consolidateConfiguration=this.getWorkspaceConsolidatedConfiguration();if(workspace2&&resource){var root=workspace2.getFolder(resource);root&&(consolidateConfiguration=this.getFolderConsolidatedConfiguration(root.uri)||consolidateConfiguration);var memoryConfigurationForResource=this._memoryConfigurationByResource.get(resource);memoryConfigurationForResource&&(consolidateConfiguration=consolidateConfiguration.merge(memoryConfigurationForResource))}return consolidateConfiguration},Configuration.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration},Configuration.prototype.getFolderConsolidatedConfiguration=function(folder){var folderConsolidatedConfiguration=this._foldersConsolidatedConfigurations.get(folder);if(!folderConsolidatedConfiguration){var workspaceConsolidateConfiguration=this.getWorkspaceConsolidatedConfiguration(),folderConfiguration=this._folderConfigurations.get(folder);folderConfiguration?(folderConsolidatedConfiguration=workspaceConsolidateConfiguration.merge(folderConfiguration),this._freeze&&(folderConsolidatedConfiguration=folderConsolidatedConfiguration.freeze()),this._foldersConsolidatedConfigurations.set(folder,folderConsolidatedConfiguration)):folderConsolidatedConfiguration=workspaceConsolidateConfiguration}return folderConsolidatedConfiguration},Configuration.prototype.getFolderConfigurationModelForResource=function(resource,workspace2){if(workspace2&&resource){var root=workspace2.getFolder(resource);if(root)return this._folderConfigurations.get(root.uri)}},Configuration}(),nls=__webpack_require__(2069),abstractKeybindingService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),abstractKeybindingService_AbstractKeybindingService=function(_super){abstractKeybindingService_extends(AbstractKeybindingService,_super);function AbstractKeybindingService(_contextKeyService,_commandService,_telemetryService,_notificationService){var _this=_super.call(this)||this;return _this._contextKeyService=_contextKeyService,_this._commandService=_commandService,_this._telemetryService=_telemetryService,_this._notificationService=_notificationService,_this._onDidUpdateKeybindings=_this._register(new common_event.a),_this._currentChord=null,_this._currentChordChecker=new common_async.c,_this._currentChordStatusMessage=null,_this}return Object.defineProperty(AbstractKeybindingService.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:common_event.b.None},enumerable:!0,configurable:!0}),AbstractKeybindingService.prototype.dispose=function(){_super.prototype.dispose.call(this)},AbstractKeybindingService.prototype.getKeybindings=function(){return this._getResolver().getKeybindings()},AbstractKeybindingService.prototype.lookupKeybinding=function(commandId){var result=this._getResolver().lookupPrimaryKeybinding(commandId);if(result)return result.resolvedKeybinding},AbstractKeybindingService.prototype.softDispatch=function(e,target){var keybinding=this.resolveKeyboardEvent(e);if(keybinding.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var firstPart=keybinding.getDispatchParts()[0];if(firstPart===null)return null;var contextValue=this._contextKeyService.getContext(target),currentChord=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(contextValue,currentChord,firstPart)},AbstractKeybindingService.prototype._enterChordMode=function(firstPart,keypressLabel){var _this=this;this._currentChord={keypress:firstPart,label:keypressLabel},this._currentChordStatusMessage=this._notificationService.status(nls.a("first.chord","({0}) was pressed. Waiting for second key of chord...",keypressLabel));var chordEnterTime=Date.now();this._currentChordChecker.cancelAndSet(function(){if(!_this._documentHasFocus()){_this._leaveChordMode();return}Date.now()-chordEnterTime>5e3&&_this._leaveChordMode()},500)},AbstractKeybindingService.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null},AbstractKeybindingService.prototype._dispatch=function(e,target){return this._doDispatch(this.resolveKeyboardEvent(e),target)},AbstractKeybindingService.prototype._doDispatch=function(keybinding,target){var _this=this,shouldPreventDefault=!1;if(keybinding.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;var firstPart=keybinding.getDispatchParts()[0];if(firstPart===null)return shouldPreventDefault;var contextValue=this._contextKeyService.getContext(target),currentChord=this._currentChord?this._currentChord.keypress:null,keypressLabel=keybinding.getLabel(),resolveResult=this._getResolver().resolve(contextValue,currentChord,firstPart);return resolveResult&&resolveResult.enterChord?(shouldPreventDefault=!0,this._enterChordMode(firstPart,keypressLabel),shouldPreventDefault):(this._currentChord&&(!resolveResult||!resolveResult.commandId)&&(this._notificationService.status(nls.a("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,keypressLabel),{hideAfter:10*1e3}),shouldPreventDefault=!0),this._leaveChordMode(),resolveResult&&resolveResult.commandId&&(resolveResult.bubble||(shouldPreventDefault=!0),typeof resolveResult.commandArgs>"u"?this._commandService.executeCommand(resolveResult.commandId).then(void 0,function(err){return _this._notificationService.warn(err)}):this._commandService.executeCommand(resolveResult.commandId,resolveResult.commandArgs).then(void 0,function(err){return _this._notificationService.warn(err)}),this._telemetryService.publicLog2("workbenchActionExecuted",{id:resolveResult.commandId,from:"keybinding"})),shouldPreventDefault)},AbstractKeybindingService.prototype.mightProducePrintableCharacter=function(event){return event.ctrlKey||event.metaKey?!1:event.keyCode>=31&&event.keyCode<=56||event.keyCode>=21&&event.keyCode<=30},AbstractKeybindingService}(lifecycle.a),contextkey=__webpack_require__(2238),keybindingResolver_KeybindingResolver=function(){function KeybindingResolver(defaultKeybindings,overrides){this._defaultKeybindings=defaultKeybindings,this._defaultBoundCommands=new Map;for(var i=0,len=defaultKeybindings.length;i<len;i++){var command=defaultKeybindings[i].command;command&&this._defaultBoundCommands.set(command,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=KeybindingResolver.combine(defaultKeybindings,overrides);for(var i=0,len=this._keybindings.length;i<len;i++){var k=this._keybindings[i];k.keypressParts.length!==0&&this._addKeyPress(k.keypressParts[0],k)}}return KeybindingResolver._isTargetedForRemoval=function(defaultKb,keypressFirstPart,keypressChordPart,command,when){return!(defaultKb.command!==command||keypressFirstPart&&defaultKb.keypressParts[0]!==keypressFirstPart||keypressChordPart&&defaultKb.keypressParts[1]!==keypressChordPart||when&&(!defaultKb.when||!when.equals(defaultKb.when)))},KeybindingResolver.combine=function(defaults,rawOverrides){defaults=defaults.slice(0);for(var overrides=[],_i=0,rawOverrides_1=rawOverrides;_i<rawOverrides_1.length;_i++){var override=rawOverrides_1[_i];if(!override.command||override.command.length===0||override.command.charAt(0)!=="-"){overrides.push(override);continue}for(var command=override.command.substr(1),keypressFirstPart=override.keypressParts[0],keypressChordPart=override.keypressParts[1],when=override.when,j=defaults.length-1;j>=0;j--)this._isTargetedForRemoval(defaults[j],keypressFirstPart,keypressChordPart,command,when)&&defaults.splice(j,1)}return defaults.concat(overrides)},KeybindingResolver.prototype._addKeyPress=function(keypress,item){var conflicts=this._map.get(keypress);if(typeof conflicts>"u"){this._map.set(keypress,[item]),this._addToLookupMap(item);return}for(var i=conflicts.length-1;i>=0;i--){var conflict=conflicts[i];if(conflict.command!==item.command){var conflictIsChord=conflict.keypressParts.length>1,itemIsChord=item.keypressParts.length>1;conflictIsChord&&itemIsChord&&conflict.keypressParts[1]!==item.keypressParts[1]||KeybindingResolver.whenIsEntirelyIncluded(conflict.when,item.when)&&this._removeFromLookupMap(conflict)}}conflicts.push(item),this._addToLookupMap(item)},KeybindingResolver.prototype._addToLookupMap=function(item){if(item.command){var arr=this._lookupMap.get(item.command);typeof arr>"u"?(arr=[item],this._lookupMap.set(item.command,arr)):arr.push(item)}},KeybindingResolver.prototype._removeFromLookupMap=function(item){if(item.command){var arr=this._lookupMap.get(item.command);if(!(typeof arr>"u")){for(var i=0,len=arr.length;i<len;i++)if(arr[i]===item){arr.splice(i,1);return}}}},KeybindingResolver.whenIsEntirelyIncluded=function(a,b){return b?a?this._implies(a,b):!1:!0},KeybindingResolver._implies=function(p,q){for(var notP=p.negate(),terminals=function(node){return node instanceof contextkey.b?node.expr:[node]},expr=terminals(notP).concat(terminals(q)),i=0;i<expr.length;i++)for(var a=expr[i],notA=a.negate(),j=i+1;j<expr.length;j++){var b=expr[j];if(notA.equals(b))return!0}return!1},KeybindingResolver.prototype.getKeybindings=function(){return this._keybindings},KeybindingResolver.prototype.lookupPrimaryKeybinding=function(commandId){var items=this._lookupMap.get(commandId);return typeof items>"u"||items.length===0?null:items[items.length-1]},KeybindingResolver.prototype.resolve=function(context,currentChord,keypress){var lookupMap=null;if(currentChord!==null){var candidates=this._map.get(currentChord);if(typeof candidates>"u")return null;lookupMap=[];for(var i=0,len=candidates.length;i<len;i++){var candidate=candidates[i];candidate.keypressParts[1]===keypress&&lookupMap.push(candidate)}}else{var candidates=this._map.get(keypress);if(typeof candidates>"u")return null;lookupMap=candidates}var result=this._findCommand(context,lookupMap);return result?currentChord===null&&result.keypressParts.length>1&&result.keypressParts[1]!==null?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:result.command,commandArgs:result.commandArgs,bubble:result.bubble}:null},KeybindingResolver.prototype._findCommand=function(context,matches){for(var i=matches.length-1;i>=0;i--){var k=matches[i];if(KeybindingResolver.contextMatchesRules(context,k.when))return k}return null},KeybindingResolver.contextMatchesRules=function(context,rules){return rules?rules.evaluate(context):!0},KeybindingResolver}(),keybindingsRegistry=__webpack_require__(3234),ResolvedKeybindingItem=function(){function ResolvedKeybindingItem2(resolvedKeybinding,command,commandArgs,when,isDefault){this.resolvedKeybinding=resolvedKeybinding,this.keypressParts=resolvedKeybinding?removeElementsAfterNulls(resolvedKeybinding.getDispatchParts()):[],this.bubble=command?command.charCodeAt(0)===94:!1,this.command=this.bubble?command.substr(1):command,this.commandArgs=commandArgs,this.when=when,this.isDefault=isDefault}return ResolvedKeybindingItem2}();function removeElementsAfterNulls(arr){for(var result=[],i=0,len=arr.length;i<len;i++){var element=arr[i];if(!element)return result;result.push(element)}return result}var keybindingLabels=__webpack_require__(3880),baseResolvedKeybinding_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),baseResolvedKeybinding_BaseResolvedKeybinding=function(_super){baseResolvedKeybinding_extends(BaseResolvedKeybinding,_super);function BaseResolvedKeybinding(os,parts){var _this=_super.call(this)||this;if(parts.length===0)throw Object(errors.b)("parts");return _this._os=os,_this._parts=parts,_this}return BaseResolvedKeybinding.prototype.getLabel=function(){var _this=this;return keybindingLabels.b.toLabel(this._os,this._parts,function(keybinding){return _this._getLabel(keybinding)})},BaseResolvedKeybinding.prototype.getAriaLabel=function(){var _this=this;return keybindingLabels.a.toLabel(this._os,this._parts,function(keybinding){return _this._getAriaLabel(keybinding)})},BaseResolvedKeybinding.prototype.isChord=function(){return this._parts.length>1},BaseResolvedKeybinding.prototype.getParts=function(){var _this=this;return this._parts.map(function(keybinding){return _this._getPart(keybinding)})},BaseResolvedKeybinding.prototype._getPart=function(keybinding){return new keyCodes.d(keybinding.ctrlKey,keybinding.shiftKey,keybinding.altKey,keybinding.metaKey,this._getLabel(keybinding),this._getAriaLabel(keybinding))},BaseResolvedKeybinding.prototype.getDispatchParts=function(){var _this=this;return this._parts.map(function(keybinding){return _this._getDispatchPart(keybinding)})},BaseResolvedKeybinding}(keyCodes.c),usLayoutResolvedKeybinding_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),usLayoutResolvedKeybinding_USLayoutResolvedKeybinding=function(_super){usLayoutResolvedKeybinding_extends(USLayoutResolvedKeybinding,_super);function USLayoutResolvedKeybinding(actual,os){return _super.call(this,os,actual.parts)||this}return USLayoutResolvedKeybinding.prototype._keyCodeToUILabel=function(keyCode){if(this._os===2)switch(keyCode){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return keyCodes.b.toString(keyCode)},USLayoutResolvedKeybinding.prototype._getLabel=function(keybinding){return keybinding.isDuplicateModifierCase()?"":this._keyCodeToUILabel(keybinding.keyCode)},USLayoutResolvedKeybinding.prototype._getAriaLabel=function(keybinding){return keybinding.isDuplicateModifierCase()?"":keyCodes.b.toString(keybinding.keyCode)},USLayoutResolvedKeybinding.prototype._getDispatchPart=function(keybinding){return USLayoutResolvedKeybinding.getDispatchStr(keybinding)},USLayoutResolvedKeybinding.getDispatchStr=function(keybinding){if(keybinding.isModifierKey())return null;var result="";return keybinding.ctrlKey&&(result+="ctrl+"),keybinding.shiftKey&&(result+="shift+"),keybinding.altKey&&(result+="alt+"),keybinding.metaKey&&(result+="meta+"),result+=keyCodes.b.toString(keybinding.keyCode),result},USLayoutResolvedKeybinding}(baseResolvedKeybinding_BaseResolvedKeybinding),common_notification=__webpack_require__(2761),workspace=__webpack_require__(3511),standaloneStrings=__webpack_require__(2634),simpleServices_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),simpleServices_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},simpleServices_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},simpleServices_spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},simpleServices_SimpleModel=function(){function SimpleModel(model){this.model=model,this._onDispose=new common_event.a}return Object.defineProperty(SimpleModel.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),SimpleModel.prototype.dispose=function(){this._onDispose.fire()},SimpleModel}();function withTypedEditor(widget,codeEditorCallback,diffEditorCallback){return Object(editorBrowser.a)(widget)?codeEditorCallback(widget):diffEditorCallback(widget)}var simpleServices_SimpleEditorModelResolverService=function(){function SimpleEditorModelResolverService(modelService){this.modelService=modelService}return SimpleEditorModelResolverService.prototype.setEditor=function(editor){this.editor=editor},SimpleEditorModelResolverService.prototype.createModelReference=function(resource){var _this=this,model=null;return this.editor&&(model=withTypedEditor(this.editor,function(editor){return _this.findModel(editor,resource)},function(diffEditor){return _this.findModel(diffEditor.getOriginalEditor(),resource)||_this.findModel(diffEditor.getModifiedEditor(),resource)})),model?Promise.resolve(new lifecycle.c(new simpleServices_SimpleModel(model))):Promise.reject(new Error("Model not found"))},SimpleEditorModelResolverService.prototype.findModel=function(editor,resource){var model=this.modelService?this.modelService.getModel(resource):editor.getModel();return model&&model.uri.toString()!==resource.toString()?null:model},SimpleEditorModelResolverService}(),SimpleEditorProgressService=function(){function SimpleEditorProgressService2(){}return SimpleEditorProgressService2.prototype.show=function(){return SimpleEditorProgressService2.NULL_PROGRESS_RUNNER},SimpleEditorProgressService2.prototype.showWhile=function(promise,delay){return Promise.resolve(void 0)},SimpleEditorProgressService2.NULL_PROGRESS_RUNNER={done:function(){},total:function(){},worked:function(){}},SimpleEditorProgressService2}(),SimpleDialogService=function(){function SimpleDialogService2(){}return SimpleDialogService2}(),simpleServices_SimpleNotificationService=function(){function SimpleNotificationService(){}return SimpleNotificationService.prototype.info=function(message){return this.notify({severity:common_severity.a.Info,message})},SimpleNotificationService.prototype.warn=function(message){return this.notify({severity:common_severity.a.Warning,message})},SimpleNotificationService.prototype.error=function(error){return this.notify({severity:common_severity.a.Error,message:error})},SimpleNotificationService.prototype.notify=function(notification){switch(notification.severity){case common_severity.a.Error:console.error(notification.message);break;case common_severity.a.Warning:console.warn(notification.message);break;default:console.log(notification.message);break}return SimpleNotificationService.NO_OP},SimpleNotificationService.prototype.status=function(message,options){return lifecycle.a.None},SimpleNotificationService.NO_OP=new common_notification.b,SimpleNotificationService}(),simpleServices_StandaloneCommandService=function(){function StandaloneCommandService(instantiationService){this._onWillExecuteCommand=new common_event.a,this._onDidExecuteCommand=new common_event.a,this._instantiationService=instantiationService,this._dynamicCommands=Object.create(null)}return StandaloneCommandService.prototype.addCommand=function(command){var _this=this,id=command.id;return this._dynamicCommands[id]=command,Object(lifecycle.h)(function(){delete _this._dynamicCommands[id]})},StandaloneCommandService.prototype.executeCommand=function(id){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var command=commands.a.getCommand(id)||this._dynamicCommands[id];if(!command)return Promise.reject(new Error("command '"+id+"' not found"));try{this._onWillExecuteCommand.fire({commandId:id,args});var result=this._instantiationService.invokeFunction.apply(this._instantiationService,simpleServices_spreadArrays([command.handler],args));return this._onDidExecuteCommand.fire({commandId:id,args}),Promise.resolve(result)}catch(err){return Promise.reject(err)}},StandaloneCommandService}(),simpleServices_StandaloneKeybindingService=function(_super){simpleServices_extends(StandaloneKeybindingService,_super);function StandaloneKeybindingService(contextKeyService,commandService,telemetryService,notificationService,domNode){var _this=_super.call(this,contextKeyService,commandService,telemetryService,notificationService)||this;return _this._cachedResolver=null,_this._dynamicKeybindings=[],_this._register(dom.j(domNode,dom.d.KEY_DOWN,function(e){var keyEvent=new browser_keyboardEvent.a(e),shouldPreventDefault=_this._dispatch(keyEvent,keyEvent.target);shouldPreventDefault&&(keyEvent.preventDefault(),keyEvent.stopPropagation())})),_this}return StandaloneKeybindingService.prototype.addDynamicKeybinding=function(commandId,_keybinding,handler,when){var _this=this,keybinding=Object(keyCodes.f)(_keybinding,platform.a),toDispose=new lifecycle.b;keybinding&&(this._dynamicKeybindings.push({keybinding,command:commandId,when,weight1:1e3,weight2:0}),toDispose.add(Object(lifecycle.h)(function(){for(var i=0;i<_this._dynamicKeybindings.length;i++){var kb=_this._dynamicKeybindings[i];if(kb.command===commandId){_this._dynamicKeybindings.splice(i,1),_this.updateResolver({source:1});return}}})));var commandService=this._commandService;if(commandService instanceof simpleServices_StandaloneCommandService)toDispose.add(commandService.addCommand({id:commandId,handler}));else throw new Error("Unknown command service!");return this.updateResolver({source:1}),toDispose},StandaloneKeybindingService.prototype.updateResolver=function(event){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(event)},StandaloneKeybindingService.prototype._getResolver=function(){if(!this._cachedResolver){var defaults=this._toNormalizedKeybindingItems(keybindingsRegistry.a.getDefaultKeybindings(),!0),overrides=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new keybindingResolver_KeybindingResolver(defaults,overrides)}return this._cachedResolver},StandaloneKeybindingService.prototype._documentHasFocus=function(){return document.hasFocus()},StandaloneKeybindingService.prototype._toNormalizedKeybindingItems=function(items,isDefault){for(var result=[],resultLen=0,_i=0,items_1=items;_i<items_1.length;_i++){var item=items_1[_i],when=item.when||void 0,keybinding=item.keybinding;if(!keybinding)result[resultLen++]=new ResolvedKeybindingItem(void 0,item.command,item.commandArgs,when,isDefault);else for(var resolvedKeybindings=this.resolveKeybinding(keybinding),_a=0,resolvedKeybindings_1=resolvedKeybindings;_a<resolvedKeybindings_1.length;_a++){var resolvedKeybinding=resolvedKeybindings_1[_a];result[resultLen++]=new ResolvedKeybindingItem(resolvedKeybinding,item.command,item.commandArgs,when,isDefault)}}return result},StandaloneKeybindingService.prototype.resolveKeybinding=function(keybinding){return[new usLayoutResolvedKeybinding_USLayoutResolvedKeybinding(keybinding,platform.a)]},StandaloneKeybindingService.prototype.resolveKeyboardEvent=function(keyboardEvent){var keybinding=new keyCodes.e(keyboardEvent.ctrlKey,keyboardEvent.shiftKey,keyboardEvent.altKey,keyboardEvent.metaKey,keyboardEvent.keyCode).toChord();return new usLayoutResolvedKeybinding_USLayoutResolvedKeybinding(keybinding,platform.a)},StandaloneKeybindingService}(abstractKeybindingService_AbstractKeybindingService);function isConfigurationOverrides(thing){return thing&&typeof thing=="object"&&(!thing.overrideIdentifier||typeof thing.overrideIdentifier=="string")&&(!thing.resource||thing.resource instanceof common_uri.a)}var simpleServices_SimpleConfigurationService=function(){function SimpleConfigurationService(){this._onDidChangeConfiguration=new common_event.a,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new configurationModels_Configuration(new configurationModels_DefaultConfigurationModel,new configurationModels_ConfigurationModel)}return SimpleConfigurationService.prototype.configuration=function(){return this._configuration},SimpleConfigurationService.prototype.getValue=function(arg1,arg2){var section=typeof arg1=="string"?arg1:void 0,overrides=isConfigurationOverrides(arg1)?arg1:isConfigurationOverrides(arg2)?arg2:{};return this.configuration().getValue(section,overrides,void 0)},SimpleConfigurationService.prototype.updateValue=function(key,value,arg3,arg4){return this.configuration().updateValue(key,value),Promise.resolve()},SimpleConfigurationService.prototype.inspect=function(key,options){return options===void 0&&(options={}),this.configuration().inspect(key,options,void 0)},SimpleConfigurationService}(),simpleServices_SimpleResourceConfigurationService=function(){function SimpleResourceConfigurationService(configurationService){var _this=this;this.configurationService=configurationService,this._onDidChangeConfiguration=new common_event.a,this.configurationService.onDidChangeConfiguration(function(e){_this._onDidChangeConfiguration.fire(e)})}return SimpleResourceConfigurationService.prototype.getValue=function(resource,arg2,arg3){var position=core_position.a.isIPosition(arg2)?arg2:null,section=position?typeof arg3=="string"?arg3:void 0:typeof arg2=="string"?arg2:void 0;return typeof section>"u"?this.configurationService.getValue():this.configurationService.getValue(section)},SimpleResourceConfigurationService}(),simpleServices_SimpleResourcePropertiesService=function(){function SimpleResourcePropertiesService(configurationService){this.configurationService=configurationService}return SimpleResourcePropertiesService.prototype.getEOL=function(resource,language){var eol=this.configurationService.getValue("files.eol",{overrideIdentifier:language,resource});return eol&&eol!=="auto"?eol:platform.d||platform.e?`
`:`\r
`},SimpleResourcePropertiesService=simpleServices_decorate([simpleServices_param(0,common_configuration.a)],SimpleResourcePropertiesService),SimpleResourcePropertiesService}(),StandaloneTelemetryService=function(){function StandaloneTelemetryService2(){}return StandaloneTelemetryService2.prototype.publicLog=function(eventName,data){return Promise.resolve(void 0)},StandaloneTelemetryService2.prototype.publicLog2=function(eventName,data){return this.publicLog(eventName,data)},StandaloneTelemetryService2}(),simpleServices_SimpleWorkspaceContextService=function(){function SimpleWorkspaceContextService(){var resource=common_uri.a.from({scheme:SimpleWorkspaceContextService.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new workspace.b({uri:resource,name:"",index:0})]}}return SimpleWorkspaceContextService.prototype.getWorkspace=function(){return this.workspace},SimpleWorkspaceContextService.prototype.getWorkspaceFolder=function(resource){return resource&&resource.scheme===SimpleWorkspaceContextService.SCHEME?this.workspace.folders[0]:null},SimpleWorkspaceContextService.SCHEME="inmemory",SimpleWorkspaceContextService}();function applyConfigurationValues(configurationService,source,isDiffEditor){source&&configurationService instanceof simpleServices_SimpleConfigurationService&&Object.keys(source).forEach(function(key){Object(commonEditorConfig.d)(key)&&configurationService.updateValue("editor."+key,source[key]),isDiffEditor&&Object(commonEditorConfig.c)(key)&&configurationService.updateValue("diffEditor."+key,source[key])})}var simpleServices_SimpleBulkEditService=function(){function SimpleBulkEditService(_modelService){this._modelService=_modelService}return SimpleBulkEditService.prototype.apply=function(workspaceEdit,options){var edits=new Map;if(workspaceEdit.edits)for(var _i=0,_a=workspaceEdit.edits;_i<_a.length;_i++){var edit=_a[_i];if(!Object(modes.F)(edit))return Promise.reject(new Error("bad edit - only text edits are supported"));var model=this._modelService.getModel(edit.resource);if(!model)return Promise.reject(new Error("bad edit - model not found"));var array=edits.get(model);array||(array=[]),edits.set(model,array.concat(edit.edits))}var totalEdits=0,totalFiles=0;return edits.forEach(function(edits2,model2){model2.pushStackElement(),model2.pushEditOperations([],edits2.map(function(e){return editOperation.a.replaceMove(core_range.a.lift(e.range),e.text)}),function(){return[]}),model2.pushStackElement(),totalFiles+=1,totalEdits+=edits2.length}),Promise.resolve({selection:void 0,ariaSummary:strings.r(standaloneStrings.f.bulkEditServiceSummary,totalEdits,totalFiles)})},SimpleBulkEditService}(),SimpleUriLabelService=function(){function SimpleUriLabelService2(){}return SimpleUriLabelService2.prototype.getUriLabel=function(resource,options){return resource.scheme==="file"?resource.fsPath:resource.path},SimpleUriLabelService2}(),simpleServices_SimpleLayoutService=function(){function SimpleLayoutService(_container){this._container=_container,this.onLayout=common_event.b.None}return Object.defineProperty(SimpleLayoutService.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),SimpleLayoutService}(),browser=__webpack_require__(2642),aria=__webpack_require__(2815),codeEditorWidget=__webpack_require__(2653),diffEditorWidget=__webpack_require__(2717),editorAction=__webpack_require__(3878),common_standaloneThemeService=__webpack_require__(3286),common_actions=__webpack_require__(3164),contextView=__webpack_require__(3114),common_keybinding=__webpack_require__(2760),common_themeService=__webpack_require__(2235),accessibility=__webpack_require__(3167),common_clipboardService=__webpack_require__(3501),progress=__webpack_require__(3194),standaloneCodeEditor_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),standaloneCodeEditor_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},standaloneCodeEditor_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},LAST_GENERATED_COMMAND_ID=0,ariaDomNodeCreated=!1;function createAriaDomNode(){ariaDomNodeCreated||(ariaDomNodeCreated=!0,aria.b(document.body))}var standaloneCodeEditor_StandaloneCodeEditor=function(_super){standaloneCodeEditor_extends(StandaloneCodeEditor,_super);function StandaloneCodeEditor(domElement,options,instantiationService,codeEditorService,commandService,contextKeyService,keybindingService,themeService,notificationService,accessibilityService){var _this=this;return options=options||{},options.ariaLabel=options.ariaLabel||standaloneStrings.g.editorViewAccessibleLabel,options.ariaLabel=options.ariaLabel+";"+(browser.i?standaloneStrings.g.accessibilityHelpMessageIE:standaloneStrings.g.accessibilityHelpMessage),_this=_super.call(this,domElement,options,{},instantiationService,codeEditorService,commandService,contextKeyService,themeService,notificationService,accessibilityService)||this,keybindingService instanceof simpleServices_StandaloneKeybindingService?_this._standaloneKeybindingService=keybindingService:_this._standaloneKeybindingService=null,createAriaDomNode(),_this}return StandaloneCodeEditor.prototype.addCommand=function(keybinding,handler,context){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var commandId="DYNAMIC_"+ ++LAST_GENERATED_COMMAND_ID,whenExpression=contextkey.a.deserialize(context);return this._standaloneKeybindingService.addDynamicKeybinding(commandId,keybinding,handler,whenExpression),commandId},StandaloneCodeEditor.prototype.createContextKey=function(key,defaultValue){return this._contextKeyService.createKey(key,defaultValue)},StandaloneCodeEditor.prototype.addAction=function(_descriptor){var _this=this;if(typeof _descriptor.id!="string"||typeof _descriptor.label!="string"||typeof _descriptor.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),lifecycle.a.None;var id=_descriptor.id,label=_descriptor.label,precondition=contextkey.a.and(contextkey.a.equals("editorId",this.getId()),contextkey.a.deserialize(_descriptor.precondition)),keybindings=_descriptor.keybindings,keybindingsWhen=contextkey.a.and(precondition,contextkey.a.deserialize(_descriptor.keybindingContext)),contextMenuGroupId=_descriptor.contextMenuGroupId||null,contextMenuOrder=_descriptor.contextMenuOrder||0,run=function(){return Promise.resolve(_descriptor.run(_this))},toDispose=new lifecycle.b,uniqueId=this.getId()+":"+id;if(toDispose.add(commands.a.registerCommand(uniqueId,run)),contextMenuGroupId){var menuItem={command:{id:uniqueId,title:label},when:precondition,group:contextMenuGroupId,order:contextMenuOrder};toDispose.add(common_actions.c.appendMenuItem(7,menuItem))}if(Array.isArray(keybindings))for(var _i=0,keybindings_1=keybindings;_i<keybindings_1.length;_i++){var kb=keybindings_1[_i];toDispose.add(this._standaloneKeybindingService.addDynamicKeybinding(uniqueId,kb,run,keybindingsWhen))}var internalAction=new editorAction.a(uniqueId,label,label,precondition,run,this._contextKeyService);return this._actions[id]=internalAction,toDispose.add(Object(lifecycle.h)(function(){delete _this._actions[id]})),toDispose},StandaloneCodeEditor=standaloneCodeEditor_decorate([standaloneCodeEditor_param(2,instantiation.a),standaloneCodeEditor_param(3,services_codeEditorService.a),standaloneCodeEditor_param(4,commands.b),standaloneCodeEditor_param(5,contextkey.c),standaloneCodeEditor_param(6,common_keybinding.a),standaloneCodeEditor_param(7,common_themeService.c),standaloneCodeEditor_param(8,common_notification.a),standaloneCodeEditor_param(9,accessibility.b)],StandaloneCodeEditor),StandaloneCodeEditor}(codeEditorWidget.a),standaloneCodeEditor_StandaloneEditor=function(_super){standaloneCodeEditor_extends(StandaloneEditor,_super);function StandaloneEditor(domElement,options,toDispose,instantiationService,codeEditorService,commandService,contextKeyService,keybindingService,contextViewService,themeService,notificationService,configurationService,accessibilityService){var _this=this;applyConfigurationValues(configurationService,options,!1),options=options||{},typeof options.theme=="string"&&themeService.setTheme(options.theme);var _model=options.model;delete options.model,_this=_super.call(this,domElement,options,instantiationService,codeEditorService,commandService,contextKeyService,keybindingService,themeService,notificationService,accessibilityService)||this,_this._contextViewService=contextViewService,_this._configurationService=configurationService,_this._register(toDispose);var model;if(typeof _model>"u"?(model=self.monaco.editor.createModel(options.value||"",options.language||"text/plain"),_this._ownsModel=!0):(model=_model,_this._ownsModel=!1),_this._attachModel(model),model){var e={oldModelUrl:null,newModelUrl:model.uri};_this._onDidChangeModel.fire(e)}return _this}return StandaloneEditor.prototype.dispose=function(){_super.prototype.dispose.call(this)},StandaloneEditor.prototype.updateOptions=function(newOptions){applyConfigurationValues(this._configurationService,newOptions,!1),_super.prototype.updateOptions.call(this,newOptions)},StandaloneEditor.prototype._attachModel=function(model){_super.prototype._attachModel.call(this,model),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)},StandaloneEditor.prototype._postDetachModelCleanup=function(detachedModel){_super.prototype._postDetachModelCleanup.call(this,detachedModel),detachedModel&&this._ownsModel&&(detachedModel.dispose(),this._ownsModel=!1)},StandaloneEditor=standaloneCodeEditor_decorate([standaloneCodeEditor_param(3,instantiation.a),standaloneCodeEditor_param(4,services_codeEditorService.a),standaloneCodeEditor_param(5,commands.b),standaloneCodeEditor_param(6,contextkey.c),standaloneCodeEditor_param(7,common_keybinding.a),standaloneCodeEditor_param(8,contextView.b),standaloneCodeEditor_param(9,common_standaloneThemeService.a),standaloneCodeEditor_param(10,common_notification.a),standaloneCodeEditor_param(11,common_configuration.a),standaloneCodeEditor_param(12,accessibility.b)],StandaloneEditor),StandaloneEditor}(standaloneCodeEditor_StandaloneCodeEditor),standaloneCodeEditor_StandaloneDiffEditor=function(_super){standaloneCodeEditor_extends(StandaloneDiffEditor,_super);function StandaloneDiffEditor(domElement,options,toDispose,instantiationService,contextKeyService,keybindingService,contextViewService,editorWorkerService,codeEditorService,themeService,notificationService,configurationService,contextMenuService,editorProgressService,clipboardService){var _this=this;return applyConfigurationValues(configurationService,options,!0),options=options||{},typeof options.theme=="string"&&(options.theme=themeService.setTheme(options.theme)),_this=_super.call(this,domElement,options,clipboardService,editorWorkerService,contextKeyService,instantiationService,codeEditorService,themeService,notificationService,contextMenuService,editorProgressService)||this,_this._contextViewService=contextViewService,_this._configurationService=configurationService,_this._register(toDispose),_this._contextViewService.setContainer(_this._containerDomElement),_this}return StandaloneDiffEditor.prototype.dispose=function(){_super.prototype.dispose.call(this)},StandaloneDiffEditor.prototype.updateOptions=function(newOptions){applyConfigurationValues(this._configurationService,newOptions,!0),_super.prototype.updateOptions.call(this,newOptions)},StandaloneDiffEditor.prototype._createInnerEditor=function(instantiationService,container,options){return instantiationService.createInstance(standaloneCodeEditor_StandaloneCodeEditor,container,options)},StandaloneDiffEditor.prototype.getOriginalEditor=function(){return _super.prototype.getOriginalEditor.call(this)},StandaloneDiffEditor.prototype.getModifiedEditor=function(){return _super.prototype.getModifiedEditor.call(this)},StandaloneDiffEditor.prototype.addCommand=function(keybinding,handler,context){return this.getModifiedEditor().addCommand(keybinding,handler,context)},StandaloneDiffEditor.prototype.createContextKey=function(key,defaultValue){return this.getModifiedEditor().createContextKey(key,defaultValue)},StandaloneDiffEditor.prototype.addAction=function(descriptor){return this.getModifiedEditor().addAction(descriptor)},StandaloneDiffEditor=standaloneCodeEditor_decorate([standaloneCodeEditor_param(3,instantiation.a),standaloneCodeEditor_param(4,contextkey.c),standaloneCodeEditor_param(5,common_keybinding.a),standaloneCodeEditor_param(6,contextView.b),standaloneCodeEditor_param(7,services_editorWorkerService.a),standaloneCodeEditor_param(8,services_codeEditorService.a),standaloneCodeEditor_param(9,common_standaloneThemeService.a),standaloneCodeEditor_param(10,common_notification.a),standaloneCodeEditor_param(11,common_configuration.a),standaloneCodeEditor_param(12,contextView.a),standaloneCodeEditor_param(13,progress.a),standaloneCodeEditor_param(14,Object(instantiation.d)(common_clipboardService.a))],StandaloneDiffEditor),StandaloneDiffEditor}(diffEditorWidget.a),bulkEditService=__webpack_require__(3497),services_modeService=__webpack_require__(3198),FrankensteinMode=function(){function FrankensteinMode2(languageIdentifier){this._languageIdentifier=languageIdentifier}return FrankensteinMode2.prototype.getId=function(){return this._languageIdentifier.language},FrankensteinMode2}(),common_path=__webpack_require__(3236),glob=__webpack_require__(3864),MIME_TEXT="text/plain",MIME_UNKNOWN="application/unknown",registeredAssociations=[],nonUserRegisteredAssociations=[],userRegisteredAssociations=[];function registerTextMime(association,warnOnOverwrite){warnOnOverwrite===void 0&&(warnOnOverwrite=!1);var associationItem=toTextMimeAssociationItem(association);registeredAssociations.push(associationItem),associationItem.userConfigured?userRegisteredAssociations.push(associationItem):nonUserRegisteredAssociations.push(associationItem),warnOnOverwrite&&!associationItem.userConfigured&&registeredAssociations.forEach(function(a){a.mime===associationItem.mime||a.userConfigured||(associationItem.extension&&a.extension===associationItem.extension&&console.warn("Overwriting extension <<"+associationItem.extension+">> to now point to mime <<"+associationItem.mime+">>"),associationItem.filename&&a.filename===associationItem.filename&&console.warn("Overwriting filename <<"+associationItem.filename+">> to now point to mime <<"+associationItem.mime+">>"),associationItem.filepattern&&a.filepattern===associationItem.filepattern&&console.warn("Overwriting filepattern <<"+associationItem.filepattern+">> to now point to mime <<"+associationItem.mime+">>"),associationItem.firstline&&a.firstline===associationItem.firstline&&console.warn("Overwriting firstline <<"+associationItem.firstline+">> to now point to mime <<"+associationItem.mime+">>"))})}function toTextMimeAssociationItem(association){return{id:association.id,mime:association.mime,filename:association.filename,extension:association.extension,filepattern:association.filepattern,firstline:association.firstline,userConfigured:association.userConfigured,filenameLowercase:association.filename?association.filename.toLowerCase():void 0,extensionLowercase:association.extension?association.extension.toLowerCase():void 0,filepatternLowercase:association.filepattern?association.filepattern.toLowerCase():void 0,filepatternOnPath:association.filepattern?association.filepattern.indexOf(common_path.posix.sep)>=0:!1}}function guessMimeTypes(resource,firstLine){var path;if(resource)switch(resource.scheme){case network.b.file:path=resource.fsPath;break;case network.b.data:var metadata=resources.a.parseMetaData(resource);path=metadata.get(resources.a.META_DATA_LABEL);break;default:path=resource.path}if(!path)return[MIME_UNKNOWN];path=path.toLowerCase();var filename=Object(common_path.basename)(path),configuredMime=guessMimeTypeByPath(path,filename,userRegisteredAssociations);if(configuredMime)return[configuredMime,MIME_TEXT];var registeredMime=guessMimeTypeByPath(path,filename,nonUserRegisteredAssociations);if(registeredMime)return[registeredMime,MIME_TEXT];if(firstLine){var firstlineMime=guessMimeTypeByFirstline(firstLine);if(firstlineMime)return[firstlineMime,MIME_TEXT]}return[MIME_UNKNOWN]}function guessMimeTypeByPath(path,filename,associations){for(var filenameMatch=null,patternMatch=null,extensionMatch=null,i=associations.length-1;i>=0;i--){var association=associations[i];if(filename===association.filenameLowercase){filenameMatch=association;break}if(association.filepattern&&(!patternMatch||association.filepattern.length>patternMatch.filepattern.length)){var target=association.filepatternOnPath?path:filename;Object(glob.a)(association.filepatternLowercase,target)&&(patternMatch=association)}association.extension&&(!extensionMatch||association.extension.length>extensionMatch.extension.length)&&Object(strings.m)(filename,association.extensionLowercase)&&(extensionMatch=association)}return filenameMatch?filenameMatch.mime:patternMatch?patternMatch.mime:extensionMatch?extensionMatch.mime:null}function guessMimeTypeByFirstline(firstLine){if(Object(strings.Q)(firstLine)&&(firstLine=firstLine.substr(1)),firstLine.length>0)for(var i=registeredAssociations.length-1;i>=0;i--){var association=registeredAssociations[i];if(association.firstline){var matches=firstLine.match(association.firstline);if(matches&&matches.length>0)return association.mime}}return null}var modesRegistry=__webpack_require__(3383),common_platform=__webpack_require__(2818),languagesRegistry_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),languagesRegistry_hasOwnProperty=Object.prototype.hasOwnProperty,languagesRegistry_LanguagesRegistry=function(_super){languagesRegistry_extends(LanguagesRegistry,_super);function LanguagesRegistry(useModesRegistry,warnOnOverwrite){useModesRegistry===void 0&&(useModesRegistry=!0),warnOnOverwrite===void 0&&(warnOnOverwrite=!1);var _this=_super.call(this)||this;return _this._onDidChange=_this._register(new common_event.a),_this.onDidChange=_this._onDidChange.event,_this._warnOnOverwrite=warnOnOverwrite,_this._nextLanguageId2=1,_this._languageIdToLanguage=[],_this._languageToLanguageId=Object.create(null),_this._languages={},_this._mimeTypesMap={},_this._nameMap={},_this._lowercaseNameMap={},useModesRegistry&&(_this._initializeFromRegistry(),_this._register(modesRegistry.a.onDidChangeLanguages(function(m){return _this._initializeFromRegistry()}))),_this}return LanguagesRegistry.prototype._initializeFromRegistry=function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};var desc=modesRegistry.a.getLanguages();this._registerLanguages(desc)},LanguagesRegistry.prototype._registerLanguages=function(desc){for(var _this=this,_i=0,desc_1=desc;_i<desc_1.length;_i++){var d=desc_1[_i];this._registerLanguage(d)}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(langId){var language=_this._languages[langId];language.name&&(_this._nameMap[language.name]=language.identifier),language.aliases.forEach(function(alias){_this._lowercaseNameMap[alias.toLowerCase()]=language.identifier}),language.mimetypes.forEach(function(mimetype){_this._mimeTypesMap[mimetype]=language.identifier})}),common_platform.a.as(configurationRegistry.a.Configuration).registerOverrideIdentifiers(modesRegistry.a.getLanguages().map(function(language){return language.id})),this._onDidChange.fire()},LanguagesRegistry.prototype._getLanguageId=function(language){if(this._languageToLanguageId[language])return this._languageToLanguageId[language];var languageId=this._nextLanguageId2++;return this._languageIdToLanguage[languageId]=language,this._languageToLanguageId[language]=languageId,languageId},LanguagesRegistry.prototype._registerLanguage=function(lang){var langId=lang.id,resolvedLanguage;if(languagesRegistry_hasOwnProperty.call(this._languages,langId))resolvedLanguage=this._languages[langId];else{var languageId=this._getLanguageId(langId);resolvedLanguage={identifier:new modes.p(langId,languageId),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[langId]=resolvedLanguage}this._mergeLanguage(resolvedLanguage,lang)},LanguagesRegistry.prototype._mergeLanguage=function(resolvedLanguage,lang){var _a,langId=lang.id,primaryMime=null;if(Array.isArray(lang.mimetypes)&&lang.mimetypes.length>0&&((_a=resolvedLanguage.mimetypes).push.apply(_a,lang.mimetypes),primaryMime=lang.mimetypes[0]),primaryMime||(primaryMime="text/x-"+langId,resolvedLanguage.mimetypes.push(primaryMime)),Array.isArray(lang.extensions))for(var _i=0,_b=lang.extensions;_i<_b.length;_i++){var extension=_b[_i];registerTextMime({id:langId,mime:primaryMime,extension},this._warnOnOverwrite),resolvedLanguage.extensions.push(extension)}if(Array.isArray(lang.filenames))for(var _c=0,_d=lang.filenames;_c<_d.length;_c++){var filename=_d[_c];registerTextMime({id:langId,mime:primaryMime,filename},this._warnOnOverwrite),resolvedLanguage.filenames.push(filename)}if(Array.isArray(lang.filenamePatterns))for(var _e=0,_f=lang.filenamePatterns;_e<_f.length;_e++){var filenamePattern=_f[_e];registerTextMime({id:langId,mime:primaryMime,filepattern:filenamePattern},this._warnOnOverwrite)}if(typeof lang.firstLine=="string"&&lang.firstLine.length>0){var firstLineRegexStr=lang.firstLine;firstLineRegexStr.charAt(0)!=="^"&&(firstLineRegexStr="^"+firstLineRegexStr);try{var firstLineRegex=new RegExp(firstLineRegexStr);strings.J(firstLineRegex)||registerTextMime({id:langId,mime:primaryMime,firstline:firstLineRegex},this._warnOnOverwrite)}catch(err){Object(errors.e)(err)}}resolvedLanguage.aliases.push(langId);var langAliases=null;if(typeof lang.aliases<"u"&&Array.isArray(lang.aliases)&&(lang.aliases.length===0?langAliases=[null]:langAliases=lang.aliases),langAliases!==null)for(var _g=0,langAliases_1=langAliases;_g<langAliases_1.length;_g++){var langAlias=langAliases_1[_g];!langAlias||langAlias.length===0||resolvedLanguage.aliases.push(langAlias)}var containsAliases=langAliases!==null&&langAliases.length>0;if(!(containsAliases&&langAliases[0]===null)){var bestName=(containsAliases?langAliases[0]:null)||langId;(containsAliases||!resolvedLanguage.name)&&(resolvedLanguage.name=bestName)}lang.configuration&&resolvedLanguage.configurationFiles.push(lang.configuration)},LanguagesRegistry.prototype.isRegisteredMode=function(mimetypeOrModeId){return languagesRegistry_hasOwnProperty.call(this._mimeTypesMap,mimetypeOrModeId)?!0:languagesRegistry_hasOwnProperty.call(this._languages,mimetypeOrModeId)},LanguagesRegistry.prototype.getModeIdForLanguageNameLowercase=function(languageNameLower){return languagesRegistry_hasOwnProperty.call(this._lowercaseNameMap,languageNameLower)?this._lowercaseNameMap[languageNameLower].language:null},LanguagesRegistry.prototype.extractModeIds=function(commaSeparatedMimetypesOrCommaSeparatedIds){var _this=this;return commaSeparatedMimetypesOrCommaSeparatedIds?commaSeparatedMimetypesOrCommaSeparatedIds.split(",").map(function(mimeTypeOrId){return mimeTypeOrId.trim()}).map(function(mimeTypeOrId){return languagesRegistry_hasOwnProperty.call(_this._mimeTypesMap,mimeTypeOrId)?_this._mimeTypesMap[mimeTypeOrId].language:mimeTypeOrId}).filter(function(modeId){return languagesRegistry_hasOwnProperty.call(_this._languages,modeId)}):[]},LanguagesRegistry.prototype.getLanguageIdentifier=function(_modeId){if(_modeId===nullMode.b||_modeId===0)return nullMode.a;var modeId;if(typeof _modeId=="string")modeId=_modeId;else if(modeId=this._languageIdToLanguage[_modeId],!modeId)return null;return languagesRegistry_hasOwnProperty.call(this._languages,modeId)?this._languages[modeId].identifier:null},LanguagesRegistry.prototype.getModeIdsFromFilepathOrFirstLine=function(resource,firstLine){if(!resource&&!firstLine)return[];var mimeTypes=guessMimeTypes(resource,firstLine);return this.extractModeIds(mimeTypes.join(","))},LanguagesRegistry}(lifecycle.a),modeServiceImpl_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),modeServiceImpl_LanguageSelection=function(_super){modeServiceImpl_extends(LanguageSelection,_super);function LanguageSelection(onLanguagesMaybeChanged,selector){var _this=_super.call(this)||this;return _this._onDidChange=_this._register(new common_event.a),_this.onDidChange=_this._onDidChange.event,_this._selector=selector,_this.languageIdentifier=_this._selector(),_this._register(onLanguagesMaybeChanged(function(){return _this._evaluate()})),_this}return LanguageSelection.prototype._evaluate=function(){var languageIdentifier=this._selector();languageIdentifier.id!==this.languageIdentifier.id&&(this.languageIdentifier=languageIdentifier,this._onDidChange.fire(this.languageIdentifier))},LanguageSelection}(lifecycle.a),modeServiceImpl_ModeServiceImpl=function(){function ModeServiceImpl(warnOnOverwrite){var _this=this;warnOnOverwrite===void 0&&(warnOnOverwrite=!1),this._onDidCreateMode=new common_event.a,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new common_event.a,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new languagesRegistry_LanguagesRegistry(!0,warnOnOverwrite),this._registry.onDidChange(function(){return _this._onLanguagesMaybeChanged.fire()})}return ModeServiceImpl.prototype.isRegisteredMode=function(mimetypeOrModeId){return this._registry.isRegisteredMode(mimetypeOrModeId)},ModeServiceImpl.prototype.getModeIdForLanguageName=function(alias){return this._registry.getModeIdForLanguageNameLowercase(alias)},ModeServiceImpl.prototype.getModeIdByFilepathOrFirstLine=function(resource,firstLine){var modeIds=this._registry.getModeIdsFromFilepathOrFirstLine(resource,firstLine);return Object(arrays.l)(modeIds,null)},ModeServiceImpl.prototype.getModeId=function(commaSeparatedMimetypesOrCommaSeparatedIds){var modeIds=this._registry.extractModeIds(commaSeparatedMimetypesOrCommaSeparatedIds);return Object(arrays.l)(modeIds,null)},ModeServiceImpl.prototype.getLanguageIdentifier=function(modeId){return this._registry.getLanguageIdentifier(modeId)},ModeServiceImpl.prototype.create=function(commaSeparatedMimetypesOrCommaSeparatedIds){var _this=this;return new modeServiceImpl_LanguageSelection(this.onLanguagesMaybeChanged,function(){var modeId=_this.getModeId(commaSeparatedMimetypesOrCommaSeparatedIds);return _this._createModeAndGetLanguageIdentifier(modeId)})},ModeServiceImpl.prototype.createByFilepathOrFirstLine=function(resource,firstLine){var _this=this;return new modeServiceImpl_LanguageSelection(this.onLanguagesMaybeChanged,function(){var modeId=_this.getModeIdByFilepathOrFirstLine(resource,firstLine);return _this._createModeAndGetLanguageIdentifier(modeId)})},ModeServiceImpl.prototype._createModeAndGetLanguageIdentifier=function(modeId){var languageIdentifier=this.getLanguageIdentifier(modeId||"plaintext")||nullMode.a;return this._getOrCreateMode(languageIdentifier.language),languageIdentifier},ModeServiceImpl.prototype.triggerMode=function(commaSeparatedMimetypesOrCommaSeparatedIds){var modeId=this.getModeId(commaSeparatedMimetypesOrCommaSeparatedIds);this._getOrCreateMode(modeId||"plaintext")},ModeServiceImpl.prototype._getOrCreateMode=function(modeId){if(!this._instantiatedModes.hasOwnProperty(modeId)){var languageIdentifier=this.getLanguageIdentifier(modeId)||nullMode.a;this._instantiatedModes[modeId]=new FrankensteinMode(languageIdentifier),this._onDidCreateMode.fire(this._instantiatedModes[modeId])}return this._instantiatedModes[modeId]},ModeServiceImpl}(),textModel=__webpack_require__(2720),tokensStore=__webpack_require__(3494),modelServiceImpl_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),modelServiceImpl_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},modelServiceImpl_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};function MODEL_ID(resource){return resource.toString()}var modelServiceImpl_ModelData=function(){function ModelData(model,onWillDispose,onDidChangeLanguage){this._modelEventListeners=new lifecycle.b,this.model=model,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(model.onWillDispose(function(){return onWillDispose(model)})),this._modelEventListeners.add(model.onDidChangeLanguage(function(e){return onDidChangeLanguage(model,e)}))}return ModelData.prototype._disposeLanguageSelection=function(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)},ModelData.prototype.dispose=function(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()},ModelData.prototype.setLanguage=function(languageSelection){var _this=this;this._disposeLanguageSelection(),this._languageSelection=languageSelection,this._languageSelectionListener=this._languageSelection.onDidChange(function(){return _this.model.setMode(languageSelection.languageIdentifier)}),this.model.setMode(languageSelection.languageIdentifier)},ModelData}(),DEFAULT_EOL=platform.d||platform.e?1:2,modelServiceImpl_ModelServiceImpl=function(_super){modelServiceImpl_extends(ModelServiceImpl,_super);function ModelServiceImpl(configurationService,resourcePropertiesService,themeService){var _this=_super.call(this)||this;return _this._onModelAdded=_this._register(new common_event.a),_this.onModelAdded=_this._onModelAdded.event,_this._onModelRemoved=_this._register(new common_event.a),_this.onModelRemoved=_this._onModelRemoved.event,_this._onModelModeChanged=_this._register(new common_event.a),_this.onModelModeChanged=_this._onModelModeChanged.event,_this._configurationService=configurationService,_this._resourcePropertiesService=resourcePropertiesService,_this._models={},_this._modelCreationOptionsByLanguageAndResource=Object.create(null),_this._configurationServiceSubscription=_this._configurationService.onDidChangeConfiguration(function(e){return _this._updateModelOptions()}),_this._updateModelOptions(),_this._register(new SemanticColoringFeature(_this,themeService)),_this}return ModelServiceImpl._readModelOptions=function(config,isForSimpleWidget){var tabSize=editorOptions.c.tabSize;if(config.editor&&typeof config.editor.tabSize<"u"){var parsedTabSize=parseInt(config.editor.tabSize,10);isNaN(parsedTabSize)||(tabSize=parsedTabSize),tabSize<1&&(tabSize=1)}var indentSize=tabSize;if(config.editor&&typeof config.editor.indentSize<"u"&&config.editor.indentSize!=="tabSize"){var parsedIndentSize=parseInt(config.editor.indentSize,10);isNaN(parsedIndentSize)||(indentSize=parsedIndentSize),indentSize<1&&(indentSize=1)}var insertSpaces=editorOptions.c.insertSpaces;config.editor&&typeof config.editor.insertSpaces<"u"&&(insertSpaces=config.editor.insertSpaces==="false"?!1:!!config.editor.insertSpaces);var newDefaultEOL=DEFAULT_EOL,eol=config.eol;eol===`\r
`?newDefaultEOL=2:eol===`
`&&(newDefaultEOL=1);var trimAutoWhitespace=editorOptions.c.trimAutoWhitespace;config.editor&&typeof config.editor.trimAutoWhitespace<"u"&&(trimAutoWhitespace=config.editor.trimAutoWhitespace==="false"?!1:!!config.editor.trimAutoWhitespace);var detectIndentation=editorOptions.c.detectIndentation;config.editor&&typeof config.editor.detectIndentation<"u"&&(detectIndentation=config.editor.detectIndentation==="false"?!1:!!config.editor.detectIndentation);var largeFileOptimizations=editorOptions.c.largeFileOptimizations;return config.editor&&typeof config.editor.largeFileOptimizations<"u"&&(largeFileOptimizations=config.editor.largeFileOptimizations==="false"?!1:!!config.editor.largeFileOptimizations),{isForSimpleWidget,tabSize,indentSize,insertSpaces,detectIndentation,defaultEOL:newDefaultEOL,trimAutoWhitespace,largeFileOptimizations}},ModelServiceImpl.prototype.getCreationOptions=function(language,resource,isForSimpleWidget){var creationOptions=this._modelCreationOptionsByLanguageAndResource[language+resource];if(!creationOptions){var editor=this._configurationService.getValue("editor",{overrideIdentifier:language,resource}),eol=this._resourcePropertiesService.getEOL(resource,language);creationOptions=ModelServiceImpl._readModelOptions({editor,eol},isForSimpleWidget),this._modelCreationOptionsByLanguageAndResource[language+resource]=creationOptions}return creationOptions},ModelServiceImpl.prototype._updateModelOptions=function(){var oldOptionsByLanguageAndResource=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var keys=Object.keys(this._models),i=0,len=keys.length;i<len;i++){var modelId=keys[i],modelData=this._models[modelId],language=modelData.model.getLanguageIdentifier().language,uri=modelData.model.uri,oldOptions=oldOptionsByLanguageAndResource[language+uri],newOptions=this.getCreationOptions(language,uri,modelData.model.isForSimpleWidget);ModelServiceImpl._setModelOptionsForModel(modelData.model,newOptions,oldOptions)}},ModelServiceImpl._setModelOptionsForModel=function(model,newOptions,currentOptions){currentOptions&&currentOptions.defaultEOL!==newOptions.defaultEOL&&model.getLineCount()===1&&model.setEOL(newOptions.defaultEOL===1?0:1),!(currentOptions&&currentOptions.detectIndentation===newOptions.detectIndentation&&currentOptions.insertSpaces===newOptions.insertSpaces&&currentOptions.tabSize===newOptions.tabSize&&currentOptions.indentSize===newOptions.indentSize&&currentOptions.trimAutoWhitespace===newOptions.trimAutoWhitespace)&&(newOptions.detectIndentation?(model.detectIndentation(newOptions.insertSpaces,newOptions.tabSize),model.updateOptions({trimAutoWhitespace:newOptions.trimAutoWhitespace})):model.updateOptions({insertSpaces:newOptions.insertSpaces,tabSize:newOptions.tabSize,indentSize:newOptions.indentSize,trimAutoWhitespace:newOptions.trimAutoWhitespace}))},ModelServiceImpl.prototype.dispose=function(){this._configurationServiceSubscription.dispose(),_super.prototype.dispose.call(this)},ModelServiceImpl.prototype._createModelData=function(value,languageIdentifier,resource,isForSimpleWidget){var _this=this,options=this.getCreationOptions(languageIdentifier.language,resource,isForSimpleWidget),model=new textModel.b(value,options,languageIdentifier,resource),modelId=MODEL_ID(model.uri);if(this._models[modelId])throw new Error("ModelService: Cannot add model because it already exists!");var modelData=new modelServiceImpl_ModelData(model,function(model2){return _this._onWillDispose(model2)},function(model2,e){return _this._onDidChangeLanguage(model2,e)});return this._models[modelId]=modelData,modelData},ModelServiceImpl.prototype.createModel=function(value,languageSelection,resource,isForSimpleWidget){isForSimpleWidget===void 0&&(isForSimpleWidget=!1);var modelData;return languageSelection?(modelData=this._createModelData(value,languageSelection.languageIdentifier,resource,isForSimpleWidget),this.setMode(modelData.model,languageSelection)):modelData=this._createModelData(value,modesRegistry.b,resource,isForSimpleWidget),this._onModelAdded.fire(modelData.model),modelData.model},ModelServiceImpl.prototype.setMode=function(model,languageSelection){if(languageSelection){var modelData=this._models[MODEL_ID(model.uri)];modelData&&modelData.setLanguage(languageSelection)}},ModelServiceImpl.prototype.getModels=function(){for(var ret=[],keys=Object.keys(this._models),i=0,len=keys.length;i<len;i++){var modelId=keys[i];ret.push(this._models[modelId].model)}return ret},ModelServiceImpl.prototype.getModel=function(resource){var modelId=MODEL_ID(resource),modelData=this._models[modelId];return modelData?modelData.model:null},ModelServiceImpl.prototype._onWillDispose=function(model){var modelId=MODEL_ID(model.uri),modelData=this._models[modelId];delete this._models[modelId],modelData.dispose(),delete this._modelCreationOptionsByLanguageAndResource[model.getLanguageIdentifier().language+model.uri],this._onModelRemoved.fire(model)},ModelServiceImpl.prototype._onDidChangeLanguage=function(model,e){var oldModeId=e.oldLanguage,newModeId=model.getLanguageIdentifier().language,oldOptions=this.getCreationOptions(oldModeId,model.uri,model.isForSimpleWidget),newOptions=this.getCreationOptions(newModeId,model.uri,model.isForSimpleWidget);ModelServiceImpl._setModelOptionsForModel(model,newOptions,oldOptions),this._onModelModeChanged.fire({model,oldModeId})},ModelServiceImpl=modelServiceImpl_decorate([modelServiceImpl_param(0,common_configuration.a),modelServiceImpl_param(1,ITextResourcePropertiesService),modelServiceImpl_param(2,common_themeService.c)],ModelServiceImpl),ModelServiceImpl}(lifecycle.a),SemanticColoringFeature=function(_super){modelServiceImpl_extends(SemanticColoringFeature2,_super);function SemanticColoringFeature2(modelService,themeService){var _this=_super.call(this)||this;return _this._watchers=Object.create(null),_this._semanticStyling=_this._register(new SemanticStyling(themeService)),_this._register(modelService.onModelAdded(function(model){_this._watchers[model.uri.toString()]=new modelServiceImpl_ModelSemanticColoring(model,themeService,_this._semanticStyling)})),_this._register(modelService.onModelRemoved(function(model){_this._watchers[model.uri.toString()].dispose(),delete _this._watchers[model.uri.toString()]})),_this}return SemanticColoringFeature2}(lifecycle.a),SemanticStyling=function(_super){modelServiceImpl_extends(SemanticStyling2,_super);function SemanticStyling2(_themeService){var _this=_super.call(this)||this;return _this._themeService=_themeService,_this._caches=new WeakMap,_this._themeService&&_this._register(_this._themeService.onThemeChange(function(){_this._caches=new WeakMap})),_this}return SemanticStyling2.prototype.get=function(provider){return this._caches.has(provider)||this._caches.set(provider,new SemanticColoringProviderStyling(provider.getLegend(),this._themeService)),this._caches.get(provider)},SemanticStyling2}(lifecycle.a),HashTableEntry=function(){function HashTableEntry2(tokenTypeIndex,tokenModifierSet,metadata){this.tokenTypeIndex=tokenTypeIndex,this.tokenModifierSet=tokenModifierSet,this.metadata=metadata,this.next=null}return HashTableEntry2}(),HashTable=function(){function HashTable2(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=HashTable2._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<HashTable2._SIZES.length?2/3*this._currentLength:0),this._elements=[],HashTable2._nullOutEntries(this._elements,this._currentLength)}return HashTable2._nullOutEntries=function(entries,length){for(var i=0;i<length;i++)entries[i]=null},HashTable2.prototype._hashFunc=function(tokenTypeIndex,tokenModifierSet){return((tokenTypeIndex<<5)-tokenTypeIndex+tokenModifierSet|0)%this._currentLength},HashTable2.prototype.get=function(tokenTypeIndex,tokenModifierSet){for(var hash=this._hashFunc(tokenTypeIndex,tokenModifierSet),p=this._elements[hash];p;){if(p.tokenTypeIndex===tokenTypeIndex&&p.tokenModifierSet===tokenModifierSet)return p;p=p.next}return null},HashTable2.prototype.add=function(tokenTypeIndex,tokenModifierSet,metadata){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){var oldElements=this._elements;this._currentLengthIndex++,this._currentLength=HashTable2._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<HashTable2._SIZES.length?2/3*this._currentLength:0),this._elements=[],HashTable2._nullOutEntries(this._elements,this._currentLength);for(var _i=0,oldElements_1=oldElements;_i<oldElements_1.length;_i++)for(var first=oldElements_1[_i],p=first;p;){var oldNext=p.next;p.next=null,this._add(p),p=oldNext}}this._add(new HashTableEntry(tokenTypeIndex,tokenModifierSet,metadata))},HashTable2.prototype._add=function(element){var hash=this._hashFunc(element.tokenTypeIndex,element.tokenModifierSet);element.next=this._elements[hash],this._elements[hash]=element},HashTable2._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],HashTable2}(),SemanticColoringProviderStyling=function(){function SemanticColoringProviderStyling2(_legend,_themeService){this._legend=_legend,this._themeService=_themeService,this._hashTable=new HashTable}return SemanticColoringProviderStyling2.prototype.getMetadata=function(tokenTypeIndex,tokenModifierSet){var entry=this._hashTable.get(tokenTypeIndex,tokenModifierSet);if(entry)return entry.metadata;for(var tokenType=this._legend.tokenTypes[tokenTypeIndex],tokenModifiers=[],modifierIndex=0;tokenModifierSet!==0&&modifierIndex<this._legend.tokenModifiers.length;modifierIndex++)tokenModifierSet&1&&tokenModifiers.push(this._legend.tokenModifiers[modifierIndex]),tokenModifierSet=tokenModifierSet>>1;var metadata=this._themeService.getTheme().getTokenStyleMetadata(tokenType,tokenModifiers);return typeof metadata>"u"&&(metadata=2147483647),this._hashTable.add(tokenTypeIndex,tokenModifierSet,metadata),metadata},SemanticColoringProviderStyling2}(),SemanticTokensResponse=function(){function SemanticTokensResponse2(_provider,resultId,data){this._provider=_provider,this.resultId=resultId,this.data=data}return SemanticTokensResponse2.prototype.dispose=function(){this._provider.releaseSemanticTokens(this.resultId)},SemanticTokensResponse2}(),modelServiceImpl_ModelSemanticColoring=function(_super){modelServiceImpl_extends(ModelSemanticColoring,_super);function ModelSemanticColoring(model,themeService,stylingProvider){var _this=_super.call(this)||this;return _this._isDisposed=!1,_this._model=model,_this._semanticStyling=stylingProvider,_this._fetchSemanticTokens=_this._register(new common_async.d(function(){return _this._fetchSemanticTokensNow()},300)),_this._currentResponse=null,_this._currentRequestCancellationTokenSource=null,_this._register(_this._model.onDidChangeContent(function(e){_this._fetchSemanticTokens.isScheduled()||_this._fetchSemanticTokens.schedule()})),_this._register(modes.v.onDidChange(function(e){return _this._fetchSemanticTokens.schedule()})),themeService&&_this._register(themeService.onThemeChange(function(_){_this._setSemanticTokens(null,null,null,[]),_this._fetchSemanticTokens.schedule()})),_this._fetchSemanticTokens.schedule(0),_this}return ModelSemanticColoring.prototype.dispose=function(){this._isDisposed=!0,this._currentResponse&&(this._currentResponse.dispose(),this._currentResponse=null),this._currentRequestCancellationTokenSource&&(this._currentRequestCancellationTokenSource.cancel(),this._currentRequestCancellationTokenSource=null),_super.prototype.dispose.call(this)},ModelSemanticColoring.prototype._fetchSemanticTokensNow=function(){var _this=this;if(!this._currentRequestCancellationTokenSource){var provider=this._getSemanticColoringProvider();if(provider){this._currentRequestCancellationTokenSource=new cancellation.b;var pendingChanges=[],contentChangeListener=this._model.onDidChangeContent(function(e){pendingChanges.push(e)}),styling=this._semanticStyling.get(provider),lastResultId=this._currentResponse&&this._currentResponse.resultId||null,request=Promise.resolve(provider.provideSemanticTokens(this._model,lastResultId,null,this._currentRequestCancellationTokenSource.token));request.then(function(res){_this._currentRequestCancellationTokenSource=null,contentChangeListener.dispose(),_this._setSemanticTokens(provider,res||null,styling,pendingChanges)},function(err){errors.e(err),_this._currentRequestCancellationTokenSource=null,contentChangeListener.dispose(),_this._setSemanticTokens(provider,null,styling,pendingChanges)})}}},ModelSemanticColoring._isSemanticTokens=function(v){return v&&!!v.data},ModelSemanticColoring._isSemanticTokensEdits=function(v){return v&&Array.isArray(v.edits)},ModelSemanticColoring._copy=function(src,srcOffset,dest,destOffset,length){for(var i=0;i<length;i++)dest[destOffset+i]=src[srcOffset+i]},ModelSemanticColoring.prototype._setSemanticTokens=function(provider,tokens,styling,pendingChanges){var currentResponse=this._currentResponse;if(this._currentResponse&&(this._currentResponse.dispose(),this._currentResponse=null),this._isDisposed){provider&&tokens&&provider.releaseSemanticTokens(tokens.resultId);return}if(!provider||!tokens||!styling){this._model.setSemanticTokens(null);return}if(ModelSemanticColoring._isSemanticTokensEdits(tokens)){if(!currentResponse){this._model.setSemanticTokens(null);return}if(tokens.edits.length===0)tokens={resultId:tokens.resultId,data:currentResponse.data};else{for(var deltaLength=0,_i=0,_a=tokens.edits;_i<_a.length;_i++){var edit=_a[_i];deltaLength+=(edit.data?edit.data.length:0)-edit.deleteCount}for(var srcData=currentResponse.data,destData=new Uint32Array(srcData.length+deltaLength),srcLastStart=srcData.length,destLastStart=destData.length,i=tokens.edits.length-1;i>=0;i--){var edit=tokens.edits[i],copyCount=srcLastStart-(edit.start+edit.deleteCount);copyCount>0&&(ModelSemanticColoring._copy(srcData,srcLastStart-copyCount,destData,destLastStart-copyCount,copyCount),destLastStart-=copyCount),edit.data&&(ModelSemanticColoring._copy(edit.data,0,destData,destLastStart-edit.data.length,edit.data.length),destLastStart-=edit.data.length),srcLastStart=edit.start}srcLastStart>0&&ModelSemanticColoring._copy(srcData,0,destData,0,srcLastStart),tokens={resultId:tokens.resultId,data:destData}}}if(ModelSemanticColoring._isSemanticTokens(tokens)){this._currentResponse=new SemanticTokensResponse(provider,tokens.resultId,tokens.data);for(var srcData=tokens.data,tokenCount=tokens.data.length/5|0,tokensPerArea=Math.max(Math.ceil(tokenCount/1024),400),result=[],tokenIndex=0,lastLineNumber=1,lastStartCharacter=0;tokenIndex<tokenCount;){var tokenStartIndex=tokenIndex,tokenEndIndex=Math.min(tokenStartIndex+tokensPerArea,tokenCount);if(tokenEndIndex<tokenCount){for(var smallTokenEndIndex=tokenEndIndex;smallTokenEndIndex-1>tokenStartIndex&&srcData[5*smallTokenEndIndex]===0;)smallTokenEndIndex--;if(smallTokenEndIndex-1===tokenStartIndex){for(var bigTokenEndIndex=tokenEndIndex;bigTokenEndIndex+1<tokenCount&&srcData[5*bigTokenEndIndex]===0;)bigTokenEndIndex++;tokenEndIndex=bigTokenEndIndex}else tokenEndIndex=smallTokenEndIndex}for(var destData=new Uint32Array((tokenEndIndex-tokenStartIndex)*4),destOffset=0,areaLine=0;tokenIndex<tokenEndIndex;){var srcOffset=5*tokenIndex,deltaLine=srcData[srcOffset],deltaCharacter=srcData[srcOffset+1],lineNumber=lastLineNumber+deltaLine,startCharacter=deltaLine===0?lastStartCharacter+deltaCharacter:deltaCharacter,length_1=srcData[srcOffset+2],tokenTypeIndex=srcData[srcOffset+3],tokenModifierSet=srcData[srcOffset+4],metadata=styling.getMetadata(tokenTypeIndex,tokenModifierSet);metadata!==2147483647&&(areaLine===0&&(areaLine=lineNumber),destData[destOffset]=lineNumber-areaLine,destData[destOffset+1]=startCharacter,destData[destOffset+2]=startCharacter+length_1,destData[destOffset+3]=metadata,destOffset+=4),lastLineNumber=lineNumber,lastStartCharacter=startCharacter,tokenIndex++}destOffset!==destData.length&&(destData=destData.subarray(0,destOffset));var tokens_1=new tokensStore.a(areaLine,new tokensStore.c(destData));result.push(tokens_1)}if(pendingChanges.length>0){for(var _b=0,pendingChanges_1=pendingChanges;_b<pendingChanges_1.length;_b++)for(var change=pendingChanges_1[_b],_c=0,result_1=result;_c<result_1.length;_c++)for(var area=result_1[_c],_d=0,_e=change.changes;_d<_e.length;_d++){var singleChange=_e[_d];area.applyEdit(singleChange.range,singleChange.text)}this._fetchSemanticTokens.isScheduled()||this._fetchSemanticTokens.schedule()}this._model.setSemanticTokens(result);return}this._model.setSemanticTokens(null)},ModelSemanticColoring.prototype._getSemanticColoringProvider=function(){var result=modes.v.ordered(this._model);return result.length>0?result[0]:null},ModelSemanticColoring}(lifecycle.a),abstractCodeEditorService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),abstractCodeEditorService_AbstractCodeEditorService=function(_super){abstractCodeEditorService_extends(AbstractCodeEditorService,_super);function AbstractCodeEditorService(){var _this=_super.call(this)||this;return _this._onCodeEditorAdd=_this._register(new common_event.a),_this.onCodeEditorAdd=_this._onCodeEditorAdd.event,_this._onCodeEditorRemove=_this._register(new common_event.a),_this.onCodeEditorRemove=_this._onCodeEditorRemove.event,_this._onDiffEditorAdd=_this._register(new common_event.a),_this._onDiffEditorRemove=_this._register(new common_event.a),_this._codeEditors=Object.create(null),_this._diffEditors=Object.create(null),_this}return AbstractCodeEditorService.prototype.addCodeEditor=function(editor){this._codeEditors[editor.getId()]=editor,this._onCodeEditorAdd.fire(editor)},AbstractCodeEditorService.prototype.removeCodeEditor=function(editor){delete this._codeEditors[editor.getId()]&&this._onCodeEditorRemove.fire(editor)},AbstractCodeEditorService.prototype.listCodeEditors=function(){var _this=this;return Object.keys(this._codeEditors).map(function(id){return _this._codeEditors[id]})},AbstractCodeEditorService.prototype.addDiffEditor=function(editor){this._diffEditors[editor.getId()]=editor,this._onDiffEditorAdd.fire(editor)},AbstractCodeEditorService.prototype.removeDiffEditor=function(editor){delete this._diffEditors[editor.getId()]&&this._onDiffEditorRemove.fire(editor)},AbstractCodeEditorService.prototype.listDiffEditors=function(){var _this=this;return Object.keys(this._diffEditors).map(function(id){return _this._diffEditors[id]})},AbstractCodeEditorService.prototype.getFocusedCodeEditor=function(){for(var editorWithWidgetFocus=null,editors=this.listCodeEditors(),_i=0,editors_1=editors;_i<editors_1.length;_i++){var editor=editors_1[_i];if(editor.hasTextFocus())return editor;editor.hasWidgetFocus()&&(editorWithWidgetFocus=editor)}return editorWithWidgetFocus},AbstractCodeEditorService}(lifecycle.a),codeEditorServiceImpl_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),codeEditorServiceImpl_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},codeEditorServiceImpl_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},codeEditorServiceImpl_CodeEditorServiceImpl=function(_super){codeEditorServiceImpl_extends(CodeEditorServiceImpl,_super);function CodeEditorServiceImpl(themeService,styleSheet){styleSheet===void 0&&(styleSheet=dom.w());var _this=_super.call(this)||this;return _this._decorationOptionProviders=new Map,_this._styleSheet=styleSheet,_this._themeService=themeService,_this}return CodeEditorServiceImpl.prototype.registerDecorationType=function(key,options,parentTypeKey){var provider=this._decorationOptionProviders.get(key);if(!provider){var providerArgs={styleSheet:this._styleSheet,key,parentTypeKey,options:options||Object.create(null)};parentTypeKey?provider=new DecorationSubTypeOptionsProvider(this._themeService,providerArgs):provider=new codeEditorServiceImpl_DecorationTypeOptionsProvider(this._themeService,providerArgs),this._decorationOptionProviders.set(key,provider)}provider.refCount++},CodeEditorServiceImpl.prototype.removeDecorationType=function(key){var provider=this._decorationOptionProviders.get(key);provider&&(provider.refCount--,provider.refCount<=0&&(this._decorationOptionProviders.delete(key),provider.dispose(),this.listCodeEditors().forEach(function(ed){return ed.removeDecorations(key)})))},CodeEditorServiceImpl.prototype.resolveDecorationOptions=function(decorationTypeKey,writable){var provider=this._decorationOptionProviders.get(decorationTypeKey);if(!provider)throw new Error("Unknown decoration type key: "+decorationTypeKey);return provider.getOptions(this,writable)},CodeEditorServiceImpl=codeEditorServiceImpl_decorate([codeEditorServiceImpl_param(0,common_themeService.c)],CodeEditorServiceImpl),CodeEditorServiceImpl}(abstractCodeEditorService_AbstractCodeEditorService),DecorationSubTypeOptionsProvider=function(){function DecorationSubTypeOptionsProvider2(themeService,providerArgs){this._parentTypeKey=providerArgs.parentTypeKey,this.refCount=0,this._beforeContentRules=new codeEditorServiceImpl_DecorationCSSRules(3,providerArgs,themeService),this._afterContentRules=new codeEditorServiceImpl_DecorationCSSRules(4,providerArgs,themeService)}return DecorationSubTypeOptionsProvider2.prototype.getOptions=function(codeEditorService,writable){var options=codeEditorService.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(options.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(options.afterContentClassName=this._afterContentRules.className),options},DecorationSubTypeOptionsProvider2.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null)},DecorationSubTypeOptionsProvider2}(),codeEditorServiceImpl_DecorationTypeOptionsProvider=function(){function DecorationTypeOptionsProvider(themeService,providerArgs){var _this=this;this._disposables=new lifecycle.b,this.refCount=0;var createCSSRules=function(type){var rules=new codeEditorServiceImpl_DecorationCSSRules(type,providerArgs,themeService);if(_this._disposables.add(rules),rules.hasContent)return rules.className},createInlineCSSRules=function(type){var rules=new codeEditorServiceImpl_DecorationCSSRules(type,providerArgs,themeService);return _this._disposables.add(rules),rules.hasContent?{className:rules.className,hasLetterSpacing:rules.hasLetterSpacing}:null};this.className=createCSSRules(0);var inlineData=createInlineCSSRules(1);inlineData&&(this.inlineClassName=inlineData.className,this.inlineClassNameAffectsLetterSpacing=inlineData.hasLetterSpacing),this.beforeContentClassName=createCSSRules(3),this.afterContentClassName=createCSSRules(4),this.glyphMarginClassName=createCSSRules(2);var options=providerArgs.options;this.isWholeLine=!!options.isWholeLine,this.stickiness=options.rangeBehavior;var lightOverviewRulerColor=options.light&&options.light.overviewRulerColor||options.overviewRulerColor,darkOverviewRulerColor=options.dark&&options.dark.overviewRulerColor||options.overviewRulerColor;(typeof lightOverviewRulerColor<"u"||typeof darkOverviewRulerColor<"u")&&(this.overviewRuler={color:lightOverviewRulerColor||darkOverviewRulerColor,darkColor:darkOverviewRulerColor||lightOverviewRulerColor,position:options.overviewRulerLane||common_model.d.Center})}return DecorationTypeOptionsProvider.prototype.getOptions=function(codeEditorService,writable){return writable?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},DecorationTypeOptionsProvider.prototype.dispose=function(){this._disposables.dispose()},DecorationTypeOptionsProvider}(),_CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},codeEditorServiceImpl_DecorationCSSRules=function(){function DecorationCSSRules(ruleType,providerArgs,themeService){var _this=this;this._theme=themeService.getTheme(),this._ruleType=ruleType,this._providerArgs=providerArgs,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var className=CSSNameHelper.getClassName(this._providerArgs.key,ruleType);this._providerArgs.parentTypeKey&&(className=className+" "+CSSNameHelper.getClassName(this._providerArgs.parentTypeKey,ruleType)),this._className=className,this._unThemedSelector=CSSNameHelper.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,ruleType),this._buildCSS(),this._usesThemeColors?this._themeListener=themeService.onThemeChange(function(theme){_this._theme=themeService.getTheme(),_this._removeCSS(),_this._buildCSS()}):this._themeListener=null}return DecorationCSSRules.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(DecorationCSSRules.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(DecorationCSSRules.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(DecorationCSSRules.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),DecorationCSSRules.prototype._buildCSS=function(){var options=this._providerArgs.options,unthemedCSS,lightCSS,darkCSS;switch(this._ruleType){case 0:unthemedCSS=this.getCSSTextForModelDecorationClassName(options),lightCSS=this.getCSSTextForModelDecorationClassName(options.light),darkCSS=this.getCSSTextForModelDecorationClassName(options.dark);break;case 1:unthemedCSS=this.getCSSTextForModelDecorationInlineClassName(options),lightCSS=this.getCSSTextForModelDecorationInlineClassName(options.light),darkCSS=this.getCSSTextForModelDecorationInlineClassName(options.dark);break;case 2:unthemedCSS=this.getCSSTextForModelDecorationGlyphMarginClassName(options),lightCSS=this.getCSSTextForModelDecorationGlyphMarginClassName(options.light),darkCSS=this.getCSSTextForModelDecorationGlyphMarginClassName(options.dark);break;case 3:unthemedCSS=this.getCSSTextForModelDecorationContentClassName(options.before),lightCSS=this.getCSSTextForModelDecorationContentClassName(options.light&&options.light.before),darkCSS=this.getCSSTextForModelDecorationContentClassName(options.dark&&options.dark.before);break;case 4:unthemedCSS=this.getCSSTextForModelDecorationContentClassName(options.after),lightCSS=this.getCSSTextForModelDecorationContentClassName(options.light&&options.light.after),darkCSS=this.getCSSTextForModelDecorationContentClassName(options.dark&&options.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var sheet=this._providerArgs.styleSheet.sheet,hasContent=!1;unthemedCSS.length>0&&(sheet.insertRule(this._unThemedSelector+" {"+unthemedCSS+"}",0),hasContent=!0),lightCSS.length>0&&(sheet.insertRule(".vs"+this._unThemedSelector+" {"+lightCSS+"}",0),hasContent=!0),darkCSS.length>0&&(sheet.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+darkCSS+"}",0),hasContent=!0),this._hasContent=hasContent},DecorationCSSRules.prototype._removeCSS=function(){dom.L(this._unThemedSelector,this._providerArgs.styleSheet)},DecorationCSSRules.prototype.getCSSTextForModelDecorationClassName=function(opts){if(!opts)return"";var cssTextArr=[];return this.collectCSSText(opts,["backgroundColor"],cssTextArr),this.collectCSSText(opts,["outline","outlineColor","outlineStyle","outlineWidth"],cssTextArr),this.collectBorderSettingsCSSText(opts,cssTextArr),cssTextArr.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationInlineClassName=function(opts){if(!opts)return"";var cssTextArr=[];return this.collectCSSText(opts,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],cssTextArr),opts.letterSpacing&&(this._hasLetterSpacing=!0),cssTextArr.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationContentClassName=function(opts){if(!opts)return"";var cssTextArr=[];if(typeof opts<"u"){if(this.collectBorderSettingsCSSText(opts,cssTextArr),typeof opts.contentIconPath<"u"&&cssTextArr.push(strings.r(_CSS_MAP.contentIconPath,dom.r(common_uri.a.revive(opts.contentIconPath)))),typeof opts.contentText=="string"){var truncated=opts.contentText.match(/^.*$/m)[0],escaped=truncated.replace(/['\\]/g,"\\$&");cssTextArr.push(strings.r(_CSS_MAP.contentText,escaped))}this.collectCSSText(opts,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],cssTextArr),this.collectCSSText(opts,["width","height"],cssTextArr)&&cssTextArr.push("display:inline-block;")}return cssTextArr.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(opts){if(!opts)return"";var cssTextArr=[];return typeof opts.gutterIconPath<"u"&&(cssTextArr.push(strings.r(_CSS_MAP.gutterIconPath,dom.r(common_uri.a.revive(opts.gutterIconPath)))),typeof opts.gutterIconSize<"u"&&cssTextArr.push(strings.r(_CSS_MAP.gutterIconSize,opts.gutterIconSize))),cssTextArr.join("")},DecorationCSSRules.prototype.collectBorderSettingsCSSText=function(opts,cssTextArr){return this.collectCSSText(opts,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],cssTextArr)?(cssTextArr.push(strings.r("box-sizing: border-box;")),!0):!1},DecorationCSSRules.prototype.collectCSSText=function(opts,properties,cssTextArr){for(var lenBefore=cssTextArr.length,_i=0,properties_1=properties;_i<properties_1.length;_i++){var property=properties_1[_i],value=this.resolveValue(opts[property]);typeof value=="string"&&cssTextArr.push(strings.r(_CSS_MAP[property],value))}return cssTextArr.length!==lenBefore},DecorationCSSRules.prototype.resolveValue=function(value){if(Object(editorCommon.c)(value)){this._usesThemeColors=!0;var color=this._theme.getColor(value.id);return color?color.toString():"transparent"}return value},DecorationCSSRules}(),CSSNameHelper=function(){function CSSNameHelper2(){}return CSSNameHelper2.getClassName=function(key,type){return"ced-"+key+"-"+type},CSSNameHelper2.getSelector=function(key,parentKey,ruleType){var selector=".monaco-editor ."+this.getClassName(key,ruleType);return parentKey&&(selector=selector+"."+this.getClassName(parentKey,ruleType)),ruleType===3?selector+="::before":ruleType===4&&(selector+="::after"),selector},CSSNameHelper2}(),standaloneCodeServiceImpl_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),standaloneCodeServiceImpl_StandaloneCodeEditorServiceImpl=function(_super){standaloneCodeServiceImpl_extends(StandaloneCodeEditorServiceImpl,_super);function StandaloneCodeEditorServiceImpl(){return _super!==null&&_super.apply(this,arguments)||this}return StandaloneCodeEditorServiceImpl.prototype.getActiveCodeEditor=function(){return null},StandaloneCodeEditorServiceImpl.prototype.openCodeEditor=function(input,source,sideBySide){return source?Promise.resolve(this.doOpenEditor(source,input)):Promise.resolve(null)},StandaloneCodeEditorServiceImpl.prototype.doOpenEditor=function(editor,input){var model=this.findModel(editor,input.resource);if(!model){if(input.resource){var schema=input.resource.scheme;if(schema===network.b.http||schema===network.b.https)return Object(dom.X)(input.resource.toString()),editor}return null}var selection=input.options?input.options.selection:null;if(selection)if(typeof selection.endLineNumber=="number"&&typeof selection.endColumn=="number")editor.setSelection(selection),editor.revealRangeInCenter(selection,1);else{var pos={lineNumber:selection.startLineNumber,column:selection.startColumn};editor.setPosition(pos),editor.revealPositionInCenter(pos,1)}return editor},StandaloneCodeEditorServiceImpl.prototype.findModel=function(editor,resource){var model=editor.getModel();return model&&model.uri.toString()!==resource.toString()?null:model},StandaloneCodeEditorServiceImpl}(codeEditorServiceImpl_CodeEditorServiceImpl),common_color=__webpack_require__(2663),ParsedTokenThemeRule=function(){function ParsedTokenThemeRule2(token,index,fontStyle,foreground,background){this.token=token,this.index=index,this.fontStyle=fontStyle,this.foreground=foreground,this.background=background}return ParsedTokenThemeRule2}();function parseTokenTheme(source){if(!source||!Array.isArray(source))return[];for(var result=[],resultLen=0,i=0,len=source.length;i<len;i++){var entry=source[i],fontStyle=-1;if(typeof entry.fontStyle=="string"){fontStyle=0;for(var segments=entry.fontStyle.split(" "),j=0,lenJ=segments.length;j<lenJ;j++){var segment=segments[j];switch(segment){case"italic":fontStyle=fontStyle|1;break;case"bold":fontStyle=fontStyle|2;break;case"underline":fontStyle=fontStyle|4;break}}}var foreground=null;typeof entry.foreground=="string"&&(foreground=entry.foreground);var background=null;typeof entry.background=="string"&&(background=entry.background),result[resultLen++]=new ParsedTokenThemeRule(entry.token||"",i,fontStyle,foreground,background)}return result}function resolveParsedTokenThemeRules(parsedThemeRules,customTokenColors){parsedThemeRules.sort(function(a,b){var r=strcmp(a.token,b.token);return r!==0?r:a.index-b.index});for(var defaultFontStyle=0,defaultForeground="000000",defaultBackground="ffffff";parsedThemeRules.length>=1&&parsedThemeRules[0].token==="";){var incomingDefaults=parsedThemeRules.shift();incomingDefaults.fontStyle!==-1&&(defaultFontStyle=incomingDefaults.fontStyle),incomingDefaults.foreground!==null&&(defaultForeground=incomingDefaults.foreground),incomingDefaults.background!==null&&(defaultBackground=incomingDefaults.background)}for(var colorMap=new tokenization_ColorMap,_i=0,customTokenColors_1=customTokenColors;_i<customTokenColors_1.length;_i++){var color=customTokenColors_1[_i];colorMap.getId(color)}for(var foregroundColorId=colorMap.getId(defaultForeground),backgroundColorId=colorMap.getId(defaultBackground),defaults=new ThemeTrieElementRule(defaultFontStyle,foregroundColorId,backgroundColorId),root=new ThemeTrieElement(defaults),i=0,len=parsedThemeRules.length;i<len;i++){var rule=parsedThemeRules[i];root.insert(rule.token,rule.fontStyle,colorMap.getId(rule.foreground),colorMap.getId(rule.background))}return new TokenTheme(colorMap,root)}var colorRegExp=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,tokenization_ColorMap=function(){function ColorMap(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}return ColorMap.prototype.getId=function(color){if(color===null)return 0;var match=color.match(colorRegExp);if(!match)throw new Error("Illegal value for token color: "+color);color=match[1].toUpperCase();var value=this._color2id.get(color);return value||(value=++this._lastColorId,this._color2id.set(color,value),this._id2color[value]=common_color.a.fromHex("#"+color),value)},ColorMap.prototype.getColorMap=function(){return this._id2color.slice(0)},ColorMap}(),TokenTheme=function(){function TokenTheme2(colorMap,root){this._colorMap=colorMap,this._root=root,this._cache=new Map}return TokenTheme2.createFromRawTokenTheme=function(source,customTokenColors){return this.createFromParsedTokenTheme(parseTokenTheme(source),customTokenColors)},TokenTheme2.createFromParsedTokenTheme=function(source,customTokenColors){return resolveParsedTokenThemeRules(source,customTokenColors)},TokenTheme2.prototype.getColorMap=function(){return this._colorMap.getColorMap()},TokenTheme2.prototype._match=function(token){return this._root.match(token)},TokenTheme2.prototype.match=function(languageId,token){var result=this._cache.get(token);if(typeof result>"u"){var rule=this._match(token),standardToken=toStandardTokenType(token);result=(rule.metadata|standardToken<<8)>>>0,this._cache.set(token,result)}return(result|languageId<<0)>>>0},TokenTheme2}(),STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|regexp)\b/;function toStandardTokenType(tokenType){var m=tokenType.match(STANDARD_TOKEN_TYPE_REGEXP);if(!m)return 0;switch(m[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function strcmp(a,b){return a<b?-1:a>b?1:0}var ThemeTrieElementRule=function(){function ThemeTrieElementRule2(fontStyle,foreground,background){this._fontStyle=fontStyle,this._foreground=foreground,this._background=background,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return ThemeTrieElementRule2.prototype.clone=function(){return new ThemeTrieElementRule2(this._fontStyle,this._foreground,this._background)},ThemeTrieElementRule2.prototype.acceptOverwrite=function(fontStyle,foreground,background){fontStyle!==-1&&(this._fontStyle=fontStyle),foreground!==0&&(this._foreground=foreground),background!==0&&(this._background=background),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},ThemeTrieElementRule2}(),ThemeTrieElement=function(){function ThemeTrieElement2(mainRule){this._mainRule=mainRule,this._children=new Map}return ThemeTrieElement2.prototype.match=function(token){if(token==="")return this._mainRule;var dotIndex=token.indexOf("."),head,tail;dotIndex===-1?(head=token,tail=""):(head=token.substring(0,dotIndex),tail=token.substring(dotIndex+1));var child=this._children.get(head);return typeof child<"u"?child.match(tail):this._mainRule},ThemeTrieElement2.prototype.insert=function(token,fontStyle,foreground,background){if(token===""){this._mainRule.acceptOverwrite(fontStyle,foreground,background);return}var dotIndex=token.indexOf("."),head,tail;dotIndex===-1?(head=token,tail=""):(head=token.substring(0,dotIndex),tail=token.substring(dotIndex+1));var child=this._children.get(head);typeof child>"u"&&(child=new ThemeTrieElement2(this._mainRule.clone()),this._children.set(head,child)),child.insert(tail,fontStyle,foreground,background)},ThemeTrieElement2}();function generateTokensCSSForColorMap(colorMap){for(var rules=[],i=1,len=colorMap.length;i<len;i++){var color=colorMap[i];rules[i]=".mtk"+i+" { color: "+color+"; }"}return rules.push(".mtki { font-style: italic; }"),rules.push(".mtkb { font-weight: bold; }"),rules.push(".mtku { text-decoration: underline; text-underline-position: under; }"),rules.join(`
`)}var editorColorRegistry=__webpack_require__(2804),colorRegistry=__webpack_require__(2623),themes_a,themes_b,themes_c,vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"09885A"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"09885A"},{token:"attribute.value.unit",foreground:"09885A"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(themes_a={},themes_a[colorRegistry.o]="#FFFFFE",themes_a[colorRegistry.x]="#000000",themes_a[colorRegistry.F]="#E5EBF1",themes_a[editorColorRegistry.h]="#D3D3D3",themes_a[editorColorRegistry.a]="#939393",themes_a[colorRegistry.M]="#ADD6FF4D",themes_a)},vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(themes_b={},themes_b[colorRegistry.o]="#1E1E1E",themes_b[colorRegistry.x]="#D4D4D4",themes_b[colorRegistry.F]="#3A3D41",themes_b[editorColorRegistry.h]="#404040",themes_b[editorColorRegistry.a]="#707070",themes_b[colorRegistry.M]="#ADD6FF26",themes_b)},hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(themes_c={},themes_c[colorRegistry.o]="#000000",themes_c[colorRegistry.x]="#FFFFFF",themes_c[editorColorRegistry.h]="#FFFFFF",themes_c[editorColorRegistry.a]="#FFFFFF",themes_c)},VS_THEME_NAME="vs",VS_DARK_THEME_NAME="vs-dark",HC_BLACK_THEME_NAME="hc-black",standaloneThemeServiceImpl_colorRegistry=common_platform.a.as(colorRegistry.a.ColorContribution),themingRegistry=common_platform.a.as(common_themeService.a.ThemingContribution),standaloneThemeServiceImpl_StandaloneTheme=function(){function StandaloneTheme(name,standaloneThemeData){this.themeData=standaloneThemeData;var base=standaloneThemeData.base;name.length>0?(this.id=base+" "+name,this.themeName=name):(this.id=base,this.themeName=base),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object.defineProperty(StandaloneTheme.prototype,"base",{get:function(){return this.themeData.base},enumerable:!0,configurable:!0}),StandaloneTheme.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)},StandaloneTheme.prototype.getColors=function(){if(!this.colors){var colors=new Map;for(var id in this.themeData.colors)colors.set(id,common_color.a.fromHex(this.themeData.colors[id]));if(this.themeData.inherit){var baseData=getBuiltinRules(this.themeData.base);for(var id in baseData.colors)colors.has(id)||colors.set(id,common_color.a.fromHex(baseData.colors[id]))}this.colors=colors}return this.colors},StandaloneTheme.prototype.getColor=function(colorId,useDefault){var color=this.getColors().get(colorId);if(color)return color;if(useDefault!==!1)return this.getDefault(colorId)},StandaloneTheme.prototype.getDefault=function(colorId){var color=this.defaultColors[colorId];return color||(color=standaloneThemeServiceImpl_colorRegistry.resolveDefaultColor(colorId,this),this.defaultColors[colorId]=color,color)},StandaloneTheme.prototype.defines=function(colorId){return Object.prototype.hasOwnProperty.call(this.getColors(),colorId)},Object.defineProperty(StandaloneTheme.prototype,"type",{get:function(){switch(this.base){case VS_THEME_NAME:return"light";case HC_BLACK_THEME_NAME:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),Object.defineProperty(StandaloneTheme.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var rules=[],encodedTokensColors=[];if(this.themeData.inherit){var baseData=getBuiltinRules(this.themeData.base);rules=baseData.rules,baseData.encodedTokensColors&&(encodedTokensColors=baseData.encodedTokensColors)}rules=rules.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(encodedTokensColors=this.themeData.encodedTokensColors),this._tokenTheme=TokenTheme.createFromRawTokenTheme(rules,encodedTokensColors)}return this._tokenTheme},enumerable:!0,configurable:!0}),StandaloneTheme.prototype.getTokenStyleMetadata=function(type,modifiers){},StandaloneTheme}();function isBuiltinTheme(themeName){return themeName===VS_THEME_NAME||themeName===VS_DARK_THEME_NAME||themeName===HC_BLACK_THEME_NAME}function getBuiltinRules(builtinTheme){switch(builtinTheme){case VS_THEME_NAME:return vs;case VS_DARK_THEME_NAME:return vs_dark;case HC_BLACK_THEME_NAME:return hc_black}}function newBuiltInTheme(builtinTheme){var themeData=getBuiltinRules(builtinTheme);return new standaloneThemeServiceImpl_StandaloneTheme(builtinTheme,themeData)}var standaloneThemeServiceImpl_StandaloneThemeServiceImpl=function(){function StandaloneThemeServiceImpl(){this.environment=Object.create(null),this._onThemeChange=new common_event.a,this._onIconThemeChange=new common_event.a,this._knownThemes=new Map,this._knownThemes.set(VS_THEME_NAME,newBuiltInTheme(VS_THEME_NAME)),this._knownThemes.set(VS_DARK_THEME_NAME,newBuiltInTheme(VS_DARK_THEME_NAME)),this._knownThemes.set(HC_BLACK_THEME_NAME,newBuiltInTheme(HC_BLACK_THEME_NAME)),this._styleElement=dom.w(),this._styleElement.className="monaco-colors",this.setTheme(VS_THEME_NAME)}return Object.defineProperty(StandaloneThemeServiceImpl.prototype,"onThemeChange",{get:function(){return this._onThemeChange.event},enumerable:!0,configurable:!0}),StandaloneThemeServiceImpl.prototype.defineTheme=function(themeName,themeData){if(!/^[a-z0-9\-]+$/i.test(themeName))throw new Error("Illegal theme name!");if(!isBuiltinTheme(themeData.base)&&!isBuiltinTheme(themeName))throw new Error("Illegal theme base!");this._knownThemes.set(themeName,new standaloneThemeServiceImpl_StandaloneTheme(themeName,themeData)),isBuiltinTheme(themeName)&&this._knownThemes.forEach(function(theme){theme.base===themeName&&theme.notifyBaseUpdated()}),this._theme&&this._theme.themeName===themeName&&this.setTheme(themeName)},StandaloneThemeServiceImpl.prototype.getTheme=function(){return this._theme},StandaloneThemeServiceImpl.prototype.setTheme=function(themeName){var _this=this,theme;if(this._knownThemes.has(themeName)?theme=this._knownThemes.get(themeName):theme=this._knownThemes.get(VS_THEME_NAME),this._theme===theme)return theme.id;this._theme=theme;var cssRules=[],hasRule={},ruleCollector={addRule:function(rule){hasRule[rule]||(cssRules.push(rule),hasRule[rule]=!0)}};themingRegistry.getThemingParticipants().forEach(function(p){return p(theme,ruleCollector,_this.environment)});var tokenTheme=theme.tokenTheme,colorMap=tokenTheme.getColorMap();return ruleCollector.addRule(generateTokensCSSForColorMap(colorMap)),this._styleElement.innerHTML=cssRules.join(`
`),modes.A.setColorMap(colorMap),this._onThemeChange.fire(theme),theme.id},StandaloneThemeServiceImpl.prototype.getIconTheme=function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}},StandaloneThemeServiceImpl}(),contextKeyService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),contextKeyService_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},contextKeyService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},KEYBINDING_CONTEXT_ATTR="data-keybinding-context",Context=function(){function Context2(id,parent){this._id=id,this._parent=parent,this._value=Object.create(null),this._value._contextId=id}return Context2.prototype.setValue=function(key,value){return this._value[key]!==value?(this._value[key]=value,!0):!1},Context2.prototype.removeValue=function(key){return key in this._value?(delete this._value[key],!0):!1},Context2.prototype.getValue=function(key){var ret=this._value[key];return typeof ret>"u"&&this._parent?this._parent.getValue(key):ret},Context2}(),NullContext=function(_super){contextKeyService_extends(NullContext2,_super);function NullContext2(){return _super.call(this,-1,null)||this}return NullContext2.prototype.setValue=function(key,value){return!1},NullContext2.prototype.removeValue=function(key){return!1},NullContext2.prototype.getValue=function(key){},NullContext2.INSTANCE=new NullContext2,NullContext2}(Context),contextKeyService_ConfigAwareContextValuesContainer=function(_super){contextKeyService_extends(ConfigAwareContextValuesContainer,_super);function ConfigAwareContextValuesContainer(id,_configurationService,emitter){var _this=_super.call(this,id,null)||this;return _this._configurationService=_configurationService,_this._values=new Map,_this._listener=_this._configurationService.onDidChangeConfiguration(function(event){if(event.source===6){var allKeys=Object(common_map.d)(_this._values);_this._values.clear(),emitter.fire(new ArrayContextKeyChangeEvent(allKeys))}else{for(var changedKeys=[],_i=0,_a=event.affectedKeys;_i<_a.length;_i++){var configKey=_a[_i],contextKey="config."+configKey;_this._values.has(contextKey)&&(_this._values.delete(contextKey),changedKeys.push(contextKey))}emitter.fire(new ArrayContextKeyChangeEvent(changedKeys))}}),_this}return ConfigAwareContextValuesContainer.prototype.dispose=function(){this._listener.dispose()},ConfigAwareContextValuesContainer.prototype.getValue=function(key){if(key.indexOf(ConfigAwareContextValuesContainer._keyPrefix)!==0)return _super.prototype.getValue.call(this,key);if(this._values.has(key))return this._values.get(key);var configKey=key.substr(ConfigAwareContextValuesContainer._keyPrefix.length),configValue=this._configurationService.getValue(configKey),value=void 0;switch(typeof configValue){case"number":case"boolean":case"string":value=configValue;break}return this._values.set(key,value),value},ConfigAwareContextValuesContainer.prototype.setValue=function(key,value){return _super.prototype.setValue.call(this,key,value)},ConfigAwareContextValuesContainer.prototype.removeValue=function(key){return _super.prototype.removeValue.call(this,key)},ConfigAwareContextValuesContainer._keyPrefix="config.",ConfigAwareContextValuesContainer}(Context),ContextKey=function(){function ContextKey2(service,key,defaultValue){this._service=service,this._key=key,this._defaultValue=defaultValue,this.reset()}return ContextKey2.prototype.set=function(value){this._service.setContext(this._key,value)},ContextKey2.prototype.reset=function(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)},ContextKey2.prototype.get=function(){return this._service.getContextKeyValue(this._key)},ContextKey2}(),SimpleContextKeyChangeEvent=function(){function SimpleContextKeyChangeEvent2(key){this.key=key}return SimpleContextKeyChangeEvent2.prototype.affectsSome=function(keys){return keys.has(this.key)},SimpleContextKeyChangeEvent2}(),ArrayContextKeyChangeEvent=function(){function ArrayContextKeyChangeEvent2(keys){this.keys=keys}return ArrayContextKeyChangeEvent2.prototype.affectsSome=function(keys){for(var _i=0,_a=this.keys;_i<_a.length;_i++){var key=_a[_i];if(keys.has(key))return!0}return!1},ArrayContextKeyChangeEvent2}(),CompositeContextKeyChangeEvent=function(){function CompositeContextKeyChangeEvent2(events){this.events=events}return CompositeContextKeyChangeEvent2.prototype.affectsSome=function(keys){for(var _i=0,_a=this.events;_i<_a.length;_i++){var e=_a[_i];if(e.affectsSome(keys))return!0}return!1},CompositeContextKeyChangeEvent2}(),contextKeyService_AbstractContextKeyService=function(){function AbstractContextKeyService(myContextId){this._onDidChangeContext=new common_event.e({merge:function(input){return new CompositeContextKeyChangeEvent(input)}}),this._isDisposed=!1,this._myContextId=myContextId}return AbstractContextKeyService.prototype.createKey=function(key,defaultValue){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ContextKey(this,key,defaultValue)},Object.defineProperty(AbstractContextKeyService.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext.event},enumerable:!0,configurable:!0}),AbstractContextKeyService.prototype.bufferChangeEvents=function(callback){this._onDidChangeContext.pause();try{callback()}finally{this._onDidChangeContext.resume()}},AbstractContextKeyService.prototype.createScoped=function(domNode){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new contextKeyService_ScopedContextKeyService(this,domNode)},AbstractContextKeyService.prototype.contextMatchesRules=function(rules){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var context=this.getContextValuesContainer(this._myContextId),result=keybindingResolver_KeybindingResolver.contextMatchesRules(context,rules);return result},AbstractContextKeyService.prototype.getContextKeyValue=function(key){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(key)},AbstractContextKeyService.prototype.setContext=function(key,value){if(!this._isDisposed){var myContext=this.getContextValuesContainer(this._myContextId);myContext&&myContext.setValue(key,value)&&this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key))}},AbstractContextKeyService.prototype.removeContext=function(key){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(key)&&this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key))},AbstractContextKeyService.prototype.getContext=function(target){return this._isDisposed?NullContext.INSTANCE:this.getContextValuesContainer(findContextAttr(target))},AbstractContextKeyService}(),contextKeyService_ContextKeyService=function(_super){contextKeyService_extends(ContextKeyService,_super);function ContextKeyService(configurationService){var _this=_super.call(this,0)||this;_this._contexts=new Map,_this._toDispose=new lifecycle.b,_this._lastContextId=0;var myContext=new contextKeyService_ConfigAwareContextValuesContainer(_this._myContextId,configurationService,_this._onDidChangeContext);return _this._contexts.set(_this._myContextId,myContext),_this._toDispose.add(myContext),_this}return ContextKeyService.prototype.dispose=function(){this._isDisposed=!0,this._toDispose.dispose()},ContextKeyService.prototype.getContextValuesContainer=function(contextId){return this._isDisposed?NullContext.INSTANCE:this._contexts.get(contextId)||NullContext.INSTANCE},ContextKeyService.prototype.createChildContext=function(parentContextId){if(parentContextId===void 0&&(parentContextId=this._myContextId),this._isDisposed)throw new Error("ContextKeyService has been disposed");var id=++this._lastContextId;return this._contexts.set(id,new Context(id,this.getContextValuesContainer(parentContextId))),id},ContextKeyService.prototype.disposeContext=function(contextId){this._isDisposed||this._contexts.delete(contextId)},ContextKeyService=contextKeyService_decorate([contextKeyService_param(0,common_configuration.a)],ContextKeyService),ContextKeyService}(contextKeyService_AbstractContextKeyService),contextKeyService_ScopedContextKeyService=function(_super){contextKeyService_extends(ScopedContextKeyService,_super);function ScopedContextKeyService(parent,domNode){var _this=_super.call(this,parent.createChildContext())||this;return _this._parent=parent,domNode&&(_this._domNode=domNode,_this._domNode.setAttribute(KEYBINDING_CONTEXT_ATTR,String(_this._myContextId))),_this}return ScopedContextKeyService.prototype.dispose=function(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(KEYBINDING_CONTEXT_ATTR),this._domNode=void 0)},Object.defineProperty(ScopedContextKeyService.prototype,"onDidChangeContext",{get:function(){return common_event.b.any(this._parent.onDidChangeContext,this._onDidChangeContext.event)},enumerable:!0,configurable:!0}),ScopedContextKeyService.prototype.getContextValuesContainer=function(contextId){return this._isDisposed?NullContext.INSTANCE:this._parent.getContextValuesContainer(contextId)},ScopedContextKeyService.prototype.createChildContext=function(parentContextId){if(parentContextId===void 0&&(parentContextId=this._myContextId),this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(parentContextId)},ScopedContextKeyService.prototype.disposeContext=function(contextId){this._isDisposed||this._parent.disposeContext(contextId)},ScopedContextKeyService}(contextKeyService_AbstractContextKeyService);function findContextAttr(domNode){for(;domNode;){if(domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)){var attr=domNode.getAttribute(KEYBINDING_CONTEXT_ATTR);return attr?parseInt(attr,10):NaN}domNode=domNode.parentElement}return 0}commands.a.registerCommand(contextkey.e,function(accessor,contextKey,contextValue){accessor.get(contextkey.c).createKey(String(contextKey),contextValue)});var contextMenuHandler=__webpack_require__(5808),base_common_actions=__webpack_require__(3113),menu_menu=__webpack_require__(3870),styler=__webpack_require__(3285),browser_event=__webpack_require__(2849),mouseEvent=__webpack_require__(2813),contextMenuHandler_ContextMenuHandler=function(){function ContextMenuHandler(contextViewService,telemetryService,notificationService,keybindingService,themeService){this.contextViewService=contextViewService,this.telemetryService=telemetryService,this.notificationService=notificationService,this.keybindingService=keybindingService,this.themeService=themeService,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}return ContextMenuHandler.prototype.configure=function(options){this.options=options},ContextMenuHandler.prototype.showContextMenu=function(delegate){var _this=this,actions=delegate.getActions();if(actions.length){this.focusToReturn=document.activeElement;var menu;this.contextViewService.showContextView({getAnchor:function(){return delegate.getAnchor()},canRelayout:!1,anchorAlignment:delegate.anchorAlignment,render:function(container){var className=delegate.getMenuClassName?delegate.getMenuClassName():"";className&&(container.className+=" "+className),_this.options.blockMouse&&(_this.block=container.appendChild(Object(dom.a)(".context-view-block")));var menuDisposables=new lifecycle.b,actionRunner=delegate.actionRunner||new base_common_actions.b;return actionRunner.onDidBeforeRun(_this.onActionRun,_this,menuDisposables),actionRunner.onDidRun(_this.onDidActionRun,_this,menuDisposables),menu=new menu_menu.a(container,actions,{actionViewItemProvider:delegate.getActionViewItem,context:delegate.getActionsContext?delegate.getActionsContext():null,actionRunner,getKeyBinding:delegate.getKeyBinding?delegate.getKeyBinding:function(action){return _this.keybindingService.lookupKeybinding(action.id)}}),menuDisposables.add(Object(styler.c)(menu,_this.themeService)),menu.onDidCancel(function(){return _this.contextViewService.hideContextView(!0)},null,menuDisposables),menu.onDidBlur(function(){return _this.contextViewService.hideContextView(!0)},null,menuDisposables),Object(browser_event.a)(window,dom.d.BLUR)(function(){_this.contextViewService.hideContextView(!0)},null,menuDisposables),Object(browser_event.a)(window,dom.d.MOUSE_DOWN)(function(e){if(!e.defaultPrevented){var event=new mouseEvent.b(e),element=event.target;if(!event.rightButton){for(;element;){if(element===container)return;element=element.parentElement}_this.contextViewService.hideContextView(!0)}}},null,menuDisposables),Object(lifecycle.e)(menuDisposables,menu)},focus:function(){menu&&menu.focus(!!delegate.autoSelectFirstItem)},onHide:function(didCancel){delegate.onHide&&delegate.onHide(!!didCancel),_this.block&&(Object(dom.O)(_this.block),_this.block=null),_this.focusToReturn&&_this.focusToReturn.focus()}})}},ContextMenuHandler.prototype.onActionRun=function(e){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()},ContextMenuHandler.prototype.onDidActionRun=function(e){e.error&&this.notificationService&&this.notificationService.error(e.error)},ContextMenuHandler}(),telemetry=__webpack_require__(3365),contextMenuService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),contextMenuService_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},contextMenuService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},contextMenuService_ContextMenuService=function(_super){contextMenuService_extends(ContextMenuService,_super);function ContextMenuService(telemetryService,notificationService,contextViewService,keybindingService,themeService){var _this=_super.call(this)||this;return _this._onDidContextMenu=_this._register(new common_event.a),_this.contextMenuHandler=new contextMenuHandler_ContextMenuHandler(contextViewService,telemetryService,notificationService,keybindingService,themeService),_this}return ContextMenuService.prototype.configure=function(options){this.contextMenuHandler.configure(options)},ContextMenuService.prototype.showContextMenu=function(delegate){this.contextMenuHandler.showContextMenu(delegate),this._onDidContextMenu.fire()},ContextMenuService=contextMenuService_decorate([contextMenuService_param(0,telemetry.a),contextMenuService_param(1,common_notification.a),contextMenuService_param(2,contextView.b),contextMenuService_param(3,common_keybinding.a),contextMenuService_param(4,common_themeService.c)],ContextMenuService),ContextMenuService}(lifecycle.a),contextview=__webpack_require__(5809),common_range=__webpack_require__(3379),canIUse=__webpack_require__(3279),contextview_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function layout(viewportSize,viewSize,anchor){var anchorEnd=anchor.offset+anchor.size;return anchor.position===0?viewSize<=viewportSize-anchorEnd?anchorEnd:viewSize<=anchor.offset?anchor.offset-viewSize:Math.max(viewportSize-viewSize,0):viewSize<=anchor.offset?anchor.offset-viewSize:viewSize<=viewportSize-anchorEnd?anchorEnd:0}var contextview_ContextView=function(_super){contextview_extends(ContextView,_super);function ContextView(container){var _this=_super.call(this)||this;return _this.container=null,_this.delegate=null,_this.toDisposeOnClean=lifecycle.a.None,_this.toDisposeOnSetContainer=lifecycle.a.None,_this.view=dom.a(".context-view"),dom.H(_this.view),_this.setContainer(container),_this._register(Object(lifecycle.h)(function(){return _this.setContainer(null)})),_this}return ContextView.prototype.setContainer=function(container){var _this=this;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.container.removeChild(this.view),this.container=null),container){this.container=container,this.container.appendChild(this.view);var toDisposeOnSetContainer_1=new lifecycle.b;ContextView.BUBBLE_UP_EVENTS.forEach(function(event){toDisposeOnSetContainer_1.add(dom.o(_this.container,event,function(e){_this.onDOMEvent(e,!1)}))}),ContextView.BUBBLE_DOWN_EVENTS.forEach(function(event){toDisposeOnSetContainer_1.add(dom.o(_this.container,event,function(e){_this.onDOMEvent(e,!0)},!0))}),this.toDisposeOnSetContainer=toDisposeOnSetContainer_1}},ContextView.prototype.show=function(delegate){this.isVisible()&&this.hide(),dom.t(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",dom.U(this.view),this.toDisposeOnClean=delegate.render(this.view)||lifecycle.a.None,this.delegate=delegate,this.doLayout(),this.delegate.focus&&this.delegate.focus()},ContextView.prototype.layout=function(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(platform.c&&canIUse.a.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}},ContextView.prototype.doLayout=function(){if(this.isVisible()){var anchor=this.delegate.getAnchor(),around;if(dom.J(anchor)){var elementPosition=dom.B(anchor);around={top:elementPosition.top,left:elementPosition.left,width:elementPosition.width,height:elementPosition.height}}else around={top:anchor.y,left:anchor.x,width:anchor.width||1,height:anchor.height||2};var viewSizeWidth=dom.F(this.view),viewSizeHeight=dom.E(this.view),anchorPosition=this.delegate.anchorPosition||0,anchorAlignment=this.delegate.anchorAlignment||0,verticalAnchor={offset:around.top-window.pageYOffset,size:around.height,position:anchorPosition===0?0:1},horizontalAnchor;anchorAlignment===0?horizontalAnchor={offset:around.left,size:0,position:0}:horizontalAnchor={offset:around.left+around.width,size:0,position:1};var top=layout(window.innerHeight,viewSizeHeight,verticalAnchor)+window.pageYOffset;common_range.a.intersects({start:top,end:top+viewSizeHeight},{start:verticalAnchor.offset,end:verticalAnchor.offset+verticalAnchor.size})&&(horizontalAnchor.size=around.width,anchorAlignment===1&&(horizontalAnchor.offset=around.left));var left=layout(window.innerWidth,viewSizeWidth,horizontalAnchor);dom.N(this.view,"top","bottom","left","right"),dom.f(this.view,anchorPosition===0?"bottom":"top"),dom.f(this.view,anchorAlignment===0?"left":"right");var containerPosition=dom.B(this.container);this.view.style.top=top-containerPosition.top+"px",this.view.style.left=left-containerPosition.left+"px",this.view.style.width="initial"}},ContextView.prototype.hide=function(data){var _a,delegate=this.delegate;this.delegate=null,!((_a=delegate)===null||_a===void 0)&&_a.onHide&&delegate.onHide(data),this.toDisposeOnClean.dispose(),dom.H(this.view)},ContextView.prototype.isVisible=function(){return!!this.delegate},ContextView.prototype.onDOMEvent=function(e,onCapture){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):onCapture&&!dom.I(e.target,this.container)&&this.hide())},ContextView.prototype.dispose=function(){this.hide(),_super.prototype.dispose.call(this)},ContextView.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],ContextView.BUBBLE_DOWN_EVENTS=["click"],ContextView}(lifecycle.a),ILayoutService=Object(instantiation.c)("layoutService"),contextViewService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),contextViewService_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},contextViewService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},contextViewService_ContextViewService=function(_super){contextViewService_extends(ContextViewService,_super);function ContextViewService(layoutService){var _this=_super.call(this)||this;return _this.layoutService=layoutService,_this.contextView=_this._register(new contextview_ContextView(layoutService.container)),_this.layout(),_this._register(layoutService.onLayout(function(){return _this.layout()})),_this}return ContextViewService.prototype.setContainer=function(container){this.contextView.setContainer(container)},ContextViewService.prototype.showContextView=function(delegate){this.contextView.show(delegate)},ContextViewService.prototype.layout=function(){this.contextView.layout()},ContextViewService.prototype.hideContextView=function(data){this.contextView.hide(data)},ContextViewService=contextViewService_decorate([contextViewService_param(0,ILayoutService)],ContextViewService),ContextViewService}(lifecycle.a),IDialogService=Object(instantiation.c)("dialogService"),collections=__webpack_require__(3281);function newNode(data){return{data,incoming:Object.create(null),outgoing:Object.create(null)}}var graph_Graph=function(){function Graph(_hashFn){this._hashFn=_hashFn,this._nodes=Object.create(null)}return Graph.prototype.roots=function(){var ret=[];return Object(collections.c)(this._nodes,function(entry){Object(types.f)(entry.value.outgoing)&&ret.push(entry.value)}),ret},Graph.prototype.insertEdge=function(from,to){var fromNode=this.lookupOrInsertNode(from),toNode=this.lookupOrInsertNode(to);fromNode.outgoing[this._hashFn(to)]=toNode,toNode.incoming[this._hashFn(from)]=fromNode},Graph.prototype.removeNode=function(data){var key=this._hashFn(data);delete this._nodes[key],Object(collections.c)(this._nodes,function(entry){delete entry.value.outgoing[key],delete entry.value.incoming[key]})},Graph.prototype.lookupOrInsertNode=function(data){var key=this._hashFn(data),node=this._nodes[key];return node||(node=newNode(data),this._nodes[key]=node),node},Graph.prototype.isEmpty=function(){for(var _key in this._nodes)return!1;return!0},Graph.prototype.toString=function(){var data=[];return Object(collections.c)(this._nodes,function(entry){data.push(entry.key+", (incoming)["+Object.keys(entry.value.incoming).join(", ")+"], (outgoing)["+Object.keys(entry.value.outgoing).join(",")+"]")}),data.join(`
`)},Graph}(),descriptors=__webpack_require__(3868),serviceCollection=__webpack_require__(3378),instantiationService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),instantiationService_spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},_enableTracing=!1,_canUseProxy=typeof Proxy=="function",CyclicDependencyError=function(_super){instantiationService_extends(CyclicDependencyError2,_super);function CyclicDependencyError2(graph){var _this=_super.call(this,"cyclic dependency between services")||this;return _this.message=graph.toString(),_this}return CyclicDependencyError2}(Error),instantiationService_InstantiationService=function(){function InstantiationService(services,strict,parent){services===void 0&&(services=new serviceCollection.a),strict===void 0&&(strict=!1),this._services=services,this._strict=strict,this._parent=parent,this._services.set(instantiation.a,this)}return InstantiationService.prototype.createChild=function(services){return new InstantiationService(services,this._strict,this)},InstantiationService.prototype.invokeFunction=function(fn){for(var _this=this,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var _trace=Trace.traceInvocation(fn),_done=!1;try{var accessor={get:function(id,isOptional){if(_done)throw Object(errors.c)("service accessor is only valid during the invocation of its target method");var result=_this._getOrCreateServiceInstance(id,_trace);if(!result&&isOptional!==instantiation.d)throw new Error("[invokeFunction] unknown service '"+id+"'");return result}};return fn.apply(void 0,instantiationService_spreadArrays([accessor],args))}finally{_done=!0,_trace.stop()}},InstantiationService.prototype.createInstance=function(ctorOrDescriptor){for(var rest=[],_i=1;_i<arguments.length;_i++)rest[_i-1]=arguments[_i];var _trace,result;return ctorOrDescriptor instanceof descriptors.a?(_trace=Trace.traceCreation(ctorOrDescriptor.ctor),result=this._createInstance(ctorOrDescriptor.ctor,ctorOrDescriptor.staticArguments.concat(rest),_trace)):(_trace=Trace.traceCreation(ctorOrDescriptor),result=this._createInstance(ctorOrDescriptor,rest,_trace)),_trace.stop(),result},InstantiationService.prototype._createInstance=function(ctor,args,_trace){args===void 0&&(args=[]);for(var serviceDependencies=instantiation.b.getServiceDependencies(ctor).sort(function(a,b){return a.index-b.index}),serviceArgs=[],_i=0,serviceDependencies_1=serviceDependencies;_i<serviceDependencies_1.length;_i++){var dependency=serviceDependencies_1[_i],service=this._getOrCreateServiceInstance(dependency.id,_trace);if(!service&&this._strict&&!dependency.optional)throw new Error("[createInstance] "+ctor.name+" depends on UNKNOWN service "+dependency.id+".");serviceArgs.push(service)}var firstServiceArgPos=serviceDependencies.length>0?serviceDependencies[0].index:args.length;if(args.length!==firstServiceArgPos){console.warn("[createInstance] First service dependency of "+ctor.name+" at position "+(firstServiceArgPos+1)+" conflicts with "+args.length+" static arguments");var delta=firstServiceArgPos-args.length;delta>0?args=args.concat(new Array(delta)):args=args.slice(0,firstServiceArgPos)}return new(ctor.bind.apply(ctor,instantiationService_spreadArrays([void 0],instantiationService_spreadArrays(args,serviceArgs))))},InstantiationService.prototype._setServiceInstance=function(id,instance){if(this._services.get(id)instanceof descriptors.a)this._services.set(id,instance);else if(this._parent)this._parent._setServiceInstance(id,instance);else throw new Error("illegalState - setting UNKNOWN service instance")},InstantiationService.prototype._getServiceInstanceOrDescriptor=function(id){var instanceOrDesc=this._services.get(id);return!instanceOrDesc&&this._parent?this._parent._getServiceInstanceOrDescriptor(id):instanceOrDesc},InstantiationService.prototype._getOrCreateServiceInstance=function(id,_trace){var thing=this._getServiceInstanceOrDescriptor(id);return thing instanceof descriptors.a?this._createAndCacheServiceInstance(id,thing,_trace.branch(id,!0)):(_trace.branch(id,!1),thing)},InstantiationService.prototype._createAndCacheServiceInstance=function(id,desc,_trace){for(var graph=new graph_Graph(function(data2){return data2.id.toString()}),cycleCount=0,stack=[{id,desc,_trace}];stack.length;){var item=stack.pop();if(graph.lookupOrInsertNode(item),cycleCount++>150)throw new CyclicDependencyError(graph);for(var _i=0,_a=instantiation.b.getServiceDependencies(item.desc.ctor);_i<_a.length;_i++){var dependency=_a[_i],instanceOrDesc=this._getServiceInstanceOrDescriptor(dependency.id);if(!instanceOrDesc&&!dependency.optional&&console.warn("[createInstance] "+id+" depends on "+dependency.id+" which is NOT registered."),instanceOrDesc instanceof descriptors.a){var d={id:dependency.id,desc:instanceOrDesc,_trace:item._trace.branch(dependency.id,!0)};graph.insertEdge(item,d),stack.push(d)}}}for(;;){var roots=graph.roots();if(roots.length===0){if(!graph.isEmpty())throw new CyclicDependencyError(graph);break}for(var _b=0,roots_1=roots;_b<roots_1.length;_b++){var data=roots_1[_b].data,instance=this._createServiceInstanceWithOwner(data.id,data.desc.ctor,data.desc.staticArguments,data.desc.supportsDelayedInstantiation,data._trace);this._setServiceInstance(data.id,instance),graph.removeNode(data)}}return this._getServiceInstanceOrDescriptor(id)},InstantiationService.prototype._createServiceInstanceWithOwner=function(id,ctor,args,supportsDelayedInstantiation,_trace){if(args===void 0&&(args=[]),this._services.get(id)instanceof descriptors.a)return this._createServiceInstance(ctor,args,supportsDelayedInstantiation,_trace);if(this._parent)return this._parent._createServiceInstanceWithOwner(id,ctor,args,supportsDelayedInstantiation,_trace);throw new Error("illegalState - creating UNKNOWN service instance "+ctor.name)},InstantiationService.prototype._createServiceInstance=function(ctor,args,_supportsDelayedInstantiation,_trace){var _this=this;if(args===void 0&&(args=[]),!_supportsDelayedInstantiation||!_canUseProxy)return this._createInstance(ctor,args,_trace);var idle_1=new common_async.b(function(){return _this._createInstance(ctor,args,_trace)});return new Proxy(Object.create(null),{get:function(target,key){if(key in target)return target[key];var obj=idle_1.getValue(),prop=obj[key];return typeof prop!="function"||(prop=prop.bind(obj),target[key]=prop),prop},set:function(_target,p,value){return idle_1.getValue()[p]=value,!0}})},InstantiationService}(),Trace=function(){function Trace2(type,name){this.type=type,this.name=name,this._start=Date.now(),this._dep=[]}return Trace2.traceInvocation=function(ctor){return _enableTracing?new Trace2(1,ctor.name||ctor.toString().substring(0,42).replace(/\n/g,"")):Trace2._None},Trace2.traceCreation=function(ctor){return _enableTracing?new Trace2(0,ctor.name):Trace2._None},Trace2.prototype.branch=function(id,first){var child=new Trace2(2,id.toString());return this._dep.push([id,first,child]),child},Trace2.prototype.stop=function(){var dur=Date.now()-this._start;Trace2._totals+=dur;var causedCreation=!1;function printChild(n,trace){for(var res=[],prefix=new Array(n+1).join("	"),_i=0,_a=trace._dep;_i<_a.length;_i++){var _b=_a[_i],id=_b[0],first=_b[1],child=_b[2];if(first&&child){causedCreation=!0,res.push(prefix+"CREATES -> "+id);var nested=printChild(n+1,child);nested&&res.push(nested)}else res.push(prefix+"uses -> "+id)}return res.join(`
`)}var lines=[(this.type===0?"CREATE":"CALL")+" "+this.name,""+printChild(1,this),"DONE, took "+dur.toFixed(2)+"ms (grand total "+Trace2._totals.toFixed(2)+"ms)"];(dur>2||causedCreation)&&console.log(lines.join(`
`))},Trace2._None=new(function(_super){instantiationService_extends(class_1,_super);function class_1(){return _super.call(this,-1,null)||this}return class_1.prototype.stop=function(){},class_1.prototype.branch=function(){return this},class_1}(Trace2)),Trace2._totals=0,Trace2}(),common_label=__webpack_require__(3381),listService=__webpack_require__(3598),common_markers=__webpack_require__(3193),markerService_MapMap;(function(MapMap){function get(map,key1,key2){if(map[key1])return map[key1][key2]}MapMap.get=get;function set(map,key1,key2,value){map[key1]||(map[key1]=Object.create(null)),map[key1][key2]=value}MapMap.set=set;function remove(map,key1,key2){return map[key1]&&map[key1][key2]?(delete map[key1][key2],Object(types.f)(map[key1])&&delete map[key1],!0):!1}MapMap.remove=remove})(markerService_MapMap||(markerService_MapMap={}));var markerService_MarkerStats=function(){function MarkerStats(service){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=service,this._subscription=service.onMarkerChanged(this._update,this)}return MarkerStats.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},MarkerStats.prototype._update=function(resources2){if(this._data)for(var _i=0,resources_1=resources2;_i<resources_1.length;_i++){var resource=resources_1[_i],key=resource.toString(),oldStats=this._data[key];oldStats&&this._substract(oldStats);var newStats=this._resourceStats(resource);this._add(newStats),this._data[key]=newStats}},MarkerStats.prototype._resourceStats=function(resource){var result={errors:0,warnings:0,infos:0,unknowns:0};if(resource.scheme===network.b.inMemory||resource.scheme===network.b.walkThrough||resource.scheme===network.b.walkThroughSnippet)return result;for(var _i=0,_a=this._service.read({resource});_i<_a.length;_i++){var severity=_a[_i].severity;severity===common_markers.c.Error?result.errors+=1:severity===common_markers.c.Warning?result.warnings+=1:severity===common_markers.c.Info?result.infos+=1:result.unknowns+=1}return result},MarkerStats.prototype._substract=function(op){this.errors-=op.errors,this.warnings-=op.warnings,this.infos-=op.infos,this.unknowns-=op.unknowns},MarkerStats.prototype._add=function(op){this.errors+=op.errors,this.warnings+=op.warnings,this.infos+=op.infos,this.unknowns+=op.unknowns},MarkerStats}(),markerService_MarkerService=function(){function MarkerService(){this._onMarkerChanged=new common_event.a,this._onMarkerChangedEvent=common_event.b.debounce(this._onMarkerChanged.event,MarkerService._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new markerService_MarkerStats(this)}return MarkerService.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(MarkerService.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),MarkerService.prototype.remove=function(owner,resources2){for(var _i=0,_a=resources2||[];_i<_a.length;_i++){var resource=_a[_i];this.changeOne(owner,resource,[])}},MarkerService.prototype.changeOne=function(owner,resource,markerData){if(Object(arrays.p)(markerData)){var a=markerService_MapMap.remove(this._byResource,resource.toString(),owner),b=markerService_MapMap.remove(this._byOwner,owner,resource.toString());if(a!==b)throw new Error("invalid marker service state");a&&b&&this._onMarkerChanged.fire([resource])}else{for(var markers=[],_i=0,markerData_1=markerData;_i<markerData_1.length;_i++){var data=markerData_1[_i],marker=MarkerService._toMarker(owner,resource,data);marker&&markers.push(marker)}markerService_MapMap.set(this._byResource,resource.toString(),owner,markers),markerService_MapMap.set(this._byOwner,owner,resource.toString(),markers),this._onMarkerChanged.fire([resource])}},MarkerService._toMarker=function(owner,resource,data){var code=data.code,severity=data.severity,message=data.message,source=data.source,startLineNumber=data.startLineNumber,startColumn=data.startColumn,endLineNumber=data.endLineNumber,endColumn=data.endColumn,relatedInformation=data.relatedInformation,tags=data.tags;if(message)return startLineNumber=startLineNumber>0?startLineNumber:1,startColumn=startColumn>0?startColumn:1,endLineNumber=endLineNumber>=startLineNumber?endLineNumber:startLineNumber,endColumn=endColumn>0?endColumn:startColumn,{resource,owner,code,severity,message,source,startLineNumber,startColumn,endLineNumber,endColumn,relatedInformation,tags}},MarkerService.prototype.read=function(filter){filter===void 0&&(filter=Object.create(null));var owner=filter.owner,resource=filter.resource,severities=filter.severities,take=filter.take;if((!take||take<0)&&(take=-1),owner&&resource){var data=markerService_MapMap.get(this._byResource,resource.toString(),owner);if(data){for(var result=[],_i=0,data_1=data;_i<data_1.length;_i++){var marker=data_1[_i];if(MarkerService._accept(marker,severities)){var newLen=result.push(marker);if(take>0&&newLen===take)break}}return result}else return[]}else if(!owner&&!resource){var result=[];for(var key1 in this._byResource)for(var key2 in this._byResource[key1])for(var _a=0,_b=this._byResource[key1][key2];_a<_b.length;_a++){var data=_b[_a];if(MarkerService._accept(data,severities)){var newLen=result.push(data);if(take>0&&newLen===take)return result}}return result}else{var map=owner?this._byOwner[owner]:resource?this._byResource[resource.toString()]:void 0;if(!map)return[];var result=[];for(var key in map)for(var _c=0,_d=map[key];_c<_d.length;_c++){var data=_d[_c];if(MarkerService._accept(data,severities)){var newLen=result.push(data);if(take>0&&newLen===take)return result}}return result}},MarkerService._accept=function(marker,severities){return severities===void 0||(severities&marker.severity)===marker.severity},MarkerService._debouncer=function(last,event){last||(MarkerService._dedupeMap=Object.create(null),last=[]);for(var _i=0,event_1=event;_i<event_1.length;_i++){var uri=event_1[_i];MarkerService._dedupeMap[uri.toString()]===void 0&&(MarkerService._dedupeMap[uri.toString()]=!0,last.push(uri))}return last},MarkerService}(),storage=__webpack_require__(3195),menuService_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},menuService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},menuService_MenuService=function(){function MenuService(_commandService){this._commandService=_commandService}return MenuService.prototype.createMenu=function(id,contextKeyService){return new menuService_Menu(id,this._commandService,contextKeyService)},MenuService=menuService_decorate([menuService_param(0,commands.b)],MenuService),MenuService}(),menuService_Menu=function(){function Menu(_id,_commandService,_contextKeyService){var _this=this;this._id=_id,this._commandService=_commandService,this._contextKeyService=_contextKeyService,this._onDidChange=new common_event.a,this._dispoables=new lifecycle.b,this._menuGroups=[],this._contextKeys=new Set,this._build(),this._dispoables.add(common_event.b.debounce(common_event.b.filter(common_actions.c.onDidChangeMenu,function(menuId){return menuId===_this._id}),function(){},50)(this._build,this)),this._dispoables.add(common_event.b.debounce(this._contextKeyService.onDidChangeContext,function(last,event){return last||event.affectsSome(_this._contextKeys)},50)(function(e){return e&&_this._onDidChange.fire(void 0)},this))}return Menu.prototype.dispose=function(){this._dispoables.dispose(),this._onDidChange.dispose()},Menu.prototype._build=function(){this._menuGroups.length=0,this._contextKeys.clear();var menuItems=common_actions.c.getMenuItems(this._id),group;menuItems.sort(Menu._compareMenuItems);for(var _i=0,menuItems_1=menuItems;_i<menuItems_1.length;_i++){var item=menuItems_1[_i],groupName=item.group||"";(!group||group[0]!==groupName)&&(group=[groupName,[]],this._menuGroups.push(group)),group[1].push(item),Menu._fillInKbExprKeys(item.when,this._contextKeys),Object(common_actions.e)(item)&&item.command.precondition&&Menu._fillInKbExprKeys(item.command.precondition,this._contextKeys),Object(common_actions.e)(item)&&item.command.toggled&&Menu._fillInKbExprKeys(item.command.toggled,this._contextKeys)}this._onDidChange.fire(this)},Menu.prototype.getActions=function(options){for(var result=[],_i=0,_a=this._menuGroups;_i<_a.length;_i++){for(var group=_a[_i],id=group[0],items=group[1],activeActions=[],_b=0,items_1=items;_b<items_1.length;_b++){var item=items_1[_b];if(this._contextKeyService.contextMatchesRules(item.when)){var action=Object(common_actions.e)(item)?new common_actions.b(item.command,item.alt,options,this._contextKeyService,this._commandService):new common_actions.d(item);activeActions.push(action)}}activeActions.length>0&&result.push([id,activeActions])}return result},Menu._fillInKbExprKeys=function(exp,set){if(exp)for(var _i=0,_a=exp.keys();_i<_a.length;_i++){var key=_a[_i];set.add(key)}},Menu._compareMenuItems=function(a,b){var aGroup=a.group,bGroup=b.group;if(aGroup!==bGroup){if(aGroup){if(!bGroup)return-1}else return 1;if(aGroup==="navigation")return-1;if(bGroup==="navigation")return 1;var value=aGroup.localeCompare(bGroup);if(value!==0)return value}var aPrio=a.order||0,bPrio=b.order||0;return aPrio<bPrio?-1:aPrio>bPrio?1:Menu._compareTitles(Object(common_actions.e)(a)?a.command.title:a.title,Object(common_actions.e)(b)?b.command.title:b.title)},Menu._compareTitles=function(a,b){var aStr=typeof a=="string"?a:a.value,bStr=typeof b=="string"?b:b.value;return aStr.localeCompare(bStr)},Menu=menuService_decorate([menuService_param(1,commands.b),menuService_param(2,contextkey.c)],Menu),Menu}(),markersDecorationService=__webpack_require__(3884),markerDecorationsServiceImpl_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),markerDecorationsServiceImpl_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},markerDecorationsServiceImpl_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};function markerDecorationsServiceImpl_MODEL_ID(resource){return resource.toString()}var markerDecorationsServiceImpl_MarkerDecorations=function(_super){markerDecorationsServiceImpl_extends(MarkerDecorations,_super);function MarkerDecorations(model){var _this=_super.call(this)||this;return _this.model=model,_this._markersData=new Map,_this._register(Object(lifecycle.h)(function(){_this.model.deltaDecorations(Object(common_map.d)(_this._markersData),[]),_this._markersData.clear()})),_this}return MarkerDecorations.prototype.update=function(markers,newDecorations){for(var ids=this.model.deltaDecorations(Object(common_map.d)(this._markersData),newDecorations),index=0;index<ids.length;index++)this._markersData.set(ids[index],markers[index])},MarkerDecorations.prototype.getMarker=function(decoration){return this._markersData.get(decoration.id)},MarkerDecorations}(lifecycle.a),markerDecorationsServiceImpl_MarkerDecorationsService=function(_super){markerDecorationsServiceImpl_extends(MarkerDecorationsService,_super);function MarkerDecorationsService(modelService,_markerService){var _this=_super.call(this)||this;return _this._markerService=_markerService,_this._onDidChangeMarker=_this._register(new common_event.a),_this._markerDecorations=new Map,modelService.getModels().forEach(function(model){return _this._onModelAdded(model)}),_this._register(modelService.onModelAdded(_this._onModelAdded,_this)),_this._register(modelService.onModelRemoved(_this._onModelRemoved,_this)),_this._register(_this._markerService.onMarkerChanged(_this._handleMarkerChange,_this)),_this}return MarkerDecorationsService.prototype.dispose=function(){_super.prototype.dispose.call(this),this._markerDecorations.forEach(function(value){return value.dispose()}),this._markerDecorations.clear()},MarkerDecorationsService.prototype.getMarker=function(model,decoration){var markerDecorations=this._markerDecorations.get(markerDecorationsServiceImpl_MODEL_ID(model.uri));return markerDecorations?Object(types.o)(markerDecorations.getMarker(decoration)):null},MarkerDecorationsService.prototype._handleMarkerChange=function(changedResources){var _this=this;changedResources.forEach(function(resource){var markerDecorations=_this._markerDecorations.get(markerDecorationsServiceImpl_MODEL_ID(resource));markerDecorations&&_this._updateDecorations(markerDecorations)})},MarkerDecorationsService.prototype._onModelAdded=function(model){var markerDecorations=new markerDecorationsServiceImpl_MarkerDecorations(model);this._markerDecorations.set(markerDecorationsServiceImpl_MODEL_ID(model.uri),markerDecorations),this._updateDecorations(markerDecorations)},MarkerDecorationsService.prototype._onModelRemoved=function(model){var _this=this,markerDecorations=this._markerDecorations.get(markerDecorationsServiceImpl_MODEL_ID(model.uri));markerDecorations&&(markerDecorations.dispose(),this._markerDecorations.delete(markerDecorationsServiceImpl_MODEL_ID(model.uri))),(model.uri.scheme===network.b.inMemory||model.uri.scheme===network.b.internal||model.uri.scheme===network.b.vscode)&&this._markerService&&this._markerService.read({resource:model.uri}).map(function(marker){return marker.owner}).forEach(function(owner){return _this._markerService.remove(owner,[model.uri])})},MarkerDecorationsService.prototype._updateDecorations=function(markerDecorations){var _this=this,markers=this._markerService.read({resource:markerDecorations.model.uri,take:500}),newModelDecorations=markers.map(function(marker){return{range:_this._createDecorationRange(markerDecorations.model,marker),options:_this._createDecorationOption(marker)}});markerDecorations.update(markers,newModelDecorations),this._onDidChangeMarker.fire(markerDecorations.model)},MarkerDecorationsService.prototype._createDecorationRange=function(model,rawMarker){var ret=core_range.a.lift(rawMarker);if(rawMarker.severity===common_markers.c.Hint&&(!rawMarker.tags||rawMarker.tags.indexOf(1)===-1)&&(ret=ret.setEndPosition(ret.startLineNumber,ret.startColumn+2)),ret=model.validateRange(ret),ret.isEmpty()){var word=model.getWordAtPosition(ret.getStartPosition());if(word)ret=new core_range.a(ret.startLineNumber,word.startColumn,ret.endLineNumber,word.endColumn);else{var maxColumn=model.getLineLastNonWhitespaceColumn(ret.startLineNumber)||model.getLineMaxColumn(ret.startLineNumber);maxColumn===1||(ret.endColumn>=maxColumn?ret=new core_range.a(ret.startLineNumber,maxColumn-1,ret.endLineNumber,maxColumn):ret=new core_range.a(ret.startLineNumber,ret.startColumn,ret.endLineNumber,ret.endColumn+1))}}else if(rawMarker.endColumn===Number.MAX_VALUE&&rawMarker.startColumn===1&&ret.startLineNumber===ret.endLineNumber){var minColumn=model.getLineFirstNonWhitespaceColumn(rawMarker.startLineNumber);minColumn<ret.endColumn&&(ret=new core_range.a(ret.startLineNumber,minColumn,ret.endLineNumber,ret.endColumn),rawMarker.startColumn=minColumn)}return ret},MarkerDecorationsService.prototype._createDecorationOption=function(marker){var className,color=void 0,zIndex,inlineClassName=void 0,minimap;switch(marker.severity){case common_markers.c.Hint:marker.tags&&marker.tags.indexOf(1)>=0?className="squiggly-unnecessary":className="squiggly-hint",zIndex=0;break;case common_markers.c.Warning:className="squiggly-warning",color=Object(common_themeService.f)(editorColorRegistry.r),zIndex=20,minimap={color:Object(common_themeService.f)(colorRegistry.Jb),position:common_model.c.Inline};break;case common_markers.c.Info:className="squiggly-info",color=Object(common_themeService.f)(editorColorRegistry.q),zIndex=10;break;case common_markers.c.Error:default:className="squiggly-error",color=Object(common_themeService.f)(editorColorRegistry.p),zIndex=30,minimap={color:Object(common_themeService.f)(colorRegistry.Gb),position:common_model.c.Inline};break}return marker.tags&&(marker.tags.indexOf(1)!==-1&&(inlineClassName="squiggly-inline-unnecessary"),marker.tags.indexOf(2)!==-1&&(inlineClassName="squiggly-inline-deprecated")),{stickiness:1,className,showIfCollapsed:!0,overviewRuler:{color,position:common_model.d.Right},minimap,zIndex,inlineClassName}},MarkerDecorationsService=markerDecorationsServiceImpl_decorate([markerDecorationsServiceImpl_param(0,services_modelService.a),markerDecorationsServiceImpl_param(1,common_markers.b)],MarkerDecorationsService),MarkerDecorationsService}(lifecycle.a),abstractAccessibilityService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),abstractAccessibilityService_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},abstractAccessibilityService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},abstractAccessibilityService_AbstractAccessibilityService=function(_super){abstractAccessibilityService_extends(AbstractAccessibilityService,_super);function AbstractAccessibilityService(_contextKeyService,_configurationService){var _this=_super.call(this)||this;return _this._contextKeyService=_contextKeyService,_this._configurationService=_configurationService,_this._onDidChangeAccessibilitySupport=new common_event.a,_this.onDidChangeAccessibilitySupport=_this._onDidChangeAccessibilitySupport.event,_this._accessibilityModeEnabledContext=accessibility.a.bindTo(_this._contextKeyService),_this._register(_this._configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration("editor.accessibilitySupport")&&_this._updateContextKey()})),_this._updateContextKey(),_this.onDidChangeAccessibilitySupport(function(){return _this._updateContextKey()}),_this}return AbstractAccessibilityService.prototype._updateContextKey=function(){var detected=this.getAccessibilitySupport()===2,config=this._configurationService.getValue("editor.accessibilitySupport");this._accessibilityModeEnabledContext.set(config==="on"||config==="auto"&&detected)},AbstractAccessibilityService=abstractAccessibilityService_decorate([abstractAccessibilityService_param(0,contextkey.c),abstractAccessibilityService_param(1,common_configuration.a)],AbstractAccessibilityService),AbstractAccessibilityService}(lifecycle.a),accessibilityService_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),accessibilityService_decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},accessibilityService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},accessibilityService_BrowserAccessibilityService=function(_super){accessibilityService_extends(BrowserAccessibilityService,_super);function BrowserAccessibilityService(contextKeyService,configurationService){var _this=_super.call(this,contextKeyService,configurationService)||this;return _this.contextKeyService=contextKeyService,_this.configurationService=configurationService,_this._accessibilitySupport=0,_this}return BrowserAccessibilityService.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},BrowserAccessibilityService=accessibilityService_decorate([accessibilityService_param(0,contextkey.c),accessibilityService_param(1,common_configuration.a)],BrowserAccessibilityService),BrowserAccessibilityService}(abstractAccessibilityService_AbstractAccessibilityService),extensions=__webpack_require__(3237),standaloneServices_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)b2.hasOwnProperty(p)&&(d2[p]=b2[p])},extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}(),standaloneServices_StaticServices;(function(StaticServices){var _serviceCollection=new serviceCollection.a,LazyStaticService=function(){function LazyStaticService2(serviceId,factory){this._serviceId=serviceId,this._factory=factory,this._value=null}return Object.defineProperty(LazyStaticService2.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),LazyStaticService2.prototype.get=function(overrides){if(!this._value){if(overrides&&(this._value=overrides[this._serviceId.toString()]),this._value||(this._value=this._factory(overrides)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");_serviceCollection.set(this._serviceId,this._value)}return this._value},LazyStaticService2}();StaticServices.LazyStaticService=LazyStaticService;var _all=[];function define(serviceId,factory){var r=new LazyStaticService(serviceId,factory);return _all.push(r),r}function init(overrides){for(var result=new serviceCollection.a,_i=0,_a=Object(extensions.a)();_i<_a.length;_i++){var _b=_a[_i],id=_b[0],descriptor=_b[1];result.set(id,descriptor)}for(var serviceId in overrides)overrides.hasOwnProperty(serviceId)&&result.set(Object(instantiation.c)(serviceId),overrides[serviceId]);_all.forEach(function(service){return result.set(service.id,service.get(overrides))});var instantiationService=new instantiationService_InstantiationService(result,!0);return result.set(instantiation.a,instantiationService),[result,instantiationService]}StaticServices.init=init,StaticServices.instantiationService=define(instantiation.a,function(){return new instantiationService_InstantiationService(_serviceCollection,!0)});var configurationServiceImpl=new simpleServices_SimpleConfigurationService;StaticServices.configurationService=define(common_configuration.a,function(){return configurationServiceImpl}),StaticServices.resourceConfigurationService=define(ITextResourceConfigurationService,function(){return new simpleServices_SimpleResourceConfigurationService(configurationServiceImpl)}),StaticServices.resourcePropertiesService=define(ITextResourcePropertiesService,function(){return new simpleServices_SimpleResourcePropertiesService(configurationServiceImpl)}),StaticServices.contextService=define(workspace.a,function(){return new simpleServices_SimpleWorkspaceContextService}),StaticServices.labelService=define(common_label.a,function(){return new SimpleUriLabelService}),StaticServices.telemetryService=define(telemetry.a,function(){return new StandaloneTelemetryService}),StaticServices.dialogService=define(IDialogService,function(){return new SimpleDialogService}),StaticServices.notificationService=define(common_notification.a,function(){return new simpleServices_SimpleNotificationService}),StaticServices.markerService=define(common_markers.b,function(){return new markerService_MarkerService}),StaticServices.modeService=define(services_modeService.a,function(o){return new modeServiceImpl_ModeServiceImpl}),StaticServices.standaloneThemeService=define(common_standaloneThemeService.a,function(){return new standaloneThemeServiceImpl_StandaloneThemeServiceImpl}),StaticServices.modelService=define(services_modelService.a,function(o){return new modelServiceImpl_ModelServiceImpl(StaticServices.configurationService.get(o),StaticServices.resourcePropertiesService.get(o),StaticServices.standaloneThemeService.get(o))}),StaticServices.markerDecorationsService=define(markersDecorationService.a,function(o){return new markerDecorationsServiceImpl_MarkerDecorationsService(StaticServices.modelService.get(o),StaticServices.markerService.get(o))}),StaticServices.codeEditorService=define(services_codeEditorService.a,function(o){return new standaloneCodeServiceImpl_StandaloneCodeEditorServiceImpl(StaticServices.standaloneThemeService.get(o))}),StaticServices.editorProgressService=define(progress.a,function(){return new SimpleEditorProgressService}),StaticServices.storageService=define(storage.a,function(){return new storage.b}),StaticServices.logService=define(log.a,function(){return new log.b}),StaticServices.editorWorkerService=define(services_editorWorkerService.a,function(o){return new editorWorkerServiceImpl_EditorWorkerServiceImpl(StaticServices.modelService.get(o),StaticServices.resourceConfigurationService.get(o),StaticServices.logService.get(o))})})(standaloneServices_StaticServices||(standaloneServices_StaticServices={}));var standaloneServices_DynamicStandaloneServices=function(_super){standaloneServices_extends(DynamicStandaloneServices,_super);function DynamicStandaloneServices(domElement,overrides){var _this=_super.call(this)||this,_a=standaloneServices_StaticServices.init(overrides),_serviceCollection=_a[0],_instantiationService=_a[1];_this._serviceCollection=_serviceCollection,_this._instantiationService=_instantiationService;var configurationService=_this.get(common_configuration.a),notificationService=_this.get(common_notification.a),telemetryService=_this.get(telemetry.a),themeService=_this.get(common_themeService.c),ensure=function(serviceId,factory){var value=null;return overrides&&(value=overrides[serviceId.toString()]),value||(value=factory()),_this._serviceCollection.set(serviceId,value),value},contextKeyService=ensure(contextkey.c,function(){return _this._register(new contextKeyService_ContextKeyService(configurationService))});ensure(accessibility.b,function(){return new accessibilityService_BrowserAccessibilityService(contextKeyService,configurationService)}),ensure(listService.a,function(){return new listService.b(themeService)});var commandService=ensure(commands.b,function(){return new simpleServices_StandaloneCommandService(_this._instantiationService)}),keybindingService=ensure(common_keybinding.a,function(){return _this._register(new simpleServices_StandaloneKeybindingService(contextKeyService,commandService,telemetryService,notificationService,domElement))}),layoutService=ensure(ILayoutService,function(){return new simpleServices_SimpleLayoutService(domElement)}),contextViewService=ensure(contextView.b,function(){return _this._register(new contextViewService_ContextViewService(layoutService))});return ensure(contextView.a,function(){var contextMenuService=new contextMenuService_ContextMenuService(telemetryService,notificationService,contextViewService,keybindingService,themeService);return contextMenuService.configure({blockMouse:!1}),_this._register(contextMenuService)}),ensure(common_actions.a,function(){return new menuService_MenuService(commandService)}),ensure(bulkEditService.a,function(){return new simpleServices_SimpleBulkEditService(standaloneServices_StaticServices.modelService.get(services_modelService.a))}),_this}return DynamicStandaloneServices.prototype.get=function(serviceId){var r=this._serviceCollection.get(serviceId);if(!r)throw new Error("Missing service "+serviceId);return r},DynamicStandaloneServices.prototype.set=function(serviceId,instance){this._serviceCollection.set(serviceId,instance)},DynamicStandaloneServices.prototype.has=function(serviceId){return this._serviceCollection.has(serviceId)},DynamicStandaloneServices}(lifecycle.a),config_configuration=__webpack_require__(3175);function withAllStandaloneServices(domElement,override,callback){var services=new standaloneServices_DynamicStandaloneServices(domElement,override),simpleEditorModelResolverService=null;services.has(resolverService.a)||(simpleEditorModelResolverService=new simpleServices_SimpleEditorModelResolverService(standaloneServices_StaticServices.modelService.get()),services.set(resolverService.a,simpleEditorModelResolverService)),services.has(common_opener.a)||services.set(common_opener.a,new openerService_OpenerService(services.get(services_codeEditorService.a),services.get(commands.b)));var result=callback(services);return simpleEditorModelResolverService&&simpleEditorModelResolverService.setEditor(result),result}function standaloneEditor_create(domElement,options,override){return withAllStandaloneServices(domElement,override||{},function(services){return new standaloneCodeEditor_StandaloneEditor(domElement,options,services,services.get(instantiation.a),services.get(services_codeEditorService.a),services.get(commands.b),services.get(contextkey.c),services.get(common_keybinding.a),services.get(contextView.b),services.get(common_standaloneThemeService.a),services.get(common_notification.a),services.get(common_configuration.a),services.get(accessibility.b))})}function onDidCreateEditor(listener){return standaloneServices_StaticServices.codeEditorService.get().onCodeEditorAdd(function(editor){listener(editor)})}function createDiffEditor(domElement,options,override){return withAllStandaloneServices(domElement,override||{},function(services){return new standaloneCodeEditor_StandaloneDiffEditor(domElement,options,services,services.get(instantiation.a),services.get(contextkey.c),services.get(common_keybinding.a),services.get(contextView.b),services.get(services_editorWorkerService.a),services.get(services_codeEditorService.a),services.get(common_standaloneThemeService.a),services.get(common_notification.a),services.get(common_configuration.a),services.get(contextView.a),services.get(progress.a),null)})}function createDiffNavigator(diffEditor,opts){return new diffNavigator.a(diffEditor,opts)}function doCreateModel(value,languageSelection,uri){return standaloneServices_StaticServices.modelService.get().createModel(value,languageSelection,uri)}function createModel(value,language,uri){if(value=value||"",!language){var firstLF=value.indexOf(`
`),firstLine=value;return firstLF!==-1&&(firstLine=value.substring(0,firstLF)),doCreateModel(value,standaloneServices_StaticServices.modeService.get().createByFilepathOrFirstLine(uri||null,firstLine),uri)}return doCreateModel(value,standaloneServices_StaticServices.modeService.get().create(language),uri)}function setModelLanguage(model,languageId){standaloneServices_StaticServices.modelService.get().setMode(model,standaloneServices_StaticServices.modeService.get().create(languageId))}function setModelMarkers(model,owner,markers){model&&standaloneServices_StaticServices.markerService.get().changeOne(owner,model.uri,markers)}function getModelMarkers(filter){return standaloneServices_StaticServices.markerService.get().read(filter)}function getModel(uri){return standaloneServices_StaticServices.modelService.get().getModel(uri)}function getModels(){return standaloneServices_StaticServices.modelService.get().getModels()}function onDidCreateModel(listener){return standaloneServices_StaticServices.modelService.get().onModelAdded(listener)}function onWillDisposeModel(listener){return standaloneServices_StaticServices.modelService.get().onModelRemoved(listener)}function onDidChangeModelLanguage(listener){return standaloneServices_StaticServices.modelService.get().onModelModeChanged(function(e){listener({model:e.model,oldLanguage:e.oldModeId})})}function standaloneEditor_createWebWorker(opts){return createWebWorker(standaloneServices_StaticServices.modelService.get(),opts)}function colorizeElement(domNode,options){return colorizer_Colorizer.colorizeElement(standaloneServices_StaticServices.standaloneThemeService.get(),standaloneServices_StaticServices.modeService.get(),domNode,options)}function colorize(text,languageId,options){return colorizer_Colorizer.colorize(standaloneServices_StaticServices.modeService.get(),text,languageId,options)}function colorizeModelLine(model,lineNumber,tabSize){return tabSize===void 0&&(tabSize=4),colorizer_Colorizer.colorizeModelLine(model,lineNumber,tabSize)}function getSafeTokenizationSupport(language){var tokenizationSupport=modes.A.get(language);return tokenizationSupport||{getInitialState:function(){return nullMode.c},tokenize:function(line,state,deltaOffset){return Object(nullMode.d)(language,line,state,deltaOffset)}}}function tokenize(text,languageId){var modeService=standaloneServices_StaticServices.modeService.get();modeService.triggerMode(languageId);for(var tokenizationSupport=getSafeTokenizationSupport(languageId),lines=text.split(/\r\n|\r|\n/),result=[],state=tokenizationSupport.getInitialState(),i=0,len=lines.length;i<len;i++){var line=lines[i],tokenizationResult=tokenizationSupport.tokenize(line,state,0);result[i]=tokenizationResult.tokens,state=tokenizationResult.endState}return result}function defineTheme(themeName,themeData){standaloneServices_StaticServices.standaloneThemeService.get().defineTheme(themeName,themeData)}function setTheme(themeName){standaloneServices_StaticServices.standaloneThemeService.get().setTheme(themeName)}function remeasureFonts(){Object(config_configuration.b)()}function createMonacoEditorAPI(){return{create:standaloneEditor_create,onDidCreateEditor,createDiffEditor,createDiffNavigator,createModel,setModelLanguage,setModelMarkers,getModelMarkers,getModels,getModel,onDidCreateModel,onWillDisposeModel,onDidChangeModelLanguage,createWebWorker:standaloneEditor_createWebWorker,colorizeElement,colorize,colorizeModelLine,tokenize,defineTheme,setTheme,remeasureFonts,AccessibilitySupport,ContentWidgetPositionPreference,CursorChangeReason,DefaultEndOfLine,EditorAutoIndentStrategy,EditorOption,EndOfLinePreference,EndOfLineSequence,MinimapPosition,MouseTargetType,OverlayWidgetPositionPreference,OverviewRulerLane,RenderLineNumbersType,RenderMinimap,ScrollbarVisibility,ScrollType,TextEditorCursorBlinkingStyle,TextEditorCursorStyle,TrackedRangeStickiness,WrappingIndent,ConfigurationChangedEvent:editorOptions.a,BareFontInfo:fontInfo.a,FontInfo:fontInfo.b,TextModelResolvedOptions:common_model.e,FindMatch:common_model.b,EditorType:editorCommon.a,EditorOptions:editorOptions.e}}function isArrayOf(elemType,obj){if(!obj||!Array.isArray(obj))return!1;for(var _i=0,obj_1=obj;_i<obj_1.length;_i++){var el=obj_1[_i];if(!elemType(el))return!1}return!0}function bool(prop,defValue){return typeof prop=="boolean"?prop:defValue}function string(prop,defValue){return typeof prop=="string"?prop:defValue}function arrayToHash(array){for(var result={},_i=0,array_1=array;_i<array_1.length;_i++){var e=array_1[_i];result[e]=!0}return result}function createKeywordMatcher(arr,caseInsensitive){caseInsensitive===void 0&&(caseInsensitive=!1),caseInsensitive&&(arr=arr.map(function(x){return x.toLowerCase()}));var hash=arrayToHash(arr);return caseInsensitive?function(word){return hash[word.toLowerCase()]!==void 0&&hash.hasOwnProperty(word.toLowerCase())}:function(word){return hash[word]!==void 0&&hash.hasOwnProperty(word)}}function compileRegExp(lexer,str){for(var n=0;str.indexOf("@")>=0&&n<5;)n++,str=str.replace(/@(\w+)/g,function(s,attr){var sub="";if(typeof lexer[attr]=="string")sub=lexer[attr];else if(lexer[attr]&&lexer[attr]instanceof RegExp)sub=lexer[attr].source;else throw lexer[attr]===void 0?createError(lexer,"language definition does not contain attribute '"+attr+"', used at: "+str):createError(lexer,"attribute reference '"+attr+"' must be a string, used at: "+str);return empty(sub)?"":"(?:"+sub+")"});return new RegExp(str,lexer.ignoreCase?"i":"")}function selectScrutinee(id,matches,state,num){if(num<0)return id;if(num<matches.length)return matches[num];if(num>=100){num=num-100;var parts=state.split(".");if(parts.unshift(state),num<parts.length)return parts[num]}return null}function createGuard(lexer,ruleName,tkey,val){var scrut=-1,oppat=tkey,matches=tkey.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);matches&&(matches[3]&&(scrut=parseInt(matches[3]),matches[2]&&(scrut=scrut+100)),oppat=matches[4]);var op="~",pat=oppat;!oppat||oppat.length===0?(op="!=",pat=""):/^\w*$/.test(pat)?op="==":(matches=oppat.match(/^(@|!@|~|!~|==|!=)(.*)$/),matches&&(op=matches[1],pat=matches[2]));var tester;if((op==="~"||op==="!~")&&/^(\w|\|)*$/.test(pat)){var inWords_1=createKeywordMatcher(pat.split("|"),lexer.ignoreCase);tester=function(s){return op==="~"?inWords_1(s):!inWords_1(s)}}else if(op==="@"||op==="!@"){var words=lexer[pat];if(!words)throw createError(lexer,"the @ match target '"+pat+"' is not defined, in rule: "+ruleName);if(!isArrayOf(function(elem){return typeof elem=="string"},words))throw createError(lexer,"the @ match target '"+pat+"' must be an array of strings, in rule: "+ruleName);var inWords_2=createKeywordMatcher(words,lexer.ignoreCase);tester=function(s){return op==="@"?inWords_2(s):!inWords_2(s)}}else if(op==="~"||op==="!~")if(pat.indexOf("$")<0){var re_1=compileRegExp(lexer,"^"+pat+"$");tester=function(s){return op==="~"?re_1.test(s):!re_1.test(s)}}else tester=function(s,id,matches2,state){var re=compileRegExp(lexer,"^"+substituteMatches(lexer,pat,id,matches2,state)+"$");return re.test(s)};else if(pat.indexOf("$")<0){var patx_1=fixCase(lexer,pat);tester=function(s){return op==="=="?s===patx_1:s!==patx_1}}else{var patx_2=fixCase(lexer,pat);tester=function(s,id,matches2,state,eos){var patexp=substituteMatches(lexer,patx_2,id,matches2,state);return op==="=="?s===patexp:s!==patexp}}return scrut===-1?{name:tkey,value:val,test:function(id,matches2,state,eos){return tester(id,id,matches2,state,eos)}}:{name:tkey,value:val,test:function(id,matches2,state,eos){var scrutinee=selectScrutinee(id,matches2,state,scrut);return tester(scrutinee||"",id,matches2,state,eos)}}}function compileAction(lexer,ruleName,action){if(action){if(typeof action=="string")return action;if(action.token||action.token===""){if(typeof action.token!="string")throw createError(lexer,"a 'token' attribute must be of type string, in rule: "+ruleName);var newAction={token:action.token};if(action.token.indexOf("$")>=0&&(newAction.tokenSubst=!0),typeof action.bracket=="string")if(action.bracket==="@open")newAction.bracket=1;else if(action.bracket==="@close")newAction.bracket=-1;else throw createError(lexer,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+ruleName);if(action.next){if(typeof action.next!="string")throw createError(lexer,"the next state must be a string value in rule: "+ruleName);var next=action.next;if(!/^(@pop|@push|@popall)$/.test(next)&&(next[0]==="@"&&(next=next.substr(1)),next.indexOf("$")<0&&!stateExists(lexer,substituteMatches(lexer,next,"",[],""))))throw createError(lexer,"the next state '"+action.next+"' is not defined in rule: "+ruleName);newAction.next=next}return typeof action.goBack=="number"&&(newAction.goBack=action.goBack),typeof action.switchTo=="string"&&(newAction.switchTo=action.switchTo),typeof action.log=="string"&&(newAction.log=action.log),typeof action.nextEmbedded=="string"&&(newAction.nextEmbedded=action.nextEmbedded,lexer.usesEmbedded=!0),newAction}else if(Array.isArray(action)){for(var results=[],i=0,len=action.length;i<len;i++)results[i]=compileAction(lexer,ruleName,action[i]);return{group:results}}else if(action.cases){var cases_1=[];for(var tkey in action.cases)if(action.cases.hasOwnProperty(tkey)){var val=compileAction(lexer,ruleName,action.cases[tkey]);tkey==="@default"||tkey==="@"||tkey===""?cases_1.push({test:void 0,value:val,name:tkey}):tkey==="@eos"?cases_1.push({test:function(id,matches,state,eos){return eos},value:val,name:tkey}):cases_1.push(createGuard(lexer,ruleName,tkey,val))}var def_1=lexer.defaultToken;return{test:function(id,matches,state,eos){for(var _i=0,cases_2=cases_1;_i<cases_2.length;_i++){var _case=cases_2[_i],didmatch=!_case.test||_case.test(id,matches,state,eos);if(didmatch)return _case.value}return def_1}}}else throw createError(lexer,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+ruleName)}else return{token:""}}var monarchCompile_Rule=function(){function Rule(name){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=name}return Rule.prototype.setRegex=function(lexer,re){var sregex;if(typeof re=="string")sregex=re;else if(re instanceof RegExp)sregex=re.source;else throw createError(lexer,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=sregex.length>0&&sregex[0]==="^",this.name=this.name+": "+sregex,this.regex=compileRegExp(lexer,"^(?:"+(this.matchOnlyAtLineStart?sregex.substr(1):sregex)+")")},Rule.prototype.setAction=function(lexer,act){this.action=compileAction(lexer,this.name,act)},Rule}();function compile(languageId,json){if(!json||typeof json!="object")throw new Error("Monarch: expecting a language definition object");var lexer={};lexer.languageId=languageId,lexer.noThrow=!1,lexer.maxStack=100,lexer.start=typeof json.start=="string"?json.start:null,lexer.ignoreCase=bool(json.ignoreCase,!1),lexer.tokenPostfix=string(json.tokenPostfix,"."+lexer.languageId),lexer.defaultToken=string(json.defaultToken,"source"),lexer.usesEmbedded=!1;var lexerMin=json;lexerMin.languageId=languageId,lexerMin.ignoreCase=lexer.ignoreCase,lexerMin.noThrow=lexer.noThrow,lexerMin.usesEmbedded=lexer.usesEmbedded,lexerMin.stateNames=json.tokenizer,lexerMin.defaultToken=lexer.defaultToken;function addRules(state,newrules,rules2){for(var _i2=0,rules_1=rules2;_i2<rules_1.length;_i2++){var rule=rules_1[_i2],include=rule.include;if(include){if(typeof include!="string")throw createError(lexer,"an 'include' attribute must be a string at: "+state);if(include[0]==="@"&&(include=include.substr(1)),!json.tokenizer[include])throw createError(lexer,"include target '"+include+"' is not defined at: "+state);addRules(state+"."+include,newrules,json.tokenizer[include])}else{var newrule=new monarchCompile_Rule(state);if(Array.isArray(rule)&&rule.length>=1&&rule.length<=3)if(newrule.setRegex(lexerMin,rule[0]),rule.length>=3)if(typeof rule[1]=="string")newrule.setAction(lexerMin,{token:rule[1],next:rule[2]});else if(typeof rule[1]=="object"){var rule1=rule[1];rule1.next=rule[2],newrule.setAction(lexerMin,rule1)}else throw createError(lexer,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+state);else newrule.setAction(lexerMin,rule[1]);else{if(!rule.regex)throw createError(lexer,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+state);rule.name&&typeof rule.name=="string"&&(newrule.name=rule.name),rule.matchOnlyAtStart&&(newrule.matchOnlyAtLineStart=bool(rule.matchOnlyAtLineStart,!1)),newrule.setRegex(lexerMin,rule.regex),newrule.setAction(lexerMin,rule.action)}newrules.push(newrule)}}}if(!json.tokenizer||typeof json.tokenizer!="object")throw createError(lexer,"a language definition must define the 'tokenizer' attribute as an object");lexer.tokenizer=[];for(var key in json.tokenizer)if(json.tokenizer.hasOwnProperty(key)){lexer.start||(lexer.start=key);var rules=json.tokenizer[key];lexer.tokenizer[key]=new Array,addRules("tokenizer."+key,lexer.tokenizer[key],rules)}if(lexer.usesEmbedded=lexerMin.usesEmbedded,json.brackets){if(!Array.isArray(json.brackets))throw createError(lexer,"the 'brackets' attribute must be defined as an array")}else json.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];for(var brackets=[],_i=0,_a=json.brackets;_i<_a.length;_i++){var el=_a[_i],desc=el;if(desc&&Array.isArray(desc)&&desc.length===3&&(desc={token:desc[2],open:desc[0],close:desc[1]}),desc.open===desc.close)throw createError(lexer,"open and close brackets in a 'brackets' attribute must be different: "+desc.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof desc.open=="string"&&typeof desc.token=="string"&&typeof desc.close=="string")brackets.push({token:desc.token+lexer.tokenPostfix,open:fixCase(lexer,desc.open),close:fixCase(lexer,desc.close)});else throw createError(lexer,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return lexer.brackets=brackets,lexer.noThrow=!0,lexer}function register(language){modesRegistry.a.registerLanguage(language)}function getLanguages(){var result=[];return result=result.concat(modesRegistry.a.getLanguages()),result}function getEncodedLanguageId(languageId){var lid=standaloneServices_StaticServices.modeService.get().getLanguageIdentifier(languageId);return lid?lid.id:0}function onLanguage(languageId,callback){var disposable=standaloneServices_StaticServices.modeService.get().onDidCreateMode(function(mode){mode.getId()===languageId&&(disposable.dispose(),callback())});return disposable}function setLanguageConfiguration(languageId,configuration){var languageIdentifier=standaloneServices_StaticServices.modeService.get().getLanguageIdentifier(languageId);if(!languageIdentifier)throw new Error("Cannot set configuration for unknown language "+languageId);return languageConfigurationRegistry.a.register(languageIdentifier,configuration)}var standaloneLanguages_EncodedTokenizationSupport2Adapter=function(){function EncodedTokenizationSupport2Adapter(actual){this._actual=actual}return EncodedTokenizationSupport2Adapter.prototype.getInitialState=function(){return this._actual.getInitialState()},EncodedTokenizationSupport2Adapter.prototype.tokenize=function(line,state,offsetDelta){throw new Error("Not supported!")},EncodedTokenizationSupport2Adapter.prototype.tokenize2=function(line,state){var result=this._actual.tokenizeEncoded(line,state);return new core_token.c(result.tokens,result.endState)},EncodedTokenizationSupport2Adapter}(),standaloneLanguages_TokenizationSupport2Adapter=function(){function TokenizationSupport2Adapter(standaloneThemeService,languageIdentifier,actual){this._standaloneThemeService=standaloneThemeService,this._languageIdentifier=languageIdentifier,this._actual=actual}return TokenizationSupport2Adapter.prototype.getInitialState=function(){return this._actual.getInitialState()},TokenizationSupport2Adapter.prototype._toClassicTokens=function(tokens,language,offsetDelta){for(var result=[],previousStartIndex=0,i=0,len=tokens.length;i<len;i++){var t=tokens[i],startIndex=t.startIndex;i===0?startIndex=0:startIndex<previousStartIndex&&(startIndex=previousStartIndex),result[i]=new core_token.a(startIndex+offsetDelta,t.scopes,language),previousStartIndex=startIndex}return result},TokenizationSupport2Adapter.prototype.tokenize=function(line,state,offsetDelta){var actualResult=this._actual.tokenize(line,state),tokens=this._toClassicTokens(actualResult.tokens,this._languageIdentifier.language,offsetDelta),endState;return actualResult.endState.equals(state)?endState=state:endState=actualResult.endState,new core_token.b(tokens,endState)},TokenizationSupport2Adapter.prototype._toBinaryTokens=function(tokens,offsetDelta){for(var languageId=this._languageIdentifier.id,tokenTheme=this._standaloneThemeService.getTheme().tokenTheme,result=[],resultLen=0,previousStartIndex=0,i=0,len=tokens.length;i<len;i++){var t=tokens[i],metadata=tokenTheme.match(languageId,t.scopes);if(!(resultLen>0&&result[resultLen-1]===metadata)){var startIndex=t.startIndex;i===0?startIndex=0:startIndex<previousStartIndex&&(startIndex=previousStartIndex),result[resultLen++]=startIndex+offsetDelta,result[resultLen++]=metadata,previousStartIndex=startIndex}}for(var actualResult=new Uint32Array(resultLen),i=0;i<resultLen;i++)actualResult[i]=result[i];return actualResult},TokenizationSupport2Adapter.prototype.tokenize2=function(line,state,offsetDelta){var actualResult=this._actual.tokenize(line,state),tokens=this._toBinaryTokens(actualResult.tokens,offsetDelta),endState;return actualResult.endState.equals(state)?endState=state:endState=actualResult.endState,new core_token.c(tokens,endState)},TokenizationSupport2Adapter}();function isEncodedTokensProvider(provider){return"tokenizeEncoded"in provider}function isThenable(obj){return obj&&typeof obj.then=="function"}function setTokensProvider(languageId,provider){var languageIdentifier=standaloneServices_StaticServices.modeService.get().getLanguageIdentifier(languageId);if(!languageIdentifier)throw new Error("Cannot set tokens provider for unknown language "+languageId);var create=function(provider2){return isEncodedTokensProvider(provider2)?new standaloneLanguages_EncodedTokenizationSupport2Adapter(provider2):new standaloneLanguages_TokenizationSupport2Adapter(standaloneServices_StaticServices.standaloneThemeService.get(),languageIdentifier,provider2)};return isThenable(provider)?modes.A.registerPromise(languageId,provider.then(function(provider2){return create(provider2)})):modes.A.register(languageId,create(provider))}function setMonarchTokensProvider(languageId,languageDef){var create=function(languageDef2){return createTokenizationSupport(standaloneServices_StaticServices.modeService.get(),standaloneServices_StaticServices.standaloneThemeService.get(),languageId,compile(languageId,languageDef2))};return isThenable(languageDef)?modes.A.registerPromise(languageId,languageDef.then(function(languageDef2){return create(languageDef2)})):modes.A.register(languageId,create(languageDef))}function registerReferenceProvider(languageId,provider){return modes.s.register(languageId,provider)}function registerRenameProvider(languageId,provider){return modes.t.register(languageId,provider)}function registerSignatureHelpProvider(languageId,provider){return modes.w.register(languageId,provider)}function registerHoverProvider(languageId,provider){return modes.n.register(languageId,{provideHover:function(model,position,token){var word=model.getWordAtPosition(position);return Promise.resolve(provider.provideHover(model,position,token)).then(function(value){if(value)return!value.range&&word&&(value.range=new core_range.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn)),value.range||(value.range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column)),value})}})}function registerDocumentSymbolProvider(languageId,provider){return modes.k.register(languageId,provider)}function registerDocumentHighlightProvider(languageId,provider){return modes.i.register(languageId,provider)}function registerDefinitionProvider(languageId,provider){return modes.f.register(languageId,provider)}function registerImplementationProvider(languageId,provider){return modes.o.register(languageId,provider)}function registerTypeDefinitionProvider(languageId,provider){return modes.B.register(languageId,provider)}function registerCodeLensProvider(languageId,provider){return modes.b.register(languageId,provider)}function registerCodeActionProvider(languageId,provider){return modes.a.register(languageId,{provideCodeActions:function(model,range,context,token){var markers=standaloneServices_StaticServices.markerService.get().read({resource:model.uri}).filter(function(m){return core_range.a.areIntersectingOrTouching(m,range)});return provider.provideCodeActions(model,range,{markers,only:context.only},token)}})}function registerDocumentFormattingEditProvider(languageId,provider){return modes.g.register(languageId,provider)}function registerDocumentRangeFormattingEditProvider(languageId,provider){return modes.j.register(languageId,provider)}function registerOnTypeFormattingEditProvider(languageId,provider){return modes.r.register(languageId,provider)}function registerLinkProvider(languageId,provider){return modes.q.register(languageId,provider)}function registerCompletionItemProvider(languageId,provider){return modes.d.register(languageId,provider)}function registerColorProvider(languageId,provider){return modes.c.register(languageId,provider)}function registerFoldingRangeProvider(languageId,provider){return modes.m.register(languageId,provider)}function registerDeclarationProvider(languageId,provider){return modes.e.register(languageId,provider)}function registerSelectionRangeProvider(languageId,provider){return modes.u.register(languageId,provider)}function createMonacoLanguagesAPI(){return{register,getLanguages,onLanguage,getEncodedLanguageId,setLanguageConfiguration,setTokensProvider,setMonarchTokensProvider,registerReferenceProvider,registerRenameProvider,registerCompletionItemProvider,registerSignatureHelpProvider,registerHoverProvider,registerDocumentSymbolProvider,registerDocumentHighlightProvider,registerDefinitionProvider,registerImplementationProvider,registerTypeDefinitionProvider,registerCodeLensProvider,registerCodeActionProvider,registerDocumentFormattingEditProvider,registerDocumentRangeFormattingEditProvider,registerOnTypeFormattingEditProvider,registerLinkProvider,registerColorProvider,registerFoldingRangeProvider,registerDeclarationProvider,registerSelectionRangeProvider,DocumentHighlightKind,CompletionItemKind,CompletionItemTag,CompletionItemInsertTextRule,SymbolKind,SymbolTag,IndentAction,CompletionTriggerKind,SignatureHelpTriggerKind,FoldingRangeKind:modes.l}}var global=self;editorOptions.e.wrappingIndent.defaultValue=0,editorOptions.e.glyphMargin.defaultValue=!1,editorOptions.e.autoIndent.defaultValue=3,editorOptions.e.overviewRulerLanes.defaultValue=2;var api=createMonacoBaseAPI();api.editor=createMonacoEditorAPI(),api.languages=createMonacoLanguagesAPI();var CancellationTokenSource=api.CancellationTokenSource,Emitter=api.Emitter,editor_api_KeyCode=api.KeyCode,editor_api_KeyMod=api.KeyMod,Position=api.Position,Range=api.Range,Selection=api.Selection,editor_api_SelectionDirection=api.SelectionDirection,editor_api_MarkerSeverity=api.MarkerSeverity,editor_api_MarkerTag=api.MarkerTag,Uri=api.Uri,Token=api.Token,editor_api_editor=api.editor,languages=api.languages;global.monaco=api,typeof global.require<"u"&&typeof global.require.config=="function"&&global.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}}]);
